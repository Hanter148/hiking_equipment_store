var dx=Object.defineProperty,hx=Object.defineProperties;var fx=Object.getOwnPropertyDescriptors;var lw=Object.getOwnPropertySymbols;var px=Object.prototype.hasOwnProperty,gx=Object.prototype.propertyIsEnumerable;var dw=(t,e,n)=>e in t?dx(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,j=(t,e)=>{for(var n in e||={})px.call(e,n)&&dw(t,n,e[n]);if(lw)for(var n of lw(e))gx.call(e,n)&&dw(t,n,e[n]);return t},be=(t,e)=>hx(t,fx(e));var S=(t,e,n)=>new Promise((r,i)=>{var o=u=>{try{a(n.next(u))}catch(l){i(l)}},s=u=>{try{a(n.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((n=n.apply(t,e)).next())});var _f=null;var vf=1,wf=Symbol("SIGNAL");function Ae(t){let e=_f;return _f=t,e}function hw(){return _f}var Ef={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function mx(t){if(!(Tf(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===vf)){if(!t.producerMustRecompute(t)&&!Cf(t)){t.dirty=!1,t.lastCleanEpoch=vf;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=vf}}function If(t){return t&&(t.nextProducerIndex=0),Ae(t)}function fw(t,e){if(Ae(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Tf(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Df(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Cf(t){Sf(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(mx(n),r!==n.version))return!0}return!1}function bf(t){if(Sf(t),Tf(t))for(let e=0;e<t.producerNode.length;e++)Df(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Df(t,e){if(yx(t),t.liveConsumerNode.length===1&&vx(t))for(let r=0;r<t.producerNode.length;r++)Df(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Sf(i),i.producerIndexOfThis[r]=e}}function Tf(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Sf(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function yx(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function vx(t){return t.producerNode!==void 0}function _x(){throw new Error}var wx=_x;function pw(t){wx=t}function ce(t){return typeof t=="function"}function go(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var pu=go(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function vi(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var ze=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(ce(r))try{r()}catch(o){e=o instanceof pu?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{gw(o)}catch(s){e=e??[],s instanceof pu?e=[...e,...s.errors]:e.push(s)}}if(e)throw new pu(e)}}add(e){var n;if(e&&e!==this)if(this.closed)gw(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&vi(n,e)}remove(e){let{_finalizers:n}=this;n&&vi(n,e),e instanceof t&&e._removeParent(this)}};ze.EMPTY=(()=>{let t=new ze;return t.closed=!0,t})();var Af=ze.EMPTY;function gu(t){return t instanceof ze||t&&"closed"in t&&ce(t.remove)&&ce(t.add)&&ce(t.unsubscribe)}function gw(t){ce(t)?t():t.unsubscribe()}var ln={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var mo={setTimeout(t,e,...n){let{delegate:r}=mo;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=mo;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function mu(t){mo.setTimeout(()=>{let{onUnhandledError:e}=ln;if(e)e(t);else throw t})}function pa(){}var mw=Mf("C",void 0,void 0);function yw(t){return Mf("E",void 0,t)}function vw(t){return Mf("N",t,void 0)}function Mf(t,e,n){return{kind:t,value:e,error:n}}var _i=null;function yo(t){if(ln.useDeprecatedSynchronousErrorHandling){let e=!_i;if(e&&(_i={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=_i;if(_i=null,n)throw r}}else t()}function _w(t){ln.useDeprecatedSynchronousErrorHandling&&_i&&(_i.errorThrown=!0,_i.error=t)}var wi=class extends ze{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,gu(e)&&e.add(this)):this.destination=Cx}static create(e,n,r){return new vo(e,n,r)}next(e){this.isStopped?Rf(vw(e),this):this._next(e)}error(e){this.isStopped?Rf(yw(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Rf(mw,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Ex=Function.prototype.bind;function xf(t,e){return Ex.call(t,e)}var Pf=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){yu(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){yu(r)}else yu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){yu(n)}}},vo=class extends wi{constructor(e,n,r){super();let i;if(ce(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&ln.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&xf(e.next,o),error:e.error&&xf(e.error,o),complete:e.complete&&xf(e.complete,o)}):i=e}this.destination=new Pf(i)}};function yu(t){ln.useDeprecatedSynchronousErrorHandling?_w(t):mu(t)}function Ix(t){throw t}function Rf(t,e){let{onStoppedNotification:n}=ln;n&&mo.setTimeout(()=>n(t,e))}var Cx={closed:!0,next:pa,error:Ix,complete:pa};var _o=typeof Symbol=="function"&&Symbol.observable||"@@observable";function zt(t){return t}function vu(...t){return Nf(t)}function Nf(t){return t.length===0?zt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var ue=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=Dx(n)?n:new vo(n,r,i);return yo(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=ww(r),new r((i,o)=>{let s=new vo({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[_o](){return this}pipe(...n){return Nf(n)(this)}toPromise(n){return n=ww(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function ww(t){var e;return(e=t??ln.Promise)!==null&&e!==void 0?e:Promise}function bx(t){return t&&ce(t.next)&&ce(t.error)&&ce(t.complete)}function Dx(t){return t&&t instanceof wi||bx(t)&&gu(t)}function Of(t){return ce(t?.lift)}function we(t){return e=>{if(Of(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ye(t,e,n,r,i){return new kf(t,e,n,r,i)}var kf=class extends wi{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function wo(){return we((t,e)=>{let n=null;t._refCount++;let r=ye(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Eo=class extends ue{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Of(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ze;let n=this.getSubject();e.add(this.source.subscribe(ye(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ze.EMPTY)}return e}refCount(){return wo()(this)}};var Ew=go(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var at=(()=>{class t extends ue{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new _u(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Ew}next(n){yo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){yo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){yo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Af:(this.currentObservers=null,o.push(n),new ze(()=>{this.currentObservers=null,vi(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new ue;return n.source=this,n}}return t.create=(e,n)=>new _u(e,n),t})(),_u=class extends at{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Af}};var Je=class extends at{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Ff={now(){return(Ff.delegate||Date).now()},delegate:void 0};var wu=class extends ze{constructor(e,n){super()}schedule(e,n=0){return this}};var ga={setInterval(t,e,...n){let{delegate:r}=ga;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=ga;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Io=class extends wu{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return ga.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&ga.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,vi(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Co=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Co.now=Ff.now;var bo=class extends Co{constructor(e,n=Co.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Eu=new bo(Io),Vf=Eu;var Iu=class extends Io{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Cu=class extends bo{};var Lf=new Cu(Iu);var qt=new ue(t=>t.complete());function bu(t){return t&&ce(t.schedule)}function Iw(t){return t[t.length-1]}function Du(t){return ce(Iw(t))?t.pop():void 0}function Pr(t){return bu(Iw(t))?t.pop():void 0}function Uf(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function bw(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function Cw(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ei(t){return this instanceof Ei?(this.v=t,this):new Ei(t)}function Dw(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i={},a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(T){return Promise.resolve(T).then(y,p)}}function a(y,T){r[y]&&(i[y]=function(N){return new Promise(function(R,F){o.push([y,N,R,F])>1||u(y,N)})},T&&(i[y]=T(i[y])))}function u(y,T){try{l(r[y](T))}catch(N){m(o[0][3],N)}}function l(y){y.value instanceof Ei?Promise.resolve(y.value.v).then(h,p):m(o[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function m(y,T){y(T),o.shift(),o.length&&u(o[0][0],o[0][1])}}function Tw(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Cw=="function"?Cw(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var Tu=t=>t&&typeof t.length=="number"&&typeof t!="function";function Su(t){return ce(t?.then)}function Au(t){return ce(t[_o])}function Mu(t){return Symbol.asyncIterator&&ce(t?.[Symbol.asyncIterator])}function xu(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Tx(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Ru=Tx();function Pu(t){return ce(t?.[Ru])}function Nu(t){return Dw(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Ei(n.read());if(i)return yield Ei(void 0);yield yield Ei(r)}}finally{n.releaseLock()}})}function Ou(t){return ce(t?.getReader)}function Ze(t){if(t instanceof ue)return t;if(t!=null){if(Au(t))return Sx(t);if(Tu(t))return Ax(t);if(Su(t))return Mx(t);if(Mu(t))return Sw(t);if(Pu(t))return xx(t);if(Ou(t))return Rx(t)}throw xu(t)}function Sx(t){return new ue(e=>{let n=t[_o]();if(ce(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Ax(t){return new ue(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function Mx(t){return new ue(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,mu)})}function xx(t){return new ue(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Sw(t){return new ue(e=>{Px(t,e).catch(n=>e.error(n))})}function Rx(t){return Sw(Nu(t))}function Px(t,e){var n,r,i,o;return bw(this,void 0,void 0,function*(){try{for(n=Tw(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function Lt(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Nr(t,e=0){return we((n,r)=>{n.subscribe(ye(r,i=>Lt(r,t,()=>r.next(i),e),()=>Lt(r,t,()=>r.complete(),e),i=>Lt(r,t,()=>r.error(i),e)))})}function Or(t,e=0){return we((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Aw(t,e){return Ze(t).pipe(Or(e),Nr(e))}function Mw(t,e){return Ze(t).pipe(Or(e),Nr(e))}function xw(t,e){return new ue(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function Rw(t,e){return new ue(n=>{let r;return Lt(n,e,()=>{r=t[Ru](),Lt(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>ce(r?.return)&&r.return()})}function ku(t,e){if(!t)throw new Error("Iterable cannot be null");return new ue(n=>{Lt(n,e,()=>{let r=t[Symbol.asyncIterator]();Lt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Pw(t,e){return ku(Nu(t),e)}function Nw(t,e){if(t!=null){if(Au(t))return Aw(t,e);if(Tu(t))return xw(t,e);if(Su(t))return Mw(t,e);if(Mu(t))return ku(t,e);if(Pu(t))return Rw(t,e);if(Ou(t))return Pw(t,e)}throw xu(t)}function Oe(t,e){return e?Nw(t,e):Ze(t)}function G(...t){let e=Pr(t);return Oe(t,e)}function Do(t,e){let n=ce(t)?t:()=>t,r=i=>i.error(n());return new ue(e?i=>e.schedule(r,0,i):r)}function jf(t){return!!t&&(t instanceof ue||ce(t.lift)&&ce(t.subscribe))}var tr=go(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Ow(t){return t instanceof Date&&!isNaN(t)}function ie(t,e){return we((n,r)=>{let i=0;n.subscribe(ye(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:Nx}=Array;function Ox(t,e){return Nx(e)?t(...e):t(e)}function Fu(t){return ie(e=>Ox(t,e))}var{isArray:kx}=Array,{getPrototypeOf:Fx,prototype:Vx,keys:Lx}=Object;function Vu(t){if(t.length===1){let e=t[0];if(kx(e))return{args:e,keys:null};if(Ux(e)){let n=Lx(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function Ux(t){return t&&typeof t=="object"&&Fx(t)===Vx}function Lu(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function ma(...t){let e=Pr(t),n=Du(t),{args:r,keys:i}=Vu(t);if(r.length===0)return Oe([],e);let o=new ue(jx(r,e,i?s=>Lu(i,s):zt));return n?o.pipe(Fu(n)):o}function jx(t,e,n=zt){return r=>{kw(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)kw(e,()=>{let l=Oe(t[u],e),h=!1;l.subscribe(ye(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function kw(t,e,n){t?Lt(n,t,e):e()}function Fw(t,e,n,r,i,o,s,a){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},y=N=>l<r?T(N):u.push(N),T=N=>{o&&e.next(N),l++;let R=!1;Ze(n(N,h++)).subscribe(ye(e,F=>{i?.(F),o?y(F):e.next(F)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let F=u.shift();s?Lt(e,s,()=>T(F)):T(F)}m()}catch(F){e.error(F)}}))};return t.subscribe(ye(e,y,()=>{p=!0,m()})),()=>{a?.()}}function Xe(t,e,n=1/0){return ce(e)?Xe((r,i)=>ie((o,s)=>e(r,o,i,s))(Ze(t(r,i))),n):(typeof e=="number"&&(n=e),we((r,i)=>Fw(r,i,t,n)))}function kr(t=1/0){return Xe(zt,t)}function Vw(){return kr(1)}function To(...t){return Vw()(Oe(t,Pr(t)))}function Uu(t){return new ue(e=>{Ze(t()).subscribe(e)})}function Bf(...t){let e=Du(t),{args:n,keys:r}=Vu(t),i=new ue(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;Ze(n[h]).subscribe(ye(o,m=>{p||(p=!0,l--),a[h]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?Lu(r,a):a),o.complete())}))}});return e?i.pipe(Fu(e)):i}function $f(t=0,e,n=Vf){let r=-1;return e!=null&&(bu(e)?n=e:r=e),new ue(i=>{let o=Ow(t)?+t-n.now():t;o<0&&(o=0);let s=0;return n.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function Rt(t,e){return we((n,r)=>{let i=0;n.subscribe(ye(r,o=>t.call(e,o,i++)&&r.next(o)))})}function bn(t){return we((e,n)=>{let r=null,i=!1,o;r=e.subscribe(ye(n,void 0,void 0,s=>{o=Ze(t(s,bn(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function Lw(t,e,n,r,i){return(o,s)=>{let a=n,u=e,l=0;o.subscribe(ye(s,h=>{let p=l++;u=a?t(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function nr(t,e){return ce(e)?Xe(t,e,1):Xe(t,1)}function Fr(t){return we((e,n)=>{let r=!1;e.subscribe(ye(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function rr(t){return t<=0?()=>qt:we((e,n)=>{let r=0;e.subscribe(ye(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Hf(t){return ie(()=>t)}function ju(t=Bx){return we((e,n)=>{let r=!1;e.subscribe(ye(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function Bx(){return new tr}function Vr(t){return we((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Dn(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Rt((i,o)=>t(i,o,r)):zt,rr(1),n?Fr(e):ju(()=>new tr))}function So(t){return t<=0?()=>qt:we((e,n)=>{let r=[];e.subscribe(ye(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function zf(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Rt((i,o)=>t(i,o,r)):zt,So(1),n?Fr(e):ju(()=>new tr))}function Bu(t,e){return we(Lw(t,e,arguments.length>=2,!0))}function $u(...t){let e=Pr(t);return we((n,r)=>{(e?To(t,n,e):To(t,n)).subscribe(r)})}function Ut(t,e){return we((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(ye(r,u=>{i?.unsubscribe();let l=0,h=o++;Ze(t(u,h)).subscribe(i=ye(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function qf(t){return we((e,n)=>{Ze(t).subscribe(ye(n,()=>n.complete(),pa)),!n.closed&&e.subscribe(n)})}function et(t,e,n){let r=ce(t)||e||n?{next:t,error:e,complete:n}:t;return r?we((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(ye(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):zt}var bE="https://g.co/ng/security#xss",Q=class extends Error{constructor(e,n){super(Il(e,n)),this.code=e}};function Il(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Ta(t){return{toString:t}.toString()}var Hu="__parameters__";function $x(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function DE(t,e,n){return Ta(()=>{let r=$x(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(Hu)?u[Hu]:Object.defineProperty(u,Hu,{value:[]})[Hu];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var va=globalThis;function ke(t){for(let e in t)if(t[e]===ke)return e;throw Error("Could not find renamed property on target object.")}function Hx(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Nt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Nt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function Uw(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var zx=ke({__forward_ref__:ke});function Nn(t){return t.__forward_ref__=Nn,t.toString=function(){return Nt(this())},t}function Pt(t){return TE(t)?t():t}function TE(t){return typeof t=="function"&&t.hasOwnProperty(zx)&&t.__forward_ref__===Nn}function $(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function On(t){return{providers:t.providers||[],imports:t.imports||[]}}function Cl(t){return jw(t,AE)||jw(t,ME)}function SE(t){return Cl(t)!==null}function jw(t,e){return t.hasOwnProperty(e)?t[e]:null}function qx(t){let e=t&&(t[AE]||t[ME]);return e||null}function Bw(t){return t&&(t.hasOwnProperty($w)||t.hasOwnProperty(Gx))?t[$w]:null}var AE=ke({\u0275prov:ke}),$w=ke({\u0275inj:ke}),ME=ke({ngInjectableDef:ke}),Gx=ke({ngInjectorDef:ke}),H=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=$({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function xE(t){return t&&!!t.\u0275providers}var Wx=ke({\u0275cmp:ke}),Kx=ke({\u0275dir:ke}),Qx=ke({\u0275pipe:ke}),Yx=ke({\u0275mod:ke}),Xu=ke({\u0275fac:ke}),ya=ke({__NG_ELEMENT_ID__:ke}),Hw=ke({__NG_ENV_ID__:ke});function No(t){return typeof t=="string"?t:t==null?"":String(t)}function Jx(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():No(t)}function Zx(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new Q(-200,t)}function eg(t,e){throw new Q(-201,!1)}var me=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(me||{}),sp;function RE(){return sp}function jt(t){let e=sp;return sp=t,e}function PE(t,e,n){let r=Cl(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&me.Optional)return null;if(e!==void 0)return e;eg(t,"Injector")}var Xx={},_a=Xx,ap="__NG_DI_FLAG__",el="ngTempTokenPath",eR="ngTokenPath",tR=/\n/gm,nR="\u0275",zw="__source",Ro;function rR(){return Ro}function Lr(t){let e=Ro;return Ro=t,e}function iR(t,e=me.Default){if(Ro===void 0)throw new Q(-203,!1);return Ro===null?PE(t,void 0,e):Ro.get(t,e&me.Optional?null:void 0,e)}function Y(t,e=me.Default){return(RE()||iR)(Pt(t),e)}function k(t,e=me.Default){return Y(t,bl(e))}function bl(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function cp(t){let e=[];for(let n=0;n<t.length;n++){let r=Pt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new Q(900,!1);let i,o=me.Default;for(let s=0;s<r.length;s++){let a=r[s],u=oR(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(Y(i,o))}else e.push(Y(r))}return e}function NE(t,e){return t[ap]=e,t.prototype[ap]=e,t}function oR(t){return t[ap]}function sR(t,e,n,r){let i=t[el];throw e[zw]&&i.unshift(e[zw]),t.message=aR(`
`+t.message,i,n,r),t[eR]=i,t[el]=null,t}function aR(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==nR?t.slice(2):t;let i=Nt(e);if(Array.isArray(e))i=e.map(Nt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Nt(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(tR,`
  `)}`}var Ot=NE(DE("Optional"),8);var tg=NE(DE("SkipSelf"),4);function bi(t,e){let n=t.hasOwnProperty(Xu);return n?t[Xu]:null}function cR(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function uR(t){return t.flat(Number.POSITIVE_INFINITY)}function ng(t,e){t.forEach(n=>Array.isArray(n)?ng(n,e):e(n))}function OE(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function tl(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function lR(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function dR(t,e,n){let r=Sa(t,e);return r>=0?t[r|1]=n:(r=~r,lR(t,r,e,n)),r}function Gf(t,e){let n=Sa(t,e);if(n>=0)return t[n|1]}function Sa(t,e){return hR(t,e,1)}function hR(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var Oo={},en=[],ko=new H(""),kE=new H("",-1),FE=new H(""),nl=class{get(e,n=_a){if(n===_a){let r=new Error(`NullInjectorError: No provider for ${Nt(e)}!`);throw r.name="NullInjectorError",r}return n}},VE=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(VE||{}),An=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(An||{}),Fo=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Fo||{});function fR(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function up(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];pR(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function LE(t){return t===3||t===4||t===6}function pR(t){return t.charCodeAt(0)===64}function wa(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?qw(t,n,i,null,e[++r]):qw(t,n,i,null,null))}}return t}function qw(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var UE="ng-template";function gR(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&fR(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(rg(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function rg(t){return t.type===4&&t.value!==UE}function mR(t,e,n){let r=t.type===4&&!n?UE:t.value;return e===r}function yR(t,e,n){let r=4,i=t.attrs,o=i!==null?wR(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!dn(r)&&!dn(u))return!1;if(s&&dn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!mR(t,u,n)||u===""&&e.length===1){if(dn(r))return!1;s=!0}}else if(r&8){if(i===null||!gR(t,i,u,n)){if(dn(r))return!1;s=!0}}else{let l=e[++a],h=vR(u,i,rg(t),n);if(h===-1){if(dn(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(dn(r))return!1;s=!0}}}}return dn(r)||s}function dn(t){return(t&1)===0}function vR(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return ER(e,t)}function _R(t,e,n=!1){for(let r=0;r<e.length;r++)if(yR(t,e[r],n))return!0;return!1}function wR(t){for(let e=0;e<t.length;e++){let n=t[e];if(LE(n))return e}return t.length}function ER(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function Gw(t,e){return t?":not("+e.trim()+")":e}function IR(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!dn(s)&&(e+=Gw(o,i),i=""),r=s,o=o||!dn(r);n++}return i!==""&&(e+=Gw(o,i)),e}function CR(t){return t.map(IR).join(",")}function bR(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!dn(i))break;i=o}r++}return{attrs:e,classes:n}}function Ge(t){return Ta(()=>{let e=qE(t),n=be(j({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===VE.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||An.Emulated,styles:t.styles||en,_:null,schemas:t.schemas||null,tView:null,id:""});GE(n);let r=t.dependencies;return n.directiveDefs=Kw(r,!1),n.pipeDefs=Kw(r,!0),n.id=SR(n),n})}function DR(t){return $r(t)||BE(t)}function TR(t){return t!==null}function kn(t){return Ta(()=>({type:t.type,bootstrap:t.bootstrap||en,declarations:t.declarations||en,imports:t.imports||en,exports:t.exports||en,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Ww(t,e){if(t==null)return Oo;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=Fo.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==Fo.None?[r,a]:r,e[o]=s):n[o]=r}return n}function Le(t){return Ta(()=>{let e=qE(t);return GE(e),e})}function jE(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function $r(t){return t[Wx]||null}function BE(t){return t[Kx]||null}function $E(t){return t[Qx]||null}function HE(t){let e=$r(t)||BE(t)||$E(t);return e!==null?e.standalone:!1}function zE(t,e){let n=t[Yx]||null;if(!n&&e===!0)throw new Error(`Type ${Nt(t)} does not have '\u0275mod' property.`);return n}function qE(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Oo,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||en,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Ww(t.inputs,e),outputs:Ww(t.outputs),debugInfo:null}}function GE(t){t.features?.forEach(e=>e(t))}function Kw(t,e){if(!t)return null;let n=e?$E:DR;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(TR)}function SR(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function gn(t){return{\u0275providers:t}}function AR(...t){return{\u0275providers:WE(!0,t),\u0275fromNgModule:!0}}function WE(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return ng(e,s=>{let a=s;lp(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&KE(i,o),n}function KE(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];ig(i,o=>{e(o,r)})}}function lp(t,e,n,r){if(t=Pt(t),!t)return!1;let i=null,o=Bw(t),s=!o&&$r(t);if(!o&&!s){let u=t.ngModule;if(o=Bw(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)lp(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{ng(o.imports,h=>{lp(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&KE(l,e)}if(!a){let l=bi(i)||(()=>new i);e({provide:i,useFactory:l,deps:en},i),e({provide:FE,useValue:i,multi:!0},i),e({provide:ko,useValue:()=>Y(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=t;ig(u,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function ig(t,e){for(let n of t)xE(n)&&(n=n.\u0275providers),Array.isArray(n)?ig(n,e):e(n)}var MR=ke({provide:String,useValue:ke});function QE(t){return t!==null&&typeof t=="object"&&MR in t}function xR(t){return!!(t&&t.useExisting)}function RR(t){return!!(t&&t.useFactory)}function Vo(t){return typeof t=="function"}function PR(t){return!!t.useClass}var Dl=new H(""),Wu={},NR={},Wf;function og(){return Wf===void 0&&(Wf=new nl),Wf}var It=class{},Ea=class extends It{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,hp(e,s=>this.processProvider(s)),this.records.set(kE,Ao(void 0,this)),i.has("environment")&&this.records.set(It,Ao(void 0,this));let o=this.records.get(Dl);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(FE,en,me.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Ae(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ae(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Lr(this),r=jt(void 0),i;try{return e()}finally{Lr(n),jt(r)}}get(e,n=_a,r=me.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Hw))return e[Hw](this);r=bl(r);let i,o=Lr(this),s=jt(void 0);try{if(!(r&me.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=LR(e)&&Cl(e);l&&this.injectableDefInScope(l)?u=Ao(dp(e),Wu):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&me.Self?og():this.parent;return n=r&me.Optional&&n===_a?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[el]=a[el]||[]).unshift(Nt(e)),o)throw a;return sR(a,e,"R3InjectorError",this.source)}else throw a}finally{jt(s),Lr(o)}}resolveInjectorInitializers(){let e=Ae(null),n=Lr(this),r=jt(void 0),i;try{let o=this.get(ko,en,me.Self);for(let s of o)s()}finally{Lr(n),jt(r),Ae(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Nt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Q(205,!1)}processProvider(e){e=Pt(e);let n=Vo(e)?e:Pt(e&&e.provide),r=kR(e);if(!Vo(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Ao(void 0,Wu,!0),i.factory=()=>cp(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=Ae(null);try{return n.value===Wu&&(n.value=NR,n.value=n.factory()),typeof n.value=="object"&&n.value&&VR(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Ae(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Pt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function dp(t){let e=Cl(t),n=e!==null?e.factory:bi(t);if(n!==null)return n;if(t instanceof H)throw new Q(204,!1);if(t instanceof Function)return OR(t);throw new Q(204,!1)}function OR(t){if(t.length>0)throw new Q(204,!1);let n=qx(t);return n!==null?()=>n.factory(t):()=>new t}function kR(t){if(QE(t))return Ao(void 0,t.useValue);{let e=YE(t);return Ao(e,Wu)}}function YE(t,e,n){let r;if(Vo(t)){let i=Pt(t);return bi(i)||dp(i)}else if(QE(t))r=()=>Pt(t.useValue);else if(RR(t))r=()=>t.useFactory(...cp(t.deps||[]));else if(xR(t))r=()=>Y(Pt(t.useExisting));else{let i=Pt(t&&(t.useClass||t.provide));if(FR(t))r=()=>new i(...cp(t.deps));else return bi(i)||dp(i)}return r}function Ao(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function FR(t){return!!t.deps}function VR(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function LR(t){return typeof t=="function"||typeof t=="object"&&t instanceof H}function hp(t,e){for(let n of t)Array.isArray(n)?hp(n,e):n&&xE(n)?hp(n.\u0275providers,e):e(n)}function Wt(t,e){t instanceof Ea&&t.assertNotDestroyed();let n,r=Lr(t),i=jt(void 0);try{return e()}finally{Lr(r),jt(i)}}function JE(){return RE()!==void 0||rR()!=null}function UR(t){if(!JE())throw new Q(-203,!1)}function jR(t){return typeof t=="function"}var cr=0,he=1,se=2,Ct=3,hn=4,mn=5,rl=6,il=7,fn=8,Lo=9,Mn=10,tt=11,Ia=12,Qw=13,qo=14,xn=15,Di=16,Mo=17,ir=18,Tl=19,ZE=20,jr=21,Kf=22,tn=23,pn=25,XE=1;var Ti=7,ol=8,Uo=9,Gt=10,sl=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(sl||{});function Br(t){return Array.isArray(t)&&typeof t[XE]=="object"}function ur(t){return Array.isArray(t)&&t[XE]===!0}function eI(t){return(t.flags&4)!==0}function Sl(t){return t.componentOffset>-1}function sg(t){return(t.flags&1)===1}function Hr(t){return!!t.template}function fp(t){return(t[se]&512)!==0}var pp=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function tI(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function lr(){return nI}function nI(t){return t.type.prototype.ngOnChanges&&(t.setInput=$R),BR}lr.ngInherit=!0;function BR(){let t=iI(this),e=t?.current;if(e){let n=t.previous;if(n===Oo)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function $R(t,e,n,r,i){let o=this.declaredInputs[r],s=iI(t)||HR(t,{previous:Oo,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new pp(l&&l.currentValue,n,u===Oo),tI(t,e,i,n)}var rI="__ngSimpleChanges__";function iI(t){return t[rI]||null}function HR(t,e){return t[rI]=e}var Yw=null;var Tn=function(t,e,n){Yw?.(t,e,n)},zR="svg",qR="math";function Rn(t){for(;Array.isArray(t);)t=t[cr];return t}function oI(t,e){return Rn(e[t])}function nn(t,e){return Rn(e[t.index])}function sI(t,e){return t.data[e]}function aI(t,e){return t[e]}function qr(t,e){let n=e[t];return Br(n)?n:n[cr]}function GR(t){return(t[se]&4)===4}function ag(t){return(t[se]&128)===128}function WR(t){return ur(t[Ct])}function al(t,e){return e==null?null:t[e]}function cI(t){t[Mo]=0}function uI(t){t[se]&1024||(t[se]|=1024,ag(t)&&Al(t))}function KR(t,e){for(;t>0;)e=e[qo],t--;return e}function Ca(t){return!!(t[se]&9216||t[tn]?.dirty)}function gp(t){t[Mn].changeDetectionScheduler?.notify(7),t[se]&64&&(t[se]|=1024),Ca(t)&&Al(t)}function Al(t){t[Mn].changeDetectionScheduler?.notify(0);let e=Si(t);for(;e!==null&&!(e[se]&8192||(e[se]|=8192,!ag(e)));)e=Si(e)}function lI(t,e){if((t[se]&256)===256)throw new Q(911,!1);t[jr]===null&&(t[jr]=[]),t[jr].push(e)}function QR(t,e){if(t[jr]===null)return;let n=t[jr].indexOf(e);n!==-1&&t[jr].splice(n,1)}function Si(t){let e=t[Ct];return ur(e)?e[Ct]:e}var ge={lFrame:EI(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var dI=!1;function YR(){return ge.lFrame.elementDepthCount}function JR(){ge.lFrame.elementDepthCount++}function ZR(){ge.lFrame.elementDepthCount--}function hI(){return ge.bindingsEnabled}function XR(){return ge.skipHydrationRootTNode!==null}function eP(t){return ge.skipHydrationRootTNode===t}function tP(){ge.skipHydrationRootTNode=null}function Ee(){return ge.lFrame.lView}function ct(){return ge.lFrame.tView}function ee(t){return ge.lFrame.contextLView=t,t[fn]}function te(t){return ge.lFrame.contextLView=null,t}function bt(){let t=fI();for(;t!==null&&t.type===64;)t=t.parent;return t}function fI(){return ge.lFrame.currentTNode}function nP(){let t=ge.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Aa(t,e){let n=ge.lFrame;n.currentTNode=t,n.isParent=e}function pI(){return ge.lFrame.isParent}function rP(){ge.lFrame.isParent=!1}function iP(){return ge.lFrame.contextLView}function gI(){return dI}function Jw(t){dI=t}function mI(){let t=ge.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function oP(){return ge.lFrame.bindingIndex}function sP(t){return ge.lFrame.bindingIndex=t}function Ml(){return ge.lFrame.bindingIndex++}function yI(t){let e=ge.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function aP(){return ge.lFrame.inI18n}function cP(t,e){let n=ge.lFrame;n.bindingIndex=n.bindingRootIndex=t,mp(e)}function uP(){return ge.lFrame.currentDirectiveIndex}function mp(t){ge.lFrame.currentDirectiveIndex=t}function lP(t){let e=ge.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function vI(){return ge.lFrame.currentQueryIndex}function cg(t){ge.lFrame.currentQueryIndex=t}function dP(t){let e=t[he];return e.type===2?e.declTNode:e.type===1?t[mn]:null}function _I(t,e,n){if(n&me.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&me.Host);)if(i=dP(o),i===null||(o=o[qo],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=ge.lFrame=wI();return r.currentTNode=e,r.lView=t,!0}function ug(t){let e=wI(),n=t[he];ge.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function wI(){let t=ge.lFrame,e=t===null?null:t.child;return e===null?EI(t):e}function EI(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function II(){let t=ge.lFrame;return ge.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var CI=II;function lg(){let t=II();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function hP(t){return(ge.lFrame.contextLView=KR(t,ge.lFrame.contextLView))[fn]}function ki(){return ge.lFrame.selectedIndex}function Ai(t){ge.lFrame.selectedIndex=t}function xl(){let t=ge.lFrame;return sI(t.tView,t.selectedIndex)}function fP(){return ge.lFrame.currentNamespace}var bI=!0;function dg(){return bI}function hg(t){bI=t}function pP(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=nI(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function fg(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function Ku(t,e,n){DI(t,e,3,n)}function Qu(t,e,n,r){(t[se]&3)===n&&DI(t,e,n,r)}function Qf(t,e){let n=t[se];(n&3)===e&&(n&=16383,n+=1,t[se]=n)}function DI(t,e,n,r){let i=r!==void 0?t[Mo]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[Mo]+=65536),(a<o||o==-1)&&(gP(t,n,e,u),t[Mo]=(t[Mo]&4294901760)+u+2),u++}function Zw(t,e){Tn(4,t,e);let n=Ae(null);try{e.call(t)}finally{Ae(n),Tn(5,t,e)}}function gP(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[se]>>14<t[Mo]>>16&&(t[se]&3)===e&&(t[se]+=16384,Zw(a,o)):Zw(a,o)}var Po=-1,Mi=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function mP(t){return t instanceof Mi}function yP(t){return(t.flags&8)!==0}function vP(t){return(t.flags&16)!==0}var Yf={},yp=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=bl(r);let i=this.injector.get(e,Yf,r);return i!==Yf||n===Yf?i:this.parentInjector.get(e,n,r)}};function TI(t){return t!==Po}function cl(t){return t&32767}function _P(t){return t>>16}function ul(t,e){let n=_P(t),r=e;for(;n>0;)r=r[qo],n--;return r}var vp=!0;function ll(t){let e=vp;return vp=t,e}var wP=256,SI=wP-1,AI=5,EP=0,Sn={};function IP(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(ya)&&(r=n[ya]),r==null&&(r=n[ya]=EP++);let i=r&SI,o=1<<i;e.data[t+(i>>AI)]|=o}function dl(t,e){let n=MI(t,e);if(n!==-1)return n;let r=e[he];r.firstCreatePass&&(t.injectorIndex=e.length,Jf(r.data,t),Jf(e,null),Jf(r.blueprint,null));let i=pg(t,e),o=t.injectorIndex;if(TI(i)){let s=cl(i),a=ul(i,e),u=a[he].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function Jf(t,e){t.push(0,0,0,0,0,0,0,0,e)}function MI(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function pg(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=OI(i),r===null)return Po;if(n++,i=i[qo],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Po}function _p(t,e,n){IP(t,e,n)}function CP(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(LE(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function xI(t,e,n){if(n&me.Optional||t!==void 0)return t;eg(e,"NodeInjector")}function RI(t,e,n,r){if(n&me.Optional&&r===void 0&&(r=null),!(n&(me.Self|me.Host))){let i=t[Lo],o=jt(void 0);try{return i?i.get(e,r,n&me.Optional):PE(e,r,n&me.Optional)}finally{jt(o)}}return xI(r,e,n)}function PI(t,e,n,r=me.Default,i){if(t!==null){if(e[se]&2048&&!(r&me.Self)){let s=SP(t,e,n,r,Sn);if(s!==Sn)return s}let o=NI(t,e,n,r,Sn);if(o!==Sn)return o}return RI(e,n,r,i)}function NI(t,e,n,r,i){let o=DP(n);if(typeof o=="function"){if(!_I(e,t,r))return r&me.Host?xI(i,n,r):RI(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&me.Optional))eg(n);else return s}finally{CI()}}else if(typeof o=="number"){let s=null,a=MI(t,e),u=Po,l=r&me.Host?e[xn][mn]:null;for((a===-1||r&me.SkipSelf)&&(u=a===-1?pg(t,e):e[a+8],u===Po||!eE(r,!1)?a=-1:(s=e[he],a=cl(u),e=ul(u,e)));a!==-1;){let h=e[he];if(Xw(o,a,h.data)){let p=bP(a,e,n,s,r,l);if(p!==Sn)return p}u=e[a+8],u!==Po&&eE(r,e[he].data[a+8]===l)&&Xw(o,a,e)?(s=h,a=cl(u),e=ul(u,e)):a=-1}}return i}function bP(t,e,n,r,i,o){let s=e[he],a=s.data[t+8],u=r==null?Sl(a)&&vp:r!=s&&(a.type&3)!==0,l=i&me.Host&&o===a,h=Yu(a,s,n,u,l);return h!==null?xi(e,s,h,a):Sn}function Yu(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,u=t.directiveStart,l=t.directiveEnd,h=o>>20,p=r?a:a+h,m=i?a+h:l;for(let y=p;y<m;y++){let T=s[y];if(y<u&&n===T||y>=u&&T.type===n)return y}if(i){let y=s[u];if(y&&Hr(y)&&y.type===n)return u}return null}function xi(t,e,n,r){let i=t[n],o=e.data;if(mP(i)){let s=i;s.resolving&&Zx(Jx(o[n]));let a=ll(s.canSeeViewProviders);s.resolving=!0;let u,l=s.injectImpl?jt(s.injectImpl):null,h=_I(t,r,me.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&pP(n,o[n],e)}finally{l!==null&&jt(l),ll(a),s.resolving=!1,CI()}}return i}function DP(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(ya)?t[ya]:void 0;return typeof e=="number"?e>=0?e&SI:TP:e}function Xw(t,e,n){let r=1<<t;return!!(n[e+(t>>AI)]&r)}function eE(t,e){return!(t&me.Self)&&!(t&me.Host&&e)}var Ci=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return PI(this._tNode,this._lView,e,bl(r),n)}};function TP(){return new Ci(bt(),Ee())}function dr(t){return Ta(()=>{let e=t.prototype.constructor,n=e[Xu]||wp(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Xu]||wp(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function wp(t){return TE(t)?()=>{let e=wp(Pt(t));return e&&e()}:bi(t)}function SP(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[se]&2048&&!(s[se]&512);){let a=NI(o,s,n,r|me.Self,Sn);if(a!==Sn)return a;let u=o.parent;if(!u){let l=s[ZE];if(l){let h=l.get(n,Sn,r);if(h!==Sn)return h}u=OI(s),s=s[qo]}o=u}return i}function OI(t){let e=t[he],n=e.type;return n===2?e.declTNode:n===1?t[mn]:null}function gg(t){return CP(bt(),t)}function tE(t,e=null,n=null,r){let i=kI(t,e,n,r);return i.resolveInjectorInitializers(),i}function kI(t,e=null,n=null,r,i=new Set){let o=[n||en,AR(t)];return r=r||(typeof t=="object"?void 0:Nt(t)),new Ea(o,e||og(),r||null,i)}var Ii=class Ii{static create(e,n){if(Array.isArray(e))return tE({name:""},n,e,"");{let r=e.name??"";return tE({name:r},e.parent,e.providers,r)}}};Ii.THROW_IF_NOT_FOUND=_a,Ii.NULL=new nl,Ii.\u0275prov=$({token:Ii,providedIn:"any",factory:()=>Y(kE)}),Ii.__NG_ELEMENT_ID__=-1;var ft=Ii;var AP=new H("");AP.__NG_ELEMENT_ID__=t=>{let e=bt();if(e===null)throw new Q(204,!1);if(e.type&2)return e.value;if(t&me.Optional)return null;throw new Q(204,!1)};var MP="ngOriginalError";function Zf(t){return t[MP]}var Pn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Zf(e);for(;n&&Zf(n);)n=Zf(n);return n||null}},FI=new H("",{providedIn:"root",factory:()=>k(Pn).handleError.bind(void 0)}),mg=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=xP,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),Ep=class extends mg{constructor(e){super(),this._lView=e}onDestroy(e){return lI(this._lView,e),()=>QR(this._lView,e)}};function xP(){return new Ep(Ee())}function RP(){return Go(bt(),Ee())}function Go(t,e){return new kt(nn(t,e))}var kt=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=RP;let t=e;return t})();function PP(t){return t instanceof kt?t.nativeElement:t}var hr=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Je(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275prov=$({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();var Ip=class extends at{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,JE()&&(this.destroyRef=k(mg,{optional:!0})??void 0,this.pendingTasks=k(hr,{optional:!0})??void 0)}emit(e){let n=Ae(null);try{super.next(e)}finally{Ae(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof ze&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},qe=Ip;function NP(){return this._results[Symbol.iterator]()}var Cp=class t{get changes(){return this._changes??=new qe}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=NP)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=uR(e);(this._changesDetected=!cR(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function VI(t){return(t.flags&128)===128}var LI=new Map,OP=0;function kP(){return OP++}function FP(t){LI.set(t[Tl],t)}function VP(t){LI.delete(t[Tl])}var nE="__ngContext__";function Ri(t,e){Br(e)?(t[nE]=e[Tl],FP(e)):t[nE]=e}function UI(t){return BI(t[Ia])}function jI(t){return BI(t[hn])}function BI(t){for(;t!==null&&!ur(t);)t=t[hn];return t}var bp;function $I(t){bp=t}function LP(){if(bp!==void 0)return bp;if(typeof document<"u")return document;throw new Q(210,!1)}var yg=new H("",{providedIn:"root",factory:()=>UP}),UP="ng",vg=new H(""),pt=new H("",{providedIn:"platform",factory:()=>"unknown"});var _g=new H("",{providedIn:"root",factory:()=>LP().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var jP="h",BP="b";var $P=()=>null;function wg(t,e,n=!1){return $P(t,e,n)}var HI=!1,HP=new H("",{providedIn:"root",factory:()=>HI});var zu;function zP(){if(zu===void 0&&(zu=null,va.trustedTypes))try{zu=va.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return zu}function rE(t){return zP()?.createScriptURL(t)||t}var hl=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${bE})`}};function Ma(t){return t instanceof hl?t.changingThisBreaksApplicationSecurity:t}function Eg(t,e){let n=qP(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${bE})`)}return n===e}function qP(t){return t instanceof hl&&t.getTypeName()||null}var GP=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function zI(t){return t=String(t),t.match(GP)?t:"unsafe:"+t}var Rl=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Rl||{});function Fn(t){let e=GI();return e?e.sanitize(Rl.URL,t)||"":Eg(t,"URL")?Ma(t):zI(No(t))}function WP(t){let e=GI();if(e)return rE(e.sanitize(Rl.RESOURCE_URL,t)||"");if(Eg(t,"ResourceURL"))return rE(Ma(t));throw new Q(904,!1)}function KP(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?WP:Fn}function qI(t,e,n){return KP(e,n)(t)}function GI(){let t=Ee();return t&&t[Mn].sanitizer}function WI(t){return t instanceof Function?t():t}function QP(t){return(t??k(ft)).get(pt)==="browser"}var or=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(or||{}),YP;function Ig(t,e){return YP(t,e)}function xo(t,e,n,r,i){if(r!=null){let o,s=!1;ur(r)?o=r:Br(r)&&(s=!0,r=r[cr]);let a=Rn(r);t===0&&n!==null?i==null?ZI(e,n,a):fl(e,n,a,i||null,!0):t===1&&n!==null?fl(e,n,a,i||null,!0):t===2?hN(e,a,s):t===3&&e.destroyNode(a),o!=null&&pN(e,t,o,n,i)}}function JP(t,e){return t.createText(e)}function ZP(t,e,n){t.setValue(e,n)}function KI(t,e,n){return t.createElement(e,n)}function XP(t,e){QI(t,e),e[cr]=null,e[mn]=null}function eN(t,e,n,r,i,o){r[cr]=i,r[mn]=e,Pl(t,r,n,1,i,o)}function QI(t,e){e[Mn].changeDetectionScheduler?.notify(8),Pl(t,e,e[tt],2,null,null)}function tN(t){let e=t[Ia];if(!e)return Xf(t[he],t);for(;e;){let n=null;if(Br(e))n=e[Ia];else{let r=e[Gt];r&&(n=r)}if(!n){for(;e&&!e[hn]&&e!==t;)Br(e)&&Xf(e[he],e),e=e[Ct];e===null&&(e=t),Br(e)&&Xf(e[he],e),n=e&&e[hn]}e=n}}function nN(t,e,n,r){let i=Gt+r,o=n.length;r>0&&(n[i-1][hn]=e),r<o-Gt?(e[hn]=n[i],OE(n,Gt+r,e)):(n.push(e),e[hn]=null),e[Ct]=n;let s=e[Di];s!==null&&n!==s&&YI(s,e);let a=e[ir];a!==null&&a.insertView(t),gp(e),e[se]|=128}function YI(t,e){let n=t[Uo],r=e[Ct];if(Br(r))t[se]|=sl.HasTransplantedViews;else{let i=r[Ct][xn];e[xn]!==i&&(t[se]|=sl.HasTransplantedViews)}n===null?t[Uo]=[e]:n.push(e)}function Cg(t,e){let n=t[Uo],r=n.indexOf(e);n.splice(r,1)}function Dp(t,e){if(t.length<=Gt)return;let n=Gt+e,r=t[n];if(r){let i=r[Di];i!==null&&i!==t&&Cg(i,r),e>0&&(t[n-1][hn]=r[hn]);let o=tl(t,Gt+e);XP(r[he],r);let s=o[ir];s!==null&&s.detachView(o[he]),r[Ct]=null,r[hn]=null,r[se]&=-129}return r}function JI(t,e){if(!(e[se]&256)){let n=e[tt];n.destroyNode&&Pl(t,e,n,3,null,null),tN(e)}}function Xf(t,e){if(e[se]&256)return;let n=Ae(null);try{e[se]&=-129,e[se]|=256,e[tn]&&bf(e[tn]),iN(t,e),rN(t,e),e[he].type===1&&e[tt].destroy();let r=e[Di];if(r!==null&&ur(e[Ct])){r!==e[Ct]&&Cg(r,e);let i=e[ir];i!==null&&i.detachView(t)}VP(e)}finally{Ae(n)}}function rN(t,e){let n=t.cleanup,r=e[il];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[il]=null);let i=e[jr];if(i!==null){e[jr]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function iN(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Mi)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];Tn(4,a,u);try{u.call(a)}finally{Tn(5,a,u)}}else{Tn(4,i,o);try{o.call(i)}finally{Tn(5,i,o)}}}}}function oN(t,e,n){return sN(t,e.parent,n)}function sN(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[cr];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===An.None||o===An.Emulated)return null}return nn(r,n)}}function fl(t,e,n,r,i){t.insertBefore(e,n,r,i)}function ZI(t,e,n){t.appendChild(e,n)}function iE(t,e,n,r,i){r!==null?fl(t,e,n,r,i):ZI(t,e,n)}function aN(t,e,n,r){t.removeChild(e,n,r)}function bg(t,e){return t.parentNode(e)}function cN(t,e){return t.nextSibling(e)}function uN(t,e,n){return dN(t,e,n)}function lN(t,e,n){return t.type&40?nn(t,n):null}var dN=lN,oE;function Dg(t,e,n,r){let i=oN(t,r,e),o=e[tt],s=r.parent||e[mn],a=uN(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)iE(o,i,n[u],a,!1);else iE(o,i,n,a,!1);oE!==void 0&&oE(o,r,e,n,i)}function Ju(t,e){if(e!==null){let n=e.type;if(n&3)return nn(e,t);if(n&4)return Tp(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Ju(t,r);{let i=t[e.index];return ur(i)?Tp(-1,i):Rn(i)}}else{if(n&32)return Ig(e,t)()||Rn(t[e.index]);{let r=XI(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Si(t[xn]);return Ju(i,r)}else return Ju(t,e.next)}}}return null}function XI(t,e){if(e!==null){let r=t[xn][mn],i=e.projection;return r.projection[i]}return null}function Tp(t,e){let n=Gt+t+1;if(n<e.length){let r=e[n],i=r[he].firstChild;if(i!==null)return Ju(r,i)}return e[Ti]}function hN(t,e,n){let r=bg(t,e);r&&aN(t,r,e,n)}function Tg(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],u=n.type;if(s&&e===0&&(a&&Ri(Rn(a),r),n.flags|=2),(n.flags&32)!==32)if(u&8)Tg(t,e,n.child,r,i,o,!1),xo(e,t,i,a,o);else if(u&32){let l=Ig(n,r),h;for(;h=l();)xo(e,t,i,h,o);xo(e,t,i,a,o)}else u&16?fN(t,e,r,n,i,o):xo(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Pl(t,e,n,r,i,o){Tg(n,r,t.firstChild,e,i,o,!1)}function fN(t,e,n,r,i,o){let s=n[xn],u=s[mn].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];xo(e,t,i,h,o)}else{let l=u,h=s[Ct];VI(r)&&(l.flags|=128),Tg(t,e,l,h,i,o,!0)}}function pN(t,e,n,r,i){let o=n[Ti],s=Rn(n);o!==s&&xo(e,t,r,o,i);for(let a=Gt;a<n.length;a++){let u=n[a];Pl(u[he],u,t,e,r,o)}}function gN(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:or.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=or.Important),t.setStyle(n,r,i,o))}}function mN(t,e,n){t.setAttribute(e,"style",n)}function eC(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function tC(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&up(t,e,r),i!==null&&eC(t,e,i),o!==null&&mN(t,e,o)}var Vn={};function V(t=1){nC(ct(),Ee(),ki()+t,!1)}function nC(t,e,n,r){if(!r)if((e[se]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Ku(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Qu(e,o,0,n)}Ai(n)}function B(t,e=me.Default){let n=Ee();if(n===null)return Y(t,e);let r=bt();return PI(r,n,Pt(t),e)}function rC(){let t="invalid";throw new Error(t)}function iC(t,e,n,r,i,o){let s=Ae(null);try{let a=null;i&Fo.SignalBased&&(a=e[r][wf]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&Fo.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):tI(e,a,r,o)}finally{Ae(s)}}function yN(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Ai(~i);else{let o=i,s=n[++r],a=n[++r];cP(s,o);let u=e[o];a(2,u)}}}finally{Ai(-1)}}function Nl(t,e,n,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[cr]=i,p[se]=r|4|128|8|64,(l!==null||t&&t[se]&2048)&&(p[se]|=2048),cI(p),p[Ct]=p[qo]=t,p[fn]=n,p[Mn]=s||t&&t[Mn],p[tt]=a||t&&t[tt],p[Lo]=u||t&&t[Lo]||null,p[mn]=o,p[Tl]=kP(),p[rl]=h,p[ZE]=l,p[xn]=e.type==2?t[xn]:p,p}function Ol(t,e,n,r,i){let o=t.data[e];if(o===null)o=vN(t,e,n,r,i),aP()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=nP();o.injectorIndex=s===null?-1:s.injectorIndex}return Aa(o,!0),o}function vN(t,e,n,r,i){let o=fI(),s=pI(),a=s?o:o&&o.parent,u=t.data[e]=bN(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),o!==null&&(s?o.child==null&&u.parent!==null&&(o.child=u):o.next===null&&(o.next=u,u.prev=o)),u}function oC(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function sC(t,e,n,r,i){let o=ki(),s=r&2;try{Ai(-1),s&&e.length>pn&&nC(t,e,pn,!1),Tn(s?2:0,i),n(r,i)}finally{Ai(o),Tn(s?3:1,i)}}function aC(t,e,n){if(eI(e)){let r=Ae(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let u=n[s];a.contentQueries(1,u,s)}}}finally{Ae(r)}}}function cC(t,e,n){hI()&&(xN(t,e,n,nn(n,e)),(n.flags&64)===64&&fC(t,e,n))}function uC(t,e,n=nn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function lC(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Sg(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Sg(t,e,n,r,i,o,s,a,u,l,h){let p=pn+r,m=p+i,y=_N(p,m),T=typeof l=="function"?l():l;return y[he]={type:t,blueprint:y,template:n,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:T,incompleteFirstPass:!1,ssrId:h}}function _N(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Vn);return n}function wN(t,e,n,r){let o=r.get(HP,HI)||n===An.ShadowDom,s=t.selectRootElement(e,o);return EN(s),s}function EN(t){IN(t)}var IN=()=>null;function CN(t,e,n,r){let i=mC(e);i.push(n),t.firstCreatePass&&yC(t).push(r,i.length-1)}function bN(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return XR()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function sE(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,u=Fo.None;Array.isArray(s)?(a=s[0],u=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}t===0?aE(r,n,l,a,u):aE(r,n,l,a)}return r}function aE(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function DN(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],u=null,l=null;for(let h=r;h<i;h++){let p=o[h],m=n?n.get(p):null,y=m?m.inputs:null,T=m?m.outputs:null;u=sE(0,p.inputs,h,u,y),l=sE(1,p.outputs,h,l,T);let N=u!==null&&s!==null&&!rg(e)?BN(u,h,s):null;a.push(N)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}function TN(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Ag(t,e,n,r,i,o,s,a){let u=nn(e,n),l=e.inputs,h;!a&&l!=null&&(h=l[r])?(Mg(t,n,h,r,i),Sl(e)&&SN(n,e.index)):e.type&3?(r=TN(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)):e.type&12}function SN(t,e){let n=qr(e,t);n[se]&16||(n[se]|=64)}function dC(t,e,n,r){if(hI()){let i=r===null?null:{"":-1},o=PN(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&hC(t,e,n,s,i,a),i&&NN(n,r,i)}n.mergedAttrs=wa(n.mergedAttrs,n.attrs)}function hC(t,e,n,r,i,o){for(let l=0;l<r.length;l++)_p(dl(n,e),t,r[l].type);kN(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let h=r[l];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,u=oC(t,e,r.length,null);for(let l=0;l<r.length;l++){let h=r[l];n.mergedAttrs=wa(n.mergedAttrs,h.hostAttrs),FN(t,n,e,u,h),ON(u,h,i),h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let p=h.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}DN(t,n,o)}function AN(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;MN(s)!=a&&s.push(a),s.push(n,r,o)}}function MN(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function xN(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;Sl(n)&&VN(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||dl(n,e),Ri(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let u=t.data[a],l=xi(e,t,a,n);if(Ri(l,e),s!==null&&jN(e,a-i,l,u,n,s),Hr(u)){let h=qr(n.index,e);h[fn]=xi(e,t,a,n)}}}function fC(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=uP();try{Ai(o);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];mp(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&RN(u,l)}}finally{Ai(-1),mp(s)}}function RN(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function PN(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(_R(e,s.selectors,!1))if(r||(r=[]),Hr(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let u=a.length;Sp(t,e,u)}else r.unshift(s),Sp(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Sp(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function NN(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new Q(-301,!1);r.push(e[i],o)}}}function ON(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Hr(e)&&(n[""]=t)}}function kN(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function FN(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=bi(i.type,!0)),s=new Mi(o,Hr(i),B);t.blueprint[r]=s,n[r]=s,AN(t,e,r,oC(t,n,i.hostVars,Vn),i)}function VN(t,e,n){let r=nn(e,t),i=lC(n),o=t[Mn].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=kl(t,Nl(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function LN(t,e,n,r,i,o){let s=nn(t,e);UN(e[tt],s,o,t.value,n,r,i)}function UN(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?No(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function jN(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let u=s[a++],l=s[a++],h=s[a++],p=s[a++];iC(r,n,u,l,h,p)}}function BN(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function pC(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function gC(t,e){let n=t.contentQueries;if(n!==null){let r=Ae(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];cg(o),a.contentQueries(2,e[s],s)}}}finally{Ae(r)}}}function kl(t,e){return t[Ia]?t[Qw][hn]=e:t[Ia]=e,t[Qw]=e,e}function Ap(t,e,n){cg(0);let r=Ae(null);try{e(t,n)}finally{Ae(r)}}function mC(t){return t[il]??=[]}function yC(t){return t.cleanup??=[]}function vC(t,e){let n=t[Lo],r=n?n.get(Pn,null):null;r&&r.handleError(e)}function Mg(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],u=n[o++],l=e[s],h=t.data[s];iC(h,l,r,a,u,i)}}function _C(t,e,n){let r=oI(e,t);ZP(t[tt],r,n)}function $N(t,e){let n=qr(e,t),r=n[he];HN(r,n);let i=n[cr];i!==null&&n[rl]===null&&(n[rl]=wg(i,n[Lo])),xg(r,n,n[fn])}function HN(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function xg(t,e,n){ug(e);try{let r=t.viewQuery;r!==null&&Ap(1,r,n);let i=t.template;i!==null&&sC(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[ir]?.finishViewCreation(t),t.staticContentQueries&&gC(t,e),t.staticViewQueries&&Ap(2,t.viewQuery,n);let o=t.components;o!==null&&zN(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[se]&=-5,lg()}}function zN(t,e){for(let n=0;n<e.length;n++)$N(t,e[n])}function qN(t,e,n,r){let i=Ae(null);try{let o=e.tView,a=t[se]&4096?4096:16,u=Nl(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[Di]=l;let h=t[ir];return h!==null&&(u[ir]=h.createEmbeddedView(o)),xg(o,u,n),u}finally{Ae(i)}}function cE(t,e){return!e||e.firstChild===null||VI(t)}function GN(t,e,n,r=!0){let i=e[he];if(nN(i,e,t,n),r){let s=Tp(n,t),a=e[tt],u=bg(a,t[Ti]);u!==null&&eN(i,t[mn],a,e,u,s)}let o=e[rl];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function pl(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(Rn(o)),ur(o)&&WN(o,r);let s=n.type;if(s&8)pl(t,e,n.child,r);else if(s&32){let a=Ig(n,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=XI(e,n);if(Array.isArray(a))r.push(...a);else{let u=Si(e[xn]);pl(u[he],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function WN(t,e){for(let n=Gt;n<t.length;n++){let r=t[n],i=r[he].firstChild;i!==null&&pl(r[he],r,i,e)}t[Ti]!==t[cr]&&e.push(t[Ti])}var wC=[];function KN(t){return t[tn]??QN(t)}function QN(t){let e=wC.pop()??Object.create(JN);return e.lView=t,e}function YN(t){t.lView[tn]!==t&&(t.lView=null,wC.push(t))}var JN=be(j({},Ef),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Al(t.lView)},consumerOnSignalRead(){this.lView[tn]=this}});function ZN(t){let e=t[tn]??Object.create(XN);return e.lView=t,e}var XN=be(j({},Ef),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=Si(t.lView);for(;e&&!EC(e[he]);)e=Si(e);e&&uI(e)},consumerOnSignalRead(){this.lView[tn]=this}});function EC(t){return t.type!==2}var e1=100;function IC(t,e=!0,n=0){let r=t[Mn],i=r.rendererFactory,o=!1;o||i.begin?.();try{t1(t,n)}catch(s){throw e&&vC(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function t1(t,e){let n=gI();try{Jw(!0),Mp(t,e);let r=0;for(;Ca(t);){if(r===e1)throw new Q(103,!1);r++,Mp(t,1)}}finally{Jw(n)}}function n1(t,e,n,r){let i=e[se];if((i&256)===256)return;let o=!1,s=!1;!o&&e[Mn].inlineEffectRunner?.flush(),ug(e);let a=!0,u=null,l=null;o||(EC(t)?(l=KN(e),u=If(l)):hw()===null?(a=!1,l=ZN(e),u=If(l)):e[tn]&&(bf(e[tn]),e[tn]=null));try{cI(e),sP(t.bindingStartIndex),n!==null&&sC(t,e,n,2,r);let h=(i&3)===3;if(!o)if(h){let y=t.preOrderCheckHooks;y!==null&&Ku(e,y,null)}else{let y=t.preOrderHooks;y!==null&&Qu(e,y,0,null),Qf(e,0)}if(s||r1(e),CC(e,0),t.contentQueries!==null&&gC(t,e),!o)if(h){let y=t.contentCheckHooks;y!==null&&Ku(e,y)}else{let y=t.contentHooks;y!==null&&Qu(e,y,1),Qf(e,1)}yN(t,e);let p=t.components;p!==null&&DC(e,p,0);let m=t.viewQuery;if(m!==null&&Ap(2,m,r),!o)if(h){let y=t.viewCheckHooks;y!==null&&Ku(e,y)}else{let y=t.viewHooks;y!==null&&Qu(e,y,2),Qf(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Kf]){for(let y of e[Kf])y();e[Kf]=null}o||(e[se]&=-73)}catch(h){throw o||Al(e),h}finally{l!==null&&(fw(l,u),a&&YN(l)),lg()}}function CC(t,e){for(let n=UI(t);n!==null;n=jI(n))for(let r=Gt;r<n.length;r++){let i=n[r];bC(i,e)}}function r1(t){for(let e=UI(t);e!==null;e=jI(e)){if(!(e[se]&sl.HasTransplantedViews))continue;let n=e[Uo];for(let r=0;r<n.length;r++){let i=n[r];uI(i)}}}function i1(t,e,n){let r=qr(e,t);bC(r,n)}function bC(t,e){ag(t)&&Mp(t,e)}function Mp(t,e){let r=t[he],i=t[se],o=t[tn],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Cf(o)),s||=!1,o&&(o.dirty=!1),t[se]&=-9217,s)n1(r,t,r.template,t[fn]);else if(i&8192){CC(t,1);let a=r.components;a!==null&&DC(t,a,1)}}function DC(t,e,n){for(let r=0;r<e.length;r++)i1(t,e[r],n)}function Rg(t,e){let n=gI()?64:1088;for(t[Mn].changeDetectionScheduler?.notify(e);t;){t[se]|=n;let r=Si(t);if(fp(t)&&!r)return t;t=r}return null}var Pi=class{get rootNodes(){let e=this._lView,n=e[he];return pl(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[fn]}set context(e){this._lView[fn]=e}get destroyed(){return(this._lView[se]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Ct];if(ur(e)){let n=e[ol],r=n?n.indexOf(this):-1;r>-1&&(Dp(e,r),tl(n,r))}this._attachedToViewContainer=!1}JI(this._lView[he],this._lView)}onDestroy(e){lI(this._lView,e)}markForCheck(){Rg(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[se]&=-129}reattach(){gp(this._lView),this._lView[se]|=128}detectChanges(){this._lView[se]|=1024,IC(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Q(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=fp(this._lView),n=this._lView[Di];n!==null&&!e&&Cg(n,this._lView),QI(this._lView[he],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Q(902,!1);this._appRef=e;let n=fp(this._lView),r=this._lView[Di];r!==null&&!n&&YI(r,this._lView),gp(this._lView)}},Ni=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=a1;let t=e;return t})(),o1=Ni,s1=class extends o1{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=qN(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Pi(i)}};function a1(){return Pg(bt(),Ee())}function Pg(t,e){return t.type&4?new s1(e,t,Go(t,e)):null}var R8=new RegExp(`^(\\d+)*(${BP}|${jP})*(.*)`);var c1=()=>null;function uE(t,e){return c1(t,e)}var jo=class{},TC=new H("",{providedIn:"root",factory:()=>!1});var SC=new H(""),xp=class{},gl=class{};function u1(t){let e=Error(`No component factory found for ${Nt(t)}.`);return e[l1]=t,e}var l1="ngComponent";var Rp=class{resolveComponentFactory(e){throw u1(e)}},Ug=class Ug{};Ug.NULL=new Rp;var Bo=Ug,$o=class{},yn=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>d1();let t=e;return t})();function d1(){let t=Ee(),e=bt(),n=qr(e.index,t);return(Br(n)?n:t)[tt]}var h1=(()=>{let e=class e{};e.\u0275prov=$({token:e,providedIn:"root",factory:()=>null});let t=e;return t})();var lE=new Set;function Fl(t){lE.has(t)||(lE.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function AC(t){let e=!0;return setTimeout(()=>{e&&(e=!1,t())}),typeof va.requestAnimationFrame=="function"&&va.requestAnimationFrame(()=>{e&&(e=!1,t())}),()=>{e=!1}}function dE(t){let e=!0;return queueMicrotask(()=>{e&&t()}),()=>{e=!1}}function hE(...t){}var Te=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new qe(!1),this.onMicrotaskEmpty=new qe(!1),this.onStable=new qe(!1),this.onError=new qe(!1),typeof Zone>"u")throw new Q(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.callbackScheduled=!1,g1(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new Q(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new Q(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,f1,hE,hE);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},f1={};function Ng(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function p1(t){t.isCheckStableRunning||t.callbackScheduled||(t.callbackScheduled=!0,Zone.root.run(()=>{AC(()=>{t.callbackScheduled=!1,Pp(t),t.isCheckStableRunning=!0,Ng(t),t.isCheckStableRunning=!1})}),Pp(t))}function g1(t){let e=()=>{p1(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(m1(a))return n.invokeTask(i,o,s,a);try{return fE(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),pE(t)}},onInvoke:(n,r,i,o,s,a,u)=>{try{return fE(t),n.invoke(i,o,s,a,u)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!y1(a)&&e(),pE(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,Pp(t),Ng(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function Pp(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function fE(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function pE(t){t._nesting--,Ng(t)}var Np=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new qe,this.onMicrotaskEmpty=new qe,this.onStable=new qe,this.onError=new qe}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function m1(t){return MC(t,"__ignore_ng_zone__")}function y1(t){return MC(t,"__scheduler_tick__")}function MC(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var Ur=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Ur||{}),v1={destroy(){}};function Vl(t,e){!e&&UR(Vl);let n=e?.injector??k(ft);if(!QP(n))return v1;Fl("NgAfterNextRender");let r=n.get(Og),i=r.handler??=new kp,o=e?.phase??Ur.MixedReadWrite,s=()=>{i.unregister(u),a()},a=n.get(mg).onDestroy(s),u=Wt(n,()=>new Op(o,()=>{s(),t()}));return i.register(u),{destroy:s}}var Op=class{constructor(e,n){this.phase=e,this.callbackFn=n,this.zone=k(Te),this.errorHandler=k(Pn,{optional:!0}),k(jo,{optional:!0})?.notify(6)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},kp=class{constructor(){this.executingCallbacks=!1,this.buckets={[Ur.EarlyRead]:new Set,[Ur.Write]:new Set,[Ur.MixedReadWrite]:new Set,[Ur.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let n of e)n.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},Og=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=$({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function Fp(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Uw(i,a);else if(o==2){let u=a,l=e[++s];r=Uw(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var ml=class extends Bo{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=$r(e);return new Ho(n,this.ngModule)}};function gE(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function _1(t){let e=t.toLowerCase();return e==="svg"?zR:e==="math"?qR:null}var Ho=class extends gl{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=gE(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return gE(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=CR(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=Ae(null);try{i=i||this.ngModule;let s=i instanceof It?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new yp(e,s):e,u=a.get($o,null);if(u===null)throw new Q(407,!1);let l=a.get(h1,null),h=a.get(Og,null),p=a.get(jo,null),m={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:h,changeDetectionScheduler:p},y=u.createRenderer(null,this.componentDef),T=this.componentDef.selectors[0][0]||"div",N=r?wN(y,r,this.componentDef.encapsulation,a):KI(y,T,_1(T)),R=512;this.componentDef.signals?R|=4096:this.componentDef.onPush||(R|=16);let F=null;N!==null&&(F=wg(N,a,!0));let J=Sg(0,null,null,1,0,null,null,null,null,null,null),q=Nl(null,J,null,R,null,null,m,y,a,null,F);ug(q);let X,Pe;try{let re=this.componentDef,E,v=null;re.findHostDirectiveDefs?(E=[],v=new Map,re.findHostDirectiveDefs(re,E,v),E.push(re)):E=[re];let _=w1(q,N),I=E1(_,N,re,E,q,m,y);Pe=sI(J,pn),N&&b1(y,re,N,r),n!==void 0&&D1(Pe,this.ngContentSelectors,n),X=C1(I,re,E,v,q,[T1]),xg(J,q,null)}finally{lg()}return new Vp(this.componentType,X,Go(Pe,q),q,Pe)}finally{Ae(o)}}},Vp=class extends xp{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Pi(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;Mg(o[he],o,i,e,n),this.previousInputValues.set(e,n);let s=qr(this._tNode.index,o);Rg(s,1)}}get injector(){return new Ci(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function w1(t,e){let n=t[he],r=pn;return t[r]=e,Ol(n,r,2,"#host",null)}function E1(t,e,n,r,i,o,s){let a=i[he];I1(r,t,e,s);let u=null;e!==null&&(u=wg(e,i[Lo]));let l=o.rendererFactory.createRenderer(e,n),h=16;n.signals?h=4096:n.onPush&&(h=64);let p=Nl(i,lC(n),null,h,i[t.index],t,o,l,null,null,u);return a.firstCreatePass&&Sp(a,t,r.length-1),kl(i,p),i[t.index]=p}function I1(t,e,n,r){for(let i of t)e.mergedAttrs=wa(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Fp(e,e.mergedAttrs,!0),n!==null&&tC(r,n,e))}function C1(t,e,n,r,i,o){let s=bt(),a=i[he],u=nn(s,i);hC(a,i,s,n,null,r);for(let h=0;h<n.length;h++){let p=s.directiveStart+h,m=xi(i,a,p,s);Ri(m,i)}fC(a,i,s),u&&Ri(u,i);let l=xi(i,a,s.directiveStart+s.componentOffset,s);if(t[fn]=i[fn]=l,o!==null)for(let h of o)h(l,e);return aC(a,s,i),l}function b1(t,e,n,r){if(r)up(t,n,["ng-version","18.0.5"]);else{let{attrs:i,classes:o}=bR(e.selectors[0]);i&&up(t,n,i),o&&o.length>0&&eC(t,n,o.join(" "))}}function D1(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function T1(){let t=bt();fg(Ee()[he],t)}var Gr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=S1;let t=e;return t})();function S1(){let t=bt();return RC(t,Ee())}var A1=Gr,xC=class extends A1{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Go(this._hostTNode,this._hostLView)}get injector(){return new Ci(this._hostTNode,this._hostLView)}get parentInjector(){let e=pg(this._hostTNode,this._hostLView);if(TI(e)){let n=ul(e,this._hostLView),r=cl(e),i=n[he].data[r+8];return new Ci(i,n)}else return new Ci(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=mE(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Gt}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=uE(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,cE(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!jR(e),a;if(s)a=n;else{let T=n||{};a=T.index,r=T.injector,i=T.projectableNodes,o=T.environmentInjector||T.ngModuleRef}let u=s?e:new Ho($r(e)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let N=(s?l:this.parentInjector).get(It,null);N&&(o=N)}let h=$r(u.componentType??{}),p=uE(this._lContainer,h?.id??null),m=p?.firstChild??null,y=u.create(l,i,m,o);return this.insertImpl(y.hostView,a,cE(this._hostTNode,p)),y}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(WR(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[Ct],l=new xC(u,u[mn],u[Ct]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return GN(s,i,o,r),e.attachToViewContainerRef(),OE(ep(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=mE(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Dp(this._lContainer,n);r&&(tl(ep(this._lContainer),n),JI(r[he],r))}detach(e){let n=this._adjustIndex(e,-1),r=Dp(this._lContainer,n);return r&&tl(ep(this._lContainer),n)!=null?new Pi(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function mE(t){return t[ol]}function ep(t){return t[ol]||(t[ol]=[])}function RC(t,e){let n,r=e[t.index];return ur(r)?n=r:(n=pC(r,e,null,t),e[t.index]=n,kl(e,n)),x1(n,e,t,r),new xC(n,t,e)}function M1(t,e){let n=t[tt],r=n.createComment(""),i=nn(e,t),o=bg(n,i);return fl(n,o,r,cN(n,i),!1),r}var x1=N1,R1=()=>!1;function P1(t,e,n){return R1(t,e,n)}function N1(t,e,n,r){if(t[Ti])return;let i;n.type&8?i=Rn(r):i=M1(e,n),t[Ti]=i}var Lp=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Up=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)kg(e,n).matches!==null&&this.queries[n].setDirty()}},yl=class{constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=B1(e):this.predicate=e}},jp=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Bp=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,n,O1(n,o)),this.matchTNodeWithReadOption(e,n,Yu(n,e,o,!1,!1))}else r===Ni?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Yu(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===kt||i===Gr||i===Ni&&n.type&4)this.addMatch(n.index,-2);else{let o=Yu(n,e,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function O1(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function k1(t,e){return t.type&11?Go(t,e):t.type&4?Pg(t,e):null}function F1(t,e,n,r){return n===-1?k1(e,t):n===-2?V1(t,e,r):xi(t,t[he],n,e)}function V1(t,e,n){if(n===kt)return Go(e,t);if(n===Ni)return Pg(e,t);if(n===Gr)return RC(e,t)}function PC(t,e,n,r){let i=e[ir].queries[r];if(i.matches===null){let o=t.data,s=n.matches,a=[];for(let u=0;s!==null&&u<s.length;u+=2){let l=s[u];if(l<0)a.push(null);else{let h=o[l];a.push(F1(e,h,s[u+1],n.metadata.read))}}i.matches=a}return i.matches}function $p(t,e,n,r){let i=t.queries.getByIndex(n),o=i.matches;if(o!==null){let s=PC(t,e,i,n);for(let a=0;a<o.length;a+=2){let u=o[a];if(u>0)r.push(s[a/2]);else{let l=o[a+1],h=e[-u];for(let p=Gt;p<h.length;p++){let m=h[p];m[Di]===m[Ct]&&$p(m[he],m,l,r)}if(h[Uo]!==null){let p=h[Uo];for(let m=0;m<p.length;m++){let y=p[m];$p(y[he],y,l,r)}}}}}return r}function L1(t,e){return t[ir].queries[e].queryList}function NC(t,e,n){let r=new Cp((n&4)===4);return CN(t,e,r,r.destroy),(e[ir]??=new Up).queries.push(new Lp(r))-1}function U1(t,e,n){let r=ct();return r.firstCreatePass&&(OC(r,new yl(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),NC(r,Ee(),e)}function j1(t,e,n,r){let i=ct();if(i.firstCreatePass){let o=bt();OC(i,new yl(e,n,r),o.index),$1(i,t),(n&2)===2&&(i.staticContentQueries=!0)}return NC(i,Ee(),n)}function B1(t){return t.split(",").map(e=>e.trim())}function OC(t,e,n){t.queries===null&&(t.queries=new jp),t.queries.track(new Bp(e,n))}function $1(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function kg(t,e){return t.queries.getByIndex(e)}function H1(t,e){let n=t[he],r=kg(n,e);return r.crossesNgTemplate?$p(n,t,e,[]):PC(n,t,r,e)}function z1(t){return typeof t=="function"&&t[wf]!==void 0}function kC(t){return z1(t)&&typeof t.set=="function"}function q1(t){return Object.getPrototypeOf(t.prototype).constructor}function rn(t){let e=q1(t.type),n=!0,r=[t];for(;e;){let i;if(Hr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Q(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=qu(t.inputs),s.inputTransforms=qu(t.inputTransforms),s.declaredInputs=qu(t.declaredInputs),s.outputs=qu(t.outputs);let a=i.hostBindings;a&&Y1(t,a);let u=i.viewQuery,l=i.contentQueries;if(u&&K1(t,u),l&&Q1(t,l),G1(t,i),Hx(t.outputs,i.outputs),Hr(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===rn&&(n=!1)}}e=Object.getPrototypeOf(e)}W1(r)}function G1(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function W1(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=wa(i.hostAttrs,n=wa(n,i.hostAttrs))}}function qu(t){return t===Oo?{}:t===en?[]:t}function K1(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function Q1(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function Y1(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function Fg(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var zr=class{},ba=class{};var Hp=class extends zr{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ml(this);let i=zE(e);this._bootstrapComponents=WI(i.bootstrap),this._r3Injector=kI(e,n,[{provide:zr,useValue:this},{provide:Bo,useValue:this.componentFactoryResolver},...r],Nt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},zp=class extends ba{constructor(e){super(),this.moduleType=e}create(e){return new Hp(this.moduleType,e,[])}};var vl=class extends zr{constructor(e){super(),this.componentFactoryResolver=new ml(this),this.instance=null;let n=new Ea([...e.providers,{provide:zr,useValue:this},{provide:Bo,useValue:this.componentFactoryResolver}],e.parent||og(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Ll(t,e,n=null){return new vl({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function FC(t){return Z1(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function J1(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function Z1(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function VC(t,e,n){return t[e]=n}function sr(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function LC(t,e,n,r){let i=sr(t,e,n);return sr(t,e+1,r)||i}function X1(t,e,n,r,i){let o=LC(t,e,n,r);return sr(t,e+2,i)||o}function eO(t){return(t.flags&32)===32}function tO(t,e,n,r,i,o,s,a,u){let l=e.consts,h=Ol(e,t,4,s||null,a||null);dC(e,n,h,al(l,u)),fg(e,h);let p=h.tView=Sg(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function nO(t,e,n,r,i,o,s,a,u,l){let h=n+pn,p=e.firstCreatePass?tO(h,e,t,r,i,o,s,a,u):e.data[h];Aa(p,!1);let m=rO(e,t,p,n);dg()&&Dg(e,t,m,p),Ri(m,t);let y=pC(m,t,m,p);return t[h]=y,kl(t,y),P1(y,p,t),sg(p)&&cC(e,t,p),u!=null&&uC(t,p,l),p}function Fe(t,e,n,r,i,o,s,a){let u=Ee(),l=ct(),h=al(l.consts,o);return nO(u,l,t,e,n,r,i,h,s,a),Fe}var rO=iO;function iO(t,e,n,r){return hg(!0),e[tt].createComment("")}function xa(t,e,n,r){let i=Ee(),o=Ml();if(sr(i,o,e)){let s=ct(),a=xl();LN(a,i,t,e,n,r)}return xa}function UC(t,e,n,r){return sr(t,Ml(),n)?e+No(n)+r:Vn}function oO(t,e,n,r,i,o){let s=oP(),a=LC(t,s,n,i);return yI(2),a?e+No(n)+r+No(i)+o:Vn}function Gu(t,e){return t<<17|e<<2}function Oi(t){return t>>17&32767}function sO(t){return(t&2)==2}function aO(t,e){return t&131071|e<<17}function qp(t){return t|2}function zo(t){return(t&131068)>>2}function tp(t,e){return t&-131069|e<<2}function cO(t){return(t&1)===1}function Gp(t){return t|1}function uO(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Oi(s),u=zo(s);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||Sa(p,h)>0)&&(l=!0)}else h=n;if(i)if(u!==0){let m=Oi(t[a+1]);t[r+1]=Gu(m,a),m!==0&&(t[m+1]=tp(t[m+1],r)),t[a+1]=aO(t[a+1],r)}else t[r+1]=Gu(a,0),a!==0&&(t[a+1]=tp(t[a+1],r)),a=r;else t[r+1]=Gu(u,0),a===0?a=r:t[u+1]=tp(t[u+1],r),u=r;l&&(t[r+1]=qp(t[r+1])),yE(t,h,r,!0),yE(t,h,r,!1),lO(e,h,t,r,o),s=Gu(a,u),o?e.classBindings=s:e.styleBindings=s}function lO(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Sa(o,e)>=0&&(n[r+1]=Gp(n[r+1]))}function yE(t,e,n,r){let i=t[n+1],o=e===null,s=r?Oi(i):zo(i),a=!1;for(;s!==0&&(a===!1||o);){let u=t[s],l=t[s+1];dO(u,e)&&(a=!0,t[s+1]=r?Gp(l):qp(l)),s=r?Oi(l):zo(l)}a&&(t[n+1]=r?qp(i):Gp(i))}function dO(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Sa(t,e)>=0:!1}function le(t,e,n){let r=Ee(),i=Ml();if(sr(r,i,e)){let o=ct(),s=xl();Ag(o,s,r,t,e,r[tt],n,!1)}return le}function vE(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";Mg(t,n,o[s],s,r)}function Ul(t,e){return hO(t,e,null,!0),Ul}function hO(t,e,n,r){let i=Ee(),o=ct(),s=yI(2);if(o.firstUpdatePass&&pO(o,t,s,r),e!==Vn&&sr(i,s,e)){let a=o.data[ki()];_O(o,a,i,i[tt],t,i[s+1]=wO(e,n),r,s)}}function fO(t,e){return e>=t.expandoStartIndex}function pO(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[ki()],s=fO(t,n);EO(o,r)&&e===null&&!s&&(e=!1),e=gO(i,o,e,r),uO(i,o,e,n,s,r)}}function gO(t,e,n,r){let i=lP(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=np(null,t,e,n,r),n=Da(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=np(i,t,e,n,r),o===null){let u=mO(t,e,r);u!==void 0&&Array.isArray(u)&&(u=np(null,t,e,u[1],r),u=Da(u,e.attrs,r),yO(t,e,r,u))}else o=vO(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function mO(t,e,n){let r=n?e.classBindings:e.styleBindings;if(zo(r)!==0)return t[Oi(r)]}function yO(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Oi(i)]=r}function vO(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=Da(r,s,n)}return Da(r,e.attrs,n)}function np(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=Da(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Da(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),dR(t,s,n?!0:e[++o]))}return t===void 0?null:t}function _O(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],h=cO(l)?_E(u,e,n,i,zo(l),s):void 0;if(!_l(h)){_l(o)||sO(l)&&(o=_E(u,null,n,i,a,s));let p=oI(ki(),n);gN(r,s,p,i,o)}}function _E(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,m=n[i+1];m===Vn&&(m=p?en:void 0);let y=p?Gf(m,r):h===r?m:void 0;if(l&&!_l(y)&&(y=Gf(u,r)),_l(y)&&(a=y,s))return a;let T=t[i+1];i=s?Oi(T):zo(T)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=Gf(u,r))}return a}function _l(t){return t!==void 0}function wO(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Nt(Ma(t)))),t}function EO(t,e){return(t.flags&(e?8:16))!==0}function IO(t,e,n,r,i,o){let s=e.consts,a=al(s,i),u=Ol(e,t,2,r,a);return dC(e,n,u,al(s,o)),u.attrs!==null&&Fp(u,u.attrs,!1),u.mergedAttrs!==null&&Fp(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function D(t,e,n,r){let i=Ee(),o=ct(),s=pn+t,a=i[tt],u=o.firstCreatePass?IO(s,o,i,e,n,r):o.data[s],l=CO(o,i,u,a,e,t);i[s]=l;let h=sg(u);return Aa(u,!0),tC(a,l,u),!eO(u)&&dg()&&Dg(o,i,l,u),YR()===0&&Ri(l,i),JR(),h&&(cC(o,i,u),aC(o,u,i)),r!==null&&uC(i,u),D}function A(){let t=bt();pI()?rP():(t=t.parent,Aa(t,!1));let e=t;eP(e)&&tP(),ZR();let n=ct();return n.firstCreatePass&&(fg(n,t),eI(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&yP(e)&&vE(n,e,Ee(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&vP(e)&&vE(n,e,Ee(),e.stylesWithoutHost,!1),A}function fe(t,e,n,r){return D(t,e,n,r),A(),fe}var CO=(t,e,n,r,i,o)=>(hg(!0),KI(r,i,fP()));function Ft(){return Ee()}var wl="en-US";var bO=wl;function DO(t){typeof t=="string"&&(bO=t.toLowerCase().replace(/_/g,"-"))}var TO=(t,e,n)=>{};function W(t,e,n,r){let i=Ee(),o=ct(),s=bt();return jC(o,i,i[tt],s,t,e,r),W}function SO(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[il],u=i[o+2];return a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function jC(t,e,n,r,i,o,s){let a=sg(r),l=t.firstCreatePass&&yC(t),h=e[fn],p=mC(e),m=!0;if(r.type&3||s){let N=nn(r,e),R=s?s(N):N,F=p.length,J=s?X=>s(Rn(X[r.index])):r.index,q=null;if(!s&&a&&(q=SO(t,e,i,r.index)),q!==null){let X=q.__ngLastListenerFn__||q;X.__ngNextListenerFn__=o,q.__ngLastListenerFn__=o,m=!1}else{o=EE(r,e,h,o),TO(N,i,o);let X=n.listen(R,i,o);p.push(o,X),l&&l.push(i,J,F,F+1)}}else o=EE(r,e,h,o);let y=r.outputs,T;if(m&&y!==null&&(T=y[i])){let N=T.length;if(N)for(let R=0;R<N;R+=2){let F=T[R],J=T[R+1],Pe=e[F][J].subscribe(o),re=p.length;p.push(o,Pe),l&&l.push(i,r.index,re,-(re+1))}}}function wE(t,e,n,r){let i=Ae(null);try{return Tn(6,e,n),n(r)!==!1}catch(o){return vC(t,o),!1}finally{Tn(7,e,n),Ae(i)}}function EE(t,e,n,r){return function i(o){if(o===Function)return r;let s=t.componentOffset>-1?qr(t.index,e):e;Rg(s,5);let a=wE(e,n,r,o),u=i.__ngNextListenerFn__;for(;u;)a=wE(e,n,u,o)&&a,u=u.__ngNextListenerFn__;return a}}function K(t=1){return hP(t)}function Ln(t,e,n){return BC(t,"",e,"",n),Ln}function BC(t,e,n,r,i){let o=Ee(),s=UC(o,e,n,r);if(s!==Vn){let a=ct(),u=xl();Ag(a,u,o,t,s,o[tt],i,!1)}return BC}function $C(t,e,n,r){j1(t,e,n,r)}function HC(t,e,n){U1(t,e,n)}function jl(t){let e=Ee(),n=ct(),r=vI();cg(r+1);let i=kg(n,r);if(t.dirty&&GR(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let o=H1(e,r);t.reset(o,PP),t.notifyOnChanges()}return!0}return!1}function Bl(){return L1(Ee(),vI())}function AO(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function Ra(t){let e=iP();return aI(e,pn+t)}function P(t,e=""){let n=Ee(),r=ct(),i=t+pn,o=r.firstCreatePass?Ol(r,i,1,e,null):r.data[i],s=MO(r,n,o,e,t);n[i]=s,dg()&&Dg(r,n,s,o),Aa(o,!1)}var MO=(t,e,n,r,i)=>(hg(!0),JP(e[tt],r));function Ie(t){return Pa("",t,""),Ie}function Pa(t,e,n){let r=Ee(),i=UC(r,t,e,n);return i!==Vn&&_C(r,ki(),i),Pa}function fr(t,e,n,r,i){let o=Ee(),s=oO(o,t,e,n,r,i);return s!==Vn&&_C(o,ki(),s),fr}function Ue(t,e,n){kC(e)&&(e=e());let r=Ee(),i=Ml();if(sr(r,i,e)){let o=ct(),s=xl();Ag(o,s,r,t,e,r[tt],n,!1)}return Ue}function $e(t,e){let n=kC(t);return n&&t.set(e),n}function je(t,e){let n=Ee(),r=ct(),i=bt();return jC(r,n,n[tt],i,t,e),je}function xO(t,e,n){let r=ct();if(r.firstCreatePass){let i=Hr(t);Wp(n,r.data,r.blueprint,i,!0),Wp(e,r.data,r.blueprint,i,!1)}}function Wp(t,e,n,r,i){if(t=Pt(t),Array.isArray(t))for(let o=0;o<t.length;o++)Wp(t[o],e,n,r,i);else{let o=ct(),s=Ee(),a=bt(),u=Vo(t)?t:Pt(t.provide),l=YE(t),h=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if(Vo(t)||!t.multi){let y=new Mi(l,i,B),T=ip(u,e,i?h:h+m,p);T===-1?(_p(dl(a,s),o,u),rp(o,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(y),s.push(y)):(n[T]=y,s[T]=y)}else{let y=ip(u,e,h+m,p),T=ip(u,e,h,h+m),N=y>=0&&n[y],R=T>=0&&n[T];if(i&&!R||!i&&!N){_p(dl(a,s),o,u);let F=NO(i?PO:RO,n.length,i,r,l);!i&&R&&(n[T].providerFactory=F),rp(o,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(F),s.push(F)}else{let F=zC(n[i?T:y],l,!i&&r);rp(o,t,y>-1?y:T,F)}!i&&r&&R&&n[T].componentProviders++}}}function rp(t,e,n,r){let i=Vo(e),o=PR(e);if(i||o){let u=(o?Pt(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[r,u]):l[h+1].push(r,u)}else l.push(n,u)}}}function zC(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function ip(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function RO(t,e,n,r){return Kp(this.multi,[])}function PO(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=xi(n,n[he],this.providerFactory.index,r);o=a.slice(0,s),Kp(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],Kp(i,o);return o}function Kp(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function NO(t,e,n,r,i){let o=new Mi(t,n,B);return o.multi=[],o.index=e,o.componentProviders=0,zC(o,i,r&&!n),o}function Wr(t,e=[]){return n=>{n.providersResolver=(r,i)=>xO(r,i?i(t):t,e)}}var OO=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=WE(!1,r.type),o=i.length>0?Ll([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=$({token:e,providedIn:"environment",factory:()=>new e(Y(It))});let t=e;return t})();function We(t){Fl("NgStandalone"),t.getStandaloneInjector=e=>e.get(OO).getOrCreateStandaloneInjector(t)}function $l(t,e,n,r){return kO(Ee(),mI(),t,e,n,r)}function qC(t,e){let n=t[e];return n===Vn?void 0:n}function kO(t,e,n,r,i,o){let s=e+n;return sr(t,s,i)?VC(t,s+1,o?r.call(o,i):r(i)):qC(t,s+1)}function FO(t,e,n,r,i,o,s,a){let u=e+n;return X1(t,u,i,o,s)?VC(t,u+3,a?r.call(a,i,o,s):r(i,o,s)):qC(t,u+3)}function GC(t,e){let n=ct(),r,i=t+pn;n.firstCreatePass?(r=VO(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=bi(r.type,!0)),s,a=jt(B);try{let u=ll(!1),l=o();return ll(u),AO(n,Ee(),i,l),l}finally{jt(a)}}function VO(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function WC(t,e,n,r,i){let o=t+pn,s=Ee(),a=aI(s,o);return LO(s,o)?FO(s,mI(),e,a.transform,n,r,i,a):a.transform(n,r,i)}function LO(t,e){return t[he].data[e].pure}var ar=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},KC=new ar("18.0.5");var Hl=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var QC=new H("");function Fi(t){return!!t&&typeof t.then=="function"}function YC(t){return!!t&&typeof t.subscribe=="function"}var zl=new H(""),JC=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=k(zl,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let o of this.appInits){let s=o();if(Fi(s))r.push(s);else if(YC(s)){let a=new Promise((u,l)=>{s.subscribe({complete:u,error:l})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Na=new H("");function UO(){pw(()=>{throw new Q(600,!1)})}function jO(t){return t.isBoundToModule}var BO=10;function $O(t,e,n){try{let r=n();return Fi(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Vi=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=k(FI),this.afterRenderEffectManager=k(Og),this.zonelessEnabled=k(TC),this.externalTestViews=new Set,this.beforeRender=new at,this.afterTick=new at,this.componentTypes=[],this.components=[],this.isStable=k(hr).hasPendingTasks.pipe(ie(r=>!r)),this._injector=k(It)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let o=r instanceof gl;if(!this._injector.get(JC).done){let y=!o&&HE(r),T=!1;throw new Q(405,T)}let a;o?a=r:a=this._injector.get(Bo).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let u=jO(a)?void 0:this._injector.get(zr),l=i||a.selector,h=a.create(ft.NULL,[],l,u),p=h.location.nativeElement,m=h.injector.get(QC,null);return m?.registerApplication(p),h.onDestroy(()=>{this.detachView(h.hostView),op(this.components,h),m?.unregisterApplication(p)}),this._loadComponent(h),h}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new Q(101,!1);let i=Ae(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(o){this.internalErrorHandler(o)}finally{this._runningTick=!1,Ae(i),this.afterTick.next()}}detectChangesInAttachedViews(r){let i=null;this._injector.destroyed||(i=this._injector.get($o,null,{optional:!0}));let o=0,s=this.afterRenderEffectManager;for(;o<BO;){let a=o===0;if(r||!a){this.beforeRender.next(a);for(let{_lView:u,notifyErrorHandler:l}of this._views)HO(u,l,a,this.zonelessEnabled)}else i?.begin?.(),i?.end?.();if(o++,s.executeInternalCallbacks(),!this.allViews.some(({_lView:u})=>Ca(u))&&(s.execute(),!this.allViews.some(({_lView:u})=>Ca(u))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;op(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(Na,[]);[...this._bootstrapListeners,...i].forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>op(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new Q(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function op(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function HO(t,e,n,r){if(!n&&!Ca(t))return;IC(t,e,n&&!r?0:1)}var Qp=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},ql=(()=>{let e=class e{compileModuleSync(r){return new zp(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),o=zE(r),s=WI(o.declarations).reduce((a,u)=>{let l=$r(u);return l&&a.push(new Ho(l)),a},[]);return new Qp(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var zO=(()=>{let e=class e{constructor(){this.zone=k(Te),this.changeDetectionScheduler=k(jo),this.applicationRef=k(Vi)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function qO({ngZoneFactory:t,ignoreChangesOutsideZone:e}){return t??=()=>new Te(WO()),[{provide:Te,useFactory:t},{provide:ko,multi:!0,useFactory:()=>{let n=k(zO,{optional:!0});return()=>n.initialize()}},{provide:ko,multi:!0,useFactory:()=>{let n=k(KO);return()=>{n.initialize()}}},{provide:FI,useFactory:GO},e===!0?{provide:SC,useValue:!0}:[]]}function GO(){let t=k(Te),e=k(Pn);return n=>t.runOutsideAngular(()=>e.handleError(n))}function WO(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var KO=(()=>{let e=class e{constructor(){this.subscription=new ze,this.initialized=!1,this.zone=k(Te),this.pendingTasks=k(hr)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Te.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Te.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var QO=(()=>{let e=class e{constructor(){this.appRef=k(Vi),this.taskService=k(hr),this.ngZone=k(Te),this.zonelessEnabled=k(TC),this.disableScheduling=k(SC,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new ze,this.cancelScheduledCallback=null,this.shouldRefreshViews=!1,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Np||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&r===5)return;switch(r){case 3:case 2:case 0:case 4:case 5:case 1:{this.shouldRefreshViews=!0;break}case 8:case 7:case 6:case 9:default:}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?dE:AC;this.pendingRenderTaskId=this.taskService.add(),this.zoneIsDefined?Zone.root.run(()=>{this.cancelScheduledCallback=i(()=>{this.tick(this.shouldRefreshViews)})}):this.cancelScheduledCallback=i(()=>{this.tick(this.shouldRefreshViews)})}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Te.isInAngularZone())}tick(r){if(this.runningTick||this.appRef.destroyed)return;let i=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick(r)},void 0,this.schedulerTickApplyArgs)}catch(o){throw this.taskService.remove(i),o}finally{this.cleanup()}this.useMicrotaskScheduler=!0,dE(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(i)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.shouldRefreshViews=!1,this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function YO(){return typeof $localize<"u"&&$localize.locale||wl}var Vg=new H("",{providedIn:"root",factory:()=>k(Vg,me.Optional|me.SkipSelf)||YO()});var ZC=new H("");var Zu=null;function JO(t=[],e){return ft.create({name:e,providers:[{provide:Dl,useValue:"platform"},{provide:ZC,useValue:new Set([()=>Zu=null])},...t]})}function ZO(t=[]){if(Zu)return Zu;let e=JO(t);return Zu=e,UO(),XO(e),e}function XO(t){t.get(vg,null)?.forEach(n=>n())}function XC(){return!1}var Kr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=ek;let t=e;return t})();function ek(t){return tk(bt(),Ee(),(t&16)===16)}function tk(t,e,n){if(Sl(t)&&!n){let r=qr(t.index,e);return new Pi(r,r)}else if(t.type&175){let r=e[xn];return new Pi(r,e)}return null}var Yp=class{constructor(){}supports(e){return FC(e)}create(e){return new Jp(e)}},nk=(t,e)=>e,Jp=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||nk}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<IE(r,i,o)?n:r,a=IE(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=u-i;if(l!=h){for(let m=0;m<l;m++){let y=m<o.length?o[m]:o[m]=0,T=y+m;h<=T&&T<l&&(o[m]=y+1)}let p=s.previousIndex;o[p]=h-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!FC(e))throw new Q(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,J1(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new Zp(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new El),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new El),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Zp=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Xp=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},El=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new Xp,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function IE(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function CE(){return new Lg([new Yp])}var Lg=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let o=i.factories.slice();r=r.concat(o)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||CE()),deps:[[e,new tg,new Ot]]}}find(r){let i=this.factories.find(o=>o.supports(r));if(i!=null)return i;throw new Q(901,!1)}};e.\u0275prov=$({token:e,providedIn:"root",factory:CE});let t=e;return t})();function eb(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=ZO(r),o=[qO({}),{provide:jo,useExisting:QO},...n||[]],a=new vl({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,u=a.get(Te);return u.run(()=>{a.resolveInjectorInitializers();let l=a.get(Pn,null),h;u.runOutsideAngular(()=>{h=u.onError.subscribe({next:y=>{l.handleError(y)}})});let p=()=>a.destroy(),m=i.get(ZC);return m.add(p),a.onDestroy(()=>{h.unsubscribe(),m.delete(p)}),$O(l,u,()=>{let y=a.get(JC);return y.runInitializers(),y.donePromise.then(()=>{let T=a.get(Vg,wl);DO(T||wl);let N=a.get(Vi);return e!==void 0&&N.bootstrap(e),N})})})}catch(e){return Promise.reject(e)}}function Qr(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function tb(t){let e=$r(t);if(!e)return null;let n=new Ho(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var ab=null;function gr(){return ab}function cb(t){ab??=t}var Gl=class{};var Dt=new H(""),qg=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:()=>k(rk),providedIn:"platform"});let t=e;return t})(),ub=new H(""),rk=(()=>{let e=class e extends qg{constructor(){super(),this._doc=k(Dt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return gr().getBaseHref(this._doc)}onPopState(r){let i=gr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=gr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function Gg(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function nb(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function pr(t){return t&&t[0]!=="?"?"?"+t:t}var mr=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:()=>k(Wg),providedIn:"root"});let t=e;return t})(),lb=new H(""),Wg=(()=>{let e=class e extends mr{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??k(Dt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return Gg(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+pr(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+pr(s));this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+pr(s));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(Y(qg),Y(lb,8))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),db=(()=>{let e=class e extends mr{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=Gg(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+pr(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+pr(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(Y(qg),Y(lb,8))},e.\u0275prov=$({token:e,factory:e.\u0275fac});let t=e;return t})(),Ko=(()=>{let e=class e{constructor(r){this._subject=new qe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=sk(nb(rb(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+pr(i))}normalize(r){return e.stripTrailingSlash(ok(this._basePath,rb(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+pr(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+pr(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}};e.normalizeQueryParams=pr,e.joinWithSlash=Gg,e.stripTrailingSlash=nb,e.\u0275fac=function(i){return new(i||e)(Y(mr))},e.\u0275prov=$({token:e,factory:()=>ik(),providedIn:"root"});let t=e;return t})();function ik(){return new Ko(Y(mr))}function ok(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function rb(t){return t.replace(/\/index.html$/,"")}function sk(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function Wl(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var jg=/\s+/,ib=[],hb=(()=>{let e=class e{constructor(r,i){this._ngEl=r,this._renderer=i,this.initialClasses=ib,this.stateMap=new Map}set klass(r){this.initialClasses=r!=null?r.trim().split(jg):ib}set ngClass(r){this.rawClass=typeof r=="string"?r.trim().split(jg):r}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(let i of r)this._updateState(i,!0);else if(r!=null)for(let i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){let o=this.stateMap.get(r);o!==void 0?(o.enabled!==i&&(o.changed=!0,o.enabled=i),o.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let r of this.stateMap){let i=r[0],o=r[1];o.changed?(this._toggleClass(i,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),o.touched=!1}}_toggleClass(r,i){r=r.trim(),r.length>0&&r.split(jg).forEach(o=>{i?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}};e.\u0275fac=function(i){return new(i||e)(B(kt),B(yn))},e.\u0275dir=Le({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var Bg=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Yr=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,o){this._viewContainer=r,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((o,s,a)=>{if(o.previousIndex==null)i.createEmbeddedView(this._template,new Bg(o.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(s===null?void 0:s);else if(s!==null){let u=i.get(s);i.move(u,a),ob(u,o)}});for(let o=0,s=i.length;o<s;o++){let u=i.get(o).context;u.index=o,u.count=s,u.ngForOf=this._ngForOf}r.forEachIdentityChange(o=>{let s=i.get(o.currentIndex);ob(s,o)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(B(Gr),B(Ni),B(Lg))},e.\u0275dir=Le({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function ob(t,e){t.context.$implicit=e.item}var Jr=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new $g,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){sb("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){sb("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(B(Gr),B(Ni))},e.\u0275dir=Le({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),$g=class{constructor(){this.$implicit=null,this.ngIf=null}};function sb(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Nt(e)}'.`)}function ak(t,e){return new Q(2100,!1)}var fb=(()=>{let e=class e{transform(r,i,o){if(r==null)return null;if(!this.supports(r))throw ak(e,r);return r.slice(i,o)}supports(r){return typeof r=="string"||Array.isArray(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275pipe=jE({name:"slice",type:e,pure:!1,standalone:!0});let t=e;return t})();var gt=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=kn({type:e}),e.\u0275inj=On({});let t=e;return t})(),Kg="browser",ck="server";function Qg(t){return t===Kg}function Qo(t){return t===ck}var pb=(()=>{let e=class e{};e.\u0275prov=$({token:e,providedIn:"root",factory:()=>Qg(k(pt))?new Hg(k(Dt),window):new zg});let t=e;return t})(),Hg=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=uk(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function uk(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var zg=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Wo=class{};var ka=class{},Ql=class{},yr=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=i.toLowerCase(),s=n.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var Jg=class{encodeKey(e){return gb(e)}encodeValue(e){return gb(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function lk(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],u=n.get(s)||[];u.push(a),n.set(s,u)}),n}var dk=/%(\d[a-f0-9])/gi,hk={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function gb(t){return encodeURIComponent(t).replace(dk,(e,n)=>hk[n]??e)}function Kl(t){return`${t}`}var Xr=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Jg,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=lk(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(Kl):[Kl(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(Kl(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Kl(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Zg=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function fk(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function mb(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function yb(t){return typeof Blob<"u"&&t instanceof Blob}function vb(t){return typeof FormData<"u"&&t instanceof FormData}function pk(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var Oa=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(fk(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new yr,this.context??=new Zg,!this.params)this.params=new Xr,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),u=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+u+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||mb(this.body)||yb(this.body)||vb(this.body)||pk(this.body)?this.body:this.body instanceof Xr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||vb(this.body)?null:yb(this.body)?this.body.type||null:mb(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Xr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,u=e.reportProgress??this.reportProgress,l=e.headers||this.headers,h=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((m,y)=>m.set(y,e.setHeaders[y]),l)),e.setParams&&(h=Object.keys(e.setParams).reduce((m,y)=>m.set(y,e.setParams[y]),h)),new t(n,r,s,{params:h,headers:l,context:p,reportProgress:u,responseType:i,withCredentials:a,transferCache:o})}},ei=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(ei||{}),Fa=class{constructor(e,n=200,r="OK"){this.headers=e.headers||new yr,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Yl=class t extends Fa{constructor(e={}){super(e),this.type=ei.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Va=class t extends Fa{constructor(e={}){super(e),this.type=ei.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Zr=class extends Fa{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},Cb=200,gk=204;function Yg(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var mk=(()=>{let e=class e{constructor(r){this.handler=r}request(r,i,o={}){let s;if(r instanceof Oa)s=r;else{let l;o.headers instanceof yr?l=o.headers:l=new yr(o.headers);let h;o.params&&(o.params instanceof Xr?h=o.params:h=new Xr({fromObject:o.params})),s=new Oa(r,i,o.body!==void 0?o.body:null,{headers:l,context:o.context,params:h,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let a=G(s).pipe(nr(l=>this.handler.handle(l)));if(r instanceof Oa||o.observe==="events")return a;let u=a.pipe(Rt(l=>l instanceof Va));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return u.pipe(ie(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return u.pipe(ie(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return u.pipe(ie(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return u.pipe(ie(l=>l.body))}case"response":return u;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:new Xr().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,o={}){return this.request("PATCH",r,Yg(o,i))}post(r,i,o={}){return this.request("POST",r,Yg(o,i))}put(r,i,o={}){return this.request("PUT",r,Yg(o,i))}};e.\u0275fac=function(i){return new(i||e)(Y(ka))},e.\u0275prov=$({token:e,factory:e.\u0275fac});let t=e;return t})(),yk=/^\)\]\}',?\n/,vk="X-Request-URL";function _b(t){if(t.url)return t.url;let e=vk.toLocaleLowerCase();return t.headers.get(e)}var _k=(()=>{let e=class e{constructor(){this.fetchImpl=k(Xg,{optional:!0})?.fetch??fetch.bind(globalThis),this.ngZone=k(Te)}handle(r){return new ue(i=>{let o=new AbortController;return this.doRequest(r,o.signal,i).then(em,s=>i.error(new Zr({error:s}))),()=>o.abort()})}doRequest(r,i,o){return S(this,null,function*(){let s=this.createRequestInit(r),a;try{let T=this.fetchImpl(r.urlWithParams,j({signal:i},s));wk(T),o.next({type:ei.Sent}),a=yield T}catch(T){o.error(new Zr({error:T,status:T.status??0,statusText:T.statusText,url:r.urlWithParams,headers:T.headers}));return}let u=new yr(a.headers),l=a.statusText,h=_b(a)??r.urlWithParams,p=a.status,m=null;if(r.reportProgress&&o.next(new Yl({headers:u,status:p,statusText:l,url:h})),a.body){let T=a.headers.get("content-length"),N=[],R=a.body.getReader(),F=0,J,q,X=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>S(this,null,function*(){for(;;){let{done:re,value:E}=yield R.read();if(re)break;if(N.push(E),F+=E.length,r.reportProgress){q=r.responseType==="text"?(q??"")+(J??=new TextDecoder).decode(E,{stream:!0}):void 0;let v=()=>o.next({type:ei.DownloadProgress,total:T?+T:void 0,loaded:F,partialText:q});X?X.run(v):v()}}}));let Pe=this.concatChunks(N,F);try{let re=a.headers.get("Content-Type")??"";m=this.parseBody(r,Pe,re)}catch(re){o.error(new Zr({error:re,headers:new yr(a.headers),status:a.status,statusText:a.statusText,url:_b(a)??r.urlWithParams}));return}}p===0&&(p=m?Cb:0),p>=200&&p<300?(o.next(new Va({body:m,headers:u,status:p,statusText:l,url:h})),o.complete()):o.error(new Zr({error:m,headers:u,status:p,statusText:l,url:h}))})}parseBody(r,i,o){switch(r.responseType){case"json":let s=new TextDecoder().decode(i).replace(yk,"");return s===""?null:JSON.parse(s);case"text":return new TextDecoder().decode(i);case"blob":return new Blob([i],{type:o});case"arraybuffer":return i.buffer}}createRequestInit(r){let i={},o=r.withCredentials?"include":void 0;if(r.headers.forEach((s,a)=>i[s]=a.join(",")),i.Accept??="application/json, text/plain, */*",!i["Content-Type"]){let s=r.detectContentTypeHeader();s!==null&&(i["Content-Type"]=s)}return{body:r.serializeBody(),method:r.method,headers:i,credentials:o}}concatChunks(r,i){let o=new Uint8Array(i),s=0;for(let a of r)o.set(a,s),s+=a.length;return o}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac});let t=e;return t})(),Xg=class{};function em(){}function wk(t){t.then(em,em)}function bb(t,e){return e(t)}function Ek(t,e){return(n,r)=>e.intercept(n,{handle:i=>t(i,r)})}function Ik(t,e,n){return(r,i)=>Wt(n,()=>e(r,o=>t(o,i)))}var Ck=new H(""),tm=new H(""),bk=new H(""),Db=new H("",{providedIn:"root",factory:()=>!0});function Dk(){let t=null;return(e,n)=>{t===null&&(t=(k(Ck,{optional:!0})??[]).reduceRight(Ek,bb));let r=k(hr);if(k(Db)){let o=r.add();return t(e,n).pipe(Vr(()=>r.remove(o)))}else return t(e,n)}}var wb=(()=>{let e=class e extends ka{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=k(hr),this.contributeToStability=k(Db)}handle(r){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(tm),...this.injector.get(bk,[])]));this.chain=i.reduceRight((o,s)=>Ik(o,s,this.injector),bb)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(r,o=>this.backend.handle(o)).pipe(Vr(()=>this.pendingTasks.remove(i)))}else return this.chain(r,i=>this.backend.handle(i))}};e.\u0275fac=function(i){return new(i||e)(Y(Ql),Y(It))},e.\u0275prov=$({token:e,factory:e.\u0275fac});let t=e;return t})();var Tk=/^\)\]\}',?\n/;function Sk(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var Eb=(()=>{let e=class e{constructor(r){this.xhrFactory=r}handle(r){if(r.method==="JSONP")throw new Q(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?Oe(i.\u0275loadImpl()):G(null)).pipe(Ut(()=>new ue(s=>{let a=i.build();if(a.open(r.method,r.urlWithParams),r.withCredentials&&(a.withCredentials=!0),r.headers.forEach((R,F)=>a.setRequestHeader(R,F.join(","))),r.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){let R=r.detectContentTypeHeader();R!==null&&a.setRequestHeader("Content-Type",R)}if(r.responseType){let R=r.responseType.toLowerCase();a.responseType=R!=="json"?R:"text"}let u=r.serializeBody(),l=null,h=()=>{if(l!==null)return l;let R=a.statusText||"OK",F=new yr(a.getAllResponseHeaders()),J=Sk(a)||r.url;return l=new Yl({headers:F,status:a.status,statusText:R,url:J}),l},p=()=>{let{headers:R,status:F,statusText:J,url:q}=h(),X=null;F!==gk&&(X=typeof a.response>"u"?a.responseText:a.response),F===0&&(F=X?Cb:0);let Pe=F>=200&&F<300;if(r.responseType==="json"&&typeof X=="string"){let re=X;X=X.replace(Tk,"");try{X=X!==""?JSON.parse(X):null}catch(E){X=re,Pe&&(Pe=!1,X={error:E,text:X})}}Pe?(s.next(new Va({body:X,headers:R,status:F,statusText:J,url:q||void 0})),s.complete()):s.error(new Zr({error:X,headers:R,status:F,statusText:J,url:q||void 0}))},m=R=>{let{url:F}=h(),J=new Zr({error:R,status:a.status||0,statusText:a.statusText||"Unknown Error",url:F||void 0});s.error(J)},y=!1,T=R=>{y||(s.next(h()),y=!0);let F={type:ei.DownloadProgress,loaded:R.loaded};R.lengthComputable&&(F.total=R.total),r.responseType==="text"&&a.responseText&&(F.partialText=a.responseText),s.next(F)},N=R=>{let F={type:ei.UploadProgress,loaded:R.loaded};R.lengthComputable&&(F.total=R.total),s.next(F)};return a.addEventListener("load",p),a.addEventListener("error",m),a.addEventListener("timeout",m),a.addEventListener("abort",m),r.reportProgress&&(a.addEventListener("progress",T),u!==null&&a.upload&&a.upload.addEventListener("progress",N)),a.send(u),s.next({type:ei.Sent}),()=>{a.removeEventListener("error",m),a.removeEventListener("abort",m),a.removeEventListener("load",p),a.removeEventListener("timeout",m),r.reportProgress&&(a.removeEventListener("progress",T),u!==null&&a.upload&&a.upload.removeEventListener("progress",N)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(i){return new(i||e)(Y(Wo))},e.\u0275prov=$({token:e,factory:e.\u0275fac});let t=e;return t})(),Tb=new H(""),Ak="XSRF-TOKEN",Mk=new H("",{providedIn:"root",factory:()=>Ak}),xk="X-XSRF-TOKEN",Rk=new H("",{providedIn:"root",factory:()=>xk}),Jl=class{},Pk=(()=>{let e=class e{constructor(r,i,o){this.doc=r,this.platform=i,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=Wl(r,this.cookieName),this.lastCookieString=r),this.lastToken}};e.\u0275fac=function(i){return new(i||e)(Y(Dt),Y(pt),Y(Mk))},e.\u0275prov=$({token:e,factory:e.\u0275fac});let t=e;return t})();function Nk(t,e){let n=t.url.toLowerCase();if(!k(Tb)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=k(Jl).getToken(),i=k(Rk);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var Sb=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(Sb||{});function Ok(t,e){return{\u0275kind:t,\u0275providers:e}}function nm(...t){let e=[mk,Eb,wb,{provide:ka,useExisting:wb},{provide:Ql,useFactory:()=>k(_k,{optional:!0})??k(Eb)},{provide:tm,useValue:Nk,multi:!0},{provide:Tb,useValue:!0},{provide:Jl,useClass:Pk}];for(let n of t)e.push(...n.\u0275providers);return gn(e)}var Ib=new H("");function kk(){return Ok(Sb.LegacyInterceptors,[{provide:Ib,useFactory:Dk},{provide:tm,useExisting:Ib,multi:!0}])}var Ab=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=kn({type:e}),e.\u0275inj=On({providers:[nm(kk())]});let t=e;return t})();var om=class extends Gl{constructor(){super(...arguments),this.supportsDOMEvents=!0}},sm=class t extends om{static makeCurrent(){cb(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=Fk();return n==null?null:Vk(n)}resetBaseElement(){La=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Wl(document.cookie,e)}},La=null;function Fk(){return La=La||document.querySelector("base"),La?La.getAttribute("href"):null}function Vk(t){return new URL(t,document.baseURI).pathname}var Lk=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac});let t=e;return t})(),am=new H(""),Pb=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new Q(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(Y(am),Y(Te))},e.\u0275prov=$({token:e,factory:e.\u0275fac});let t=e;return t})(),Zl=class{constructor(e){this._doc=e}},rm="ng-app-id",Nb=(()=>{let e=class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Qo(s),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(o=>o.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${rm}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(o=>{o.textContent!=null&&i.set(o.textContent,o)}),i}return null}changeUsageCount(r,i){let o=this.styleRef;if(o.has(r)){let s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===r)return o.delete(i),s.removeAttribute(rm),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(rm,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let o=this.getStyleElement(r,i),s=this.styleRef,a=s.get(i)?.elements;a?a.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(Y(Dt),Y(yg),Y(_g,8),Y(pt))},e.\u0275prov=$({token:e,factory:e.\u0275fac});let t=e;return t})(),im={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},um=/%COMP%/g,Ob="%COMP%",Uk=`_nghost-${Ob}`,jk=`_ngcontent-${Ob}`,Bk=!0,$k=new H("",{providedIn:"root",factory:()=>Bk});function Hk(t){return jk.replace(um,t)}function zk(t){return Uk.replace(um,t)}function kb(t,e){return e.map(n=>n.replace(um,t))}var Mb=(()=>{let e=class e{constructor(r,i,o,s,a,u,l,h=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=u,this.ngZone=l,this.nonce=h,this.rendererByCompId=new Map,this.platformIsServer=Qo(u),this.defaultRenderer=new Ua(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===An.ShadowDom&&(i=be(j({},i),{encapsulation:An.Emulated}));let o=this.getOrCreateRenderer(r,i);return o instanceof Xl?o.applyToHost(r):o instanceof ja&&o.applyStyles(),o}getOrCreateRenderer(r,i){let o=this.rendererByCompId,s=o.get(i.id);if(!s){let a=this.doc,u=this.ngZone,l=this.eventManager,h=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(i.encapsulation){case An.Emulated:s=new Xl(l,h,i,this.appId,p,a,u,m);break;case An.ShadowDom:return new cm(l,h,r,i,a,u,this.nonce,m);default:s=new ja(l,h,i,p,a,u,m);break}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(Y(Pb),Y(Nb),Y(yg),Y($k),Y(Dt),Y(pt),Y(Te),Y(_g))},e.\u0275prov=$({token:e,factory:e.\u0275fac});let t=e;return t})(),Ua=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(im[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(xb(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(xb(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new Q(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=im[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=im[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(or.DashCase|or.Important)?e.style.setProperty(n,r,i&or.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&or.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=gr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function xb(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var cm=class extends Ua{constructor(e,n,r,i,o,s,a,u){super(e,o,s,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=kb(i.id,i.styles);for(let h of l){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ja=class extends Ua{constructor(e,n,r,i,o,s,a,u){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?kb(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Xl=class extends ja{constructor(e,n,r,i,o,s,a,u){let l=i+"-"+r.id;super(e,n,r,o,s,a,u,l),this.contentAttr=Hk(l),this.hostAttr=zk(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},qk=(()=>{let e=class e extends Zl{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}};e.\u0275fac=function(i){return new(i||e)(Y(Dt))},e.\u0275prov=$({token:e,factory:e.\u0275fac});let t=e;return t})(),Rb=["alt","control","meta","shift"],Gk={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Wk={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},Kk=(()=>{let e=class e extends Zl{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,o){let s=e.parseEventName(i),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>gr().onAndCancel(r,s.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(i.pop()),a="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),a="code."),Rb.forEach(h=>{let p=i.indexOf(h);p>-1&&(i.splice(p,1),a+=h+".")}),a+=s,i.length!=0||s.length===0)return null;let l={};return l.domEventName=o,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let o=Gk[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),Rb.forEach(a=>{if(a!==o){let u=Wk[a];u(r)&&(s+=a+".")}}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(Y(Dt))},e.\u0275prov=$({token:e,factory:e.\u0275fac});let t=e;return t})();function Fb(t,e){return eb(j({rootComponent:t},Qk(e)))}function Qk(t){return{appProviders:[...eF,...t?.providers??[]],platformProviders:Xk}}function Yk(){sm.makeCurrent()}function Jk(){return new Pn}function Zk(){return $I(document),document}var Xk=[{provide:pt,useValue:Kg},{provide:vg,useValue:Yk,multi:!0},{provide:Dt,useFactory:Zk,deps:[]}];var eF=[{provide:Dl,useValue:"root"},{provide:Pn,useFactory:Jk,deps:[]},{provide:am,useClass:qk,multi:!0,deps:[Dt,Te,pt]},{provide:am,useClass:Kk,multi:!0,deps:[Dt]},Mb,Nb,Pb,{provide:$o,useExisting:Mb},{provide:Wo,useClass:Lk,deps:[]},[]];var Vb=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(Y(Dt))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var pe="primary",nc=Symbol("RouteTitle"),pm=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function ts(t){return new pm(t)}function nF(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function rF(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Un(t[n],e[n]))return!1;return!0}function Un(t,e){let n=t?gm(t):void 0,r=e?gm(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!Kb(t[i],e[i]))return!1;return!0}function gm(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function Kb(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function Qb(t){return t.length>0?t[t.length-1]:null}function ri(t){return jf(t)?t:Fi(t)?Oe(Promise.resolve(t)):G(t)}var iF={exact:Jb,subset:Zb},Yb={exact:oF,subset:sF,ignored:()=>!0};function Lb(t,e,n){return iF[n.paths](t.root,e.root,n.matrixParams)&&Yb[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function oF(t,e){return Un(t,e)}function Jb(t,e,n){if(!ji(t.segments,e.segments)||!nd(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!Jb(t.children[r],e.children[r],n))return!1;return!0}function sF(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Kb(t[n],e[n]))}function Zb(t,e,n){return Xb(t,e,e.segments,n)}function Xb(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!ji(i,n)||e.hasChildren()||!nd(i,n,r))}else if(t.segments.length===n.length){if(!ji(t.segments,n)||!nd(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!Zb(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!ji(t.segments,i)||!nd(t.segments,i,r)||!t.children[pe]?!1:Xb(t.children[pe],e,o,r)}}function nd(t,e,n){return e.every((r,i)=>Yb[n](t[i].parameters,r.parameters))}var ti=class{constructor(e=new xe([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=ts(this.queryParams),this._queryParamMap}toString(){return uF.serialize(this)}},xe=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return rd(this)}},Ui=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=ts(this.parameters),this._parameterMap}toString(){return tD(this)}};function aF(t,e){return ji(t,e)&&t.every((n,r)=>Un(n.parameters,e[r].parameters))}function ji(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function cF(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===pe&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==pe&&(n=n.concat(e(i,r)))}),n}var rc=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:()=>new ns,providedIn:"root"});let t=e;return t})(),ns=class{parse(e){let n=new ym(e);return new ti(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Ba(e.root,!0)}`,r=hF(e.queryParams),i=typeof e.fragment=="string"?`#${lF(e.fragment)}`:"";return`${n}${r}${i}`}},uF=new ns;function rd(t){return t.segments.map(e=>tD(e)).join("/")}function Ba(t,e){if(!t.hasChildren())return rd(t);if(e){let n=t.children[pe]?Ba(t.children[pe],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==pe&&r.push(`${i}:${Ba(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=cF(t,(r,i)=>i===pe?[Ba(t.children[pe],!1)]:[`${i}:${Ba(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[pe]!=null?`${rd(t)}/${n[0]}`:`${rd(t)}/(${n.join("//")})`}}function eD(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ed(t){return eD(t).replace(/%3B/gi,";")}function lF(t){return encodeURI(t)}function mm(t){return eD(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function id(t){return decodeURIComponent(t)}function Ub(t){return id(t.replace(/\+/g,"%20"))}function tD(t){return`${mm(t.path)}${dF(t.parameters)}`}function dF(t){return Object.entries(t).map(([e,n])=>`;${mm(e)}=${mm(n)}`).join("")}function hF(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${ed(n)}=${ed(i)}`).join("&"):`${ed(n)}=${ed(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var fF=/^[^\/()?;#]+/;function lm(t){let e=t.match(fF);return e?e[0]:""}var pF=/^[^\/()?;=#]+/;function gF(t){let e=t.match(pF);return e?e[0]:""}var mF=/^[^=?&#]+/;function yF(t){let e=t.match(mF);return e?e[0]:""}var vF=/^[^&#]+/;function _F(t){let e=t.match(vF);return e?e[0]:""}var ym=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new xe([],{}):new xe([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[pe]=new xe(e,n)),r}parseSegment(){let e=lm(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new Q(4009,!1);return this.capture(e),new Ui(id(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=gF(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=lm(this.remaining);i&&(r=i,this.capture(r))}e[id(n)]=id(r)}parseQueryParam(e){let n=yF(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=_F(this.remaining);s&&(r=s,this.capture(r))}let i=Ub(n),o=Ub(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=lm(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new Q(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=pe);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[pe]:new xe([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new Q(4011,!1)}};function nD(t){return t.segments.length>0?new xe([],{[pe]:t}):t}function rD(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=rD(i);if(r===pe&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new xe(t.segments,e);return wF(n)}function wF(t){if(t.numberOfChildren===1&&t.children[pe]){let e=t.children[pe];return new xe(t.segments.concat(e.segments),e.children)}return t}function Wa(t){return t instanceof ti}function EF(t,e,n=null,r=null){let i=iD(t);return oD(i,e,n,r)}function iD(t){let e;function n(o){let s={};for(let u of o.children){let l=n(u);s[u.outlet]=l}let a=new xe(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=nD(r);return e??i}function oD(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return dm(i,i,i,n,r);let o=IF(e);if(o.toRoot())return dm(i,i,new xe([],{}),n,r);let s=CF(o,i,t),a=s.processChildren?za(s.segmentGroup,s.index,o.commands):aD(s.segmentGroup,s.index,o.commands);return dm(i,s.segmentGroup,a,n,r)}function od(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Ka(t){return typeof t=="object"&&t!=null&&t.outlets}function dm(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;t===e?s=n:s=sD(t,e,n);let a=nD(rD(s));return new ti(a,o,i)}function sD(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=sD(o,e,n)}),new xe(t.segments,r)}var sd=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&od(r[0]))throw new Q(4003,!1);let i=r.find(Ka);if(i&&i!==Qb(r))throw new Q(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function IF(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new sd(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new sd(n,e,r)}var Zo=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function CF(t,e,n){if(t.isAbsolute)return new Zo(e,!0,0);if(!n)return new Zo(e,!1,NaN);if(n.parent===null)return new Zo(n,!0,0);let r=od(t.commands[0])?0:1,i=n.segments.length-1+r;return bF(n,i,t.numberOfDoubleDots)}function bF(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Q(4005,!1);i=r.segments.length}return new Zo(r,!1,i-o)}function DF(t){return Ka(t[0])?t[0].outlets:{[pe]:t}}function aD(t,e,n){if(t??=new xe([],{}),t.segments.length===0&&t.hasChildren())return za(t,e,n);let r=TF(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new xe(t.segments.slice(0,r.pathIndex),{});return o.children[pe]=new xe(t.segments.slice(r.pathIndex),t.children),za(o,0,i)}else return r.match&&i.length===0?new xe(t.segments,{}):r.match&&!t.hasChildren()?vm(t,e,n):r.match?za(t,0,i):vm(t,e,n)}function za(t,e,n){if(n.length===0)return new xe(t.segments,{});{let r=DF(n),i={};if(Object.keys(r).some(o=>o!==pe)&&t.children[pe]&&t.numberOfChildren===1&&t.children[pe].segments.length===0){let o=za(t.children[pe],e,n);return new xe(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=aD(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new xe(t.segments,i)}}function TF(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(Ka(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!Bb(u,l,s))return o;r+=2}else{if(!Bb(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function vm(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(Ka(o)){let u=SF(o.outlets);return new xe(r,u)}if(i===0&&od(n[0])){let u=t.segments[e];r.push(new Ui(u.path,jb(n[0]))),i++;continue}let s=Ka(o)?o.outlets[pe]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&od(a)?(r.push(new Ui(s,jb(a))),i+=2):(r.push(new Ui(s,{})),i++)}return new xe(r,{})}function SF(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=vm(new xe([],{}),0,r))}),e}function jb(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function Bb(t,e,n){return t==n.path&&Un(e,n.parameters)}var qa="imperative",lt=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(lt||{}),on=class{constructor(e,n){this.id=e,this.url=n}},rs=class extends on{constructor(e,n,r="imperative",i=null){super(e,n),this.type=lt.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},_n=class extends on{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=lt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Qt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Qt||{}),ad=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(ad||{}),vr=class extends on{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=lt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},ni=class extends on{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=lt.NavigationSkipped}},Qa=class extends on{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=lt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},cd=class extends on{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=lt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},_m=class extends on{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=lt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},wm=class extends on{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=lt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Em=class extends on{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=lt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Im=class extends on{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=lt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Cm=class{constructor(e){this.route=e,this.type=lt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},bm=class{constructor(e){this.route=e,this.type=lt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Dm=class{constructor(e){this.snapshot=e,this.type=lt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Tm=class{constructor(e){this.snapshot=e,this.type=lt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Sm=class{constructor(e){this.snapshot=e,this.type=lt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Am=class{constructor(e){this.snapshot=e,this.type=lt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ud=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=lt.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Ya=class{},is=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};var Mm=class{constructor(e){this.injector=e,this.outlet=null,this.route=null,this.children=new ic(this.injector),this.attachRef=null}},ic=(()=>{let e=class e{constructor(r){this.parentInjector=r,this.contexts=new Map}onChildOutletCreated(r,i){let o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Mm(this.parentInjector),this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)(Y(It))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ld=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=xm(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=xm(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Rm(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Rm(e,this._root).map(n=>n.value)}};function xm(t,e){if(t===e.value)return e;for(let n of e.children){let r=xm(t,n);if(r)return r}return null}function Rm(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Rm(t,n);if(r.length)return r.unshift(e),r}return[]}var Kt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Jo(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var dd=class extends ld{constructor(e,n){super(e),this.snapshot=n,jm(this,e)}toString(){return this.snapshot.toString()}};function cD(t){let e=AF(t),n=new Je([new Ui("",{})]),r=new Je({}),i=new Je({}),o=new Je({}),s=new Je(""),a=new jn(n,r,o,s,i,pe,t,e.root);return a.snapshot=e.root,new dd(new Kt(a,[]),e)}function AF(t){let e={},n={},r={},i="",o=new Xo([],e,r,i,n,pe,t,null,{});return new fd("",new Kt(o,[]))}var jn=class{constructor(e,n,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ie(l=>l[nc]))??G(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ie(e=>ts(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ie(e=>ts(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function hd(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:j(j({},e.params),t.params),data:j(j({},e.data),t.data),resolve:j(j(j(j({},t.data),e.data),i?.data),t._resolvedData)}:r={params:j({},t.params),data:j({},t.data),resolve:j(j({},t.data),t._resolvedData??{})},i&&lD(i)&&(r.resolve[nc]=i.title),r}var Xo=class{get title(){return this.data?.[nc]}constructor(e,n,r,i,o,s,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ts(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ts(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},fd=class extends ld{constructor(e,n){super(n),this.url=e,jm(this,n)}toString(){return uD(this._root)}};function jm(t,e){e.value._routerState=t,e.children.forEach(n=>jm(t,n))}function uD(t){let e=t.children.length>0?` { ${t.children.map(uD).join(", ")} } `:"";return`${t.value}${e}`}function hm(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Un(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Un(e.params,n.params)||t.paramsSubject.next(n.params),rF(e.url,n.url)||t.urlSubject.next(n.url),Un(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Pm(t,e){let n=Un(t.params,e.params)&&aF(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Pm(t.parent,e.parent))}function lD(t){return typeof t.title=="string"||t.title===null}var Bm=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=pe,this.activateEvents=new qe,this.deactivateEvents=new qe,this.attachEvents=new qe,this.detachEvents=new qe,this.parentContexts=k(ic),this.location=k(Gr),this.changeDetector=k(Kr),this.inputBinder=k(yd,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Q(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Q(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Q(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new Q(4013,!1);this._activatedRoute=r;let o=this.location,a=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,l=new Nm(r,u,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Le({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[lr]});let t=e;return t})(),Nm=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===jn?this.route:e===ic?this.childContexts:this.parent.get(e,n)}},yd=new H(""),$b=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:i}=r,o=ma([i.queryParams,i.params,i.data]).pipe(Ut(([s,a,u],l)=>(u=j(j(j({},s),a),u),l===0?G(u):Promise.resolve(u)))).subscribe(s=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(r);return}let a=tb(i.component);if(!a){this.unsubscribeFromRouteData(r);return}for(let{templateName:u}of a.inputs)r.activatedComponentRef.setInput(u,s[u])});this.outletDataSubscriptions.set(r,o)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac});let t=e;return t})();function MF(t,e,n){let r=Ja(t,e._root,n?n._root:void 0);return new dd(r,e)}function Ja(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=xF(t,e,n);return new Kt(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Ja(t,a)),s}}let r=RF(e.value),i=e.children.map(o=>Ja(t,o));return new Kt(r,i)}}function xF(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Ja(t,r,i);return Ja(t,r)})}function RF(t){return new jn(new Je(t.url),new Je(t.params),new Je(t.queryParams),new Je(t.fragment),new Je(t.data),t.outlet,t.component,t)}var Za=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},dD="ngNavigationCancelingError";function pd(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Wa(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=hD(!1,Qt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function hD(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[dD]=!0,n.cancellationCode=e,n}function PF(t){return fD(t)&&Wa(t.url)}function fD(t){return!!t&&t[dD]}var NF=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ge({type:e,selectors:[["ng-component"]],standalone:!0,features:[We],decls:1,vars:0,template:function(i,o){i&1&&fe(0,"router-outlet")},dependencies:[Bm],encapsulation:2});let t=e;return t})();function OF(t,e){return t.providers&&!t._injector&&(t._injector=Ll(t.providers,e,`Route: ${t.path}`)),t._injector??e}function $m(t){let e=t.children&&t.children.map($m),n=e?be(j({},t),{children:e}):j({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==pe&&(n.component=NF),n}function vn(t){return t.outlet||pe}function kF(t,e){let n=t.filter(r=>vn(r)===e);return n.push(...t.filter(r=>vn(r)!==e)),n}function oc(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var FF=(t,e,n,r)=>ie(i=>(new Om(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Om=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),hm(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Jo(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Jo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Jo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Jo(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Am(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Tm(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(hm(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),hm(a.route.value),this.activateChildRoutes(e,null,s.children)}else{let a=oc(i.snapshot);s.attachRef=null,s.route=i,s.injector=a??s.injector,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}},gd=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},es=class{constructor(e,n){this.component=e,this.route=n}};function VF(t,e,n){let r=t._root,i=e?e._root:null;return $a(r,i,n,[r.value])}function LF(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function as(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!SE(t)?t:e.get(t):r}function $a(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Jo(e);return t.children.forEach(s=>{UF(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Ga(a,n.getContext(s),i)),i}function UF(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=jF(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new gd(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?$a(t,e,a?a.children:null,r,i):$a(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new es(a.outlet.component,s))}else s&&Ga(e,a,i),i.canActivateChecks.push(new gd(r)),o.component?$a(t,null,a?a.children:null,r,i):$a(t,null,n,r,i);return i}function jF(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!ji(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ji(t.url,e.url)||!Un(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Pm(t,e)||!Un(t.queryParams,e.queryParams);case"paramsChange":default:return!Pm(t,e)}}function Ga(t,e,n){let r=Jo(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Ga(s,e.children.getContext(o),n):Ga(s,null,n):Ga(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new es(e.outlet.component,i)):n.canDeactivateChecks.push(new es(null,i)):n.canDeactivateChecks.push(new es(null,i))}function sc(t){return typeof t=="function"}function BF(t){return typeof t=="boolean"}function $F(t){return t&&sc(t.canLoad)}function HF(t){return t&&sc(t.canActivate)}function zF(t){return t&&sc(t.canActivateChild)}function qF(t){return t&&sc(t.canDeactivate)}function GF(t){return t&&sc(t.canMatch)}function pD(t){return t instanceof tr||t?.name==="EmptyError"}var td=Symbol("INITIAL_VALUE");function os(){return Ut(t=>ma(t.map(e=>e.pipe(rr(1),$u(td)))).pipe(ie(e=>{for(let n of e)if(n!==!0){if(n===td)return td;if(n===!1||WF(n))return n}return!0}),Rt(e=>e!==td),rr(1)))}function WF(t){return Wa(t)||t instanceof Za}function KF(t,e){return Xe(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?G(be(j({},n),{guardsResult:!0})):QF(s,r,i,t).pipe(Xe(a=>a&&BF(a)?YF(r,o,t,e):G(a)),ie(a=>be(j({},n),{guardsResult:a})))})}function QF(t,e,n,r){return Oe(t).pipe(Xe(i=>tV(i.component,i.route,n,e,r)),Dn(i=>i!==!0,!0))}function YF(t,e,n,r){return Oe(e).pipe(nr(i=>To(ZF(i.route.parent,r),JF(i.route,r),eV(t,i.path,n),XF(t,i.route,n))),Dn(i=>i!==!0,!0))}function JF(t,e){return t!==null&&e&&e(new Sm(t)),G(!0)}function ZF(t,e){return t!==null&&e&&e(new Dm(t)),G(!0)}function XF(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return G(!0);let i=r.map(o=>Uu(()=>{let s=oc(e)??n,a=as(o,s),u=HF(a)?a.canActivate(e,t):Wt(s,()=>a(e,t));return ri(u).pipe(Dn())}));return G(i).pipe(os())}function eV(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>LF(s)).filter(s=>s!==null).map(s=>Uu(()=>{let a=s.guards.map(u=>{let l=oc(s.node)??n,h=as(u,l),p=zF(h)?h.canActivateChild(r,t):Wt(l,()=>h(r,t));return ri(p).pipe(Dn())});return G(a).pipe(os())}));return G(o).pipe(os())}function tV(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return G(!0);let s=o.map(a=>{let u=oc(e)??i,l=as(a,u),h=qF(l)?l.canDeactivate(t,e,n,r):Wt(u,()=>l(t,e,n,r));return ri(h).pipe(Dn())});return G(s).pipe(os())}function nV(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return G(!0);let o=i.map(s=>{let a=as(s,t),u=$F(a)?a.canLoad(e,n):Wt(t,()=>a(e,n));return ri(u)});return G(o).pipe(os(),gD(r))}function gD(t){return vu(et(e=>{if(typeof e!="boolean")throw pd(t,e)}),ie(e=>e===!0))}function rV(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return G(!0);let o=i.map(s=>{let a=as(s,t),u=GF(a)?a.canMatch(e,n):Wt(t,()=>a(e,n));return ri(u)});return G(o).pipe(os(),gD(r))}var Xa=class{constructor(e){this.segmentGroup=e||null}},ec=class extends Error{constructor(e){super(),this.urlTree=e}};function Yo(t){return Do(new Xa(t))}function iV(t){return Do(new Q(4e3,!1))}function oV(t){return Do(hD(!1,Qt.GuardRejected))}var km=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return G(r);if(i.numberOfChildren>1||!i.children[pe])return iV(`${e.redirectTo}`);i=i.children[pe]}}applyRedirectCommands(e,n,r,i,o){if(typeof n!="string"){let a=n,{queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,params:y,data:T,title:N}=i,R=Wt(o,()=>a({params:y,data:T,queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,title:N}));if(R instanceof ti)throw new ec(R);n=R}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new ec(s);return s}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new ti(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new xe(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new Q(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Fm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function sV(t,e,n,r,i){let o=Hm(t,e,n);return o.matched?(r=OF(e,r),rV(r,e,n,i).pipe(ie(s=>s===!0?o:j({},Fm)))):G(o)}function Hm(t,e,n){if(e.path==="**")return aV(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?j({},Fm):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||nF)(n,t,e);if(!i)return j({},Fm);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?j(j({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function aV(t){return{matched:!0,parameters:t.length>0?Qb(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function Hb(t,e,n,r){return n.length>0&&lV(t,n,r)?{segmentGroup:new xe(e,uV(r,new xe(n,t.children))),slicedSegments:[]}:n.length===0&&dV(t,n,r)?{segmentGroup:new xe(t.segments,cV(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new xe(t.segments,t.children),slicedSegments:n}}function cV(t,e,n,r){let i={};for(let o of n)if(vd(t,e,o)&&!r[vn(o)]){let s=new xe([],{});i[vn(o)]=s}return j(j({},r),i)}function uV(t,e){let n={};n[pe]=e;for(let r of t)if(r.path===""&&vn(r)!==pe){let i=new xe([],{});n[vn(r)]=i}return n}function lV(t,e,n){return n.some(r=>vd(t,e,r)&&vn(r)!==pe)}function dV(t,e,n){return n.some(r=>vd(t,e,r))}function vd(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function hV(t,e,n,r){return vn(t)!==r&&(r===pe||!vd(e,n,t))?!1:Hm(e,t,n).matched}function fV(t,e,n){return e.length===0&&!t.children[n]}var Vm=class{};function pV(t,e,n,r,i,o,s="emptyOnly"){return new Lm(t,e,n,r,i,s,o).recognize()}var gV=31,Lm=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new km(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new Q(4002,`'${e.segmentGroup}'`)}recognize(){let e=Hb(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ie(({children:n,rootSnapshot:r})=>{let i=new Kt(r,n),o=new fd("",i),s=EF(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new Xo([],Object.freeze({}),Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),pe,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,pe,n).pipe(ie(r=>({children:r,rootSnapshot:n})),bn(r=>{if(r instanceof ec)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Xa?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(ie(s=>s instanceof Kt?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Oe(o).pipe(nr(s=>{let a=r.children[s],u=kF(n,s);return this.processSegmentGroup(e,u,a,s,i)}),Bu((s,a)=>(s.push(...a),s)),Fr(null),zf(),Xe(s=>{if(s===null)return Yo(r);let a=mD(s);return mV(a),G(a)}))}processSegment(e,n,r,i,o,s,a){return Oe(n).pipe(nr(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,o,s,a).pipe(bn(l=>{if(l instanceof Xa)return G(null);throw l}))),Dn(u=>!!u),bn(u=>{if(pD(u))return fV(r,i,o)?G(new Vm):Yo(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,o,s,a,u){return hV(r,i,o,s)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,u):Yo(i):Yo(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:m}=Hm(n,i,o);if(!u)return Yo(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>gV&&(this.allowRedirects=!1));let y=new Xo(o,l,Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,zb(i),vn(i),i.component??i._loadedComponent??null,i,qb(i)),T=hd(y,a,this.paramsInheritanceStrategy);y.params=Object.freeze(T.params),y.data=Object.freeze(T.data);let N=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,y,e);return this.applyRedirects.lineralizeSegments(i,N).pipe(Xe(R=>this.processSegment(e,r,n,R.concat(m),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a=sV(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(Ut(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Ut(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:y}=u,T=new Xo(m,p,Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,zb(r),vn(r),r.component??r._loadedComponent??null,r,qb(r)),N=hd(T,s,this.paramsInheritanceStrategy);T.params=Object.freeze(N.params),T.data=Object.freeze(N.data);let{segmentGroup:R,slicedSegments:F}=Hb(n,m,y,l);if(F.length===0&&R.hasChildren())return this.processChildren(h,l,R,T).pipe(ie(q=>new Kt(T,q)));if(l.length===0&&F.length===0)return G(new Kt(T,[]));let J=vn(r)===o;return this.processSegment(h,l,R,F,J?pe:o,!0,T).pipe(ie(q=>new Kt(T,q instanceof Kt?[q]:[])))}))):Yo(n)))}getChildConfig(e,n,r){return n.children?G({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?G({routes:n._loadedRoutes,injector:n._loadedInjector}):nV(e,n,r,this.urlSerializer).pipe(Xe(i=>i?this.configLoader.loadChildren(e,n).pipe(et(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):oV(n))):G({routes:[],injector:e})}};function mV(t){t.sort((e,n)=>e.value.outlet===pe?-1:n.value.outlet===pe?1:e.value.outlet.localeCompare(n.value.outlet))}function yV(t){let e=t.value.routeConfig;return e&&e.path===""}function mD(t){let e=[],n=new Set;for(let r of t){if(!yV(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=mD(r.children);e.push(new Kt(r.value,i))}return e.filter(r=>!n.has(r))}function zb(t){return t.data||{}}function qb(t){return t.resolve||{}}function vV(t,e,n,r,i,o){return Xe(s=>pV(t,e,n,r,s.extractedUrl,i,o).pipe(ie(({state:a,tree:u})=>be(j({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function _V(t,e){return Xe(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return G(n);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of yD(u))s.add(l);let a=0;return Oe(s).pipe(nr(u=>o.has(u)?wV(u,r,t,e):(u.data=hd(u,u.parent,t).resolve,G(void 0))),et(()=>a++),So(1),Xe(u=>a===s.size?G(n):qt))})}function yD(t){let e=t.children.map(n=>yD(n)).flat();return[t,...e]}function wV(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!lD(i)&&(o[nc]=i.title),EV(o,t,e,r).pipe(ie(s=>(t._resolvedData=s,t.data=hd(t,t.parent,n).resolve,null)))}function EV(t,e,n,r){let i=gm(t);if(i.length===0)return G({});let o={};return Oe(i).pipe(Xe(s=>IV(t[s],e,n,r).pipe(Dn(),et(a=>{if(a instanceof Za)throw pd(new ns,a);o[s]=a}))),So(1),Hf(o),bn(s=>pD(s)?qt:Do(s)))}function IV(t,e,n,r){let i=oc(e)??r,o=as(t,i),s=o.resolve?o.resolve(e,n):Wt(i,()=>o(e,n));return ri(s)}function fm(t){return Ut(e=>{let n=t(e);return n?Oe(n).pipe(ie(()=>e)):G(e)})}var vD=(()=>{let e=class e{buildTitle(r){let i,o=r.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===pe);return i}getResolvedTitleForRoute(r){return r.data[nc]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:()=>k(CV),providedIn:"root"});let t=e;return t})(),CV=(()=>{let e=class e extends vD{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(Y(Vb))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ac=new H("",{providedIn:"root",factory:()=>({})}),tc=new H(""),zm=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=k(ql)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return G(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=ri(r.loadComponent()).pipe(ie(_D),et(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),Vr(()=>{this.componentLoaders.delete(r)})),o=new Eo(i,()=>new at).pipe(wo());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return G({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=bV(i,this.compiler,r,this.onLoadEndListener).pipe(Vr(()=>{this.childrenLoaders.delete(i)})),a=new Eo(s,()=>new at).pipe(wo());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function bV(t,e,n,r){return ri(t.loadChildren()).pipe(ie(_D),Xe(i=>i instanceof ba||Array.isArray(i)?G(i):Oe(e.compileModuleAsync(i))),ie(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(tc,[],{optional:!0,self:!0}).flat()),{routes:s.map($m),injector:o}}))}function DV(t){return t&&typeof t=="object"&&"default"in t}function _D(t){return DV(t)?t.default:t}var qm=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:()=>k(TV),providedIn:"root"});let t=e;return t})(),TV=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),wD=new H(""),ED=new H("");function SV(t,e,n){let r=t.get(ED),i=t.get(Dt);return t.get(Te).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),AV(t))),{onViewTransitionCreated:u}=r;return u&&Wt(t,()=>u({transition:a,from:e,to:n})),s})}function AV(t){return new Promise(e=>{Vl(()=>setTimeout(e),{injector:t,phase:Ur.Read})})}var MV=new H(""),Gm=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new at,this.transitionAbortSubject=new at,this.configLoader=k(zm),this.environmentInjector=k(It),this.urlSerializer=k(rc),this.rootContexts=k(ic),this.location=k(Ko),this.inputBindingEnabled=k(yd,{optional:!0})!==null,this.titleStrategy=k(vD),this.options=k(ac,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=k(qm),this.createViewTransition=k(wD,{optional:!0}),this.navigationErrorHandler=k(MV,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>G(void 0),this.rootComponentType=null;let r=o=>this.events.next(new Cm(o)),i=o=>this.events.next(new bm(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(be(j(j({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,o){return this.transitions=new Je({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:qa,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Rt(s=>s.id!==0),ie(s=>be(j({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Ut(s=>{let a=!1,u=!1;return G(s).pipe(Ut(l=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",Qt.SupersededByNewNavigation),qt;this.currentTransition=s,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?be(j({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let h=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!h&&p!=="reload"){let m="";return this.events.next(new ni(l.id,this.urlSerializer.serialize(l.rawUrl),m,ad.IgnoredSameUrlNavigation)),l.resolve(!1),qt}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return G(l).pipe(Ut(m=>{let y=this.transitions?.getValue();return this.events.next(new rs(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),y!==this.transitions?.getValue()?qt:Promise.resolve(m)}),vV(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),et(m=>{s.targetSnapshot=m.targetSnapshot,s.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation=be(j({},this.currentNavigation),{finalUrl:m.urlAfterRedirects});let y=new cd(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(y)}));if(h&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:m,extractedUrl:y,source:T,restoredState:N,extras:R}=l,F=new rs(m,this.urlSerializer.serialize(y),T,N);this.events.next(F);let J=cD(this.rootComponentType).snapshot;return this.currentTransition=s=be(j({},l),{targetSnapshot:J,urlAfterRedirects:y,extras:be(j({},R),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=y,G(s)}else{let m="";return this.events.next(new ni(l.id,this.urlSerializer.serialize(l.extractedUrl),m,ad.IgnoredByUrlHandlingStrategy)),l.resolve(!1),qt}}),et(l=>{let h=new _m(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),ie(l=>(this.currentTransition=s=be(j({},l),{guards:VF(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),s)),KF(this.environmentInjector,l=>this.events.next(l)),et(l=>{if(s.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw pd(this.urlSerializer,l.guardsResult);let h=new wm(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(h)}),Rt(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Qt.GuardRejected),!1)),fm(l=>{if(l.guards.canActivateChecks.length)return G(l).pipe(et(h=>{let p=new Em(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}),Ut(h=>{let p=!1;return G(h).pipe(_V(this.paramsInheritanceStrategy,this.environmentInjector),et({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(h,"",Qt.NoDataFromResolver)}}))}),et(h=>{let p=new Im(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}))}),fm(l=>{let h=p=>{let m=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(p.routeConfig).pipe(et(y=>{p.component=y}),ie(()=>{})));for(let y of p.children)m.push(...h(y));return m};return ma(h(l.targetSnapshot.root)).pipe(Fr(null),rr(1))}),fm(()=>this.afterPreactivation()),Ut(()=>{let{currentSnapshot:l,targetSnapshot:h}=s,p=this.createViewTransition?.(this.environmentInjector,l.root,h.root);return p?Oe(p).pipe(ie(()=>s)):G(s)}),ie(l=>{let h=MF(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s=be(j({},l),{targetRouterState:h}),this.currentNavigation.targetRouterState=h,s}),et(()=>{this.events.next(new Ya)}),FF(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),rr(1),et({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new _n(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),qf(this.transitionAbortSubject.pipe(et(l=>{throw l}))),Vr(()=>{!a&&!u&&this.cancelNavigationTransition(s,"",Qt.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),bn(l=>{if(u=!0,fD(l))this.events.next(new vr(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),PF(l)?this.events.next(new is(l.url,l.navigationBehaviorOptions)):s.resolve(!1);else{let h=new Qa(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0);try{let p=Wt(this.environmentInjector,()=>this.navigationErrorHandler?.(h));if(p instanceof Za){let{message:m,cancellationCode:y}=pd(this.urlSerializer,p);this.events.next(new vr(s.id,this.urlSerializer.serialize(s.extractedUrl),m,y)),this.events.next(new is(p.redirectTo,p.navigationBehaviorOptions))}else{this.events.next(h);let m=r.errorHandler(l);s.resolve(!!m)}}catch(p){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(p)}}return qt}))}))}cancelNavigationTransition(r,i,o){let s=new vr(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function xV(t){return t!==qa}var RV=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:()=>k(PV),providedIn:"root"});let t=e;return t})(),Um=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},PV=(()=>{let e=class e extends Um{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=dr(e)))(o||e)}})(),e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ID=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:()=>k(NV),providedIn:"root"});let t=e;return t})(),NV=(()=>{let e=class e extends ID{constructor(){super(...arguments),this.location=k(Ko),this.urlSerializer=k(rc),this.options=k(ac,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=k(qm),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new ti,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=cD(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof rs)this.stateMemento=this.createStateMemento();else if(r instanceof ni)this.rawUrlTree=i.initialUrl;else if(r instanceof cd){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(o,i)}}else r instanceof Ya?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof vr&&(r.code===Qt.GuardRejected||r.code===Qt.NoDataFromResolver)?this.restoreHistory(i):r instanceof Qa?this.restoreHistory(i,!0):r instanceof _n&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let o=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let s=this.browserPageId,a=j(j({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(o,"",a)}else{let s=j(j({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===r.finalUrl&&s===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=dr(e)))(o||e)}})(),e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ha=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Ha||{});function CD(t,e){t.events.pipe(Rt(n=>n instanceof _n||n instanceof vr||n instanceof Qa||n instanceof ni),ie(n=>n instanceof _n||n instanceof ni?Ha.COMPLETE:(n instanceof vr?n.code===Qt.Redirect||n.code===Qt.SupersededByNewNavigation:!1)?Ha.REDIRECTING:Ha.FAILED),Rt(n=>n!==Ha.REDIRECTING),rr(1)).subscribe(()=>{e()})}function OV(t){throw t}var kV={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},FV={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},ut=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=k(Hl),this.stateManager=k(ID),this.options=k(ac,{optional:!0})||{},this.pendingTasks=k(hr),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=k(Gm),this.urlSerializer=k(rc),this.location=k(Ko),this.urlHandlingStrategy=k(qm),this._events=new at,this.errorHandler=this.options.errorHandler||OV,this.navigated=!1,this.routeReuseStrategy=k(RV),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=k(tc,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!k(yd,{optional:!0}),this.eventsSubscription=new ze,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof vr&&i.code!==Qt.Redirect&&i.code!==Qt.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof _n)this.navigated=!0;else if(i instanceof is){let a=i.navigationBehaviorOptions,u=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),l=j({info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||xV(o.source)},a);this.scheduleNavigation(u,qa,null,l,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}LV(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),qa,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let l=j({},o);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let u=this.parseUrl(r);this.scheduleNavigation(u,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map($m),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:u,preserveFragment:l}=i,h=l?this.currentUrlTree.fragment:a,p=null;switch(u){case"merge":p=j(j({},this.currentUrlTree.queryParams),s);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=s||null}p!==null&&(p=this.removeEmptyProps(p));let m;try{let y=o?o.snapshot:this.routerState.snapshot.root;m=iD(y)}catch{(typeof r[0]!="string"||r[0][0]!=="/")&&(r=[]),m=this.currentUrlTree.root}return oD(m,r,p,h??null)}navigateByUrl(r,i={skipLocationChange:!1}){let o=Wa(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,qa,null,i)}navigate(r,i={skipLocationChange:!1}){return VV(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let o;if(i===!0?o=j({},kV):i===!1?o=j({},FV):o=i,Wa(r))return Lb(this.currentUrlTree,r,o);let s=this.parseUrl(r);return Lb(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.entries(r).reduce((i,[o,s])=>(s!=null&&(i[o]=s),i),{})}scheduleNavigation(r,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let u,l,h;a?(u=a.resolve,l=a.reject,h=a.promise):h=new Promise((m,y)=>{u=m,l=y});let p=this.pendingTasks.add();return CD(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:s,resolve:u,reject:l,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(m=>Promise.reject(m))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function VV(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new Q(4008,!1)}function LV(t){return!(t instanceof Ya)&&!(t instanceof is)}var ss=(()=>{let e=class e{constructor(r,i,o,s,a,u){this.router=r,this.route=i,this.tabIndexAttribute=o,this.renderer=s,this.el=a,this.locationStrategy=u,this.href=null,this.commands=null,this.onChanges=new at,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let l=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=r.events.subscribe(h=>{h instanceof _n&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,o,s,a){let u=this.urlTree;if(u===null||this.isAnchorElement&&(r!==0||i||o||s||a||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(u,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:qI(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let o=this.renderer,s=this.el.nativeElement;i!==null?o.setAttribute(s,r,i):o.removeAttribute(s,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(B(ut),B(jn),gg("tabindex"),B(yn),B(kt),B(mr))},e.\u0275dir=Le({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,o){i&1&&W("click",function(a){return o.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&xa("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Qr],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Qr],replaceUrl:[2,"replaceUrl","replaceUrl",Qr],routerLink:"routerLink"},standalone:!0,features:[Fg,lr]});let t=e;return t})(),bD=(()=>{let e=class e{get isActive(){return this._isActive}constructor(r,i,o,s,a){this.router=r,this.element=i,this.renderer=o,this.cdr=s,this.link=a,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new qe,this.routerEventsSubscription=r.events.subscribe(u=>{u instanceof _n&&this.update()})}ngAfterContentInit(){G(this.links.changes,G(null)).pipe(kr()).subscribe(r=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let r=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=Oe(r).pipe(kr()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(r){let i=Array.isArray(r)?r:r.split(" ");this.classes=i.filter(o=>!!o)}ngOnChanges(r){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let r=this.hasActiveLinks();this.classes.forEach(i=>{r?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),r&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==r&&(this._isActive=r,this.cdr.markForCheck(),this.isActiveChange.emit(r))})}isLinkActive(r){let i=UV(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return o=>{let s=o.urlTree;return s?r.isActive(s,i):!1}}hasActiveLinks(){let r=this.isLinkActive(this.router);return this.link&&r(this.link)||this.links.some(r)}};e.\u0275fac=function(i){return new(i||e)(B(ut),B(kt),B(yn),B(Kr),B(ss,8))},e.\u0275dir=Le({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(i,o,s){if(i&1&&$C(s,ss,5),i&2){let a;jl(a=Bl())&&(o.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[lr]});let t=e;return t})();function UV(t){return!!t.paths}var md=class{};var jV=(()=>{let e=class e{constructor(r,i,o,s,a){this.router=r,this.injector=o,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Rt(r=>r instanceof _n),nr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){let o=[];for(let s of i){s.providers&&!s._injector&&(s._injector=Ll(s.providers,r,`Route: ${s.path}`));let a=s._injector??r,u=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&o.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&o.push(this.processRoutes(u,s.children??s._loadedRoutes))}return Oe(o).pipe(kr())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let o;i.loadChildren&&i.canLoad===void 0?o=this.loader.loadChildren(r,i):o=G(null);let s=o.pipe(Xe(a=>a===null?G(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));if(i.loadComponent&&!i._loadedComponent){let a=this.loader.loadComponent(i);return Oe([s,a]).pipe(kr())}else return s})}};e.\u0275fac=function(i){return new(i||e)(Y(ut),Y(ql),Y(It),Y(md),Y(zm))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),DD=new H(""),BV=(()=>{let e=class e{constructor(r,i,o,s,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=o,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=k(It),a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof rs?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof _n?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof ni&&r.code===ad.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof ud&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>S(this,null,function*(){yield new Promise(o=>{setTimeout(()=>{o()}),Vl(()=>{o()},{injector:this.environmentInjector})}),this.zone.run(()=>{this.transitions.events.next(new ud(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(i){rC()},e.\u0275prov=$({token:e,factory:e.\u0275fac});let t=e;return t})();function TD(t,...e){return gn([{provide:tc,multi:!0,useValue:t},[],{provide:jn,useFactory:SD,deps:[ut]},{provide:Na,multi:!0,useFactory:AD},e.map(n=>n.\u0275providers)])}function SD(t){return t.routerState.root}function cc(t,e){return{\u0275kind:t,\u0275providers:e}}function AD(){let t=k(ft);return e=>{let n=t.get(Vi);if(e!==n.components[0])return;let r=t.get(ut),i=t.get(MD);t.get(Wm)===1&&r.initialNavigation(),t.get(xD,null,me.Optional)?.setUpPreloading(),t.get(DD,null,me.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var MD=new H("",{factory:()=>new at}),Wm=new H("",{providedIn:"root",factory:()=>1});function $V(){return cc(2,[{provide:Wm,useValue:0},{provide:zl,multi:!0,deps:[ft],useFactory:e=>{let n=e.get(ub,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(ut),o=e.get(MD);CD(i,()=>{r(!0)}),e.get(Gm).afterPreactivation=()=>(r(!0),o.closed?G(void 0):o),i.initialNavigation()}))}}])}function HV(){return cc(3,[{provide:zl,multi:!0,useFactory:()=>{let e=k(ut);return()=>{e.setUpLocationChangeListener()}}},{provide:Wm,useValue:2}])}var xD=new H("");function zV(t){return cc(0,[{provide:xD,useExisting:jV},{provide:md,useExisting:t}])}function qV(){return cc(8,[$b,{provide:yd,useExisting:$b}])}function GV(t){let e=[{provide:wD,useValue:SV},{provide:ED,useValue:j({skipNextTransition:!!t?.skipInitialTransition},t)}];return cc(9,e)}var Gb=new H("ROUTER_FORROOT_GUARD"),WV=[Ko,{provide:rc,useClass:ns},ut,ic,{provide:jn,useFactory:SD,deps:[ut]},zm,[]],cs=(()=>{let e=class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[WV,[],{provide:tc,multi:!0,useValue:r},{provide:Gb,useFactory:JV,deps:[[ut,new Ot,new tg]]},{provide:ac,useValue:i||{}},i?.useHash?QV():YV(),KV(),i?.preloadingStrategy?zV(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?ZV(i):[],i?.bindToComponentInputs?qV().\u0275providers:[],i?.enableViewTransitions?GV().\u0275providers:[],XV()]}}static forChild(r){return{ngModule:e,providers:[{provide:tc,multi:!0,useValue:r}]}}};e.\u0275fac=function(i){return new(i||e)(Y(Gb,8))},e.\u0275mod=kn({type:e}),e.\u0275inj=On({});let t=e;return t})();function KV(){return{provide:DD,useFactory:()=>{let t=k(pb),e=k(Te),n=k(ac),r=k(Gm),i=k(rc);return n.scrollOffset&&t.setOffset(n.scrollOffset),new BV(i,r,t,e,n)}}}function QV(){return{provide:mr,useClass:db}}function YV(){return{provide:mr,useClass:Wg}}function JV(t){return"guarded"}function ZV(t){return[t.initialNavigation==="disabled"?HV().\u0275providers:[],t.initialNavigation==="enabledBlocking"?$V().\u0275providers:[]]}var Wb=new H("");function XV(){return[{provide:Wb,useFactory:AD},{provide:Na,multi:!0,useExisting:Wb}]}var ls=(()=>{let e=class e{constructor(){this.cartSubject=new Je(this.loadCart()),this.cart$=this.cartSubject.asObservable()}loadCart(){let r=localStorage.getItem("cart");return r?JSON.parse(r):[]}saveCart(r){localStorage.setItem("cart",JSON.stringify(r)),this.cartSubject.next(r)}getCartItems(){return this.cart$}getCartItemCount(){return this.cart$.pipe(ie(r=>r.reduce((i,o)=>i+o.quantity,0)))}addToCart(r,i){let o=this.loadCart(),s=o.findIndex(a=>a.product.id===r.id);s===-1?o.push({product:r,quantity:i}):o[s].quantity+=i,this.saveCart(o)}increaseQuantity(r){let i=this.loadCart(),o=i.findIndex(s=>s.product.id===r);o!==-1&&(i[o].quantity+=1,this.saveCart(i))}decreaseQuantity(r){let i=this.loadCart(),o=i.findIndex(s=>s.product.id===r);o!==-1&&i[o].quantity>1&&(i[o].quantity-=1,this.saveCart(i))}removeFromCart(r){let i=this.loadCart();i=i.filter(o=>o.product.id!==r),this.saveCart(i)}checkout(){return G(this.saveCart([])).pipe(ie(()=>{}))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var _d=(()=>{let e=class e{constructor(r,i){this.router=r,this.cartService=i,this.cartItemCount=0}ngOnInit(){this.cartService.getCartItemCount().subscribe(r=>this.cartItemCount=r)}goToCart(){this.router.navigate(["/cart"])}};e.\u0275fac=function(i){return new(i||e)(B(ut),B(ls))},e.\u0275cmp=Ge({type:e,selectors:[["app-header"]],standalone:!0,features:[We],decls:19,vars:1,consts:[[1,"navbar","navbar-expand-lg","navbar-light","bg-light"],["routerLink","/","routerLinkActive","active",1,"navbar-brand"],["src","./icons/logo.png","alt","Logo",1,"logo"],["type","button","data-toggle","collapse","data-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse"],[1,"navbar-nav","ml-auto"],[1,"nav-item"],["routerLink","/","routerLinkActive","active",1,"nav-link"],[1,"nav-link",3,"click"],["src","./icons/shopping-cart.svg","alt","Cart",1,"cart-icon"],[1,"custom-badge"],["routerLink","/admin-login","routerLinkActive","active",1,"nav-link"]],template:function(i,o){i&1&&(D(0,"nav",0)(1,"a",1),fe(2,"img",2),A(),D(3,"button",3),fe(4,"span",4),A(),D(5,"div",5)(6,"ul",6)(7,"li",7)(8,"a",8),P(9,"\u0413\u043E\u043B\u043E\u0432\u043D\u0430"),A()(),D(10,"li",7)(11,"a",9),W("click",function(){return o.goToCart()}),fe(12,"img",10),P(13," \u041A\u043E\u0448\u0438\u043A "),D(14,"span",11),P(15),A()()(),D(16,"li",7)(17,"a",12),P(18,"\u0410\u0434\u043C\u0456\u043D"),A()()()()()),i&2&&(V(15),Ie(o.cartItemCount))},dependencies:[cs,ss,bD],styles:[`.navbar[_ngcontent-%COMP%]{margin-bottom:20px;padding:.5rem 1rem;background-color:#f8f9fa;box-shadow:0 2px 4px #0000001a}.logo[_ngcontent-%COMP%]{height:40px;margin-right:1rem}.navbar-toggler[_ngcontent-%COMP%]{border:none}.navbar-toggler-icon[_ngcontent-%COMP%]{background-image:url("data:image/svg+xml;charset=utf8,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'%3e%3cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M4 6h16M4 12h16M4 18h16' /%3e%3c/svg%3e")}.navbar-nav[_ngcontent-%COMP%]{flex-direction:row;margin-left:auto}.nav-item[_ngcontent-%COMP%]{margin-left:1rem}.nav-link[_ngcontent-%COMP%]{font-weight:700;color:#333;font-size:1rem;padding:.5rem 1rem;transition:color .3s ease}.nav-link[_ngcontent-%COMP%]:hover{color:#007bff;cursor:pointer}.nav-link[_ngcontent-%COMP%]:hover   .cart-icon[_ngcontent-%COMP%]{transform:scale(1.1)}.custom-badge[_ngcontent-%COMP%]{display:inline-block;padding:.25em .4em;font-size:75%;font-weight:700;line-height:1;color:#fff;text-align:center;white-space:nowrap;vertical-align:baseline;border-radius:.2rem;background-color:#dc3545}.cart-icon[_ngcontent-%COMP%]{height:20px;margin-right:.5rem;transition:transform .3s ease}@media (max-width: 992px){.navbar-nav[_ngcontent-%COMP%]{flex-direction:column;text-align:center;padding-top:1rem;margin-top:1rem}.nav-item[_ngcontent-%COMP%]{margin-left:0;margin-bottom:.5rem}.navbar-brand[_ngcontent-%COMP%]{margin-right:auto}}.navbar-collapse[_ngcontent-%COMP%]{max-height:0;transition:max-height .3s ease}.navbar-collapse.collapse.show[_ngcontent-%COMP%]{max-height:500px;transition:max-height .3s ease-in}.navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:1rem;border-bottom:1px solid #ddd}.navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:last-child{border-bottom:none}`]});let t=e;return t})();var RD=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ge({type:e,selectors:[["app-footer"]],standalone:!0,features:[We],decls:37,vars:0,consts:[[1,"container","footer-container"],[1,"row","footer-row"],[1,"col-xs-12","col-sm-6","col-md-6","text-center"],[1,"fas","fa-location-arrow"],["href","tel: 04737875657","type","tel",1,"tel"],[1,"fas","fa-mobile-alt"],[1,"col-xs-12","col-md-6","col-sm-6","social-section"],[1,"text-center"],[1,"text-center","social-buttons"],["href","https://www.facebook.com/?locale=uk_UA",1,"btn","btn-default","btn-lg","social-button","link-facebook"],[1,"fab","fa-facebook"],["href","https://x.com/?lang=uk",1,"btn","btn-default","btn-lg","social-button","link-twitter"],[1,"fab","fa-twitter"],["href","https://www.linkedin.com/",1,"btn","btn-default","btn-lg","social-button","link-linkedin"],[1,"fab","fa-linkedin"],["href","https://instagram.com/",1,"btn","btn-default","btn-lg","social-button","link-instagram"],[1,"fab","fa-instagram"],[1,"footer-hr"],[1,"author"],[1,"fas","fa-heart"]],template:function(i,o){i&1&&(D(0,"footer")(1,"div",0)(2,"div",1)(3,"div",2)(4,"address")(5,"strong"),fe(6,"i",3),P(7," TERRA"),A(),fe(8,"br"),P(9," \u0406\u043D\u0442\u0435\u0440\u043D\u0435\u0442-\u043C\u0430\u0433\u0430\u0437\u0438\u043D \u0442\u0443\u0440\u0438\u0441\u0442\u0438\u0447\u043D\u043E\u0433\u043E \u0441\u043F\u043E\u0440\u044F\u0434\u0436\u0435\u043D\u043D\u044F,"),fe(10,"br"),P(11," \u043C. \u0427\u0435\u0440\u043A\u0430\u0441\u0438, \u0432\u0443\u043B. \u0411\u0430\u0439\u0434\u0438 \u0412\u0438\u0448\u043D\u0435\u0432\u0435\u0446\u044C\u043A\u043E\u0433\u043E, 39"),fe(12,"br")(13,"br"),D(14,"a",4),fe(15,"i",5),D(16,"span"),P(17," 04737875657"),A()()()(),D(18,"div",6)(19,"div",7)(20,"h4",7),P(21,"\u0412\u0438 \u043D\u0430\u0441 \u0437\u043D\u0430\u0439\u0434\u0438\u0442\u0435 \u0443 \u0441\u043E\u0446\u043C\u0435\u0440\u0435\u0436\u0430\u0445"),A(),D(22,"div",8)(23,"a",9),fe(24,"i",10),A(),D(25,"a",11),fe(26,"i",12),A(),D(27,"a",13),fe(28,"i",14),A(),D(29,"a",15),fe(30,"i",16),A()(),fe(31,"hr",17),D(32,"h4",18),P(33,"\u0417\u0440\u043E\u0431\u043B\u0435\u043D\u043E \u0437\u0430 \u0434\u043E\u043F\u043E\u043C\u043E\u0433\u043E\u044E "),fe(34,"i",19),D(35,"strong"),P(36,"Angular"),A()()()()()()())},styles:["footer[_ngcontent-%COMP%]{background-color:#2c3e50;color:#fff;font-size:1.5em;text-align:center;padding:2%;margin-top:40px}a.tel[_ngcontent-%COMP%], a.tel[_ngcontent-%COMP%]:hover{text-decoration:none;color:#fff}a.social-button[_ngcontent-%COMP%]{background:#fff;font-size:20px;border-radius:50%;margin:5px}.address-container[_ngcontent-%COMP%]{display:inline-block;margin:0 auto}a.link-facebook[_ngcontent-%COMP%], a.link-twitter[_ngcontent-%COMP%], a.link-codepen[_ngcontent-%COMP%], a.link-linkedin[_ngcontent-%COMP%], a.link-instagram[_ngcontent-%COMP%]{transition:.4s ease}a.link-twitter[_ngcontent-%COMP%]{color:#1da1f2}a.link-facebook[_ngcontent-%COMP%]{color:#3b5998}a.link-linkedin[_ngcontent-%COMP%]{color:#007bb6}a.link-instagram[_ngcontent-%COMP%]{color:#e95950}a.link-facebook[_ngcontent-%COMP%]:hover{background-color:#3b5998;color:#fff}a.link-twitter[_ngcontent-%COMP%]:hover{background-color:#1da1f2;color:#fff}a.link-codepen[_ngcontent-%COMP%]:hover{background-color:#000;color:#fff}a.link-linkedin[_ngcontent-%COMP%]:hover{background-color:#007bb6;color:#fff}a.link-instagram[_ngcontent-%COMP%]:hover{background-color:#e95950;color:#fff}.btn-default[_ngcontent-%COMP%]{color:#333;background-color:#fff;border-color:transparent!important}.fa-heart[_ngcontent-%COMP%]{color:#f32323}h4.author[_ngcontent-%COMP%]{letter-spacing:4px}hr.copyright[_ngcontent-%COMP%]{opacity:.4}"]});let t=e;return t})();var ND=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},eL=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},wd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,m=(a&15)<<2|l>>6,y=l&63;u||(y=64,s||(m=64)),r.push(n[h],n[p],n[m],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ND(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):eL(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new Ym;let m=o<<2|a>>4;if(r.push(m),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let T=l<<6&192|p;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Ym=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},tL=function(t){let e=ND(t);return wd.encodeByteArray(e,!0)},uc=function(t){return tL(t).replace(/\./g,"")},Zm=function(t){try{return wd.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Xm(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var nL=()=>Xm().__FIREBASE_DEFAULTS__,rL=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},iL=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Zm(t[1]);return e&&JSON.parse(e)},Ed=()=>{try{return nL()||rL()||iL()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},OD=t=>{var e,n;return(n=(e=Ed())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},kD=t=>{let e=OD(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},ey=()=>{var t;return(t=Ed())===null||t===void 0?void 0:t.config},FD=t=>{var e;return(e=Ed())===null||e===void 0?void 0:e[`_${t}`]};var _r=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function VD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[uc(JSON.stringify(n)),uc(JSON.stringify(s)),""].join(".")}function Yt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function LD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Yt())}function oL(){var t;let e=(t=Ed())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function UD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function jD(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function BD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $D(){return!oL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ds(){try{return typeof indexedDB=="object"}catch{return!1}}function HD(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var sL="FirebaseError",sn=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=sL,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wn.prototype.create)}},wn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?aL(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new sn(i,a,r)}};function aL(t,e){return t.replace(cL,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var cL=/\{\$([^}]+)}/g;function hs(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(PD(o)&&PD(s)){if(!hs(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function PD(t){return t!==null&&typeof t=="object"}function ty(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function zD(t,e){let n=new Jm(t,e);return n.subscribe.bind(n)}var Jm=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");uL(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Qm),i.error===void 0&&(i.error=Qm),i.complete===void 0&&(i.complete=Qm);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function uL(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Qm(){}var qD=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{let e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})};var lL=1e3,dL=2,hL=4*60*60*1e3,fL=.5;function GD(t,e=lL,n=dL){let r=e*Math.pow(n,t),i=Math.round(fL*r*(Math.random()-.5)*2);return Math.min(hL,r+i)}function mt(t){return t&&t._delegate?t._delegate:t}var Vt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Bi="[DEFAULT]";var ny=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new _r;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(gL(e))try{this.getOrInitializeService({instanceIdentifier:Bi})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Bi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return S(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Bi){return this.instances.has(e)}getOptions(e=Bi){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:pL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Bi){return this.component?this.component.multipleInstances?e:Bi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function pL(t){return t===Bi?void 0:t}function gL(t){return t.instantiationMode==="EAGER"}var Id=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new ny(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var mL=[],ve=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ve||{}),yL={debug:ve.DEBUG,verbose:ve.VERBOSE,info:ve.INFO,warn:ve.WARN,error:ve.ERROR,silent:ve.SILENT},vL=ve.INFO,_L={[ve.DEBUG]:"log",[ve.VERBOSE]:"log",[ve.INFO]:"info",[ve.WARN]:"warn",[ve.ERROR]:"error"},wL=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=_L[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Bn=class{constructor(e){this.name=e,this._logLevel=vL,this._logHandler=wL,this._userLogHandler=null,mL.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?yL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ve.DEBUG,...e),this._logHandler(this,ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ve.VERBOSE,...e),this._logHandler(this,ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ve.INFO,...e),this._logHandler(this,ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ve.WARN,...e),this._logHandler(this,ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ve.ERROR,...e),this._logHandler(this,ve.ERROR,...e)}};var EL=(t,e)=>e.some(n=>t instanceof n),WD,KD;function IL(){return WD||(WD=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function CL(){return KD||(KD=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var QD=new WeakMap,iy=new WeakMap,YD=new WeakMap,ry=new WeakMap,sy=new WeakMap;function bL(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n($n(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&QD.set(n,t)}).catch(()=>{}),sy.set(e,t),e}function DL(t){if(iy.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});iy.set(t,e)}var oy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return iy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||YD.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $n(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function JD(t){oy=t(oy)}function TL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Cd(this),e,...n);return YD.set(r,e.sort?e.sort():[e]),$n(r)}:CL().includes(t)?function(...e){return t.apply(Cd(this),e),$n(QD.get(this))}:function(...e){return $n(t.apply(Cd(this),e))}}function SL(t){return typeof t=="function"?TL(t):(t instanceof IDBTransaction&&DL(t),EL(t,IL())?new Proxy(t,oy):t)}function $n(t){if(t instanceof IDBRequest)return bL(t);if(ry.has(t))return ry.get(t);let e=SL(t);return e!==t&&(ry.set(t,e),sy.set(e,t)),e}var Cd=t=>sy.get(t);function XD(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=$n(s);return r&&s.addEventListener("upgradeneeded",u=>{r($n(s.result),u.oldVersion,u.newVersion,$n(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var AL=["get","getKey","getAll","getAllKeys","count"],ML=["put","add","delete","clear"],ay=new Map;function ZD(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ay.get(e))return ay.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=ML.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||AL.includes(n)))return;let o=function(s,...a){return S(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&u.done]))[0]})};return ay.set(e,o),o}JD(t=>be(j({},t),{get:(e,n,r)=>ZD(e,n)||t.get(e,n,r),has:(e,n)=>!!ZD(e,n)||t.has(e,n)}));var uy=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(xL(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function xL(t){let e=t.getComponent();return e?.type==="VERSION"}var ly="@firebase/app",eT="0.10.13";var wr=new Bn("@firebase/app"),RL="@firebase/app-compat",PL="@firebase/analytics-compat",NL="@firebase/analytics",OL="@firebase/app-check-compat",kL="@firebase/app-check",FL="@firebase/auth",VL="@firebase/auth-compat",LL="@firebase/database",UL="@firebase/data-connect",jL="@firebase/database-compat",BL="@firebase/functions",$L="@firebase/functions-compat",HL="@firebase/installations",zL="@firebase/installations-compat",qL="@firebase/messaging",GL="@firebase/messaging-compat",WL="@firebase/performance",KL="@firebase/performance-compat",QL="@firebase/remote-config",YL="@firebase/remote-config-compat",JL="@firebase/storage",ZL="@firebase/storage-compat",XL="@firebase/firestore",e4="@firebase/vertexai-preview",t4="@firebase/firestore-compat",n4="firebase",r4="10.14.1";var dy="[DEFAULT]",i4={[ly]:"fire-core",[RL]:"fire-core-compat",[NL]:"fire-analytics",[PL]:"fire-analytics-compat",[kL]:"fire-app-check",[OL]:"fire-app-check-compat",[FL]:"fire-auth",[VL]:"fire-auth-compat",[LL]:"fire-rtdb",[UL]:"fire-data-connect",[jL]:"fire-rtdb-compat",[BL]:"fire-fn",[$L]:"fire-fn-compat",[HL]:"fire-iid",[zL]:"fire-iid-compat",[qL]:"fire-fcm",[GL]:"fire-fcm-compat",[WL]:"fire-perf",[KL]:"fire-perf-compat",[QL]:"fire-rc",[YL]:"fire-rc-compat",[JL]:"fire-gcs",[ZL]:"fire-gcs-compat",[XL]:"fire-fst",[t4]:"fire-fst-compat",[e4]:"fire-vertex","fire-js":"fire-js",[n4]:"fire-js-all"};var lc=new Map,o4=new Map,hy=new Map;function tT(t,e){try{t.container.addComponent(e)}catch(n){wr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function En(t){let e=t.name;if(hy.has(e))return wr.debug(`There were multiple attempts to register component ${e}.`),!1;hy.set(e,t);for(let n of lc.values())tT(n,t);for(let n of o4.values())tT(n,t);return!0}function fs(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ps(t){return t.settings!==void 0}var s4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ii=new wn("app","Firebase",s4);var fy=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Vt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ii.create("app-deleted",{appName:this._name})}};var gs=r4;function my(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:dy,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ii.create("bad-app-name",{appName:String(i)});if(n||(n=ey()),!n)throw ii.create("no-options");let o=lc.get(i);if(o){if(hs(n,o.options)&&hs(r,o.config))return o;throw ii.create("duplicate-app",{appName:i})}let s=new Id(i);for(let u of hy.values())s.addComponent(u);let a=new fy(n,r,s);return lc.set(i,a),a}function $i(t=dy){let e=lc.get(t);if(!e&&t===dy&&ey())return my();if(!e)throw ii.create("no-app",{appName:t});return e}function bd(){return Array.from(lc.values())}function Ke(t,e,n){var r;let i=(r=i4[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),wr.warn(a.join(" "));return}En(new Vt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var a4="firebase-heartbeat-database",c4=1,dc="firebase-heartbeat-store",cy=null;function oT(){return cy||(cy=XD(a4,c4,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(dc)}catch(n){console.warn(n)}}}}).catch(t=>{throw ii.create("idb-open",{originalErrorMessage:t.message})})),cy}function u4(t){return S(this,null,function*(){try{let n=(yield oT()).transaction(dc),r=yield n.objectStore(dc).get(sT(t));return yield n.done,r}catch(e){if(e instanceof sn)wr.warn(e.message);else{let n=ii.create("idb-get",{originalErrorMessage:e?.message});wr.warn(n.message)}}})}function nT(t,e){return S(this,null,function*(){try{let r=(yield oT()).transaction(dc,"readwrite");yield r.objectStore(dc).put(e,sT(t)),yield r.done}catch(n){if(n instanceof sn)wr.warn(n.message);else{let r=ii.create("idb-set",{originalErrorMessage:n?.message});wr.warn(r.message)}}})}function sT(t){return`${t.name}!${t.options.appId}`}var l4=1024,d4=30*24*60*60*1e3,py=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new gy(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return S(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=rT();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=d4}),this._storage.overwrite(this._heartbeatsCache))}catch(r){wr.warn(r)}})}getHeartbeatsHeader(){return S(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=rT(),{heartbeatsToSend:r,unsentEntries:i}=h4(this._heartbeatsCache.heartbeats),o=uc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return wr.warn(n),""}})}};function rT(){return new Date().toISOString().substring(0,10)}function h4(t,e=l4){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),iT(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),iT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var gy=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return S(this,null,function*(){return ds()?HD().then(()=>!0).catch(()=>!1):!1})}read(){return S(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield u4(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return S(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return nT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return S(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return nT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function iT(t){return uc(JSON.stringify({version:2,heartbeats:t})).length}function f4(t){En(new Vt("platform-logger",e=>new uy(e),"PRIVATE")),En(new Vt("heartbeat",e=>new py(e),"PRIVATE")),Ke(ly,eT,t),Ke(ly,eT,"esm2017"),Ke("fire-js","")}f4("");var p4="firebase",g4="10.14.1";Ke(p4,g4,"app");var oi=new ar("ANGULARFIRE2_VERSION");function hc(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var ys=(t,e)=>{let n=e?[e]:bd(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},zi=class{constructor(){return ys(vy)}},vy="app-check";function ms(){}var Dd=class{zone;delegate;constructor(e,n=Lf){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,r)}},yy=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ms,{},ms,ms)),n.pipe(et({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},qi=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Dd(Zone.current)),this.insideAngular=n.run(()=>new Dd(Zone.current,Eu)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(Y(Te))};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Td(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function m4(t){return Td().ngZone.runOutsideAngular(()=>t())}function Hi(t){return Td().ngZone.run(()=>t())}function y4(t){return v4(Td())(t)}function v4(t){return function(n){return n=n.lift(new yy(t.ngZone)),n.pipe(Or(t.outsideAngular),Nr(t.insideAngular))}}var _4=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Hi(()=>t.apply(void 0,r))},Bt=(t,e)=>function(){let n,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(n||=Hi(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ms,{},ms,ms))),r[o]=_4(r[o],n));let i=m4(()=>t.apply(this,r));if(!e)if(i instanceof ue){let o=Td();return i.pipe(Or(o.outsideAngular),Nr(o.insideAngular))}else return Hi(()=>i);return i instanceof ue?i.pipe(y4):i instanceof Promise?Hi(()=>new Promise((o,s)=>i.then(a=>Hi(()=>o(a)),a=>Hi(()=>s(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Hi(()=>i)};var Er=class{constructor(e){return e}},Gi=class{constructor(){return bd()}};function w4(t){return t&&t.length===1?t[0]:new Er($i())}var _y=new H("angularfire2._apps"),E4={provide:Er,useFactory:w4,deps:[[new Ot,_y]]},I4={provide:Gi,deps:[[new Ot,_y]]};function C4(t){return(e,n)=>{let r=n.get(pt);Ke("angularfire",oi.full,"core"),Ke("angularfire",oi.full,"app"),Ke("angular",KC.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new Er(i)}}function aT(t,...e){return gn([E4,I4,{provide:_y,useFactory:C4(t),multi:!0,deps:[Te,ft,qi,...e]}])}var cT=Bt(my,!0);var Ey=new Map,gT={activated:!1,tokenObservers:[]},b4={initialized:!1,enabled:!1};function ot(t){return Ey.get(t)||Object.assign({},gT)}function D4(t,e){return Ey.set(t,e),Ey.get(t)}function Rd(){return b4}var mT="https://content-firebaseappcheck.googleapis.com/v1",T4="exchangeRecaptchaV3Token";var S4="exchangeDebugToken",uT={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},A4=24*60*60*1e3;var Iy=class{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return S(this,null,function*(){this.stop();try{this.pending=new _r,this.pending.promise.catch(n=>{}),yield M4(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new _r,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function M4(t){return new Promise(e=>{setTimeout(e,t)})}var x4={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},$t=new wn("appCheck","AppCheck",x4);function lT(t=!1){var e;return t?(e=self.grecaptcha)===null||e===void 0?void 0:e.enterprise:self.grecaptcha}function by(t){if(!ot(t).activated)throw $t.create("use-before-activation",{appName:t.name})}function yT(t){let e=Math.round(t/1e3),n=Math.floor(e/(3600*24)),r=Math.floor((e-n*3600*24)/3600),i=Math.floor((e-n*3600*24-r*3600)/60),o=e-n*3600*24-r*3600-i*60,s="";return n&&(s+=Sd(n)+"d:"),r&&(s+=Sd(r)+"h:"),s+=Sd(i)+"m:"+Sd(o)+"s",s}function Sd(t){return t===0?"00":t>=10?t.toString():"0"+t}function Dy(r,i){return S(this,arguments,function*({url:t,body:e},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let y=yield s.getHeartbeatsHeader();y&&(o["X-Firebase-Client"]=y)}let a={method:"POST",body:JSON.stringify(e),headers:o},u;try{u=yield fetch(t,a)}catch(y){throw $t.create("fetch-network-error",{originalErrorMessage:y?.message})}if(u.status!==200)throw $t.create("fetch-status-error",{httpStatus:u.status});let l;try{l=yield u.json()}catch(y){throw $t.create("fetch-parse-error",{originalErrorMessage:y?.message})}let h=l.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw $t.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let p=Number(h[1])*1e3,m=Date.now();return{token:l.token,expireTimeMillis:m+p,issuedAtTimeMillis:m}})}function R4(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${mT}/projects/${n}/apps/${r}:${T4}?key=${i}`,body:{recaptcha_v3_token:e}}}function vT(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${mT}/projects/${n}/apps/${r}:${S4}?key=${i}`,body:{debug_token:e}}}var P4="firebase-app-check-database",N4=1,fc="firebase-app-check-store",_T="debug-token",Ad=null;function wT(){return Ad||(Ad=new Promise((t,e)=>{try{let n=indexedDB.open(P4,N4);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e($t.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(fc,{keyPath:"compositeKey"})}}}catch(n){e($t.create("storage-open",{originalErrorMessage:n?.message}))}}),Ad)}function O4(t){return IT(CT(t))}function k4(t,e){return ET(CT(t),e)}function F4(t){return ET(_T,t)}function V4(){return IT(_T)}function ET(t,e){return S(this,null,function*(){let r=(yield wT()).transaction(fc,"readwrite"),o=r.objectStore(fc).put({compositeKey:t,value:e});return new Promise((s,a)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;a($t.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})})}function IT(t){return S(this,null,function*(){let n=(yield wT()).transaction(fc,"readonly"),i=n.objectStore(fc).get(t);return new Promise((o,s)=>{i.onsuccess=a=>{let u=a.target.result;o(u?u.value:void 0)},n.onerror=a=>{var u;s($t.create("storage-get",{originalErrorMessage:(u=a.target.error)===null||u===void 0?void 0:u.message}))}})})}function CT(t){return`${t.options.appId}-${t.name}`}var pc=new Bn("@firebase/app-check");function L4(t){return S(this,null,function*(){if(ds()){let e;try{e=yield O4(t)}catch(n){pc.warn(`Failed to read token from IndexedDB. Error: ${n}`)}return e}})}function wy(t,e){return ds()?k4(t,e).catch(n=>{pc.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function U4(){return S(this,null,function*(){let t;try{t=yield V4()}catch{}if(t)return t;{let e=qD();return F4(e).catch(n=>pc.warn(`Failed to persist debug token to IndexedDB. Error: ${n}`)),e}})}function Ty(){return Rd().enabled}function Sy(){return S(this,null,function*(){let t=Rd();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}function j4(){let t=Xm(),e=Rd();if(e.initialized=!0,typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN!="string"&&t.FIREBASE_APPCHECK_DEBUG_TOKEN!==!0)return;e.enabled=!0;let n=new _r;e.token=n,typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN=="string"?n.resolve(t.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(U4())}var B4={error:"UNKNOWN_ERROR"};function $4(t){return wd.encodeString(JSON.stringify(t),!1)}function Md(t,e=!1){return S(this,null,function*(){let n=t.app;by(n);let r=ot(n),i=r.token,o;if(i&&!vs(i)&&(r.token=void 0,i=void 0),!i){let u=yield r.cachedTokenPromise;u&&(vs(u)?i=u:yield wy(n,void 0))}if(!e&&i&&vs(i))return{token:i.token};let s=!1;if(Ty()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Dy(vT(n,yield Sy()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),s=!0);let u=yield r.exchangeTokenPromise;return yield wy(n,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),s=!0),i=yield ot(n).exchangeTokenPromise}catch(u){u.code==="appCheck/throttled"?pc.warn(u.message):pc.error(u),o=u}let a;return i?o?vs(i)?a={token:i.token,internalError:o}:a=hT(o):(a={token:i.token},r.token=i,yield wy(n,i)):a=hT(o),s&&TT(n,a),a})}function H4(t){return S(this,null,function*(){let e=t.app;by(e);let{provider:n}=ot(e);if(Ty()){let r=yield Sy(),{token:i}=yield Dy(vT(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield n.getToken();return{token:r}}})}function bT(t,e,n,r){let{app:i}=t,o=ot(i),s={next:n,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&vs(o.token)){let a=o.token;Promise.resolve().then(()=>{n({token:a.token}),dT(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>dT(t))}function DT(t,e){let n=ot(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function dT(t){let{app:e}=t,n=ot(e),r=n.tokenRefresher;r||(r=z4(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function z4(t){let{app:e}=t;return new Iy(()=>S(this,null,function*(){let n=ot(e),r;if(n.token?r=yield Md(t,!0):r=yield Md(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=ot(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},uT.RETRIAL_MIN_WAIT,uT.RETRIAL_MAX_WAIT)}function TT(t,e){let n=ot(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function vs(t){return t.expireTimeMillis-Date.now()>0}function hT(t){return{token:$4(B4),error:t}}var Cy=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=ot(this.app);for(let n of e)DT(this.app,n.next);return Promise.resolve()}};function q4(t,e){return new Cy(t,e)}function G4(t){return{getToken:e=>Md(t,e),getLimitedUseToken:()=>H4(t),addTokenListener:e=>bT(t,"INTERNAL",e),removeTokenListener:e=>DT(t.app,e)}}var W4="@firebase/app-check",K4="0.8.8";var Q4="https://www.google.com/recaptcha/api.js";function Y4(t,e){let n=new _r,r=ot(t);r.reCAPTCHAState={initialized:n};let i=J4(t),o=lT(!1);return o?fT(t,e,o,i,n):e2(()=>{let s=lT(!1);if(!s)throw new Error("no recaptcha");fT(t,e,s,i,n)}),n.promise}function fT(t,e,n,r,i){n.ready(()=>{X4(t,e,n,r),i.resolve(n)})}function J4(t){let e=`fire_app_check_${t.name}`,n=document.createElement("div");return n.id=e,n.style.display="none",document.body.appendChild(n),e}function Z4(t){return S(this,null,function*(){by(t);let n=yield ot(t).reCAPTCHAState.initialized.promise;return new Promise((r,i)=>{let o=ot(t).reCAPTCHAState;n.ready(()=>{r(n.execute(o.widgetId,{action:"fire_app_check"}))})})})}function X4(t,e,n,r){let i=n.render(r,{sitekey:e,size:"invisible",callback:()=>{ot(t).reCAPTCHAState.succeeded=!0},"error-callback":()=>{ot(t).reCAPTCHAState.succeeded=!1}}),o=ot(t);o.reCAPTCHAState=Object.assign(Object.assign({},o.reCAPTCHAState),{widgetId:i})}function e2(t){let e=document.createElement("script");e.src=Q4,e.onload=t,document.head.appendChild(e)}var xd=class t{constructor(e){this._siteKey=e,this._throttleData=null}getToken(){return S(this,null,function*(){var e,n,r;n2(this._throttleData);let i=yield Z4(this._app).catch(s=>{throw $t.create("recaptcha-error")});if(!(!((e=ot(this._app).reCAPTCHAState)===null||e===void 0)&&e.succeeded))throw $t.create("recaptcha-error");let o;try{o=yield Dy(R4(this._app,i),this._heartbeatServiceProvider)}catch(s){throw!((n=s.code)===null||n===void 0)&&n.includes("fetch-status-error")?(this._throttleData=t2(Number((r=s.customData)===null||r===void 0?void 0:r.httpStatus),this._throttleData),$t.create("throttled",{time:yT(this._throttleData.allowRequestsAfter-Date.now()),httpStatus:this._throttleData.httpStatus})):s}return this._throttleData=null,o})}initialize(e){this._app=e,this._heartbeatServiceProvider=fs(e,"heartbeat"),Y4(e,this._siteKey).catch(()=>{})}isEqual(e){return e instanceof t?this._siteKey===e._siteKey:!1}};function t2(t,e){if(t===404||t===403)return{backoffCount:1,allowRequestsAfter:Date.now()+A4,httpStatus:t};{let n=e?e.backoffCount:0,r=GD(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+r,httpStatus:t}}}function n2(t){if(t&&Date.now()-t.allowRequestsAfter<=0)throw $t.create("throttled",{time:yT(t.allowRequestsAfter-Date.now()),httpStatus:t.httpStatus})}function ST(t=$i(),e){t=mt(t);let n=fs(t,"app-check");if(Rd().initialized||j4(),Ty()&&Sy().then(i=>console.log(`App Check debug token: ${i}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(o.isTokenAutoRefreshEnabled===e.isTokenAutoRefreshEnabled&&o.provider.isEqual(e.provider))return i;throw $t.create("already-initialized",{appName:t.name})}let r=n.initialize({options:e});return r2(t,e.provider,e.isTokenAutoRefreshEnabled),ot(t).isTokenAutoRefreshEnabled&&bT(r,"INTERNAL",()=>{}),r}function r2(t,e,n){let r=D4(t,Object.assign({},gT));r.activated=!0,r.provider=e,r.cachedTokenPromise=L4(t).then(i=>(i&&vs(i)&&(r.token=i,TT(t,{token:i.token})),i)),r.isTokenAutoRefreshEnabled=n===void 0?t.automaticDataCollectionEnabled:n,r.provider.initialize(t)}function AT(t,e){return S(this,null,function*(){let n=yield Md(t,e);if(n.error)throw n.error;return{token:n.token}})}var i2="app-check",pT="app-check-internal";function o2(){En(new Vt(i2,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return q4(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(pT).initialize()})),En(new Vt(pT,t=>{let e=t.getProvider("app-check").getImmediate();return G4(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Ke(W4,K4)}o2();var Wi=class{constructor(e){return e}};var Ay=new H("angularfire2.app-check-instances");function s2(t,e){let n=hc(vy,t,e);return n&&new Wi(n)}var a2=["localhost","0.0.0.0","127.0.0.1"],c2=typeof window<"u"&&a2.includes(window.location.hostname);function u2(t){return(e,n,r)=>{!Qo(r)&&(XC()||c2)&&(globalThis.FIREBASE_APPCHECK_DEBUG_TOKEN??=!0);let i=e.runOutsideAngular(()=>t(n));return new Wi(i)}}var l2={provide:zi,deps:[[new Ot,Ay]]},d2={provide:Wi,useFactory:s2,deps:[[new Ot,Ay],Er,pt]};function MT(t,...e){return Ke("angularfire",oi.full,"app-check"),gn([d2,l2,{provide:Ay,useFactory:u2(t),multi:!0,deps:[Te,ft,pt,qi,Gi,...e]}])}var xT=Bt(AT,!0),RT=Bt(ST,!0);var PT=(()=>{let e=class e{constructor(r){this.appCheck=r}ngOnInit(){this.logAppCheckToken()}logAppCheckToken(){xT(this.appCheck).then(r=>{}).catch(r=>{console.error("Error getting App Check Token:",r)})}};e.\u0275fac=function(i){return new(i||e)(B(Wi))},e.\u0275cmp=Ge({type:e,selectors:[["app-root"]],standalone:!0,features:[We],decls:3,vars:0,template:function(i,o){i&1&&fe(0,"app-header")(1,"router-outlet")(2,"app-footer")},dependencies:[cs,Bm,gt,_d,RD,Ab]});let t=e;return t})();var $T=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(B(yn),B(kt))},e.\u0275dir=Le({type:e});let t=e;return t})(),Ud=(()=>{let e=class e extends $T{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=dr(e)))(o||e)}})(),e.\u0275dir=Le({type:e,features:[rn]});let t=e;return t})(),Ec=new H("");var f2={provide:Ec,useExisting:Nn(()=>an),multi:!0};function p2(){let t=gr()?gr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var g2=new H(""),an=(()=>{let e=class e extends $T{constructor(r,i,o){super(r,i),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!p2())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(B(yn),B(kt),B(g2,8))},e.\u0275dir=Le({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&W("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[Wr([f2]),rn]});let t=e;return t})();function m2(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}var xy=new H(""),HT=new H("");function y2(t){return m2(t.value)?{required:!0}:null}function NT(t){return null}function zT(t){return t!=null}function qT(t){return Fi(t)?Oe(t):t}function GT(t){let e={};return t.forEach(n=>{e=n!=null?j(j({},e),n):e}),Object.keys(e).length===0?null:e}function WT(t,e){return e.map(n=>n(t))}function v2(t){return!t.validate}function KT(t){return t.map(e=>v2(e)?e:n=>e.validate(n))}function _2(t){if(!t)return null;let e=t.filter(zT);return e.length==0?null:function(n){return GT(WT(n,e))}}function Ry(t){return t!=null?_2(KT(t)):null}function w2(t){if(!t)return null;let e=t.filter(zT);return e.length==0?null:function(n){let r=WT(n,e).map(qT);return Bf(r).pipe(ie(GT))}}function Py(t){return t!=null?w2(KT(t)):null}function OT(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function E2(t){return t._rawValidators}function I2(t){return t._rawAsyncValidators}function My(t){return t?Array.isArray(t)?t:[t]:[]}function Nd(t,e){return Array.isArray(t)?t.includes(e):t===e}function kT(t,e){let n=My(e);return My(t).forEach(i=>{Nd(n,i)||n.push(i)}),n}function FT(t,e){return My(e).filter(n=>!Nd(t,n))}var Od=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Ry(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Py(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Es=class extends Od{get formDirective(){return null}get path(){return null}},wc=class extends Od{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},kd=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},C2={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},jW=be(j({},C2),{"[class.ng-submitted]":"isSubmitted"}),Hn=(()=>{let e=class e extends kd{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(B(wc,2))},e.\u0275dir=Le({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&Ul("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[rn]});let t=e;return t})(),Cs=(()=>{let e=class e extends kd{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(B(Es,10))},e.\u0275dir=Le({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,o){i&2&&Ul("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[rn]});let t=e;return t})();var gc="VALID",Pd="INVALID",_s="PENDING",mc="DISABLED",Is=class{},Fd=class extends Is{constructor(e,n){super(),this.value=e,this.source=n}},vc=class extends Is{constructor(e,n){super(),this.pristine=e,this.source=n}},_c=class extends Is{constructor(e,n){super(),this.touched=e,this.source=n}},ws=class extends Is{constructor(e,n){super(),this.status=e,this.source=n}};function QT(t){return(jd(t)?t.validators:t)||null}function b2(t){return Array.isArray(t)?Ry(t):t||null}function YT(t,e){return(jd(e)?e.asyncValidators:t)||null}function D2(t){return Array.isArray(t)?Py(t):t||null}function jd(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function T2(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new Q(1e3,"");if(!r[n])throw new Q(1001,"")}function S2(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new Q(1002,"")})}var Vd=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._events=new at,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===gc}get invalid(){return this.status===Pd}get pending(){return this.status==_s}get disabled(){return this.status===mc}get enabled(){return this.status!==mc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(kT(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(kT(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(FT(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(FT(e,this._rawAsyncValidators))}hasValidator(e){return Nd(this._rawValidators,e)}hasAsyncValidator(e){return Nd(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(be(j({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new _c(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new _c(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(be(j({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new vc(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new vc(!0,r))}markAsPending(e={}){this.status=_s;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ws(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(be(j({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=mc,this.errors=null,this._forEachChild(i=>{i.disable(be(j({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Fd(this.value,r)),this._events.next(new ws(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(be(j({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=gc,this._forEachChild(r=>{r.enable(be(j({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(be(j({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===gc||this.status===_s)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Fd(this.value,n)),this._events.next(new ws(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(be(j({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?mc:gc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=_s,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=qT(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new ws(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new qe,this.statusChanges=new qe}_calculateStatus(){return this._allControlsDisabled()?mc:this.errors?Pd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(_s)?_s:this._anyControlsHaveStatus(Pd)?Pd:gc}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new vc(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new _c(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){jd(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=b2(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=D2(this._rawAsyncValidators)}},Ld=class extends Vd{constructor(e,n,r){super(QT(n),YT(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){S2(this,!0,e),Object.keys(e).forEach(r=>{T2(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Ny=new H("CallSetDisabledState",{providedIn:"root",factory:()=>Oy}),Oy="always";function A2(t,e){return[...e.path,t]}function JT(t,e,n=Oy){ZT(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),x2(t,e),P2(t,e),R2(t,e),M2(t,e)}function VT(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function M2(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function ZT(t,e){let n=E2(t);e.validator!==null?t.setValidators(OT(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=I2(t);e.asyncValidator!==null?t.setAsyncValidators(OT(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();VT(e._rawValidators,i),VT(e._rawAsyncValidators,i)}function x2(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&XT(t,e)})}function R2(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&XT(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function XT(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function P2(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function N2(t,e){t==null,ZT(t,e)}function O2(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function k2(t){return Object.getPrototypeOf(t.constructor)===Ud}function F2(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function V2(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===an?n=o:k2(o)?r=o:i=o}),i||r||n||null}var L2={provide:Es,useExisting:Nn(()=>Ki)},yc=Promise.resolve(),Ki=(()=>{let e=class e extends Es{constructor(r,i,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._directives=new Set,this.ngSubmit=new qe,this.form=new Ld({},Ry(r),Py(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){yc.then(()=>{let i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),JT(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){yc.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){yc.then(()=>{let i=this._findContainer(r.path),o=new Ld({});N2(o,r),i.registerControl(r.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){yc.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){yc.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submitted=!0,F2(this.form,this._directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}};e.\u0275fac=function(i){return new(i||e)(B(xy,10),B(HT,10),B(Ny,8))},e.\u0275dir=Le({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,o){i&1&&W("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Wr([L2]),rn]});let t=e;return t})();function LT(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function UT(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var U2=class extends Vd{constructor(e=null,n,r){super(QT(n),YT(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),jd(n)&&(n.nonNullable||n.initialValueIsDefault)&&(UT(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){LT(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){LT(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){UT(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var j2={provide:wc,useExisting:Nn(()=>In)},jT=Promise.resolve(),In=(()=>{let e=class e extends wc{constructor(r,i,o,s,a,u){super(),this._changeDetectorRef=a,this.callSetDisabledState=u,this.control=new U2,this._registered=!1,this.name="",this.update=new qe,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=V2(this,s)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),O2(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){JT(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){jT.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,o=i!==0&&Qr(i);jT.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?A2(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(B(Es,9),B(xy,10),B(HT,10),B(Ec,10),B(Kr,8),B(Ny,8))},e.\u0275dir=Le({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Wr([j2]),rn,lr]});let t=e;return t})(),bs=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Le({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})(),B2={provide:Ec,useExisting:Nn(()=>ky),multi:!0},ky=(()=>{let e=class e extends Ud{writeValue(r){let i=r??"";this.setProperty("value",i)}registerOnChange(r){this.onChange=i=>{r(i==""?null:parseFloat(i))}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=dr(e)))(o||e)}})(),e.\u0275dir=Le({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,o){i&1&&W("input",function(a){return o.onChange(a.target.value)})("blur",function(){return o.onTouched()})},features:[Wr([B2]),rn]});let t=e;return t})();var $2={provide:Ec,useExisting:Nn(()=>Ds),multi:!0};function eS(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function H2(t){return t.split(":")[0]}var Ds=(()=>{let e=class e extends Ud{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i=this._getOptionId(r),o=eS(i,r);this.setProperty("value",o)}registerOnChange(r){this.onChange=i=>{this.value=this._getOptionValue(i),r(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),r))return i;return null}_getOptionValue(r){let i=H2(r);return this._optionMap.has(i)?this._optionMap.get(i):r}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=dr(e)))(o||e)}})(),e.\u0275dir=Le({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,o){i&1&&W("change",function(a){return o.onChange(a.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[Wr([$2]),rn]});let t=e;return t})(),Bd=(()=>{let e=class e{constructor(r,i,o){this._element=r,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(r){this._select!=null&&(this._select._optionMap.set(this.id,r),this._setElementValue(eS(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._setElementValue(r),this._select&&this._select.writeValue(this._select.value)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(B(kt),B(yn),B(Ds,9))},e.\u0275dir=Le({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})(),z2={provide:Ec,useExisting:Nn(()=>tS),multi:!0};function BT(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function q2(t){return t.split(":")[0]}var tS=(()=>{let e=class e extends Ud{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i;if(Array.isArray(r)){let o=r.map(s=>this._getOptionId(s));i=(s,a)=>{s._setSelected(o.indexOf(a.toString())>-1)}}else i=(o,s)=>{o._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(r){this.onChange=i=>{let o=[],s=i.selectedOptions;if(s!==void 0){let a=s;for(let u=0;u<a.length;u++){let l=a[u],h=this._getOptionValue(l.value);o.push(h)}}else{let a=i.options;for(let u=0;u<a.length;u++){let l=a[u];if(l.selected){let h=this._getOptionValue(l.value);o.push(h)}}}this.value=o,r(o)}}_registerOption(r){let i=(this._idCounter++).toString();return this._optionMap.set(i,r),i}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,r))return i;return null}_getOptionValue(r){let i=q2(r);return this._optionMap.has(i)?this._optionMap.get(i)._value:r}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=dr(e)))(o||e)}})(),e.\u0275dir=Le({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,o){i&1&&W("change",function(a){return o.onChange(a.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[Wr([z2]),rn]});let t=e;return t})(),$d=(()=>{let e=class e{constructor(r,i,o){this._element=r,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(r){this._select!=null&&(this._value=r,this._setElementValue(BT(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._select?(this._value=r,this._setElementValue(BT(this.id,r)),this._select.writeValue(this._select.value)):this._setElementValue(r)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}_setSelected(r){this._renderer.setProperty(this._element.nativeElement,"selected",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(B(kt),B(yn),B(tS,9))},e.\u0275dir=Le({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})();var G2=(()=>{let e=class e{constructor(){this._validator=NT}ngOnChanges(r){if(this.inputName in r){let i=this.normalizeInput(r[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):NT,this._onChange&&this._onChange()}}validate(r){return this._validator(r)}registerOnValidatorChange(r){this._onChange=r}enabled(r){return r!=null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Le({type:e,features:[lr]});let t=e;return t})();var W2={provide:xy,useExisting:Nn(()=>Qi),multi:!0};var Qi=(()=>{let e=class e extends G2{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Qr,this.createValidator=r=>y2}enabled(r){return r}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=dr(e)))(o||e)}})(),e.\u0275dir=Le({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,o){i&2&&xa("required",o._enabled?"":null)},inputs:{required:"required"},features:[Wr([W2]),rn]});let t=e;return t})();var K2=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=kn({type:e}),e.\u0275inj=On({});let t=e;return t})();var zn=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:Ny,useValue:r.callSetDisabledState??Oy}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=kn({type:e}),e.\u0275inj=On({imports:[K2]});let t=e;return t})();var Q2=["slides"],nS=(()=>{let e=class e{constructor(r){this.platformId=r,this.intervalForSlider=1e4,this.withBackground=!1,this.showArrows=!0,this.dragging=!1}onClickLeft(){if(this.slides){let r=this.slides.nativeElement,i=r.scrollWidth/r.children.length;r.scrollLeft-=i,r.scrollLeft<0&&(r.scrollLeft=r.scrollWidth-i)}}onClickRight(){if(this.slides){let r=this.slides.nativeElement,i=r.scrollWidth/r.children.length;r.scrollLeft+=i,r.scrollLeft>=r.scrollWidth&&(r.scrollLeft=0)}}ngAfterViewInit(){Qg(this.platformId)&&(this.autoSlideSub=$f(this.intervalForSlider,this.intervalForSlider).subscribe(()=>this.onClickRight()))}onDrag(r,i){if(i==="start")this.dragging=!0;else if(i==="end")this.dragging=!1;else if(i==="move"&&this.dragging){let o=this.slides.nativeElement,s=r instanceof MouseEvent?r.movementX:r.touches[0].clientX;o.scrollLeft-=s}}ngOnDestroy(){this.autoSlideSub&&this.autoSlideSub.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)(B(pt))},e.\u0275cmp=Ge({type:e,selectors:[["app-carousel"]],viewQuery:function(i,o){if(i&1&&HC(Q2,5),i&2){let s;jl(s=Bl())&&(o.slides=s.first)}},inputs:{intervalForSlider:"intervalForSlider",withBackground:"withBackground",showArrows:"showArrows"},standalone:!0,features:[We],decls:13,vars:0,consts:[["slides",""],["id","carouselExampleIndicators","data-ride","carousel",1,"carousel","slide"],[1,"carousel-inner"],[1,"carousel-item","active"],["src","./slide/slide1.jpg","alt","Slide 1",1,"d-block","w-100"],[1,"carousel-item"],["src","./slide/slide2.jpg","alt","Slide 2",1,"d-block","w-100"],["src","./slide/slide3.jpg","alt","Slide 3",1,"d-block","w-100"],["href","#carouselExampleIndicators","role","button","data-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],["href","#carouselExampleIndicators","role","button","data-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"]],template:function(i,o){i&1&&(D(0,"div",1)(1,"div",2,0)(3,"div",3),fe(4,"img",4),A(),D(5,"div",5),fe(6,"img",6),A(),D(7,"div",5),fe(8,"img",7),A()(),D(9,"a",8),fe(10,"span",9),A(),D(11,"a",10),fe(12,"span",11),A()())},dependencies:[gt],styles:[".carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:50vh;object-fit:cover}.carousel-container[_ngcontent-%COMP%]{position:relative;width:100%;height:50vh;overflow:hidden}.carousel-inner[_ngcontent-%COMP%]{display:flex;overflow:hidden;width:100%;height:100%}.carousel-item[_ngcontent-%COMP%]{background:linear-gradient(to bottom,#fff,#7a73f6);display:flex;align-items:center;justify-content:center;transition:transform 5s ease-in-out}@media (max-width: 576px){.carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:40vh}}"]});let t=e;return t})();var rS=(()=>{let e=class e{constructor(){this.productsSubject=new Je(this.loadProducts()),this.products$=this.productsSubject.asObservable()}loadProducts(){let r=localStorage.getItem("products");return r?JSON.parse(r):[]}saveProducts(r){localStorage.setItem("products",JSON.stringify(r)),this.productsSubject.next(r)}getProducts(){return this.products$}addProduct(r){let i=this.loadProducts();return i.push(r),this.saveProducts(i),G()}deleteProduct(r){let i=this.loadProducts();return i=i.filter(o=>o.id!==r),this.saveProducts(i),G()}updateProduct(r){let i=this.loadProducts(),o=i.findIndex(s=>s.id===r.id);return o!==-1&&(i[o]=r,this.saveProducts(i)),G()}getProductById(r){let i=this.loadProducts().find(o=>o.id===r);return G(i||{})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Hd=(()=>{let e=class e{constructor(r){this.productDataService=r}getProducts(){return this.productDataService.getProducts()}getProductById(r){return this.productDataService.getProductById(r)}};e.\u0275fac=function(i){return new(i||e)(Y(rS))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var oS=t=>({disabled:t}),J2=t=>({active:t});function Z2(t,e){if(t&1){let n=Ft();D(0,"div",13)(1,"div",14),fe(2,"img",15),D(3,"div",16)(4,"h5",17),P(5),A(),D(6,"p",18),P(7),A(),D(8,"button",19),W("click",function(){let i=ee(n).$implicit,o=K();return te(o.viewProduct(i.id))}),P(9,"\u041F\u0435\u0440\u0435\u0439\u0442\u0438 \u0434\u043E \u0442\u043E\u0432\u0430\u0440\u0443"),A()()()()}if(t&2){let n=e.$implicit,r=K();V(2),Ln("alt",n.name),le("src",n.imageUrl,Fn),V(3),Ie(n.name),V(2),fr("",n.price," ",r.currency,"")}}function X2(t,e){if(t&1){let n=Ft();D(0,"li",8)(1,"a",20),W("click",function(){let i=ee(n).$implicit,o=K();return te(o.changePage(i))}),P(2),A()()}if(t&2){let n=e.$implicit,r=K();le("ngClass",$l(2,J2,n===r.currentPage)),V(2),Ie(n)}}var sS=(()=>{let e=class e{constructor(r,i){this.productService=r,this.router=i,this.products=[],this.filteredProducts=[],this.searchText="",this.currency="$",this.itemsPerPage=5,this.currentPage=1,this.totalPages=1,this.pages=[],this.categories=["\u041B\u0456\u0445\u0442\u0430\u0440\u0438\u043A\u0438","\u0420\u043E\u0437\u0443\u043C\u043D\u0456 \u0433\u043E\u0434\u0438\u043D\u043D\u0438\u043A\u0438","\u041D\u0430\u0432\u0443\u0448\u043D\u0438\u043A\u0438","\u0422\u0443\u0440\u0438\u0441\u0442\u0438\u0447\u043D\u0456 \u041A\u0430\u043C\u0435\u0440\u0438","\u041D\u0430\u043C\u0435\u0442\u0438"],this.selectedCategory="all"}ngOnInit(){this.productService.getProducts().subscribe(r=>{this.products=r,this.filteredProducts=r,this.updatePagination()})}getPaginatedProducts(){let r=(this.currentPage-1)*this.itemsPerPage,i=this.currentPage*this.itemsPerPage;return this.filteredProducts.slice(r,i)}updatePagination(){this.totalPages=Math.ceil(this.filteredProducts.length/this.itemsPerPage),this.pages=Array.from({length:this.totalPages},(r,i)=>i+1)}onSearchTextChange(){this.applyFilters(),this.updatePagination(),this.currentPage=1}filterByCategory(r){this.selectedCategory=r,this.applyFilters(),this.updatePagination(),this.currentPage=1}applyFilters(){let r=this.products;this.selectedCategory!=="all"&&(r=r.filter(i=>i.category===this.selectedCategory)),this.searchText&&(r=r.filter(i=>i.name.toLowerCase().includes(this.searchText.toLowerCase()))),this.filteredProducts=r}changePage(r){r>=1&&r<=this.totalPages&&(this.currentPage=r)}viewProduct(r){this.router.navigate([`/product/${r}`])}};e.\u0275fac=function(i){return new(i||e)(B(Hd),B(ut))},e.\u0275cmp=Ge({type:e,selectors:[["app-home"]],standalone:!0,features:[We],decls:30,vars:13,consts:[[1,"container-fluid","mt-4"],["type","search","placeholder","\u0424\u0456\u043B\u044C\u0442\u0440 \u0437\u0430 \u043D\u0430\u0437\u0432\u043E\u044E","aria-label","Search",1,"form-control","mb-4","mt-4",3,"ngModelChange","ngModel"],[1,"text-center","mb-4"],[1,"btn","btn-outline-primary",3,"click"],[1,"row"],["class","col-12 col-md-2 mb-4",4,"ngFor","ngForOf"],["aria-label","Page navigation"],[1,"pagination","justify-content-center"],[1,"page-item",3,"ngClass"],["aria-label","Previous",1,"page-link",3,"click"],["aria-hidden","true"],["class","page-item",3,"ngClass",4,"ngFor","ngForOf"],["aria-label","Next",1,"page-link",3,"click"],[1,"col-12","col-md-2","mb-4"],[1,"card"],[1,"card-img-top",3,"src","alt"],[1,"card-body","text-center"],[1,"card-title"],[1,"card-text"],[1,"btn","btn-primary",3,"click"],[1,"page-link",3,"click"]],template:function(i,o){i&1&&(D(0,"div",0),fe(1,"app-carousel"),D(2,"input",1),je("ngModelChange",function(a){return $e(o.searchText,a)||(o.searchText=a),a}),W("ngModelChange",function(){return o.onSearchTextChange()}),A(),D(3,"div",2)(4,"button",3),W("click",function(){return o.filterByCategory("all")}),P(5,"\u0423\u0441\u0456"),A(),D(6,"button",3),W("click",function(){return o.filterByCategory("\u041B\u0456\u0445\u0442\u0430\u0440\u0438\u043A\u0438")}),P(7,"\u041B\u0456\u0445\u0442\u0430\u0440\u0438\u043A\u0438"),A(),D(8,"button",3),W("click",function(){return o.filterByCategory("\u0420\u043E\u0437\u0443\u043C\u043D\u0456 \u0413\u043E\u0434\u0438\u043D\u043D\u0438\u043A\u0438")}),P(9,"\u0420\u043E\u0437\u0443\u043C\u043D\u0456 \u0413\u043E\u0434\u0438\u043D\u043D\u0438\u043A\u0438"),A(),D(10,"button",3),W("click",function(){return o.filterByCategory("\u041D\u0430\u0432\u0443\u0448\u043D\u0438\u043A\u0438")}),P(11,"\u041D\u0430\u0432\u0443\u0448\u043D\u0438\u043A\u0438"),A(),D(12,"button",3),W("click",function(){return o.filterByCategory("\u0422\u0443\u0440\u0438\u0441\u0442\u0438\u0447\u043D\u0456 \u041A\u0430\u043C\u0435\u0440\u0438")}),P(13,"\u0422\u0443\u0440\u0438\u0441\u0442\u0438\u0447\u043D\u0456 \u041A\u0430\u043C\u0435\u0440\u0438"),A(),D(14,"button",3),W("click",function(){return o.filterByCategory("\u041D\u0430\u043C\u0435\u0442\u0438")}),P(15,"\u041D\u0430\u043C\u0435\u0442\u0438"),A()(),D(16,"div",4),Fe(17,Z2,10,5,"div",5),GC(18,"slice"),A(),D(19,"nav",6)(20,"ul",7)(21,"li",8)(22,"a",9),W("click",function(){return o.changePage(o.currentPage-1)}),D(23,"span",10),P(24,"\xAB"),A()()(),Fe(25,X2,3,4,"li",11),D(26,"li",8)(27,"a",12),W("click",function(){return o.changePage(o.currentPage+1)}),D(28,"span",10),P(29,"\xBB"),A()()()()()()),i&2&&(V(2),Ue("ngModel",o.searchText),V(15),le("ngForOf",WC(18,5,o.getPaginatedProducts(),0,5)),V(4),le("ngClass",$l(9,oS,o.currentPage===1)),V(4),le("ngForOf",o.pages),V(),le("ngClass",$l(11,oS,o.currentPage===o.totalPages)))},dependencies:[gt,hb,Yr,fb,zn,an,Hn,In,nS],styles:[".card[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;height:100%;border:1px solid #ddd;border-radius:.375rem;overflow:hidden}.card-img-top[_ngcontent-%COMP%]{height:150px;object-fit:cover}.card-body[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center;text-align:center}.card-title[_ngcontent-%COMP%]{font-size:1rem}.card-text[_ngcontent-%COMP%]{font-size:.875rem}.carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:50vh;object-fit:cover}.btn-outline-primary[_ngcontent-%COMP%]{margin:.25rem}.pagination[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{padding:.5rem 1rem}.page-link[_ngcontent-%COMP%]{cursor:pointer}@media (max-width: 576px){.card-img-top[_ngcontent-%COMP%]{height:120px}.carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:40vh}}@media (min-width: 992px){.col-md-2[_ngcontent-%COMP%]{flex:0 0 20%;max-width:20%}}"]});let t=e;return t})();function eU(t,e){if(t&1){let n=Ft();D(0,"div",27),fe(1,"img",28),D(2,"div",29)(3,"h4",30),P(4),A(),D(5,"p",31),P(6),A(),D(7,"div",32)(8,"button",33),W("click",function(){let i=ee(n).$implicit,o=K();return te(o.decreaseQuantity(i.product.id))}),P(9,"-"),A(),D(10,"span",34),P(11),A(),D(12,"button",33),W("click",function(){let i=ee(n).$implicit,o=K();return te(o.increaseQuantity(i.product.id))}),P(13,"+"),A(),D(14,"div",7)(15,"p",35),P(16),A()(),D(17,"button",36),W("click",function(){let i=ee(n).$implicit,o=K();return te(o.removeFromCart(i.product.id))}),P(18,"\u041F\u0440\u0438\u0431\u0440\u0430\u0442\u0438"),A()()()()}if(t&2){let n=e.$implicit,r=K();V(),Ln("alt",n.product.name),le("src",n.product.imageUrl,Fn),V(3),Ie(n.product.name),V(2),fr("",n.product.price," ",r.currency,""),V(5),Ie(n.quantity),V(5),fr("\u0417\u0430\u0433\u0430\u043B\u044C\u043D\u0430 \u0441\u0443\u043C\u0430: ",r.totalAmount," ",r.currency,"")}}function tU(t,e){t&1&&(D(0,"small",37),P(1,"\u041D\u0435\u043A\u043E\u0440\u0435\u043A\u0442\u043D\u0438\u0439 \u0444\u043E\u0440\u043C\u0430\u0442. \u0412\u0438\u043A\u043E\u0440\u0438\u0441\u0442\u043E\u0432\u0443\u0439\u0442\u0435 \u0442\u0456\u043B\u044C\u043A\u0438 \u0431\u0443\u043A\u0432\u0438."),A())}function nU(t,e){if(t&1&&(D(0,"small",37),P(1),A()),t&2){K();let n=Ra(17);V(),Ie(n.errors==null?null:n.errors.customError)}}function rU(t,e){if(t&1&&(D(0,"option",38),P(1),A()),t&2){let n=e.$implicit;le("value",n),V(),Ie(n)}}function iU(t,e){if(t&1){let n=Ft();D(0,"div",39),W("click",function(){ee(n);let i=K();return te(i.closeConfirmation())}),D(1,"div",40),W("click",function(i){return ee(n),te(i.stopPropagation())}),D(2,"p",41),P(3,"\u0412\u0430\u0448 \u0442\u043E\u0432\u0430\u0440 \u043E\u0444\u043E\u0440\u043C\u043B\u0435\u043D\u0438\u0439, \u0434\u044F\u043A\u0443\u0454\u043C\u043E \u0437\u0430 \u043F\u043E\u043A\u0443\u043F\u043A\u0443!"),A(),D(4,"button",42),W("click",function(){ee(n);let i=K();return te(i.closeConfirmation())}),P(5,"\u0417\u0430\u043A\u0440\u0438\u0442\u0438"),A()()()}}var aS=(()=>{let e=class e{constructor(r){this.cartService=r,this.cartItems=[],this.totalAmount=0,this.currency="$",this.showConfirmation=!1,this.order={recipientName:"",phone:"",delivery:"",payment:""},this.branches=["\u0412\u0456\u0434\u0434\u0456\u043B\u0435\u043D\u043D\u044F 1","\u0412\u0456\u0434\u0434\u0456\u043B\u0435\u043D\u043D\u044F 2"]}ngOnInit(){this.updateCart()}increaseQuantity(r){this.cartService.increaseQuantity(r),this.updateCart()}decreaseQuantity(r){this.cartService.decreaseQuantity(r),this.updateCart()}removeFromCart(r){this.cartService.removeFromCart(r),this.updateCart()}checkout(){this.cartService.checkout().subscribe(()=>{this.cartItems=[],this.totalAmount=0},r=>{console.error("Checkout error",r)})}submitOrder(){this.validateOrder()&&this.cartService.checkout().subscribe(()=>{this.showConfirmation=!0,this.cartItems=[],this.totalAmount=0,this.order={recipientName:"",phone:"",delivery:"",payment:""}},r=>{console.error("Checkout error",r)})}closeConfirmation(){this.showConfirmation=!1}formatPhone(r){let i=r.replace(/[^\d]/g,"");return i.length===12?`+${i}`:i}onPhoneInput(r){let i=r.target,o=i.value,s=o.replace(/[^\d]/g,"");s.length>12&&(o=s.slice(0,12)),i.value=this.formatPhone(o),this.order.phone=i.value}validatePhone(){let r=/^\+\d{12}$/;return this.order.phone.replace(/[^\d]/g,"").length!==12?"\u041D\u0435\u043A\u043E\u0440\u0435\u043A\u0442\u043D\u0438\u0439 \u0444\u043E\u0440\u043C\u0430\u0442 \u0442\u0435\u043B\u0435\u0444\u043E\u043D\u0443. \u0412\u0432\u0435\u0434\u0456\u0442\u044C 12 \u0446\u0438\u0444\u0440.":r.test(this.order.phone)?null:"\u041D\u0435\u043A\u043E\u0440\u0435\u043A\u0442\u043D\u0438\u0439 \u0444\u043E\u0440\u043C\u0430\u0442 \u0442\u0435\u043B\u0435\u0444\u043E\u043D\u0443. \u0412\u0438\u043A\u043E\u0440\u0438\u0441\u0442\u043E\u0432\u0443\u0439\u0442\u0435 \u0444\u043E\u0440\u043C\u0430\u0442: +380000000000."}validateRecipientName(r){let i=r.target;/^[a-zA-Zа-яА-ЯіІєЄґҐ\s]*$/.test(i.value)||(i.value=i.value.replace(/[^a-zA-Zа-яА-ЯіІєЄґҐ\s]/g,""))}updateCart(){this.cartService.getCartItems().subscribe(r=>{this.cartItems=r,this.calculateTotal()})}calculateTotal(){this.totalAmount=this.cartItems.reduce((r,i)=>r+i.product.price*i.quantity,0)}validateOrder(){let r=this.validatePhone();return r?(alert(r),!1):!0}};e.\u0275fac=function(i){return new(i||e)(B(ls))},e.\u0275cmp=Ge({type:e,selectors:[["app-cart"]],standalone:!0,features:[We],decls:43,vars:10,consts:[["orderForm","ngForm"],["recipientName","ngModel"],["phone","ngModel"],["delivery","ngModel"],["payment","ngModel"],[1,"container"],["class","cart-item d-flex align-items-center border rounded mb-3 p-3",4,"ngFor","ngForOf"],[1,"text-center","mt-4"],[1,"font-weight-bold"],[1,"mt-4",3,"ngSubmit"],[1,"form-group"],["for","recipientName"],["type","text","id","recipientName","name","recipientName","required","","placeholder","\u041F\u0440\u0456\u0437\u0432\u0438\u0449\u0435 \u0406\u043C'\u044F \u041F\u043E\u0431\u0430\u0442\u044C\u043A\u043E\u0432\u0456",1,"form-control",3,"ngModelChange","input","ngModel"],["class","text-danger",4,"ngIf"],["for","phone"],["type","tel","id","phone","name","phone","required","","placeholder","+380000000000",1,"form-control",3,"ngModelChange","input","ngModel"],["for","delivery"],["id","delivery","name","delivery","required","",1,"form-control",3,"ngModelChange","ngModel"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["for","payment"],["id","payment","name","payment","required","",1,"form-control",3,"ngModelChange","ngModel"],["value","pay-now"],["value","invoice"],["value","installments"],["type","submit",1,"btn","btn-success","btn-block",3,"disabled"],["class","confirmation-overlay",3,"click",4,"ngIf"],[1,"cart-item","d-flex","align-items-center","border","rounded","mb-3","p-3"],["id","img",1,"cart-item-image","mr-3",3,"src","alt"],[1,"cart-item-details","flex-grow-1"],[1,"cart-item-name","font-weight-bold"],[1,"cart-item-price"],[1,"quantity-control","d-flex","align-items-center"],[1,"btn","btn-outline-primary","btn-sm",3,"click"],[1,"mx-2"],["id","total",1,"font-weight-bold"],["id","btn",1,"btn","btn-danger","btn-sm","ml-3",3,"click"],[1,"text-danger"],[3,"value"],[1,"confirmation-overlay",3,"click"],[1,"confirmation-content",3,"click"],[1,"confirmation-text"],[1,"btn","btn-success",3,"click"]],template:function(i,o){if(i&1){let s=Ft();D(0,"div",5),Fe(1,eU,19,8,"div",6),D(2,"div",7)(3,"h2",8),P(4,"\u0417\u0430\u043C\u043E\u0432\u043B\u0435\u043D\u043D\u044F"),A(),D(5,"form",9,0),W("ngSubmit",function(){return ee(s),te(o.submitOrder())}),D(7,"div",10)(8,"label",11),P(9,"\u041E\u0442\u0440\u0438\u043C\u0443\u0432\u0430\u0447:"),A(),D(10,"input",12,1),je("ngModelChange",function(u){return ee(s),$e(o.order.recipientName,u)||(o.order.recipientName=u),te(u)}),W("input",function(u){return ee(s),te(o.validateRecipientName(u))}),A(),Fe(12,tU,2,0,"small",13),A(),D(13,"div",10)(14,"label",14),P(15,"\u041C\u043E\u0431\u0456\u043B\u044C\u043D\u0438\u0439 \u0442\u0435\u043B\u0435\u0444\u043E\u043D:"),A(),D(16,"input",15,2),je("ngModelChange",function(u){return ee(s),$e(o.order.phone,u)||(o.order.phone=u),te(u)}),W("input",function(u){return ee(s),te(o.onPhoneInput(u))}),A(),Fe(18,nU,2,1,"small",13),A(),D(19,"div",10)(20,"label",16),P(21,"\u0414\u043E\u0441\u0442\u0430\u0432\u043A\u0430:"),A(),D(22,"select",17,3),je("ngModelChange",function(u){return ee(s),$e(o.order.delivery,u)||(o.order.delivery=u),te(u)}),D(24,"option",18),P(25,"\u041E\u0431\u0435\u0440\u0456\u0442\u044C \u0432\u0456\u0434\u0434\u0456\u043B\u0435\u043D\u043D\u044F"),A(),Fe(26,rU,2,2,"option",19),A()(),D(27,"div",10)(28,"label",20),P(29,"\u041E\u043F\u043B\u0430\u0442\u0430:"),A(),D(30,"select",21,4),je("ngModelChange",function(u){return ee(s),$e(o.order.payment,u)||(o.order.payment=u),te(u)}),D(32,"option",18),P(33,"\u041E\u0431\u0435\u0440\u0456\u0442\u044C \u0441\u043F\u043E\u0441\u0456\u0431 \u043E\u043F\u043B\u0430\u0442\u0438"),A(),D(34,"option",22),P(35,"\u041E\u043F\u043B\u0430\u0442\u0438\u0442\u0438 \u0437\u0430\u0440\u0430\u0437"),A(),D(36,"option",23),P(37,"\u0411\u0435\u0437\u0433\u043E\u0442\u0456\u0432\u043A\u043E\u0432\u0438\u0439 \u0440\u0430\u0445\u0443\u043D\u043E\u043A"),A(),D(38,"option",24),P(39,"\u041E\u043F\u043B\u0430\u0442\u0430 \u0447\u0430\u0441\u0442\u0438\u043D\u0430\u043C\u0438"),A()()(),D(40,"button",25),P(41,"\u041E\u0444\u043E\u0440\u043C\u0438\u0442\u0438 \u043F\u043E\u043A\u0443\u043F\u043A\u0443"),A()()(),Fe(42,iU,6,0,"div",26),A()}if(i&2){let s=Ra(6),a=Ra(11),u=Ra(17);V(),le("ngForOf",o.cartItems),V(9),Ue("ngModel",o.order.recipientName),V(2),le("ngIf",a.invalid&&a.touched),V(4),Ue("ngModel",o.order.phone),V(2),le("ngIf",u.errors==null?null:u.errors.customError),V(4),Ue("ngModel",o.order.delivery),V(4),le("ngForOf",o.branches),V(4),Ue("ngModel",o.order.payment),V(10),le("disabled",!s.valid),V(2),le("ngIf",o.showConfirmation)}},dependencies:[gt,Yr,Jr,zn,bs,Bd,$d,an,Ds,Hn,Cs,Qi,In,Ki],styles:[".cart-item[_ngcontent-%COMP%]{background-color:#f9f9f9}#btn[_ngcontent-%COMP%]{width:90px}#img[_ngcontent-%COMP%]{margin:15px}#total[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px}.cart-item-image[_ngcontent-%COMP%]{width:80px;height:80px;object-fit:cover}.cart-item-name[_ngcontent-%COMP%]{font-size:1.2rem}.cart-item-price[_ngcontent-%COMP%]{font-size:1rem;color:#333}.quantity-control[_ngcontent-%COMP%]{margin-top:.5rem}.quantity-control[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:30px;height:30px}.btn-danger[_ngcontent-%COMP%]{background-color:#dc3545;border-color:#dc3545}.btn-danger[_ngcontent-%COMP%]:hover{background-color:#c82333;border-color:#bd2130}.confirmation-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center}.confirmation-content[_ngcontent-%COMP%]{background-color:#fff;padding:2rem;border-radius:5px;text-align:center;animation:_ngcontent-%COMP%_fadeIn .3s ease-in}.confirmation-text[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:1rem}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.form-control[_ngcontent-%COMP%]{border-radius:.25rem;border-color:#ced4da}.btn-success[_ngcontent-%COMP%]{background-color:#28a745;border-color:#28a745}.btn-success[_ngcontent-%COMP%]:hover{background-color:#218838;border-color:#1e7e34}.confirmation-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.confirmation-content[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:8px;text-align:center}.confirmation-text[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:20px}.container[_ngcontent-%COMP%]{padding:1rem}.cart-item[_ngcontent-%COMP%]{margin-bottom:1rem}.btn[_ngcontent-%COMP%]{width:auto}@media (max-width: 768px){.cart-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.cart-item-image[_ngcontent-%COMP%]{width:100px;height:100px}.cart-item-name[_ngcontent-%COMP%]{font-size:1rem}.cart-item-price[_ngcontent-%COMP%]{font-size:.9rem}.quantity-control[_ngcontent-%COMP%]{margin-top:1rem;flex-direction:column}.quantity-control[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:40px;height:40px}.btn-danger[_ngcontent-%COMP%], .btn-success[_ngcontent-%COMP%]{width:100%}#btn[_ngcontent-%COMP%]{width:100%;margin-top:.5rem}#img[_ngcontent-%COMP%], #total[_ngcontent-%COMP%]{margin:10px 0}.confirmation-content[_ngcontent-%COMP%]{width:90%;max-width:400px;padding:1rem}}@media (min-width: 769px) and (max-width: 1024px){.cart-item[_ngcontent-%COMP%]{flex-direction:row}.cart-item-image[_ngcontent-%COMP%]{width:100px;height:100px}.cart-item-name[_ngcontent-%COMP%]{font-size:1.1rem}.cart-item-price[_ngcontent-%COMP%]{font-size:.95rem}.quantity-control[_ngcontent-%COMP%]{margin-top:.5rem;flex-direction:row}.quantity-control[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:35px;height:35px}}"]});let t=e;return t})();function oU(t,e){if(t&1&&(D(0,"div",18)(1,"p"),P(2),A()()),t&2){let n=e.$implicit;V(2),Ie(n)}}function sU(t,e){if(t&1){let n=Ft();D(0,"div",19),W("click",function(){ee(n);let i=K(2);return te(i.closeModal())}),D(1,"div",20),W("click",function(i){return ee(n),te(i.stopPropagation())}),D(2,"div",21)(3,"h4",22),P(4,"\u041A\u043E\u0448\u0438\u043A"),A(),D(5,"button",23),W("click",function(){ee(n);let i=K(2);return te(i.closeModal())}),P(6,"\xD7"),A()(),D(7,"div",24)(8,"div",25),fe(9,"img",26),D(10,"div",27)(11,"h5"),P(12),A(),D(13,"p",28),P(14),A(),D(15,"div",29)(16,"button",30),W("click",function(){ee(n);let i=K(2);return te(i.decreaseQuantity())}),P(17,"-"),A(),D(18,"span",31),P(19),A(),D(20,"button",30),W("click",function(){ee(n);let i=K(2);return te(i.increaseQuantity())}),P(21,"+"),A()()()(),D(22,"div",32)(23,"button",33),W("click",function(){ee(n);let i=K(2);return te(i.addToCart())}),P(24,"\u041E\u0444\u043E\u0440\u043C\u0438\u0442\u0438 \u0437\u0430\u043C\u043E\u0432\u043B\u0435\u043D\u043D\u044F"),A()()()()()}if(t&2){let n=K(2);V(9),Ln("alt",n.product.name),le("src",n.product.imageUrl,Fn),V(3),Ie(n.product.name),V(2),fr("",n.product.price," ",n.currency,""),V(5),Ie(n.quantity)}}function aU(t,e){if(t&1){let n=Ft();D(0,"div",1)(1,"div",2)(2,"div",3),fe(3,"img",4),A(),D(4,"div",5)(5,"h3",6),P(6),A(),D(7,"p",7),P(8,"\u0404 \u0432 \u043D\u0430\u044F\u0432\u043D\u043E\u0441\u0442\u0456"),A(),D(9,"p",8),P(10),A(),D(11,"button",9),W("click",function(){ee(n);let i=K();return te(i.openModal())}),P(12,"\u041A\u0443\u043F\u0438\u0442\u0438"),A(),D(13,"button",10),W("click",function(){ee(n);let i=K();return te(i.goBack())}),P(14,"\u041D\u0430\u0437\u0430\u0434"),A(),D(15,"h4",11),P(16,"\u041E\u043F\u0438\u0441 \u0442\u043E\u0432\u0430\u0440\u0443"),A(),D(17,"p",12),P(18),A(),D(19,"h4",13),P(20,"\u041A\u043E\u043C\u0435\u043D\u0442\u0430\u0440\u0456:"),A(),Fe(21,oU,3,1,"div",14),D(22,"textarea",15),je("ngModelChange",function(i){ee(n);let o=K();return $e(o.newComment,i)||(o.newComment=i),te(i)}),A(),D(23,"button",16),W("click",function(){ee(n);let i=K();return te(i.addComment())}),P(24,"\u0414\u043E\u0434\u0430\u0442\u0438 \u043A\u043E\u043C\u0435\u043D\u0442\u0430\u0440"),A()()(),Fe(25,sU,25,6,"div",17),A()}if(t&2){let n=K();V(3),Ln("alt",n.product.name),le("src",n.product.imageUrl,Fn),V(3),Ie(n.product.name),V(4),fr("",n.product.price," ",n.currency,""),V(8),Ie(n.product.description),V(3),le("ngForOf",n.comments),V(),Ue("ngModel",n.newComment),V(3),le("ngIf",n.showModal)}}var cS=(()=>{let e=class e{constructor(r,i,o,s){this.route=r,this.productService=i,this.cartService=o,this.router=s,this.comments=[],this.newComment="",this.currency="$",this.showModal=!1,this.quantity=1}ngOnInit(){let r=this.route.snapshot.paramMap.get("id");r&&this.productService.getProductById(+r).subscribe(i=>{this.product=i,this.loadComments()})}openModal(){this.showModal=!0}closeModal(){this.showModal=!1}addToCart(){this.cartService.addToCart(this.product,this.quantity),this.closeModal(),this.router.navigate(["/cart"])}increaseQuantity(){this.quantity++}decreaseQuantity(){this.quantity>1&&this.quantity--}goBack(){this.router.navigate(["/"])}addComment(){if(this.newComment.trim()){let r=this.newComment.replace(/(кокос|банан|поганий|@)/g,"*");this.comments.push(r),this.product&&this.product.id&&localStorage.setItem(this.product.id,JSON.stringify(this.comments)),this.newComment=""}}loadComments(){if(this.product&&this.product.id){let r=localStorage.getItem(this.product.id);this.comments=r?JSON.parse(r):[]}}};e.\u0275fac=function(i){return new(i||e)(B(jn),B(Hd),B(ls),B(ut))},e.\u0275cmp=Ge({type:e,selectors:[["app-product"]],standalone:!0,features:[We],decls:1,vars:1,consts:[["class","product-container container",4,"ngIf"],[1,"product-container","container"],[1,"row"],[1,"col-md-4","d-flex","align-items-start"],[1,"product-image","img-fluid",3,"src","alt"],[1,"col-md-8"],[1,"product-name"],[1,"product-stock"],[1,"product-price"],[1,"btn","btn-success","buy-button",3,"click"],[1,"btn","btn-secondary","back-button",3,"click"],[1,"product-description-title"],[1,"product-description"],[1,"comments-title"],["class","comment",4,"ngFor","ngForOf"],["placeholder","\u041D\u0430\u043F\u0438\u0448\u0456\u0442\u044C \u0432\u0430\u0448 \u043A\u043E\u043C\u0435\u043D\u0442\u0430\u0440...",1,"form-control","comment-textarea",3,"ngModelChange","ngModel"],[1,"btn","btn-success","add-comment-button",3,"click"],["class","modal-overlay",3,"click",4,"ngIf"],[1,"comment"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"modal-title"],[1,"close-button",3,"click"],[1,"modal-body"],[1,"modal-product-info"],[1,"modal-product-image",3,"src","alt"],[1,"modal-product-details"],[1,"modal-product-price"],[1,"quantity-control"],[1,"quantity-button",3,"click"],[1,"quantity"],[1,"modal-footer"],[1,"btn","btn-success",3,"click"]],template:function(i,o){i&1&&Fe(0,aU,26,9,"div",0),i&2&&le("ngIf",o.product)},dependencies:[gt,Yr,Jr,zn,an,Hn,In],styles:[".product-container[_ngcontent-%COMP%]{margin-top:20px}.product-name[_ngcontent-%COMP%]{font-weight:700;font-size:1.5rem;margin-bottom:10px}.product-stock[_ngcontent-%COMP%]{color:#28a745;font-size:.9rem;margin-bottom:15px}.product-price[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:20px}.buy-button[_ngcontent-%COMP%], .back-button[_ngcontent-%COMP%], .add-comment-button[_ngcontent-%COMP%]{margin-right:10px;transition:background-color .3s,transform .2s}.buy-button[_ngcontent-%COMP%]:hover{background-color:#218838;transform:scale(1.05)}.back-button[_ngcontent-%COMP%]:hover{background-color:#6c757d;transform:scale(1.05)}.product-description-title[_ngcontent-%COMP%], .comments-title[_ngcontent-%COMP%]{text-align:center;margin-top:20px}.product-description[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}.comment[_ngcontent-%COMP%]{border-bottom:1px solid #dee2e6;padding-bottom:10px;margin-bottom:10px}.comment-textarea[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:10px}.add-comment-button[_ngcontent-%COMP%]{margin-top:10px;transition:background-color .3s,transform .2s}.add-comment-button[_ngcontent-%COMP%]:hover{background-color:#218838;transform:scale(1.05)}.align-items-start[_ngcontent-%COMP%]{align-items:flex-start}.product-image[_ngcontent-%COMP%]{max-width:100%;border-radius:8px}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;align-items:center;justify-content:center;animation:_ngcontent-%COMP%_fadeIn .3s ease-in}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:8px;width:80%;max-width:500px;padding:20px;position:relative;animation:_ngcontent-%COMP%_scaleUp .3s ease-in-out}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.modal-title[_ngcontent-%COMP%]{font-size:1.5rem}.close-button[_ngcontent-%COMP%]{background:none;border:none;font-size:1.5rem;cursor:pointer;transition:color .3s ease}.close-button[_ngcontent-%COMP%]:hover{color:#dc3545}.modal-body[_ngcontent-%COMP%]{margin-top:15px}.modal-product-info[_ngcontent-%COMP%]{display:flex;align-items:center}.modal-product-image[_ngcontent-%COMP%]{width:80px;height:80px;object-fit:cover;margin-right:15px}.modal-product-details[_ngcontent-%COMP%]{flex:1}.modal-product-price[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700}.quantity-control[_ngcontent-%COMP%]{display:flex;align-items:center;margin-top:10px}.quantity-button[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none;padding:5px 10px;cursor:pointer}.quantity[_ngcontent-%COMP%]{margin:0 10px}.quantity-button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:20px}.btn-success[_ngcontent-%COMP%]{background-color:#28a745;border-color:#28a745}.btn-success[_ngcontent-%COMP%]:hover{background-color:#218838}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_scaleUp{0%{transform:scale(.9)}to{transform:scale(1)}}"]});let t=e;return t})();function mS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var yS=mS,vS=new wn("auth","Firebase",mS());var Wd=new Bn("@firebase/auth");function uU(t,...e){Wd.logLevel<=ve.WARN&&Wd.warn(`Auth (${gs}): ${t}`,...e)}function qd(t,...e){Wd.logLevel<=ve.ERROR&&Wd.error(`Auth (${gs}): ${t}`,...e)}function uS(t,...e){throw Wy(t,...e)}function Gy(t,...e){return Wy(t,...e)}function _S(t,e,n){let r=Object.assign(Object.assign({},yS()),{[e]:n});return new wn("auth","Firebase",r).create(e,{appName:t.name})}function Gd(t){return _S(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Wy(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return vS.create(t,...e)}function Me(t,e,...n){if(!t)throw Wy(e,...n)}function Cc(t){let e="INTERNAL ASSERTION FAILED: "+t;throw qd(e),new Error(e)}function Kd(t,e){t||Cc(e)}function lU(){return lS()==="http:"||lS()==="https:"}function lS(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function dU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(lU()||jD()||"connection"in navigator)?navigator.onLine:!0}function hU(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Ji=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Kd(n>e,"Short delay should be less than long delay!"),this.isMobile=LD()||BD()}get(){return dU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function fU(t,e){Kd(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Qd=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Cc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Cc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Cc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var pU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var gU=new Ji(3e4,6e4);function wS(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Xd(o,s,a,u){return S(this,arguments,function*(t,e,n,r,i={}){return ES(t,i,()=>S(this,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=ty(Object.assign({key:t.config.apiKey},h)).slice(1),m=yield t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);let y=Object.assign({method:e,headers:m},l);return UD()||(y.referrerPolicy="no-referrer"),Qd.fetch()(IS(t,t.config.apiHost,n,p),y)}))})}function ES(t,e,n){return S(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},pU),e);try{let i=new Ly(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw zd(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw zd(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw zd(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw zd(t,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw _S(t,h,l);uS(t,h)}}catch(i){if(i instanceof sn)throw i;uS(t,"network-request-failed",{message:String(i)})}})}function IS(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?fU(t.config,i):`${t.config.apiScheme}://${i}`}var Ly=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Gy(this.auth,"network-request-failed")),gU.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function zd(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Gy(t,e,r);return i.customData._tokenResponse=n,i}function mU(t,e){return S(this,null,function*(){return Xd(t,"POST","/v1/accounts:delete",e)})}function CS(t,e){return S(this,null,function*(){return Xd(t,"POST","/v1/accounts:lookup",e)})}function bc(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Ky(t,e=!1){return S(this,null,function*(){let n=mt(t),r=yield n.getIdToken(e),i=bS(r);Me(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:bc(Fy(i.auth_time)),issuedAtTime:bc(Fy(i.iat)),expirationTime:bc(Fy(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function Fy(t){return Number(t)*1e3}function bS(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return qd("JWT malformed, contained fewer than 3 sections"),null;try{let i=Zm(n);return i?JSON.parse(i):(qd("Failed to decode base64 JWT payload"),null)}catch(i){return qd("Caught error parsing JWT payload as JSON",i?.toString()),null}}function dS(t){let e=bS(t);return Me(e,"internal-error"),Me(typeof e.exp<"u","internal-error"),Me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Uy(t,e,n=!1){return S(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof sn&&yU(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function yU({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var jy=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>S(this,null,function*(){yield this.iteration()}),n)}iteration(){return S(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Tc=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=bc(this.lastLoginAt),this.creationTime=bc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Yd(t){return S(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Uy(t,CS(n,{idToken:r}));Me(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?DS(o.providerUserInfo):[],a=vU(t.providerData,s),u=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Tc(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,p)})}function Qy(t){return S(this,null,function*(){let e=mt(t);yield Yd(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function vU(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function DS(t){return t.map(e=>{var{providerId:n}=e,r=Uf(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function _U(t,e){return S(this,null,function*(){let n=yield ES(t,{},()=>S(this,null,function*(){let r=ty({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=IS(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Qd.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function wU(t,e){return S(this,null,function*(){return Xd(t,"POST","/v2/accounts:revokeToken",wS(t,e))})}var Dc=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Me(e.idToken,"internal-error"),Me(typeof e.idToken<"u","internal-error"),Me(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):dS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Me(e.length!==0,"internal-error");let n=dS(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return S(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Me(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return S(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield _U(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(Me(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Me(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Me(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Cc("not implemented")}};function si(t,e){Me(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Sc=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Uf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new jy(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Tc(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return S(this,null,function*(){let n=yield Uy(this,this.stsTokenManager.getToken(this.auth,e));return Me(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Ky(this,e)}reload(){return Qy(this)}_assign(e){this!==e&&(Me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return S(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Yd(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return S(this,null,function*(){if(ps(this.auth.app))return Promise.reject(Gd(this.auth));let e=yield this.getIdToken();return yield Uy(this,mU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,u,l,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,y=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,T=(s=n.photoURL)!==null&&s!==void 0?s:void 0,N=(a=n.tenantId)!==null&&a!==void 0?a:void 0,R=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,F=(l=n.createdAt)!==null&&l!==void 0?l:void 0,J=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:q,emailVerified:X,isAnonymous:Pe,providerData:re,stsTokenManager:E}=n;Me(q&&E,e,"internal-error");let v=Dc.fromJSON(this.name,E);Me(typeof q=="string",e,"internal-error"),si(p,e.name),si(m,e.name),Me(typeof X=="boolean",e,"internal-error"),Me(typeof Pe=="boolean",e,"internal-error"),si(y,e.name),si(T,e.name),si(N,e.name),si(R,e.name),si(F,e.name),si(J,e.name);let _=new t({uid:q,auth:e,email:m,emailVerified:X,displayName:p,isAnonymous:Pe,photoURL:T,phoneNumber:y,tenantId:N,stsTokenManager:v,createdAt:F,lastLoginAt:J});return re&&Array.isArray(re)&&(_.providerData=re.map(I=>Object.assign({},I))),R&&(_._redirectEventId=R),_}static _fromIdTokenResponse(e,n,r=!1){return S(this,null,function*(){let i=new Dc;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Yd(o),o})}static _fromGetAccountInfoResponse(e,n,r){return S(this,null,function*(){let i=n.users[0];Me(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?DS(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Dc;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Tc(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var hS=new Map;function Yi(t){Kd(t instanceof Function,"Expected a class definition");let e=hS.get(t);return e?(Kd(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,hS.set(t,e),e)}var EU=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return S(this,null,function*(){return!0})}_set(n,r){return S(this,null,function*(){this.storage[n]=r})}_get(n){return S(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return S(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),By=EU;function Vy(t,e,n){return`firebase:${t}:${e}:${n}`}var Jd=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Vy(this.userKey,i.apiKey,o),this.fullPersistenceKey=Vy("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return S(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Sc._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return S(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return S(this,null,function*(){if(!n.length)return new t(Yi(By),e,r);let i=(yield Promise.all(n.map(l=>S(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||Yi(By),s=Vy(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let h=yield l._get(s);if(h){let p=Sc._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new t(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>S(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,r))})}};function fS(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(DU(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(IU(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(SU(e))return"Blackberry";if(AU(e))return"Webos";if(CU(e))return"Safari";if((e.includes("chrome/")||bU(e))&&!e.includes("edge/"))return"Chrome";if(TU(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function IU(t=Yt()){return/firefox\//i.test(t)}function CU(t=Yt()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function bU(t=Yt()){return/crios\//i.test(t)}function DU(t=Yt()){return/iemobile/i.test(t)}function TU(t=Yt()){return/android/i.test(t)}function SU(t=Yt()){return/blackberry/i.test(t)}function AU(t=Yt()){return/webos/i.test(t)}function TS(t,e=[]){let n;switch(t){case"Browser":n=fS(Yt());break;case"Worker":n=`${fS(Yt())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${gs}/${r}`}var $y=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return S(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function MU(n){return S(this,arguments,function*(t,e={}){return Xd(t,"GET","/v2/passwordPolicy",wS(t,e))})}var xU=6,Hy=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:xU,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var zy=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Zd(this),this.idTokenSubscription=new Zd(this),this.beforeStateQueue=new $y(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Yi(n)),this._initializationPromise=this.queue(()=>S(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Jd.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return S(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return S(this,null,function*(){try{let n=yield CS(this,{idToken:e}),r=yield Sc._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return S(this,null,function*(){var n;if(ps(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Me(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return S(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return S(this,null,function*(){try{yield Yd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=hU()}_delete(){return S(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return S(this,null,function*(){if(ps(this.app))return Promise.reject(Gd(this));let n=e?mt(e):null;return n&&Me(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return S(this,null,function*(){if(!this._deleted)return e&&Me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>S(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return S(this,null,function*(){return ps(this.app)?Promise.reject(Gd(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return ps(this.app)?Promise.reject(Gd(this)):this.queue(()=>S(this,null,function*(){yield this.assertedPersistence.setPersistence(Yi(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return S(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return S(this,null,function*(){let e=yield MU(this),n=new Hy(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new wn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return S(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield wU(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return S(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return S(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Yi(e)||this._popupRedirectResolver;Me(n,this,"argument-error"),this.redirectPersistenceManager=yield Jd.create(this,[Yi(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return S(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>S(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return S(this,null,function*(){if(e===this.currentUser)return this.queue(()=>S(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Me(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(n);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return S(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=TS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return S(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return S(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&uU(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function RU(t){return mt(t)}var Zd=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=zD(n=>this.observer=n)}get next(){return Me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var PU={loadJS(){return S(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function NU(t){PU=t}function OU(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function kU(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Yi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}var v7=OU("rcb"),_7=new Ji(3e4,6e4);var w7=new Ji(2e3,1e4);var E7=10*60*1e3;var I7=new Ji(3e4,6e4);var C7=new Ji(5e3,15e3);var b7=encodeURIComponent("fac");var pS="@firebase/auth",gS="1.7.9";var qy=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return S(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function FU(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function VU(t){En(new Vt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Me(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:TS(t)},l=new zy(r,i,o,u);return kU(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),En(new Vt("auth-internal",e=>{let n=RU(e.getProvider("auth").getImmediate());return(r=>new qy(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ke(pS,gS,FU(t)),Ke(pS,gS,"esm2017")}var LU=5*60,D7=FD("authIdTokenMaxAge")||LU;function UU(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}NU({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=Gy("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",UU().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});VU("Browser");var Lj="auth";var eh=class{constructor(){return ys(Lj)}};var SS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},AS={};var ai,Yy;(function(){var t;function e(E,v){function _(){}_.prototype=v.prototype,E.D=v.prototype,E.prototype=new _,E.prototype.constructor=E,E.C=function(I,C,M){for(var w=Array(arguments.length-2),Zn=2;Zn<arguments.length;Zn++)w[Zn-2]=arguments[Zn];return v.prototype[C].apply(I,w)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,v,_){_||(_=0);var I=Array(16);if(typeof v=="string")for(var C=0;16>C;++C)I[C]=v.charCodeAt(_++)|v.charCodeAt(_++)<<8|v.charCodeAt(_++)<<16|v.charCodeAt(_++)<<24;else for(C=0;16>C;++C)I[C]=v[_++]|v[_++]<<8|v[_++]<<16|v[_++]<<24;v=E.g[0],_=E.g[1],C=E.g[2];var M=E.g[3],w=v+(M^_&(C^M))+I[0]+3614090360&4294967295;v=_+(w<<7&4294967295|w>>>25),w=M+(C^v&(_^C))+I[1]+3905402710&4294967295,M=v+(w<<12&4294967295|w>>>20),w=C+(_^M&(v^_))+I[2]+606105819&4294967295,C=M+(w<<17&4294967295|w>>>15),w=_+(v^C&(M^v))+I[3]+3250441966&4294967295,_=C+(w<<22&4294967295|w>>>10),w=v+(M^_&(C^M))+I[4]+4118548399&4294967295,v=_+(w<<7&4294967295|w>>>25),w=M+(C^v&(_^C))+I[5]+1200080426&4294967295,M=v+(w<<12&4294967295|w>>>20),w=C+(_^M&(v^_))+I[6]+2821735955&4294967295,C=M+(w<<17&4294967295|w>>>15),w=_+(v^C&(M^v))+I[7]+4249261313&4294967295,_=C+(w<<22&4294967295|w>>>10),w=v+(M^_&(C^M))+I[8]+1770035416&4294967295,v=_+(w<<7&4294967295|w>>>25),w=M+(C^v&(_^C))+I[9]+2336552879&4294967295,M=v+(w<<12&4294967295|w>>>20),w=C+(_^M&(v^_))+I[10]+4294925233&4294967295,C=M+(w<<17&4294967295|w>>>15),w=_+(v^C&(M^v))+I[11]+2304563134&4294967295,_=C+(w<<22&4294967295|w>>>10),w=v+(M^_&(C^M))+I[12]+1804603682&4294967295,v=_+(w<<7&4294967295|w>>>25),w=M+(C^v&(_^C))+I[13]+4254626195&4294967295,M=v+(w<<12&4294967295|w>>>20),w=C+(_^M&(v^_))+I[14]+2792965006&4294967295,C=M+(w<<17&4294967295|w>>>15),w=_+(v^C&(M^v))+I[15]+1236535329&4294967295,_=C+(w<<22&4294967295|w>>>10),w=v+(C^M&(_^C))+I[1]+4129170786&4294967295,v=_+(w<<5&4294967295|w>>>27),w=M+(_^C&(v^_))+I[6]+3225465664&4294967295,M=v+(w<<9&4294967295|w>>>23),w=C+(v^_&(M^v))+I[11]+643717713&4294967295,C=M+(w<<14&4294967295|w>>>18),w=_+(M^v&(C^M))+I[0]+3921069994&4294967295,_=C+(w<<20&4294967295|w>>>12),w=v+(C^M&(_^C))+I[5]+3593408605&4294967295,v=_+(w<<5&4294967295|w>>>27),w=M+(_^C&(v^_))+I[10]+38016083&4294967295,M=v+(w<<9&4294967295|w>>>23),w=C+(v^_&(M^v))+I[15]+3634488961&4294967295,C=M+(w<<14&4294967295|w>>>18),w=_+(M^v&(C^M))+I[4]+3889429448&4294967295,_=C+(w<<20&4294967295|w>>>12),w=v+(C^M&(_^C))+I[9]+568446438&4294967295,v=_+(w<<5&4294967295|w>>>27),w=M+(_^C&(v^_))+I[14]+3275163606&4294967295,M=v+(w<<9&4294967295|w>>>23),w=C+(v^_&(M^v))+I[3]+4107603335&4294967295,C=M+(w<<14&4294967295|w>>>18),w=_+(M^v&(C^M))+I[8]+1163531501&4294967295,_=C+(w<<20&4294967295|w>>>12),w=v+(C^M&(_^C))+I[13]+2850285829&4294967295,v=_+(w<<5&4294967295|w>>>27),w=M+(_^C&(v^_))+I[2]+4243563512&4294967295,M=v+(w<<9&4294967295|w>>>23),w=C+(v^_&(M^v))+I[7]+1735328473&4294967295,C=M+(w<<14&4294967295|w>>>18),w=_+(M^v&(C^M))+I[12]+2368359562&4294967295,_=C+(w<<20&4294967295|w>>>12),w=v+(_^C^M)+I[5]+4294588738&4294967295,v=_+(w<<4&4294967295|w>>>28),w=M+(v^_^C)+I[8]+2272392833&4294967295,M=v+(w<<11&4294967295|w>>>21),w=C+(M^v^_)+I[11]+1839030562&4294967295,C=M+(w<<16&4294967295|w>>>16),w=_+(C^M^v)+I[14]+4259657740&4294967295,_=C+(w<<23&4294967295|w>>>9),w=v+(_^C^M)+I[1]+2763975236&4294967295,v=_+(w<<4&4294967295|w>>>28),w=M+(v^_^C)+I[4]+1272893353&4294967295,M=v+(w<<11&4294967295|w>>>21),w=C+(M^v^_)+I[7]+4139469664&4294967295,C=M+(w<<16&4294967295|w>>>16),w=_+(C^M^v)+I[10]+3200236656&4294967295,_=C+(w<<23&4294967295|w>>>9),w=v+(_^C^M)+I[13]+681279174&4294967295,v=_+(w<<4&4294967295|w>>>28),w=M+(v^_^C)+I[0]+3936430074&4294967295,M=v+(w<<11&4294967295|w>>>21),w=C+(M^v^_)+I[3]+3572445317&4294967295,C=M+(w<<16&4294967295|w>>>16),w=_+(C^M^v)+I[6]+76029189&4294967295,_=C+(w<<23&4294967295|w>>>9),w=v+(_^C^M)+I[9]+3654602809&4294967295,v=_+(w<<4&4294967295|w>>>28),w=M+(v^_^C)+I[12]+3873151461&4294967295,M=v+(w<<11&4294967295|w>>>21),w=C+(M^v^_)+I[15]+530742520&4294967295,C=M+(w<<16&4294967295|w>>>16),w=_+(C^M^v)+I[2]+3299628645&4294967295,_=C+(w<<23&4294967295|w>>>9),w=v+(C^(_|~M))+I[0]+4096336452&4294967295,v=_+(w<<6&4294967295|w>>>26),w=M+(_^(v|~C))+I[7]+1126891415&4294967295,M=v+(w<<10&4294967295|w>>>22),w=C+(v^(M|~_))+I[14]+2878612391&4294967295,C=M+(w<<15&4294967295|w>>>17),w=_+(M^(C|~v))+I[5]+4237533241&4294967295,_=C+(w<<21&4294967295|w>>>11),w=v+(C^(_|~M))+I[12]+1700485571&4294967295,v=_+(w<<6&4294967295|w>>>26),w=M+(_^(v|~C))+I[3]+2399980690&4294967295,M=v+(w<<10&4294967295|w>>>22),w=C+(v^(M|~_))+I[10]+4293915773&4294967295,C=M+(w<<15&4294967295|w>>>17),w=_+(M^(C|~v))+I[1]+2240044497&4294967295,_=C+(w<<21&4294967295|w>>>11),w=v+(C^(_|~M))+I[8]+1873313359&4294967295,v=_+(w<<6&4294967295|w>>>26),w=M+(_^(v|~C))+I[15]+4264355552&4294967295,M=v+(w<<10&4294967295|w>>>22),w=C+(v^(M|~_))+I[6]+2734768916&4294967295,C=M+(w<<15&4294967295|w>>>17),w=_+(M^(C|~v))+I[13]+1309151649&4294967295,_=C+(w<<21&4294967295|w>>>11),w=v+(C^(_|~M))+I[4]+4149444226&4294967295,v=_+(w<<6&4294967295|w>>>26),w=M+(_^(v|~C))+I[11]+3174756917&4294967295,M=v+(w<<10&4294967295|w>>>22),w=C+(v^(M|~_))+I[2]+718787259&4294967295,C=M+(w<<15&4294967295|w>>>17),w=_+(M^(C|~v))+I[9]+3951481745&4294967295,E.g[0]=E.g[0]+v&4294967295,E.g[1]=E.g[1]+(C+(w<<21&4294967295|w>>>11))&4294967295,E.g[2]=E.g[2]+C&4294967295,E.g[3]=E.g[3]+M&4294967295}r.prototype.u=function(E,v){v===void 0&&(v=E.length);for(var _=v-this.blockSize,I=this.B,C=this.h,M=0;M<v;){if(C==0)for(;M<=_;)i(this,E,M),M+=this.blockSize;if(typeof E=="string"){for(;M<v;)if(I[C++]=E.charCodeAt(M++),C==this.blockSize){i(this,I),C=0;break}}else for(;M<v;)if(I[C++]=E[M++],C==this.blockSize){i(this,I),C=0;break}}this.h=C,this.o+=v},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var v=1;v<E.length-8;++v)E[v]=0;var _=8*this.o;for(v=E.length-8;v<E.length;++v)E[v]=_&255,_/=256;for(this.u(E),E=Array(16),v=_=0;4>v;++v)for(var I=0;32>I;I+=8)E[_++]=this.g[v]>>>I&255;return E};function o(E,v){var _=a;return Object.prototype.hasOwnProperty.call(_,E)?_[E]:_[E]=v(E)}function s(E,v){this.h=v;for(var _=[],I=!0,C=E.length-1;0<=C;C--){var M=E[C]|0;I&&M==v||(_[C]=M,I=!1)}this.g=_}var a={};function u(E){return-128<=E&&128>E?o(E,function(v){return new s([v|0],0>v?-1:0)}):new s([E|0],0>E?-1:0)}function l(E){if(isNaN(E)||!isFinite(E))return p;if(0>E)return R(l(-E));for(var v=[],_=1,I=0;E>=_;I++)v[I]=E/_|0,_*=4294967296;return new s(v,0)}function h(E,v){if(E.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(E.charAt(0)=="-")return R(h(E.substring(1),v));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=l(Math.pow(v,8)),I=p,C=0;C<E.length;C+=8){var M=Math.min(8,E.length-C),w=parseInt(E.substring(C,C+M),v);8>M?(M=l(Math.pow(v,M)),I=I.j(M).add(l(w))):(I=I.j(_),I=I.add(l(w)))}return I}var p=u(0),m=u(1),y=u(16777216);t=s.prototype,t.m=function(){if(N(this))return-R(this).m();for(var E=0,v=1,_=0;_<this.g.length;_++){var I=this.i(_);E+=(0<=I?I:4294967296+I)*v,v*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(T(this))return"0";if(N(this))return"-"+R(this).toString(E);for(var v=l(Math.pow(E,6)),_=this,I="";;){var C=X(_,v).g;_=F(_,C.j(v));var M=((0<_.g.length?_.g[0]:_.h)>>>0).toString(E);if(_=C,T(_))return M+I;for(;6>M.length;)M="0"+M;I=M+I}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function T(E){if(E.h!=0)return!1;for(var v=0;v<E.g.length;v++)if(E.g[v]!=0)return!1;return!0}function N(E){return E.h==-1}t.l=function(E){return E=F(this,E),N(E)?-1:T(E)?0:1};function R(E){for(var v=E.g.length,_=[],I=0;I<v;I++)_[I]=~E.g[I];return new s(_,~E.h).add(m)}t.abs=function(){return N(this)?R(this):this},t.add=function(E){for(var v=Math.max(this.g.length,E.g.length),_=[],I=0,C=0;C<=v;C++){var M=I+(this.i(C)&65535)+(E.i(C)&65535),w=(M>>>16)+(this.i(C)>>>16)+(E.i(C)>>>16);I=w>>>16,M&=65535,w&=65535,_[C]=w<<16|M}return new s(_,_[_.length-1]&-2147483648?-1:0)};function F(E,v){return E.add(R(v))}t.j=function(E){if(T(this)||T(E))return p;if(N(this))return N(E)?R(this).j(R(E)):R(R(this).j(E));if(N(E))return R(this.j(R(E)));if(0>this.l(y)&&0>E.l(y))return l(this.m()*E.m());for(var v=this.g.length+E.g.length,_=[],I=0;I<2*v;I++)_[I]=0;for(I=0;I<this.g.length;I++)for(var C=0;C<E.g.length;C++){var M=this.i(I)>>>16,w=this.i(I)&65535,Zn=E.i(C)>>>16,Qs=E.i(C)&65535;_[2*I+2*C]+=w*Qs,J(_,2*I+2*C),_[2*I+2*C+1]+=M*Qs,J(_,2*I+2*C+1),_[2*I+2*C+1]+=w*Zn,J(_,2*I+2*C+1),_[2*I+2*C+2]+=M*Zn,J(_,2*I+2*C+2)}for(I=0;I<v;I++)_[I]=_[2*I+1]<<16|_[2*I];for(I=v;I<2*v;I++)_[I]=0;return new s(_,0)};function J(E,v){for(;(E[v]&65535)!=E[v];)E[v+1]+=E[v]>>>16,E[v]&=65535,v++}function q(E,v){this.g=E,this.h=v}function X(E,v){if(T(v))throw Error("division by zero");if(T(E))return new q(p,p);if(N(E))return v=X(R(E),v),new q(R(v.g),R(v.h));if(N(v))return v=X(E,R(v)),new q(R(v.g),v.h);if(30<E.g.length){if(N(E)||N(v))throw Error("slowDivide_ only works with positive integers.");for(var _=m,I=v;0>=I.l(E);)_=Pe(_),I=Pe(I);var C=re(_,1),M=re(I,1);for(I=re(I,2),_=re(_,2);!T(I);){var w=M.add(I);0>=w.l(E)&&(C=C.add(_),M=w),I=re(I,1),_=re(_,1)}return v=F(E,C.j(v)),new q(C,v)}for(C=p;0<=E.l(v);){for(_=Math.max(1,Math.floor(E.m()/v.m())),I=Math.ceil(Math.log(_)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),M=l(_),w=M.j(v);N(w)||0<w.l(E);)_-=I,M=l(_),w=M.j(v);T(M)&&(M=m),C=C.add(M),E=F(E,w)}return new q(C,E)}t.A=function(E){return X(this,E).h},t.and=function(E){for(var v=Math.max(this.g.length,E.g.length),_=[],I=0;I<v;I++)_[I]=this.i(I)&E.i(I);return new s(_,this.h&E.h)},t.or=function(E){for(var v=Math.max(this.g.length,E.g.length),_=[],I=0;I<v;I++)_[I]=this.i(I)|E.i(I);return new s(_,this.h|E.h)},t.xor=function(E){for(var v=Math.max(this.g.length,E.g.length),_=[],I=0;I<v;I++)_[I]=this.i(I)^E.i(I);return new s(_,this.h^E.h)};function Pe(E){for(var v=E.g.length+1,_=[],I=0;I<v;I++)_[I]=E.i(I)<<1|E.i(I-1)>>>31;return new s(_,E.h)}function re(E,v){var _=v>>5;v%=32;for(var I=E.g.length-_,C=[],M=0;M<I;M++)C[M]=0<v?E.i(M+_)>>>v|E.i(M+_+1)<<32-v:E.i(M+_);return new s(C,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Yy=AS.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,ai=AS.Integer=s}).apply(typeof SS<"u"?SS:typeof self<"u"?self:typeof window<"u"?window:{});var th=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ir={};var Jy,Uj,Ts,Zy,Ac,nh,Xy,ev,tv;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof th=="object"&&th];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var b=c[g];if(!(b in f))break e;f=f[b]}c=c[c.length-1],g=f[c],d=d(g),d!=g&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,g=!1,b={next:function(){if(!g&&f<c.length){var x=f++;return{value:d(x,c[x]),done:!1}}return g=!0,{done:!0,value:void 0}}};return b[Symbol.iterator]=function(){return b},b}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,g),c.apply(d,b)}}return function(){return c.apply(d,arguments)}}function m(c,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function y(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function T(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(g,b,x){for(var U=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)U[Ne-2]=arguments[Ne];return d.prototype[b].apply(g,U)}}function N(c){let d=c.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=c[g];return f}return[]}function R(c,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let b=c.length||0,x=g.length||0;c.length=b+x;for(let U=0;U<x;U++)c[b+U]=g[U]}else c.push(g)}}class F{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function J(c){return/^[\s\xa0]*$/.test(c)}function q(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function X(c){return X[" "](c),c}X[" "]=function(){};var Pe=q().indexOf("Gecko")!=-1&&!(q().toLowerCase().indexOf("webkit")!=-1&&q().indexOf("Edge")==-1)&&!(q().indexOf("Trident")!=-1||q().indexOf("MSIE")!=-1)&&q().indexOf("Edge")==-1;function re(c,d,f){for(let g in c)d.call(f,c[g],g,c)}function E(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function v(c){let d={};for(let f in c)d[f]=c[f];return d}let _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(c,d){let f,g;for(let b=1;b<arguments.length;b++){g=arguments[b];for(f in g)c[f]=g[f];for(let x=0;x<_.length;x++)f=_[x],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function C(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function M(c){a.setTimeout(()=>{throw c},0)}function w(){var c=Gh;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class Zn{constructor(){this.h=this.g=null}add(d,f){let g=Qs.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var Qs=new F(()=>new RM,c=>c.reset());class RM{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Ys,Js=!1,Gh=new Zn,u0=()=>{let c=a.Promise.resolve(void 0);Ys=()=>{c.then(PM)}};var PM=()=>{for(var c;c=w();){try{c.h.call(c.g)}catch(f){M(f)}var d=Qs;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}Js=!1};function Ar(){this.s=this.s,this.C=this.C}Ar.prototype.s=!1,Ar.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ar.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function vt(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}vt.prototype.h=function(){this.defaultPrevented=!0};var NM=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function Zs(c,d){if(vt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(Pe){e:{try{X(d.nodeName);var b=!0;break e}catch{}b=!1}b||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:OM[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Zs.aa.h.call(this)}}T(Zs,vt);var OM={2:"touch",3:"pen",4:"mouse"};Zs.prototype.h=function(){Zs.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Xs="closure_listenable_"+(1e6*Math.random()|0),kM=0;function FM(c,d,f,g,b){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=b,this.key=++kM,this.da=this.fa=!1}function Jc(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Zc(c){this.src=c,this.g={},this.h=0}Zc.prototype.add=function(c,d,f,g,b){var x=c.toString();c=this.g[x],c||(c=this.g[x]=[],this.h++);var U=Kh(c,d,g,b);return-1<U?(d=c[U],f||(d.fa=!1)):(d=new FM(d,this.src,x,!!g,b),d.fa=f,c.push(d)),d};function Wh(c,d){var f=d.type;if(f in c.g){var g=c.g[f],b=Array.prototype.indexOf.call(g,d,void 0),x;(x=0<=b)&&Array.prototype.splice.call(g,b,1),x&&(Jc(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function Kh(c,d,f,g){for(var b=0;b<c.length;++b){var x=c[b];if(!x.da&&x.listener==d&&x.capture==!!f&&x.ha==g)return b}return-1}var Qh="closure_lm_"+(1e6*Math.random()|0),Yh={};function l0(c,d,f,g,b){if(g&&g.once)return h0(c,d,f,g,b);if(Array.isArray(d)){for(var x=0;x<d.length;x++)l0(c,d[x],f,g,b);return null}return f=ef(f),c&&c[Xs]?c.K(d,f,l(g)?!!g.capture:!!g,b):d0(c,d,f,!1,g,b)}function d0(c,d,f,g,b,x){if(!d)throw Error("Invalid event type");var U=l(b)?!!b.capture:!!b,Ne=Zh(c);if(Ne||(c[Qh]=Ne=new Zc(c)),f=Ne.add(d,f,g,U,x),f.proxy)return f;if(g=VM(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)NM||(b=U),b===void 0&&(b=!1),c.addEventListener(d.toString(),g,b);else if(c.attachEvent)c.attachEvent(p0(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function VM(){function c(f){return d.call(c.src,c.listener,f)}let d=LM;return c}function h0(c,d,f,g,b){if(Array.isArray(d)){for(var x=0;x<d.length;x++)h0(c,d[x],f,g,b);return null}return f=ef(f),c&&c[Xs]?c.L(d,f,l(g)?!!g.capture:!!g,b):d0(c,d,f,!0,g,b)}function f0(c,d,f,g,b){if(Array.isArray(d))for(var x=0;x<d.length;x++)f0(c,d[x],f,g,b);else g=l(g)?!!g.capture:!!g,f=ef(f),c&&c[Xs]?(c=c.i,d=String(d).toString(),d in c.g&&(x=c.g[d],f=Kh(x,f,g,b),-1<f&&(Jc(x[f]),Array.prototype.splice.call(x,f,1),x.length==0&&(delete c.g[d],c.h--)))):c&&(c=Zh(c))&&(d=c.g[d.toString()],c=-1,d&&(c=Kh(d,f,g,b)),(f=-1<c?d[c]:null)&&Jh(f))}function Jh(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[Xs])Wh(d.i,c);else{var f=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(f,g,c.capture):d.detachEvent?d.detachEvent(p0(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=Zh(d))?(Wh(f,c),f.h==0&&(f.src=null,d[Qh]=null)):Jc(c)}}}function p0(c){return c in Yh?Yh[c]:Yh[c]="on"+c}function LM(c,d){if(c.da)c=!0;else{d=new Zs(d,this);var f=c.listener,g=c.ha||c.src;c.fa&&Jh(c),c=f.call(g,d)}return c}function Zh(c){return c=c[Qh],c instanceof Zc?c:null}var Xh="__closure_events_fn_"+(1e9*Math.random()>>>0);function ef(c){return typeof c=="function"?c:(c[Xh]||(c[Xh]=function(d){return c.handleEvent(d)}),c[Xh])}function _t(){Ar.call(this),this.i=new Zc(this),this.M=this,this.F=null}T(_t,Ar),_t.prototype[Xs]=!0,_t.prototype.removeEventListener=function(c,d,f,g){f0(this,c,d,f,g)};function Mt(c,d){var f,g=c.F;if(g)for(f=[];g;g=g.F)f.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new vt(d,c);else if(d instanceof vt)d.target=d.target||c;else{var b=d;d=new vt(g,c),I(d,b)}if(b=!0,f)for(var x=f.length-1;0<=x;x--){var U=d.g=f[x];b=Xc(U,g,!0,d)&&b}if(U=d.g=c,b=Xc(U,g,!0,d)&&b,b=Xc(U,g,!1,d)&&b,f)for(x=0;x<f.length;x++)U=d.g=f[x],b=Xc(U,g,!1,d)&&b}_t.prototype.N=function(){if(_t.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],g=0;g<f.length;g++)Jc(f[g]);delete c.g[d],c.h--}}this.F=null},_t.prototype.K=function(c,d,f,g){return this.i.add(String(c),d,!1,f,g)},_t.prototype.L=function(c,d,f,g){return this.i.add(String(c),d,!0,f,g)};function Xc(c,d,f,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var b=!0,x=0;x<d.length;++x){var U=d[x];if(U&&!U.da&&U.capture==f){var Ne=U.listener,ht=U.ha||U.src;U.fa&&Wh(c.i,U),b=Ne.call(ht,g)!==!1&&b}}return b&&!g.defaultPrevented}function g0(c,d,f){if(typeof c=="function")f&&(c=m(c,f));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function m0(c){c.g=g0(()=>{c.g=null,c.i&&(c.i=!1,m0(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class UM extends Ar{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:m0(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ea(c){Ar.call(this),this.h=c,this.g={}}T(ea,Ar);var y0=[];function v0(c){re(c.g,function(d,f){this.g.hasOwnProperty(f)&&Jh(d)},c),c.g={}}ea.prototype.N=function(){ea.aa.N.call(this),v0(this)},ea.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var tf=a.JSON.stringify,jM=a.JSON.parse,BM=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function nf(){}nf.prototype.h=null;function _0(c){return c.h||(c.h=c.i())}function w0(){}var ta={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function rf(){vt.call(this,"d")}T(rf,vt);function of(){vt.call(this,"c")}T(of,vt);var pi={},E0=null;function eu(){return E0=E0||new _t}pi.La="serverreachability";function I0(c){vt.call(this,pi.La,c)}T(I0,vt);function na(c){let d=eu();Mt(d,new I0(d))}pi.STAT_EVENT="statevent";function C0(c,d){vt.call(this,pi.STAT_EVENT,c),this.stat=d}T(C0,vt);function xt(c){let d=eu();Mt(d,new C0(d,c))}pi.Ma="timingevent";function b0(c,d){vt.call(this,pi.Ma,c),this.size=d}T(b0,vt);function ra(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function ia(){this.g=!0}ia.prototype.xa=function(){this.g=!1};function $M(c,d,f,g,b,x){c.info(function(){if(c.g)if(x)for(var U="",Ne=x.split("&"),ht=0;ht<Ne.length;ht++){var De=Ne[ht].split("=");if(1<De.length){var wt=De[0];De=De[1];var Et=wt.split("_");U=2<=Et.length&&Et[1]=="type"?U+(wt+"="+De+"&"):U+(wt+"=redacted&")}}else U=null;else U=x;return"XMLHTTP REQ ("+g+") [attempt "+b+"]: "+d+`
`+f+`
`+U})}function HM(c,d,f,g,b,x,U){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+b+"]: "+d+`
`+f+`
`+x+" "+U})}function lo(c,d,f,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+qM(c,f)+(g?" "+g:"")})}function zM(c,d){c.info(function(){return"TIMEOUT: "+d})}ia.prototype.info=function(){};function qM(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var g=f[c];if(!(2>g.length)){var b=g[1];if(Array.isArray(b)&&!(1>b.length)){var x=b[0];if(x!="noop"&&x!="stop"&&x!="close")for(var U=1;U<b.length;U++)b[U]=""}}}}return tf(f)}catch{return d}}var tu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},D0={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},sf;function nu(){}T(nu,nf),nu.prototype.g=function(){return new XMLHttpRequest},nu.prototype.i=function(){return{}},sf=new nu;function Mr(c,d,f,g){this.j=c,this.i=d,this.l=f,this.R=g||1,this.U=new ea(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new T0}function T0(){this.i=null,this.g="",this.h=!1}var S0={},af={};function cf(c,d,f){c.L=1,c.v=su(Xn(d)),c.m=f,c.P=!0,A0(c,null)}function A0(c,d){c.F=Date.now(),ru(c),c.A=Xn(c.v);var f=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),$0(f.i,"t",g),c.C=0,f=c.j.J,c.h=new T0,c.g=sw(c.j,f?d:null,!c.m),0<c.O&&(c.M=new UM(m(c.Y,c,c.g),c.O)),d=c.U,f=c.g,g=c.ca;var b="readystatechange";Array.isArray(b)||(b&&(y0[0]=b.toString()),b=y0);for(var x=0;x<b.length;x++){var U=l0(f,b[x],g||d.handleEvent,!1,d.h||d);if(!U)break;d.g[U.key]=U}d=c.H?v(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),na(),$M(c.i,c.u,c.A,c.l,c.R,c.m)}Mr.prototype.ca=function(c){c=c.target;let d=this.M;d&&er(c)==3?d.j():this.Y(c)},Mr.prototype.Y=function(c){try{if(c==this.g)e:{let Et=er(this.g);var d=this.g.Ba();let po=this.g.Z();if(!(3>Et)&&(Et!=3||this.g&&(this.h.h||this.g.oa()||Q0(this.g)))){this.J||Et!=4||d==7||(d==8||0>=po?na(3):na(2)),uf(this);var f=this.g.Z();this.X=f;t:if(M0(this)){var g=Q0(this.g);c="";var b=g.length,x=er(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){gi(this),oa(this);var U="";break t}this.h.i=new a.TextDecoder}for(d=0;d<b;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(x&&d==b-1)});g.length=0,this.h.g+=c,this.C=0,U=this.h.g}else U=this.g.oa();if(this.o=f==200,HM(this.i,this.u,this.A,this.l,this.R,Et,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Ne,ht=this.g;if((Ne=ht.g?ht.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!J(Ne)){var De=Ne;break t}}De=null}if(f=De)lo(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,lf(this,f);else{this.o=!1,this.s=3,xt(12),gi(this),oa(this);break e}}if(this.P){f=!0;let un;for(;!this.J&&this.C<U.length;)if(un=GM(this,U),un==af){Et==4&&(this.s=4,xt(14),f=!1),lo(this.i,this.l,null,"[Incomplete Response]");break}else if(un==S0){this.s=4,xt(15),lo(this.i,this.l,U,"[Invalid Chunk]"),f=!1;break}else lo(this.i,this.l,un,null),lf(this,un);if(M0(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Et!=4||U.length!=0||this.h.h||(this.s=1,xt(16),f=!1),this.o=this.o&&f,!f)lo(this.i,this.l,U,"[Invalid Chunked Response]"),gi(this),oa(this);else if(0<U.length&&!this.W){this.W=!0;var wt=this.j;wt.g==this&&wt.ba&&!wt.M&&(wt.j.info("Great, no buffering proxy detected. Bytes received: "+U.length),mf(wt),wt.M=!0,xt(11))}}else lo(this.i,this.l,U,null),lf(this,U);Et==4&&gi(this),this.o&&!this.J&&(Et==4?nw(this.j,this):(this.o=!1,ru(this)))}else ux(this.g),f==400&&0<U.indexOf("Unknown SID")?(this.s=3,xt(12)):(this.s=0,xt(13)),gi(this),oa(this)}}}catch{}finally{}};function M0(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function GM(c,d){var f=c.C,g=d.indexOf(`
`,f);return g==-1?af:(f=Number(d.substring(f,g)),isNaN(f)?S0:(g+=1,g+f>d.length?af:(d=d.slice(g,g+f),c.C=g+f,d)))}Mr.prototype.cancel=function(){this.J=!0,gi(this)};function ru(c){c.S=Date.now()+c.I,x0(c,c.I)}function x0(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ra(m(c.ba,c),d)}function uf(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Mr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(zM(this.i,this.A),this.L!=2&&(na(),xt(17)),gi(this),this.s=2,oa(this)):x0(this,this.S-c)};function oa(c){c.j.G==0||c.J||nw(c.j,c)}function gi(c){uf(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,v0(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function lf(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||df(f.h,c))){if(!c.K&&df(f.h,c)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var b=g;if(b[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)du(f),uu(f);else break e;gf(f),xt(18)}}else f.za=b[1],0<f.za-f.T&&37500>b[2]&&f.F&&f.v==0&&!f.C&&(f.C=ra(m(f.Za,f),6e3));if(1>=N0(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else yi(f,11)}else if((c.K||f.g==c)&&du(f),!J(d))for(b=f.Da.g.parse(d),d=0;d<b.length;d++){let De=b[d];if(f.T=De[0],De=De[1],f.G==2)if(De[0]=="c"){f.K=De[1],f.ia=De[2];let wt=De[3];wt!=null&&(f.la=wt,f.j.info("VER="+f.la));let Et=De[4];Et!=null&&(f.Aa=Et,f.j.info("SVER="+f.Aa));let po=De[5];po!=null&&typeof po=="number"&&0<po&&(g=1.5*po,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let un=c.g;if(un){let fu=un.g?un.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fu){var x=g.h;x.g||fu.indexOf("spdy")==-1&&fu.indexOf("quic")==-1&&fu.indexOf("h2")==-1||(x.j=x.l,x.g=new Set,x.h&&(hf(x,x.h),x.h=null))}if(g.D){let yf=un.g?un.g.getResponseHeader("X-HTTP-Session-Id"):null;yf&&(g.ya=yf,Ve(g.I,g.D,yf))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var U=c;if(g.qa=ow(g,g.J?g.ia:null,g.W),U.K){O0(g.h,U);var Ne=U,ht=g.L;ht&&(Ne.I=ht),Ne.B&&(uf(Ne),ru(Ne)),g.g=U}else ew(g);0<f.i.length&&lu(f)}else De[0]!="stop"&&De[0]!="close"||yi(f,7);else f.G==3&&(De[0]=="stop"||De[0]=="close"?De[0]=="stop"?yi(f,7):pf(f):De[0]!="noop"&&f.l&&f.l.ta(De),f.v=0)}}na(4)}catch{}}var WM=class{constructor(c,d){this.g=c,this.map=d}};function R0(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function P0(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function N0(c){return c.h?1:c.g?c.g.size:0}function df(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function hf(c,d){c.g?c.g.add(d):c.h=d}function O0(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}R0.prototype.cancel=function(){if(this.i=k0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function k0(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return N(c.i)}function KM(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,g=0;g<f;g++)d.push(c[g]);return d}d=[],f=0;for(g in c)d[f++]=c[g];return d}function QM(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let g in c)d[f++]=g;return d}}}function F0(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=QM(c),g=KM(c),b=g.length,x=0;x<b;x++)d.call(void 0,g[x],f&&f[x],c)}var V0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function YM(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var g=c[f].indexOf("="),b=null;if(0<=g){var x=c[f].substring(0,g);b=c[f].substring(g+1)}else x=c[f];d(x,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function mi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof mi){this.h=c.h,iu(this,c.j),this.o=c.o,this.g=c.g,ou(this,c.s),this.l=c.l;var d=c.i,f=new ca;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),L0(this,f),this.m=c.m}else c&&(d=String(c).match(V0))?(this.h=!1,iu(this,d[1]||"",!0),this.o=sa(d[2]||""),this.g=sa(d[3]||"",!0),ou(this,d[4]),this.l=sa(d[5]||"",!0),L0(this,d[6]||"",!0),this.m=sa(d[7]||"")):(this.h=!1,this.i=new ca(null,this.h))}mi.prototype.toString=function(){var c=[],d=this.j;d&&c.push(aa(d,U0,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(aa(d,U0,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(aa(f,f.charAt(0)=="/"?XM:ZM,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",aa(f,tx)),c.join("")};function Xn(c){return new mi(c)}function iu(c,d,f){c.j=f?sa(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function ou(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function L0(c,d,f){d instanceof ca?(c.i=d,nx(c.i,c.h)):(f||(d=aa(d,ex)),c.i=new ca(d,c.h))}function Ve(c,d,f){c.i.set(d,f)}function su(c){return Ve(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function sa(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function aa(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,JM),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function JM(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var U0=/[#\/\?@]/g,ZM=/[#\?:]/g,XM=/[#\?]/g,ex=/[#\?@]/g,tx=/#/g;function ca(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function xr(c){c.g||(c.g=new Map,c.h=0,c.i&&YM(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=ca.prototype,t.add=function(c,d){xr(this),this.i=null,c=ho(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function j0(c,d){xr(c),d=ho(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function B0(c,d){return xr(c),d=ho(c,d),c.g.has(d)}t.forEach=function(c,d){xr(this),this.g.forEach(function(f,g){f.forEach(function(b){c.call(d,b,g,this)},this)},this)},t.na=function(){xr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let b=c[g];for(let x=0;x<b.length;x++)f.push(d[g])}return f},t.V=function(c){xr(this);let d=[];if(typeof c=="string")B0(this,c)&&(d=d.concat(this.g.get(ho(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},t.set=function(c,d){return xr(this),this.i=null,c=ho(this,c),B0(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function $0(c,d,f){j0(c,d),0<f.length&&(c.i=null,c.g.set(ho(c,d),N(f)),c.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let x=encodeURIComponent(String(g)),U=this.V(g);for(g=0;g<U.length;g++){var b=x;U[g]!==""&&(b+="="+encodeURIComponent(String(U[g]))),c.push(b)}}return this.i=c.join("&")};function ho(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function nx(c,d){d&&!c.j&&(xr(c),c.i=null,c.g.forEach(function(f,g){var b=g.toLowerCase();g!=b&&(j0(this,g),$0(this,b,f))},c)),c.j=d}function rx(c,d){let f=new ia;if(a.Image){let g=new Image;g.onload=y(Rr,f,"TestLoadImage: loaded",!0,d,g),g.onerror=y(Rr,f,"TestLoadImage: error",!1,d,g),g.onabort=y(Rr,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=y(Rr,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function ix(c,d){let f=new ia,g=new AbortController,b=setTimeout(()=>{g.abort(),Rr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(x=>{clearTimeout(b),x.ok?Rr(f,"TestPingServer: ok",!0,d):Rr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(b),Rr(f,"TestPingServer: error",!1,d)})}function Rr(c,d,f,g,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),g(f)}catch{}}function ox(){this.g=new BM}function sx(c,d,f){let g=f||"";try{F0(c,function(b,x){let U=b;l(b)&&(U=tf(b)),d.push(g+x+"="+encodeURIComponent(U))})}catch(b){throw d.push(g+"type="+encodeURIComponent("_badmap")),b}}function ua(c){this.l=c.Ub||null,this.j=c.eb||!1}T(ua,nf),ua.prototype.g=function(){return new au(this.l,this.j)},ua.prototype.i=function(c){return function(){return c}}({});function au(c,d){_t.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(au,_t),t=au.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,da(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,la(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,da(this)),this.g&&(this.readyState=3,da(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;H0(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function H0(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?la(this):da(this),this.readyState==3&&H0(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,la(this))},t.Qa=function(c){this.g&&(this.response=c,la(this))},t.ga=function(){this.g&&la(this)};function la(c){c.readyState=4,c.l=null,c.j=null,c.v=null,da(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function da(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(au.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function z0(c){let d="";return re(c,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function ff(c,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=z0(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Ve(c,d,f))}function He(c){_t.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(He,_t);var ax=/^https?$/i,cx=["POST","PUT"];t=He.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():sf.g(),this.v=this.o?_0(this.o):_0(sf),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(x){q0(this,x);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var b in g)f.set(b,g[b]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let x of g.keys())f.set(x,g.get(x));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(x=>x.toLowerCase()=="content-type"),b=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(cx,d,void 0))||g||b||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[x,U]of f)this.g.setRequestHeader(x,U);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{K0(this),this.u=!0,this.g.send(c),this.u=!1}catch(x){q0(this,x)}};function q0(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,G0(c),cu(c)}function G0(c){c.A||(c.A=!0,Mt(c,"complete"),Mt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Mt(this,"complete"),Mt(this,"abort"),cu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),cu(this,!0)),He.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?W0(this):this.bb())},t.bb=function(){W0(this)};function W0(c){if(c.h&&typeof s<"u"&&(!c.v[1]||er(c)!=4||c.Z()!=2)){if(c.u&&er(c)==4)g0(c.Ea,0,c);else if(Mt(c,"readystatechange"),er(c)==4){c.h=!1;try{let U=c.Z();e:switch(U){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=U===0){var b=String(c.D).match(V0)[1]||null;!b&&a.self&&a.self.location&&(b=a.self.location.protocol.slice(0,-1)),g=!ax.test(b?b.toLowerCase():"")}f=g}if(f)Mt(c,"complete"),Mt(c,"success");else{c.m=6;try{var x=2<er(c)?c.g.statusText:""}catch{x=""}c.l=x+" ["+c.Z()+"]",G0(c)}}finally{cu(c)}}}}function cu(c,d){if(c.g){K0(c);let f=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||Mt(c,"ready");try{f.onreadystatechange=g}catch{}}}function K0(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function er(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<er(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),jM(d)}};function Q0(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function ux(c){let d={};c=(c.g&&2<=er(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(J(c[g]))continue;var f=C(c[g]);let b=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let x=d[b]||[];d[b]=x,x.push(f)}E(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ha(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function Y0(c){this.Aa=0,this.i=[],this.j=new ia,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ha("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ha("baseRetryDelayMs",5e3,c),this.cb=ha("retryDelaySeedMs",1e4,c),this.Wa=ha("forwardChannelMaxRetries",2,c),this.wa=ha("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new R0(c&&c.concurrentRequestLimit),this.Da=new ox,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Y0.prototype,t.la=8,t.G=1,t.connect=function(c,d,f,g){xt(0),this.W=c,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=ow(this,null,this.W),lu(this)};function pf(c){if(J0(c),c.G==3){var d=c.U++,f=Xn(c.I);if(Ve(f,"SID",c.K),Ve(f,"RID",d),Ve(f,"TYPE","terminate"),fa(c,f),d=new Mr(c,c.j,d),d.L=2,d.v=su(Xn(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=sw(d.j,null),d.g.ea(d.v)),d.F=Date.now(),ru(d)}iw(c)}function uu(c){c.g&&(mf(c),c.g.cancel(),c.g=null)}function J0(c){uu(c),c.u&&(a.clearTimeout(c.u),c.u=null),du(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function lu(c){if(!P0(c.h)&&!c.s){c.s=!0;var d=c.Ga;Ys||u0(),Js||(Ys(),Js=!0),Gh.add(d,c),c.B=0}}function lx(c,d){return N0(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ra(m(c.Ga,c,d),rw(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let b=new Mr(this,this.j,c),x=this.o;if(this.S&&(x?(x=v(x),I(x,this.S)):x=this.S),this.m!==null||this.O||(b.H=x,x=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=X0(this,b,d),f=Xn(this.I),Ve(f,"RID",c),Ve(f,"CVER",22),this.D&&Ve(f,"X-HTTP-Session-Id",this.D),fa(this,f),x&&(this.O?d="headers="+encodeURIComponent(String(z0(x)))+"&"+d:this.m&&ff(f,this.m,x)),hf(this.h,b),this.Ua&&Ve(f,"TYPE","init"),this.P?(Ve(f,"$req",d),Ve(f,"SID","null"),b.T=!0,cf(b,f,null)):cf(b,f,d),this.G=2}}else this.G==3&&(c?Z0(this,c):this.i.length==0||P0(this.h)||Z0(this))};function Z0(c,d){var f;d?f=d.l:f=c.U++;let g=Xn(c.I);Ve(g,"SID",c.K),Ve(g,"RID",f),Ve(g,"AID",c.T),fa(c,g),c.m&&c.o&&ff(g,c.m,c.o),f=new Mr(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=X0(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),hf(c.h,f),cf(f,g,d)}function fa(c,d){c.H&&re(c.H,function(f,g){Ve(d,g,f)}),c.l&&F0({},function(f,g){Ve(d,g,f)})}function X0(c,d,f){f=Math.min(c.i.length,f);var g=c.l?m(c.l.Na,c.l,c):null;e:{var b=c.i;let x=-1;for(;;){let U=["count="+f];x==-1?0<f?(x=b[0].g,U.push("ofs="+x)):x=0:U.push("ofs="+x);let Ne=!0;for(let ht=0;ht<f;ht++){let De=b[ht].g,wt=b[ht].map;if(De-=x,0>De)x=Math.max(0,b[ht].g-100),Ne=!1;else try{sx(wt,U,"req"+De+"_")}catch{g&&g(wt)}}if(Ne){g=U.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,g}function ew(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;Ys||u0(),Js||(Ys(),Js=!0),Gh.add(d,c),c.v=0}}function gf(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ra(m(c.Fa,c),rw(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,tw(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ra(m(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,xt(10),uu(this),tw(this))};function mf(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function tw(c){c.g=new Mr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=Xn(c.qa);Ve(d,"RID","rpc"),Ve(d,"SID",c.K),Ve(d,"AID",c.T),Ve(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ve(d,"TO",c.ja),Ve(d,"TYPE","xmlhttp"),fa(c,d),c.m&&c.o&&ff(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=su(Xn(d)),f.m=null,f.P=!0,A0(f,c)}t.Za=function(){this.C!=null&&(this.C=null,uu(this),gf(this),xt(19))};function du(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function nw(c,d){var f=null;if(c.g==d){du(c),mf(c),c.g=null;var g=2}else if(df(c.h,d))f=d.D,O0(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var b=c.B;g=eu(),Mt(g,new b0(g,f)),lu(c)}else ew(c);else if(b=d.s,b==3||b==0&&0<d.X||!(g==1&&lx(c,d)||g==2&&gf(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),b){case 1:yi(c,5);break;case 4:yi(c,10);break;case 3:yi(c,6);break;default:yi(c,2)}}}function rw(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function yi(c,d){if(c.j.info("Error code "+d),d==2){var f=m(c.fb,c),g=c.Xa;let b=!g;g=new mi(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||iu(g,"https"),su(g),b?rx(g.toString(),f):ix(g.toString(),f)}else xt(2);c.G=0,c.l&&c.l.sa(d),iw(c),J0(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),xt(2)):(this.j.info("Failed to ping google.com"),xt(1))};function iw(c){if(c.G=0,c.ka=[],c.l){let d=k0(c.h);(d.length!=0||c.i.length!=0)&&(R(c.ka,d),R(c.ka,c.i),c.h.i.length=0,N(c.i),c.i.length=0),c.l.ra()}}function ow(c,d,f){var g=f instanceof mi?Xn(f):new mi(f);if(g.g!="")d&&(g.g=d+"."+g.g),ou(g,g.s);else{var b=a.location;g=b.protocol,d=d?d+"."+b.hostname:b.hostname,b=+b.port;var x=new mi(null);g&&iu(x,g),d&&(x.g=d),b&&ou(x,b),f&&(x.l=f),g=x}return f=c.D,d=c.ya,f&&d&&Ve(g,f,d),Ve(g,"VER",c.la),fa(c,g),g}function sw(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new He(new ua({eb:f})):new He(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function aw(){}t=aw.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function hu(){}hu.prototype.g=function(c,d){return new Ht(c,d)};function Ht(c,d){_t.call(this),this.g=new Y0(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!J(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!J(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new fo(this)}T(Ht,_t),Ht.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ht.prototype.close=function(){pf(this.g)},Ht.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=tf(c),c=f);d.i.push(new WM(d.Ya++,c)),d.G==3&&lu(d)},Ht.prototype.N=function(){this.g.l=null,delete this.j,pf(this.g),delete this.g,Ht.aa.N.call(this)};function cw(c){rf.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}T(cw,rf);function uw(){of.call(this),this.status=1}T(uw,of);function fo(c){this.g=c}T(fo,aw),fo.prototype.ua=function(){Mt(this.g,"a")},fo.prototype.ta=function(c){Mt(this.g,new cw(c))},fo.prototype.sa=function(c){Mt(this.g,new uw)},fo.prototype.ra=function(){Mt(this.g,"b")},hu.prototype.createWebChannel=hu.prototype.g,Ht.prototype.send=Ht.prototype.o,Ht.prototype.open=Ht.prototype.m,Ht.prototype.close=Ht.prototype.close,tv=Ir.createWebChannelTransport=function(){return new hu},ev=Ir.getStatEventTarget=function(){return eu()},Xy=Ir.Event=pi,nh=Ir.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},tu.NO_ERROR=0,tu.TIMEOUT=8,tu.HTTP_ERROR=6,Ac=Ir.ErrorCode=tu,D0.COMPLETE="complete",Zy=Ir.EventType=D0,w0.EventType=ta,ta.OPEN="a",ta.CLOSE="b",ta.ERROR="c",ta.MESSAGE="d",_t.prototype.listen=_t.prototype.K,Ts=Ir.WebChannel=w0,Uj=Ir.FetchXmlHttpFactory=ua,He.prototype.listenOnce=He.prototype.L,He.prototype.getLastError=He.prototype.Ka,He.prototype.getLastErrorCode=He.prototype.Ba,He.prototype.getStatus=He.prototype.Z,He.prototype.getResponseJson=He.prototype.Oa,He.prototype.getResponseText=He.prototype.oa,He.prototype.send=He.prototype.ea,He.prototype.setWithCredentials=He.prototype.Ha,Jy=Ir.XhrIo=He}).apply(typeof th<"u"?th:typeof self<"u"?self:typeof window<"u"?window:{});var MS="@firebase/firestore";var dt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};dt.UNAUTHENTICATED=new dt(null),dt.GOOGLE_CREDENTIALS=new dt("google-credentials-uid"),dt.FIRST_PARTY=new dt("first-party-uid"),dt.MOCK_USER=new dt("mock-user");var Ws="10.14.0";var to=new Bn("@firebase/firestore");function Mc(){return to.logLevel}function z(t,...e){if(to.logLevel<=ve.DEBUG){let n=e.map(V_);to.debug(`Firestore (${Ws}): ${t}`,...n)}}function Dr(t,...e){if(to.logLevel<=ve.ERROR){let n=e.map(V_);to.error(`Firestore (${Ws}): ${t}`,...n)}}function Ns(t,...e){if(to.logLevel<=ve.WARN){let n=e.map(V_);to.warn(`Firestore (${Ws}): ${t}`,...n)}}function V_(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function oe(t="Unexpected state"){let e=`FIRESTORE (${Ws}) INTERNAL ASSERTION FAILED: `+t;throw Dr(e),new Error(e)}function Re(t,e){t||oe()}function ae(t,e){return t}var O={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Z=class extends sn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Cr=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var ah=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},sv=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(dt.UNAUTHENTICATED))}shutdown(){}},av=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},cv=class{constructor(e){this.t=e,this.currentUser=dt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Re(this.o===void 0);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new Cr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Cr,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>S(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(z("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Cr)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Re(typeof r.accessToken=="string"),new ah(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Re(e===null||typeof e=="string"),new dt(e)}},uv=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=dt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},lv=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new uv(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(dt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},dv=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},hv=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Re(this.o===void 0);let r=o=>{o.error!=null&&z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,z("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Re(typeof n.token=="string"),this.R=n.token,new dv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function jj(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var ch=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=jj(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}};function Se(t,e){return t<e?-1:t>e?1:0}function Os(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var yt=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Z(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Z(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Z(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Z(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Se(this.nanoseconds,e.nanoseconds):Se(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var de=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new yt(0,0))}static max(){return new t(new yt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var uh=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&oe(),r===void 0?r=e.length-n:r>e.length-n&&oe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Qe=class t extends uh{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new Z(O.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},Bj=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Zt=class t extends uh{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return Bj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new Z(O.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new Z(O.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Z(O.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Z(O.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var ne=class t{constructor(e){this.path=e}static fromPath(e){return new t(Qe.fromString(e))}static fromName(e){return new t(Qe.fromString(e).popFirst(5))}static empty(){return new t(Qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Qe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Qe(e.slice()))}};var fv=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};fv.UNKNOWN_ID=-1;function $j(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=de.fromTimestamp(r===1e9?new yt(n+1,0):new yt(n,r));return new no(i,ne.empty(),e)}function Hj(t){return new no(t.readTime,t.key,-1)}var no=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(de.min(),ne.empty(),-1)}static max(){return new t(de.max(),ne.empty(),-1)}};function zj(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ne.comparator(t.documentKey,e.documentKey),n!==0?n:Se(t.largestBatchId,e.largestBatchId))}var qj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",pv=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Wc(t){return S(this,null,function*(){if(t.code!==O.FAILED_PRECONDITION||t.message!==qj)throw t;z("LocalStore","Unexpectedly lost primary lease")})}var L=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&oe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;n(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function Gj(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Kc(t){return t.name==="IndexedDbTransactionError"}var cA=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function Lh(t){return t==null}function kc(t){return t===0&&1/t==-1/0}function Wj(t){return typeof t=="number"&&Number.isInteger(t)&&!kc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var Kj=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],TK=[...Kj,"documentOverlays"],Qj=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Yj=Qj,Jj=[...Yj,"indexConfiguration","indexState","indexEntries"];var SK=[...Jj,"globals"];function xS(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ao(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function uA(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Ye=class t{constructor(e,n){this.comparator=e,this.root=n||Gn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Gn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xs(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xs(this.root,e,this.comparator,!1)}getReverseIterator(){return new xs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xs(this.root,e,this.comparator,!0)}},xs=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Gn=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw oe();let e=this.left.check();if(e!==this.right.check())throw oe();return e+(this.isRed()?0:1)}};Gn.EMPTY=null,Gn.RED=!0,Gn.BLACK=!1;Gn.EMPTY=new class{constructor(){this.size=0}get key(){throw oe()}get value(){throw oe()}get color(){throw oe()}get left(){throw oe()}get right(){throw oe()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Gn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var St=class t{constructor(e){this.comparator=e,this.data=new Ye(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new lh(this.data.getIterator())}getIteratorFrom(e){return new lh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},lh=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var cn=class t{constructor(e){this.fields=e,e.sort(Zt.comparator)}static empty(){return new t([])}unionWith(e){let n=new St(Zt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Os(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var dh=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var At=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new dh("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Se(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};At.EMPTY_BYTE_STRING=new At("");var Zj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Tr(t){if(Re(!!t),typeof t=="string"){let e=0,n=Zj.exec(t);if(Re(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Be(t.seconds),nanos:Be(t.nanos)}}function Be(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function li(t){return typeof t=="string"?At.fromBase64String(t):At.fromUint8Array(t)}function L_(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function U_(t){let e=t.mapValue.fields.__previous_value__;return L_(e)?U_(e):e}function Fc(t){let e=Tr(t.mapValue.fields.__local_write_time__.timestampValue);return new yt(e.seconds,e.nanos)}var gv=class{constructor(e,n,r,i,o,s,a,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}},hh=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var rh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ro(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?L_(t)?4:dA(t)?9007199254740991:lA(t)?10:11:oe()}function Qn(t,e){if(t===e)return!0;let n=ro(t);if(n!==ro(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Fc(t).isEqual(Fc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Tr(i.timestampValue),a=Tr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return li(i.bytesValue).isEqual(li(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Be(i.geoPointValue.latitude)===Be(o.geoPointValue.latitude)&&Be(i.geoPointValue.longitude)===Be(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Be(i.integerValue)===Be(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Be(i.doubleValue),a=Be(o.doubleValue);return s===a?kc(s)===kc(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Os(t.arrayValue.values||[],e.arrayValue.values||[],Qn);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(xS(s)!==xS(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!Qn(s[u],a[u])))return!1;return!0}(t,e);default:return oe()}}function Vc(t,e){return(t.values||[]).find(n=>Qn(n,e))!==void 0}function ks(t,e){if(t===e)return 0;let n=ro(t),r=ro(e);if(n!==r)return Se(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Se(t.booleanValue,e.booleanValue);case 2:return function(o,s){let a=Be(o.integerValue||o.doubleValue),u=Be(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return RS(t.timestampValue,e.timestampValue);case 4:return RS(Fc(t),Fc(e));case 5:return Se(t.stringValue,e.stringValue);case 6:return function(o,s){let a=li(o),u=li(s);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=Se(a[l],u[l]);if(h!==0)return h}return Se(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let a=Se(Be(o.latitude),Be(s.latitude));return a!==0?a:Se(Be(o.longitude),Be(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return PS(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,l,h;let p=o.fields||{},m=s.fields||{},y=(a=p.value)===null||a===void 0?void 0:a.arrayValue,T=(u=m.value)===null||u===void 0?void 0:u.arrayValue,N=Se(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((h=T?.values)===null||h===void 0?void 0:h.length)||0);return N!==0?N:PS(y,T)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===rh.mapValue&&s===rh.mapValue)return 0;if(o===rh.mapValue)return 1;if(s===rh.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=Se(u[p],h[p]);if(m!==0)return m;let y=ks(a[u[p]],l[h[p]]);if(y!==0)return y}return Se(u.length,h.length)}(t.mapValue,e.mapValue);default:throw oe()}}function RS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Se(t,e);let n=Tr(t),r=Tr(e),i=Se(n.seconds,r.seconds);return i!==0?i:Se(n.nanos,r.nanos)}function PS(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=ks(n[i],r[i]);if(o)return o}return Se(n.length,r.length)}function Fs(t){return mv(t)}function mv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Tr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return li(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ne.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=mv(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${mv(n.fields[s])}`;return i+"}"}(t.mapValue):oe()}function yv(t){return!!t&&"integerValue"in t}function j_(t){return!!t&&"arrayValue"in t}function NS(t){return!!t&&"nullValue"in t}function OS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function oh(t){return!!t&&"mapValue"in t}function lA(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Rc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return ao(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Rc(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Rc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function dA(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Jt=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!oh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Rc(n)}setAll(e){let n=Zt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Rc(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());oh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Qn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];oh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ao(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(Rc(this.value))}};function hA(t){let e=[];return ao(t.fields,(n,r)=>{let i=new Zt([n]);if(oh(r)){let o=hA(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new cn(e)}var Cn=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,de.min(),de.min(),de.min(),Jt.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,de.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,de.min(),de.min(),Jt.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,de.min(),de.min(),Jt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(de.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Jt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Jt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=de.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Vs=class{constructor(e,n){this.position=e,this.inclusive=n}};function kS(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=ne.comparator(ne.fromName(s.referenceValue),n.key):r=ks(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function FS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Qn(t.position[n],e.position[n]))return!1;return!0}var Ls=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function Xj(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var fh=class{},st=class t extends fh{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new _v(e,n,r):n==="array-contains"?new Iv(e,r):n==="in"?new Cv(e,r):n==="not-in"?new bv(e,r):n==="array-contains-any"?new Dv(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new wv(e,r):new Ev(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ks(n,this.value)):n!==null&&ro(this.value)===ro(n)&&this.matchesComparison(ks(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return oe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Yn=class t extends fh{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return fA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function fA(t){return t.op==="and"}function pA(t){return e3(t)&&fA(t)}function e3(t){for(let e of t.filters)if(e instanceof Yn)return!1;return!0}function vv(t){if(t instanceof st)return t.field.canonicalString()+t.op.toString()+Fs(t.value);if(pA(t))return t.filters.map(e=>vv(e)).join(",");{let e=t.filters.map(n=>vv(n)).join(",");return`${t.op}(${e})`}}function gA(t,e){return t instanceof st?function(r,i){return i instanceof st&&r.op===i.op&&r.field.isEqual(i.field)&&Qn(r.value,i.value)}(t,e):t instanceof Yn?function(r,i){return i instanceof Yn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&gA(s,i.filters[a]),!0):!1}(t,e):void oe()}function mA(t){return t instanceof st?function(n){return`${n.field.canonicalString()} ${n.op} ${Fs(n.value)}`}(t):t instanceof Yn?function(n){return n.op.toString()+" {"+n.getFilters().map(mA).join(" ,")+"}"}(t):"Filter"}var _v=class extends st{constructor(e,n,r){super(e,n,r),this.key=ne.fromName(r.referenceValue)}matches(e){let n=ne.comparator(e.key,this.key);return this.matchesComparison(n)}},wv=class extends st{constructor(e,n){super(e,"in",n),this.keys=yA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Ev=class extends st{constructor(e,n){super(e,"not-in",n),this.keys=yA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function yA(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ne.fromName(r.referenceValue))}var Iv=class extends st{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return j_(n)&&Vc(n.arrayValue,this.value)}},Cv=class extends st{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Vc(this.value.arrayValue,n)}},bv=class extends st{constructor(e,n){super(e,"not-in",n)}matches(e){if(Vc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Vc(this.value.arrayValue,n)}},Dv=class extends st{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!j_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Vc(this.value.arrayValue,r))}};var Tv=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}};function VS(t,e=null,n=[],r=[],i=null,o=null,s=null){return new Tv(t,e,n,r,i,o,s)}function B_(t){let e=ae(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>vv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Lh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Fs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Fs(r)).join(",")),e.ue=n}return e.ue}function $_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Xj(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!gA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!FS(t.startAt,e.startAt)&&FS(t.endAt,e.endAt)}function Sv(t){return ne.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Us=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function t3(t,e,n,r,i,o,s,a){return new Us(t,e,n,r,i,o,s,a)}function H_(t){return new Us(t)}function LS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function n3(t){return t.collectionGroup!==null}function Pc(t){let e=ae(t);if(e.ce===null){e.ce=[];let n=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new St(Zt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Ls(o,r))}),n.has(Zt.keyField().canonicalString())||e.ce.push(new Ls(Zt.keyField(),r))}return e.ce}function Wn(t){let e=ae(t);return e.le||(e.le=r3(e,Pc(t))),e.le}function r3(t,e){if(t.limitType==="F")return VS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Ls(i.field,o)});let n=t.endAt?new Vs(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Vs(t.startAt.position,t.startAt.inclusive):null;return VS(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Av(t,e,n){return new Us(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Uh(t,e){return $_(Wn(t),Wn(e))&&t.limitType===e.limitType}function vA(t){return`${B_(Wn(t))}|lt:${t.limitType}`}function Ss(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>mA(i)).join(", ")}]`),Lh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Fs(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Fs(i)).join(",")),`Target(${r})`}(Wn(t))}; limitType=${t.limitType})`}function jh(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ne.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of Pc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){let l=kS(s,a,u);return s.inclusive?l<=0:l<0}(r.startAt,Pc(r),i)||r.endAt&&!function(s,a,u){let l=kS(s,a,u);return s.inclusive?l>=0:l>0}(r.endAt,Pc(r),i))}(t,e)}function i3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function _A(t){return(e,n)=>{let r=!1;for(let i of Pc(t)){let o=o3(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function o3(t,e,n){let r=t.field.isKeyField()?ne.comparator(e.key,n.key):function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?ks(u,l):oe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return oe()}}var di=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ao(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return uA(this.inner)}size(){return this.innerSize}};var s3=new Ye(ne.comparator);function Sr(){return s3}var wA=new Ye(ne.comparator);function xc(...t){let e=wA;for(let n of t)e=e.insert(n.key,n);return e}function EA(t){let e=wA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Zi(){return Nc()}function IA(){return Nc()}function Nc(){return new di(t=>t.toString(),(t,e)=>t.isEqual(e))}var a3=new Ye(ne.comparator),c3=new St(ne.comparator);function _e(...t){let e=c3;for(let n of t)e=e.add(n);return e}var u3=new St(Se);function l3(){return u3}function z_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:kc(e)?"-0":e}}function CA(t){return{integerValue:""+t}}function d3(t,e){return Wj(e)?CA(e):z_(t,e)}var js=class{constructor(){this._=void 0}};function h3(t,e,n){return t instanceof Bs?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&L_(o)&&(o=U_(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof io?DA(t,e):t instanceof oo?TA(t,e):function(i,o){let s=bA(i,o),a=US(s)+US(i.Pe);return yv(s)&&yv(i.Pe)?CA(a):z_(i.serializer,a)}(t,e)}function f3(t,e,n){return t instanceof io?DA(t,e):t instanceof oo?TA(t,e):n}function bA(t,e){return t instanceof $s?function(r){return yv(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var Bs=class extends js{},io=class extends js{constructor(e){super(),this.elements=e}};function DA(t,e){let n=SA(e);for(let r of t.elements)n.some(i=>Qn(i,r))||n.push(r);return{arrayValue:{values:n}}}var oo=class extends js{constructor(e){super(),this.elements=e}};function TA(t,e){let n=SA(e);for(let r of t.elements)n=n.filter(i=>!Qn(i,r));return{arrayValue:{values:n}}}var $s=class extends js{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function US(t){return Be(t.integerValue||t.doubleValue)}function SA(t){return j_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function p3(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof io&&i instanceof io||r instanceof oo&&i instanceof oo?Os(r.elements,i.elements,Qn):r instanceof $s&&i instanceof $s?Qn(r.Pe,i.Pe):r instanceof Bs&&i instanceof Bs}(t.transform,e.transform)}var Mv=class{constructor(e,n){this.version=e,this.transformResults=n}},br=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function sh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Hs=class{};function AA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Lc(t.key,br.none()):new so(t.key,t.data,br.none());{let n=t.data,r=Jt.empty(),i=new St(Zt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Jn(t.key,r,new cn(i.toArray()),br.none())}}function g3(t,e,n){t instanceof so?function(i,o,s){let a=i.value.clone(),u=BS(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Jn?function(i,o,s){if(!sh(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=BS(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(MA(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Oc(t,e,n,r){return t instanceof so?function(o,s,a,u){if(!sh(o.precondition,s))return a;let l=o.value.clone(),h=$S(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Jn?function(o,s,a,u){if(!sh(o.precondition,s))return a;let l=$S(o.fieldTransforms,u,s),h=s.data;return h.setAll(MA(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(o,s,a){return sh(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function m3(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=bA(r.transform,i||null);o!=null&&(n===null&&(n=Jt.empty()),n.set(r.field,o))}return n||null}function jS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Os(r,i,(o,s)=>p3(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var so=class extends Hs{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Jn=class extends Hs{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function MA(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function BS(t,e,n){let r=new Map;Re(t.length===n.length);for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,f3(s,a,n[i]))}return r}function $S(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,h3(o,s,e))}return r}var Lc=class extends Hs{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},xv=class extends Hs{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Rv=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&g3(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Oc(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Oc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=IA();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let u=AA(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(de.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),_e())}isEqual(e){return this.batchId===e.batchId&&Os(this.mutations,e.mutations,(n,r)=>jS(n,r))&&Os(this.baseMutations,e.baseMutations,(n,r)=>jS(n,r))}},Pv=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Re(e.mutations.length===r.length);let i=function(){return a3}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var Nv=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Ov=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var rt,Ce;function y3(t){switch(t){default:return oe();case O.CANCELLED:case O.UNKNOWN:case O.DEADLINE_EXCEEDED:case O.RESOURCE_EXHAUSTED:case O.INTERNAL:case O.UNAVAILABLE:case O.UNAUTHENTICATED:return!1;case O.INVALID_ARGUMENT:case O.NOT_FOUND:case O.ALREADY_EXISTS:case O.PERMISSION_DENIED:case O.FAILED_PRECONDITION:case O.ABORTED:case O.OUT_OF_RANGE:case O.UNIMPLEMENTED:case O.DATA_LOSS:return!0}}function xA(t){if(t===void 0)return Dr("GRPC error has no .code"),O.UNKNOWN;switch(t){case rt.OK:return O.OK;case rt.CANCELLED:return O.CANCELLED;case rt.UNKNOWN:return O.UNKNOWN;case rt.DEADLINE_EXCEEDED:return O.DEADLINE_EXCEEDED;case rt.RESOURCE_EXHAUSTED:return O.RESOURCE_EXHAUSTED;case rt.INTERNAL:return O.INTERNAL;case rt.UNAVAILABLE:return O.UNAVAILABLE;case rt.UNAUTHENTICATED:return O.UNAUTHENTICATED;case rt.INVALID_ARGUMENT:return O.INVALID_ARGUMENT;case rt.NOT_FOUND:return O.NOT_FOUND;case rt.ALREADY_EXISTS:return O.ALREADY_EXISTS;case rt.PERMISSION_DENIED:return O.PERMISSION_DENIED;case rt.FAILED_PRECONDITION:return O.FAILED_PRECONDITION;case rt.ABORTED:return O.ABORTED;case rt.OUT_OF_RANGE:return O.OUT_OF_RANGE;case rt.UNIMPLEMENTED:return O.UNIMPLEMENTED;case rt.DATA_LOSS:return O.DATA_LOSS;default:return oe()}}(Ce=rt||(rt={}))[Ce.OK=0]="OK",Ce[Ce.CANCELLED=1]="CANCELLED",Ce[Ce.UNKNOWN=2]="UNKNOWN",Ce[Ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ce[Ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ce[Ce.NOT_FOUND=5]="NOT_FOUND",Ce[Ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ce[Ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ce[Ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ce[Ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ce[Ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ce[Ce.ABORTED=10]="ABORTED",Ce[Ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ce[Ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ce[Ce.INTERNAL=13]="INTERNAL",Ce[Ce.UNAVAILABLE=14]="UNAVAILABLE",Ce[Ce.DATA_LOSS=15]="DATA_LOSS";var HS=null;function v3(){return new TextEncoder}var _3=new ai([4294967295,4294967295],0);function zS(t){let e=v3().encode(t),n=new Yy;return n.update(e),new Uint8Array(n.digest())}function qS(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ai([n,r],0),new ai([i,o],0)]}var kv=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Xi(`Invalid padding: ${n}`);if(r<0)throw new Xi(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Xi(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Xi(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=ai.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(ai.fromNumber(r)));return i.compare(_3)===1&&(i=new ai([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=zS(e),[r,i]=qS(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;let n=zS(e),[r,i]=qS(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Xi=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var ph=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Uc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(de.min(),i,new Ye(Se),Sr(),_e())}},Uc=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,_e(),_e(),_e())}};var Rs=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},gh=class{constructor(e,n){this.targetId=e,this.me=n}},mh=class{constructor(e,n,r=At.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},yh=class{constructor(){this.fe=0,this.ge=WS(),this.pe=At.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=_e(),n=_e(),r=_e();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:oe()}}),new Uc(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=WS()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Re(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},Fv=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Sr(),this.qe=GS(),this.Qe=new Ye(Se)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:oe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let o=i.target;if(Sv(o))if(r===0){let s=new ne(o.path);this.Ue(n,s,Cn.newNoDocument(s,de.min()))}else Re(r===1);else{let s=this.Ye(n);if(s!==r){let a=this.Ze(e),u=a?this.Xe(a,e,s):1;if(u!==0){this.je(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}HS?.et(function(h,p,m,y,T){var N,R,F,J,q,X;let Pe={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},re=p.unchangedNames;return re&&(Pe.bloomFilter={applied:T===0,hashCount:(N=re?.hashCount)!==null&&N!==void 0?N:0,bitmapLength:(J=(F=(R=re?.bits)===null||R===void 0?void 0:R.bitmap)===null||F===void 0?void 0:F.length)!==null&&J!==void 0?J:0,padding:(X=(q=re?.bits)===null||q===void 0?void 0:q.padding)!==null&&X!==void 0?X:0,mightContain:E=>{var v;return(v=y?.mightContain(E))!==null&&v!==void 0&&v}}),Pe}(s,e.me,this.Le.tt(),a,u))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,a;try{s=li(r).toUint8Array()}catch(u){if(u instanceof dh)return Ns("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new kv(s,i,o)}catch(u){return Ns(u instanceof Xi?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((o,s)=>{let a=this.Je(s);if(a){if(o.current&&Sv(a.target)){let u=new ne(a.target.path);this.ke.get(u)!==null||this.it(s,u)||this.Ue(s,u,Cn.newNoDocument(u,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=_e();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let i=new ph(e,n,this.Qe,this.ke,r);return this.ke=Sr(),this.qe=GS(),this.Qe=new Ye(Se),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new yh,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new St(Se),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||z("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new yh),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function GS(){return new Ye(ne.comparator)}function WS(){return new Ye(ne.comparator)}var w3={asc:"ASCENDING",desc:"DESCENDING"},E3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},I3={and:"AND",or:"OR"},Vv=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function Lv(t,e){return t.useProto3Json||Lh(e)?e:{value:e}}function vh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function RA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function C3(t,e){return vh(t,e.toTimestamp())}function Kn(t){return Re(!!t),de.fromTimestamp(function(n){let r=Tr(n);return new yt(r.seconds,r.nanos)}(t))}function q_(t,e){return Uv(t,e).canonicalString()}function Uv(t,e){let n=function(i){return new Qe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function PA(t){let e=Qe.fromString(t);return Re(VA(e)),e}function jv(t,e){return q_(t.databaseId,e.path)}function nv(t,e){let n=PA(e);if(n.get(1)!==t.databaseId.projectId)throw new Z(O.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Z(O.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ne(OA(n))}function NA(t,e){return q_(t.databaseId,e)}function b3(t){let e=PA(t);return e.length===4?Qe.emptyPath():OA(e)}function Bv(t){return new Qe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function OA(t){return Re(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function KS(t,e,n){return{name:jv(t,e),fields:n.value.mapValue.fields}}function D3(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:oe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(Re(h===void 0||typeof h=="string"),At.fromBase64String(h||"")):(Re(h===void 0||h instanceof Buffer||h instanceof Uint8Array),At.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let h=l.code===void 0?O.UNKNOWN:xA(l.code);return new Z(h,l.message||"")}(s);n=new mh(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=nv(t,r.document.name),o=Kn(r.document.updateTime),s=r.document.createTime?Kn(r.document.createTime):de.min(),a=new Jt({mapValue:{fields:r.document.fields}}),u=Cn.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];n=new Rs(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=nv(t,r.document),o=r.readTime?Kn(r.readTime):de.min(),s=Cn.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Rs([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=nv(t,r.document),o=r.removedTargetIds||[];n=new Rs([],o,i,null)}else{if(!("filter"in e))return oe();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new Ov(i,o),a=r.targetId;n=new gh(a,s)}}return n}function T3(t,e){let n;if(e instanceof so)n={update:KS(t,e.key,e.value)};else if(e instanceof Lc)n={delete:jv(t,e.key)};else if(e instanceof Jn)n={update:KS(t,e.key,e.data),updateMask:k3(e.fieldMask)};else{if(!(e instanceof xv))return oe();n={verify:jv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof Bs)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof io)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof oo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof $s)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw oe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:C3(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:oe()}(t,e.precondition)),n}function S3(t,e){return t&&t.length>0?(Re(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?Kn(i.updateTime):Kn(o);return s.isEqual(de.min())&&(s=Kn(o)),new Mv(s,i.transformResults||[])}(n,e))):[]}function A3(t,e){return{documents:[NA(t,e.path)]}}function M3(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=NA(t,i);let o=function(l){if(l.length!==0)return FA(Yn.create(l,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(m){return{field:As(m.field),direction:P3(m.dir)}}(h))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=Lv(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i}}function x3(t){let e=b3(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Re(r===1);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(p){let m=kA(p);return m instanceof Yn&&pA(m)?m.getFilters():[m]}(n.where));let s=[];n.orderBy&&(s=function(p){return p.map(m=>function(T){return new Ls(Ms(T.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(p){let m;return m=typeof p=="object"?p.value:p,Lh(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(p){let m=!!p.before,y=p.values||[];return new Vs(y,m)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let m=!p.before,y=p.values||[];return new Vs(y,m)}(n.endAt)),t3(e,i,s,o,a,"F",u,l)}function R3(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return oe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function kA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Ms(n.unaryFilter.field);return st.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Ms(n.unaryFilter.field);return st.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Ms(n.unaryFilter.field);return st.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Ms(n.unaryFilter.field);return st.create(s,"!=",{nullValue:"NULL_VALUE"});default:return oe()}}(t):t.fieldFilter!==void 0?function(n){return st.create(Ms(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return oe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Yn.create(n.compositeFilter.filters.map(r=>kA(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return oe()}}(n.compositeFilter.op))}(t):oe()}function P3(t){return w3[t]}function N3(t){return E3[t]}function O3(t){return I3[t]}function As(t){return{fieldPath:t.canonicalString()}}function Ms(t){return Zt.fromServerFormat(t.fieldPath)}function FA(t){return t instanceof st?function(n){if(n.op==="=="){if(OS(n.value))return{unaryFilter:{field:As(n.field),op:"IS_NAN"}};if(NS(n.value))return{unaryFilter:{field:As(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(OS(n.value))return{unaryFilter:{field:As(n.field),op:"IS_NOT_NAN"}};if(NS(n.value))return{unaryFilter:{field:As(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:As(n.field),op:N3(n.op),value:n.value}}}(t):t instanceof Yn?function(n){let r=n.getFilters().map(i=>FA(i));return r.length===1?r[0]:{compositeFilter:{op:O3(n.op),filters:r}}}(t):oe()}function k3(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function VA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var jc=class t{constructor(e,n,r,i,o=de.min(),s=de.min(),a=At.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var $v=class{constructor(e){this.ct=e}};function F3(t){let e=x3({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Av(e,e.limit,"L"):e}var _h=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Be(e.integerValue));else if("doubleValue"in e){let r=Be(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),kc(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=Tr(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(li(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?dA(e)?this.dt(n,Number.MAX_SAFE_INTEGER):lA(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):oe()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let o=e.fields||{};this.dt(n,53);let s="value",a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(Be(a)),this.Vt(s,n),this.Tt(o[s],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),ne.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};_h.vt=new _h;var Hv=class{constructor(){this.un=new zv}addToCollectionParentIndex(e,n){return this.un.add(n),L.resolve()}getCollectionParents(e,n){return L.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return L.resolve()}deleteFieldIndex(e,n){return L.resolve()}deleteAllFieldIndexes(e){return L.resolve()}createTargetIndexes(e,n){return L.resolve()}getDocumentsMatchingTarget(e,n){return L.resolve(null)}getIndexType(e,n){return L.resolve(0)}getFieldIndexes(e,n){return L.resolve([])}getNextCollectionGroupToUpdate(e){return L.resolve(null)}getMinOffset(e,n){return L.resolve(no.min())}getMinOffsetFromCollectionGroup(e,n){return L.resolve(no.min())}updateCollectionGroup(e,n,r){return L.resolve()}updateIndexEntries(e,n){return L.resolve()}},zv=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new St(Qe.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new St(Qe.comparator)).toArray()}};var MK=new Uint8Array(0);var qn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};qn.DEFAULT_COLLECTION_PERCENTILE=10,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qn.DEFAULT=new qn(41943040,qn.DEFAULT_COLLECTION_PERCENTILE,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qn.DISABLED=new qn(-1,0,0);var Bc=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var qv=class{constructor(){this.changes=new di(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Cn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?L.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Gv=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var Wv=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Oc(r.mutation,i,cn.empty(),yt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,_e()).next(()=>r))}getLocalViewOfDocuments(e,n,r=_e()){let i=Zi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=xc();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=Zi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,_e()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Sr(),s=Nc(),a=function(){return Nc()}();return n.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof Jn)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),Oc(h.mutation,l,h.mutation.getFieldMask(),yt.now())):s.set(l.key,cn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),n.forEach((l,h)=>{var p;return a.set(l,new Gv(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let r=Nc(),i=new Ye((s,a)=>s-a),o=_e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let h=r.get(u)||cn.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||_e()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=IA();h.forEach(m=>{if(!o.has(m)){let y=AA(n.get(m),r.get(m));y!==null&&p.set(m,y),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return L.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return ne.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):n3(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):L.resolve(Zi()),a=-1,u=o;return s.next(l=>L.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?L.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,_e())).next(h=>({batchId:a,changes:EA(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ne(n)).next(r=>{let i=xc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=xc();return this.indexManager.getCollectionParents(e,o).next(a=>L.forEach(a,u=>{let l=function(p,m){return new Us(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,Cn.newInvalidDocument(h)))});let a=xc();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&Oc(h.mutation,l,cn.empty(),yt.now()),jh(n,l)&&(a=a.insert(u,l))}),a})}};var Kv=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return L.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Kn(i.createTime)}}(n)),L.resolve()}getNamedQuery(e,n){return L.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:F3(i.bundledQuery),readTime:Kn(i.readTime)}}(n)),L.resolve()}};var Qv=class{constructor(){this.overlays=new Ye(ne.comparator),this.Ir=new Map}getOverlay(e,n){return L.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Zi();return L.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),L.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),L.resolve()}getOverlaysForCollection(e,n,r){let i=Zi(),o=n.length+1,s=new ne(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return L.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Ye((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=Zi(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=Zi(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return L.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Nv(n,r));let o=this.Ir.get(n);o===void 0&&(o=_e(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}};var Yv=class{constructor(){this.sessionToken=At.EMPTY_BYTE_STRING}getSessionToken(e){return L.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,L.resolve()}};var $c=class{constructor(){this.Tr=new St(it.Er),this.dr=new St(it.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new it(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new it(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new ne(new Qe([])),r=new it(n,e),i=new it(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new ne(new Qe([])),r=new it(n,e),i=new it(n,e+1),o=_e();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new it(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},it=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ne.comparator(e.key,n.key)||Se(e.wr,n.wr)}static Ar(e,n){return Se(e.wr,n.wr)||ne.comparator(e.key,n.key)}};var Jv=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new St(it.Er)}checkEmpty(e){return L.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new Rv(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.br=this.br.add(new it(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return L.resolve(s)}lookupMutationBatch(e,n){return L.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),o=i<0?0:i;return L.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new it(n,0),i=new it(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{let a=this.Dr(s.wr);o.push(a)}),L.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new St(Se);return n.forEach(i=>{let o=new it(i,0),s=new it(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),L.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;ne.isDocumentKey(o)||(o=o.child(""));let s=new it(new ne(o),0),a=new St(Se);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.wr)),!0)},s),L.resolve(this.Cr(a))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Re(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return L.forEach(n.mutations,i=>{let o=new it(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new it(n,0),i=this.br.firstAfterOrEqual(r);return L.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,L.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var Zv=class{constructor(e){this.Mr=e,this.docs=function(){return new Ye(ne.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return L.resolve(r?r.document.mutableCopy():Cn.newInvalidDocument(n))}getEntries(e,n){let r=Sr();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Cn.newInvalidDocument(i))}),L.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Sr(),s=n.path,a=new ne(s.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||zj(Hj(h),r)<=0||(i.has(h.key)||jh(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return L.resolve(o)}getAllFromCollectionGroup(e,n,r,i){oe()}Or(e,n){return L.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Xv(this)}getSize(e){return L.resolve(this.size)}},Xv=class extends qv{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),L.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var e_=class{constructor(e){this.persistence=e,this.Nr=new di(n=>B_(n),$_),this.lastRemoteSnapshotVersion=de.min(),this.highestTargetId=0,this.Lr=0,this.Br=new $c,this.targetCount=0,this.kr=Bc.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),L.resolve()}getLastRemoteSnapshotVersion(e){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return L.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),L.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new Bc(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,L.resolve()}updateTargetData(e,n){return this.Kn(n),L.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,L.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),L.waitFor(o).next(()=>i)}getTargetCount(e){return L.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return L.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),L.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),L.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),L.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return L.resolve(r)}containsKey(e,n){return L.resolve(this.Br.containsKey(n))}};var t_=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new cA(0),this.Kr=!1,this.Kr=!0,this.$r=new Yv,this.referenceDelegate=e(this),this.Ur=new e_(this),this.indexManager=new Hv,this.remoteDocumentCache=function(i){return new Zv(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new $v(n),this.Gr=new Kv(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Qv,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new Jv(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){z("MemoryPersistence","Starting transaction:",e);let i=new n_(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return L.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},n_=class extends pv{constructor(e){super(),this.currentSequenceNumber=e}},r_=class t{constructor(e){this.persistence=e,this.Jr=new $c,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw oe()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),L.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),L.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),L.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.Xr,r=>{let i=ne.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,de.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return L.or([()=>L.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var i_=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=_e(),i=_e();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var o_=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var s_=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return $D()?8:Gj(Yt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new o_;return this.Xi(e,n,s).next(a=>{if(o.result=a,this.zi)return this.es(e,n,s,a.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Mc()<=ve.DEBUG&&z("QueryEngine","SDK will not create cache indexes for query:",Ss(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),L.resolve()):(Mc()<=ve.DEBUG&&z("QueryEngine","Query:",Ss(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Mc()<=ve.DEBUG&&z("QueryEngine","The SDK decides to create cache indexes for query:",Ss(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wn(n))):L.resolve())}Yi(e,n){if(LS(n))return L.resolve(null);let r=Wn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Av(n,null,"F"),r=Wn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=_e(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(n,a);return this.ns(n,l,s,u.readTime)?this.Yi(e,Av(n,null,"F")):this.rs(e,l,n,u)}))})))}Zi(e,n,r,i){return LS(n)||i.isEqual(de.min())?L.resolve(null):this.Ji.getDocuments(e,r).next(o=>{let s=this.ts(n,o);return this.ns(n,s,r,i)?L.resolve(null):(Mc()<=ve.DEBUG&&z("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ss(n)),this.rs(e,s,n,$j(i,-1)).next(a=>a))})}ts(e,n){let r=new St(_A(e));return n.forEach((i,o)=>{jh(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return Mc()<=ve.DEBUG&&z("QueryEngine","Using full collection scan to execute query:",Ss(n)),this.Ji.getDocumentsMatchingQuery(e,n,no.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var a_=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Ye(Se),this._s=new di(o=>B_(o),$_),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Wv(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function V3(t,e,n,r){return new a_(t,e,n,r)}function LA(t,e){return S(this,null,function*(){let n=ae(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=_e();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:s,addedBatchIds:a}))})})})}function L3(t,e){let n=ae(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,m=p.keys(),y=L.resolve();return m.forEach(T=>{y=y.next(()=>h.getEntry(u,T)).next(N=>{let R=l.docVersions.get(T);Re(R!==null),N.version.compareTo(R)<0&&(p.applyToRemoteDocument(N,l),N.isValidDocument()&&(N.setReadTime(l.commitVersion),h.addEntry(N)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=_e();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function UA(t){let e=ae(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function U3(t,e){let n=ae(t),r=e.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let a=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;a.push(n.Ur.removeMatchingKeys(o,h.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(o,h.addedDocuments,p)));let y=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(At.EMPTY_BYTE_STRING,de.min()).withLastLimboFreeSnapshotVersion(de.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),function(N,R,F){return N.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=3e8?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(m,y,h)&&a.push(n.Ur.updateTargetData(o,y))});let u=Sr(),l=_e();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(j3(o,s,e.documentUpdates).next(h=>{u=h.Ps,l=h.Is})),!r.isEqual(de.min())){let h=n.Ur.getLastRemoteSnapshotVersion(o).next(p=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return L.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(n.os=i,o))}function j3(t,e,n){let r=_e(),i=_e();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Sr();return n.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(de.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):z("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ps:s,Is:i}})}function B3(t,e){let n=ae(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function $3(t,e){let n=ae(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,L.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new jc(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}function c_(t,e,n){return S(this,null,function*(){let r=ae(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Kc(s))throw s;z("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function QS(t,e,n){let r=ae(t),i=de.min(),o=_e();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,h){let p=ae(u),m=p._s.get(h);return m!==void 0?L.resolve(p.os.get(m)):p.Ur.getTargetData(l,h)}(r,s,Wn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:de.min(),n?o:_e())).next(a=>(H3(r,i3(e),a),{documents:a,Ts:o})))}function H3(t,e,n){let r=t.us.get(e)||de.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}var wh=class{constructor(){this.activeTargetIds=l3()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var u_=class{constructor(){this.so=new wh,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new wh,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var l_=class{_o(e){}shutdown(){}};var Eh=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){z("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){z("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var ih=null;function rv(){return ih===null?ih=function(){return 268435456+Math.round(2147483648*Math.random())}():ih++,"0x"+ih.toString(16)}var z3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var d_=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var Tt="WebChannelConnection",h_=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){let a=rv(),u=this.xo(n,r.toUriEncodedString());z("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,o,s),this.No(n,u,l,i).then(h=>(z("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw Ns("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",u,"request:",i),h})}Lo(n,r,i,o,s,a){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ws}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){let i=z3[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let o=rv();return new Promise((s,a)=>{let u=new Jy;u.setWithCredentials(!0),u.listenOnce(Zy.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Ac.NO_ERROR:let h=u.getResponseJson();z(Tt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case Ac.TIMEOUT:z(Tt,`RPC '${e}' ${o} timed out`),a(new Z(O.DEADLINE_EXCEEDED,"Request time out"));break;case Ac.HTTP_ERROR:let p=u.getStatus();if(z(Tt,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);let y=m?.error;if(y&&y.status&&y.message){let T=function(R){let F=R.toLowerCase().replace(/_/g,"-");return Object.values(O).indexOf(F)>=0?F:O.UNKNOWN}(y.status);a(new Z(T,y.message))}else a(new Z(O.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new Z(O.UNAVAILABLE,"Connection failed."));break;default:oe()}}finally{z(Tt,`RPC '${e}' ${o} completed.`)}});let l=JSON.stringify(i);z(Tt,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",l,r,15)})}Bo(e,n,r){let i=rv(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=tv(),a=ev(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let h=o.join("");z(Tt,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u),m=!1,y=!1,T=new d_({Io:R=>{y?z(Tt,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(m||(z(Tt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),z(Tt,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},To:()=>p.close()}),N=(R,F,J)=>{R.listen(F,q=>{try{J(q)}catch(X){setTimeout(()=>{throw X},0)}})};return N(p,Ts.EventType.OPEN,()=>{y||(z(Tt,`RPC '${e}' stream ${i} transport opened.`),T.yo())}),N(p,Ts.EventType.CLOSE,()=>{y||(y=!0,z(Tt,`RPC '${e}' stream ${i} transport closed`),T.So())}),N(p,Ts.EventType.ERROR,R=>{y||(y=!0,Ns(Tt,`RPC '${e}' stream ${i} transport errored:`,R),T.So(new Z(O.UNAVAILABLE,"The operation could not be completed")))}),N(p,Ts.EventType.MESSAGE,R=>{var F;if(!y){let J=R.data[0];Re(!!J);let q=J,X=q.error||((F=q[0])===null||F===void 0?void 0:F.error);if(X){z(Tt,`RPC '${e}' stream ${i} received error:`,X);let Pe=X.status,re=function(_){let I=rt[_];if(I!==void 0)return xA(I)}(Pe),E=X.message;re===void 0&&(re=O.INTERNAL,E="Unknown error status: "+Pe+" with message "+X.message),y=!0,T.So(new Z(re,E)),p.close()}else z(Tt,`RPC '${e}' stream ${i} received:`,J),T.bo(J)}}),N(a,Xy.STAT_EVENT,R=>{R.stat===nh.PROXY?z(Tt,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===nh.NOPROXY&&z(Tt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{T.wo()},0),T}};function iv(){return typeof document<"u"?document:null}function Bh(t){return new Vv(t,!0)}var Ih=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&z("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var Ch=class{constructor(e,n,r,i,o,s,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Ih(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return S(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return S(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return S(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===O.RESOURCE_EXHAUSTED?(Dr(n.toString()),Dr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===O.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new Z(O.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>S(this,null,function*(){this.state=0,this.start()}))}I_(e){return z("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(z("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},f_=class extends Ch{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=D3(this.serializer,e),r=function(o){if(!("targetChange"in o))return de.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?de.min():s.readTime?Kn(s.readTime):de.min()}(e);return this.listener.d_(n,r)}A_(e){let n={};n.database=Bv(this.serializer),n.addTarget=function(o,s){let a,u=s.target;if(a=Sv(u)?{documents:A3(o,u)}:{query:M3(o,u)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=RA(o,s.resumeToken);let l=Lv(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(de.min())>0){a.readTime=vh(o,s.snapshotVersion.toTimestamp());let l=Lv(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=R3(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){let n={};n.database=Bv(this.serializer),n.removeTarget=e,this.a_(n)}},p_=class extends Ch{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Re(!!e.streamToken),this.lastStreamToken=e.streamToken,Re(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Re(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=S3(e.writeResults,e.commitTime),r=Kn(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=Bv(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>T3(this.serializer,r))};this.a_(n)}};var g_=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Z(O.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,Uv(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Z(O.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,Uv(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Z(O.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},m_=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Dr(n),this.D_=!1):z("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var y_=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(()=>S(this,null,function*(){co(this)&&(z("RemoteStore","Restarting streams for network reachability change."),yield function(u){return S(this,null,function*(){let l=ae(u);l.L_.add(4),yield Qc(l),l.q_.set("Unknown"),l.L_.delete(4),yield $h(l)})}(this))}))}),this.q_=new m_(r,i)}};function $h(t){return S(this,null,function*(){if(co(t))for(let e of t.B_)yield e(!0)})}function Qc(t){return S(this,null,function*(){for(let e of t.B_)yield e(!1)})}function jA(t,e){let n=ae(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Q_(n)?K_(n):Ks(n).r_()&&W_(n,e))}function G_(t,e){let n=ae(t),r=Ks(n);n.N_.delete(e),r.r_()&&BA(n,e),n.N_.size===0&&(r.r_()?r.o_():co(n)&&n.q_.set("Unknown"))}function W_(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(de.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ks(t).A_(e)}function BA(t,e){t.Q_.xe(e),Ks(t).R_(e)}function K_(t){t.Q_=new Fv({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Ks(t).start(),t.q_.v_()}function Q_(t){return co(t)&&!Ks(t).n_()&&t.N_.size>0}function co(t){return ae(t).L_.size===0}function $A(t){t.Q_=void 0}function q3(t){return S(this,null,function*(){t.q_.set("Online")})}function G3(t){return S(this,null,function*(){t.N_.forEach((e,n)=>{W_(t,e)})})}function W3(t,e){return S(this,null,function*(){$A(t),Q_(t)?(t.q_.M_(e),K_(t)):t.q_.set("Unknown")})}function K3(t,e,n){return S(this,null,function*(){if(t.q_.set("Online"),e instanceof mh&&e.state===2&&e.cause)try{yield function(i,o){return S(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))})}(t,e)}catch(r){z("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield bh(t,r)}else if(e instanceof Rs?t.Q_.Ke(e):e instanceof gh?t.Q_.He(e):t.Q_.We(e),!n.isEqual(de.min()))try{let r=yield UA(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){let a=o.Q_.rt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.N_.get(l);h&&o.N_.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.N_.get(u);if(!h)return;o.N_.set(u,h.withResumeToken(At.EMPTY_BYTE_STRING,h.snapshotVersion)),BA(o,u);let p=new jc(h.target,u,l,h.sequenceNumber);W_(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){z("RemoteStore","Failed to raise snapshot:",r),yield bh(t,r)}})}function bh(t,e,n){return S(this,null,function*(){if(!Kc(e))throw e;t.L_.add(1),yield Qc(t),t.q_.set("Offline"),n||(n=()=>UA(t.localStore)),t.asyncQueue.enqueueRetryable(()=>S(this,null,function*(){z("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield $h(t)}))})}function HA(t,e){return e().catch(n=>bh(t,n,e))}function Hh(t){return S(this,null,function*(){let e=ae(t),n=hi(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Q3(e);)try{let i=yield B3(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,Y3(e,i)}catch(i){yield bh(e,i)}zA(e)&&qA(e)})}function Q3(t){return co(t)&&t.O_.length<10}function Y3(t,e){t.O_.push(e);let n=hi(t);n.r_()&&n.V_&&n.m_(e.mutations)}function zA(t){return co(t)&&!hi(t).n_()&&t.O_.length>0}function qA(t){hi(t).start()}function J3(t){return S(this,null,function*(){hi(t).p_()})}function Z3(t){return S(this,null,function*(){let e=hi(t);for(let n of t.O_)e.m_(n.mutations)})}function X3(t,e,n){return S(this,null,function*(){let r=t.O_.shift(),i=Pv.from(r,e,n);yield HA(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Hh(t)})}function eB(t,e){return S(this,null,function*(){e&&hi(t).V_&&(yield function(r,i){return S(this,null,function*(){if(function(s){return y3(s)&&s!==O.ABORTED}(i.code)){let o=r.O_.shift();hi(r).s_(),yield HA(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Hh(r)}})}(t,e)),zA(t)&&qA(t)})}function YS(t,e){return S(this,null,function*(){let n=ae(t);n.asyncQueue.verifyOperationInProgress(),z("RemoteStore","RemoteStore received new credentials");let r=co(n);n.L_.add(3),yield Qc(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield $h(n)})}function tB(t,e){return S(this,null,function*(){let n=ae(t);e?(n.L_.delete(2),yield $h(n)):e||(n.L_.add(2),yield Qc(n),n.q_.set("Unknown"))})}function Ks(t){return t.K_||(t.K_=function(n,r,i){let o=ae(n);return o.w_(),new f_(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:q3.bind(null,t),Ro:G3.bind(null,t),mo:W3.bind(null,t),d_:K3.bind(null,t)}),t.B_.push(e=>S(this,null,function*(){e?(t.K_.s_(),Q_(t)?K_(t):t.q_.set("Unknown")):(yield t.K_.stop(),$A(t))}))),t.K_}function hi(t){return t.U_||(t.U_=function(n,r,i){let o=ae(n);return o.w_(),new p_(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:J3.bind(null,t),mo:eB.bind(null,t),f_:Z3.bind(null,t),g_:X3.bind(null,t)}),t.B_.push(e=>S(this,null,function*(){e?(t.U_.s_(),yield Hh(t)):(yield t.U_.stop(),t.O_.length>0&&(z("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var v_=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Cr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Z(O.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Y_(t,e){if(Dr("AsyncQueue",`${e}: ${t}`),Kc(t))return new Z(O.UNAVAILABLE,`${e}: ${t}`);throw t}var Dh=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ne.comparator(n.key,r.key):(n,r)=>ne.comparator(n.key,r.key),this.keyedMap=xc(),this.sortedSet=new Ye(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var Th=class{constructor(){this.W_=new Ye(ne.comparator)}track(e){let n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):oe():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}},zs=class t{constructor(e,n,r,i,o,s,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,Dh.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Uh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var __=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},w_=class{constructor(){this.queries=JS(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=ae(n),o=i.queries;i.queries=JS(),o.forEach((s,a)=>{for(let u of a.j_)u.onError(r)})})(this,new Z(O.ABORTED,"Firestore shutting down"))}};function JS(){return new di(t=>vA(t),Uh)}function nB(t,e){return S(this,null,function*(){let n=ae(t),r=3,i=e.query,o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new __,r=e.J_()?0:1);try{switch(r){case 0:o.z_=yield n.onListen(i,!0);break;case 1:o.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){let a=Y_(s,`Initialization of query '${Ss(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&J_(n)})}function rB(t,e){return S(this,null,function*(){let n=ae(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function iB(t,e){let n=ae(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&J_(n)}function oB(t,e,n){let r=ae(t),i=r.queries.get(e);if(i)for(let o of i.j_)o.onError(n);r.queries.delete(e)}function J_(t){t.Y_.forEach(e=>{e.next()})}var E_,ZS;(ZS=E_||(E_={})).ea="default",ZS.Cache="cache";var I_=class{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new zs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=zs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==E_.Cache}};var Sh=class{constructor(e){this.key=e}},Ah=class{constructor(e){this.key=e}},C_=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=_e(),this.mutatedKeys=_e(),this.Aa=_A(e),this.Ra=new Dh(this.Aa)}get Va(){return this.Ta}ma(e,n){let r=n?n.fa:new Th,i=n?n.Ra:this.Ra,o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),y=jh(this.query,p)?p:null,T=!!m&&this.mutatedKeys.has(m.key),N=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),R=!1;m&&y?m.data.isEqual(y.data)?T!==N&&(r.track({type:3,doc:y}),R=!0):this.ga(m,y)||(r.track({type:2,doc:y}),R=!0,(u&&this.Aa(y,u)>0||l&&this.Aa(y,l)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),R=!0):m&&!y&&(r.track({type:1,doc:m}),R=!0,(u||l)&&(a=!0)),R&&(y?(s=s.add(y),o=N?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let s=e.fa.G_();s.sort((h,p)=>function(y,T){let N=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return oe()}};return N(y)-N(T)}(h.type,p.type)||this.Aa(h.doc,p.doc)),this.pa(r),i=i!=null&&i;let a=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,s.length!==0||l?{snapshot:new zs(this.query,e.Ra,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Th,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=_e(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let n=[];return e.forEach(r=>{this.da.has(r)||n.push(new Ah(r))}),this.da.forEach(r=>{e.has(r)||n.push(new Sh(r))}),n}ba(e){this.Ta=e.Ts,this.da=_e();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return zs.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},b_=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},D_=class{constructor(e){this.key=e,this.va=!1}},T_=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new di(a=>vA(a),Uh),this.Ma=new Map,this.xa=new Set,this.Oa=new Ye(ne.comparator),this.Na=new Map,this.La=new $c,this.Ba={},this.ka=new Map,this.qa=Bc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function sB(t,e,n=!0){return S(this,null,function*(){let r=JA(t),i,o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=yield GA(r,e,n,!0),i})}function aB(t,e){return S(this,null,function*(){let n=JA(t);yield GA(n,e,!0,!1)})}function GA(t,e,n,r){return S(this,null,function*(){let i=yield $3(t.localStore,Wn(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n),a;return r&&(a=yield cB(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&jA(t.remoteStore,i),a})}function cB(t,e,n,r,i){return S(this,null,function*(){t.Ka=(p,m,y)=>function(N,R,F,J){return S(this,null,function*(){let q=R.view.ma(F);q.ns&&(q=yield QS(N.localStore,R.query,!1).then(({documents:E})=>R.view.ma(E,q)));let X=J&&J.targetChanges.get(R.targetId),Pe=J&&J.targetMismatches.get(R.targetId)!=null,re=R.view.applyChanges(q,N.isPrimaryClient,X,Pe);return eA(N,R.targetId,re.wa),re.snapshot})}(t,p,m,y);let o=yield QS(t.localStore,e,!0),s=new C_(e,o.Ts),a=s.ma(o.documents),u=Uc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(a,t.isPrimaryClient,u);eA(t,n,l.wa);let h=new b_(e,n,s);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),l.snapshot})}function uB(t,e,n){return S(this,null,function*(){let r=ae(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!Uh(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield c_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&G_(r.remoteStore,i.targetId),S_(r,i.targetId)}).catch(Wc))):(S_(r,i.targetId),yield c_(r.localStore,i.targetId,!0))})}function lB(t,e){return S(this,null,function*(){let n=ae(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),G_(n.remoteStore,r.targetId))})}function dB(t,e,n){return S(this,null,function*(){let r=vB(t);try{let i=yield function(s,a){let u=ae(s),l=yt.now(),h=a.reduce((y,T)=>y.add(T.key),_e()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let T=Sr(),N=_e();return u.cs.getEntries(y,h).next(R=>{T=R,T.forEach((F,J)=>{J.isValidDocument()||(N=N.add(F))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,T)).next(R=>{p=R;let F=[];for(let J of a){let q=m3(J,p.get(J.key).overlayedDocument);q!=null&&F.push(new Jn(J.key,q,hA(q.value.mapValue),br.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,F,a)}).next(R=>{m=R;let F=R.applyToLocalDocumentSet(p,N);return u.documentOverlayCache.saveOverlays(y,R.batchId,F)})}).then(()=>({batchId:m.batchId,changes:EA(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let l=s.Ba[s.currentUser.toKey()];l||(l=new Ye(Se)),l=l.insert(a,u),s.Ba[s.currentUser.toKey()]=l}(r,i.batchId,n),yield Yc(r,i.changes),yield Hh(r.remoteStore)}catch(i){let o=Y_(i,"Failed to persist write");n.reject(o)}})}function WA(t,e){return S(this,null,function*(){let n=ae(t);try{let r=yield U3(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Na.get(o);s&&(Re(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?Re(s.va):i.removedDocuments.size>0&&(Re(s.va),s.va=!1))}),yield Yc(n,r,e)}catch(r){yield Wc(r)}})}function XS(t,e,n){let r=ae(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((o,s)=>{let a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let u=ae(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.j_)m.Z_(a)&&(l=!0)}),l&&J_(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function hB(t,e,n){return S(this,null,function*(){let r=ae(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Na.get(e),o=i&&i.key;if(o){let s=new Ye(ne.comparator);s=s.insert(o,Cn.newNoDocument(o,de.min()));let a=_e().add(o),u=new ph(de.min(),new Map,new Ye(Se),s,a);yield WA(r,u),r.Oa=r.Oa.remove(o),r.Na.delete(e),Z_(r)}else yield c_(r.localStore,e,!1).then(()=>S_(r,e,n)).catch(Wc)})}function fB(t,e){return S(this,null,function*(){let n=ae(t),r=e.batch.batchId;try{let i=yield L3(n.localStore,e);QA(n,r,null),KA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Yc(n,i)}catch(i){yield Wc(i)}})}function pB(t,e,n){return S(this,null,function*(){let r=ae(t);try{let i=yield function(s,a){let u=ae(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(Re(p!==null),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);QA(r,e,n),KA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Yc(r,i)}catch(i){yield Wc(i)}})}function KA(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function QA(t,e,n){let r=ae(t),i=r.Ba[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function S_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||YA(t,r)})}function YA(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(G_(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Z_(t))}function eA(t,e,n){for(let r of n)r instanceof Sh?(t.La.addReference(r.key,e),gB(t,r)):r instanceof Ah?(z("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||YA(t,r.key)):oe()}function gB(t,e){let n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(z("SyncEngine","New document in limbo: "+n),t.xa.add(r),Z_(t))}function Z_(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new ne(Qe.fromString(e)),r=t.qa.next();t.Na.set(r,new D_(n)),t.Oa=t.Oa.insert(n,r),jA(t.remoteStore,new jc(Wn(H_(n.path)),r,"TargetPurposeLimboResolution",cA.oe))}}function Yc(t,e,n){return S(this,null,function*(){let r=ae(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{s.push(r.Ka(u,e,n).then(l=>{var h;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=n?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=i_.Wi(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.Ca.d_(i),yield function(u,l){return S(this,null,function*(){let h=ae(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>L.forEach(l,m=>L.forEach(m.$i,y=>h.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>L.forEach(m.Ui,y=>h.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!Kc(p))throw p;z("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let y=h.os.get(m),T=y.snapshotVersion,N=y.withLastLimboFreeSnapshotVersion(T);h.os=h.os.insert(m,N)}}})}(r.localStore,o))})}function mB(t,e){return S(this,null,function*(){let n=ae(t);if(!n.currentUser.isEqual(e)){z("SyncEngine","User change. New user:",e.toKey());let r=yield LA(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(u=>{u.reject(new Z(O.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Yc(n,r.hs)}})}function yB(t,e){let n=ae(t),r=n.Na.get(e);if(r&&r.va)return _e().add(r.key);{let i=_e(),o=n.Ma.get(e);if(!o)return i;for(let s of o){let a=n.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function JA(t){let e=ae(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=WA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=yB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=hB.bind(null,e),e.Ca.d_=iB.bind(null,e.eventManager),e.Ca.$a=oB.bind(null,e.eventManager),e}function vB(t){let e=ae(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=fB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=pB.bind(null,e),e}var tA=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return S(this,null,function*(){this.serializer=Bh(n.databaseInfo.databaseId),this.sharedClientState=this.Wa(n),this.persistence=this.Ga(n),yield this.persistence.start(),this.localStore=this.za(n),this.gcScheduler=this.ja(n,this.localStore),this.indexBackfillerScheduler=this.Ha(n,this.localStore)})}ja(n,r){return null}Ha(n,r){return null}za(n){return V3(this.persistence,new s_,n.initialUser,this.serializer)}Ga(n){return new t_(r_.Zr,this.serializer)}Wa(n){return new u_}terminate(){return S(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})();var _B=(()=>{class t{initialize(n,r){return S(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>XS(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=mB.bind(null,this.syncEngine),yield tB(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new w_}()}createDatastore(n){let r=Bh(n.databaseInfo.databaseId),i=function(s){return new h_(s)}(n.databaseInfo);return function(s,a,u,l){return new g_(s,a,u,l)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,o,s,a,u){return new y_(i,o,s,a,u)}(this.localStore,this.datastore,n.asyncQueue,r=>XS(this.syncEngine,r,0),function(){return Eh.D()?new Eh:new l_}())}createSyncEngine(n,r){return function(o,s,a,u,l,h,p){let m=new T_(o,s,a,u,l,h);return p&&(m.Qa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return S(this,null,function*(){var n,r;yield function(o){return S(this,null,function*(){let s=ae(o);z("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield Qc(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var A_=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Dr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var M_=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=dt.UNAUTHENTICATED,this.clientId=ch.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>S(this,null,function*(){z("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(z("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Cr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>S(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=Y_(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function ov(t,e){return S(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),z("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>S(this,null,function*(){r.isEqual(i)||(yield LA(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function nA(t,e){return S(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield wB(t);z("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>YS(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>YS(e.remoteStore,i)),t._onlineComponents=e})}function wB(t){return S(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){z("FirestoreClient","Using user provided OfflineComponentProvider");try{yield ov(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===O.FAILED_PRECONDITION||i.code===O.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Ns("Error using user provided cache. Falling back to memory cache: "+n),yield ov(t,new tA)}}else z("FirestoreClient","Using default OfflineComponentProvider"),yield ov(t,new tA);return t._offlineComponents})}function ZA(t){return S(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(z("FirestoreClient","Using user provided OnlineComponentProvider"),yield nA(t,t._uninitializedComponentsProvider._online)):(z("FirestoreClient","Using default OnlineComponentProvider"),yield nA(t,new _B))),t._onlineComponents})}function EB(t){return ZA(t).then(e=>e.syncEngine)}function rA(t){return S(this,null,function*(){let e=yield ZA(t),n=e.eventManager;return n.onListen=sB.bind(null,e.syncEngine),n.onUnlisten=uB.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=aB.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=lB.bind(null,e.syncEngine),n})}function XA(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var iA=new Map;function eM(t,e,n){if(!n)throw new Z(O.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function IB(t,e,n,r){if(e===!0&&r===!0)throw new Z(O.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function oA(t){if(!ne.isDocumentKey(t))throw new Z(O.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function sA(t){if(ne.isDocumentKey(t))throw new Z(O.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function X_(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":oe()}function ci(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Z(O.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=X_(t);throw new Z(O.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var Mh=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Z(O.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Z(O.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}IB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=XA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Z(O.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Z(O.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Z(O.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},qs=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Mh({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Z(O.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Z(O.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Mh(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new sv;switch(r.type){case"firstParty":return new lv(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Z(O.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return S(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=iA.get(n);r&&(z("ComponentProvider","Removing Datastore"),iA.delete(n),r.terminate())}(this),Promise.resolve()}};function tM(t,e,n,r={}){var i;let o=(t=ci(t,qs))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Ns("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=dt.MOCK_USER;else{a=VD(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new Z(O.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new dt(l)}t._authCredentials=new av(new ah(a,u))}}var xh=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Xt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ui(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},ui=class t extends xh{constructor(e,n,r){super(e,n,H_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Xt(this.firestore,null,new ne(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function nM(t,e,...n){if(t=mt(t),eM("collection","path",e),t instanceof qs){let r=Qe.fromString(e,...n);return sA(r),new ui(t,null,r)}{if(!(t instanceof Xt||t instanceof ui))throw new Z(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Qe.fromString(e,...n));return sA(r),new ui(t.firestore,null,r)}}function e0(t,e,...n){if(t=mt(t),arguments.length===1&&(e=ch.newId()),eM("doc","path",e),t instanceof qs){let r=Qe.fromString(e,...n);return oA(r),new Xt(t,null,new ne(r))}{if(!(t instanceof Xt||t instanceof ui))throw new Z(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Qe.fromString(e,...n));return oA(r),new Xt(t.firestore,t instanceof ui?t.converter:null,new ne(r))}}var Rh=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Ih(this,"async_queue_retry"),this.Vu=()=>{let r=iv();r&&z("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let n=iv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let n=iv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let n=new Cr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return S(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Kc(e))throw e;z("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw Dr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);let i=v_.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&oe()}verifyOperationInProgress(){}wu(){return S(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let n=this.Tu.indexOf(e);this.Tu.splice(n,1)}};function aA(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}var fi=class extends qs{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Rh,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return S(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Rh(e),this._firestoreClient=void 0,yield e}})}};function rM(t,e){let n=typeof t=="object"?t:$i(),r=typeof t=="string"?t:e||"(default)",i=fs(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=kD("firestore");o&&tM(i,...o)}return i}function iM(t){if(t._terminated)throw new Z(O.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||CB(t),t._firestoreClient}function CB(t){var e,n,r;let i=t._freezeSettings(),o=function(a,u,l,h){return new gv(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,XA(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new M_(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(t._componentsProvider))}var Hc=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(At.fromBase64String(e))}catch(n){throw new Z(O.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(At.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Gs=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Z(O.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var zc=class{constructor(e){this._methodName=e}};var qc=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Z(O.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Z(O.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Se(this._lat,e._lat)||Se(this._long,e._long)}};var Gc=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var bB=/^__.*__$/,x_=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Jn(e,this.data,this.fieldMask,n,this.fieldTransforms):new so(e,this.data,n,this.fieldTransforms)}},Ph=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Jn(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function oM(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw oe()}}var R_=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Oh(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(oM(this.Cu)&&bB.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},P_=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Bh(e)}Qu(e,n,r,i=!1){return new R_({Cu:e,methodName:n,qu:r,path:Zt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function sM(t){let e=t._freezeSettings(),n=Bh(t._databaseId);return new P_(t._databaseId,!!e.ignoreUndefinedProperties,n)}function DB(t,e,n,r,i,o={}){let s=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);t0("Data must be an object, but it was:",s,r);let a=aM(r,s),u,l;if(o.merge)u=new cn(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let m=N_(e,p,n);if(!s.contains(m))throw new Z(O.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);uM(h,m)||h.push(m)}u=new cn(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new x_(new Jt(a),u,l)}var Nh=class t extends zc{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function TB(t,e,n,r){let i=t.Qu(1,e,n);t0("Data must be an object, but it was:",i,r);let o=[],s=Jt.empty();ao(r,(u,l)=>{let h=n0(e,u,n);l=mt(l);let p=i.Nu(h);if(l instanceof Nh)o.push(h);else{let m=zh(l,p);m!=null&&(o.push(h),s.set(h,m))}});let a=new cn(o);return new Ph(s,a,i.fieldTransforms)}function SB(t,e,n,r,i,o){let s=t.Qu(1,e,n),a=[N_(e,r,n)],u=[i];if(o.length%2!=0)throw new Z(O.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<o.length;m+=2)a.push(N_(e,o[m])),u.push(o[m+1]);let l=[],h=Jt.empty();for(let m=a.length-1;m>=0;--m)if(!uM(l,a[m])){let y=a[m],T=u[m];T=mt(T);let N=s.Nu(y);if(T instanceof Nh)l.push(y);else{let R=zh(T,N);R!=null&&(l.push(y),h.set(y,R))}}let p=new cn(l);return new Ph(h,p,s.fieldTransforms)}function zh(t,e){if(cM(t=mt(t)))return t0("Unsupported field value:",e,t),aM(t,e);if(t instanceof zc)return function(r,i){if(!oM(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let u=zh(a,i.Lu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=mt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return d3(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=yt.fromDate(r);return{timestampValue:vh(i.serializer,o)}}if(r instanceof yt){let o=new yt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:vh(i.serializer,o)}}if(r instanceof qc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Hc)return{bytesValue:RA(i.serializer,r._byteString)};if(r instanceof Xt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:q_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Gc)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.Bu("VectorValues must only contain numeric values.");return z_(a.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${X_(r)}`)}(t,e)}function aM(t,e){let n={};return uA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ao(t,(r,i)=>{let o=zh(i,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function cM(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof yt||t instanceof qc||t instanceof Hc||t instanceof Xt||t instanceof zc||t instanceof Gc)}function t0(t,e,n){if(!cM(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=X_(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function N_(t,e,n){if((e=mt(e))instanceof Gs)return e._internalPath;if(typeof e=="string")return n0(t,e);throw Oh("Field path arguments must be of type string or ",t,!1,void 0,n)}var AB=new RegExp("[~\\*/\\[\\]]");function n0(t,e,n){if(e.search(AB)>=0)throw Oh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Gs(...e.split("."))._internalPath}catch{throw Oh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Oh(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new Z(O.INVALID_ARGUMENT,a+t+u)}function uM(t,e){return t.some(n=>n.isEqual(e))}var kh=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Xt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new O_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(lM("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},O_=class extends kh{data(){return super.data()}};function lM(t,e){return typeof e=="string"?n0(t,e):e instanceof Gs?e._internalPath:e._delegate._internalPath}function MB(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Z(O.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var k_=class{convertValue(e,n="none"){switch(ro(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Be(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(li(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw oe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return ao(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;let o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Be(s.doubleValue));return new Gc(o)}convertGeoPoint(e){return new qc(Be(e.latitude),Be(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=U_(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Fc(e));default:return null}}convertTimestamp(e){let n=Tr(e);return new yt(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Qe.fromString(e);Re(VA(r));let i=new hh(r.get(1),r.get(3)),o=new ne(r.popFirst(5));return i.isEqual(n)||Dr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function xB(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var eo=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Fh=class extends kh{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Ps(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(lM("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},Ps=class extends Fh{data(e={}){return super.data(e)}},F_=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new eo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ps(this._firestore,this._userDataWriter,r.key,r,new eo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Z(O.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new Ps(i._firestore,i._userDataWriter,a.doc.key,a.doc,new eo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new Ps(i._firestore,i._userDataWriter,a.doc.key,a.doc,new eo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:RB(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function RB(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return oe()}}var Vh=class extends k_{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hc(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Xt(this.firestore,null,n)}};function dM(t,e,n,...r){t=ci(t,Xt);let i=ci(t.firestore,fi),o=sM(i),s;return s=typeof(e=mt(e))=="string"||e instanceof Gs?SB(o,"updateDoc",t._key,e,n,r):TB(o,"updateDoc",t._key,e),i0(i,[s.toMutation(t._key,br.exists(!0))])}function hM(t){return i0(ci(t.firestore,fi),[new Lc(t._key,br.none())])}function fM(t,e){let n=ci(t.firestore,fi),r=e0(t),i=xB(t.converter,e);return i0(n,[DB(sM(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,br.exists(!1))]).then(()=>r)}function r0(t,...e){var n,r,i;t=mt(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||aA(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(aA(e[s])){let p=e[s];e[s]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(t instanceof Xt)l=ci(t.firestore,fi),h=H_(t._key.path),u={next:p=>{e[s]&&e[s](PB(l,t,p))},error:e[s+1],complete:e[s+2]};else{let p=ci(t,xh);l=ci(p.firestore,fi),h=p._query;let m=new Vh(l);u={next:y=>{e[s]&&e[s](new F_(l,m,p,y))},error:e[s+1],complete:e[s+2]},MB(t._query)}return function(m,y,T,N){let R=new A_(N),F=new I_(y,R,T);return m.asyncQueue.enqueueAndForget(()=>S(this,null,function*(){return nB(yield rA(m),F)})),()=>{R.Za(),m.asyncQueue.enqueueAndForget(()=>S(this,null,function*(){return rB(yield rA(m),F)}))}}(iM(l),h,a,u)}function i0(t,e){return function(r,i){let o=new Cr;return r.asyncQueue.enqueueAndForget(()=>S(this,null,function*(){return dB(yield EB(r),i,o)})),o.promise}(iM(t),e)}function PB(t,e,n){let r=n.docs.get(e._key),i=new Vh(t);return new Fh(t,i,e._key,r,new eo(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Ws=i})(gs),En(new Vt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new fi(new cv(r.getProvider("auth-internal")),new hv(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new Z(O.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hh(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Ke(MS,"4.7.3",e),Ke(MS,"4.7.3","esm2017")})();var qh=function(){return qh=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},qh.apply(this,arguments)};var kB={includeMetadataChanges:!1};function pM(t,e){return e===void 0&&(e=kB),new ue(function(n){var r=r0(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function gM(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:qh(qh({},r),(n={},n[e.idField]=t.id,n))}function mM(t){return pM(t,{includeMetadataChanges:!0}).pipe(ie(function(e){return e.docs}))}function yM(t,e){return e===void 0&&(e={}),mM(t).pipe(ie(function(n){return n.map(function(r){return gM(r,e)})}))}var uo=class{constructor(e){return e}},vM="firestore",o0=class{constructor(){return ys(vM)}};var s0=new H("angularfire2.firestore-instances");function FB(t,e){let n=hc(vM,t,e);return n&&new uo(n)}function VB(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new uo(r)}}var LB={provide:o0,deps:[[new Ot,s0]]},UB={provide:uo,useFactory:FB,deps:[[new Ot,s0],Er]};function _M(t,...e){return Ke("angularfire",oi.full,"fst"),gn([UB,LB,{provide:s0,useFactory:VB(t),multi:!0,deps:[Te,ft,qi,Gi,[new Ot,eh],[new Ot,zi],...e]}])}var wM=Bt(yM,!0);var EM=Bt(fM,!0);var a0=Bt(nM,!0);var IM=Bt(hM,!0);var c0=Bt(e0,!0);var CM=Bt(rM,!0);var bM=Bt(dM,!0);var DM=(()=>{let e=class e{constructor(r){this.firestore=r,this.collectionName="products"}getProducts(){let r=a0(this.firestore,this.collectionName);return wM(r,{idField:"id"})}addProduct(r){let i=a0(this.firestore,this.collectionName);return EM(i,r).then(()=>{console.log("Product added successfully!")})}updateProduct(r){let i=c0(this.firestore,`${this.collectionName}/${r.id}`);return bM(i,j({},r))}deleteProduct(r){let i=c0(this.firestore,`${this.collectionName}/${r}`);return IM(i)}};e.\u0275fac=function(i){return new(i||e)(Y(uo))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function $B(t,e){if(t&1&&(D(0,"div",20),P(1),A()),t&2){let n=K(2);V(),Ie(n.nameError)}}function HB(t,e){if(t&1&&(D(0,"div",20),P(1),A()),t&2){let n=K(2);V(),Ie(n.descriptionError)}}function zB(t,e){if(t&1&&(D(0,"div",20),P(1),A()),t&2){let n=K(2);V(),Ie(n.imageUrlError)}}function qB(t,e){if(t&1&&(D(0,"option",21),P(1),A()),t&2){let n=e.$implicit;le("value",n),V(),Ie(n)}}function GB(t,e){if(t&1){let n=Ft();D(0,"form",4),W("ngSubmit",function(){ee(n);let i=K();return te(i.addProduct())}),D(1,"div",5)(2,"label",6),P(3,"\u041D\u0430\u0437\u0432\u0430 \u0442\u043E\u0432\u0430\u0440\u0443"),A(),D(4,"input",7),je("ngModelChange",function(i){ee(n);let o=K();return $e(o.productName,i)||(o.productName=i),te(i)}),W("ngModelChange",function(){ee(n);let i=K();return te(i.onNameChange())}),A(),Fe(5,$B,2,1,"div",8),A(),D(6,"div",5)(7,"label",9),P(8,"\u041E\u043F\u0438\u0441 \u0442\u043E\u0432\u0430\u0440\u0443"),A(),D(9,"textarea",10),je("ngModelChange",function(i){ee(n);let o=K();return $e(o.productDescription,i)||(o.productDescription=i),te(i)}),W("ngModelChange",function(){ee(n);let i=K();return te(i.onDescriptionChange())}),A(),Fe(10,HB,2,1,"div",8),A(),D(11,"div",5)(12,"label",11),P(13,"URL \u043A\u0430\u0440\u0442\u0438\u043D\u043A\u0438 \u0442\u043E\u0432\u0430\u0440\u0443"),A(),D(14,"input",12),je("ngModelChange",function(i){ee(n);let o=K();return $e(o.productImageUrl,i)||(o.productImageUrl=i),te(i)}),W("blur",function(){ee(n);let i=K();return te(i.checkImageUrl())}),A(),Fe(15,zB,2,1,"div",8),A(),D(16,"div",5)(17,"label",13),P(18,"\u0426\u0456\u043D\u0430"),A(),D(19,"input",14),je("ngModelChange",function(i){ee(n);let o=K();return $e(o.productPrice,i)||(o.productPrice=i),te(i)}),A()(),D(20,"div",5)(21,"label",15),P(22,"\u041A\u0430\u0442\u0435\u0433\u043E\u0440\u0456\u044F \u0442\u043E\u0432\u0430\u0440\u0443"),A(),D(23,"select",16),je("ngModelChange",function(i){ee(n);let o=K();return $e(o.productCategory,i)||(o.productCategory=i),te(i)}),Fe(24,qB,2,2,"option",17),A()(),D(25,"button",18),P(26,"\u0414\u043E\u0434\u0430\u0442\u0438 \u0442\u043E\u0432\u0430\u0440"),A(),D(27,"button",19),W("click",function(){ee(n);let i=K();return te(i.cancelEdit())}),P(28,"\u041E\u0447\u0438\u0441\u0442\u0438\u0442\u0438"),A()()}if(t&2){let n=K();V(4),Ue("ngModel",n.productName),V(),le("ngIf",n.nameError),V(4),Ue("ngModel",n.productDescription),V(),le("ngIf",n.descriptionError),V(4),Ue("ngModel",n.productImageUrl),V(),le("ngIf",n.imageUrlError),V(4),Ue("ngModel",n.productPrice),V(4),Ue("ngModel",n.productCategory),V(),le("ngForOf",n.categories),V(),le("disabled",!n.isFormValid())}}function WB(t,e){if(t&1&&(D(0,"div",20),P(1),A()),t&2){let n=K(2);V(),Ie(n.nameError)}}function KB(t,e){if(t&1&&(D(0,"div",20),P(1),A()),t&2){let n=K(2);V(),Ie(n.descriptionError)}}function QB(t,e){if(t&1&&(D(0,"div",20),P(1),A()),t&2){let n=K(2);V(),Ie(n.imageUrlError)}}function YB(t,e){if(t&1&&(D(0,"option",21),P(1),A()),t&2){let n=e.$implicit;le("value",n),V(),Ie(n)}}function JB(t,e){if(t&1){let n=Ft();D(0,"form",4),W("ngSubmit",function(){ee(n);let i=K();return te(i.updateProduct())}),D(1,"h3"),P(2,"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u0442\u043E\u0432\u0430\u0440"),A(),D(3,"div",5)(4,"label",22),P(5,"\u041D\u0430\u0437\u0432\u0430 \u0442\u043E\u0432\u0430\u0440\u0443"),A(),D(6,"input",23),je("ngModelChange",function(i){ee(n);let o=K();return $e(o.productName,i)||(o.productName=i),te(i)}),W("ngModelChange",function(){ee(n);let i=K();return te(i.onNameChange())}),A(),Fe(7,WB,2,1,"div",8),A(),D(8,"div",5)(9,"label",24),P(10,"\u041E\u043F\u0438\u0441 \u0442\u043E\u0432\u0430\u0440\u0443"),A(),D(11,"textarea",25),je("ngModelChange",function(i){ee(n);let o=K();return $e(o.productDescription,i)||(o.productDescription=i),te(i)}),W("ngModelChange",function(){ee(n);let i=K();return te(i.onDescriptionChange())}),A(),Fe(12,KB,2,1,"div",8),A(),D(13,"div",5)(14,"label",26),P(15,"URL \u043A\u0430\u0440\u0442\u0438\u043D\u043A\u0438 \u0442\u043E\u0432\u0430\u0440\u0443"),A(),D(16,"input",27),je("ngModelChange",function(i){ee(n);let o=K();return $e(o.productImageUrl,i)||(o.productImageUrl=i),te(i)}),W("blur",function(){ee(n);let i=K();return te(i.checkImageUrl())}),A(),Fe(17,QB,2,1,"div",8),A(),D(18,"div",5)(19,"label",28),P(20,"\u0426\u0456\u043D\u0430"),A(),D(21,"input",29),je("ngModelChange",function(i){ee(n);let o=K();return $e(o.productPrice,i)||(o.productPrice=i),te(i)}),A()(),D(22,"div",5)(23,"label",30),P(24,"\u041A\u0430\u0442\u0435\u0433\u043E\u0440\u0456\u044F \u0442\u043E\u0432\u0430\u0440\u0443"),A(),D(25,"select",31),je("ngModelChange",function(i){ee(n);let o=K();return $e(o.productCategory,i)||(o.productCategory=i),te(i)}),Fe(26,YB,2,2,"option",17),A()(),D(27,"button",18),P(28,"\u041E\u043D\u043E\u0432\u0438\u0442\u0438 \u0442\u043E\u0432\u0430\u0440"),A(),D(29,"button",19),W("click",function(){ee(n);let i=K();return te(i.cancelEdit())}),P(30,"\u0417\u0430\u043A\u0440\u0438\u0442\u0438"),A()()}if(t&2){let n=K();V(6),Ue("ngModel",n.productName),V(),le("ngIf",n.nameError),V(4),Ue("ngModel",n.productDescription),V(),le("ngIf",n.descriptionError),V(4),Ue("ngModel",n.productImageUrl),V(),le("ngIf",n.imageUrlError),V(4),Ue("ngModel",n.productPrice),V(4),Ue("ngModel",n.productCategory),V(),le("ngForOf",n.categories),V(),le("disabled",!n.isFormValid())}}function ZB(t,e){if(t&1){let n=Ft();D(0,"div",32),fe(1,"img",33),D(2,"h4"),P(3),A(),D(4,"p"),P(5),A(),D(6,"p"),P(7),A(),D(8,"p"),P(9),A(),D(10,"button",34),W("click",function(){let i=ee(n).$implicit,o=K();return te(o.openEditForm(i))}),P(11,"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438"),A(),D(12,"button",35),W("click",function(){let i=ee(n).$implicit,o=K();return te(o.confirmDeleteProduct(i.id))}),P(13,"\u0412\u0438\u0434\u0430\u043B\u0438\u0442\u0438"),A()()}if(t&2){let n=e.$implicit;V(),Ln("alt",n.name),le("src",n.imageUrl,Fn),V(2),Ie(n.name),V(2),Ie(n.description),V(2),Pa("\u0426\u0456\u043D\u0430: ",n.price," $"),V(2),Pa("\u041A\u0430\u0442\u0435\u0433\u043E\u0440\u0456\u044F: ",n.category,"")}}function XB(t,e){if(t&1){let n=Ft();D(0,"div",36)(1,"div",37)(2,"h4"),P(3,"\u041F\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0436\u0435\u043D\u043D\u044F \u0432\u0438\u0434\u0430\u043B\u0435\u043D\u043D\u044F"),A(),D(4,"p"),P(5,"\u0412\u0438 \u0432\u043F\u0435\u0432\u043D\u0435\u043D\u0456, \u0449\u043E \u0445\u043E\u0447\u0435\u0442\u0435 \u0432\u0438\u0434\u0430\u043B\u0438\u0442\u0438 \u0446\u0435\u0439 \u0442\u043E\u0432\u0430\u0440?"),A(),D(6,"button",35),W("click",function(){ee(n);let i=K();return i.deleteProduct(),te(i.closeModal())}),P(7,"\u0422\u0430\u043A"),A(),D(8,"button",38),W("click",function(){ee(n);let i=K();return te(i.closeModal())}),P(9,"\u041D\u0456"),A()()()}}var TM=(()=>{let e=class e{constructor(r){this.adminService=r,this.productName="",this.productDescription="",this.productImageUrl="",this.productPrice=null,this.productCategory="",this.products=[],this.categories=["\u041B\u0456\u0445\u0442\u0430\u0440\u0438\u043A\u0438","\u0420\u043E\u0437\u0443\u043C\u043D\u0456 \u0413\u043E\u0434\u0438\u043D\u043D\u0438\u043A\u0438","\u041D\u0430\u0432\u0443\u0448\u043D\u0438\u043A\u0438","\u0422\u0443\u0440\u0438\u0441\u0442\u0438\u0447\u043D\u0456 \u041A\u0430\u043C\u0435\u0440\u0438","\u041D\u0430\u043C\u0435\u0442\u0438"],this.showModal=!1,this.showEditForm=!1,this.productToDeleteId=null,this.productToEdit=null,this.imageUrlValid=!0,this.nameError="",this.descriptionError="",this.imageUrlError=""}ngOnInit(){this.loadProducts()}addProduct(){if(this.isFormValid()){let r={name:this.productName,description:this.productDescription,imageUrl:this.productImageUrl,price:this.productPrice,category:this.productCategory};this.adminService.addProduct(r).then(()=>{this.loadProducts(),this.resetForm()})}else alert("\u0411\u0443\u0434\u044C \u043B\u0430\u0441\u043A\u0430, \u0437\u0430\u043F\u043E\u0432\u043D\u0456\u0442\u044C \u0443\u0441\u0456 \u043F\u043E\u043B\u044F \u043A\u043E\u0440\u0435\u043A\u0442\u043D\u043E.")}confirmDeleteProduct(r){this.productToDeleteId=r,this.showModal=!0}deleteProduct(){this.productToDeleteId!==null&&this.adminService.deleteProduct(this.productToDeleteId.toString()).then(()=>{this.loadProducts(),this.closeModal()})}openEditForm(r){this.productToEdit=j({},r),this.productName=r.name,this.productDescription=r.description,this.productImageUrl=r.imageUrl,this.productPrice=r.price,this.productCategory=r.category,this.showEditForm=!0}updateProduct(){if(this.isFormValid()){let r={id:this.productToEdit.id,name:this.productName,description:this.productDescription,imageUrl:this.productImageUrl,price:this.productPrice,category:this.productCategory};this.adminService.updateProduct(r).then(()=>{this.loadProducts(),this.resetForm(),this.showEditForm=!1})}else alert("\u0411\u0443\u0434\u044C \u043B\u0430\u0441\u043A\u0430, \u0437\u0430\u043F\u043E\u0432\u043D\u0456\u0442\u044C \u0443\u0441\u0456 \u043F\u043E\u043B\u044F \u043A\u043E\u0440\u0435\u043A\u0442\u043D\u043E.")}closeModal(){this.showModal=!1,this.productToDeleteId=null}cancelEdit(){this.resetForm(),this.showEditForm=!1}loadProducts(){this.adminService.getProducts().subscribe(r=>{this.products=r})}isFormValid(){return this.validateName(this.productName)&&this.validateDescription(this.productDescription)&&this.imageUrlValid&&this.productPrice!==null&&!!this.productCategory}resetForm(){this.productName="",this.productDescription="",this.productImageUrl="",this.productPrice=null,this.productCategory="",this.nameError="",this.descriptionError="",this.imageUrlError=""}checkImageUrl(){this.validateImageUrl(this.productImageUrl).subscribe(r=>{this.imageUrlValid=r,r?this.imageUrlError="":this.imageUrlError="\u041D\u0435\u043A\u043E\u0440\u0435\u043A\u0442\u043D\u0438\u0439 URL \u043A\u0430\u0440\u0442\u0438\u043D\u043A\u0438. \u041F\u0435\u0440\u0435\u0432\u0456\u0440\u0442\u0435 URL \u0456 \u0441\u043F\u0440\u043E\u0431\u0443\u0439\u0442\u0435 \u0449\u0435 \u0440\u0430\u0437."})}validateName(r){return/^[a-zA-Zа-яА-ЯґҐєЄіїІЇ\s+\-,.';]+$/.test(r)}validateDescription(r){return/^[a-zA-Zа-яА-ЯґҐєЄіїІЇ0-9\s+\-,.';]+$/.test(r)}validateImageUrl(r){return new ue(i=>{let o=new Image;return o.onload=()=>{i.next(!0),i.complete()},o.onerror=()=>{i.next(!1),i.complete()},o.src=r,()=>{o.onload=o.onerror=null}}).pipe(bn(()=>G(!1)))}onNameChange(){this.validateName(this.productName)?this.nameError="":this.nameError="\u0412 \u043F\u043E\u043B\u0435 \u0434\u043B\u044F \u0432\u0432\u0435\u0434\u0435\u043D\u043D\u044F \u043D\u0430\u0437\u0432\u0438 \u0442\u043E\u0432\u0430\u0440\u0443 \u043C\u043E\u0436\u043D\u0430 \u0432\u0432\u043E\u0434\u0438\u0442\u0438 \u043B\u0438\u0448\u0435 \u043B\u0456\u0442\u0435\u0440\u0438 (\u0443\u043A\u0440\u0430\u0457\u043D\u0441\u044C\u043A\u0456 \u0442\u0430 \u0430\u043D\u0433\u043B\u0456\u0439\u0441\u044C\u043A\u0456) \u0442\u0430 \u043F\u0440\u043E\u0431\u0456\u043B\u0438!"}onDescriptionChange(){this.validateDescription(this.productDescription)?this.descriptionError="":this.descriptionError="\u0412 \u043F\u043E\u043B\u0456 \u0434\u043B\u044F \u0432\u0432\u0435\u0434\u0435\u043D\u043D\u044F \u043E\u043F\u0438\u0441\u0443 \u0442\u043E\u0432\u0430\u0440\u0443 \u043C\u043E\u0436\u043D\u0430 \u0432\u0432\u043E\u0434\u0438\u0442\u0438 \u043B\u0438\u0448\u0435 \u043B\u0456\u0442\u0435\u0440\u0438 (\u0443\u043A\u0440\u0430\u0457\u043D\u0441\u044C\u043A\u0456 \u0442\u0430 \u0430\u043D\u0433\u043B\u0456\u0439\u0441\u044C\u043A\u0456), \u043F\u0440\u043E\u0431\u0456\u043B\u0438 \u0442\u0430 \u0446\u0438\u0444\u0440\u0438!"}};e.\u0275fac=function(i){return new(i||e)(B(DM))},e.\u0275cmp=Ge({type:e,selectors:[["app-admin"]],standalone:!0,features:[We],decls:7,vars:4,consts:[[1,"container"],[3,"ngSubmit",4,"ngIf"],["class","product-item",4,"ngFor","ngForOf"],["class","modal",4,"ngIf"],[3,"ngSubmit"],[1,"form-group"],["for","productName"],["id","productName","name","productName","placeholder","\u041D\u0430\u0437\u0432\u0430 \u0442\u043E\u0432\u0430\u0440\u0443","required","",1,"form-control",3,"ngModelChange","ngModel"],["class","text-danger",4,"ngIf"],["for","productDescription"],["id","productDescription","name","productDescription","placeholder","\u041E\u043F\u0438\u0441 \u0442\u043E\u0432\u0430\u0440\u0443","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","productImageUrl"],["id","productImageUrl","name","productImageUrl","placeholder","URL \u043A\u0430\u0440\u0442\u0438\u043D\u043A\u0438 \u0442\u043E\u0432\u0430\u0440\u0443","required","",1,"form-control",3,"ngModelChange","blur","ngModel"],["for","productPrice"],["id","productPrice","type","number","name","productPrice","placeholder","\u0426\u0456\u043D\u0430","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","productCategory"],["id","productCategory","name","productCategory","required","",1,"form-control",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["type","submit",1,"btn","btn-success",3,"disabled"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"text-danger"],[3,"value"],["for","editProductName"],["id","editProductName","name","editProductName","placeholder","\u041D\u0430\u0437\u0432\u0430 \u0442\u043E\u0432\u0430\u0440\u0443","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","editProductDescription"],["id","editProductDescription","name","editProductDescription","placeholder","\u041E\u043F\u0438\u0441 \u0442\u043E\u0432\u0430\u0440\u0443","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","editProductImageUrl"],["id","editProductImageUrl","name","editProductImageUrl","placeholder","URL \u043A\u0430\u0440\u0442\u0438\u043D\u043A\u0438 \u0442\u043E\u0432\u0430\u0440\u0443","required","",1,"form-control",3,"ngModelChange","blur","ngModel"],["for","editProductPrice"],["id","editProductPrice","type","number","name","editProductPrice","placeholder","\u0426\u0456\u043D\u0430","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","editProductCategory"],["id","editProductCategory","name","editProductCategory","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"product-item"],[1,"product-image",3,"src","alt"],[1,"btn","btn-warning",3,"click"],[1,"btn","btn-danger",3,"click"],[1,"modal"],[1,"modal-content"],[1,"btn","btn-secondary",3,"click"]],template:function(i,o){i&1&&(D(0,"div",0),Fe(1,GB,29,10,"form",1)(2,JB,31,10,"form",1),D(3,"h3"),P(4,"\u0421\u043F\u0438\u0441\u043E\u043A \u0442\u043E\u0432\u0430\u0440\u0456\u0432"),A(),Fe(5,ZB,14,6,"div",2)(6,XB,10,0,"div",3),A()),i&2&&(V(),le("ngIf",!o.showEditForm),V(),le("ngIf",o.showEditForm),V(3),le("ngForOf",o.products),V(),le("ngIf",o.showModal))},dependencies:[gt,Yr,Jr,zn,bs,Bd,$d,an,ky,Ds,Hn,Cs,Qi,In,Ki],styles:[".container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}.product-item[_ngcontent-%COMP%]{box-sizing:border-box;padding:10px}.product-image[_ngcontent-%COMP%]{width:100px}.btn-success[_ngcontent-%COMP%]{background-color:#28a745;border-color:#28a745}.btn-success[_ngcontent-%COMP%]:hover{background-color:#218838;border-color:#1e7e34}.btn-danger[_ngcontent-%COMP%]{background-color:#dc3545;border-color:#dc3545}.btn-danger[_ngcontent-%COMP%]:hover{background-color:#c82333;border-color:#bd2130}.modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;align-items:center;justify-content:center}.modal-content[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:5px;box-shadow:0 0 10px #0000001a;text-align:center;width:300px;animation:_ngcontent-%COMP%_zoomIn .3s ease-in}.modal-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-top:0}.modal-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:10px}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_zoomIn{0%{transform:scale(.7);opacity:0}to{transform:scale(1);opacity:1}}@keyframes _ngcontent-%COMP%_fadeOut{0%{opacity:1}to{opacity:0}}.fade-out[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeOut .3s ease-out}@media (max-width: 768px){.container[_ngcontent-%COMP%]{padding:10px}.product-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;text-align:center;margin-bottom:15px}.product-image[_ngcontent-%COMP%]{max-width:80%;height:auto;margin:0 0 10px}.modal-content[_ngcontent-%COMP%]{width:90%;max-width:400px;padding:15px}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.btn[_ngcontent-%COMP%]{width:100%;margin-bottom:10px}}@media (min-width: 769px) and (max-width: 1024px){.container[_ngcontent-%COMP%]{padding:15px}.product-item[_ngcontent-%COMP%]{flex-direction:row}.product-image[_ngcontent-%COMP%]{max-width:100px;height:auto;margin-right:15px}.modal-content[_ngcontent-%COMP%]{width:80%;max-width:500px;padding:20px}.btn[_ngcontent-%COMP%]{margin:5px}}.form-control[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;margin-bottom:10px}.btn[_ngcontent-%COMP%]{width:auto;padding:10px 20px}h3[_ngcontent-%COMP%]{font-size:1.5rem}.product-item[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.2rem}p[_ngcontent-%COMP%]{font-size:.9rem}.btn-success[_ngcontent-%COMP%], .btn-danger[_ngcontent-%COMP%], .btn-warning[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%]{padding:8px 16px;font-size:.9rem}"]});let t=e;return t})();var SM=(()=>{let e=class e{constructor(){this.firstDigit="4",this.secondDigit="0",this.thirdDigit="4"}randomNum(){return Math.floor(Math.random()*9)+1}ngOnInit(){let r=0,i=30,o=setInterval(()=>{r>40?(clearInterval(o),this.thirdDigit="4"):(this.thirdDigit=this.randomNum().toString(),r++)},i),s=setInterval(()=>{r>80?(clearInterval(s),this.secondDigit="0"):(this.secondDigit=this.randomNum().toString(),r++)},i),a=setInterval(()=>{r>100?(clearInterval(a),this.firstDigit="4"):(this.firstDigit=this.randomNum().toString(),r++)},i)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ge({type:e,selectors:[["app-not-found"]],standalone:!0,features:[We],decls:22,vars:3,consts:[[1,"error","d-flex","justify-content-center","align-items-center","vh-50","bg-light"],[1,"container","text-center"],[1,"container-error-404"],[1,"clip"],[1,"shadow"],[1,"digit","thirdDigit"],[1,"digit","secondDigit"],[1,"digit","firstDigit"],[1,"msg"],[1,"triangle"],[1,"h1"],["routerLink","/",1,"btn","btn-primary"]],template:function(i,o){i&1&&(D(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"span",5),P(6),A()()(),D(7,"div",3)(8,"div",4)(9,"span",6),P(10),A()()(),D(11,"div",3)(12,"div",4)(13,"span",7),P(14),A()()(),D(15,"div",8),P(16,"OH!"),fe(17,"span",9),A()(),D(18,"h2",10),P(19,"\u0412\u0438\u0431\u0430\u0447\u0442\u0435! \u0421\u0442\u043E\u0440\u0456\u043D\u043A\u0430 \u043D\u0435 \u0437\u043D\u0430\u0439\u0434\u0435\u043D\u0430."),A(),D(20,"a",11),P(21,"\u041F\u0435\u0440\u0435\u0439\u0442\u0438 \u043D\u0430 \u0433\u043E\u043B\u043E\u0432\u043D\u0443"),A()()()),i&2&&(V(6),Ie(o.thirdDigit),V(4),Ie(o.secondDigit),V(4),Ie(o.firstDigit))},dependencies:[gt,cs,ss],styles:['*[_ngcontent-%COMP%]{font-family:PT Sans Caption,sans-serif,arial,Times New Roman;box-sizing:border-box}.error[_ngcontent-%COMP%]{background-color:#f8f9fa}.error[_ngcontent-%COMP%]   .container-error-404[_ngcontent-%COMP%]{position:relative;height:250px;padding-top:40px;text-align:center}.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]{display:inline-block;transform:skew(-45deg)}.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]   .shadow[_ngcontent-%COMP%]{height:180px;overflow:hidden}.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]:nth-of-type(2)   .shadow[_ngcontent-%COMP%]{width:130px;position:relative;box-shadow:inset 20px 0 20px -15px #969696cc,20px 0 20px -15px #969696cc}.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]:nth-of-type(3)   .shadow[_ngcontent-%COMP%]:after, .error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]:nth-of-type(1)   .shadow[_ngcontent-%COMP%]:after{content:"";position:absolute;right:-8px;bottom:0;z-index:9999;height:100%;width:10px;background:linear-gradient(90deg,transparent,rgba(173,173,173,.8),transparent);border-radius:50%}.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]:nth-of-type(3)   .shadow[_ngcontent-%COMP%]:after{left:-8px}.error[_ngcontent-%COMP%]   .digit[_ngcontent-%COMP%]{width:150px;height:150px;line-height:150px;font-size:120px;font-weight:700;color:#fff;background:#07b3f9;border-radius:50%;display:inline-block;transform:skew(45deg)}.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]:nth-of-type(2)   .digit[_ngcontent-%COMP%]{left:-10%}.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]:nth-of-type(1)   .digit[_ngcontent-%COMP%]{right:-20%}.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]:nth-of-type(3)   .digit[_ngcontent-%COMP%]{left:-20%}.error[_ngcontent-%COMP%]   .msg[_ngcontent-%COMP%]{position:relative;z-index:9999;background:#535353;color:#a2a2a2;border-radius:50%;font-style:italic;display:block;width:80px;height:80px;line-height:80px;font-size:32px;top:-190px;left:30%}.error[_ngcontent-%COMP%]   span.triangle[_ngcontent-%COMP%]{position:absolute;z-index:999;transform:rotate(45deg);content:"";width:0;height:0;border-left:20px solid #535353;border-top:15px solid transparent;border-bottom:15px solid transparent;top:70%;right:0}.error[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#a2a2a2;font-weight:700;padding-bottom:20px;font-size:32px}.error[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;font-weight:700}.error[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}@media (max-width: 767px){.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]   .shadow[_ngcontent-%COMP%]{height:100px}.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]:nth-of-type(2)   .shadow[_ngcontent-%COMP%]{width:80px}.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]:nth-of-type(1)   .shadow[_ngcontent-%COMP%], .error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]:nth-of-type(3)   .shadow[_ngcontent-%COMP%]{width:100px}.error[_ngcontent-%COMP%]   .digit[_ngcontent-%COMP%]{width:80px;height:80px;line-height:80px;font-size:52px}.error[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px}.error[_ngcontent-%COMP%]   .msg[_ngcontent-%COMP%]{top:-110px;left:15%;width:40px;height:40px;line-height:40px;font-size:18px}.error[_ngcontent-%COMP%]   span.triangle[_ngcontent-%COMP%]{border-left:10px solid #535353;border-top:8px solid transparent;border-bottom:8px solid transparent}.error[_ngcontent-%COMP%]   .container-error-404[_ngcontent-%COMP%]{height:150px}}']});let t=e;return t})();function e$(t,e){if(t&1&&(D(0,"p",10),P(1),A()),t&2){let n=K();V(),Ie(n.errorMessage)}}var AM=(()=>{let e=class e{constructor(r){this.router=r,this.username="",this.password="",this.errorMessage=""}login(){this.username==="admin"&&this.password==="admin"?this.router.navigate(["/admin"]):this.errorMessage="\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u043B\u043E\u0433\u0456\u043D \u0430\u0431\u043E \u043F\u0430\u0440\u043E\u043B\u044C"}};e.\u0275fac=function(i){return new(i||e)(B(ut))},e.\u0275cmp=Ge({type:e,selectors:[["app-admin-login"]],standalone:!0,features:[We],decls:14,vars:3,consts:[[1,"login-container"],[1,"login-form",3,"ngSubmit"],["src","./icons/logo.png","alt","Logo",1,"logo"],[1,"form-group"],["for","username"],["id","username","name","username","placeholder","\u041B\u043E\u0433\u0456\u043D","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","password"],["id","password","type","password","name","password","placeholder","\u041F\u0430\u0440\u043E\u043B\u044C","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-success"],["class","text-danger",4,"ngIf"],[1,"text-danger"]],template:function(i,o){i&1&&(D(0,"div",0)(1,"form",1),W("ngSubmit",function(){return o.login()}),fe(2,"img",2),D(3,"div",3)(4,"label",4),P(5,"\u041B\u043E\u0433\u0456\u043D"),A(),D(6,"input",5),je("ngModelChange",function(a){return $e(o.username,a)||(o.username=a),a}),A()(),D(7,"div",3)(8,"label",6),P(9,"\u041F\u0430\u0440\u043E\u043B\u044C"),A(),D(10,"input",7),je("ngModelChange",function(a){return $e(o.password,a)||(o.password=a),a}),A()(),D(11,"button",8),P(12,"\u0412\u0445\u0456\u0434"),A(),Fe(13,e$,2,1,"p",9),A()()),i&2&&(V(6),Ue("ngModel",o.username),V(4),Ue("ngModel",o.password),V(3),le("ngIf",o.errorMessage))},dependencies:[gt,Jr,zn,bs,an,Hn,Cs,Qi,In,Ki],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:70vh;background-color:#f8f9fa}.login-form[_ngcontent-%COMP%]{background:#fff;padding:2rem;border-radius:8px;box-shadow:0 0 10px #0000001a;text-align:center}.logo[_ngcontent-%COMP%]{max-width:100px;margin-bottom:1rem}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.btn-success[_ngcontent-%COMP%]{background-color:#28a745;border-color:#28a745}.btn-success[_ngcontent-%COMP%]:hover{background-color:#218838;border-color:#1e7e34}"]});let t=e;return t})();var MM=[{path:"",component:sS},{path:"header",component:_d},{path:"cart",component:aS},{path:"product/:id",component:cS},{path:"admin-login",component:AM},{path:"admin",component:TM},{path:"**",component:SM}];var xM={production:!1,firebase:{apiKey:"AIzaSyCDXEjp5yiLttF-2eUZKNHH6z3Y755yws8",authDomain:"hiking-equipment-store.firebaseapp.com",databaseURL:"https://hiking-equipment-store-default-rtdb.europe-west1.firebasedatabase.app",projectId:"hiking-equipment-store",storageBucket:"hiking-equipment-store.appspot.com",messagingSenderId:"553591568312",appId:"1:553591568312:web:c4e43771d9e053d6d6814d",measurementId:"G-C3M4EFX3LH"}};Fb(PT,{providers:[TD(MM),nm(),aT(()=>cT(xM.firebase)),_M(()=>CM()),MT(()=>RT(void 0,{provider:new xd("6LeykZMqAAAAAFddpBQyGNnkKElOUDDIMdroXsYV"),isTokenAutoRefreshEnabled:!0}))]}).catch(t=>console.error(t));
