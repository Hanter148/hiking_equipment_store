var Zx=Object.defineProperty,Xx=Object.defineProperties;var eR=Object.getOwnPropertyDescriptors;var Jw=Object.getOwnPropertySymbols;var tR=Object.prototype.hasOwnProperty,nR=Object.prototype.propertyIsEnumerable;var Zw=(t,e,n)=>e in t?Zx(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,j=(t,e)=>{for(var n in e||={})tR.call(e,n)&&Zw(t,n,e[n]);if(Jw)for(var n of Jw(e))nR.call(e,n)&&Zw(t,n,e[n]);return t},we=(t,e)=>Xx(t,eR(e));var S=(t,e,n)=>new Promise((r,i)=>{var o=u=>{try{a(n.next(u))}catch(l){i(l)}},s=u=>{try{a(n.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((n=n.apply(t,e)).next())});var Yf=null;var Qf=1,Jf=Symbol("SIGNAL");function Se(t){let e=Yf;return Yf=t,e}function Xw(){return Yf}var Zf={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function rR(t){if(!(rp(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Qf)){if(!t.producerMustRecompute(t)&&!ep(t)){t.dirty=!1,t.lastCleanEpoch=Qf;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Qf}}function Xf(t){return t&&(t.nextProducerIndex=0),Se(t)}function eE(t,e){if(Se(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(rp(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)np(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function ep(t){ip(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(rR(n),r!==n.version))return!0}return!1}function tp(t){if(ip(t),rp(t))for(let e=0;e<t.producerNode.length;e++)np(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function np(t,e){if(iR(t),t.liveConsumerNode.length===1&&oR(t))for(let r=0;r<t.producerNode.length;r++)np(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];ip(i),i.producerIndexOfThis[r]=e}}function rp(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function ip(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function iR(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function oR(t){return t.producerNode!==void 0}function sR(){throw new Error}var aR=sR;function tE(t){aR=t}function ce(t){return typeof t=="function"}function No(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Nu=No(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Oi(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var We=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(ce(r))try{r()}catch(o){e=o instanceof Nu?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{nE(o)}catch(s){e=e??[],s instanceof Nu?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Nu(e)}}add(e){var n;if(e&&e!==this)if(this.closed)nE(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Oi(n,e)}remove(e){let{_finalizers:n}=this;n&&Oi(n,e),e instanceof t&&e._removeParent(this)}};We.EMPTY=(()=>{let t=new We;return t.closed=!0,t})();var op=We.EMPTY;function Ou(t){return t instanceof We||t&&"closed"in t&&ce(t.remove)&&ce(t.add)&&ce(t.unsubscribe)}function nE(t){ce(t)?t():t.unsubscribe()}var En={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Oo={setTimeout(t,e,...n){let{delegate:r}=Oo;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Oo;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function ku(t){Oo.setTimeout(()=>{let{onUnhandledError:e}=En;if(e)e(t);else throw t})}function Oa(){}var rE=sp("C",void 0,void 0);function iE(t){return sp("E",void 0,t)}function oE(t){return sp("N",t,void 0)}function sp(t,e,n){return{kind:t,value:e,error:n}}var ki=null;function ko(t){if(En.useDeprecatedSynchronousErrorHandling){let e=!ki;if(e&&(ki={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=ki;if(ki=null,n)throw r}}else t()}function sE(t){En.useDeprecatedSynchronousErrorHandling&&ki&&(ki.errorThrown=!0,ki.error=t)}var Fi=class extends We{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Ou(e)&&e.add(this)):this.destination=lR}static create(e,n,r){return new Fo(e,n,r)}next(e){this.isStopped?cp(oE(e),this):this._next(e)}error(e){this.isStopped?cp(iE(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?cp(rE,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},cR=Function.prototype.bind;function ap(t,e){return cR.call(t,e)}var up=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Fu(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Fu(r)}else Fu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Fu(n)}}},Fo=class extends Fi{constructor(e,n,r){super();let i;if(ce(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&En.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&ap(e.next,o),error:e.error&&ap(e.error,o),complete:e.complete&&ap(e.complete,o)}):i=e}this.destination=new up(i)}};function Fu(t){En.useDeprecatedSynchronousErrorHandling?sE(t):ku(t)}function uR(t){throw t}function cp(t,e){let{onStoppedNotification:n}=En;n&&Oo.setTimeout(()=>n(t,e))}var lR={closed:!0,next:Oa,error:uR,complete:Oa};var Vo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Zt(t){return t}function Vu(...t){return lp(t)}function lp(t){return t.length===0?Zt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var le=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=hR(n)?n:new Fo(n,r,i);return ko(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=aE(r),new r((i,o)=>{let s=new Fo({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Vo](){return this}pipe(...n){return lp(n)(this)}toPromise(n){return n=aE(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function aE(t){var e;return(e=t??En.Promise)!==null&&e!==void 0?e:Promise}function dR(t){return t&&ce(t.next)&&ce(t.error)&&ce(t.complete)}function hR(t){return t&&t instanceof Fi||dR(t)&&Ou(t)}function dp(t){return ce(t?.lift)}function Ie(t){return e=>{if(dp(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ye(t,e,n,r,i){return new hp(t,e,n,r,i)}var hp=class extends Fi{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Lo(){return Ie((t,e)=>{let n=null;t._refCount++;let r=ye(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var jo=class extends le{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,dp(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new We;let n=this.getSubject();e.add(this.source.subscribe(ye(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=We.EMPTY)}return e}refCount(){return Lo()(this)}};var cE=No(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ft=(()=>{class t extends le{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Lu(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new cE}next(n){ko(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){ko(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){ko(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?op:(this.currentObservers=null,o.push(n),new We(()=>{this.currentObservers=null,Oi(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new le;return n.source=this,n}}return t.create=(e,n)=>new Lu(e,n),t})(),Lu=class extends ft{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:op}};var ut=class extends ft{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var fp={now(){return(fp.delegate||Date).now()},delegate:void 0};var ju=class extends We{constructor(e,n){super()}schedule(e,n=0){return this}};var ka={setInterval(t,e,...n){let{delegate:r}=ka;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=ka;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Uo=class extends ju{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return ka.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&ka.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Oi(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Bo=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Bo.now=fp.now;var $o=class extends Bo{constructor(e,n=Bo.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Uu=new $o(Uo),pp=Uu;var Bu=class extends Uo{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var $u=class extends $o{};var gp=new $u(Bu);var Xt=new le(t=>t.complete());function Hu(t){return t&&ce(t.schedule)}function uE(t){return t[t.length-1]}function zu(t){return ce(uE(t))?t.pop():void 0}function Wr(t){return Hu(uE(t))?t.pop():void 0}function mp(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function dE(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function lE(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Vi(t){return this instanceof Vi?(this.v=t,this):new Vi(t)}function hE(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i={},a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(D){return Promise.resolve(D).then(y,p)}}function a(y,D){r[y]&&(i[y]=function(P){return new Promise(function(x,F){o.push([y,P,x,F])>1||u(y,P)})},D&&(i[y]=D(i[y])))}function u(y,D){try{l(r[y](D))}catch(P){m(o[0][3],P)}}function l(y){y.value instanceof Vi?Promise.resolve(y.value.v).then(h,p):m(o[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function m(y,D){y(D),o.shift(),o.length&&u(o[0][0],o[0][1])}}function fE(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof lE=="function"?lE(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var qu=t=>t&&typeof t.length=="number"&&typeof t!="function";function Gu(t){return ce(t?.then)}function Wu(t){return ce(t[Vo])}function Ku(t){return Symbol.asyncIterator&&ce(t?.[Symbol.asyncIterator])}function Qu(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function fR(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Yu=fR();function Ju(t){return ce(t?.[Yu])}function Zu(t){return hE(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Vi(n.read());if(i)return yield Vi(void 0);yield yield Vi(r)}}finally{n.releaseLock()}})}function Xu(t){return ce(t?.getReader)}function nt(t){if(t instanceof le)return t;if(t!=null){if(Wu(t))return pR(t);if(qu(t))return gR(t);if(Gu(t))return mR(t);if(Ku(t))return pE(t);if(Ju(t))return yR(t);if(Xu(t))return vR(t)}throw Qu(t)}function pR(t){return new le(e=>{let n=t[Vo]();if(ce(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function gR(t){return new le(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function mR(t){return new le(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,ku)})}function yR(t){return new le(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function pE(t){return new le(e=>{_R(t,e).catch(n=>e.error(n))})}function vR(t){return pE(Zu(t))}function _R(t,e){var n,r,i,o;return dE(this,void 0,void 0,function*(){try{for(n=fE(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function Gt(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Kr(t,e=0){return Ie((n,r)=>{n.subscribe(ye(r,i=>Gt(r,t,()=>r.next(i),e),()=>Gt(r,t,()=>r.complete(),e),i=>Gt(r,t,()=>r.error(i),e)))})}function Qr(t,e=0){return Ie((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function gE(t,e){return nt(t).pipe(Qr(e),Kr(e))}function mE(t,e){return nt(t).pipe(Qr(e),Kr(e))}function yE(t,e){return new le(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function vE(t,e){return new le(n=>{let r;return Gt(n,e,()=>{r=t[Yu](),Gt(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>ce(r?.return)&&r.return()})}function el(t,e){if(!t)throw new Error("Iterable cannot be null");return new le(n=>{Gt(n,e,()=>{let r=t[Symbol.asyncIterator]();Gt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function _E(t,e){return el(Zu(t),e)}function wE(t,e){if(t!=null){if(Wu(t))return gE(t,e);if(qu(t))return yE(t,e);if(Gu(t))return mE(t,e);if(Ku(t))return el(t,e);if(Ju(t))return vE(t,e);if(Xu(t))return _E(t,e)}throw Qu(t)}function ke(t,e){return e?wE(t,e):nt(t)}function J(...t){let e=Wr(t);return ke(t,e)}function Ho(t,e){let n=ce(t)?t:()=>t,r=i=>i.error(n());return new le(e?i=>e.schedule(r,0,i):r)}function yp(t){return!!t&&(t instanceof le||ce(t.lift)&&ce(t.subscribe))}var dr=No(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function EE(t){return t instanceof Date&&!isNaN(t)}function te(t,e){return Ie((n,r)=>{let i=0;n.subscribe(ye(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:wR}=Array;function ER(t,e){return wR(e)?t(...e):t(e)}function tl(t){return te(e=>ER(t,e))}var{isArray:IR}=Array,{getPrototypeOf:CR,prototype:bR,keys:DR}=Object;function nl(t){if(t.length===1){let e=t[0];if(IR(e))return{args:e,keys:null};if(TR(e)){let n=DR(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function TR(t){return t&&typeof t=="object"&&CR(t)===bR}function rl(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Fa(...t){let e=Wr(t),n=zu(t),{args:r,keys:i}=nl(t);if(r.length===0)return ke([],e);let o=new le(SR(r,e,i?s=>rl(i,s):Zt));return n?o.pipe(tl(n)):o}function SR(t,e,n=Zt){return r=>{IE(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)IE(e,()=>{let l=ke(t[u],e),h=!1;l.subscribe(ye(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function IE(t,e,n){t?Gt(n,t,e):e()}function CE(t,e,n,r,i,o,s,a){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},y=P=>l<r?D(P):u.push(P),D=P=>{o&&e.next(P),l++;let x=!1;nt(n(P,h++)).subscribe(ye(e,F=>{i?.(F),o?y(F):e.next(F)},()=>{x=!0},void 0,()=>{if(x)try{for(l--;u.length&&l<r;){let F=u.shift();s?Gt(e,s,()=>D(F)):D(F)}m()}catch(F){e.error(F)}}))};return t.subscribe(ye(e,y,()=>{p=!0,m()})),()=>{a?.()}}function rt(t,e,n=1/0){return ce(e)?rt((r,i)=>te((o,s)=>e(r,o,i,s))(nt(t(r,i))),n):(typeof e=="number"&&(n=e),Ie((r,i)=>CE(r,i,t,n)))}function Yr(t=1/0){return rt(Zt,t)}function bE(){return Yr(1)}function zo(...t){return bE()(ke(t,Wr(t)))}function il(t){return new le(e=>{nt(t()).subscribe(e)})}function vp(...t){let e=zu(t),{args:n,keys:r}=nl(t),i=new le(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;nt(n[h]).subscribe(ye(o,m=>{p||(p=!0,l--),a[h]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?rl(r,a):a),o.complete())}))}});return e?i.pipe(tl(e)):i}function _p(t=0,e,n=pp){let r=-1;return e!=null&&(Hu(e)?n=e:r=e),new le(i=>{let o=EE(t)?+t-n.now():t;o<0&&(o=0);let s=0;return n.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function Vt(t,e){return Ie((n,r)=>{let i=0;n.subscribe(ye(r,o=>t.call(e,o,i++)&&r.next(o)))})}function Jr(t){return Ie((e,n)=>{let r=null,i=!1,o;r=e.subscribe(ye(n,void 0,void 0,s=>{o=nt(t(s,Jr(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function DE(t,e,n,r,i){return(o,s)=>{let a=n,u=e,l=0;o.subscribe(ye(s,h=>{let p=l++;u=a?t(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function hr(t,e){return ce(e)?rt(t,e,1):rt(t,1)}function Zr(t){return Ie((e,n)=>{let r=!1;e.subscribe(ye(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function fr(t){return t<=0?()=>Xt:Ie((e,n)=>{let r=0;e.subscribe(ye(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function wp(t){return te(()=>t)}function ol(t=AR){return Ie((e,n)=>{let r=!1;e.subscribe(ye(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function AR(){return new dr}function Xr(t){return Ie((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function kn(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Vt((i,o)=>t(i,o,r)):Zt,fr(1),n?Zr(e):ol(()=>new dr))}function qo(t){return t<=0?()=>Xt:Ie((e,n)=>{let r=[];e.subscribe(ye(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Ep(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Vt((i,o)=>t(i,o,r)):Zt,qo(1),n?Zr(e):ol(()=>new dr))}function sl(t,e){return Ie(DE(t,e,arguments.length>=2,!0))}function al(...t){let e=Wr(t);return Ie((n,r)=>{(e?zo(t,n,e):zo(t,n)).subscribe(r)})}function Wt(t,e){return Ie((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(ye(r,u=>{i?.unsubscribe();let l=0,h=o++;nt(t(u,h)).subscribe(i=ye(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Ip(t){return Ie((e,n)=>{nt(t).subscribe(ye(n,()=>n.complete(),Oa)),!n.closed&&e.subscribe(n)})}function it(t,e,n){let r=ce(t)||e||n?{next:t,error:e,complete:n}:t;return r?Ie((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(ye(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Zt}var hI="https://g.co/ng/security#xss",G=class extends Error{constructor(e,n){super(Bl(e,n)),this.code=e}};function Bl(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function qa(t){return{toString:t}.toString()}var cl="__parameters__";function MR(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function fI(t,e,n){return qa(()=>{let r=MR(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(cl)?u[cl]:Object.defineProperty(u,cl,{value:[]})[cl];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var pr=globalThis;function Fe(t){for(let e in t)if(t[e]===Fe)return e;throw Error("Could not find renamed property on target object.")}function xR(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function jt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(jt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function TE(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var RR=Fe({__forward_ref__:Fe});function Hn(t){return t.__forward_ref__=Hn,t.toString=function(){return jt(this())},t}function Lt(t){return pI(t)?t():t}function pI(t){return typeof t=="function"&&t.hasOwnProperty(RR)&&t.__forward_ref__===Hn}function H(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function zn(t){return{providers:t.providers||[],imports:t.imports||[]}}function $l(t){return SE(t,mI)||SE(t,yI)}function gI(t){return $l(t)!==null}function SE(t,e){return t.hasOwnProperty(e)?t[e]:null}function PR(t){let e=t&&(t[mI]||t[yI]);return e||null}function AE(t){return t&&(t.hasOwnProperty(ME)||t.hasOwnProperty(NR))?t[ME]:null}var mI=Fe({\u0275prov:Fe}),ME=Fe({\u0275inj:Fe}),yI=Fe({ngInjectableDef:Fe}),NR=Fe({ngInjectorDef:Fe}),$=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=H({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function vI(t){return t&&!!t.\u0275providers}var OR=Fe({\u0275cmp:Fe}),kR=Fe({\u0275dir:Fe}),FR=Fe({\u0275pipe:Fe}),VR=Fe({\u0275mod:Fe}),vl=Fe({\u0275fac:Fe}),Va=Fe({__NG_ELEMENT_ID__:Fe}),xE=Fe({__NG_ENV_ID__:Fe});function Jo(t){return typeof t=="string"?t:t==null?"":String(t)}function LR(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Jo(t)}function jR(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new G(-200,t)}function Pg(t,e){throw new G(-201,!1)}var ge=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ge||{}),Lp;function _I(){return Lp}function Kt(t){let e=Lp;return Lp=t,e}function wI(t,e,n){let r=$l(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&ge.Optional)return null;if(e!==void 0)return e;Pg(t,"Injector")}var UR={},La=UR,jp="__NG_DI_FLAG__",_l="ngTempTokenPath",BR="ngTokenPath",$R=/\n/gm,HR="\u0275",RE="__source",Qo;function zR(){return Qo}function ei(t){let e=Qo;return Qo=t,e}function qR(t,e=ge.Default){if(Qo===void 0)throw new G(-203,!1);return Qo===null?wI(t,void 0,e):Qo.get(t,e&ge.Optional?null:void 0,e)}function W(t,e=ge.Default){return(_I()||qR)(Lt(t),e)}function k(t,e=ge.Default){return W(t,Hl(e))}function Hl(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Up(t){let e=[];for(let n=0;n<t.length;n++){let r=Lt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new G(900,!1);let i,o=ge.Default;for(let s=0;s<r.length;s++){let a=r[s],u=GR(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(W(i,o))}else e.push(W(r))}return e}function EI(t,e){return t[jp]=e,t.prototype[jp]=e,t}function GR(t){return t[jp]}function WR(t,e,n,r){let i=t[_l];throw e[RE]&&i.unshift(e[RE]),t.message=KR(`
`+t.message,i,n,r),t[BR]=i,t[_l]=null,t}function KR(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==HR?t.slice(2):t;let i=jt(e);if(Array.isArray(e))i=e.map(jt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):jt(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace($R,`
  `)}`}var Ut=EI(fI("Optional"),8);var Ng=EI(fI("SkipSelf"),4);function Bi(t,e){let n=t.hasOwnProperty(vl);return n?t[vl]:null}function QR(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function YR(t){return t.flat(Number.POSITIVE_INFINITY)}function Og(t,e){t.forEach(n=>Array.isArray(n)?Og(n,e):e(n))}function II(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function wl(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function JR(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function ZR(t,e,n){let r=Ga(t,e);return r>=0?t[r|1]=n:(r=~r,JR(t,r,e,n)),r}function Cp(t,e){let n=Ga(t,e);if(n>=0)return t[n|1]}function Ga(t,e){return XR(t,e,1)}function XR(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var Zo={},un=[],Xo=new $(""),CI=new $("",-1),bI=new $(""),El=class{get(e,n=La){if(n===La){let r=new Error(`NullInjectorError: No provider for ${jt(e)}!`);throw r.name="NullInjectorError",r}return n}},DI=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(DI||{}),Ln=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Ln||{}),es=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(es||{});function eP(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function Bp(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];tP(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function TI(t){return t===3||t===4||t===6}function tP(t){return t.charCodeAt(0)===64}function ja(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?PE(t,n,i,null,e[++r]):PE(t,n,i,null,null))}}return t}function PE(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var SI="ng-template";function nP(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&eP(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(kg(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function kg(t){return t.type===4&&t.value!==SI}function rP(t,e,n){let r=t.type===4&&!n?SI:t.value;return e===r}function iP(t,e,n){let r=4,i=t.attrs,o=i!==null?aP(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!In(r)&&!In(u))return!1;if(s&&In(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!rP(t,u,n)||u===""&&e.length===1){if(In(r))return!1;s=!0}}else if(r&8){if(i===null||!nP(t,i,u,n)){if(In(r))return!1;s=!0}}else{let l=e[++a],h=oP(u,i,kg(t),n);if(h===-1){if(In(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(In(r))return!1;s=!0}}}}return In(r)||s}function In(t){return(t&1)===0}function oP(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return cP(e,t)}function sP(t,e,n=!1){for(let r=0;r<e.length;r++)if(iP(t,e[r],n))return!0;return!1}function aP(t){for(let e=0;e<t.length;e++){let n=t[e];if(TI(n))return e}return t.length}function cP(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function NE(t,e){return t?":not("+e.trim()+")":e}function uP(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!In(s)&&(e+=NE(o,i),i=""),r=s,o=o||!In(r);n++}return i!==""&&(e+=NE(o,i)),e}function lP(t){return t.map(uP).join(",")}function dP(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!In(i))break;i=o}r++}return{attrs:e,classes:n}}function Qe(t){return qa(()=>{let e=PI(t),n=we(j({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===DI.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Ln.Emulated,styles:t.styles||un,_:null,schemas:t.schemas||null,tView:null,id:""});NI(n);let r=t.dependencies;return n.directiveDefs=kE(r,!1),n.pipeDefs=kE(r,!0),n.id=pP(n),n})}function hP(t){return ii(t)||AI(t)}function fP(t){return t!==null}function qn(t){return qa(()=>({type:t.type,bootstrap:t.bootstrap||un,declarations:t.declarations||un,imports:t.imports||un,exports:t.exports||un,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function OE(t,e){if(t==null)return Zo;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=es.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==es.None?[r,a]:r,e[o]=s):n[o]=r}return n}function Be(t){return qa(()=>{let e=PI(t);return NI(e),e})}function Fg(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function ii(t){return t[OR]||null}function AI(t){return t[kR]||null}function MI(t){return t[FR]||null}function xI(t){let e=ii(t)||AI(t)||MI(t);return e!==null?e.standalone:!1}function RI(t,e){let n=t[VR]||null;if(!n&&e===!0)throw new Error(`Type ${jt(t)} does not have '\u0275mod' property.`);return n}function PI(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Zo,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||un,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:OE(t.inputs,e),outputs:OE(t.outputs),debugInfo:null}}function NI(t){t.features?.forEach(e=>e(t))}function kE(t,e){if(!t)return null;let n=e?MI:hP;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(fP)}function pP(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Dn(t){return{\u0275providers:t}}function gP(...t){return{\u0275providers:OI(!0,t),\u0275fromNgModule:!0}}function OI(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return Og(e,s=>{let a=s;$p(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&kI(i,o),n}function kI(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Vg(i,o=>{e(o,r)})}}function $p(t,e,n,r){if(t=Lt(t),!t)return!1;let i=null,o=AE(t),s=!o&&ii(t);if(!o&&!s){let u=t.ngModule;if(o=AE(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)$p(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{Og(o.imports,h=>{$p(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&kI(l,e)}if(!a){let l=Bi(i)||(()=>new i);e({provide:i,useFactory:l,deps:un},i),e({provide:bI,useValue:i,multi:!0},i),e({provide:Xo,useValue:()=>W(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=t;Vg(u,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Vg(t,e){for(let n of t)vI(n)&&(n=n.\u0275providers),Array.isArray(n)?Vg(n,e):e(n)}var mP=Fe({provide:String,useValue:Fe});function FI(t){return t!==null&&typeof t=="object"&&mP in t}function yP(t){return!!(t&&t.useExisting)}function vP(t){return!!(t&&t.useFactory)}function ts(t){return typeof t=="function"}function _P(t){return!!t.useClass}var zl=new $(""),hl={},wP={},bp;function Lg(){return bp===void 0&&(bp=new El),bp}var At=class{},Ua=class extends At{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,zp(e,s=>this.processProvider(s)),this.records.set(CI,Go(void 0,this)),i.has("environment")&&this.records.set(At,Go(void 0,this));let o=this.records.get(zl);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(bI,un,ge.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Se(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Se(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=ei(this),r=Kt(void 0),i;try{return e()}finally{ei(n),Kt(r)}}get(e,n=La,r=ge.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(xE))return e[xE](this);r=Hl(r);let i,o=ei(this),s=Kt(void 0);try{if(!(r&ge.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=DP(e)&&$l(e);l&&this.injectableDefInScope(l)?u=Go(Hp(e),hl):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&ge.Self?Lg():this.parent;return n=r&ge.Optional&&n===La?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[_l]=a[_l]||[]).unshift(jt(e)),o)throw a;return WR(a,e,"R3InjectorError",this.source)}else throw a}finally{Kt(s),ei(o)}}resolveInjectorInitializers(){let e=Se(null),n=ei(this),r=Kt(void 0),i;try{let o=this.get(Xo,un,ge.Self);for(let s of o)s()}finally{ei(n),Kt(r),Se(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(jt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new G(205,!1)}processProvider(e){e=Lt(e);let n=ts(e)?e:Lt(e&&e.provide),r=IP(e);if(!ts(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Go(void 0,hl,!0),i.factory=()=>Up(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=Se(null);try{return n.value===hl&&(n.value=wP,n.value=n.factory()),typeof n.value=="object"&&n.value&&bP(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Se(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Lt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Hp(t){let e=$l(t),n=e!==null?e.factory:Bi(t);if(n!==null)return n;if(t instanceof $)throw new G(204,!1);if(t instanceof Function)return EP(t);throw new G(204,!1)}function EP(t){if(t.length>0)throw new G(204,!1);let n=PR(t);return n!==null?()=>n.factory(t):()=>new t}function IP(t){if(FI(t))return Go(void 0,t.useValue);{let e=VI(t);return Go(e,hl)}}function VI(t,e,n){let r;if(ts(t)){let i=Lt(t);return Bi(i)||Hp(i)}else if(FI(t))r=()=>Lt(t.useValue);else if(vP(t))r=()=>t.useFactory(...Up(t.deps||[]));else if(yP(t))r=()=>W(Lt(t.useExisting));else{let i=Lt(t&&(t.useClass||t.provide));if(CP(t))r=()=>new i(...Up(t.deps));else return Bi(i)||Hp(i)}return r}function Go(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function CP(t){return!!t.deps}function bP(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function DP(t){return typeof t=="function"||typeof t=="object"&&t instanceof $}function zp(t,e){for(let n of t)Array.isArray(n)?zp(n,e):n&&vI(n)?zp(n.\u0275providers,e):e(n)}function tn(t,e){t instanceof Ua&&t.assertNotDestroyed();let n,r=ei(t),i=Kt(void 0);try{return e()}finally{ei(r),Kt(i)}}function LI(){return _I()!==void 0||zR()!=null}function TP(t){if(!LI())throw new G(-203,!1)}function SP(t){return typeof t=="function"}var _r=0,de=1,re=2,Mt=3,Cn=4,Tn=5,Il=6,Cl=7,bn=8,ns=9,jn=10,ot=11,Ba=12,FE=13,us=14,Un=15,$i=16,Wo=17,gr=18,ql=19,jI=20,ni=21,Dp=22,ln=23,dn=25,UI=1;var Hi=7,bl=8,rs=9,en=10,Dl=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Dl||{});function ri(t){return Array.isArray(t)&&typeof t[UI]=="object"}function wr(t){return Array.isArray(t)&&t[UI]===!0}function BI(t){return(t.flags&4)!==0}function Gl(t){return t.componentOffset>-1}function jg(t){return(t.flags&1)===1}function oi(t){return!!t.template}function qp(t){return(t[re]&512)!==0}var Gp=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function $I(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Er(){return HI}function HI(t){return t.type.prototype.ngOnChanges&&(t.setInput=MP),AP}Er.ngInherit=!0;function AP(){let t=qI(this),e=t?.current;if(e){let n=t.previous;if(n===Zo)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function MP(t,e,n,r,i){let o=this.declaredInputs[r],s=qI(t)||xP(t,{previous:Zo,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new Gp(l&&l.currentValue,n,u===Zo),$I(t,e,i,n)}var zI="__ngSimpleChanges__";function qI(t){return t[zI]||null}function xP(t,e){return t[zI]=e}var VE=null;var Fn=function(t,e,n){VE?.(t,e,n)},RP="svg",PP="math";function Bn(t){for(;Array.isArray(t);)t=t[_r];return t}function GI(t,e){return Bn(e[t])}function hn(t,e){return Bn(e[t.index])}function WI(t,e){return t.data[e]}function Ug(t,e){return t[e]}function ai(t,e){let n=e[t];return ri(n)?n:n[_r]}function NP(t){return(t[re]&4)===4}function Bg(t){return(t[re]&128)===128}function OP(t){return wr(t[Mt])}function Tl(t,e){return e==null?null:t[e]}function KI(t){t[Wo]=0}function QI(t){t[re]&1024||(t[re]|=1024,Bg(t)&&Wl(t))}function kP(t,e){for(;t>0;)e=e[us],t--;return e}function $a(t){return!!(t[re]&9216||t[ln]?.dirty)}function Wp(t){t[jn].changeDetectionScheduler?.notify(7),t[re]&64&&(t[re]|=1024),$a(t)&&Wl(t)}function Wl(t){t[jn].changeDetectionScheduler?.notify(0);let e=zi(t);for(;e!==null&&!(e[re]&8192||(e[re]|=8192,!Bg(e)));)e=zi(e)}function YI(t,e){if((t[re]&256)===256)throw new G(911,!1);t[ni]===null&&(t[ni]=[]),t[ni].push(e)}function FP(t,e){if(t[ni]===null)return;let n=t[ni].indexOf(e);n!==-1&&t[ni].splice(n,1)}function zi(t){let e=t[Mt];return wr(e)?e[Mt]:e}var pe={lFrame:sC(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var JI=!1;function VP(){return pe.lFrame.elementDepthCount}function LP(){pe.lFrame.elementDepthCount++}function jP(){pe.lFrame.elementDepthCount--}function ZI(){return pe.bindingsEnabled}function UP(){return pe.skipHydrationRootTNode!==null}function BP(t){return pe.skipHydrationRootTNode===t}function $P(){pe.skipHydrationRootTNode=null}function Ee(){return pe.lFrame.lView}function pt(){return pe.lFrame.tView}function oe(t){return pe.lFrame.contextLView=t,t[bn]}function se(t){return pe.lFrame.contextLView=null,t}function xt(){let t=XI();for(;t!==null&&t.type===64;)t=t.parent;return t}function XI(){return pe.lFrame.currentTNode}function HP(){let t=pe.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Wa(t,e){let n=pe.lFrame;n.currentTNode=t,n.isParent=e}function eC(){return pe.lFrame.isParent}function zP(){pe.lFrame.isParent=!1}function qP(){return pe.lFrame.contextLView}function tC(){return JI}function LE(t){JI=t}function $g(){let t=pe.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function GP(){return pe.lFrame.bindingIndex}function WP(t){return pe.lFrame.bindingIndex=t}function Kl(){return pe.lFrame.bindingIndex++}function nC(t){let e=pe.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function KP(){return pe.lFrame.inI18n}function QP(t,e){let n=pe.lFrame;n.bindingIndex=n.bindingRootIndex=t,Kp(e)}function YP(){return pe.lFrame.currentDirectiveIndex}function Kp(t){pe.lFrame.currentDirectiveIndex=t}function JP(t){let e=pe.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function rC(){return pe.lFrame.currentQueryIndex}function Hg(t){pe.lFrame.currentQueryIndex=t}function ZP(t){let e=t[de];return e.type===2?e.declTNode:e.type===1?t[Tn]:null}function iC(t,e,n){if(n&ge.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&ge.Host);)if(i=ZP(o),i===null||(o=o[us],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=pe.lFrame=oC();return r.currentTNode=e,r.lView=t,!0}function zg(t){let e=oC(),n=t[de];pe.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function oC(){let t=pe.lFrame,e=t===null?null:t.child;return e===null?sC(t):e}function sC(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function aC(){let t=pe.lFrame;return pe.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var cC=aC;function qg(){let t=aC();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function XP(t){return(pe.lFrame.contextLView=kP(t,pe.lFrame.contextLView))[bn]}function Zi(){return pe.lFrame.selectedIndex}function qi(t){pe.lFrame.selectedIndex=t}function Ql(){let t=pe.lFrame;return WI(t.tView,t.selectedIndex)}function eN(){return pe.lFrame.currentNamespace}var uC=!0;function Gg(){return uC}function Wg(t){uC=t}function tN(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=HI(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function Kg(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function fl(t,e,n){lC(t,e,3,n)}function pl(t,e,n,r){(t[re]&3)===n&&lC(t,e,n,r)}function Tp(t,e){let n=t[re];(n&3)===e&&(n&=16383,n+=1,t[re]=n)}function lC(t,e,n,r){let i=r!==void 0?t[Wo]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[Wo]+=65536),(a<o||o==-1)&&(nN(t,n,e,u),t[Wo]=(t[Wo]&4294901760)+u+2),u++}function jE(t,e){Fn(4,t,e);let n=Se(null);try{e.call(t)}finally{Se(n),Fn(5,t,e)}}function nN(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[re]>>14<t[Wo]>>16&&(t[re]&3)===e&&(t[re]+=16384,jE(a,o)):jE(a,o)}var Yo=-1,Gi=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function rN(t){return t instanceof Gi}function iN(t){return(t.flags&8)!==0}function oN(t){return(t.flags&16)!==0}var Sp={},Qp=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Hl(r);let i=this.injector.get(e,Sp,r);return i!==Sp||n===Sp?i:this.parentInjector.get(e,n,r)}};function dC(t){return t!==Yo}function Sl(t){return t&32767}function sN(t){return t>>16}function Al(t,e){let n=sN(t),r=e;for(;n>0;)r=r[us],n--;return r}var Yp=!0;function Ml(t){let e=Yp;return Yp=t,e}var aN=256,hC=aN-1,fC=5,cN=0,Vn={};function uN(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Va)&&(r=n[Va]),r==null&&(r=n[Va]=cN++);let i=r&hC,o=1<<i;e.data[t+(i>>fC)]|=o}function xl(t,e){let n=pC(t,e);if(n!==-1)return n;let r=e[de];r.firstCreatePass&&(t.injectorIndex=e.length,Ap(r.data,t),Ap(e,null),Ap(r.blueprint,null));let i=Qg(t,e),o=t.injectorIndex;if(dC(i)){let s=Sl(i),a=Al(i,e),u=a[de].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function Ap(t,e){t.push(0,0,0,0,0,0,0,0,e)}function pC(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Qg(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=_C(i),r===null)return Yo;if(n++,i=i[us],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Yo}function Jp(t,e,n){uN(t,e,n)}function lN(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(TI(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function gC(t,e,n){if(n&ge.Optional||t!==void 0)return t;Pg(e,"NodeInjector")}function mC(t,e,n,r){if(n&ge.Optional&&r===void 0&&(r=null),!(n&(ge.Self|ge.Host))){let i=t[ns],o=Kt(void 0);try{return i?i.get(e,r,n&ge.Optional):wI(e,r,n&ge.Optional)}finally{Kt(o)}}return gC(r,e,n)}function yC(t,e,n,r=ge.Default,i){if(t!==null){if(e[re]&2048&&!(r&ge.Self)){let s=pN(t,e,n,r,Vn);if(s!==Vn)return s}let o=vC(t,e,n,r,Vn);if(o!==Vn)return o}return mC(e,n,r,i)}function vC(t,e,n,r,i){let o=hN(n);if(typeof o=="function"){if(!iC(e,t,r))return r&ge.Host?gC(i,n,r):mC(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&ge.Optional))Pg(n);else return s}finally{cC()}}else if(typeof o=="number"){let s=null,a=pC(t,e),u=Yo,l=r&ge.Host?e[Un][Tn]:null;for((a===-1||r&ge.SkipSelf)&&(u=a===-1?Qg(t,e):e[a+8],u===Yo||!BE(r,!1)?a=-1:(s=e[de],a=Sl(u),e=Al(u,e)));a!==-1;){let h=e[de];if(UE(o,a,h.data)){let p=dN(a,e,n,s,r,l);if(p!==Vn)return p}u=e[a+8],u!==Yo&&BE(r,e[de].data[a+8]===l)&&UE(o,a,e)?(s=h,a=Sl(u),e=Al(u,e)):a=-1}}return i}function dN(t,e,n,r,i,o){let s=e[de],a=s.data[t+8],u=r==null?Gl(a)&&Yp:r!=s&&(a.type&3)!==0,l=i&ge.Host&&o===a,h=gl(a,s,n,u,l);return h!==null?Wi(e,s,h,a):Vn}function gl(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,u=t.directiveStart,l=t.directiveEnd,h=o>>20,p=r?a:a+h,m=i?a+h:l;for(let y=p;y<m;y++){let D=s[y];if(y<u&&n===D||y>=u&&D.type===n)return y}if(i){let y=s[u];if(y&&oi(y)&&y.type===n)return u}return null}function Wi(t,e,n,r){let i=t[n],o=e.data;if(rN(i)){let s=i;s.resolving&&jR(LR(o[n]));let a=Ml(s.canSeeViewProviders);s.resolving=!0;let u,l=s.injectImpl?Kt(s.injectImpl):null,h=iC(t,r,ge.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&tN(n,o[n],e)}finally{l!==null&&Kt(l),Ml(a),s.resolving=!1,cC()}}return i}function hN(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Va)?t[Va]:void 0;return typeof e=="number"?e>=0?e&hC:fN:e}function UE(t,e,n){let r=1<<t;return!!(n[e+(t>>fC)]&r)}function BE(t,e){return!(t&ge.Self)&&!(t&ge.Host&&e)}var Ui=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return yC(this._tNode,this._lView,e,Hl(r),n)}};function fN(){return new Ui(xt(),Ee())}function Ir(t){return qa(()=>{let e=t.prototype.constructor,n=e[vl]||Zp(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[vl]||Zp(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Zp(t){return pI(t)?()=>{let e=Zp(Lt(t));return e&&e()}:Bi(t)}function pN(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[re]&2048&&!(s[re]&512);){let a=vC(o,s,n,r|ge.Self,Vn);if(a!==Vn)return a;let u=o.parent;if(!u){let l=s[jI];if(l){let h=l.get(n,Vn,r);if(h!==Vn)return h}u=_C(s),s=s[us]}o=u}return i}function _C(t){let e=t[de],n=e.type;return n===2?e.declTNode:n===1?t[Tn]:null}function Yg(t){return lN(xt(),t)}function $E(t,e=null,n=null,r){let i=wC(t,e,n,r);return i.resolveInjectorInitializers(),i}function wC(t,e=null,n=null,r,i=new Set){let o=[n||un,gP(t)];return r=r||(typeof t=="object"?void 0:jt(t)),new Ua(o,e||Lg(),r||null,i)}var ji=class ji{static create(e,n){if(Array.isArray(e))return $E({name:""},n,e,"");{let r=e.name??"";return $E({name:r},e.parent,e.providers,r)}}};ji.THROW_IF_NOT_FOUND=La,ji.NULL=new El,ji.\u0275prov=H({token:ji,providedIn:"any",factory:()=>W(CI)}),ji.__NG_ELEMENT_ID__=-1;var _t=ji;var gN=new $("");gN.__NG_ELEMENT_ID__=t=>{let e=xt();if(e===null)throw new G(204,!1);if(e.type&2)return e.value;if(t&ge.Optional)return null;throw new G(204,!1)};var mN="ngOriginalError";function Mp(t){return t[mN]}var $n=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Mp(e);for(;n&&Mp(n);)n=Mp(n);return n||null}},EC=new $("",{providedIn:"root",factory:()=>k($n).handleError.bind(void 0)}),Jg=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=yN,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),Xp=class extends Jg{constructor(e){super(),this._lView=e}onDestroy(e){return YI(this._lView,e),()=>FP(this._lView,e)}};function yN(){return new Xp(Ee())}function vN(){return ls(xt(),Ee())}function ls(t,e){return new Bt(hn(t,e))}var Bt=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=vN;let t=e;return t})();function _N(t){return t instanceof Bt?t.nativeElement:t}var Cr=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ut(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275prov=H({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();var eg=class extends ft{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,LI()&&(this.destroyRef=k(Jg,{optional:!0})??void 0,this.pendingTasks=k(Cr,{optional:!0})??void 0)}emit(e){let n=Se(null);try{super.next(e)}finally{Se(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof We&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},Ke=eg;function wN(){return this._results[Symbol.iterator]()}var tg=class t{get changes(){return this._changes??=new Ke}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=wN)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=YR(e);(this._changesDetected=!QR(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function IC(t){return(t.flags&128)===128}var CC=new Map,EN=0;function IN(){return EN++}function CN(t){CC.set(t[ql],t)}function bN(t){CC.delete(t[ql])}var HE="__ngContext__";function Ki(t,e){ri(e)?(t[HE]=e[ql],CN(e)):t[HE]=e}function bC(t){return TC(t[Ba])}function DC(t){return TC(t[Cn])}function TC(t){for(;t!==null&&!wr(t);)t=t[Cn];return t}var ng;function SC(t){ng=t}function DN(){if(ng!==void 0)return ng;if(typeof document<"u")return document;throw new G(210,!1)}var Zg=new $("",{providedIn:"root",factory:()=>TN}),TN="ng",Xg=new $(""),wt=new $("",{providedIn:"platform",factory:()=>"unknown"});var em=new $("",{providedIn:"root",factory:()=>DN().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var SN="h",AN="b";var MN=()=>null;function tm(t,e,n=!1){return MN(t,e,n)}var AC=!1,xN=new $("",{providedIn:"root",factory:()=>AC});var ul;function RN(){if(ul===void 0&&(ul=null,pr.trustedTypes))try{ul=pr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return ul}function zE(t){return RN()?.createScriptURL(t)||t}var Rl=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${hI})`}};function Ka(t){return t instanceof Rl?t.changingThisBreaksApplicationSecurity:t}function nm(t,e){let n=PN(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${hI})`)}return n===e}function PN(t){return t instanceof Rl&&t.getTypeName()||null}var NN=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function MC(t){return t=String(t),t.match(NN)?t:"unsafe:"+t}var Yl=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Yl||{});function Gn(t){let e=RC();return e?e.sanitize(Yl.URL,t)||"":nm(t,"URL")?Ka(t):MC(Jo(t))}function ON(t){let e=RC();if(e)return zE(e.sanitize(Yl.RESOURCE_URL,t)||"");if(nm(t,"ResourceURL"))return zE(Ka(t));throw new G(904,!1)}function kN(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?ON:Gn}function xC(t,e,n){return kN(e,n)(t)}function RC(){let t=Ee();return t&&t[jn].sanitizer}function PC(t){return t instanceof Function?t():t}function FN(t){return(t??k(_t)).get(wt)==="browser"}var mr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(mr||{}),VN;function rm(t,e){return VN(t,e)}function Ko(t,e,n,r,i){if(r!=null){let o,s=!1;wr(r)?o=r:ri(r)&&(s=!0,r=r[_r]);let a=Bn(r);t===0&&n!==null?i==null?VC(e,n,a):Pl(e,n,a,i||null,!0):t===1&&n!==null?Pl(e,n,a,i||null,!0):t===2?XN(e,a,s):t===3&&e.destroyNode(a),o!=null&&tO(e,t,o,n,i)}}function LN(t,e){return t.createText(e)}function jN(t,e,n){t.setValue(e,n)}function NC(t,e,n){return t.createElement(e,n)}function UN(t,e){OC(t,e),e[_r]=null,e[Tn]=null}function BN(t,e,n,r,i,o){r[_r]=i,r[Tn]=e,Jl(t,r,n,1,i,o)}function OC(t,e){e[jn].changeDetectionScheduler?.notify(8),Jl(t,e,e[ot],2,null,null)}function $N(t){let e=t[Ba];if(!e)return xp(t[de],t);for(;e;){let n=null;if(ri(e))n=e[Ba];else{let r=e[en];r&&(n=r)}if(!n){for(;e&&!e[Cn]&&e!==t;)ri(e)&&xp(e[de],e),e=e[Mt];e===null&&(e=t),ri(e)&&xp(e[de],e),n=e&&e[Cn]}e=n}}function HN(t,e,n,r){let i=en+r,o=n.length;r>0&&(n[i-1][Cn]=e),r<o-en?(e[Cn]=n[i],II(n,en+r,e)):(n.push(e),e[Cn]=null),e[Mt]=n;let s=e[$i];s!==null&&n!==s&&kC(s,e);let a=e[gr];a!==null&&a.insertView(t),Wp(e),e[re]|=128}function kC(t,e){let n=t[rs],r=e[Mt];if(ri(r))t[re]|=Dl.HasTransplantedViews;else{let i=r[Mt][Un];e[Un]!==i&&(t[re]|=Dl.HasTransplantedViews)}n===null?t[rs]=[e]:n.push(e)}function im(t,e){let n=t[rs],r=n.indexOf(e);n.splice(r,1)}function rg(t,e){if(t.length<=en)return;let n=en+e,r=t[n];if(r){let i=r[$i];i!==null&&i!==t&&im(i,r),e>0&&(t[n-1][Cn]=r[Cn]);let o=wl(t,en+e);UN(r[de],r);let s=o[gr];s!==null&&s.detachView(o[de]),r[Mt]=null,r[Cn]=null,r[re]&=-129}return r}function FC(t,e){if(!(e[re]&256)){let n=e[ot];n.destroyNode&&Jl(t,e,n,3,null,null),$N(e)}}function xp(t,e){if(e[re]&256)return;let n=Se(null);try{e[re]&=-129,e[re]|=256,e[ln]&&tp(e[ln]),qN(t,e),zN(t,e),e[de].type===1&&e[ot].destroy();let r=e[$i];if(r!==null&&wr(e[Mt])){r!==e[Mt]&&im(r,e);let i=e[gr];i!==null&&i.detachView(t)}bN(e)}finally{Se(n)}}function zN(t,e){let n=t.cleanup,r=e[Cl];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[Cl]=null);let i=e[ni];if(i!==null){e[ni]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function qN(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Gi)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];Fn(4,a,u);try{u.call(a)}finally{Fn(5,a,u)}}else{Fn(4,i,o);try{o.call(i)}finally{Fn(5,i,o)}}}}}function GN(t,e,n){return WN(t,e.parent,n)}function WN(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[_r];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===Ln.None||o===Ln.Emulated)return null}return hn(r,n)}}function Pl(t,e,n,r,i){t.insertBefore(e,n,r,i)}function VC(t,e,n){t.appendChild(e,n)}function qE(t,e,n,r,i){r!==null?Pl(t,e,n,r,i):VC(t,e,n)}function KN(t,e,n,r){t.removeChild(e,n,r)}function om(t,e){return t.parentNode(e)}function QN(t,e){return t.nextSibling(e)}function YN(t,e,n){return ZN(t,e,n)}function JN(t,e,n){return t.type&40?hn(t,n):null}var ZN=JN,GE;function sm(t,e,n,r){let i=GN(t,r,e),o=e[ot],s=r.parent||e[Tn],a=YN(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)qE(o,i,n[u],a,!1);else qE(o,i,n,a,!1);GE!==void 0&&GE(o,r,e,n,i)}function ml(t,e){if(e!==null){let n=e.type;if(n&3)return hn(e,t);if(n&4)return ig(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return ml(t,r);{let i=t[e.index];return wr(i)?ig(-1,i):Bn(i)}}else{if(n&32)return rm(e,t)()||Bn(t[e.index]);{let r=LC(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=zi(t[Un]);return ml(i,r)}else return ml(t,e.next)}}}return null}function LC(t,e){if(e!==null){let r=t[Un][Tn],i=e.projection;return r.projection[i]}return null}function ig(t,e){let n=en+t+1;if(n<e.length){let r=e[n],i=r[de].firstChild;if(i!==null)return ml(r,i)}return e[Hi]}function XN(t,e,n){let r=om(t,e);r&&KN(t,r,e,n)}function am(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],u=n.type;if(s&&e===0&&(a&&Ki(Bn(a),r),n.flags|=2),(n.flags&32)!==32)if(u&8)am(t,e,n.child,r,i,o,!1),Ko(e,t,i,a,o);else if(u&32){let l=rm(n,r),h;for(;h=l();)Ko(e,t,i,h,o);Ko(e,t,i,a,o)}else u&16?eO(t,e,r,n,i,o):Ko(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Jl(t,e,n,r,i,o){am(n,r,t.firstChild,e,i,o,!1)}function eO(t,e,n,r,i,o){let s=n[Un],u=s[Tn].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];Ko(e,t,i,h,o)}else{let l=u,h=s[Mt];IC(r)&&(l.flags|=128),am(t,e,l,h,i,o,!0)}}function tO(t,e,n,r,i){let o=n[Hi],s=Bn(n);o!==s&&Ko(e,t,r,o,i);for(let a=en;a<n.length;a++){let u=n[a];Jl(u[de],u,t,e,r,o)}}function nO(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:mr.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=mr.Important),t.setStyle(n,r,i,o))}}function rO(t,e,n){t.setAttribute(e,"style",n)}function jC(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function UC(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&Bp(t,e,r),i!==null&&jC(t,e,i),o!==null&&rO(t,e,o)}var Wn={};function U(t=1){BC(pt(),Ee(),Zi()+t,!1)}function BC(t,e,n,r){if(!r)if((e[re]&3)===3){let o=t.preOrderCheckHooks;o!==null&&fl(e,o,n)}else{let o=t.preOrderHooks;o!==null&&pl(e,o,0,n)}qi(n)}function B(t,e=ge.Default){let n=Ee();if(n===null)return W(t,e);let r=xt();return yC(r,n,Lt(t),e)}function $C(){let t="invalid";throw new Error(t)}function HC(t,e,n,r,i,o){let s=Se(null);try{let a=null;i&es.SignalBased&&(a=e[r][Jf]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&es.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):$I(e,a,r,o)}finally{Se(s)}}function iO(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)qi(~i);else{let o=i,s=n[++r],a=n[++r];QP(s,o);let u=e[o];a(2,u)}}}finally{qi(-1)}}function Zl(t,e,n,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[_r]=i,p[re]=r|4|128|8|64,(l!==null||t&&t[re]&2048)&&(p[re]|=2048),KI(p),p[Mt]=p[us]=t,p[bn]=n,p[jn]=s||t&&t[jn],p[ot]=a||t&&t[ot],p[ns]=u||t&&t[ns]||null,p[Tn]=o,p[ql]=IN(),p[Il]=h,p[jI]=l,p[Un]=e.type==2?t[Un]:p,p}function Xl(t,e,n,r,i){let o=t.data[e];if(o===null)o=oO(t,e,n,r,i),KP()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=HP();o.injectorIndex=s===null?-1:s.injectorIndex}return Wa(o,!0),o}function oO(t,e,n,r,i){let o=XI(),s=eC(),a=s?o:o&&o.parent,u=t.data[e]=dO(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),o!==null&&(s?o.child==null&&u.parent!==null&&(o.child=u):o.next===null&&(o.next=u,u.prev=o)),u}function zC(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function qC(t,e,n,r,i){let o=Zi(),s=r&2;try{qi(-1),s&&e.length>dn&&BC(t,e,dn,!1),Fn(s?2:0,i),n(r,i)}finally{qi(o),Fn(s?3:1,i)}}function GC(t,e,n){if(BI(e)){let r=Se(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let u=n[s];a.contentQueries(1,u,s)}}}finally{Se(r)}}}function WC(t,e,n){ZI()&&(yO(t,e,n,hn(n,e)),(n.flags&64)===64&&ZC(t,e,n))}function KC(t,e,n=hn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function QC(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=cm(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function cm(t,e,n,r,i,o,s,a,u,l,h){let p=dn+r,m=p+i,y=sO(p,m),D=typeof l=="function"?l():l;return y[de]={type:t,blueprint:y,template:n,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:D,incompleteFirstPass:!1,ssrId:h}}function sO(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Wn);return n}function aO(t,e,n,r){let o=r.get(xN,AC)||n===Ln.ShadowDom,s=t.selectRootElement(e,o);return cO(s),s}function cO(t){uO(t)}var uO=()=>null;function lO(t,e,n,r){let i=tb(e);i.push(n),t.firstCreatePass&&nb(t).push(r,i.length-1)}function dO(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return UP()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function WE(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,u=es.None;Array.isArray(s)?(a=s[0],u=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}t===0?KE(r,n,l,a,u):KE(r,n,l,a)}return r}function KE(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function hO(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],u=null,l=null;for(let h=r;h<i;h++){let p=o[h],m=n?n.get(p):null,y=m?m.inputs:null,D=m?m.outputs:null;u=WE(0,p.inputs,h,u,y),l=WE(1,p.outputs,h,l,D);let P=u!==null&&s!==null&&!kg(e)?AO(u,h,s):null;a.push(P)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}function fO(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function um(t,e,n,r,i,o,s,a){let u=hn(e,n),l=e.inputs,h;!a&&l!=null&&(h=l[r])?(lm(t,n,h,r,i),Gl(e)&&pO(n,e.index)):e.type&3?(r=fO(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)):e.type&12}function pO(t,e){let n=ai(e,t);n[re]&16||(n[re]|=64)}function YC(t,e,n,r){if(ZI()){let i=r===null?null:{"":-1},o=_O(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&JC(t,e,n,s,i,a),i&&wO(n,r,i)}n.mergedAttrs=ja(n.mergedAttrs,n.attrs)}function JC(t,e,n,r,i,o){for(let l=0;l<r.length;l++)Jp(xl(n,e),t,r[l].type);IO(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let h=r[l];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,u=zC(t,e,r.length,null);for(let l=0;l<r.length;l++){let h=r[l];n.mergedAttrs=ja(n.mergedAttrs,h.hostAttrs),CO(t,n,e,u,h),EO(u,h,i),h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let p=h.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}hO(t,n,o)}function gO(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;mO(s)!=a&&s.push(a),s.push(n,r,o)}}function mO(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function yO(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;Gl(n)&&bO(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||xl(n,e),Ki(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let u=t.data[a],l=Wi(e,t,a,n);if(Ki(l,e),s!==null&&SO(e,a-i,l,u,n,s),oi(u)){let h=ai(n.index,e);h[bn]=Wi(e,t,a,n)}}}function ZC(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=YP();try{qi(o);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];Kp(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&vO(u,l)}}finally{qi(-1),Kp(s)}}function vO(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function _O(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(sP(e,s.selectors,!1))if(r||(r=[]),oi(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let u=a.length;og(t,e,u)}else r.unshift(s),og(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function og(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function wO(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new G(-301,!1);r.push(e[i],o)}}}function EO(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;oi(e)&&(n[""]=t)}}function IO(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function CO(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=Bi(i.type,!0)),s=new Gi(o,oi(i),B);t.blueprint[r]=s,n[r]=s,gO(t,e,r,zC(t,n,i.hostVars,Wn),i)}function bO(t,e,n){let r=hn(e,t),i=QC(n),o=t[jn].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=ed(t,Zl(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function DO(t,e,n,r,i,o){let s=hn(t,e);TO(e[ot],s,o,t.value,n,r,i)}function TO(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?Jo(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function SO(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let u=s[a++],l=s[a++],h=s[a++],p=s[a++];HC(r,n,u,l,h,p)}}function AO(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function XC(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function eb(t,e){let n=t.contentQueries;if(n!==null){let r=Se(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];Hg(o),a.contentQueries(2,e[s],s)}}}finally{Se(r)}}}function ed(t,e){return t[Ba]?t[FE][Cn]=e:t[Ba]=e,t[FE]=e,e}function sg(t,e,n){Hg(0);let r=Se(null);try{e(t,n)}finally{Se(r)}}function tb(t){return t[Cl]??=[]}function nb(t){return t.cleanup??=[]}function rb(t,e){let n=t[ns],r=n?n.get($n,null):null;r&&r.handleError(e)}function lm(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],u=n[o++],l=e[s],h=t.data[s];HC(h,l,r,a,u,i)}}function ib(t,e,n){let r=GI(e,t);jN(t[ot],r,n)}function MO(t,e){let n=ai(e,t),r=n[de];xO(r,n);let i=n[_r];i!==null&&n[Il]===null&&(n[Il]=tm(i,n[ns])),dm(r,n,n[bn])}function xO(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function dm(t,e,n){zg(e);try{let r=t.viewQuery;r!==null&&sg(1,r,n);let i=t.template;i!==null&&qC(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[gr]?.finishViewCreation(t),t.staticContentQueries&&eb(t,e),t.staticViewQueries&&sg(2,t.viewQuery,n);let o=t.components;o!==null&&RO(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[re]&=-5,qg()}}function RO(t,e){for(let n=0;n<e.length;n++)MO(t,e[n])}function PO(t,e,n,r){let i=Se(null);try{let o=e.tView,a=t[re]&4096?4096:16,u=Zl(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[$i]=l;let h=t[gr];return h!==null&&(u[gr]=h.createEmbeddedView(o)),dm(o,u,n),u}finally{Se(i)}}function QE(t,e){return!e||e.firstChild===null||IC(t)}function NO(t,e,n,r=!0){let i=e[de];if(HN(i,e,t,n),r){let s=ig(n,t),a=e[ot],u=om(a,t[Hi]);u!==null&&BN(i,t[Tn],a,e,u,s)}let o=e[Il];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Nl(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(Bn(o)),wr(o)&&OO(o,r);let s=n.type;if(s&8)Nl(t,e,n.child,r);else if(s&32){let a=rm(n,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=LC(e,n);if(Array.isArray(a))r.push(...a);else{let u=zi(e[Un]);Nl(u[de],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function OO(t,e){for(let n=en;n<t.length;n++){let r=t[n],i=r[de].firstChild;i!==null&&Nl(r[de],r,i,e)}t[Hi]!==t[_r]&&e.push(t[Hi])}var ob=[];function kO(t){return t[ln]??FO(t)}function FO(t){let e=ob.pop()??Object.create(LO);return e.lView=t,e}function VO(t){t.lView[ln]!==t&&(t.lView=null,ob.push(t))}var LO=we(j({},Zf),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Wl(t.lView)},consumerOnSignalRead(){this.lView[ln]=this}});function jO(t){let e=t[ln]??Object.create(UO);return e.lView=t,e}var UO=we(j({},Zf),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=zi(t.lView);for(;e&&!sb(e[de]);)e=zi(e);e&&QI(e)},consumerOnSignalRead(){this.lView[ln]=this}});function sb(t){return t.type!==2}var BO=100;function ab(t,e=!0,n=0){let r=t[jn],i=r.rendererFactory,o=!1;o||i.begin?.();try{$O(t,n)}catch(s){throw e&&rb(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function $O(t,e){let n=tC();try{LE(!0),ag(t,e);let r=0;for(;$a(t);){if(r===BO)throw new G(103,!1);r++,ag(t,1)}}finally{LE(n)}}function HO(t,e,n,r){let i=e[re];if((i&256)===256)return;let o=!1,s=!1;!o&&e[jn].inlineEffectRunner?.flush(),zg(e);let a=!0,u=null,l=null;o||(sb(t)?(l=kO(e),u=Xf(l)):Xw()===null?(a=!1,l=jO(e),u=Xf(l)):e[ln]&&(tp(e[ln]),e[ln]=null));try{KI(e),WP(t.bindingStartIndex),n!==null&&qC(t,e,n,2,r);let h=(i&3)===3;if(!o)if(h){let y=t.preOrderCheckHooks;y!==null&&fl(e,y,null)}else{let y=t.preOrderHooks;y!==null&&pl(e,y,0,null),Tp(e,0)}if(s||zO(e),cb(e,0),t.contentQueries!==null&&eb(t,e),!o)if(h){let y=t.contentCheckHooks;y!==null&&fl(e,y)}else{let y=t.contentHooks;y!==null&&pl(e,y,1),Tp(e,1)}iO(t,e);let p=t.components;p!==null&&lb(e,p,0);let m=t.viewQuery;if(m!==null&&sg(2,m,r),!o)if(h){let y=t.viewCheckHooks;y!==null&&fl(e,y)}else{let y=t.viewHooks;y!==null&&pl(e,y,2),Tp(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Dp]){for(let y of e[Dp])y();e[Dp]=null}o||(e[re]&=-73)}catch(h){throw o||Wl(e),h}finally{l!==null&&(eE(l,u),a&&VO(l)),qg()}}function cb(t,e){for(let n=bC(t);n!==null;n=DC(n))for(let r=en;r<n.length;r++){let i=n[r];ub(i,e)}}function zO(t){for(let e=bC(t);e!==null;e=DC(e)){if(!(e[re]&Dl.HasTransplantedViews))continue;let n=e[rs];for(let r=0;r<n.length;r++){let i=n[r];QI(i)}}}function qO(t,e,n){let r=ai(e,t);ub(r,n)}function ub(t,e){Bg(t)&&ag(t,e)}function ag(t,e){let r=t[de],i=t[re],o=t[ln],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&ep(o)),s||=!1,o&&(o.dirty=!1),t[re]&=-9217,s)HO(r,t,r.template,t[bn]);else if(i&8192){cb(t,1);let a=r.components;a!==null&&lb(t,a,1)}}function lb(t,e,n){for(let r=0;r<e.length;r++)qO(t,e[r],n)}function hm(t,e){let n=tC()?64:1088;for(t[jn].changeDetectionScheduler?.notify(e);t;){t[re]|=n;let r=zi(t);if(qp(t)&&!r)return t;t=r}return null}var Qi=class{get rootNodes(){let e=this._lView,n=e[de];return Nl(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[bn]}set context(e){this._lView[bn]=e}get destroyed(){return(this._lView[re]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Mt];if(wr(e)){let n=e[bl],r=n?n.indexOf(this):-1;r>-1&&(rg(e,r),wl(n,r))}this._attachedToViewContainer=!1}FC(this._lView[de],this._lView)}onDestroy(e){YI(this._lView,e)}markForCheck(){hm(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[re]&=-129}reattach(){Wp(this._lView),this._lView[re]|=128}detectChanges(){this._lView[re]|=1024,ab(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new G(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=qp(this._lView),n=this._lView[$i];n!==null&&!e&&im(n,this._lView),OC(this._lView[de],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new G(902,!1);this._appRef=e;let n=qp(this._lView),r=this._lView[$i];r!==null&&!n&&kC(r,this._lView),Wp(this._lView)}},Yi=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=KO;let t=e;return t})(),GO=Yi,WO=class extends GO{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=PO(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Qi(i)}};function KO(){return fm(xt(),Ee())}function fm(t,e){return t.type&4?new WO(e,t,ls(t,e)):null}var k9=new RegExp(`^(\\d+)*(${AN}|${SN})*(.*)`);var QO=()=>null;function YE(t,e){return QO(t,e)}var is=class{},db=new $("",{providedIn:"root",factory:()=>!1});var hb=new $(""),cg=class{},Ol=class{};function YO(t){let e=Error(`No component factory found for ${jt(t)}.`);return e[JO]=t,e}var JO="ngComponent";var ug=class{resolveComponentFactory(e){throw YO(e)}},Im=class Im{};Im.NULL=new ug;var os=Im,ss=class{},Sn=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>ZO();let t=e;return t})();function ZO(){let t=Ee(),e=xt(),n=ai(e.index,t);return(ri(n)?n:t)[ot]}var XO=(()=>{let e=class e{};e.\u0275prov=H({token:e,providedIn:"root",factory:()=>null});let t=e;return t})();var JE=new Set;function td(t){JE.has(t)||(JE.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function fb(t){let e=!0;return setTimeout(()=>{e&&(e=!1,t())}),typeof pr.requestAnimationFrame=="function"&&pr.requestAnimationFrame(()=>{e&&(e=!1,t())}),()=>{e=!1}}function ZE(t){let e=!0;return queueMicrotask(()=>{e&&t()}),()=>{e=!1}}function XE(...t){}var De=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ke(!1),this.onMicrotaskEmpty=new Ke(!1),this.onStable=new Ke(!1),this.onError=new Ke(!1),typeof Zone>"u")throw new G(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.callbackScheduled=!1,n1(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new G(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new G(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,e1,XE,XE);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},e1={};function pm(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function t1(t){t.isCheckStableRunning||t.callbackScheduled||(t.callbackScheduled=!0,Zone.root.run(()=>{fb(()=>{t.callbackScheduled=!1,lg(t),t.isCheckStableRunning=!0,pm(t),t.isCheckStableRunning=!1})}),lg(t))}function n1(t){let e=()=>{t1(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(r1(a))return n.invokeTask(i,o,s,a);try{return eI(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),tI(t)}},onInvoke:(n,r,i,o,s,a,u)=>{try{return eI(t),n.invoke(i,o,s,a,u)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!i1(a)&&e(),tI(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,lg(t),pm(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function lg(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function eI(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function tI(t){t._nesting--,pm(t)}var dg=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ke,this.onMicrotaskEmpty=new Ke,this.onStable=new Ke,this.onError=new Ke}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function r1(t){return pb(t,"__ignore_ng_zone__")}function i1(t){return pb(t,"__scheduler_tick__")}function pb(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var ti=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(ti||{}),o1={destroy(){}};function nd(t,e){!e&&TP(nd);let n=e?.injector??k(_t);if(!FN(n))return o1;td("NgAfterNextRender");let r=n.get(gm),i=r.handler??=new fg,o=e?.phase??ti.MixedReadWrite,s=()=>{i.unregister(u),a()},a=n.get(Jg).onDestroy(s),u=tn(n,()=>new hg(o,()=>{s(),t()}));return i.register(u),{destroy:s}}var hg=class{constructor(e,n){this.phase=e,this.callbackFn=n,this.zone=k(De),this.errorHandler=k($n,{optional:!0}),k(is,{optional:!0})?.notify(6)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},fg=class{constructor(){this.executingCallbacks=!1,this.buckets={[ti.EarlyRead]:new Set,[ti.Write]:new Set,[ti.MixedReadWrite]:new Set,[ti.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let n of e)n.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},gm=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=H({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function pg(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=TE(i,a);else if(o==2){let u=a,l=e[++s];r=TE(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var kl=class extends os{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=ii(e);return new as(n,this.ngModule)}};function nI(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function s1(t){let e=t.toLowerCase();return e==="svg"?RP:e==="math"?PP:null}var as=class extends Ol{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=nI(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return nI(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=lP(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=Se(null);try{i=i||this.ngModule;let s=i instanceof At?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Qp(e,s):e,u=a.get(ss,null);if(u===null)throw new G(407,!1);let l=a.get(XO,null),h=a.get(gm,null),p=a.get(is,null),m={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:h,changeDetectionScheduler:p},y=u.createRenderer(null,this.componentDef),D=this.componentDef.selectors[0][0]||"div",P=r?aO(y,r,this.componentDef.encapsulation,a):NC(y,D,s1(D)),x=512;this.componentDef.signals?x|=4096:this.componentDef.onPush||(x|=16);let F=null;P!==null&&(F=tm(P,a,!0));let K=cm(0,null,null,1,0,null,null,null,null,null,null),q=Zl(null,K,null,x,null,null,m,y,a,null,F);zg(q);let Y,Ne;try{let ee=this.componentDef,E,v=null;ee.findHostDirectiveDefs?(E=[],v=new Map,ee.findHostDirectiveDefs(ee,E,v),E.push(ee)):E=[ee];let _=a1(q,P),I=c1(_,P,ee,E,q,m,y);Ne=WI(K,dn),P&&d1(y,ee,P,r),n!==void 0&&h1(Ne,this.ngContentSelectors,n),Y=l1(I,ee,E,v,q,[f1]),dm(K,q,null)}finally{qg()}return new gg(this.componentType,Y,ls(Ne,q),q,Ne)}finally{Se(o)}}},gg=class extends cg{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Qi(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;lm(o[de],o,i,e,n),this.previousInputValues.set(e,n);let s=ai(this._tNode.index,o);hm(s,1)}}get injector(){return new Ui(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function a1(t,e){let n=t[de],r=dn;return t[r]=e,Xl(n,r,2,"#host",null)}function c1(t,e,n,r,i,o,s){let a=i[de];u1(r,t,e,s);let u=null;e!==null&&(u=tm(e,i[ns]));let l=o.rendererFactory.createRenderer(e,n),h=16;n.signals?h=4096:n.onPush&&(h=64);let p=Zl(i,QC(n),null,h,i[t.index],t,o,l,null,null,u);return a.firstCreatePass&&og(a,t,r.length-1),ed(i,p),i[t.index]=p}function u1(t,e,n,r){for(let i of t)e.mergedAttrs=ja(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(pg(e,e.mergedAttrs,!0),n!==null&&UC(r,n,e))}function l1(t,e,n,r,i,o){let s=xt(),a=i[de],u=hn(s,i);JC(a,i,s,n,null,r);for(let h=0;h<n.length;h++){let p=s.directiveStart+h,m=Wi(i,a,p,s);Ki(m,i)}ZC(a,i,s),u&&Ki(u,i);let l=Wi(i,a,s.directiveStart+s.componentOffset,s);if(t[bn]=i[bn]=l,o!==null)for(let h of o)h(l,e);return GC(a,s,i),l}function d1(t,e,n,r){if(r)Bp(t,n,["ng-version","18.0.5"]);else{let{attrs:i,classes:o}=dP(e.selectors[0]);i&&Bp(t,n,i),o&&o.length>0&&jC(t,n,o.join(" "))}}function h1(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function f1(){let t=xt();Kg(Ee()[de],t)}var ci=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=p1;let t=e;return t})();function p1(){let t=xt();return mb(t,Ee())}var g1=ci,gb=class extends g1{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return ls(this._hostTNode,this._hostLView)}get injector(){return new Ui(this._hostTNode,this._hostLView)}get parentInjector(){let e=Qg(this._hostTNode,this._hostLView);if(dC(e)){let n=Al(e,this._hostLView),r=Sl(e),i=n[de].data[r+8];return new Ui(i,n)}else return new Ui(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=rI(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-en}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=YE(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,QE(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!SP(e),a;if(s)a=n;else{let D=n||{};a=D.index,r=D.injector,i=D.projectableNodes,o=D.environmentInjector||D.ngModuleRef}let u=s?e:new as(ii(e)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let P=(s?l:this.parentInjector).get(At,null);P&&(o=P)}let h=ii(u.componentType??{}),p=YE(this._lContainer,h?.id??null),m=p?.firstChild??null,y=u.create(l,i,m,o);return this.insertImpl(y.hostView,a,QE(this._hostTNode,p)),y}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(OP(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[Mt],l=new gb(u,u[Tn],u[Mt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return NO(s,i,o,r),e.attachToViewContainerRef(),II(Rp(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=rI(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=rg(this._lContainer,n);r&&(wl(Rp(this._lContainer),n),FC(r[de],r))}detach(e){let n=this._adjustIndex(e,-1),r=rg(this._lContainer,n);return r&&wl(Rp(this._lContainer),n)!=null?new Qi(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function rI(t){return t[bl]}function Rp(t){return t[bl]||(t[bl]=[])}function mb(t,e){let n,r=e[t.index];return wr(r)?n=r:(n=XC(r,e,null,t),e[t.index]=n,ed(e,n)),y1(n,e,t,r),new gb(n,t,e)}function m1(t,e){let n=t[ot],r=n.createComment(""),i=hn(e,t),o=om(n,i);return Pl(n,o,r,QN(n,i),!1),r}var y1=w1,v1=()=>!1;function _1(t,e,n){return v1(t,e,n)}function w1(t,e,n,r){if(t[Hi])return;let i;n.type&8?i=Bn(r):i=m1(e,n),t[Hi]=i}var mg=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},yg=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)mm(e,n).matches!==null&&this.queries[n].setDirty()}},Fl=class{constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=A1(e):this.predicate=e}},vg=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},_g=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,n,E1(n,o)),this.matchTNodeWithReadOption(e,n,gl(n,e,o,!1,!1))}else r===Yi?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,gl(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Bt||i===ci||i===Yi&&n.type&4)this.addMatch(n.index,-2);else{let o=gl(n,e,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function E1(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function I1(t,e){return t.type&11?ls(t,e):t.type&4?fm(t,e):null}function C1(t,e,n,r){return n===-1?I1(e,t):n===-2?b1(t,e,r):Wi(t,t[de],n,e)}function b1(t,e,n){if(n===Bt)return ls(e,t);if(n===Yi)return fm(e,t);if(n===ci)return mb(e,t)}function yb(t,e,n,r){let i=e[gr].queries[r];if(i.matches===null){let o=t.data,s=n.matches,a=[];for(let u=0;s!==null&&u<s.length;u+=2){let l=s[u];if(l<0)a.push(null);else{let h=o[l];a.push(C1(e,h,s[u+1],n.metadata.read))}}i.matches=a}return i.matches}function wg(t,e,n,r){let i=t.queries.getByIndex(n),o=i.matches;if(o!==null){let s=yb(t,e,i,n);for(let a=0;a<o.length;a+=2){let u=o[a];if(u>0)r.push(s[a/2]);else{let l=o[a+1],h=e[-u];for(let p=en;p<h.length;p++){let m=h[p];m[$i]===m[Mt]&&wg(m[de],m,l,r)}if(h[rs]!==null){let p=h[rs];for(let m=0;m<p.length;m++){let y=p[m];wg(y[de],y,l,r)}}}}}return r}function D1(t,e){return t[gr].queries[e].queryList}function vb(t,e,n){let r=new tg((n&4)===4);return lO(t,e,r,r.destroy),(e[gr]??=new yg).queries.push(new mg(r))-1}function T1(t,e,n){let r=pt();return r.firstCreatePass&&(_b(r,new Fl(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),vb(r,Ee(),e)}function S1(t,e,n,r){let i=pt();if(i.firstCreatePass){let o=xt();_b(i,new Fl(e,n,r),o.index),M1(i,t),(n&2)===2&&(i.staticContentQueries=!0)}return vb(i,Ee(),n)}function A1(t){return t.split(",").map(e=>e.trim())}function _b(t,e,n){t.queries===null&&(t.queries=new vg),t.queries.track(new _g(e,n))}function M1(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function mm(t,e){return t.queries.getByIndex(e)}function x1(t,e){let n=t[de],r=mm(n,e);return r.crossesNgTemplate?wg(n,t,e,[]):yb(n,t,r,e)}function R1(t){return typeof t=="function"&&t[Jf]!==void 0}function wb(t){return R1(t)&&typeof t.set=="function"}function P1(t){return Object.getPrototypeOf(t.prototype).constructor}function fn(t){let e=P1(t.type),n=!0,r=[t];for(;e;){let i;if(oi(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new G(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=ll(t.inputs),s.inputTransforms=ll(t.inputTransforms),s.declaredInputs=ll(t.declaredInputs),s.outputs=ll(t.outputs);let a=i.hostBindings;a&&V1(t,a);let u=i.viewQuery,l=i.contentQueries;if(u&&k1(t,u),l&&F1(t,l),N1(t,i),xR(t.outputs,i.outputs),oi(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===fn&&(n=!1)}}e=Object.getPrototypeOf(e)}O1(r)}function N1(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function O1(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=ja(i.hostAttrs,n=ja(n,i.hostAttrs))}}function ll(t){return t===Zo?{}:t===un?[]:t}function k1(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function F1(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function V1(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function ym(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var si=class{},Ha=class{};var Eg=class extends si{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new kl(this);let i=RI(e);this._bootstrapComponents=PC(i.bootstrap),this._r3Injector=wC(e,n,[{provide:si,useValue:this},{provide:os,useValue:this.componentFactoryResolver},...r],jt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Ig=class extends Ha{constructor(e){super(),this.moduleType=e}create(e){return new Eg(this.moduleType,e,[])}};var Vl=class extends si{constructor(e){super(),this.componentFactoryResolver=new kl(this),this.instance=null;let n=new Ua([...e.providers,{provide:si,useValue:this},{provide:os,useValue:this.componentFactoryResolver}],e.parent||Lg(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function rd(t,e,n=null){return new Vl({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function Eb(t){return j1(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function L1(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function j1(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function vm(t,e,n){return t[e]=n}function yr(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function _m(t,e,n,r){let i=yr(t,e,n);return yr(t,e+1,r)||i}function U1(t,e,n,r,i){let o=_m(t,e,n,r);return yr(t,e+2,i)||o}function B1(t){return(t.flags&32)===32}function $1(t,e,n,r,i,o,s,a,u){let l=e.consts,h=Xl(e,t,4,s||null,a||null);YC(e,n,h,Tl(l,u)),Kg(e,h);let p=h.tView=cm(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function H1(t,e,n,r,i,o,s,a,u,l){let h=n+dn,p=e.firstCreatePass?$1(h,e,t,r,i,o,s,a,u):e.data[h];Wa(p,!1);let m=z1(e,t,p,n);Gg()&&sm(e,t,m,p),Ki(m,t);let y=XC(m,t,m,p);return t[h]=y,ed(t,y),_1(y,p,t),jg(p)&&WC(e,t,p),u!=null&&KC(t,p,l),p}function et(t,e,n,r,i,o,s,a){let u=Ee(),l=pt(),h=Tl(l.consts,o);return H1(u,l,t,e,n,r,i,h,s,a),et}var z1=q1;function q1(t,e,n,r){return Wg(!0),e[ot].createComment("")}function Qa(t,e,n,r){let i=Ee(),o=Kl();if(yr(i,o,e)){let s=pt(),a=Ql();DO(a,i,t,e,n,r)}return Qa}function Ib(t,e,n,r){return yr(t,Kl(),n)?e+Jo(n)+r:Wn}function G1(t,e,n,r,i,o){let s=GP(),a=_m(t,s,n,i);return nC(2),a?e+Jo(n)+r+Jo(i)+o:Wn}function dl(t,e){return t<<17|e<<2}function Ji(t){return t>>17&32767}function W1(t){return(t&2)==2}function K1(t,e){return t&131071|e<<17}function Cg(t){return t|2}function cs(t){return(t&131068)>>2}function Pp(t,e){return t&-131069|e<<2}function Q1(t){return(t&1)===1}function bg(t){return t|1}function Y1(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Ji(s),u=cs(s);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||Ga(p,h)>0)&&(l=!0)}else h=n;if(i)if(u!==0){let m=Ji(t[a+1]);t[r+1]=dl(m,a),m!==0&&(t[m+1]=Pp(t[m+1],r)),t[a+1]=K1(t[a+1],r)}else t[r+1]=dl(a,0),a!==0&&(t[a+1]=Pp(t[a+1],r)),a=r;else t[r+1]=dl(u,0),a===0?a=r:t[u+1]=Pp(t[u+1],r),u=r;l&&(t[r+1]=Cg(t[r+1])),iI(t,h,r,!0),iI(t,h,r,!1),J1(e,h,t,r,o),s=dl(a,u),o?e.classBindings=s:e.styleBindings=s}function J1(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Ga(o,e)>=0&&(n[r+1]=bg(n[r+1]))}function iI(t,e,n,r){let i=t[n+1],o=e===null,s=r?Ji(i):cs(i),a=!1;for(;s!==0&&(a===!1||o);){let u=t[s],l=t[s+1];Z1(u,e)&&(a=!0,t[s+1]=r?bg(l):Cg(l)),s=r?Ji(l):cs(l)}a&&(t[n+1]=r?Cg(i):bg(i))}function Z1(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Ga(t,e)>=0:!1}function me(t,e,n){let r=Ee(),i=Kl();if(yr(r,i,e)){let o=pt(),s=Ql();um(o,s,r,t,e,r[ot],n,!1)}return me}function oI(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";lm(t,n,o[s],s,r)}function id(t,e){return X1(t,e,null,!0),id}function X1(t,e,n,r){let i=Ee(),o=pt(),s=nC(2);if(o.firstUpdatePass&&tk(o,t,s,r),e!==Wn&&yr(i,s,e)){let a=o.data[Zi()];sk(o,a,i,i[ot],t,i[s+1]=ak(e,n),r,s)}}function ek(t,e){return e>=t.expandoStartIndex}function tk(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[Zi()],s=ek(t,n);ck(o,r)&&e===null&&!s&&(e=!1),e=nk(i,o,e,r),Y1(i,o,e,n,s,r)}}function nk(t,e,n,r){let i=JP(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Np(null,t,e,n,r),n=za(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=Np(i,t,e,n,r),o===null){let u=rk(t,e,r);u!==void 0&&Array.isArray(u)&&(u=Np(null,t,e,u[1],r),u=za(u,e.attrs,r),ik(t,e,r,u))}else o=ok(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function rk(t,e,n){let r=n?e.classBindings:e.styleBindings;if(cs(r)!==0)return t[Ji(r)]}function ik(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Ji(i)]=r}function ok(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=za(r,s,n)}return za(r,e.attrs,n)}function Np(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=za(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function za(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),ZR(t,s,n?!0:e[++o]))}return t===void 0?null:t}function sk(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],h=Q1(l)?sI(u,e,n,i,cs(l),s):void 0;if(!Ll(h)){Ll(o)||W1(l)&&(o=sI(u,null,n,i,a,s));let p=GI(Zi(),n);nO(r,s,p,i,o)}}function sI(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,m=n[i+1];m===Wn&&(m=p?un:void 0);let y=p?Cp(m,r):h===r?m:void 0;if(l&&!Ll(y)&&(y=Cp(u,r)),Ll(y)&&(a=y,s))return a;let D=t[i+1];i=s?Ji(D):cs(D)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=Cp(u,r))}return a}function Ll(t){return t!==void 0}function ak(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=jt(Ka(t)))),t}function ck(t,e){return(t.flags&(e?8:16))!==0}function uk(t,e,n,r,i,o){let s=e.consts,a=Tl(s,i),u=Xl(e,t,2,r,a);return YC(e,n,u,Tl(s,o)),u.attrs!==null&&pg(u,u.attrs,!1),u.mergedAttrs!==null&&pg(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function T(t,e,n,r){let i=Ee(),o=pt(),s=dn+t,a=i[ot],u=o.firstCreatePass?uk(s,o,i,e,n,r):o.data[s],l=lk(o,i,u,a,e,t);i[s]=l;let h=jg(u);return Wa(u,!0),UC(a,l,u),!B1(u)&&Gg()&&sm(o,i,l,u),VP()===0&&Ki(l,i),LP(),h&&(WC(o,i,u),GC(o,u,i)),r!==null&&KC(i,u),T}function M(){let t=xt();eC()?zP():(t=t.parent,Wa(t,!1));let e=t;BP(e)&&$P(),jP();let n=pt();return n.firstCreatePass&&(Kg(n,t),BI(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&iN(e)&&oI(n,e,Ee(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&oN(e)&&oI(n,e,Ee(),e.stylesWithoutHost,!1),M}function he(t,e,n,r){return T(t,e,n,r),M(),he}var lk=(t,e,n,r,i,o)=>(Wg(!0),NC(r,i,eN()));function $t(){return Ee()}var Li=void 0;function dk(t){let e=t,n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&r===0?1:5}var hk=["en",[["a","p"],["AM","PM"],Li],[["AM","PM"],Li,Li],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Li,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Li,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Li,"{1} 'at' {0}",Li],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",dk],Op={};function pn(t){let e=fk(t),n=aI(e);if(n)return n;let r=e.split("-")[0];if(n=aI(r),n)return n;if(r==="en")return hk;throw new G(701,!1)}function aI(t){return t in Op||(Op[t]=pr.ng&&pr.ng.common&&pr.ng.common.locales&&pr.ng.common.locales[t]),Op[t]}var tt=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(tt||{});function fk(t){return t.toLowerCase().replace(/_/g,"-")}var jl="en-US";var pk=jl;function gk(t){typeof t=="string"&&(pk=t.toLowerCase().replace(/_/g,"-"))}var mk=(t,e,n)=>{};function Z(t,e,n,r){let i=Ee(),o=pt(),s=xt();return Cb(o,i,i[ot],s,t,e,r),Z}function yk(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[Cl],u=i[o+2];return a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function Cb(t,e,n,r,i,o,s){let a=jg(r),l=t.firstCreatePass&&nb(t),h=e[bn],p=tb(e),m=!0;if(r.type&3||s){let P=hn(r,e),x=s?s(P):P,F=p.length,K=s?Y=>s(Bn(Y[r.index])):r.index,q=null;if(!s&&a&&(q=yk(t,e,i,r.index)),q!==null){let Y=q.__ngLastListenerFn__||q;Y.__ngNextListenerFn__=o,q.__ngLastListenerFn__=o,m=!1}else{o=uI(r,e,h,o),mk(P,i,o);let Y=n.listen(x,i,o);p.push(o,Y),l&&l.push(i,K,F,F+1)}}else o=uI(r,e,h,o);let y=r.outputs,D;if(m&&y!==null&&(D=y[i])){let P=D.length;if(P)for(let x=0;x<P;x+=2){let F=D[x],K=D[x+1],Ne=e[F][K].subscribe(o),ee=p.length;p.push(o,Ne),l&&l.push(i,r.index,ee,-(ee+1))}}}function cI(t,e,n,r){let i=Se(null);try{return Fn(6,e,n),n(r)!==!1}catch(o){return rb(t,o),!1}finally{Fn(7,e,n),Se(i)}}function uI(t,e,n,r){return function i(o){if(o===Function)return r;let s=t.componentOffset>-1?ai(t.index,e):e;hm(s,5);let a=cI(e,n,r,o),u=i.__ngNextListenerFn__;for(;u;)a=cI(e,n,u,o)&&a,u=u.__ngNextListenerFn__;return a}}function ie(t=1){return XP(t)}function Kn(t,e,n){return bb(t,"",e,"",n),Kn}function bb(t,e,n,r,i){let o=Ee(),s=Ib(o,e,n,r);if(s!==Wn){let a=pt(),u=Ql();um(a,u,o,t,s,o[ot],i,!1)}return bb}function Db(t,e,n,r){S1(t,e,n,r)}function Tb(t,e,n){T1(t,e,n)}function od(t){let e=Ee(),n=pt(),r=rC();Hg(r+1);let i=mm(n,r);if(t.dirty&&NP(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let o=x1(e,r);t.reset(o,_N),t.notifyOnChanges()}return!0}return!1}function sd(){return D1(Ee(),rC())}function vk(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function Ya(t){let e=qP();return Ug(e,dn+t)}function N(t,e=""){let n=Ee(),r=pt(),i=t+dn,o=r.firstCreatePass?Xl(r,i,1,e,null):r.data[i],s=_k(r,n,o,e,t);n[i]=s,Gg()&&sm(r,n,s,o),Wa(o,!1)}var _k=(t,e,n,r,i)=>(Wg(!0),LN(e[ot],r));function Ve(t){return Xi("",t,""),Ve}function Xi(t,e,n){let r=Ee(),i=Ib(r,t,e,n);return i!==Wn&&ib(r,Zi(),i),Xi}function br(t,e,n,r,i){let o=Ee(),s=G1(o,t,e,n,r,i);return s!==Wn&&ib(o,Zi(),s),br}function $e(t,e,n){wb(e)&&(e=e());let r=Ee(),i=Kl();if(yr(r,i,e)){let o=pt(),s=Ql();um(o,s,r,t,e,r[ot],n,!1)}return $e}function qe(t,e){let n=wb(t);return n&&t.set(e),n}function He(t,e){let n=Ee(),r=pt(),i=xt();return Cb(r,n,n[ot],i,t,e),He}function wk(t,e,n){let r=pt();if(r.firstCreatePass){let i=oi(t);Dg(n,r.data,r.blueprint,i,!0),Dg(e,r.data,r.blueprint,i,!1)}}function Dg(t,e,n,r,i){if(t=Lt(t),Array.isArray(t))for(let o=0;o<t.length;o++)Dg(t[o],e,n,r,i);else{let o=pt(),s=Ee(),a=xt(),u=ts(t)?t:Lt(t.provide),l=VI(t),h=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if(ts(t)||!t.multi){let y=new Gi(l,i,B),D=Fp(u,e,i?h:h+m,p);D===-1?(Jp(xl(a,s),o,u),kp(o,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(y),s.push(y)):(n[D]=y,s[D]=y)}else{let y=Fp(u,e,h+m,p),D=Fp(u,e,h,h+m),P=y>=0&&n[y],x=D>=0&&n[D];if(i&&!x||!i&&!P){Jp(xl(a,s),o,u);let F=Ck(i?Ik:Ek,n.length,i,r,l);!i&&x&&(n[D].providerFactory=F),kp(o,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(F),s.push(F)}else{let F=Sb(n[i?D:y],l,!i&&r);kp(o,t,y>-1?y:D,F)}!i&&r&&x&&n[D].componentProviders++}}}function kp(t,e,n,r){let i=ts(e),o=_P(e);if(i||o){let u=(o?Lt(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[r,u]):l[h+1].push(r,u)}else l.push(n,u)}}}function Sb(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Fp(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Ek(t,e,n,r){return Tg(this.multi,[])}function Ik(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Wi(n,n[de],this.providerFactory.index,r);o=a.slice(0,s),Tg(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],Tg(i,o);return o}function Tg(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function Ck(t,e,n,r,i){let o=new Gi(t,n,B);return o.multi=[],o.index=e,o.componentProviders=0,Sb(o,i,r&&!n),o}function ui(t,e=[]){return n=>{n.providersResolver=(r,i)=>wk(r,i?i(t):t,e)}}var bk=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=OI(!1,r.type),o=i.length>0?rd([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=H({token:e,providedIn:"environment",factory:()=>new e(W(At))});let t=e;return t})();function Ye(t){td("NgStandalone"),t.getStandaloneInjector=e=>e.get(bk).getOrCreateStandaloneInjector(t)}function ad(t,e,n,r){return Dk(Ee(),$g(),t,e,n,r)}function wm(t,e){let n=t[e];return n===Wn?void 0:n}function Dk(t,e,n,r,i,o){let s=e+n;return yr(t,s,i)?vm(t,s+1,o?r.call(o,i):r(i)):wm(t,s+1)}function Tk(t,e,n,r,i,o,s){let a=e+n;return _m(t,a,i,o)?vm(t,a+2,s?r.call(s,i,o):r(i,o)):wm(t,a+2)}function Sk(t,e,n,r,i,o,s,a){let u=e+n;return U1(t,u,i,o,s)?vm(t,u+3,a?r.call(a,i,o,s):r(i,o,s)):wm(t,u+3)}function cd(t,e){let n=pt(),r,i=t+dn;n.firstCreatePass?(r=Ak(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=Bi(r.type,!0)),s,a=Kt(B);try{let u=Ml(!1),l=o();return Ml(u),vk(n,Ee(),i,l),l}finally{Kt(a)}}function Ak(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function Ab(t,e,n,r){let i=t+dn,o=Ee(),s=Ug(o,i);return xb(o,i)?Tk(o,$g(),e,s.transform,n,r,s):s.transform(n,r)}function Mb(t,e,n,r,i){let o=t+dn,s=Ee(),a=Ug(s,o);return xb(s,o)?Sk(s,$g(),e,a.transform,n,r,i,a):a.transform(n,r,i)}function xb(t,e){return t[de].data[e].pure}var vr=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},Rb=new vr("18.0.5");var ud=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var Pb=new $("");function eo(t){return!!t&&typeof t.then=="function"}function Nb(t){return!!t&&typeof t.subscribe=="function"}var ld=new $(""),Ob=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=k(ld,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let o of this.appInits){let s=o();if(eo(s))r.push(s);else if(Nb(s)){let a=new Promise((u,l)=>{s.subscribe({complete:u,error:l})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ja=new $("");function Mk(){tE(()=>{throw new G(600,!1)})}function xk(t){return t.isBoundToModule}var Rk=10;function Pk(t,e,n){try{let r=n();return eo(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var to=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=k(EC),this.afterRenderEffectManager=k(gm),this.zonelessEnabled=k(db),this.externalTestViews=new Set,this.beforeRender=new ft,this.afterTick=new ft,this.componentTypes=[],this.components=[],this.isStable=k(Cr).hasPendingTasks.pipe(te(r=>!r)),this._injector=k(At)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let o=r instanceof Ol;if(!this._injector.get(Ob).done){let y=!o&&xI(r),D=!1;throw new G(405,D)}let a;o?a=r:a=this._injector.get(os).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let u=xk(a)?void 0:this._injector.get(si),l=i||a.selector,h=a.create(_t.NULL,[],l,u),p=h.location.nativeElement,m=h.injector.get(Pb,null);return m?.registerApplication(p),h.onDestroy(()=>{this.detachView(h.hostView),Vp(this.components,h),m?.unregisterApplication(p)}),this._loadComponent(h),h}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new G(101,!1);let i=Se(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(o){this.internalErrorHandler(o)}finally{this._runningTick=!1,Se(i),this.afterTick.next()}}detectChangesInAttachedViews(r){let i=null;this._injector.destroyed||(i=this._injector.get(ss,null,{optional:!0}));let o=0,s=this.afterRenderEffectManager;for(;o<Rk;){let a=o===0;if(r||!a){this.beforeRender.next(a);for(let{_lView:u,notifyErrorHandler:l}of this._views)Nk(u,l,a,this.zonelessEnabled)}else i?.begin?.(),i?.end?.();if(o++,s.executeInternalCallbacks(),!this.allViews.some(({_lView:u})=>$a(u))&&(s.execute(),!this.allViews.some(({_lView:u})=>$a(u))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;Vp(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(Ja,[]);[...this._bootstrapListeners,...i].forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Vp(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new G(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Vp(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Nk(t,e,n,r){if(!n&&!$a(t))return;ab(t,e,n&&!r?0:1)}var Sg=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},dd=(()=>{let e=class e{compileModuleSync(r){return new Ig(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),o=RI(r),s=PC(o.declarations).reduce((a,u)=>{let l=ii(u);return l&&a.push(new as(l)),a},[]);return new Sg(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Ok=(()=>{let e=class e{constructor(){this.zone=k(De),this.changeDetectionScheduler=k(is),this.applicationRef=k(to)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function kk({ngZoneFactory:t,ignoreChangesOutsideZone:e}){return t??=()=>new De(Vk()),[{provide:De,useFactory:t},{provide:Xo,multi:!0,useFactory:()=>{let n=k(Ok,{optional:!0});return()=>n.initialize()}},{provide:Xo,multi:!0,useFactory:()=>{let n=k(Lk);return()=>{n.initialize()}}},{provide:EC,useFactory:Fk},e===!0?{provide:hb,useValue:!0}:[]]}function Fk(){let t=k(De),e=k($n);return n=>t.runOutsideAngular(()=>e.handleError(n))}function Vk(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var Lk=(()=>{let e=class e{constructor(){this.subscription=new We,this.initialized=!1,this.zone=k(De),this.pendingTasks=k(Cr)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{De.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{De.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var jk=(()=>{let e=class e{constructor(){this.appRef=k(to),this.taskService=k(Cr),this.ngZone=k(De),this.zonelessEnabled=k(db),this.disableScheduling=k(hb,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new We,this.cancelScheduledCallback=null,this.shouldRefreshViews=!1,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof dg||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&r===5)return;switch(r){case 3:case 2:case 0:case 4:case 5:case 1:{this.shouldRefreshViews=!0;break}case 8:case 7:case 6:case 9:default:}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?ZE:fb;this.pendingRenderTaskId=this.taskService.add(),this.zoneIsDefined?Zone.root.run(()=>{this.cancelScheduledCallback=i(()=>{this.tick(this.shouldRefreshViews)})}):this.cancelScheduledCallback=i(()=>{this.tick(this.shouldRefreshViews)})}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&De.isInAngularZone())}tick(r){if(this.runningTick||this.appRef.destroyed)return;let i=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick(r)},void 0,this.schedulerTickApplyArgs)}catch(o){throw this.taskService.remove(i),o}finally{this.cleanup()}this.useMicrotaskScheduler=!0,ZE(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(i)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.shouldRefreshViews=!1,this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Uk(){return typeof $localize<"u"&&$localize.locale||jl}var hd=new $("",{providedIn:"root",factory:()=>k(hd,ge.Optional|ge.SkipSelf)||Uk()});var kb=new $("");var yl=null;function Bk(t=[],e){return _t.create({name:e,providers:[{provide:zl,useValue:"platform"},{provide:kb,useValue:new Set([()=>yl=null])},...t]})}function $k(t=[]){if(yl)return yl;let e=Bk(t);return yl=e,Mk(),Hk(e),e}function Hk(t){t.get(Xg,null)?.forEach(n=>n())}function Fb(){return!1}var li=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=zk;let t=e;return t})();function zk(t){return qk(xt(),Ee(),(t&16)===16)}function qk(t,e,n){if(Gl(t)&&!n){let r=ai(t.index,e);return new Qi(r,r)}else if(t.type&175){let r=e[Un];return new Qi(r,e)}return null}var Ag=class{constructor(){}supports(e){return Eb(e)}create(e){return new Mg(e)}},Gk=(t,e)=>e,Mg=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Gk}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<lI(r,i,o)?n:r,a=lI(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=u-i;if(l!=h){for(let m=0;m<l;m++){let y=m<o.length?o[m]:o[m]=0,D=y+m;h<=D&&D<l&&(o[m]=y+1)}let p=s.previousIndex;o[p]=h-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!Eb(e))throw new G(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,L1(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new xg(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Ul),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Ul),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},xg=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Rg=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Ul=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new Rg,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function lI(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function dI(){return new Em([new Ag])}var Em=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let o=i.factories.slice();r=r.concat(o)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||dI()),deps:[[e,new Ng,new Ut]]}}find(r){let i=this.factories.find(o=>o.supports(r));if(i!=null)return i;throw new G(901,!1)}};e.\u0275prov=H({token:e,providedIn:"root",factory:dI});let t=e;return t})();function Vb(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=$k(r),o=[kk({}),{provide:is,useExisting:jk},...n||[]],a=new Vl({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,u=a.get(De);return u.run(()=>{a.resolveInjectorInitializers();let l=a.get($n,null),h;u.runOutsideAngular(()=>{h=u.onError.subscribe({next:y=>{l.handleError(y)}})});let p=()=>a.destroy(),m=i.get(kb);return m.add(p),a.onDestroy(()=>{h.unsubscribe(),m.delete(p)}),Pk(l,u,()=>{let y=a.get(Ob);return y.runInitializers(),y.donePromise.then(()=>{let D=a.get(hd,jl);gk(D||jl);let P=a.get(to);return e!==void 0&&P.bootstrap(e),P})})})}catch(e){return Promise.reject(e)}}function di(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function Lb(t){let e=ii(t);if(!e)return null;let n=new as(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var qb=null;function Ar(){return qb}function Gb(t){qb??=t}var Ed=class{};var Rt=new $(""),Rm=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:()=>k(Wk),providedIn:"platform"});let t=e;return t})(),Wb=new $(""),Wk=(()=>{let e=class e extends Rm{constructor(){super(),this._doc=k(Rt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ar().getBaseHref(this._doc)}onPopState(r){let i=Ar().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=Ar().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function Pm(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function jb(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Tr(t){return t&&t[0]!=="?"?"?"+t:t}var Mr=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:()=>k(Nm),providedIn:"root"});let t=e;return t})(),Kb=new $(""),Nm=(()=>{let e=class e extends Mr{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??k(Rt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return Pm(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+Tr(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+Tr(s));this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+Tr(s));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(W(Rm),W(Kb,8))},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Qb=(()=>{let e=class e extends Mr{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=Pm(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+Tr(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+Tr(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(W(Rm),W(Kb,8))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})(),hs=(()=>{let e=class e{constructor(r){this._subject=new Ke,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=Yk(jb(Ub(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Tr(i))}normalize(r){return e.stripTrailingSlash(Qk(this._basePath,Ub(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Tr(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Tr(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}};e.normalizeQueryParams=Tr,e.joinWithSlash=Pm,e.stripTrailingSlash=jb,e.\u0275fac=function(i){return new(i||e)(W(Mr))},e.\u0275prov=H({token:e,factory:()=>Kk(),providedIn:"root"});let t=e;return t})();function Kk(){return new hs(W(Mr))}function Qk(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function Ub(t){return t.replace(/\/index.html$/,"")}function Yk(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var Ht=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(Ht||{}),Le=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(Le||{}),nn=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(nn||{}),hi={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Jk(t){return pn(t)[tt.LocaleId]}function Zk(t,e,n){let r=pn(t),i=[r[tt.DayPeriodsFormat],r[tt.DayPeriodsStandalone]],o=gn(i,e);return gn(o,n)}function Xk(t,e,n){let r=pn(t),i=[r[tt.DaysFormat],r[tt.DaysStandalone]],o=gn(i,e);return gn(o,n)}function eF(t,e,n){let r=pn(t),i=[r[tt.MonthsFormat],r[tt.MonthsStandalone]],o=gn(i,e);return gn(o,n)}function tF(t,e){let r=pn(t)[tt.Eras];return gn(r,e)}function fd(t,e){let n=pn(t);return gn(n[tt.DateFormat],e)}function pd(t,e){let n=pn(t);return gn(n[tt.TimeFormat],e)}function gd(t,e){let r=pn(t)[tt.DateTimeFormat];return gn(r,e)}function Cd(t,e){let n=pn(t),r=n[tt.NumberSymbols][e];if(typeof r>"u"){if(e===hi.CurrencyDecimal)return n[tt.NumberSymbols][hi.Decimal];if(e===hi.CurrencyGroup)return n[tt.NumberSymbols][hi.Group]}return r}function Yb(t){if(!t[tt.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[tt.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function nF(t){let e=pn(t);return Yb(e),(e[tt.ExtraData][2]||[]).map(r=>typeof r=="string"?Cm(r):[Cm(r[0]),Cm(r[1])])}function rF(t,e,n){let r=pn(t);Yb(r);let i=[r[tt.ExtraData][0],r[tt.ExtraData][1]],o=gn(i,e)||[];return gn(o,n)||[]}function gn(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function Cm(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var iF=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,md={},oF=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,Sr=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(Sr||{}),Me=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(Me||{}),Ae=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(Ae||{});function sF(t,e,n,r){let i=gF(t);e=Dr(n,e)||e;let s=[],a;for(;e;)if(a=oF.exec(e),a){s=s.concat(a.slice(1));let h=s.pop();if(!h)break;e=h}else{s.push(e);break}let u=i.getTimezoneOffset();r&&(u=Zb(r,u),i=pF(i,r,!0));let l="";return s.forEach(h=>{let p=hF(h);l+=p?p(i,n,u):h==="''"?"'":h.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function Id(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function Dr(t,e){let n=Jk(t);if(md[n]??={},md[n][e])return md[n][e];let r="";switch(e){case"shortDate":r=fd(t,nn.Short);break;case"mediumDate":r=fd(t,nn.Medium);break;case"longDate":r=fd(t,nn.Long);break;case"fullDate":r=fd(t,nn.Full);break;case"shortTime":r=pd(t,nn.Short);break;case"mediumTime":r=pd(t,nn.Medium);break;case"longTime":r=pd(t,nn.Long);break;case"fullTime":r=pd(t,nn.Full);break;case"short":let i=Dr(t,"shortTime"),o=Dr(t,"shortDate");r=yd(gd(t,nn.Short),[i,o]);break;case"medium":let s=Dr(t,"mediumTime"),a=Dr(t,"mediumDate");r=yd(gd(t,nn.Medium),[s,a]);break;case"long":let u=Dr(t,"longTime"),l=Dr(t,"longDate");r=yd(gd(t,nn.Long),[u,l]);break;case"full":let h=Dr(t,"fullTime"),p=Dr(t,"fullDate");r=yd(gd(t,nn.Full),[h,p]);break}return r&&(md[n][e]=r),r}function yd(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function An(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function aF(t,e){return An(t,3).substring(0,e)}function st(t,e,n=0,r=!1,i=!1){return function(o,s){let a=cF(t,o);if((n>0||a>-n)&&(a+=n),t===Me.Hours)a===0&&n===-12&&(a=12);else if(t===Me.FractionalSeconds)return aF(a,e);let u=Cd(s,hi.MinusSign);return An(a,e,u,r,i)}}function cF(t,e){switch(t){case Me.FullYear:return e.getFullYear();case Me.Month:return e.getMonth();case Me.Date:return e.getDate();case Me.Hours:return e.getHours();case Me.Minutes:return e.getMinutes();case Me.Seconds:return e.getSeconds();case Me.FractionalSeconds:return e.getMilliseconds();case Me.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function je(t,e,n=Ht.Format,r=!1){return function(i,o){return uF(i,o,t,e,n,r)}}function uF(t,e,n,r,i,o){switch(n){case Ae.Months:return eF(e,i,r)[t.getMonth()];case Ae.Days:return Xk(e,i,r)[t.getDay()];case Ae.DayPeriods:let s=t.getHours(),a=t.getMinutes();if(o){let l=nF(e),h=rF(e,i,r),p=l.findIndex(m=>{if(Array.isArray(m)){let[y,D]=m,P=s>=y.hours&&a>=y.minutes,x=s<D.hours||s===D.hours&&a<D.minutes;if(y.hours<D.hours){if(P&&x)return!0}else if(P||x)return!0}else if(m.hours===s&&m.minutes===a)return!0;return!1});if(p!==-1)return h[p]}return Zk(e,i,r)[s<12?0:1];case Ae.Eras:return tF(e,r)[t.getFullYear()<=0?0:1];default:let u=n;throw new Error(`unexpected translation type ${u}`)}}function vd(t){return function(e,n,r){let i=-1*r,o=Cd(n,hi.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case Sr.Short:return(i>=0?"+":"")+An(s,2,o)+An(Math.abs(i%60),2,o);case Sr.ShortGMT:return"GMT"+(i>=0?"+":"")+An(s,1,o);case Sr.Long:return"GMT"+(i>=0?"+":"")+An(s,2,o)+":"+An(Math.abs(i%60),2,o);case Sr.Extended:return r===0?"Z":(i>=0?"+":"")+An(s,2,o)+":"+An(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}var lF=0,wd=4;function dF(t){let e=Id(t,lF,1).getDay();return Id(t,0,1+(e<=wd?wd:wd+7)-e)}function Jb(t){let e=t.getDay(),n=e===0?-3:wd-e;return Id(t.getFullYear(),t.getMonth(),t.getDate()+n)}function bm(t,e=!1){return function(n,r){let i;if(e){let o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();i=1+Math.floor((s+o)/7)}else{let o=Jb(n),s=dF(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return An(i,t,Cd(r,hi.MinusSign))}}function _d(t,e=!1){return function(n,r){let o=Jb(n).getFullYear();return An(o,t,Cd(r,hi.MinusSign),e)}}var Dm={};function hF(t){if(Dm[t])return Dm[t];let e;switch(t){case"G":case"GG":case"GGG":e=je(Ae.Eras,Le.Abbreviated);break;case"GGGG":e=je(Ae.Eras,Le.Wide);break;case"GGGGG":e=je(Ae.Eras,Le.Narrow);break;case"y":e=st(Me.FullYear,1,0,!1,!0);break;case"yy":e=st(Me.FullYear,2,0,!0,!0);break;case"yyy":e=st(Me.FullYear,3,0,!1,!0);break;case"yyyy":e=st(Me.FullYear,4,0,!1,!0);break;case"Y":e=_d(1);break;case"YY":e=_d(2,!0);break;case"YYY":e=_d(3);break;case"YYYY":e=_d(4);break;case"M":case"L":e=st(Me.Month,1,1);break;case"MM":case"LL":e=st(Me.Month,2,1);break;case"MMM":e=je(Ae.Months,Le.Abbreviated);break;case"MMMM":e=je(Ae.Months,Le.Wide);break;case"MMMMM":e=je(Ae.Months,Le.Narrow);break;case"LLL":e=je(Ae.Months,Le.Abbreviated,Ht.Standalone);break;case"LLLL":e=je(Ae.Months,Le.Wide,Ht.Standalone);break;case"LLLLL":e=je(Ae.Months,Le.Narrow,Ht.Standalone);break;case"w":e=bm(1);break;case"ww":e=bm(2);break;case"W":e=bm(1,!0);break;case"d":e=st(Me.Date,1);break;case"dd":e=st(Me.Date,2);break;case"c":case"cc":e=st(Me.Day,1);break;case"ccc":e=je(Ae.Days,Le.Abbreviated,Ht.Standalone);break;case"cccc":e=je(Ae.Days,Le.Wide,Ht.Standalone);break;case"ccccc":e=je(Ae.Days,Le.Narrow,Ht.Standalone);break;case"cccccc":e=je(Ae.Days,Le.Short,Ht.Standalone);break;case"E":case"EE":case"EEE":e=je(Ae.Days,Le.Abbreviated);break;case"EEEE":e=je(Ae.Days,Le.Wide);break;case"EEEEE":e=je(Ae.Days,Le.Narrow);break;case"EEEEEE":e=je(Ae.Days,Le.Short);break;case"a":case"aa":case"aaa":e=je(Ae.DayPeriods,Le.Abbreviated);break;case"aaaa":e=je(Ae.DayPeriods,Le.Wide);break;case"aaaaa":e=je(Ae.DayPeriods,Le.Narrow);break;case"b":case"bb":case"bbb":e=je(Ae.DayPeriods,Le.Abbreviated,Ht.Standalone,!0);break;case"bbbb":e=je(Ae.DayPeriods,Le.Wide,Ht.Standalone,!0);break;case"bbbbb":e=je(Ae.DayPeriods,Le.Narrow,Ht.Standalone,!0);break;case"B":case"BB":case"BBB":e=je(Ae.DayPeriods,Le.Abbreviated,Ht.Format,!0);break;case"BBBB":e=je(Ae.DayPeriods,Le.Wide,Ht.Format,!0);break;case"BBBBB":e=je(Ae.DayPeriods,Le.Narrow,Ht.Format,!0);break;case"h":e=st(Me.Hours,1,-12);break;case"hh":e=st(Me.Hours,2,-12);break;case"H":e=st(Me.Hours,1);break;case"HH":e=st(Me.Hours,2);break;case"m":e=st(Me.Minutes,1);break;case"mm":e=st(Me.Minutes,2);break;case"s":e=st(Me.Seconds,1);break;case"ss":e=st(Me.Seconds,2);break;case"S":e=st(Me.FractionalSeconds,1);break;case"SS":e=st(Me.FractionalSeconds,2);break;case"SSS":e=st(Me.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=vd(Sr.Short);break;case"ZZZZZ":e=vd(Sr.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=vd(Sr.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=vd(Sr.Long);break;default:return null}return Dm[t]=e,e}function Zb(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function fF(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function pF(t,e,n){let r=n?-1:1,i=t.getTimezoneOffset(),o=Zb(e,i);return fF(t,r*(o-i))}function gF(t){if(Bb(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,o=1,s=1]=t.split("-").map(a=>+a);return Id(i,o-1,s)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(iF))return mF(r)}let e=new Date(t);if(!Bb(e))throw new Error(`Unable to convert "${t}" into a date`);return e}function mF(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,u=Number(t[6]||0),l=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return o.call(e,s,a,u,l),e}function Bb(t){return t instanceof Date&&!isNaN(t.valueOf())}function bd(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Tm=/\s+/,$b=[],Xb=(()=>{let e=class e{constructor(r,i){this._ngEl=r,this._renderer=i,this.initialClasses=$b,this.stateMap=new Map}set klass(r){this.initialClasses=r!=null?r.trim().split(Tm):$b}set ngClass(r){this.rawClass=typeof r=="string"?r.trim().split(Tm):r}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(let i of r)this._updateState(i,!0);else if(r!=null)for(let i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){let o=this.stateMap.get(r);o!==void 0?(o.enabled!==i&&(o.changed=!0,o.enabled=i),o.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let r of this.stateMap){let i=r[0],o=r[1];o.changed?(this._toggleClass(i,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),o.touched=!1}}_toggleClass(r,i){r=r.trim(),r.length>0&&r.split(Tm).forEach(o=>{i?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}};e.\u0275fac=function(i){return new(i||e)(B(Bt),B(Sn))},e.\u0275dir=Be({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var Sm=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},fi=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,o){this._viewContainer=r,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((o,s,a)=>{if(o.previousIndex==null)i.createEmbeddedView(this._template,new Sm(o.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(s===null?void 0:s);else if(s!==null){let u=i.get(s);i.move(u,a),Hb(u,o)}});for(let o=0,s=i.length;o<s;o++){let u=i.get(o).context;u.index=o,u.count=s,u.ngForOf=this._ngForOf}r.forEachIdentityChange(o=>{let s=i.get(o.currentIndex);Hb(s,o)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(B(ci),B(Yi),B(Em))},e.\u0275dir=Be({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function Hb(t,e){t.context.$implicit=e.item}var pi=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new Am,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){zb("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){zb("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(B(ci),B(Yi))},e.\u0275dir=Be({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),Am=class{constructor(){this.$implicit=null,this.ngIf=null}};function zb(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${jt(e)}'.`)}function eD(t,e){return new G(2100,!1)}var yF="mediumDate",vF=new $(""),_F=new $(""),tD=(()=>{let e=class e{constructor(r,i,o){this.locale=r,this.defaultTimezone=i,this.defaultOptions=o}transform(r,i,o,s){if(r==null||r===""||r!==r)return null;try{let a=i??this.defaultOptions?.dateFormat??yF,u=o??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return sF(r,a,s||this.locale,u)}catch(a){throw eD(e,a.message)}}};e.\u0275fac=function(i){return new(i||e)(B(hd,16),B(vF,24),B(_F,24))},e.\u0275pipe=Fg({name:"date",type:e,pure:!0,standalone:!0});let t=e;return t})();var nD=(()=>{let e=class e{transform(r,i,o){if(r==null)return null;if(!this.supports(r))throw eD(e,r);return r.slice(i,o)}supports(r){return typeof r=="string"||Array.isArray(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275pipe=Fg({name:"slice",type:e,pure:!1,standalone:!0});let t=e;return t})();var Et=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=qn({type:e}),e.\u0275inj=zn({});let t=e;return t})(),Om="browser",wF="server";function km(t){return t===Om}function fs(t){return t===wF}var rD=(()=>{let e=class e{};e.\u0275prov=H({token:e,providedIn:"root",factory:()=>km(k(wt))?new Mm(k(Rt),window):new xm});let t=e;return t})(),Mm=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=EF(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function EF(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var xm=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},ds=class{};var Xa=class{},Td=class{},xr=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=i.toLowerCase(),s=n.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var Vm=class{encodeKey(e){return iD(e)}encodeValue(e){return iD(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function IF(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],u=n.get(s)||[];u.push(a),n.set(s,u)}),n}var CF=/%(\d[a-f0-9])/gi,bF={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function iD(t){return encodeURIComponent(t).replace(CF,(e,n)=>bF[n]??e)}function Dd(t){return`${t}`}var mi=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Vm,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=IF(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(Dd):[Dd(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(Dd(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Dd(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Lm=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function DF(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function oD(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function sD(t){return typeof Blob<"u"&&t instanceof Blob}function aD(t){return typeof FormData<"u"&&t instanceof FormData}function TF(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var Za=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(DF(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new xr,this.context??=new Lm,!this.params)this.params=new mi,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),u=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+u+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||oD(this.body)||sD(this.body)||aD(this.body)||TF(this.body)?this.body:this.body instanceof mi?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||aD(this.body)?null:sD(this.body)?this.body.type||null:oD(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof mi?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,u=e.reportProgress??this.reportProgress,l=e.headers||this.headers,h=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((m,y)=>m.set(y,e.setHeaders[y]),l)),e.setParams&&(h=Object.keys(e.setParams).reduce((m,y)=>m.set(y,e.setParams[y]),h)),new t(n,r,s,{params:h,headers:l,context:p,reportProgress:u,responseType:i,withCredentials:a,transferCache:o})}},yi=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(yi||{}),ec=class{constructor(e,n=200,r="OK"){this.headers=e.headers||new xr,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Sd=class t extends ec{constructor(e={}){super(e),this.type=yi.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},tc=class t extends ec{constructor(e={}){super(e),this.type=yi.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},gi=class extends ec{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},hD=200,SF=204;function Fm(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var AF=(()=>{let e=class e{constructor(r){this.handler=r}request(r,i,o={}){let s;if(r instanceof Za)s=r;else{let l;o.headers instanceof xr?l=o.headers:l=new xr(o.headers);let h;o.params&&(o.params instanceof mi?h=o.params:h=new mi({fromObject:o.params})),s=new Za(r,i,o.body!==void 0?o.body:null,{headers:l,context:o.context,params:h,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let a=J(s).pipe(hr(l=>this.handler.handle(l)));if(r instanceof Za||o.observe==="events")return a;let u=a.pipe(Vt(l=>l instanceof tc));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return u.pipe(te(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return u.pipe(te(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return u.pipe(te(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return u.pipe(te(l=>l.body))}case"response":return u;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:new mi().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,o={}){return this.request("PATCH",r,Fm(o,i))}post(r,i,o={}){return this.request("POST",r,Fm(o,i))}put(r,i,o={}){return this.request("PUT",r,Fm(o,i))}};e.\u0275fac=function(i){return new(i||e)(W(Xa))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})(),MF=/^\)\]\}',?\n/,xF="X-Request-URL";function cD(t){if(t.url)return t.url;let e=xF.toLocaleLowerCase();return t.headers.get(e)}var RF=(()=>{let e=class e{constructor(){this.fetchImpl=k(jm,{optional:!0})?.fetch??fetch.bind(globalThis),this.ngZone=k(De)}handle(r){return new le(i=>{let o=new AbortController;return this.doRequest(r,o.signal,i).then(Um,s=>i.error(new gi({error:s}))),()=>o.abort()})}doRequest(r,i,o){return S(this,null,function*(){let s=this.createRequestInit(r),a;try{let D=this.fetchImpl(r.urlWithParams,j({signal:i},s));PF(D),o.next({type:yi.Sent}),a=yield D}catch(D){o.error(new gi({error:D,status:D.status??0,statusText:D.statusText,url:r.urlWithParams,headers:D.headers}));return}let u=new xr(a.headers),l=a.statusText,h=cD(a)??r.urlWithParams,p=a.status,m=null;if(r.reportProgress&&o.next(new Sd({headers:u,status:p,statusText:l,url:h})),a.body){let D=a.headers.get("content-length"),P=[],x=a.body.getReader(),F=0,K,q,Y=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>S(this,null,function*(){for(;;){let{done:ee,value:E}=yield x.read();if(ee)break;if(P.push(E),F+=E.length,r.reportProgress){q=r.responseType==="text"?(q??"")+(K??=new TextDecoder).decode(E,{stream:!0}):void 0;let v=()=>o.next({type:yi.DownloadProgress,total:D?+D:void 0,loaded:F,partialText:q});Y?Y.run(v):v()}}}));let Ne=this.concatChunks(P,F);try{let ee=a.headers.get("Content-Type")??"";m=this.parseBody(r,Ne,ee)}catch(ee){o.error(new gi({error:ee,headers:new xr(a.headers),status:a.status,statusText:a.statusText,url:cD(a)??r.urlWithParams}));return}}p===0&&(p=m?hD:0),p>=200&&p<300?(o.next(new tc({body:m,headers:u,status:p,statusText:l,url:h})),o.complete()):o.error(new gi({error:m,headers:u,status:p,statusText:l,url:h}))})}parseBody(r,i,o){switch(r.responseType){case"json":let s=new TextDecoder().decode(i).replace(MF,"");return s===""?null:JSON.parse(s);case"text":return new TextDecoder().decode(i);case"blob":return new Blob([i],{type:o});case"arraybuffer":return i.buffer}}createRequestInit(r){let i={},o=r.withCredentials?"include":void 0;if(r.headers.forEach((s,a)=>i[s]=a.join(",")),i.Accept??="application/json, text/plain, */*",!i["Content-Type"]){let s=r.detectContentTypeHeader();s!==null&&(i["Content-Type"]=s)}return{body:r.serializeBody(),method:r.method,headers:i,credentials:o}}concatChunks(r,i){let o=new Uint8Array(i),s=0;for(let a of r)o.set(a,s),s+=a.length;return o}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})(),jm=class{};function Um(){}function PF(t){t.then(Um,Um)}function fD(t,e){return e(t)}function NF(t,e){return(n,r)=>e.intercept(n,{handle:i=>t(i,r)})}function OF(t,e,n){return(r,i)=>tn(n,()=>e(r,o=>t(o,i)))}var kF=new $(""),Bm=new $(""),FF=new $(""),pD=new $("",{providedIn:"root",factory:()=>!0});function VF(){let t=null;return(e,n)=>{t===null&&(t=(k(kF,{optional:!0})??[]).reduceRight(NF,fD));let r=k(Cr);if(k(pD)){let o=r.add();return t(e,n).pipe(Xr(()=>r.remove(o)))}else return t(e,n)}}var uD=(()=>{let e=class e extends Xa{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=k(Cr),this.contributeToStability=k(pD)}handle(r){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(Bm),...this.injector.get(FF,[])]));this.chain=i.reduceRight((o,s)=>OF(o,s,this.injector),fD)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(r,o=>this.backend.handle(o)).pipe(Xr(()=>this.pendingTasks.remove(i)))}else return this.chain(r,i=>this.backend.handle(i))}};e.\u0275fac=function(i){return new(i||e)(W(Td),W(At))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})();var LF=/^\)\]\}',?\n/;function jF(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var lD=(()=>{let e=class e{constructor(r){this.xhrFactory=r}handle(r){if(r.method==="JSONP")throw new G(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?ke(i.\u0275loadImpl()):J(null)).pipe(Wt(()=>new le(s=>{let a=i.build();if(a.open(r.method,r.urlWithParams),r.withCredentials&&(a.withCredentials=!0),r.headers.forEach((x,F)=>a.setRequestHeader(x,F.join(","))),r.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){let x=r.detectContentTypeHeader();x!==null&&a.setRequestHeader("Content-Type",x)}if(r.responseType){let x=r.responseType.toLowerCase();a.responseType=x!=="json"?x:"text"}let u=r.serializeBody(),l=null,h=()=>{if(l!==null)return l;let x=a.statusText||"OK",F=new xr(a.getAllResponseHeaders()),K=jF(a)||r.url;return l=new Sd({headers:F,status:a.status,statusText:x,url:K}),l},p=()=>{let{headers:x,status:F,statusText:K,url:q}=h(),Y=null;F!==SF&&(Y=typeof a.response>"u"?a.responseText:a.response),F===0&&(F=Y?hD:0);let Ne=F>=200&&F<300;if(r.responseType==="json"&&typeof Y=="string"){let ee=Y;Y=Y.replace(LF,"");try{Y=Y!==""?JSON.parse(Y):null}catch(E){Y=ee,Ne&&(Ne=!1,Y={error:E,text:Y})}}Ne?(s.next(new tc({body:Y,headers:x,status:F,statusText:K,url:q||void 0})),s.complete()):s.error(new gi({error:Y,headers:x,status:F,statusText:K,url:q||void 0}))},m=x=>{let{url:F}=h(),K=new gi({error:x,status:a.status||0,statusText:a.statusText||"Unknown Error",url:F||void 0});s.error(K)},y=!1,D=x=>{y||(s.next(h()),y=!0);let F={type:yi.DownloadProgress,loaded:x.loaded};x.lengthComputable&&(F.total=x.total),r.responseType==="text"&&a.responseText&&(F.partialText=a.responseText),s.next(F)},P=x=>{let F={type:yi.UploadProgress,loaded:x.loaded};x.lengthComputable&&(F.total=x.total),s.next(F)};return a.addEventListener("load",p),a.addEventListener("error",m),a.addEventListener("timeout",m),a.addEventListener("abort",m),r.reportProgress&&(a.addEventListener("progress",D),u!==null&&a.upload&&a.upload.addEventListener("progress",P)),a.send(u),s.next({type:yi.Sent}),()=>{a.removeEventListener("error",m),a.removeEventListener("abort",m),a.removeEventListener("load",p),a.removeEventListener("timeout",m),r.reportProgress&&(a.removeEventListener("progress",D),u!==null&&a.upload&&a.upload.removeEventListener("progress",P)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(i){return new(i||e)(W(ds))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})(),gD=new $(""),UF="XSRF-TOKEN",BF=new $("",{providedIn:"root",factory:()=>UF}),$F="X-XSRF-TOKEN",HF=new $("",{providedIn:"root",factory:()=>$F}),Ad=class{},zF=(()=>{let e=class e{constructor(r,i,o){this.doc=r,this.platform=i,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=bd(r,this.cookieName),this.lastCookieString=r),this.lastToken}};e.\u0275fac=function(i){return new(i||e)(W(Rt),W(wt),W(BF))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})();function qF(t,e){let n=t.url.toLowerCase();if(!k(gD)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=k(Ad).getToken(),i=k(HF);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var mD=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(mD||{});function GF(t,e){return{\u0275kind:t,\u0275providers:e}}function $m(...t){let e=[AF,lD,uD,{provide:Xa,useExisting:uD},{provide:Td,useFactory:()=>k(RF,{optional:!0})??k(lD)},{provide:Bm,useValue:qF,multi:!0},{provide:gD,useValue:!0},{provide:Ad,useClass:zF}];for(let n of t)e.push(...n.\u0275providers);return Dn(e)}var dD=new $("");function WF(){return GF(mD.LegacyInterceptors,[{provide:dD,useFactory:VF},{provide:Bm,useExisting:dD,multi:!0}])}var yD=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=qn({type:e}),e.\u0275inj=zn({providers:[$m(WF())]});let t=e;return t})();var qm=class extends Ed{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Gm=class t extends qm{static makeCurrent(){Gb(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=KF();return n==null?null:QF(n)}resetBaseElement(){nc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return bd(document.cookie,e)}},nc=null;function KF(){return nc=nc||document.querySelector("base"),nc?nc.getAttribute("href"):null}function QF(t){return new URL(t,document.baseURI).pathname}var YF=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})(),Wm=new $(""),ED=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new G(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(W(Wm),W(De))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})(),Md=class{constructor(e){this._doc=e}},Hm="ng-app-id",ID=(()=>{let e=class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=fs(s),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(o=>o.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${Hm}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(o=>{o.textContent!=null&&i.set(o.textContent,o)}),i}return null}changeUsageCount(r,i){let o=this.styleRef;if(o.has(r)){let s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===r)return o.delete(i),s.removeAttribute(Hm),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(Hm,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let o=this.getStyleElement(r,i),s=this.styleRef,a=s.get(i)?.elements;a?a.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(W(Rt),W(Zg),W(em,8),W(wt))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})(),zm={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Qm=/%COMP%/g,CD="%COMP%",JF=`_nghost-${CD}`,ZF=`_ngcontent-${CD}`,XF=!0,eV=new $("",{providedIn:"root",factory:()=>XF});function tV(t){return ZF.replace(Qm,t)}function nV(t){return JF.replace(Qm,t)}function bD(t,e){return e.map(n=>n.replace(Qm,t))}var vD=(()=>{let e=class e{constructor(r,i,o,s,a,u,l,h=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=u,this.ngZone=l,this.nonce=h,this.rendererByCompId=new Map,this.platformIsServer=fs(u),this.defaultRenderer=new rc(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Ln.ShadowDom&&(i=we(j({},i),{encapsulation:Ln.Emulated}));let o=this.getOrCreateRenderer(r,i);return o instanceof xd?o.applyToHost(r):o instanceof ic&&o.applyStyles(),o}getOrCreateRenderer(r,i){let o=this.rendererByCompId,s=o.get(i.id);if(!s){let a=this.doc,u=this.ngZone,l=this.eventManager,h=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(i.encapsulation){case Ln.Emulated:s=new xd(l,h,i,this.appId,p,a,u,m);break;case Ln.ShadowDom:return new Km(l,h,r,i,a,u,this.nonce,m);default:s=new ic(l,h,i,p,a,u,m);break}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(W(ED),W(ID),W(Zg),W(eV),W(Rt),W(wt),W(De),W(em))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})(),rc=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(zm[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(_D(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(_D(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new G(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=zm[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=zm[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(mr.DashCase|mr.Important)?e.style.setProperty(n,r,i&mr.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&mr.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Ar().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function _D(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Km=class extends rc{constructor(e,n,r,i,o,s,a,u){super(e,o,s,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=bD(i.id,i.styles);for(let h of l){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ic=class extends rc{constructor(e,n,r,i,o,s,a,u){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?bD(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},xd=class extends ic{constructor(e,n,r,i,o,s,a,u){let l=i+"-"+r.id;super(e,n,r,o,s,a,u,l),this.contentAttr=tV(l),this.hostAttr=nV(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},rV=(()=>{let e=class e extends Md{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}};e.\u0275fac=function(i){return new(i||e)(W(Rt))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})(),wD=["alt","control","meta","shift"],iV={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},oV={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},sV=(()=>{let e=class e extends Md{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,o){let s=e.parseEventName(i),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ar().onAndCancel(r,s.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(i.pop()),a="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),a="code."),wD.forEach(h=>{let p=i.indexOf(h);p>-1&&(i.splice(p,1),a+=h+".")}),a+=s,i.length!=0||s.length===0)return null;let l={};return l.domEventName=o,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let o=iV[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),wD.forEach(a=>{if(a!==o){let u=oV[a];u(r)&&(s+=a+".")}}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(W(Rt))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})();function DD(t,e){return Vb(j({rootComponent:t},aV(e)))}function aV(t){return{appProviders:[...hV,...t?.providers??[]],platformProviders:dV}}function cV(){Gm.makeCurrent()}function uV(){return new $n}function lV(){return SC(document),document}var dV=[{provide:wt,useValue:Om},{provide:Xg,useValue:cV,multi:!0},{provide:Rt,useFactory:lV,deps:[]}];var hV=[{provide:zl,useValue:"root"},{provide:$n,useFactory:uV,deps:[]},{provide:Wm,useClass:rV,multi:!0,deps:[Rt,De,wt]},{provide:Wm,useClass:sV,multi:!0,deps:[Rt]},vD,ID,ED,{provide:ss,useExisting:vD},{provide:ds,useClass:YF,deps:[]},[]];var TD=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(W(Rt))},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var fe="primary",wc=Symbol("RouteTitle"),ey=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function _s(t){return new ey(t)}function pV(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function gV(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Qn(t[n],e[n]))return!1;return!0}function Qn(t,e){let n=t?ty(t):void 0,r=e?ty(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!VD(t[i],e[i]))return!1;return!0}function ty(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function VD(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function LD(t){return t.length>0?t[t.length-1]:null}function wi(t){return yp(t)?t:eo(t)?ke(Promise.resolve(t)):J(t)}var mV={exact:UD,subset:BD},jD={exact:yV,subset:vV,ignored:()=>!0};function SD(t,e,n){return mV[n.paths](t.root,e.root,n.matrixParams)&&jD[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function yV(t,e){return Qn(t,e)}function UD(t,e,n){if(!io(t.segments,e.segments)||!Nd(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!UD(t.children[r],e.children[r],n))return!1;return!0}function vV(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>VD(t[n],e[n]))}function BD(t,e,n){return $D(t,e,e.segments,n)}function $D(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!io(i,n)||e.hasChildren()||!Nd(i,n,r))}else if(t.segments.length===n.length){if(!io(t.segments,n)||!Nd(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!BD(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!io(t.segments,i)||!Nd(t.segments,i,r)||!t.children[fe]?!1:$D(t.children[fe],e,o,r)}}function Nd(t,e,n){return e.every((r,i)=>jD[n](t[i].parameters,r.parameters))}var vi=class{constructor(e=new Re([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=_s(this.queryParams),this._queryParamMap}toString(){return EV.serialize(this)}},Re=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Od(this)}},ro=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=_s(this.parameters),this._parameterMap}toString(){return zD(this)}};function _V(t,e){return io(t,e)&&t.every((n,r)=>Qn(n.parameters,e[r].parameters))}function io(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function wV(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===fe&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==fe&&(n=n.concat(e(i,r)))}),n}var Ec=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:()=>new ws,providedIn:"root"});let t=e;return t})(),ws=class{parse(e){let n=new ry(e);return new vi(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${oc(e.root,!0)}`,r=bV(e.queryParams),i=typeof e.fragment=="string"?`#${IV(e.fragment)}`:"";return`${n}${r}${i}`}},EV=new ws;function Od(t){return t.segments.map(e=>zD(e)).join("/")}function oc(t,e){if(!t.hasChildren())return Od(t);if(e){let n=t.children[fe]?oc(t.children[fe],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==fe&&r.push(`${i}:${oc(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=wV(t,(r,i)=>i===fe?[oc(t.children[fe],!1)]:[`${i}:${oc(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[fe]!=null?`${Od(t)}/${n[0]}`:`${Od(t)}/(${n.join("//")})`}}function HD(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Rd(t){return HD(t).replace(/%3B/gi,";")}function IV(t){return encodeURI(t)}function ny(t){return HD(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function kd(t){return decodeURIComponent(t)}function AD(t){return kd(t.replace(/\+/g,"%20"))}function zD(t){return`${ny(t.path)}${CV(t.parameters)}`}function CV(t){return Object.entries(t).map(([e,n])=>`;${ny(e)}=${ny(n)}`).join("")}function bV(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Rd(n)}=${Rd(i)}`).join("&"):`${Rd(n)}=${Rd(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var DV=/^[^\/()?;#]+/;function Ym(t){let e=t.match(DV);return e?e[0]:""}var TV=/^[^\/()?;=#]+/;function SV(t){let e=t.match(TV);return e?e[0]:""}var AV=/^[^=?&#]+/;function MV(t){let e=t.match(AV);return e?e[0]:""}var xV=/^[^&#]+/;function RV(t){let e=t.match(xV);return e?e[0]:""}var ry=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Re([],{}):new Re([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[fe]=new Re(e,n)),r}parseSegment(){let e=Ym(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new G(4009,!1);return this.capture(e),new ro(kd(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=SV(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Ym(this.remaining);i&&(r=i,this.capture(r))}e[kd(n)]=kd(r)}parseQueryParam(e){let n=MV(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=RV(this.remaining);s&&(r=s,this.capture(r))}let i=AD(n),o=AD(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Ym(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new G(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=fe);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[fe]:new Re([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new G(4011,!1)}};function qD(t){return t.segments.length>0?new Re([],{[fe]:t}):t}function GD(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=GD(i);if(r===fe&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new Re(t.segments,e);return PV(n)}function PV(t){if(t.numberOfChildren===1&&t.children[fe]){let e=t.children[fe];return new Re(t.segments.concat(e.segments),e.children)}return t}function dc(t){return t instanceof vi}function NV(t,e,n=null,r=null){let i=WD(t);return KD(i,e,n,r)}function WD(t){let e;function n(o){let s={};for(let u of o.children){let l=n(u);s[u.outlet]=l}let a=new Re(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=qD(r);return e??i}function KD(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Jm(i,i,i,n,r);let o=OV(e);if(o.toRoot())return Jm(i,i,new Re([],{}),n,r);let s=kV(o,i,t),a=s.processChildren?cc(s.segmentGroup,s.index,o.commands):YD(s.segmentGroup,s.index,o.commands);return Jm(i,s.segmentGroup,a,n,r)}function Fd(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function hc(t){return typeof t=="object"&&t!=null&&t.outlets}function Jm(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;t===e?s=n:s=QD(t,e,n);let a=qD(GD(s));return new vi(a,o,i)}function QD(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=QD(o,e,n)}),new Re(t.segments,r)}var Vd=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Fd(r[0]))throw new G(4003,!1);let i=r.find(hc);if(i&&i!==LD(r))throw new G(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function OV(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Vd(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Vd(n,e,r)}var ms=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function kV(t,e,n){if(t.isAbsolute)return new ms(e,!0,0);if(!n)return new ms(e,!1,NaN);if(n.parent===null)return new ms(n,!0,0);let r=Fd(t.commands[0])?0:1,i=n.segments.length-1+r;return FV(n,i,t.numberOfDoubleDots)}function FV(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new G(4005,!1);i=r.segments.length}return new ms(r,!1,i-o)}function VV(t){return hc(t[0])?t[0].outlets:{[fe]:t}}function YD(t,e,n){if(t??=new Re([],{}),t.segments.length===0&&t.hasChildren())return cc(t,e,n);let r=LV(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new Re(t.segments.slice(0,r.pathIndex),{});return o.children[fe]=new Re(t.segments.slice(r.pathIndex),t.children),cc(o,0,i)}else return r.match&&i.length===0?new Re(t.segments,{}):r.match&&!t.hasChildren()?iy(t,e,n):r.match?cc(t,0,i):iy(t,e,n)}function cc(t,e,n){if(n.length===0)return new Re(t.segments,{});{let r=VV(n),i={};if(Object.keys(r).some(o=>o!==fe)&&t.children[fe]&&t.numberOfChildren===1&&t.children[fe].segments.length===0){let o=cc(t.children[fe],e,n);return new Re(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=YD(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Re(t.segments,i)}}function LV(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(hc(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!xD(u,l,s))return o;r+=2}else{if(!xD(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function iy(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(hc(o)){let u=jV(o.outlets);return new Re(r,u)}if(i===0&&Fd(n[0])){let u=t.segments[e];r.push(new ro(u.path,MD(n[0]))),i++;continue}let s=hc(o)?o.outlets[fe]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Fd(a)?(r.push(new ro(s,MD(a))),i+=2):(r.push(new ro(s,{})),i++)}return new Re(r,{})}function jV(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=iy(new Re([],{}),0,r))}),e}function MD(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function xD(t,e,n){return t==n.path&&Qn(e,n.parameters)}var uc="imperative",mt=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(mt||{}),mn=class{constructor(e,n){this.id=e,this.url=n}},Es=class extends mn{constructor(e,n,r="imperative",i=null){super(e,n),this.type=mt.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},xn=class extends mn{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=mt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},on=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(on||{}),Ld=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Ld||{}),Rr=class extends mn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=mt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},_i=class extends mn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=mt.NavigationSkipped}},fc=class extends mn{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=mt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},jd=class extends mn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=mt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},oy=class extends mn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=mt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},sy=class extends mn{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=mt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},ay=class extends mn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=mt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},cy=class extends mn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=mt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},uy=class{constructor(e){this.route=e,this.type=mt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},ly=class{constructor(e){this.route=e,this.type=mt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},dy=class{constructor(e){this.snapshot=e,this.type=mt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},hy=class{constructor(e){this.snapshot=e,this.type=mt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},fy=class{constructor(e){this.snapshot=e,this.type=mt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},py=class{constructor(e){this.snapshot=e,this.type=mt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ud=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=mt.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},pc=class{},Is=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};var gy=class{constructor(e){this.injector=e,this.outlet=null,this.route=null,this.children=new Ic(this.injector),this.attachRef=null}},Ic=(()=>{let e=class e{constructor(r){this.parentInjector=r,this.contexts=new Map}onChildOutletCreated(r,i){let o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new gy(this.parentInjector),this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)(W(At))},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Bd=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=my(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=my(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=yy(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return yy(e,this._root).map(n=>n.value)}};function my(t,e){if(t===e.value)return e;for(let n of e.children){let r=my(t,n);if(r)return r}return null}function yy(t,e){if(t===e.value)return[e];for(let n of e.children){let r=yy(t,n);if(r.length)return r.unshift(e),r}return[]}var rn=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function gs(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var $d=class extends Bd{constructor(e,n){super(e),this.snapshot=n,Ty(this,e)}toString(){return this.snapshot.toString()}};function JD(t){let e=UV(t),n=new ut([new ro("",{})]),r=new ut({}),i=new ut({}),o=new ut({}),s=new ut(""),a=new Yn(n,r,o,s,i,fe,t,e.root);return a.snapshot=e.root,new $d(new rn(a,[]),e)}function UV(t){let e={},n={},r={},i="",o=new ys([],e,r,i,n,fe,t,null,{});return new zd("",new rn(o,[]))}var Yn=class{constructor(e,n,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(te(l=>l[wc]))??J(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(te(e=>_s(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(te(e=>_s(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Hd(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:j(j({},e.params),t.params),data:j(j({},e.data),t.data),resolve:j(j(j(j({},t.data),e.data),i?.data),t._resolvedData)}:r={params:j({},t.params),data:j({},t.data),resolve:j(j({},t.data),t._resolvedData??{})},i&&XD(i)&&(r.resolve[wc]=i.title),r}var ys=class{get title(){return this.data?.[wc]}constructor(e,n,r,i,o,s,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=_s(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=_s(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},zd=class extends Bd{constructor(e,n){super(n),this.url=e,Ty(this,n)}toString(){return ZD(this._root)}};function Ty(t,e){e.value._routerState=t,e.children.forEach(n=>Ty(t,n))}function ZD(t){let e=t.children.length>0?` { ${t.children.map(ZD).join(", ")} } `:"";return`${t.value}${e}`}function Zm(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Qn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Qn(e.params,n.params)||t.paramsSubject.next(n.params),gV(e.url,n.url)||t.urlSubject.next(n.url),Qn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function vy(t,e){let n=Qn(t.params,e.params)&&_V(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||vy(t.parent,e.parent))}function XD(t){return typeof t.title=="string"||t.title===null}var Sy=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=fe,this.activateEvents=new Ke,this.deactivateEvents=new Ke,this.attachEvents=new Ke,this.detachEvents=new Ke,this.parentContexts=k(Ic),this.location=k(ci),this.changeDetector=k(li),this.inputBinder=k(Kd,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new G(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new G(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new G(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new G(4013,!1);this._activatedRoute=r;let o=this.location,a=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,l=new _y(r,u,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Be({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Er]});let t=e;return t})(),_y=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Yn?this.route:e===Ic?this.childContexts:this.parent.get(e,n)}},Kd=new $(""),RD=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:i}=r,o=Fa([i.queryParams,i.params,i.data]).pipe(Wt(([s,a,u],l)=>(u=j(j(j({},s),a),u),l===0?J(u):Promise.resolve(u)))).subscribe(s=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(r);return}let a=Lb(i.component);if(!a){this.unsubscribeFromRouteData(r);return}for(let{templateName:u}of a.inputs)r.activatedComponentRef.setInput(u,s[u])});this.outletDataSubscriptions.set(r,o)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})();function BV(t,e,n){let r=gc(t,e._root,n?n._root:void 0);return new $d(r,e)}function gc(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=$V(t,e,n);return new rn(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>gc(t,a)),s}}let r=HV(e.value),i=e.children.map(o=>gc(t,o));return new rn(r,i)}}function $V(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return gc(t,r,i);return gc(t,r)})}function HV(t){return new Yn(new ut(t.url),new ut(t.params),new ut(t.queryParams),new ut(t.fragment),new ut(t.data),t.outlet,t.component,t)}var mc=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},eT="ngNavigationCancelingError";function qd(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=dc(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=tT(!1,on.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function tT(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[eT]=!0,n.cancellationCode=e,n}function zV(t){return nT(t)&&dc(t.url)}function nT(t){return!!t&&t[eT]}var qV=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Qe({type:e,selectors:[["ng-component"]],standalone:!0,features:[Ye],decls:1,vars:0,template:function(i,o){i&1&&he(0,"router-outlet")},dependencies:[Sy],encapsulation:2});let t=e;return t})();function GV(t,e){return t.providers&&!t._injector&&(t._injector=rd(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Ay(t){let e=t.children&&t.children.map(Ay),n=e?we(j({},t),{children:e}):j({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==fe&&(n.component=qV),n}function Mn(t){return t.outlet||fe}function WV(t,e){let n=t.filter(r=>Mn(r)===e);return n.push(...t.filter(r=>Mn(r)!==e)),n}function Cc(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var KV=(t,e,n,r)=>te(i=>(new wy(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),wy=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Zm(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=gs(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=gs(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=gs(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=gs(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new py(o.value.snapshot))}),e.children.length&&this.forwardEvent(new hy(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(Zm(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Zm(a.route.value),this.activateChildRoutes(e,null,s.children)}else{let a=Cc(i.snapshot);s.attachRef=null,s.route=i,s.injector=a??s.injector,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}},Gd=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},vs=class{constructor(e,n){this.component=e,this.route=n}};function QV(t,e,n){let r=t._root,i=e?e._root:null;return sc(r,i,n,[r.value])}function YV(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Ds(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!gI(t)?t:e.get(t):r}function sc(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=gs(e);return t.children.forEach(s=>{JV(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>lc(a,n.getContext(s),i)),i}function JV(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=ZV(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Gd(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?sc(t,e,a?a.children:null,r,i):sc(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new vs(a.outlet.component,s))}else s&&lc(e,a,i),i.canActivateChecks.push(new Gd(r)),o.component?sc(t,null,a?a.children:null,r,i):sc(t,null,n,r,i);return i}function ZV(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!io(t.url,e.url);case"pathParamsOrQueryParamsChange":return!io(t.url,e.url)||!Qn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!vy(t,e)||!Qn(t.queryParams,e.queryParams);case"paramsChange":default:return!vy(t,e)}}function lc(t,e,n){let r=gs(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?lc(s,e.children.getContext(o),n):lc(s,null,n):lc(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new vs(e.outlet.component,i)):n.canDeactivateChecks.push(new vs(null,i)):n.canDeactivateChecks.push(new vs(null,i))}function bc(t){return typeof t=="function"}function XV(t){return typeof t=="boolean"}function eL(t){return t&&bc(t.canLoad)}function tL(t){return t&&bc(t.canActivate)}function nL(t){return t&&bc(t.canActivateChild)}function rL(t){return t&&bc(t.canDeactivate)}function iL(t){return t&&bc(t.canMatch)}function rT(t){return t instanceof dr||t?.name==="EmptyError"}var Pd=Symbol("INITIAL_VALUE");function Cs(){return Wt(t=>Fa(t.map(e=>e.pipe(fr(1),al(Pd)))).pipe(te(e=>{for(let n of e)if(n!==!0){if(n===Pd)return Pd;if(n===!1||oL(n))return n}return!0}),Vt(e=>e!==Pd),fr(1)))}function oL(t){return dc(t)||t instanceof mc}function sL(t,e){return rt(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?J(we(j({},n),{guardsResult:!0})):aL(s,r,i,t).pipe(rt(a=>a&&XV(a)?cL(r,o,t,e):J(a)),te(a=>we(j({},n),{guardsResult:a})))})}function aL(t,e,n,r){return ke(t).pipe(rt(i=>fL(i.component,i.route,n,e,r)),kn(i=>i!==!0,!0))}function cL(t,e,n,r){return ke(e).pipe(hr(i=>zo(lL(i.route.parent,r),uL(i.route,r),hL(t,i.path,n),dL(t,i.route,n))),kn(i=>i!==!0,!0))}function uL(t,e){return t!==null&&e&&e(new fy(t)),J(!0)}function lL(t,e){return t!==null&&e&&e(new dy(t)),J(!0)}function dL(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return J(!0);let i=r.map(o=>il(()=>{let s=Cc(e)??n,a=Ds(o,s),u=tL(a)?a.canActivate(e,t):tn(s,()=>a(e,t));return wi(u).pipe(kn())}));return J(i).pipe(Cs())}function hL(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>YV(s)).filter(s=>s!==null).map(s=>il(()=>{let a=s.guards.map(u=>{let l=Cc(s.node)??n,h=Ds(u,l),p=nL(h)?h.canActivateChild(r,t):tn(l,()=>h(r,t));return wi(p).pipe(kn())});return J(a).pipe(Cs())}));return J(o).pipe(Cs())}function fL(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return J(!0);let s=o.map(a=>{let u=Cc(e)??i,l=Ds(a,u),h=rL(l)?l.canDeactivate(t,e,n,r):tn(u,()=>l(t,e,n,r));return wi(h).pipe(kn())});return J(s).pipe(Cs())}function pL(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return J(!0);let o=i.map(s=>{let a=Ds(s,t),u=eL(a)?a.canLoad(e,n):tn(t,()=>a(e,n));return wi(u)});return J(o).pipe(Cs(),iT(r))}function iT(t){return Vu(it(e=>{if(typeof e!="boolean")throw qd(t,e)}),te(e=>e===!0))}function gL(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return J(!0);let o=i.map(s=>{let a=Ds(s,t),u=iL(a)?a.canMatch(e,n):tn(t,()=>a(e,n));return wi(u)});return J(o).pipe(Cs(),iT(r))}var yc=class{constructor(e){this.segmentGroup=e||null}},vc=class extends Error{constructor(e){super(),this.urlTree=e}};function ps(t){return Ho(new yc(t))}function mL(t){return Ho(new G(4e3,!1))}function yL(t){return Ho(tT(!1,on.GuardRejected))}var Ey=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return J(r);if(i.numberOfChildren>1||!i.children[fe])return mL(`${e.redirectTo}`);i=i.children[fe]}}applyRedirectCommands(e,n,r,i,o){if(typeof n!="string"){let a=n,{queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,params:y,data:D,title:P}=i,x=tn(o,()=>a({params:y,data:D,queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,title:P}));if(x instanceof vi)throw new vc(x);n=x}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new vc(s);return s}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new vi(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new Re(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new G(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Iy={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function vL(t,e,n,r,i){let o=My(t,e,n);return o.matched?(r=GV(e,r),gL(r,e,n,i).pipe(te(s=>s===!0?o:j({},Iy)))):J(o)}function My(t,e,n){if(e.path==="**")return _L(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?j({},Iy):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||pV)(n,t,e);if(!i)return j({},Iy);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?j(j({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function _L(t){return{matched:!0,parameters:t.length>0?LD(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function PD(t,e,n,r){return n.length>0&&IL(t,n,r)?{segmentGroup:new Re(e,EL(r,new Re(n,t.children))),slicedSegments:[]}:n.length===0&&CL(t,n,r)?{segmentGroup:new Re(t.segments,wL(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Re(t.segments,t.children),slicedSegments:n}}function wL(t,e,n,r){let i={};for(let o of n)if(Qd(t,e,o)&&!r[Mn(o)]){let s=new Re([],{});i[Mn(o)]=s}return j(j({},r),i)}function EL(t,e){let n={};n[fe]=e;for(let r of t)if(r.path===""&&Mn(r)!==fe){let i=new Re([],{});n[Mn(r)]=i}return n}function IL(t,e,n){return n.some(r=>Qd(t,e,r)&&Mn(r)!==fe)}function CL(t,e,n){return n.some(r=>Qd(t,e,r))}function Qd(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function bL(t,e,n,r){return Mn(t)!==r&&(r===fe||!Qd(e,n,t))?!1:My(e,t,n).matched}function DL(t,e,n){return e.length===0&&!t.children[n]}var Cy=class{};function TL(t,e,n,r,i,o,s="emptyOnly"){return new by(t,e,n,r,i,s,o).recognize()}var SL=31,by=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Ey(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new G(4002,`'${e.segmentGroup}'`)}recognize(){let e=PD(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(te(({children:n,rootSnapshot:r})=>{let i=new rn(r,n),o=new zd("",i),s=NV(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new ys([],Object.freeze({}),Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),fe,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,fe,n).pipe(te(r=>({children:r,rootSnapshot:n})),Jr(r=>{if(r instanceof vc)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof yc?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(te(s=>s instanceof rn?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return ke(o).pipe(hr(s=>{let a=r.children[s],u=WV(n,s);return this.processSegmentGroup(e,u,a,s,i)}),sl((s,a)=>(s.push(...a),s)),Zr(null),Ep(),rt(s=>{if(s===null)return ps(r);let a=oT(s);return AL(a),J(a)}))}processSegment(e,n,r,i,o,s,a){return ke(n).pipe(hr(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,o,s,a).pipe(Jr(l=>{if(l instanceof yc)return J(null);throw l}))),kn(u=>!!u),Jr(u=>{if(rT(u))return DL(r,i,o)?J(new Cy):ps(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,o,s,a,u){return bL(r,i,o,s)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,u):ps(i):ps(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:m}=My(n,i,o);if(!u)return ps(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>SL&&(this.allowRedirects=!1));let y=new ys(o,l,Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,ND(i),Mn(i),i.component??i._loadedComponent??null,i,OD(i)),D=Hd(y,a,this.paramsInheritanceStrategy);y.params=Object.freeze(D.params),y.data=Object.freeze(D.data);let P=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,y,e);return this.applyRedirects.lineralizeSegments(i,P).pipe(rt(x=>this.processSegment(e,r,n,x.concat(m),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a=vL(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(Wt(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Wt(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:y}=u,D=new ys(m,p,Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,ND(r),Mn(r),r.component??r._loadedComponent??null,r,OD(r)),P=Hd(D,s,this.paramsInheritanceStrategy);D.params=Object.freeze(P.params),D.data=Object.freeze(P.data);let{segmentGroup:x,slicedSegments:F}=PD(n,m,y,l);if(F.length===0&&x.hasChildren())return this.processChildren(h,l,x,D).pipe(te(q=>new rn(D,q)));if(l.length===0&&F.length===0)return J(new rn(D,[]));let K=Mn(r)===o;return this.processSegment(h,l,x,F,K?fe:o,!0,D).pipe(te(q=>new rn(D,q instanceof rn?[q]:[])))}))):ps(n)))}getChildConfig(e,n,r){return n.children?J({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?J({routes:n._loadedRoutes,injector:n._loadedInjector}):pL(e,n,r,this.urlSerializer).pipe(rt(i=>i?this.configLoader.loadChildren(e,n).pipe(it(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):yL(n))):J({routes:[],injector:e})}};function AL(t){t.sort((e,n)=>e.value.outlet===fe?-1:n.value.outlet===fe?1:e.value.outlet.localeCompare(n.value.outlet))}function ML(t){let e=t.value.routeConfig;return e&&e.path===""}function oT(t){let e=[],n=new Set;for(let r of t){if(!ML(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=oT(r.children);e.push(new rn(r.value,i))}return e.filter(r=>!n.has(r))}function ND(t){return t.data||{}}function OD(t){return t.resolve||{}}function xL(t,e,n,r,i,o){return rt(s=>TL(t,e,n,r,s.extractedUrl,i,o).pipe(te(({state:a,tree:u})=>we(j({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function RL(t,e){return rt(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return J(n);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of sT(u))s.add(l);let a=0;return ke(s).pipe(hr(u=>o.has(u)?PL(u,r,t,e):(u.data=Hd(u,u.parent,t).resolve,J(void 0))),it(()=>a++),qo(1),rt(u=>a===s.size?J(n):Xt))})}function sT(t){let e=t.children.map(n=>sT(n)).flat();return[t,...e]}function PL(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!XD(i)&&(o[wc]=i.title),NL(o,t,e,r).pipe(te(s=>(t._resolvedData=s,t.data=Hd(t,t.parent,n).resolve,null)))}function NL(t,e,n,r){let i=ty(t);if(i.length===0)return J({});let o={};return ke(i).pipe(rt(s=>OL(t[s],e,n,r).pipe(kn(),it(a=>{if(a instanceof mc)throw qd(new ws,a);o[s]=a}))),qo(1),wp(o),Jr(s=>rT(s)?Xt:Ho(s)))}function OL(t,e,n,r){let i=Cc(e)??r,o=Ds(t,i),s=o.resolve?o.resolve(e,n):tn(i,()=>o(e,n));return wi(s)}function Xm(t){return Wt(e=>{let n=t(e);return n?ke(n).pipe(te(()=>e)):J(e)})}var aT=(()=>{let e=class e{buildTitle(r){let i,o=r.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===fe);return i}getResolvedTitleForRoute(r){return r.data[wc]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:()=>k(kL),providedIn:"root"});let t=e;return t})(),kL=(()=>{let e=class e extends aT{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(W(TD))},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Dc=new $("",{providedIn:"root",factory:()=>({})}),_c=new $(""),xy=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=k(dd)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return J(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=wi(r.loadComponent()).pipe(te(cT),it(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),Xr(()=>{this.componentLoaders.delete(r)})),o=new jo(i,()=>new ft).pipe(Lo());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return J({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=FL(i,this.compiler,r,this.onLoadEndListener).pipe(Xr(()=>{this.childrenLoaders.delete(i)})),a=new jo(s,()=>new ft).pipe(Lo());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function FL(t,e,n,r){return wi(t.loadChildren()).pipe(te(cT),rt(i=>i instanceof Ha||Array.isArray(i)?J(i):ke(e.compileModuleAsync(i))),te(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(_c,[],{optional:!0,self:!0}).flat()),{routes:s.map(Ay),injector:o}}))}function VL(t){return t&&typeof t=="object"&&"default"in t}function cT(t){return VL(t)?t.default:t}var Ry=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:()=>k(LL),providedIn:"root"});let t=e;return t})(),LL=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),uT=new $(""),lT=new $("");function jL(t,e,n){let r=t.get(lT),i=t.get(Rt);return t.get(De).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),UL(t))),{onViewTransitionCreated:u}=r;return u&&tn(t,()=>u({transition:a,from:e,to:n})),s})}function UL(t){return new Promise(e=>{nd(()=>setTimeout(e),{injector:t,phase:ti.Read})})}var BL=new $(""),Py=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ft,this.transitionAbortSubject=new ft,this.configLoader=k(xy),this.environmentInjector=k(At),this.urlSerializer=k(Ec),this.rootContexts=k(Ic),this.location=k(hs),this.inputBindingEnabled=k(Kd,{optional:!0})!==null,this.titleStrategy=k(aT),this.options=k(Dc,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=k(Ry),this.createViewTransition=k(uT,{optional:!0}),this.navigationErrorHandler=k(BL,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>J(void 0),this.rootComponentType=null;let r=o=>this.events.next(new uy(o)),i=o=>this.events.next(new ly(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(we(j(j({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,o){return this.transitions=new ut({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:uc,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Vt(s=>s.id!==0),te(s=>we(j({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Wt(s=>{let a=!1,u=!1;return J(s).pipe(Wt(l=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",on.SupersededByNewNavigation),Xt;this.currentTransition=s,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?we(j({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let h=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!h&&p!=="reload"){let m="";return this.events.next(new _i(l.id,this.urlSerializer.serialize(l.rawUrl),m,Ld.IgnoredSameUrlNavigation)),l.resolve(!1),Xt}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return J(l).pipe(Wt(m=>{let y=this.transitions?.getValue();return this.events.next(new Es(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),y!==this.transitions?.getValue()?Xt:Promise.resolve(m)}),xL(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),it(m=>{s.targetSnapshot=m.targetSnapshot,s.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation=we(j({},this.currentNavigation),{finalUrl:m.urlAfterRedirects});let y=new jd(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(y)}));if(h&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:m,extractedUrl:y,source:D,restoredState:P,extras:x}=l,F=new Es(m,this.urlSerializer.serialize(y),D,P);this.events.next(F);let K=JD(this.rootComponentType).snapshot;return this.currentTransition=s=we(j({},l),{targetSnapshot:K,urlAfterRedirects:y,extras:we(j({},x),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=y,J(s)}else{let m="";return this.events.next(new _i(l.id,this.urlSerializer.serialize(l.extractedUrl),m,Ld.IgnoredByUrlHandlingStrategy)),l.resolve(!1),Xt}}),it(l=>{let h=new oy(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),te(l=>(this.currentTransition=s=we(j({},l),{guards:QV(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),s)),sL(this.environmentInjector,l=>this.events.next(l)),it(l=>{if(s.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw qd(this.urlSerializer,l.guardsResult);let h=new sy(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(h)}),Vt(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",on.GuardRejected),!1)),Xm(l=>{if(l.guards.canActivateChecks.length)return J(l).pipe(it(h=>{let p=new ay(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}),Wt(h=>{let p=!1;return J(h).pipe(RL(this.paramsInheritanceStrategy,this.environmentInjector),it({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(h,"",on.NoDataFromResolver)}}))}),it(h=>{let p=new cy(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}))}),Xm(l=>{let h=p=>{let m=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(p.routeConfig).pipe(it(y=>{p.component=y}),te(()=>{})));for(let y of p.children)m.push(...h(y));return m};return Fa(h(l.targetSnapshot.root)).pipe(Zr(null),fr(1))}),Xm(()=>this.afterPreactivation()),Wt(()=>{let{currentSnapshot:l,targetSnapshot:h}=s,p=this.createViewTransition?.(this.environmentInjector,l.root,h.root);return p?ke(p).pipe(te(()=>s)):J(s)}),te(l=>{let h=BV(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s=we(j({},l),{targetRouterState:h}),this.currentNavigation.targetRouterState=h,s}),it(()=>{this.events.next(new pc)}),KV(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),fr(1),it({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new xn(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),Ip(this.transitionAbortSubject.pipe(it(l=>{throw l}))),Xr(()=>{!a&&!u&&this.cancelNavigationTransition(s,"",on.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Jr(l=>{if(u=!0,nT(l))this.events.next(new Rr(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),zV(l)?this.events.next(new Is(l.url,l.navigationBehaviorOptions)):s.resolve(!1);else{let h=new fc(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0);try{let p=tn(this.environmentInjector,()=>this.navigationErrorHandler?.(h));if(p instanceof mc){let{message:m,cancellationCode:y}=qd(this.urlSerializer,p);this.events.next(new Rr(s.id,this.urlSerializer.serialize(s.extractedUrl),m,y)),this.events.next(new Is(p.redirectTo,p.navigationBehaviorOptions))}else{this.events.next(h);let m=r.errorHandler(l);s.resolve(!!m)}}catch(p){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(p)}}return Xt}))}))}cancelNavigationTransition(r,i,o){let s=new Rr(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function $L(t){return t!==uc}var HL=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:()=>k(zL),providedIn:"root"});let t=e;return t})(),Dy=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},zL=(()=>{let e=class e extends Dy{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Ir(e)))(o||e)}})(),e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),dT=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:()=>k(qL),providedIn:"root"});let t=e;return t})(),qL=(()=>{let e=class e extends dT{constructor(){super(...arguments),this.location=k(hs),this.urlSerializer=k(Ec),this.options=k(Dc,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=k(Ry),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new vi,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=JD(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof Es)this.stateMemento=this.createStateMemento();else if(r instanceof _i)this.rawUrlTree=i.initialUrl;else if(r instanceof jd){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(o,i)}}else r instanceof pc?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof Rr&&(r.code===on.GuardRejected||r.code===on.NoDataFromResolver)?this.restoreHistory(i):r instanceof fc?this.restoreHistory(i,!0):r instanceof xn&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let o=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let s=this.browserPageId,a=j(j({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(o,"",a)}else{let s=j(j({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===r.finalUrl&&s===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Ir(e)))(o||e)}})(),e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ac=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(ac||{});function hT(t,e){t.events.pipe(Vt(n=>n instanceof xn||n instanceof Rr||n instanceof fc||n instanceof _i),te(n=>n instanceof xn||n instanceof _i?ac.COMPLETE:(n instanceof Rr?n.code===on.Redirect||n.code===on.SupersededByNewNavigation:!1)?ac.REDIRECTING:ac.FAILED),Vt(n=>n!==ac.REDIRECTING),fr(1)).subscribe(()=>{e()})}function GL(t){throw t}var WL={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},KL={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},gt=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=k(ud),this.stateManager=k(dT),this.options=k(Dc,{optional:!0})||{},this.pendingTasks=k(Cr),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=k(Py),this.urlSerializer=k(Ec),this.location=k(hs),this.urlHandlingStrategy=k(Ry),this._events=new ft,this.errorHandler=this.options.errorHandler||GL,this.navigated=!1,this.routeReuseStrategy=k(HL),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=k(_c,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!k(Kd,{optional:!0}),this.eventsSubscription=new We,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof Rr&&i.code!==on.Redirect&&i.code!==on.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof xn)this.navigated=!0;else if(i instanceof Is){let a=i.navigationBehaviorOptions,u=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),l=j({info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||$L(o.source)},a);this.scheduleNavigation(u,uc,null,l,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}YL(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),uc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let l=j({},o);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let u=this.parseUrl(r);this.scheduleNavigation(u,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Ay),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:u,preserveFragment:l}=i,h=l?this.currentUrlTree.fragment:a,p=null;switch(u){case"merge":p=j(j({},this.currentUrlTree.queryParams),s);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=s||null}p!==null&&(p=this.removeEmptyProps(p));let m;try{let y=o?o.snapshot:this.routerState.snapshot.root;m=WD(y)}catch{(typeof r[0]!="string"||r[0][0]!=="/")&&(r=[]),m=this.currentUrlTree.root}return KD(m,r,p,h??null)}navigateByUrl(r,i={skipLocationChange:!1}){let o=dc(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,uc,null,i)}navigate(r,i={skipLocationChange:!1}){return QL(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let o;if(i===!0?o=j({},WL):i===!1?o=j({},KL):o=i,dc(r))return SD(this.currentUrlTree,r,o);let s=this.parseUrl(r);return SD(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.entries(r).reduce((i,[o,s])=>(s!=null&&(i[o]=s),i),{})}scheduleNavigation(r,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let u,l,h;a?(u=a.resolve,l=a.reject,h=a.promise):h=new Promise((m,y)=>{u=m,l=y});let p=this.pendingTasks.add();return hT(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:s,resolve:u,reject:l,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(m=>Promise.reject(m))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function QL(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new G(4008,!1)}function YL(t){return!(t instanceof pc)&&!(t instanceof Is)}var bs=(()=>{let e=class e{constructor(r,i,o,s,a,u){this.router=r,this.route=i,this.tabIndexAttribute=o,this.renderer=s,this.el=a,this.locationStrategy=u,this.href=null,this.commands=null,this.onChanges=new ft,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let l=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=r.events.subscribe(h=>{h instanceof xn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,o,s,a){let u=this.urlTree;if(u===null||this.isAnchorElement&&(r!==0||i||o||s||a||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(u,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:xC(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let o=this.renderer,s=this.el.nativeElement;i!==null?o.setAttribute(s,r,i):o.removeAttribute(s,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(B(gt),B(Yn),Yg("tabindex"),B(Sn),B(Bt),B(Mr))},e.\u0275dir=Be({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,o){i&1&&Z("click",function(a){return o.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&Qa("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",di],skipLocationChange:[2,"skipLocationChange","skipLocationChange",di],replaceUrl:[2,"replaceUrl","replaceUrl",di],routerLink:"routerLink"},standalone:!0,features:[ym,Er]});let t=e;return t})(),fT=(()=>{let e=class e{get isActive(){return this._isActive}constructor(r,i,o,s,a){this.router=r,this.element=i,this.renderer=o,this.cdr=s,this.link=a,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Ke,this.routerEventsSubscription=r.events.subscribe(u=>{u instanceof xn&&this.update()})}ngAfterContentInit(){J(this.links.changes,J(null)).pipe(Yr()).subscribe(r=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let r=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=ke(r).pipe(Yr()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(r){let i=Array.isArray(r)?r:r.split(" ");this.classes=i.filter(o=>!!o)}ngOnChanges(r){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let r=this.hasActiveLinks();this.classes.forEach(i=>{r?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),r&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==r&&(this._isActive=r,this.cdr.markForCheck(),this.isActiveChange.emit(r))})}isLinkActive(r){let i=JL(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return o=>{let s=o.urlTree;return s?r.isActive(s,i):!1}}hasActiveLinks(){let r=this.isLinkActive(this.router);return this.link&&r(this.link)||this.links.some(r)}};e.\u0275fac=function(i){return new(i||e)(B(gt),B(Bt),B(Sn),B(li),B(bs,8))},e.\u0275dir=Be({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(i,o,s){if(i&1&&Db(s,bs,5),i&2){let a;od(a=sd())&&(o.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Er]});let t=e;return t})();function JL(t){return!!t.paths}var Wd=class{};var ZL=(()=>{let e=class e{constructor(r,i,o,s,a){this.router=r,this.injector=o,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Vt(r=>r instanceof xn),hr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){let o=[];for(let s of i){s.providers&&!s._injector&&(s._injector=rd(s.providers,r,`Route: ${s.path}`));let a=s._injector??r,u=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&o.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&o.push(this.processRoutes(u,s.children??s._loadedRoutes))}return ke(o).pipe(Yr())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let o;i.loadChildren&&i.canLoad===void 0?o=this.loader.loadChildren(r,i):o=J(null);let s=o.pipe(rt(a=>a===null?J(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));if(i.loadComponent&&!i._loadedComponent){let a=this.loader.loadComponent(i);return ke([s,a]).pipe(Yr())}else return s})}};e.\u0275fac=function(i){return new(i||e)(W(gt),W(dd),W(At),W(Wd),W(xy))},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),pT=new $(""),XL=(()=>{let e=class e{constructor(r,i,o,s,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=o,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=k(At),a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Es?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof xn?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof _i&&r.code===Ld.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Ud&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>S(this,null,function*(){yield new Promise(o=>{setTimeout(()=>{o()}),nd(()=>{o()},{injector:this.environmentInjector})}),this.zone.run(()=>{this.transitions.events.next(new Ud(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(i){$C()},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})();function gT(t,...e){return Dn([{provide:_c,multi:!0,useValue:t},[],{provide:Yn,useFactory:mT,deps:[gt]},{provide:Ja,multi:!0,useFactory:yT},e.map(n=>n.\u0275providers)])}function mT(t){return t.routerState.root}function Tc(t,e){return{\u0275kind:t,\u0275providers:e}}function yT(){let t=k(_t);return e=>{let n=t.get(to);if(e!==n.components[0])return;let r=t.get(gt),i=t.get(vT);t.get(Ny)===1&&r.initialNavigation(),t.get(_T,null,ge.Optional)?.setUpPreloading(),t.get(pT,null,ge.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var vT=new $("",{factory:()=>new ft}),Ny=new $("",{providedIn:"root",factory:()=>1});function e4(){return Tc(2,[{provide:Ny,useValue:0},{provide:ld,multi:!0,deps:[_t],useFactory:e=>{let n=e.get(Wb,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(gt),o=e.get(vT);hT(i,()=>{r(!0)}),e.get(Py).afterPreactivation=()=>(r(!0),o.closed?J(void 0):o),i.initialNavigation()}))}}])}function t4(){return Tc(3,[{provide:ld,multi:!0,useFactory:()=>{let e=k(gt);return()=>{e.setUpLocationChangeListener()}}},{provide:Ny,useValue:2}])}var _T=new $("");function n4(t){return Tc(0,[{provide:_T,useExisting:ZL},{provide:Wd,useExisting:t}])}function r4(){return Tc(8,[RD,{provide:Kd,useExisting:RD}])}function i4(t){let e=[{provide:uT,useValue:jL},{provide:lT,useValue:j({skipNextTransition:!!t?.skipInitialTransition},t)}];return Tc(9,e)}var kD=new $("ROUTER_FORROOT_GUARD"),o4=[hs,{provide:Ec,useClass:ws},gt,Ic,{provide:Yn,useFactory:mT,deps:[gt]},xy,[]],Ts=(()=>{let e=class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[o4,[],{provide:_c,multi:!0,useValue:r},{provide:kD,useFactory:u4,deps:[[gt,new Ut,new Ng]]},{provide:Dc,useValue:i||{}},i?.useHash?a4():c4(),s4(),i?.preloadingStrategy?n4(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?l4(i):[],i?.bindToComponentInputs?r4().\u0275providers:[],i?.enableViewTransitions?i4().\u0275providers:[],d4()]}}static forChild(r){return{ngModule:e,providers:[{provide:_c,multi:!0,useValue:r}]}}};e.\u0275fac=function(i){return new(i||e)(W(kD,8))},e.\u0275mod=qn({type:e}),e.\u0275inj=zn({});let t=e;return t})();function s4(){return{provide:pT,useFactory:()=>{let t=k(rD),e=k(De),n=k(Dc),r=k(Py),i=k(Ec);return n.scrollOffset&&t.setOffset(n.scrollOffset),new XL(i,r,t,e,n)}}}function a4(){return{provide:Mr,useClass:Qb}}function c4(){return{provide:Mr,useClass:Nm}}function u4(t){return"guarded"}function l4(t){return[t.initialNavigation==="disabled"?t4().\u0275providers:[],t.initialNavigation==="enabledBlocking"?e4().\u0275providers:[]]}var FD=new $("");function d4(){return[{provide:FD,useFactory:yT},{provide:Ja,multi:!0,useExisting:FD}]}var As=(()=>{let e=class e{constructor(){this.cartSubject=new ut(this.loadCart()),this.cart$=this.cartSubject.asObservable()}loadCart(){let r=localStorage.getItem("cart");return r?JSON.parse(r):[]}saveCart(r){localStorage.setItem("cart",JSON.stringify(r)),this.cartSubject.next(r)}getCartItems(){return this.cart$}getCartItemCount(){return this.cart$.pipe(te(r=>r.reduce((i,o)=>i+o.quantity,0)))}addToCart(r,i){let o=this.loadCart(),s=o.findIndex(a=>a.product.id===r.id);s===-1?o.push({product:r,quantity:i}):o[s].quantity+=i,this.saveCart(o)}increaseQuantity(r){let i=this.loadCart(),o=i.findIndex(s=>s.product.id===r);o!==-1&&(i[o].quantity+=1,this.saveCart(i))}decreaseQuantity(r){let i=this.loadCart(),o=i.findIndex(s=>s.product.id===r);o!==-1&&i[o].quantity>1&&(i[o].quantity-=1,this.saveCart(i))}removeFromCart(r){let i=this.loadCart();i=i.filter(o=>o.product.id!==r),this.saveCart(i)}checkout(){return J(this.saveCart([])).pipe(te(()=>{}))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Yd=(()=>{let e=class e{constructor(r,i){this.router=r,this.cartService=i,this.cartItemCount=0}ngOnInit(){this.cartService.getCartItemCount().subscribe(r=>this.cartItemCount=r)}goToCart(){this.router.navigate(["/cart"])}};e.\u0275fac=function(i){return new(i||e)(B(gt),B(As))},e.\u0275cmp=Qe({type:e,selectors:[["app-header"]],standalone:!0,features:[Ye],decls:19,vars:1,consts:[[1,"navbar","navbar-expand-lg","navbar-light","bg-light"],["routerLink","/","routerLinkActive","active",1,"navbar-brand"],["src","./icons/logo.png","alt","Logo",1,"logo"],["type","button","data-toggle","collapse","data-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse"],[1,"navbar-nav","ml-auto"],[1,"nav-item"],["routerLink","/","routerLinkActive","active",1,"nav-link"],[1,"nav-link",3,"click"],["src","./icons/shopping-cart.svg","alt","Cart",1,"cart-icon"],[1,"custom-badge"],["routerLink","/admin-login","routerLinkActive","active",1,"nav-link"]],template:function(i,o){i&1&&(T(0,"nav",0)(1,"a",1),he(2,"img",2),M(),T(3,"button",3),he(4,"span",4),M(),T(5,"div",5)(6,"ul",6)(7,"li",7)(8,"a",8),N(9,"\u0413\u043E\u043B\u043E\u0432\u043D\u0430"),M()(),T(10,"li",7)(11,"a",9),Z("click",function(){return o.goToCart()}),he(12,"img",10),N(13," \u041A\u043E\u0448\u0438\u043A "),T(14,"span",11),N(15),M()()(),T(16,"li",7)(17,"a",12),N(18,"\u0410\u0434\u043C\u0456\u043D"),M()()()()()),i&2&&(U(15),Ve(o.cartItemCount))},dependencies:[Ts,bs,fT],styles:[`.navbar[_ngcontent-%COMP%]{margin-bottom:20px;padding:.5rem 1rem;background-color:#f8f9fa;box-shadow:0 2px 4px #0000001a}.logo[_ngcontent-%COMP%]{height:40px;margin-right:1rem}.navbar-toggler[_ngcontent-%COMP%]{border:none}.navbar-toggler-icon[_ngcontent-%COMP%]{background-image:url("data:image/svg+xml;charset=utf8,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'%3e%3cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M4 6h16M4 12h16M4 18h16' /%3e%3c/svg%3e")}.navbar-nav[_ngcontent-%COMP%]{flex-direction:row;margin-left:auto}.nav-item[_ngcontent-%COMP%]{margin-left:1rem}.nav-link[_ngcontent-%COMP%]{font-weight:700;color:#333;font-size:1rem;padding:.5rem 1rem;transition:color .3s ease}.nav-link[_ngcontent-%COMP%]:hover{color:#007bff;cursor:pointer}.nav-link[_ngcontent-%COMP%]:hover   .cart-icon[_ngcontent-%COMP%]{transform:scale(1.1)}.custom-badge[_ngcontent-%COMP%]{display:inline-block;padding:.25em .4em;font-size:75%;font-weight:700;line-height:1;color:#fff;text-align:center;white-space:nowrap;vertical-align:baseline;border-radius:.2rem;background-color:#dc3545}.cart-icon[_ngcontent-%COMP%]{height:20px;margin-right:.5rem;transition:transform .3s ease}@media (max-width: 992px){.navbar-nav[_ngcontent-%COMP%]{flex-direction:column;text-align:center;padding-top:1rem;margin-top:1rem}.nav-item[_ngcontent-%COMP%]{margin-left:0;margin-bottom:.5rem}.navbar-brand[_ngcontent-%COMP%]{margin-right:auto}}.navbar-collapse[_ngcontent-%COMP%]{max-height:0;transition:max-height .3s ease}.navbar-collapse.collapse.show[_ngcontent-%COMP%]{max-height:500px;transition:max-height .3s ease-in}.navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:1rem;border-bottom:1px solid #ddd}.navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:last-child{border-bottom:none}`]});let t=e;return t})();var wT=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Qe({type:e,selectors:[["app-footer"]],standalone:!0,features:[Ye],decls:37,vars:0,consts:[[1,"container","footer-container"],[1,"row","footer-row"],[1,"col-xs-12","col-sm-6","col-md-6","text-center"],[1,"fas","fa-location-arrow"],["href","tel: 04737875657","type","tel",1,"tel"],[1,"fas","fa-mobile-alt"],[1,"col-xs-12","col-md-6","col-sm-6","social-section"],[1,"text-center"],[1,"text-center","social-buttons"],["href","https://www.facebook.com/?locale=uk_UA",1,"btn","btn-default","btn-lg","social-button","link-facebook"],[1,"fab","fa-facebook"],["href","https://x.com/?lang=uk",1,"btn","btn-default","btn-lg","social-button","link-twitter"],[1,"fab","fa-twitter"],["href","https://www.linkedin.com/",1,"btn","btn-default","btn-lg","social-button","link-linkedin"],[1,"fab","fa-linkedin"],["href","https://instagram.com/",1,"btn","btn-default","btn-lg","social-button","link-instagram"],[1,"fab","fa-instagram"],[1,"footer-hr"],[1,"author"],[1,"fas","fa-heart"]],template:function(i,o){i&1&&(T(0,"footer")(1,"div",0)(2,"div",1)(3,"div",2)(4,"address")(5,"strong"),he(6,"i",3),N(7," TERRA"),M(),he(8,"br"),N(9," \u0406\u043D\u0442\u0435\u0440\u043D\u0435\u0442-\u043C\u0430\u0433\u0430\u0437\u0438\u043D \u0442\u0443\u0440\u0438\u0441\u0442\u0438\u0447\u043D\u043E\u0433\u043E \u0441\u043F\u043E\u0440\u044F\u0434\u0436\u0435\u043D\u043D\u044F,"),he(10,"br"),N(11," \u043C. \u0427\u0435\u0440\u043A\u0430\u0441\u0438, \u0432\u0443\u043B. \u0411\u0430\u0439\u0434\u0438 \u0412\u0438\u0448\u043D\u0435\u0432\u0435\u0446\u044C\u043A\u043E\u0433\u043E, 39"),he(12,"br")(13,"br"),T(14,"a",4),he(15,"i",5),T(16,"span"),N(17," 04737875657"),M()()()(),T(18,"div",6)(19,"div",7)(20,"h4",7),N(21,"\u0412\u0438 \u043D\u0430\u0441 \u0437\u043D\u0430\u0439\u0434\u0438\u0442\u0435 \u0443 \u0441\u043E\u0446\u043C\u0435\u0440\u0435\u0436\u0430\u0445"),M(),T(22,"div",8)(23,"a",9),he(24,"i",10),M(),T(25,"a",11),he(26,"i",12),M(),T(27,"a",13),he(28,"i",14),M(),T(29,"a",15),he(30,"i",16),M()(),he(31,"hr",17),T(32,"h4",18),N(33,"\u0417\u0440\u043E\u0431\u043B\u0435\u043D\u043E \u0437\u0430 \u0434\u043E\u043F\u043E\u043C\u043E\u0433\u043E\u044E "),he(34,"i",19),T(35,"strong"),N(36,"Angular"),M()()()()()()())},styles:["footer[_ngcontent-%COMP%]{background-color:#2c3e50;color:#fff;font-size:1.5em;text-align:center;padding:2%;margin-top:40px}a.tel[_ngcontent-%COMP%], a.tel[_ngcontent-%COMP%]:hover{text-decoration:none;color:#fff}a.social-button[_ngcontent-%COMP%]{background:#fff;font-size:20px;border-radius:50%;margin:5px}.address-container[_ngcontent-%COMP%]{display:inline-block;margin:0 auto}a.link-facebook[_ngcontent-%COMP%], a.link-twitter[_ngcontent-%COMP%], a.link-codepen[_ngcontent-%COMP%], a.link-linkedin[_ngcontent-%COMP%], a.link-instagram[_ngcontent-%COMP%]{transition:.4s ease}a.link-twitter[_ngcontent-%COMP%]{color:#1da1f2}a.link-facebook[_ngcontent-%COMP%]{color:#3b5998}a.link-linkedin[_ngcontent-%COMP%]{color:#007bb6}a.link-instagram[_ngcontent-%COMP%]{color:#e95950}a.link-facebook[_ngcontent-%COMP%]:hover{background-color:#3b5998;color:#fff}a.link-twitter[_ngcontent-%COMP%]:hover{background-color:#1da1f2;color:#fff}a.link-codepen[_ngcontent-%COMP%]:hover{background-color:#000;color:#fff}a.link-linkedin[_ngcontent-%COMP%]:hover{background-color:#007bb6;color:#fff}a.link-instagram[_ngcontent-%COMP%]:hover{background-color:#e95950;color:#fff}.btn-default[_ngcontent-%COMP%]{color:#333;background-color:#fff;border-color:transparent!important}.fa-heart[_ngcontent-%COMP%]{color:#f32323}h4.author[_ngcontent-%COMP%]{letter-spacing:4px}hr.copyright[_ngcontent-%COMP%]{opacity:.4}"]});let t=e;return t})();var IT=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},h4=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Jd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,m=(a&15)<<2|l>>6,y=l&63;u||(y=64,s||(m=64)),r.push(n[h],n[p],n[m],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(IT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):h4(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new Fy;let m=o<<2|a>>4;if(r.push(m),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let D=l<<6&192|p;r.push(D)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Fy=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},f4=function(t){let e=IT(t);return Jd.encodeByteArray(e,!0)},Sc=function(t){return f4(t).replace(/\./g,"")},Ly=function(t){try{return Jd.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function jy(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var p4=()=>jy().__FIREBASE_DEFAULTS__,g4=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},m4=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Ly(t[1]);return e&&JSON.parse(e)},Zd=()=>{try{return p4()||g4()||m4()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},CT=t=>{var e,n;return(n=(e=Zd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},bT=t=>{let e=CT(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Uy=()=>{var t;return(t=Zd())===null||t===void 0?void 0:t.config},DT=t=>{var e;return(e=Zd())===null||e===void 0?void 0:e[`_${t}`]};var Pr=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function TT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Sc(JSON.stringify(n)),Sc(JSON.stringify(s)),""].join(".")}function sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ST(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sn())}function y4(){var t;let e=(t=Zd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function AT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function MT(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function xT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function RT(){return!y4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ms(){try{return typeof indexedDB=="object"}catch{return!1}}function PT(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var v4="FirebaseError",yn=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=v4,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Rn.prototype.create)}},Rn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?_4(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new yn(i,a,r)}};function _4(t,e){return t.replace(w4,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var w4=/\{\$([^}]+)}/g;function xs(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(ET(o)&&ET(s)){if(!xs(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function ET(t){return t!==null&&typeof t=="object"}function By(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function NT(t,e){let n=new Vy(t,e);return n.subscribe.bind(n)}var Vy=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");E4(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=ky),i.error===void 0&&(i.error=ky),i.complete===void 0&&(i.complete=ky);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function E4(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ky(){}var OT=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{let e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})};var I4=1e3,C4=2,b4=4*60*60*1e3,D4=.5;function kT(t,e=I4,n=C4){let r=e*Math.pow(n,t),i=Math.round(D4*r*(Math.random()-.5)*2);return Math.min(b4,r+i)}function It(t){return t&&t._delegate?t._delegate:t}var zt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var oo="[DEFAULT]";var $y=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Pr;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(S4(e))try{this.getOrInitializeService({instanceIdentifier:oo})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=oo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return S(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=oo){return this.instances.has(e)}getOptions(e=oo){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:T4(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=oo){return this.component?this.component.multipleInstances?e:oo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function T4(t){return t===oo?void 0:t}function S4(t){return t.instantiationMode==="EAGER"}var Xd=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new $y(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var A4=[],ve=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ve||{}),M4={debug:ve.DEBUG,verbose:ve.VERBOSE,info:ve.INFO,warn:ve.WARN,error:ve.ERROR,silent:ve.SILENT},x4=ve.INFO,R4={[ve.DEBUG]:"log",[ve.VERBOSE]:"log",[ve.INFO]:"info",[ve.WARN]:"warn",[ve.ERROR]:"error"},P4=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=R4[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Jn=class{constructor(e){this.name=e,this._logLevel=x4,this._logHandler=P4,this._userLogHandler=null,A4.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?M4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ve.DEBUG,...e),this._logHandler(this,ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ve.VERBOSE,...e),this._logHandler(this,ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ve.INFO,...e),this._logHandler(this,ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ve.WARN,...e),this._logHandler(this,ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ve.ERROR,...e),this._logHandler(this,ve.ERROR,...e)}};var N4=(t,e)=>e.some(n=>t instanceof n),FT,VT;function O4(){return FT||(FT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function k4(){return VT||(VT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var LT=new WeakMap,zy=new WeakMap,jT=new WeakMap,Hy=new WeakMap,Gy=new WeakMap;function F4(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Zn(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&LT.set(n,t)}).catch(()=>{}),Gy.set(e,t),e}function V4(t){if(zy.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});zy.set(t,e)}var qy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return zy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||jT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function UT(t){qy=t(qy)}function L4(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(eh(this),e,...n);return jT.set(r,e.sort?e.sort():[e]),Zn(r)}:k4().includes(t)?function(...e){return t.apply(eh(this),e),Zn(LT.get(this))}:function(...e){return Zn(t.apply(eh(this),e))}}function j4(t){return typeof t=="function"?L4(t):(t instanceof IDBTransaction&&V4(t),N4(t,O4())?new Proxy(t,qy):t)}function Zn(t){if(t instanceof IDBRequest)return F4(t);if(Hy.has(t))return Hy.get(t);let e=j4(t);return e!==t&&(Hy.set(t,e),Gy.set(e,t)),e}var eh=t=>Gy.get(t);function $T(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=Zn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Zn(s.result),u.oldVersion,u.newVersion,Zn(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var U4=["get","getKey","getAll","getAllKeys","count"],B4=["put","add","delete","clear"],Wy=new Map;function BT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Wy.get(e))return Wy.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=B4.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||U4.includes(n)))return;let o=function(s,...a){return S(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&u.done]))[0]})};return Wy.set(e,o),o}UT(t=>we(j({},t),{get:(e,n,r)=>BT(e,n)||t.get(e,n,r),has:(e,n)=>!!BT(e,n)||t.has(e,n)}));var Qy=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if($4(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function $4(t){let e=t.getComponent();return e?.type==="VERSION"}var Yy="@firebase/app",HT="0.10.13";var Nr=new Jn("@firebase/app"),H4="@firebase/app-compat",z4="@firebase/analytics-compat",q4="@firebase/analytics",G4="@firebase/app-check-compat",W4="@firebase/app-check",K4="@firebase/auth",Q4="@firebase/auth-compat",Y4="@firebase/database",J4="@firebase/data-connect",Z4="@firebase/database-compat",X4="@firebase/functions",e2="@firebase/functions-compat",t2="@firebase/installations",n2="@firebase/installations-compat",r2="@firebase/messaging",i2="@firebase/messaging-compat",o2="@firebase/performance",s2="@firebase/performance-compat",a2="@firebase/remote-config",c2="@firebase/remote-config-compat",u2="@firebase/storage",l2="@firebase/storage-compat",d2="@firebase/firestore",h2="@firebase/vertexai-preview",f2="@firebase/firestore-compat",p2="firebase",g2="10.14.1";var Jy="[DEFAULT]",m2={[Yy]:"fire-core",[H4]:"fire-core-compat",[q4]:"fire-analytics",[z4]:"fire-analytics-compat",[W4]:"fire-app-check",[G4]:"fire-app-check-compat",[K4]:"fire-auth",[Q4]:"fire-auth-compat",[Y4]:"fire-rtdb",[J4]:"fire-data-connect",[Z4]:"fire-rtdb-compat",[X4]:"fire-fn",[e2]:"fire-fn-compat",[t2]:"fire-iid",[n2]:"fire-iid-compat",[r2]:"fire-fcm",[i2]:"fire-fcm-compat",[o2]:"fire-perf",[s2]:"fire-perf-compat",[a2]:"fire-rc",[c2]:"fire-rc-compat",[u2]:"fire-gcs",[l2]:"fire-gcs-compat",[d2]:"fire-fst",[f2]:"fire-fst-compat",[h2]:"fire-vertex","fire-js":"fire-js",[p2]:"fire-js-all"};var Ac=new Map,y2=new Map,Zy=new Map;function zT(t,e){try{t.container.addComponent(e)}catch(n){Nr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Pn(t){let e=t.name;if(Zy.has(e))return Nr.debug(`There were multiple attempts to register component ${e}.`),!1;Zy.set(e,t);for(let n of Ac.values())zT(n,t);for(let n of y2.values())zT(n,t);return!0}function Rs(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ps(t){return t.settings!==void 0}var v2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ei=new Rn("app","Firebase",v2);var Xy=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new zt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ei.create("app-deleted",{appName:this._name})}};var Ns=g2;function nv(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Jy,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ei.create("bad-app-name",{appName:String(i)});if(n||(n=Uy()),!n)throw Ei.create("no-options");let o=Ac.get(i);if(o){if(xs(n,o.options)&&xs(r,o.config))return o;throw Ei.create("duplicate-app",{appName:i})}let s=new Xd(i);for(let u of Zy.values())s.addComponent(u);let a=new Xy(n,r,s);return Ac.set(i,a),a}function so(t=Jy){let e=Ac.get(t);if(!e&&t===Jy&&Uy())return nv();if(!e)throw Ei.create("no-app",{appName:t});return e}function th(){return Array.from(Ac.values())}function Je(t,e,n){var r;let i=(r=m2[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Nr.warn(a.join(" "));return}Pn(new zt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var _2="firebase-heartbeat-database",w2=1,Mc="firebase-heartbeat-store",Ky=null;function KT(){return Ky||(Ky=$T(_2,w2,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Mc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ei.create("idb-open",{originalErrorMessage:t.message})})),Ky}function E2(t){return S(this,null,function*(){try{let n=(yield KT()).transaction(Mc),r=yield n.objectStore(Mc).get(QT(t));return yield n.done,r}catch(e){if(e instanceof yn)Nr.warn(e.message);else{let n=Ei.create("idb-get",{originalErrorMessage:e?.message});Nr.warn(n.message)}}})}function qT(t,e){return S(this,null,function*(){try{let r=(yield KT()).transaction(Mc,"readwrite");yield r.objectStore(Mc).put(e,QT(t)),yield r.done}catch(n){if(n instanceof yn)Nr.warn(n.message);else{let r=Ei.create("idb-set",{originalErrorMessage:n?.message});Nr.warn(r.message)}}})}function QT(t){return`${t.name}!${t.options.appId}`}var I2=1024,C2=30*24*60*60*1e3,ev=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new tv(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return S(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=GT();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=C2}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Nr.warn(r)}})}getHeartbeatsHeader(){return S(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=GT(),{heartbeatsToSend:r,unsentEntries:i}=b2(this._heartbeatsCache.heartbeats),o=Sc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Nr.warn(n),""}})}};function GT(){return new Date().toISOString().substring(0,10)}function b2(t,e=I2){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),WT(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),WT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var tv=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return S(this,null,function*(){return Ms()?PT().then(()=>!0).catch(()=>!1):!1})}read(){return S(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield E2(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return S(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return qT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return S(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return qT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function WT(t){return Sc(JSON.stringify({version:2,heartbeats:t})).length}function D2(t){Pn(new zt("platform-logger",e=>new Qy(e),"PRIVATE")),Pn(new zt("heartbeat",e=>new ev(e),"PRIVATE")),Je(Yy,HT,t),Je(Yy,HT,"esm2017"),Je("fire-js","")}D2("");var T2="firebase",S2="10.14.1";Je(T2,S2,"app");var Ii=new vr("ANGULARFIRE2_VERSION");function xc(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var ks=(t,e)=>{let n=e?[e]:th(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},co=class{constructor(){return ks(iv)}},iv="app-check";function Os(){}var nh=class{zone;delegate;constructor(e,n=gp){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,r)}},rv=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Os,{},Os,Os)),n.pipe(it({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},uo=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new nh(Zone.current)),this.insideAngular=n.run(()=>new nh(Zone.current,Uu)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(W(De))};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function rh(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function A2(t){return rh().ngZone.runOutsideAngular(()=>t())}function ao(t){return rh().ngZone.run(()=>t())}function M2(t){return x2(rh())(t)}function x2(t){return function(n){return n=n.lift(new rv(t.ngZone)),n.pipe(Qr(t.outsideAngular),Kr(t.insideAngular))}}var R2=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),ao(()=>t.apply(void 0,r))},qt=(t,e)=>function(){let n,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(n||=ao(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Os,{},Os,Os))),r[o]=R2(r[o],n));let i=A2(()=>t.apply(this,r));if(!e)if(i instanceof le){let o=rh();return i.pipe(Qr(o.outsideAngular),Kr(o.insideAngular))}else return ao(()=>i);return i instanceof le?i.pipe(M2):i instanceof Promise?ao(()=>new Promise((o,s)=>i.then(a=>ao(()=>o(a)),a=>ao(()=>s(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:ao(()=>i)};var Or=class{constructor(e){return e}},lo=class{constructor(){return th()}};function P2(t){return t&&t.length===1?t[0]:new Or(so())}var ov=new $("angularfire2._apps"),N2={provide:Or,useFactory:P2,deps:[[new Ut,ov]]},O2={provide:lo,deps:[[new Ut,ov]]};function k2(t){return(e,n)=>{let r=n.get(wt);Je("angularfire",Ii.full,"core"),Je("angularfire",Ii.full,"app"),Je("angular",Rb.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new Or(i)}}function YT(t,...e){return Dn([N2,O2,{provide:ov,useFactory:k2(t),multi:!0,deps:[De,_t,uo,...e]}])}var JT=qt(nv,!0);var av=new Map,iS={activated:!1,tokenObservers:[]},F2={initialized:!1,enabled:!1};function dt(t){return av.get(t)||Object.assign({},iS)}function V2(t,e){return av.set(t,e),av.get(t)}function ch(){return F2}var oS="https://content-firebaseappcheck.googleapis.com/v1",L2="exchangeRecaptchaV3Token";var j2="exchangeDebugToken",ZT={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},U2=24*60*60*1e3;var cv=class{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return S(this,null,function*(){this.stop();try{this.pending=new Pr,this.pending.promise.catch(n=>{}),yield B2(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Pr,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function B2(t){return new Promise(e=>{setTimeout(e,t)})}var $2={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},Qt=new Rn("appCheck","AppCheck",$2);function XT(t=!1){var e;return t?(e=self.grecaptcha)===null||e===void 0?void 0:e.enterprise:self.grecaptcha}function lv(t){if(!dt(t).activated)throw Qt.create("use-before-activation",{appName:t.name})}function sS(t){let e=Math.round(t/1e3),n=Math.floor(e/(3600*24)),r=Math.floor((e-n*3600*24)/3600),i=Math.floor((e-n*3600*24-r*3600)/60),o=e-n*3600*24-r*3600-i*60,s="";return n&&(s+=ih(n)+"d:"),r&&(s+=ih(r)+"h:"),s+=ih(i)+"m:"+ih(o)+"s",s}function ih(t){return t===0?"00":t>=10?t.toString():"0"+t}function dv(r,i){return S(this,arguments,function*({url:t,body:e},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let y=yield s.getHeartbeatsHeader();y&&(o["X-Firebase-Client"]=y)}let a={method:"POST",body:JSON.stringify(e),headers:o},u;try{u=yield fetch(t,a)}catch(y){throw Qt.create("fetch-network-error",{originalErrorMessage:y?.message})}if(u.status!==200)throw Qt.create("fetch-status-error",{httpStatus:u.status});let l;try{l=yield u.json()}catch(y){throw Qt.create("fetch-parse-error",{originalErrorMessage:y?.message})}let h=l.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw Qt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let p=Number(h[1])*1e3,m=Date.now();return{token:l.token,expireTimeMillis:m+p,issuedAtTimeMillis:m}})}function H2(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${oS}/projects/${n}/apps/${r}:${L2}?key=${i}`,body:{recaptcha_v3_token:e}}}function aS(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${oS}/projects/${n}/apps/${r}:${j2}?key=${i}`,body:{debug_token:e}}}var z2="firebase-app-check-database",q2=1,Rc="firebase-app-check-store",cS="debug-token",oh=null;function uS(){return oh||(oh=new Promise((t,e)=>{try{let n=indexedDB.open(z2,q2);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Qt.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Rc,{keyPath:"compositeKey"})}}}catch(n){e(Qt.create("storage-open",{originalErrorMessage:n?.message}))}}),oh)}function G2(t){return dS(hS(t))}function W2(t,e){return lS(hS(t),e)}function K2(t){return lS(cS,t)}function Q2(){return dS(cS)}function lS(t,e){return S(this,null,function*(){let r=(yield uS()).transaction(Rc,"readwrite"),o=r.objectStore(Rc).put({compositeKey:t,value:e});return new Promise((s,a)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;a(Qt.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})})}function dS(t){return S(this,null,function*(){let n=(yield uS()).transaction(Rc,"readonly"),i=n.objectStore(Rc).get(t);return new Promise((o,s)=>{i.onsuccess=a=>{let u=a.target.result;o(u?u.value:void 0)},n.onerror=a=>{var u;s(Qt.create("storage-get",{originalErrorMessage:(u=a.target.error)===null||u===void 0?void 0:u.message}))}})})}function hS(t){return`${t.options.appId}-${t.name}`}var Pc=new Jn("@firebase/app-check");function Y2(t){return S(this,null,function*(){if(Ms()){let e;try{e=yield G2(t)}catch(n){Pc.warn(`Failed to read token from IndexedDB. Error: ${n}`)}return e}})}function sv(t,e){return Ms()?W2(t,e).catch(n=>{Pc.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function J2(){return S(this,null,function*(){let t;try{t=yield Q2()}catch{}if(t)return t;{let e=OT();return K2(e).catch(n=>Pc.warn(`Failed to persist debug token to IndexedDB. Error: ${n}`)),e}})}function hv(){return ch().enabled}function fv(){return S(this,null,function*(){let t=ch();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}function Z2(){let t=jy(),e=ch();if(e.initialized=!0,typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN!="string"&&t.FIREBASE_APPCHECK_DEBUG_TOKEN!==!0)return;e.enabled=!0;let n=new Pr;e.token=n,typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN=="string"?n.resolve(t.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(J2())}var X2={error:"UNKNOWN_ERROR"};function ej(t){return Jd.encodeString(JSON.stringify(t),!1)}function sh(t,e=!1){return S(this,null,function*(){let n=t.app;lv(n);let r=dt(n),i=r.token,o;if(i&&!Fs(i)&&(r.token=void 0,i=void 0),!i){let u=yield r.cachedTokenPromise;u&&(Fs(u)?i=u:yield sv(n,void 0))}if(!e&&i&&Fs(i))return{token:i.token};let s=!1;if(hv()){r.exchangeTokenPromise||(r.exchangeTokenPromise=dv(aS(n,yield fv()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),s=!0);let u=yield r.exchangeTokenPromise;return yield sv(n,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),s=!0),i=yield dt(n).exchangeTokenPromise}catch(u){u.code==="appCheck/throttled"?Pc.warn(u.message):Pc.error(u),o=u}let a;return i?o?Fs(i)?a={token:i.token,internalError:o}:a=tS(o):(a={token:i.token},r.token=i,yield sv(n,i)):a=tS(o),s&&gS(n,a),a})}function tj(t){return S(this,null,function*(){let e=t.app;lv(e);let{provider:n}=dt(e);if(hv()){let r=yield fv(),{token:i}=yield dv(aS(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield n.getToken();return{token:r}}})}function fS(t,e,n,r){let{app:i}=t,o=dt(i),s={next:n,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Fs(o.token)){let a=o.token;Promise.resolve().then(()=>{n({token:a.token}),eS(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>eS(t))}function pS(t,e){let n=dt(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function eS(t){let{app:e}=t,n=dt(e),r=n.tokenRefresher;r||(r=nj(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function nj(t){let{app:e}=t;return new cv(()=>S(this,null,function*(){let n=dt(e),r;if(n.token?r=yield sh(t,!0):r=yield sh(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=dt(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},ZT.RETRIAL_MIN_WAIT,ZT.RETRIAL_MAX_WAIT)}function gS(t,e){let n=dt(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Fs(t){return t.expireTimeMillis-Date.now()>0}function tS(t){return{token:ej(X2),error:t}}var uv=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=dt(this.app);for(let n of e)pS(this.app,n.next);return Promise.resolve()}};function rj(t,e){return new uv(t,e)}function ij(t){return{getToken:e=>sh(t,e),getLimitedUseToken:()=>tj(t),addTokenListener:e=>fS(t,"INTERNAL",e),removeTokenListener:e=>pS(t.app,e)}}var oj="@firebase/app-check",sj="0.8.8";var aj="https://www.google.com/recaptcha/api.js";function cj(t,e){let n=new Pr,r=dt(t);r.reCAPTCHAState={initialized:n};let i=uj(t),o=XT(!1);return o?nS(t,e,o,i,n):hj(()=>{let s=XT(!1);if(!s)throw new Error("no recaptcha");nS(t,e,s,i,n)}),n.promise}function nS(t,e,n,r,i){n.ready(()=>{dj(t,e,n,r),i.resolve(n)})}function uj(t){let e=`fire_app_check_${t.name}`,n=document.createElement("div");return n.id=e,n.style.display="none",document.body.appendChild(n),e}function lj(t){return S(this,null,function*(){lv(t);let n=yield dt(t).reCAPTCHAState.initialized.promise;return new Promise((r,i)=>{let o=dt(t).reCAPTCHAState;n.ready(()=>{r(n.execute(o.widgetId,{action:"fire_app_check"}))})})})}function dj(t,e,n,r){let i=n.render(r,{sitekey:e,size:"invisible",callback:()=>{dt(t).reCAPTCHAState.succeeded=!0},"error-callback":()=>{dt(t).reCAPTCHAState.succeeded=!1}}),o=dt(t);o.reCAPTCHAState=Object.assign(Object.assign({},o.reCAPTCHAState),{widgetId:i})}function hj(t){let e=document.createElement("script");e.src=aj,e.onload=t,document.head.appendChild(e)}var ah=class t{constructor(e){this._siteKey=e,this._throttleData=null}getToken(){return S(this,null,function*(){var e,n,r;pj(this._throttleData);let i=yield lj(this._app).catch(s=>{throw Qt.create("recaptcha-error")});if(!(!((e=dt(this._app).reCAPTCHAState)===null||e===void 0)&&e.succeeded))throw Qt.create("recaptcha-error");let o;try{o=yield dv(H2(this._app,i),this._heartbeatServiceProvider)}catch(s){throw!((n=s.code)===null||n===void 0)&&n.includes("fetch-status-error")?(this._throttleData=fj(Number((r=s.customData)===null||r===void 0?void 0:r.httpStatus),this._throttleData),Qt.create("throttled",{time:sS(this._throttleData.allowRequestsAfter-Date.now()),httpStatus:this._throttleData.httpStatus})):s}return this._throttleData=null,o})}initialize(e){this._app=e,this._heartbeatServiceProvider=Rs(e,"heartbeat"),cj(e,this._siteKey).catch(()=>{})}isEqual(e){return e instanceof t?this._siteKey===e._siteKey:!1}};function fj(t,e){if(t===404||t===403)return{backoffCount:1,allowRequestsAfter:Date.now()+U2,httpStatus:t};{let n=e?e.backoffCount:0,r=kT(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+r,httpStatus:t}}}function pj(t){if(t&&Date.now()-t.allowRequestsAfter<=0)throw Qt.create("throttled",{time:sS(t.allowRequestsAfter-Date.now()),httpStatus:t.httpStatus})}function mS(t=so(),e){t=It(t);let n=Rs(t,"app-check");if(ch().initialized||Z2(),hv()&&fv().then(i=>console.log(`App Check debug token: ${i}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(o.isTokenAutoRefreshEnabled===e.isTokenAutoRefreshEnabled&&o.provider.isEqual(e.provider))return i;throw Qt.create("already-initialized",{appName:t.name})}let r=n.initialize({options:e});return gj(t,e.provider,e.isTokenAutoRefreshEnabled),dt(t).isTokenAutoRefreshEnabled&&fS(r,"INTERNAL",()=>{}),r}function gj(t,e,n){let r=V2(t,Object.assign({},iS));r.activated=!0,r.provider=e,r.cachedTokenPromise=Y2(t).then(i=>(i&&Fs(i)&&(r.token=i,gS(t,{token:i.token})),i)),r.isTokenAutoRefreshEnabled=n===void 0?t.automaticDataCollectionEnabled:n,r.provider.initialize(t)}function yS(t,e){return S(this,null,function*(){let n=yield sh(t,e);if(n.error)throw n.error;return{token:n.token}})}var mj="app-check",rS="app-check-internal";function yj(){Pn(new zt(mj,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return rj(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(rS).initialize()})),Pn(new zt(rS,t=>{let e=t.getProvider("app-check").getImmediate();return ij(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Je(oj,sj)}yj();var ho=class{constructor(e){return e}};var pv=new $("angularfire2.app-check-instances");function vj(t,e){let n=xc(iv,t,e);return n&&new ho(n)}var _j=["localhost","0.0.0.0","127.0.0.1"],wj=typeof window<"u"&&_j.includes(window.location.hostname);function Ej(t){return(e,n,r)=>{!fs(r)&&(Fb()||wj)&&(globalThis.FIREBASE_APPCHECK_DEBUG_TOKEN??=!0);let i=e.runOutsideAngular(()=>t(n));return new ho(i)}}var Ij={provide:co,deps:[[new Ut,pv]]},Cj={provide:ho,useFactory:vj,deps:[[new Ut,pv],Or,wt]};function vS(t,...e){return Je("angularfire",Ii.full,"app-check"),Dn([Cj,Ij,{provide:pv,useFactory:Ej(t),multi:!0,deps:[De,_t,wt,uo,lo,...e]}])}var _S=qt(yS,!0),wS=qt(mS,!0);var ES=(()=>{let e=class e{constructor(r){this.appCheck=r}ngOnInit(){this.logAppCheckToken()}logAppCheckToken(){_S(this.appCheck).then(r=>{}).catch(r=>{console.error("Error getting App Check Token:",r)})}};e.\u0275fac=function(i){return new(i||e)(B(ho))},e.\u0275cmp=Qe({type:e,selectors:[["app-root"]],standalone:!0,features:[Ye],decls:3,vars:0,template:function(i,o){i&1&&he(0,"app-header")(1,"router-outlet")(2,"app-footer")},dependencies:[Ts,Sy,Et,Yd,wT,yD]});let t=e;return t})();var RS=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(B(Sn),B(Bt))},e.\u0275dir=Be({type:e});let t=e;return t})(),mh=(()=>{let e=class e extends RS{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Ir(e)))(o||e)}})(),e.\u0275dir=Be({type:e,features:[fn]});let t=e;return t})(),jc=new $("");var Dj={provide:jc,useExisting:Hn(()=>vn),multi:!0};function Tj(){let t=Ar()?Ar().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var Sj=new $(""),vn=(()=>{let e=class e extends RS{constructor(r,i,o){super(r,i),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Tj())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(B(Sn),B(Bt),B(Sj,8))},e.\u0275dir=Be({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&Z("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[ui([Dj]),fn]});let t=e;return t})();function Aj(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}var mv=new $(""),PS=new $("");function Mj(t){return Aj(t.value)?{required:!0}:null}function IS(t){return null}function NS(t){return t!=null}function OS(t){return eo(t)?ke(t):t}function kS(t){let e={};return t.forEach(n=>{e=n!=null?j(j({},e),n):e}),Object.keys(e).length===0?null:e}function FS(t,e){return e.map(n=>n(t))}function xj(t){return!t.validate}function VS(t){return t.map(e=>xj(e)?e:n=>e.validate(n))}function Rj(t){if(!t)return null;let e=t.filter(NS);return e.length==0?null:function(n){return kS(FS(n,e))}}function yv(t){return t!=null?Rj(VS(t)):null}function Pj(t){if(!t)return null;let e=t.filter(NS);return e.length==0?null:function(n){let r=FS(n,e).map(OS);return vp(r).pipe(te(kS))}}function vv(t){return t!=null?Pj(VS(t)):null}function CS(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Nj(t){return t._rawValidators}function Oj(t){return t._rawAsyncValidators}function gv(t){return t?Array.isArray(t)?t:[t]:[]}function lh(t,e){return Array.isArray(t)?t.includes(e):t===e}function bS(t,e){let n=gv(e);return gv(t).forEach(i=>{lh(n,i)||n.push(i)}),n}function DS(t,e){return gv(e).filter(n=>!lh(t,n))}var dh=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=yv(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=vv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},js=class extends dh{get formDirective(){return null}get path(){return null}},Lc=class extends dh{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},hh=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},kj={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},$7=we(j({},kj),{"[class.ng-submitted]":"isSubmitted"}),Xn=(()=>{let e=class e extends hh{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(B(Lc,2))},e.\u0275dir=Be({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&id("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[fn]});let t=e;return t})(),Bs=(()=>{let e=class e extends hh{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(B(js,10))},e.\u0275dir=Be({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,o){i&2&&id("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[fn]});let t=e;return t})();var Nc="VALID",uh="INVALID",Vs="PENDING",Oc="DISABLED",Us=class{},fh=class extends Us{constructor(e,n){super(),this.value=e,this.source=n}},Fc=class extends Us{constructor(e,n){super(),this.pristine=e,this.source=n}},Vc=class extends Us{constructor(e,n){super(),this.touched=e,this.source=n}},Ls=class extends Us{constructor(e,n){super(),this.status=e,this.source=n}};function LS(t){return(yh(t)?t.validators:t)||null}function Fj(t){return Array.isArray(t)?yv(t):t||null}function jS(t,e){return(yh(e)?e.asyncValidators:t)||null}function Vj(t){return Array.isArray(t)?vv(t):t||null}function yh(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function Lj(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new G(1e3,"");if(!r[n])throw new G(1001,"")}function jj(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new G(1002,"")})}var ph=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._events=new ft,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Nc}get invalid(){return this.status===uh}get pending(){return this.status==Vs}get disabled(){return this.status===Oc}get enabled(){return this.status!==Oc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(bS(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(bS(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(DS(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(DS(e,this._rawAsyncValidators))}hasValidator(e){return lh(this._rawValidators,e)}hasAsyncValidator(e){return lh(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(we(j({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Vc(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new Vc(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(we(j({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Fc(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new Fc(!0,r))}markAsPending(e={}){this.status=Vs;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ls(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(we(j({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Oc,this.errors=null,this._forEachChild(i=>{i.disable(we(j({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new fh(this.value,r)),this._events.next(new Ls(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(we(j({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Nc,this._forEachChild(r=>{r.enable(we(j({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(we(j({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Nc||this.status===Vs)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new fh(this.value,n)),this._events.next(new Ls(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(we(j({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Oc:Nc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Vs,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=OS(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Ls(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new Ke,this.statusChanges=new Ke}_calculateStatus(){return this._allControlsDisabled()?Oc:this.errors?uh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Vs)?Vs:this._anyControlsHaveStatus(uh)?uh:Nc}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new Fc(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new Vc(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){yh(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Fj(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Vj(this._rawAsyncValidators)}},gh=class extends ph{constructor(e,n,r){super(LS(n),jS(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){jj(this,!0,e),Object.keys(e).forEach(r=>{Lj(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var _v=new $("CallSetDisabledState",{providedIn:"root",factory:()=>wv}),wv="always";function Uj(t,e){return[...e.path,t]}function US(t,e,n=wv){BS(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),$j(t,e),zj(t,e),Hj(t,e),Bj(t,e)}function TS(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function Bj(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function BS(t,e){let n=Nj(t);e.validator!==null?t.setValidators(CS(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=Oj(t);e.asyncValidator!==null?t.setAsyncValidators(CS(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();TS(e._rawValidators,i),TS(e._rawAsyncValidators,i)}function $j(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&$S(t,e)})}function Hj(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&$S(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function $S(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function zj(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function qj(t,e){t==null,BS(t,e)}function Gj(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function Wj(t){return Object.getPrototypeOf(t.constructor)===mh}function Kj(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Qj(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===vn?n=o:Wj(o)?r=o:i=o}),i||r||n||null}var Yj={provide:js,useExisting:Hn(()=>fo)},kc=Promise.resolve(),fo=(()=>{let e=class e extends js{constructor(r,i,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Ke,this.form=new gh({},yv(r),vv(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){kc.then(()=>{let i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),US(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){kc.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){kc.then(()=>{let i=this._findContainer(r.path),o=new gh({});qj(o,r),i.registerControl(r.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){kc.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){kc.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submitted=!0,Kj(this.form,this._directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}};e.\u0275fac=function(i){return new(i||e)(B(mv,10),B(PS,10),B(_v,8))},e.\u0275dir=Be({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,o){i&1&&Z("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ui([Yj]),fn]});let t=e;return t})();function SS(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function AS(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Jj=class extends ph{constructor(e=null,n,r){super(LS(n),jS(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),yh(n)&&(n.nonNullable||n.initialValueIsDefault)&&(AS(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){SS(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){SS(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){AS(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Zj={provide:Lc,useExisting:Hn(()=>Nn)},MS=Promise.resolve(),Nn=(()=>{let e=class e extends Lc{constructor(r,i,o,s,a,u){super(),this._changeDetectorRef=a,this.callSetDisabledState=u,this.control=new Jj,this._registered=!1,this.name="",this.update=new Ke,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=Qj(this,s)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),Gj(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){US(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){MS.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,o=i!==0&&di(i);MS.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?Uj(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(B(js,9),B(mv,10),B(PS,10),B(jc,10),B(li,8),B(_v,8))},e.\u0275dir=Be({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ui([Zj]),fn,Er]});let t=e;return t})(),$s=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Be({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})(),Xj={provide:jc,useExisting:Hn(()=>Ev),multi:!0},Ev=(()=>{let e=class e extends mh{writeValue(r){let i=r??"";this.setProperty("value",i)}registerOnChange(r){this.onChange=i=>{r(i==""?null:parseFloat(i))}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Ir(e)))(o||e)}})(),e.\u0275dir=Be({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,o){i&1&&Z("input",function(a){return o.onChange(a.target.value)})("blur",function(){return o.onTouched()})},features:[ui([Xj]),fn]});let t=e;return t})();var eU={provide:jc,useExisting:Hn(()=>Hs),multi:!0};function HS(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function tU(t){return t.split(":")[0]}var Hs=(()=>{let e=class e extends mh{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i=this._getOptionId(r),o=HS(i,r);this.setProperty("value",o)}registerOnChange(r){this.onChange=i=>{this.value=this._getOptionValue(i),r(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),r))return i;return null}_getOptionValue(r){let i=tU(r);return this._optionMap.has(i)?this._optionMap.get(i):r}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Ir(e)))(o||e)}})(),e.\u0275dir=Be({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,o){i&1&&Z("change",function(a){return o.onChange(a.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[ui([eU]),fn]});let t=e;return t})(),vh=(()=>{let e=class e{constructor(r,i,o){this._element=r,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(r){this._select!=null&&(this._select._optionMap.set(this.id,r),this._setElementValue(HS(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._setElementValue(r),this._select&&this._select.writeValue(this._select.value)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(B(Bt),B(Sn),B(Hs,9))},e.\u0275dir=Be({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})(),nU={provide:jc,useExisting:Hn(()=>zS),multi:!0};function xS(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function rU(t){return t.split(":")[0]}var zS=(()=>{let e=class e extends mh{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i;if(Array.isArray(r)){let o=r.map(s=>this._getOptionId(s));i=(s,a)=>{s._setSelected(o.indexOf(a.toString())>-1)}}else i=(o,s)=>{o._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(r){this.onChange=i=>{let o=[],s=i.selectedOptions;if(s!==void 0){let a=s;for(let u=0;u<a.length;u++){let l=a[u],h=this._getOptionValue(l.value);o.push(h)}}else{let a=i.options;for(let u=0;u<a.length;u++){let l=a[u];if(l.selected){let h=this._getOptionValue(l.value);o.push(h)}}}this.value=o,r(o)}}_registerOption(r){let i=(this._idCounter++).toString();return this._optionMap.set(i,r),i}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,r))return i;return null}_getOptionValue(r){let i=rU(r);return this._optionMap.has(i)?this._optionMap.get(i)._value:r}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Ir(e)))(o||e)}})(),e.\u0275dir=Be({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,o){i&1&&Z("change",function(a){return o.onChange(a.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[ui([nU]),fn]});let t=e;return t})(),_h=(()=>{let e=class e{constructor(r,i,o){this._element=r,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(r){this._select!=null&&(this._value=r,this._setElementValue(xS(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._select?(this._value=r,this._setElementValue(xS(this.id,r)),this._select.writeValue(this._select.value)):this._setElementValue(r)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}_setSelected(r){this._renderer.setProperty(this._element.nativeElement,"selected",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(B(Bt),B(Sn),B(zS,9))},e.\u0275dir=Be({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})();var iU=(()=>{let e=class e{constructor(){this._validator=IS}ngOnChanges(r){if(this.inputName in r){let i=this.normalizeInput(r[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):IS,this._onChange&&this._onChange()}}validate(r){return this._validator(r)}registerOnValidatorChange(r){this._onChange=r}enabled(r){return r!=null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Be({type:e,features:[Er]});let t=e;return t})();var oU={provide:mv,useExisting:Hn(()=>po),multi:!0};var po=(()=>{let e=class e extends iU{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=di,this.createValidator=r=>Mj}enabled(r){return r}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Ir(e)))(o||e)}})(),e.\u0275dir=Be({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,o){i&2&&Qa("required",o._enabled?"":null)},inputs:{required:"required"},features:[ui([oU]),fn]});let t=e;return t})();var sU=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=qn({type:e}),e.\u0275inj=zn({});let t=e;return t})();var er=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:_v,useValue:r.callSetDisabledState??wv}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=qn({type:e}),e.\u0275inj=zn({imports:[sU]});let t=e;return t})();var aU=["slides"],qS=(()=>{let e=class e{constructor(r){this.platformId=r,this.intervalForSlider=1e4,this.withBackground=!1,this.showArrows=!0,this.dragging=!1}onClickLeft(){if(this.slides){let r=this.slides.nativeElement,i=r.scrollWidth/r.children.length;r.scrollLeft-=i,r.scrollLeft<0&&(r.scrollLeft=r.scrollWidth-i)}}onClickRight(){if(this.slides){let r=this.slides.nativeElement,i=r.scrollWidth/r.children.length;r.scrollLeft+=i,r.scrollLeft>=r.scrollWidth&&(r.scrollLeft=0)}}ngAfterViewInit(){km(this.platformId)&&(this.autoSlideSub=_p(this.intervalForSlider,this.intervalForSlider).subscribe(()=>this.onClickRight()))}onDrag(r,i){if(i==="start")this.dragging=!0;else if(i==="end")this.dragging=!1;else if(i==="move"&&this.dragging){let o=this.slides.nativeElement,s=r instanceof MouseEvent?r.movementX:r.touches[0].clientX;o.scrollLeft-=s}}ngOnDestroy(){this.autoSlideSub&&this.autoSlideSub.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)(B(wt))},e.\u0275cmp=Qe({type:e,selectors:[["app-carousel"]],viewQuery:function(i,o){if(i&1&&Tb(aU,5),i&2){let s;od(s=sd())&&(o.slides=s.first)}},inputs:{intervalForSlider:"intervalForSlider",withBackground:"withBackground",showArrows:"showArrows"},standalone:!0,features:[Ye],decls:13,vars:0,consts:[["slides",""],["id","carouselExampleIndicators","data-ride","carousel",1,"carousel","slide"],[1,"carousel-inner"],[1,"carousel-item","active"],["src","./slide/slide1.jpg","alt","Slide 1",1,"d-block","w-100"],[1,"carousel-item"],["src","./slide/slide2.jpg","alt","Slide 2",1,"d-block","w-100"],["src","./slide/slide3.jpg","alt","Slide 3",1,"d-block","w-100"],["href","#carouselExampleIndicators","role","button","data-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],["href","#carouselExampleIndicators","role","button","data-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"]],template:function(i,o){i&1&&(T(0,"div",1)(1,"div",2,0)(3,"div",3),he(4,"img",4),M(),T(5,"div",5),he(6,"img",6),M(),T(7,"div",5),he(8,"img",7),M()(),T(9,"a",8),he(10,"span",9),M(),T(11,"a",10),he(12,"span",11),M()())},dependencies:[Et],styles:[".carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:50vh;object-fit:cover}.carousel-container[_ngcontent-%COMP%]{position:relative;width:100%;height:50vh;overflow:hidden}.carousel-inner[_ngcontent-%COMP%]{display:flex;overflow:hidden;width:100%;height:100%}.carousel-item[_ngcontent-%COMP%]{background:linear-gradient(to bottom,#fff,#7a73f6);display:flex;align-items:center;justify-content:center;transition:transform 5s ease-in-out}@media (max-width: 576px){.carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:40vh}}"]});let t=e;return t})();function XS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var eA=XS,tA=new Rn("auth","Firebase",XS());var Ch=new Jn("@firebase/auth");function uU(t,...e){Ch.logLevel<=ve.WARN&&Ch.warn(`Auth (${Ns}): ${t}`,...e)}function Eh(t,...e){Ch.logLevel<=ve.ERROR&&Ch.error(`Auth (${Ns}): ${t}`,...e)}function GS(t,...e){throw Nv(t,...e)}function Pv(t,...e){return Nv(t,...e)}function nA(t,e,n){let r=Object.assign(Object.assign({},eA()),{[e]:n});return new Rn("auth","Firebase",r).create(e,{appName:t.name})}function Ih(t){return nA(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Nv(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return tA.create(t,...e)}function xe(t,e,...n){if(!t)throw Nv(e,...n)}function Bc(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Eh(e),new Error(e)}function bh(t,e){t||Bc(e)}function lU(){return WS()==="http:"||WS()==="https:"}function WS(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function dU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(lU()||MT()||"connection"in navigator)?navigator.onLine:!0}function hU(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var mo=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,bh(n>e,"Short delay should be less than long delay!"),this.isMobile=ST()||xT()}get(){return dU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function fU(t,e){bh(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Dh=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Bc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Bc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Bc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var pU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var gU=new mo(3e4,6e4);function rA(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Mh(o,s,a,u){return S(this,arguments,function*(t,e,n,r,i={}){return iA(t,i,()=>S(this,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=By(Object.assign({key:t.config.apiKey},h)).slice(1),m=yield t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);let y=Object.assign({method:e,headers:m},l);return AT()||(y.referrerPolicy="no-referrer"),Dh.fetch()(oA(t,t.config.apiHost,n,p),y)}))})}function iA(t,e,n){return S(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},pU),e);try{let i=new bv(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw wh(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw wh(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw wh(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw wh(t,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw nA(t,h,l);GS(t,h)}}catch(i){if(i instanceof yn)throw i;GS(t,"network-request-failed",{message:String(i)})}})}function oA(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?fU(t.config,i):`${t.config.apiScheme}://${i}`}var bv=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Pv(this.auth,"network-request-failed")),gU.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function wh(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Pv(t,e,r);return i.customData._tokenResponse=n,i}function mU(t,e){return S(this,null,function*(){return Mh(t,"POST","/v1/accounts:delete",e)})}function sA(t,e){return S(this,null,function*(){return Mh(t,"POST","/v1/accounts:lookup",e)})}function $c(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Ov(t,e=!1){return S(this,null,function*(){let n=It(t),r=yield n.getIdToken(e),i=aA(r);xe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:$c(Iv(i.auth_time)),issuedAtTime:$c(Iv(i.iat)),expirationTime:$c(Iv(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function Iv(t){return Number(t)*1e3}function aA(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Eh("JWT malformed, contained fewer than 3 sections"),null;try{let i=Ly(n);return i?JSON.parse(i):(Eh("Failed to decode base64 JWT payload"),null)}catch(i){return Eh("Caught error parsing JWT payload as JSON",i?.toString()),null}}function KS(t){let e=aA(t);return xe(e,"internal-error"),xe(typeof e.exp<"u","internal-error"),xe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Dv(t,e,n=!1){return S(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof yn&&yU(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function yU({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Tv=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>S(this,null,function*(){yield this.iteration()}),n)}iteration(){return S(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var zc=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=$c(this.lastLoginAt),this.creationTime=$c(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Th(t){return S(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Dv(t,sA(n,{idToken:r}));xe(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?cA(o.providerUserInfo):[],a=vU(t.providerData,s),u=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new zc(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,p)})}function kv(t){return S(this,null,function*(){let e=It(t);yield Th(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function vU(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function cA(t){return t.map(e=>{var{providerId:n}=e,r=mp(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function _U(t,e){return S(this,null,function*(){let n=yield iA(t,{},()=>S(this,null,function*(){let r=By({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=oA(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Dh.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function wU(t,e){return S(this,null,function*(){return Mh(t,"POST","/v2/accounts:revokeToken",rA(t,e))})}var Hc=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){xe(e.idToken,"internal-error"),xe(typeof e.idToken<"u","internal-error"),xe(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):KS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){xe(e.length!==0,"internal-error");let n=KS(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return S(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(xe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return S(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield _U(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(xe(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(xe(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(xe(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Bc("not implemented")}};function Ci(t,e){xe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var qc=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=mp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Tv(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new zc(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return S(this,null,function*(){let n=yield Dv(this,this.stsTokenManager.getToken(this.auth,e));return xe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Ov(this,e)}reload(){return kv(this)}_assign(e){this!==e&&(xe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return S(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Th(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return S(this,null,function*(){if(Ps(this.auth.app))return Promise.reject(Ih(this.auth));let e=yield this.getIdToken();return yield Dv(this,mU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,u,l,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,y=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,D=(s=n.photoURL)!==null&&s!==void 0?s:void 0,P=(a=n.tenantId)!==null&&a!==void 0?a:void 0,x=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,F=(l=n.createdAt)!==null&&l!==void 0?l:void 0,K=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:q,emailVerified:Y,isAnonymous:Ne,providerData:ee,stsTokenManager:E}=n;xe(q&&E,e,"internal-error");let v=Hc.fromJSON(this.name,E);xe(typeof q=="string",e,"internal-error"),Ci(p,e.name),Ci(m,e.name),xe(typeof Y=="boolean",e,"internal-error"),xe(typeof Ne=="boolean",e,"internal-error"),Ci(y,e.name),Ci(D,e.name),Ci(P,e.name),Ci(x,e.name),Ci(F,e.name),Ci(K,e.name);let _=new t({uid:q,auth:e,email:m,emailVerified:Y,displayName:p,isAnonymous:Ne,photoURL:D,phoneNumber:y,tenantId:P,stsTokenManager:v,createdAt:F,lastLoginAt:K});return ee&&Array.isArray(ee)&&(_.providerData=ee.map(I=>Object.assign({},I))),x&&(_._redirectEventId=x),_}static _fromIdTokenResponse(e,n,r=!1){return S(this,null,function*(){let i=new Hc;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Th(o),o})}static _fromGetAccountInfoResponse(e,n,r){return S(this,null,function*(){let i=n.users[0];xe(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?cA(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Hc;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new zc(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var QS=new Map;function go(t){bh(t instanceof Function,"Expected a class definition");let e=QS.get(t);return e?(bh(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,QS.set(t,e),e)}var EU=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return S(this,null,function*(){return!0})}_set(n,r){return S(this,null,function*(){this.storage[n]=r})}_get(n){return S(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return S(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Sv=EU;function Cv(t,e,n){return`firebase:${t}:${e}:${n}`}var Sh=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Cv(this.userKey,i.apiKey,o),this.fullPersistenceKey=Cv("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return S(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?qc._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return S(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return S(this,null,function*(){if(!n.length)return new t(go(Sv),e,r);let i=(yield Promise.all(n.map(l=>S(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||go(Sv),s=Cv(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let h=yield l._get(s);if(h){let p=qc._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new t(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>S(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,r))})}};function YS(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(DU(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(IU(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(SU(e))return"Blackberry";if(AU(e))return"Webos";if(CU(e))return"Safari";if((e.includes("chrome/")||bU(e))&&!e.includes("edge/"))return"Chrome";if(TU(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function IU(t=sn()){return/firefox\//i.test(t)}function CU(t=sn()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function bU(t=sn()){return/crios\//i.test(t)}function DU(t=sn()){return/iemobile/i.test(t)}function TU(t=sn()){return/android/i.test(t)}function SU(t=sn()){return/blackberry/i.test(t)}function AU(t=sn()){return/webos/i.test(t)}function uA(t,e=[]){let n;switch(t){case"Browser":n=YS(sn());break;case"Worker":n=`${YS(sn())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ns}/${r}`}var Av=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return S(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function MU(n){return S(this,arguments,function*(t,e={}){return Mh(t,"GET","/v2/passwordPolicy",rA(t,e))})}var xU=6,Mv=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:xU,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var xv=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ah(this),this.idTokenSubscription=new Ah(this),this.beforeStateQueue=new Av(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=go(n)),this._initializationPromise=this.queue(()=>S(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Sh.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return S(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return S(this,null,function*(){try{let n=yield sA(this,{idToken:e}),r=yield qc._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return S(this,null,function*(){var n;if(Ps(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return xe(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return S(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return S(this,null,function*(){try{yield Th(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=hU()}_delete(){return S(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return S(this,null,function*(){if(Ps(this.app))return Promise.reject(Ih(this));let n=e?It(e):null;return n&&xe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return S(this,null,function*(){if(!this._deleted)return e&&xe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>S(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return S(this,null,function*(){return Ps(this.app)?Promise.reject(Ih(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Ps(this.app)?Promise.reject(Ih(this)):this.queue(()=>S(this,null,function*(){yield this.assertedPersistence.setPersistence(go(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return S(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return S(this,null,function*(){let e=yield MU(this),n=new Mv(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Rn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return S(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield wU(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return S(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return S(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&go(e)||this._popupRedirectResolver;xe(n,this,"argument-error"),this.redirectPersistenceManager=yield Sh.create(this,[go(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return S(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>S(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return S(this,null,function*(){if(e===this.currentUser)return this.queue(()=>S(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(xe(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(n);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return S(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=uA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return S(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return S(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&uU(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function RU(t){return It(t)}var Ah=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=NT(n=>this.observer=n)}get next(){return xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var PU={loadJS(){return S(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function NU(t){PU=t}function OU(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function kU(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(go);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}var uK=OU("rcb"),lK=new mo(3e4,6e4);var dK=new mo(2e3,1e4);var hK=10*60*1e3;var fK=new mo(3e4,6e4);var pK=new mo(5e3,15e3);var gK=encodeURIComponent("fac");var JS="@firebase/auth",ZS="1.7.9";var Rv=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return S(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function FU(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function VU(t){Pn(new zt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;xe(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:uA(t)},l=new xv(r,i,o,u);return kU(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Pn(new zt("auth-internal",e=>{let n=RU(e.getProvider("auth").getImmediate());return(r=>new Rv(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Je(JS,ZS,FU(t)),Je(JS,ZS,"esm2017")}var LU=5*60,mK=DT("authIdTokenMaxAge")||LU;function jU(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}NU({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=Pv("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",jU().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});VU("Browser");var L3="auth";var xh=class{constructor(){return ks(L3)}};var lA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},dA={};var bi,Fv;(function(){var t;function e(E,v){function _(){}_.prototype=v.prototype,E.D=v.prototype,E.prototype=new _,E.prototype.constructor=E,E.C=function(I,C,A){for(var w=Array(arguments.length-2),cr=2;cr<arguments.length;cr++)w[cr-2]=arguments[cr];return v.prototype[C].apply(I,w)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,v,_){_||(_=0);var I=Array(16);if(typeof v=="string")for(var C=0;16>C;++C)I[C]=v.charCodeAt(_++)|v.charCodeAt(_++)<<8|v.charCodeAt(_++)<<16|v.charCodeAt(_++)<<24;else for(C=0;16>C;++C)I[C]=v[_++]|v[_++]<<8|v[_++]<<16|v[_++]<<24;v=E.g[0],_=E.g[1],C=E.g[2];var A=E.g[3],w=v+(A^_&(C^A))+I[0]+3614090360&4294967295;v=_+(w<<7&4294967295|w>>>25),w=A+(C^v&(_^C))+I[1]+3905402710&4294967295,A=v+(w<<12&4294967295|w>>>20),w=C+(_^A&(v^_))+I[2]+606105819&4294967295,C=A+(w<<17&4294967295|w>>>15),w=_+(v^C&(A^v))+I[3]+3250441966&4294967295,_=C+(w<<22&4294967295|w>>>10),w=v+(A^_&(C^A))+I[4]+4118548399&4294967295,v=_+(w<<7&4294967295|w>>>25),w=A+(C^v&(_^C))+I[5]+1200080426&4294967295,A=v+(w<<12&4294967295|w>>>20),w=C+(_^A&(v^_))+I[6]+2821735955&4294967295,C=A+(w<<17&4294967295|w>>>15),w=_+(v^C&(A^v))+I[7]+4249261313&4294967295,_=C+(w<<22&4294967295|w>>>10),w=v+(A^_&(C^A))+I[8]+1770035416&4294967295,v=_+(w<<7&4294967295|w>>>25),w=A+(C^v&(_^C))+I[9]+2336552879&4294967295,A=v+(w<<12&4294967295|w>>>20),w=C+(_^A&(v^_))+I[10]+4294925233&4294967295,C=A+(w<<17&4294967295|w>>>15),w=_+(v^C&(A^v))+I[11]+2304563134&4294967295,_=C+(w<<22&4294967295|w>>>10),w=v+(A^_&(C^A))+I[12]+1804603682&4294967295,v=_+(w<<7&4294967295|w>>>25),w=A+(C^v&(_^C))+I[13]+4254626195&4294967295,A=v+(w<<12&4294967295|w>>>20),w=C+(_^A&(v^_))+I[14]+2792965006&4294967295,C=A+(w<<17&4294967295|w>>>15),w=_+(v^C&(A^v))+I[15]+1236535329&4294967295,_=C+(w<<22&4294967295|w>>>10),w=v+(C^A&(_^C))+I[1]+4129170786&4294967295,v=_+(w<<5&4294967295|w>>>27),w=A+(_^C&(v^_))+I[6]+3225465664&4294967295,A=v+(w<<9&4294967295|w>>>23),w=C+(v^_&(A^v))+I[11]+643717713&4294967295,C=A+(w<<14&4294967295|w>>>18),w=_+(A^v&(C^A))+I[0]+3921069994&4294967295,_=C+(w<<20&4294967295|w>>>12),w=v+(C^A&(_^C))+I[5]+3593408605&4294967295,v=_+(w<<5&4294967295|w>>>27),w=A+(_^C&(v^_))+I[10]+38016083&4294967295,A=v+(w<<9&4294967295|w>>>23),w=C+(v^_&(A^v))+I[15]+3634488961&4294967295,C=A+(w<<14&4294967295|w>>>18),w=_+(A^v&(C^A))+I[4]+3889429448&4294967295,_=C+(w<<20&4294967295|w>>>12),w=v+(C^A&(_^C))+I[9]+568446438&4294967295,v=_+(w<<5&4294967295|w>>>27),w=A+(_^C&(v^_))+I[14]+3275163606&4294967295,A=v+(w<<9&4294967295|w>>>23),w=C+(v^_&(A^v))+I[3]+4107603335&4294967295,C=A+(w<<14&4294967295|w>>>18),w=_+(A^v&(C^A))+I[8]+1163531501&4294967295,_=C+(w<<20&4294967295|w>>>12),w=v+(C^A&(_^C))+I[13]+2850285829&4294967295,v=_+(w<<5&4294967295|w>>>27),w=A+(_^C&(v^_))+I[2]+4243563512&4294967295,A=v+(w<<9&4294967295|w>>>23),w=C+(v^_&(A^v))+I[7]+1735328473&4294967295,C=A+(w<<14&4294967295|w>>>18),w=_+(A^v&(C^A))+I[12]+2368359562&4294967295,_=C+(w<<20&4294967295|w>>>12),w=v+(_^C^A)+I[5]+4294588738&4294967295,v=_+(w<<4&4294967295|w>>>28),w=A+(v^_^C)+I[8]+2272392833&4294967295,A=v+(w<<11&4294967295|w>>>21),w=C+(A^v^_)+I[11]+1839030562&4294967295,C=A+(w<<16&4294967295|w>>>16),w=_+(C^A^v)+I[14]+4259657740&4294967295,_=C+(w<<23&4294967295|w>>>9),w=v+(_^C^A)+I[1]+2763975236&4294967295,v=_+(w<<4&4294967295|w>>>28),w=A+(v^_^C)+I[4]+1272893353&4294967295,A=v+(w<<11&4294967295|w>>>21),w=C+(A^v^_)+I[7]+4139469664&4294967295,C=A+(w<<16&4294967295|w>>>16),w=_+(C^A^v)+I[10]+3200236656&4294967295,_=C+(w<<23&4294967295|w>>>9),w=v+(_^C^A)+I[13]+681279174&4294967295,v=_+(w<<4&4294967295|w>>>28),w=A+(v^_^C)+I[0]+3936430074&4294967295,A=v+(w<<11&4294967295|w>>>21),w=C+(A^v^_)+I[3]+3572445317&4294967295,C=A+(w<<16&4294967295|w>>>16),w=_+(C^A^v)+I[6]+76029189&4294967295,_=C+(w<<23&4294967295|w>>>9),w=v+(_^C^A)+I[9]+3654602809&4294967295,v=_+(w<<4&4294967295|w>>>28),w=A+(v^_^C)+I[12]+3873151461&4294967295,A=v+(w<<11&4294967295|w>>>21),w=C+(A^v^_)+I[15]+530742520&4294967295,C=A+(w<<16&4294967295|w>>>16),w=_+(C^A^v)+I[2]+3299628645&4294967295,_=C+(w<<23&4294967295|w>>>9),w=v+(C^(_|~A))+I[0]+4096336452&4294967295,v=_+(w<<6&4294967295|w>>>26),w=A+(_^(v|~C))+I[7]+1126891415&4294967295,A=v+(w<<10&4294967295|w>>>22),w=C+(v^(A|~_))+I[14]+2878612391&4294967295,C=A+(w<<15&4294967295|w>>>17),w=_+(A^(C|~v))+I[5]+4237533241&4294967295,_=C+(w<<21&4294967295|w>>>11),w=v+(C^(_|~A))+I[12]+1700485571&4294967295,v=_+(w<<6&4294967295|w>>>26),w=A+(_^(v|~C))+I[3]+2399980690&4294967295,A=v+(w<<10&4294967295|w>>>22),w=C+(v^(A|~_))+I[10]+4293915773&4294967295,C=A+(w<<15&4294967295|w>>>17),w=_+(A^(C|~v))+I[1]+2240044497&4294967295,_=C+(w<<21&4294967295|w>>>11),w=v+(C^(_|~A))+I[8]+1873313359&4294967295,v=_+(w<<6&4294967295|w>>>26),w=A+(_^(v|~C))+I[15]+4264355552&4294967295,A=v+(w<<10&4294967295|w>>>22),w=C+(v^(A|~_))+I[6]+2734768916&4294967295,C=A+(w<<15&4294967295|w>>>17),w=_+(A^(C|~v))+I[13]+1309151649&4294967295,_=C+(w<<21&4294967295|w>>>11),w=v+(C^(_|~A))+I[4]+4149444226&4294967295,v=_+(w<<6&4294967295|w>>>26),w=A+(_^(v|~C))+I[11]+3174756917&4294967295,A=v+(w<<10&4294967295|w>>>22),w=C+(v^(A|~_))+I[2]+718787259&4294967295,C=A+(w<<15&4294967295|w>>>17),w=_+(A^(C|~v))+I[9]+3951481745&4294967295,E.g[0]=E.g[0]+v&4294967295,E.g[1]=E.g[1]+(C+(w<<21&4294967295|w>>>11))&4294967295,E.g[2]=E.g[2]+C&4294967295,E.g[3]=E.g[3]+A&4294967295}r.prototype.u=function(E,v){v===void 0&&(v=E.length);for(var _=v-this.blockSize,I=this.B,C=this.h,A=0;A<v;){if(C==0)for(;A<=_;)i(this,E,A),A+=this.blockSize;if(typeof E=="string"){for(;A<v;)if(I[C++]=E.charCodeAt(A++),C==this.blockSize){i(this,I),C=0;break}}else for(;A<v;)if(I[C++]=E[A++],C==this.blockSize){i(this,I),C=0;break}}this.h=C,this.o+=v},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var v=1;v<E.length-8;++v)E[v]=0;var _=8*this.o;for(v=E.length-8;v<E.length;++v)E[v]=_&255,_/=256;for(this.u(E),E=Array(16),v=_=0;4>v;++v)for(var I=0;32>I;I+=8)E[_++]=this.g[v]>>>I&255;return E};function o(E,v){var _=a;return Object.prototype.hasOwnProperty.call(_,E)?_[E]:_[E]=v(E)}function s(E,v){this.h=v;for(var _=[],I=!0,C=E.length-1;0<=C;C--){var A=E[C]|0;I&&A==v||(_[C]=A,I=!1)}this.g=_}var a={};function u(E){return-128<=E&&128>E?o(E,function(v){return new s([v|0],0>v?-1:0)}):new s([E|0],0>E?-1:0)}function l(E){if(isNaN(E)||!isFinite(E))return p;if(0>E)return x(l(-E));for(var v=[],_=1,I=0;E>=_;I++)v[I]=E/_|0,_*=4294967296;return new s(v,0)}function h(E,v){if(E.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(E.charAt(0)=="-")return x(h(E.substring(1),v));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=l(Math.pow(v,8)),I=p,C=0;C<E.length;C+=8){var A=Math.min(8,E.length-C),w=parseInt(E.substring(C,C+A),v);8>A?(A=l(Math.pow(v,A)),I=I.j(A).add(l(w))):(I=I.j(_),I=I.add(l(w)))}return I}var p=u(0),m=u(1),y=u(16777216);t=s.prototype,t.m=function(){if(P(this))return-x(this).m();for(var E=0,v=1,_=0;_<this.g.length;_++){var I=this.i(_);E+=(0<=I?I:4294967296+I)*v,v*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(D(this))return"0";if(P(this))return"-"+x(this).toString(E);for(var v=l(Math.pow(E,6)),_=this,I="";;){var C=Y(_,v).g;_=F(_,C.j(v));var A=((0<_.g.length?_.g[0]:_.h)>>>0).toString(E);if(_=C,D(_))return A+I;for(;6>A.length;)A="0"+A;I=A+I}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function D(E){if(E.h!=0)return!1;for(var v=0;v<E.g.length;v++)if(E.g[v]!=0)return!1;return!0}function P(E){return E.h==-1}t.l=function(E){return E=F(this,E),P(E)?-1:D(E)?0:1};function x(E){for(var v=E.g.length,_=[],I=0;I<v;I++)_[I]=~E.g[I];return new s(_,~E.h).add(m)}t.abs=function(){return P(this)?x(this):this},t.add=function(E){for(var v=Math.max(this.g.length,E.g.length),_=[],I=0,C=0;C<=v;C++){var A=I+(this.i(C)&65535)+(E.i(C)&65535),w=(A>>>16)+(this.i(C)>>>16)+(E.i(C)>>>16);I=w>>>16,A&=65535,w&=65535,_[C]=w<<16|A}return new s(_,_[_.length-1]&-2147483648?-1:0)};function F(E,v){return E.add(x(v))}t.j=function(E){if(D(this)||D(E))return p;if(P(this))return P(E)?x(this).j(x(E)):x(x(this).j(E));if(P(E))return x(this.j(x(E)));if(0>this.l(y)&&0>E.l(y))return l(this.m()*E.m());for(var v=this.g.length+E.g.length,_=[],I=0;I<2*v;I++)_[I]=0;for(I=0;I<this.g.length;I++)for(var C=0;C<E.g.length;C++){var A=this.i(I)>>>16,w=this.i(I)&65535,cr=E.i(C)>>>16,ga=E.i(C)&65535;_[2*I+2*C]+=w*ga,K(_,2*I+2*C),_[2*I+2*C+1]+=A*ga,K(_,2*I+2*C+1),_[2*I+2*C+1]+=w*cr,K(_,2*I+2*C+1),_[2*I+2*C+2]+=A*cr,K(_,2*I+2*C+2)}for(I=0;I<v;I++)_[I]=_[2*I+1]<<16|_[2*I];for(I=v;I<2*v;I++)_[I]=0;return new s(_,0)};function K(E,v){for(;(E[v]&65535)!=E[v];)E[v+1]+=E[v]>>>16,E[v]&=65535,v++}function q(E,v){this.g=E,this.h=v}function Y(E,v){if(D(v))throw Error("division by zero");if(D(E))return new q(p,p);if(P(E))return v=Y(x(E),v),new q(x(v.g),x(v.h));if(P(v))return v=Y(E,x(v)),new q(x(v.g),v.h);if(30<E.g.length){if(P(E)||P(v))throw Error("slowDivide_ only works with positive integers.");for(var _=m,I=v;0>=I.l(E);)_=Ne(_),I=Ne(I);var C=ee(_,1),A=ee(I,1);for(I=ee(I,2),_=ee(_,2);!D(I);){var w=A.add(I);0>=w.l(E)&&(C=C.add(_),A=w),I=ee(I,1),_=ee(_,1)}return v=F(E,C.j(v)),new q(C,v)}for(C=p;0<=E.l(v);){for(_=Math.max(1,Math.floor(E.m()/v.m())),I=Math.ceil(Math.log(_)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),A=l(_),w=A.j(v);P(w)||0<w.l(E);)_-=I,A=l(_),w=A.j(v);D(A)&&(A=m),C=C.add(A),E=F(E,w)}return new q(C,E)}t.A=function(E){return Y(this,E).h},t.and=function(E){for(var v=Math.max(this.g.length,E.g.length),_=[],I=0;I<v;I++)_[I]=this.i(I)&E.i(I);return new s(_,this.h&E.h)},t.or=function(E){for(var v=Math.max(this.g.length,E.g.length),_=[],I=0;I<v;I++)_[I]=this.i(I)|E.i(I);return new s(_,this.h|E.h)},t.xor=function(E){for(var v=Math.max(this.g.length,E.g.length),_=[],I=0;I<v;I++)_[I]=this.i(I)^E.i(I);return new s(_,this.h^E.h)};function Ne(E){for(var v=E.g.length+1,_=[],I=0;I<v;I++)_[I]=E.i(I)<<1|E.i(I-1)>>>31;return new s(_,E.h)}function ee(E,v){var _=v>>5;v%=32;for(var I=E.g.length-_,C=[],A=0;A<I;A++)C[A]=0<v?E.i(A+_)>>>v|E.i(A+_+1)<<32-v:E.i(A+_);return new s(C,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Fv=dA.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,bi=dA.Integer=s}).apply(typeof lA<"u"?lA:typeof self<"u"?self:typeof window<"u"?window:{});var Rh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},kr={};var Vv,j3,zs,Lv,Gc,Ph,jv,Uv,Bv;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Rh=="object"&&Rh];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var b=c[g];if(!(b in f))break e;f=f[b]}c=c[c.length-1],g=f[c],d=d(g),d!=g&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,g=!1,b={next:function(){if(!g&&f<c.length){var R=f++;return{value:d(R,c[R]),done:!1}}return g=!0,{done:!0,value:void 0}}};return b[Symbol.iterator]=function(){return b},b}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,g),c.apply(d,b)}}return function(){return c.apply(d,arguments)}}function m(c,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function y(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function D(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(g,b,R){for(var L=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)L[Oe-2]=arguments[Oe];return d.prototype[b].apply(g,L)}}function P(c){let d=c.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=c[g];return f}return[]}function x(c,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let b=c.length||0,R=g.length||0;c.length=b+R;for(let L=0;L<R;L++)c[b+L]=g[L]}else c.push(g)}}class F{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function K(c){return/^[\s\xa0]*$/.test(c)}function q(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function Y(c){return Y[" "](c),c}Y[" "]=function(){};var Ne=q().indexOf("Gecko")!=-1&&!(q().toLowerCase().indexOf("webkit")!=-1&&q().indexOf("Edge")==-1)&&!(q().indexOf("Trident")!=-1||q().indexOf("MSIE")!=-1)&&q().indexOf("Edge")==-1;function ee(c,d,f){for(let g in c)d.call(f,c[g],g,c)}function E(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function v(c){let d={};for(let f in c)d[f]=c[f];return d}let _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(c,d){let f,g;for(let b=1;b<arguments.length;b++){g=arguments[b];for(f in g)c[f]=g[f];for(let R=0;R<_.length;R++)f=_[R],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function C(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function A(c){a.setTimeout(()=>{throw c},0)}function w(){var c=bf;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class cr{constructor(){this.h=this.g=null}add(d,f){let g=ga.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var ga=new F(()=>new vx,c=>c.reset());class vx{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let ma,ya=!1,bf=new cr,Y0=()=>{let c=a.Promise.resolve(void 0);ma=()=>{c.then(_x)}};var _x=()=>{for(var c;c=w();){try{c.h.call(c.g)}catch(f){A(f)}var d=ga;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}ya=!1};function Hr(){this.s=this.s,this.C=this.C}Hr.prototype.s=!1,Hr.prototype.ma=function(){this.s||(this.s=!0,this.N())},Hr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function bt(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}bt.prototype.h=function(){this.defaultPrevented=!0};var wx=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function va(c,d){if(bt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(Ne){e:{try{Y(d.nodeName);var b=!0;break e}catch{}b=!1}b||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ex[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&va.aa.h.call(this)}}D(va,bt);var Ex={2:"touch",3:"pen",4:"mouse"};va.prototype.h=function(){va.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var _a="closure_listenable_"+(1e6*Math.random()|0),Ix=0;function Cx(c,d,f,g,b){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=b,this.key=++Ix,this.da=this.fa=!1}function mu(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function yu(c){this.src=c,this.g={},this.h=0}yu.prototype.add=function(c,d,f,g,b){var R=c.toString();c=this.g[R],c||(c=this.g[R]=[],this.h++);var L=Tf(c,d,g,b);return-1<L?(d=c[L],f||(d.fa=!1)):(d=new Cx(d,this.src,R,!!g,b),d.fa=f,c.push(d)),d};function Df(c,d){var f=d.type;if(f in c.g){var g=c.g[f],b=Array.prototype.indexOf.call(g,d,void 0),R;(R=0<=b)&&Array.prototype.splice.call(g,b,1),R&&(mu(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function Tf(c,d,f,g){for(var b=0;b<c.length;++b){var R=c[b];if(!R.da&&R.listener==d&&R.capture==!!f&&R.ha==g)return b}return-1}var Sf="closure_lm_"+(1e6*Math.random()|0),Af={};function J0(c,d,f,g,b){if(g&&g.once)return X0(c,d,f,g,b);if(Array.isArray(d)){for(var R=0;R<d.length;R++)J0(c,d[R],f,g,b);return null}return f=Pf(f),c&&c[_a]?c.K(d,f,l(g)?!!g.capture:!!g,b):Z0(c,d,f,!1,g,b)}function Z0(c,d,f,g,b,R){if(!d)throw Error("Invalid event type");var L=l(b)?!!b.capture:!!b,Oe=xf(c);if(Oe||(c[Sf]=Oe=new yu(c)),f=Oe.add(d,f,g,L,R),f.proxy)return f;if(g=bx(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)wx||(b=L),b===void 0&&(b=!1),c.addEventListener(d.toString(),g,b);else if(c.attachEvent)c.attachEvent(tw(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function bx(){function c(f){return d.call(c.src,c.listener,f)}let d=Dx;return c}function X0(c,d,f,g,b){if(Array.isArray(d)){for(var R=0;R<d.length;R++)X0(c,d[R],f,g,b);return null}return f=Pf(f),c&&c[_a]?c.L(d,f,l(g)?!!g.capture:!!g,b):Z0(c,d,f,!0,g,b)}function ew(c,d,f,g,b){if(Array.isArray(d))for(var R=0;R<d.length;R++)ew(c,d[R],f,g,b);else g=l(g)?!!g.capture:!!g,f=Pf(f),c&&c[_a]?(c=c.i,d=String(d).toString(),d in c.g&&(R=c.g[d],f=Tf(R,f,g,b),-1<f&&(mu(R[f]),Array.prototype.splice.call(R,f,1),R.length==0&&(delete c.g[d],c.h--)))):c&&(c=xf(c))&&(d=c.g[d.toString()],c=-1,d&&(c=Tf(d,f,g,b)),(f=-1<c?d[c]:null)&&Mf(f))}function Mf(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[_a])Df(d.i,c);else{var f=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(f,g,c.capture):d.detachEvent?d.detachEvent(tw(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=xf(d))?(Df(f,c),f.h==0&&(f.src=null,d[Sf]=null)):mu(c)}}}function tw(c){return c in Af?Af[c]:Af[c]="on"+c}function Dx(c,d){if(c.da)c=!0;else{d=new va(d,this);var f=c.listener,g=c.ha||c.src;c.fa&&Mf(c),c=f.call(g,d)}return c}function xf(c){return c=c[Sf],c instanceof yu?c:null}var Rf="__closure_events_fn_"+(1e9*Math.random()>>>0);function Pf(c){return typeof c=="function"?c:(c[Rf]||(c[Rf]=function(d){return c.handleEvent(d)}),c[Rf])}function Dt(){Hr.call(this),this.i=new yu(this),this.M=this,this.F=null}D(Dt,Hr),Dt.prototype[_a]=!0,Dt.prototype.removeEventListener=function(c,d,f,g){ew(this,c,d,f,g)};function kt(c,d){var f,g=c.F;if(g)for(f=[];g;g=g.F)f.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new bt(d,c);else if(d instanceof bt)d.target=d.target||c;else{var b=d;d=new bt(g,c),I(d,b)}if(b=!0,f)for(var R=f.length-1;0<=R;R--){var L=d.g=f[R];b=vu(L,g,!0,d)&&b}if(L=d.g=c,b=vu(L,g,!0,d)&&b,b=vu(L,g,!1,d)&&b,f)for(R=0;R<f.length;R++)L=d.g=f[R],b=vu(L,g,!1,d)&&b}Dt.prototype.N=function(){if(Dt.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],g=0;g<f.length;g++)mu(f[g]);delete c.g[d],c.h--}}this.F=null},Dt.prototype.K=function(c,d,f,g){return this.i.add(String(c),d,!1,f,g)},Dt.prototype.L=function(c,d,f,g){return this.i.add(String(c),d,!0,f,g)};function vu(c,d,f,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var b=!0,R=0;R<d.length;++R){var L=d[R];if(L&&!L.da&&L.capture==f){var Oe=L.listener,vt=L.ha||L.src;L.fa&&Df(c.i,L),b=Oe.call(vt,g)!==!1&&b}}return b&&!g.defaultPrevented}function nw(c,d,f){if(typeof c=="function")f&&(c=m(c,f));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function rw(c){c.g=nw(()=>{c.g=null,c.i&&(c.i=!1,rw(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class Tx extends Hr{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:rw(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wa(c){Hr.call(this),this.h=c,this.g={}}D(wa,Hr);var iw=[];function ow(c){ee(c.g,function(d,f){this.g.hasOwnProperty(f)&&Mf(d)},c),c.g={}}wa.prototype.N=function(){wa.aa.N.call(this),ow(this)},wa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Nf=a.JSON.stringify,Sx=a.JSON.parse,Ax=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Of(){}Of.prototype.h=null;function sw(c){return c.h||(c.h=c.i())}function aw(){}var Ea={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function kf(){bt.call(this,"d")}D(kf,bt);function Ff(){bt.call(this,"c")}D(Ff,bt);var xi={},cw=null;function _u(){return cw=cw||new Dt}xi.La="serverreachability";function uw(c){bt.call(this,xi.La,c)}D(uw,bt);function Ia(c){let d=_u();kt(d,new uw(d))}xi.STAT_EVENT="statevent";function lw(c,d){bt.call(this,xi.STAT_EVENT,c),this.stat=d}D(lw,bt);function Ft(c){let d=_u();kt(d,new lw(d,c))}xi.Ma="timingevent";function dw(c,d){bt.call(this,xi.Ma,c),this.size=d}D(dw,bt);function Ca(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function ba(){this.g=!0}ba.prototype.xa=function(){this.g=!1};function Mx(c,d,f,g,b,R){c.info(function(){if(c.g)if(R)for(var L="",Oe=R.split("&"),vt=0;vt<Oe.length;vt++){var be=Oe[vt].split("=");if(1<be.length){var Tt=be[0];be=be[1];var St=Tt.split("_");L=2<=St.length&&St[1]=="type"?L+(Tt+"="+be+"&"):L+(Tt+"=redacted&")}}else L=null;else L=R;return"XMLHTTP REQ ("+g+") [attempt "+b+"]: "+d+`
`+f+`
`+L})}function xx(c,d,f,g,b,R,L){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+b+"]: "+d+`
`+f+`
`+R+" "+L})}function Mo(c,d,f,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+Px(c,f)+(g?" "+g:"")})}function Rx(c,d){c.info(function(){return"TIMEOUT: "+d})}ba.prototype.info=function(){};function Px(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var g=f[c];if(!(2>g.length)){var b=g[1];if(Array.isArray(b)&&!(1>b.length)){var R=b[0];if(R!="noop"&&R!="stop"&&R!="close")for(var L=1;L<b.length;L++)b[L]=""}}}}return Nf(f)}catch{return d}}var wu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},hw={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Vf;function Eu(){}D(Eu,Of),Eu.prototype.g=function(){return new XMLHttpRequest},Eu.prototype.i=function(){return{}},Vf=new Eu;function zr(c,d,f,g){this.j=c,this.i=d,this.l=f,this.R=g||1,this.U=new wa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new fw}function fw(){this.i=null,this.g="",this.h=!1}var pw={},Lf={};function jf(c,d,f){c.L=1,c.v=Du(ur(d)),c.m=f,c.P=!0,gw(c,null)}function gw(c,d){c.F=Date.now(),Iu(c),c.A=ur(c.v);var f=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),Mw(f.i,"t",g),c.C=0,f=c.j.J,c.h=new fw,c.g=Ww(c.j,f?d:null,!c.m),0<c.O&&(c.M=new Tx(m(c.Y,c,c.g),c.O)),d=c.U,f=c.g,g=c.ca;var b="readystatechange";Array.isArray(b)||(b&&(iw[0]=b.toString()),b=iw);for(var R=0;R<b.length;R++){var L=J0(f,b[R],g||d.handleEvent,!1,d.h||d);if(!L)break;d.g[L.key]=L}d=c.H?v(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),Ia(),Mx(c.i,c.u,c.A,c.l,c.R,c.m)}zr.prototype.ca=function(c){c=c.target;let d=this.M;d&&lr(c)==3?d.j():this.Y(c)},zr.prototype.Y=function(c){try{if(c==this.g)e:{let St=lr(this.g);var d=this.g.Ba();let Po=this.g.Z();if(!(3>St)&&(St!=3||this.g&&(this.h.h||this.g.oa()||Fw(this.g)))){this.J||St!=4||d==7||(d==8||0>=Po?Ia(3):Ia(2)),Uf(this);var f=this.g.Z();this.X=f;t:if(mw(this)){var g=Fw(this.g);c="";var b=g.length,R=lr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ri(this),Da(this);var L="";break t}this.h.i=new a.TextDecoder}for(d=0;d<b;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(R&&d==b-1)});g.length=0,this.h.g+=c,this.C=0,L=this.h.g}else L=this.g.oa();if(this.o=f==200,xx(this.i,this.u,this.A,this.l,this.R,St,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Oe,vt=this.g;if((Oe=vt.g?vt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!K(Oe)){var be=Oe;break t}}be=null}if(f=be)Mo(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Bf(this,f);else{this.o=!1,this.s=3,Ft(12),Ri(this),Da(this);break e}}if(this.P){f=!0;let wn;for(;!this.J&&this.C<L.length;)if(wn=Nx(this,L),wn==Lf){St==4&&(this.s=4,Ft(14),f=!1),Mo(this.i,this.l,null,"[Incomplete Response]");break}else if(wn==pw){this.s=4,Ft(15),Mo(this.i,this.l,L,"[Invalid Chunk]"),f=!1;break}else Mo(this.i,this.l,wn,null),Bf(this,wn);if(mw(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||L.length!=0||this.h.h||(this.s=1,Ft(16),f=!1),this.o=this.o&&f,!f)Mo(this.i,this.l,L,"[Invalid Chunked Response]"),Ri(this),Da(this);else if(0<L.length&&!this.W){this.W=!0;var Tt=this.j;Tt.g==this&&Tt.ba&&!Tt.M&&(Tt.j.info("Great, no buffering proxy detected. Bytes received: "+L.length),Wf(Tt),Tt.M=!0,Ft(11))}}else Mo(this.i,this.l,L,null),Bf(this,L);St==4&&Ri(this),this.o&&!this.J&&(St==4?Hw(this.j,this):(this.o=!1,Iu(this)))}else Yx(this.g),f==400&&0<L.indexOf("Unknown SID")?(this.s=3,Ft(12)):(this.s=0,Ft(13)),Ri(this),Da(this)}}}catch{}finally{}};function mw(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Nx(c,d){var f=c.C,g=d.indexOf(`
`,f);return g==-1?Lf:(f=Number(d.substring(f,g)),isNaN(f)?pw:(g+=1,g+f>d.length?Lf:(d=d.slice(g,g+f),c.C=g+f,d)))}zr.prototype.cancel=function(){this.J=!0,Ri(this)};function Iu(c){c.S=Date.now()+c.I,yw(c,c.I)}function yw(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Ca(m(c.ba,c),d)}function Uf(c){c.B&&(a.clearTimeout(c.B),c.B=null)}zr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(Rx(this.i,this.A),this.L!=2&&(Ia(),Ft(17)),Ri(this),this.s=2,Da(this)):yw(this,this.S-c)};function Da(c){c.j.G==0||c.J||Hw(c.j,c)}function Ri(c){Uf(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,ow(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function Bf(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||$f(f.h,c))){if(!c.K&&$f(f.h,c)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var b=g;if(b[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)xu(f),Au(f);else break e;Gf(f),Ft(18)}}else f.za=b[1],0<f.za-f.T&&37500>b[2]&&f.F&&f.v==0&&!f.C&&(f.C=Ca(m(f.Za,f),6e3));if(1>=ww(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Ni(f,11)}else if((c.K||f.g==c)&&xu(f),!K(d))for(b=f.Da.g.parse(d),d=0;d<b.length;d++){let be=b[d];if(f.T=be[0],be=be[1],f.G==2)if(be[0]=="c"){f.K=be[1],f.ia=be[2];let Tt=be[3];Tt!=null&&(f.la=Tt,f.j.info("VER="+f.la));let St=be[4];St!=null&&(f.Aa=St,f.j.info("SVER="+f.Aa));let Po=be[5];Po!=null&&typeof Po=="number"&&0<Po&&(g=1.5*Po,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let wn=c.g;if(wn){let Pu=wn.g?wn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Pu){var R=g.h;R.g||Pu.indexOf("spdy")==-1&&Pu.indexOf("quic")==-1&&Pu.indexOf("h2")==-1||(R.j=R.l,R.g=new Set,R.h&&(Hf(R,R.h),R.h=null))}if(g.D){let Kf=wn.g?wn.g.getResponseHeader("X-HTTP-Session-Id"):null;Kf&&(g.ya=Kf,Ue(g.I,g.D,Kf))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var L=c;if(g.qa=Gw(g,g.J?g.ia:null,g.W),L.K){Ew(g.h,L);var Oe=L,vt=g.L;vt&&(Oe.I=vt),Oe.B&&(Uf(Oe),Iu(Oe)),g.g=L}else Bw(g);0<f.i.length&&Mu(f)}else be[0]!="stop"&&be[0]!="close"||Ni(f,7);else f.G==3&&(be[0]=="stop"||be[0]=="close"?be[0]=="stop"?Ni(f,7):qf(f):be[0]!="noop"&&f.l&&f.l.ta(be),f.v=0)}}Ia(4)}catch{}}var Ox=class{constructor(c,d){this.g=c,this.map=d}};function vw(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function _w(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ww(c){return c.h?1:c.g?c.g.size:0}function $f(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function Hf(c,d){c.g?c.g.add(d):c.h=d}function Ew(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}vw.prototype.cancel=function(){if(this.i=Iw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function Iw(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return P(c.i)}function kx(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,g=0;g<f;g++)d.push(c[g]);return d}d=[],f=0;for(g in c)d[f++]=c[g];return d}function Fx(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let g in c)d[f++]=g;return d}}}function Cw(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=Fx(c),g=kx(c),b=g.length,R=0;R<b;R++)d.call(void 0,g[R],f&&f[R],c)}var bw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Vx(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var g=c[f].indexOf("="),b=null;if(0<=g){var R=c[f].substring(0,g);b=c[f].substring(g+1)}else R=c[f];d(R,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function Pi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Pi){this.h=c.h,Cu(this,c.j),this.o=c.o,this.g=c.g,bu(this,c.s),this.l=c.l;var d=c.i,f=new Aa;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),Dw(this,f),this.m=c.m}else c&&(d=String(c).match(bw))?(this.h=!1,Cu(this,d[1]||"",!0),this.o=Ta(d[2]||""),this.g=Ta(d[3]||"",!0),bu(this,d[4]),this.l=Ta(d[5]||"",!0),Dw(this,d[6]||"",!0),this.m=Ta(d[7]||"")):(this.h=!1,this.i=new Aa(null,this.h))}Pi.prototype.toString=function(){var c=[],d=this.j;d&&c.push(Sa(d,Tw,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(Sa(d,Tw,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(Sa(f,f.charAt(0)=="/"?Ux:jx,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",Sa(f,$x)),c.join("")};function ur(c){return new Pi(c)}function Cu(c,d,f){c.j=f?Ta(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function bu(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function Dw(c,d,f){d instanceof Aa?(c.i=d,Hx(c.i,c.h)):(f||(d=Sa(d,Bx)),c.i=new Aa(d,c.h))}function Ue(c,d,f){c.i.set(d,f)}function Du(c){return Ue(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ta(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Sa(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,Lx),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Lx(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Tw=/[#\/\?@]/g,jx=/[#\?:]/g,Ux=/[#\?]/g,Bx=/[#\?@]/g,$x=/#/g;function Aa(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function qr(c){c.g||(c.g=new Map,c.h=0,c.i&&Vx(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=Aa.prototype,t.add=function(c,d){qr(this),this.i=null,c=xo(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function Sw(c,d){qr(c),d=xo(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function Aw(c,d){return qr(c),d=xo(c,d),c.g.has(d)}t.forEach=function(c,d){qr(this),this.g.forEach(function(f,g){f.forEach(function(b){c.call(d,b,g,this)},this)},this)},t.na=function(){qr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let b=c[g];for(let R=0;R<b.length;R++)f.push(d[g])}return f},t.V=function(c){qr(this);let d=[];if(typeof c=="string")Aw(this,c)&&(d=d.concat(this.g.get(xo(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},t.set=function(c,d){return qr(this),this.i=null,c=xo(this,c),Aw(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function Mw(c,d,f){Sw(c,d),0<f.length&&(c.i=null,c.g.set(xo(c,d),P(f)),c.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let R=encodeURIComponent(String(g)),L=this.V(g);for(g=0;g<L.length;g++){var b=R;L[g]!==""&&(b+="="+encodeURIComponent(String(L[g]))),c.push(b)}}return this.i=c.join("&")};function xo(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function Hx(c,d){d&&!c.j&&(qr(c),c.i=null,c.g.forEach(function(f,g){var b=g.toLowerCase();g!=b&&(Sw(this,g),Mw(this,b,f))},c)),c.j=d}function zx(c,d){let f=new ba;if(a.Image){let g=new Image;g.onload=y(Gr,f,"TestLoadImage: loaded",!0,d,g),g.onerror=y(Gr,f,"TestLoadImage: error",!1,d,g),g.onabort=y(Gr,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=y(Gr,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function qx(c,d){let f=new ba,g=new AbortController,b=setTimeout(()=>{g.abort(),Gr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(R=>{clearTimeout(b),R.ok?Gr(f,"TestPingServer: ok",!0,d):Gr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(b),Gr(f,"TestPingServer: error",!1,d)})}function Gr(c,d,f,g,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),g(f)}catch{}}function Gx(){this.g=new Ax}function Wx(c,d,f){let g=f||"";try{Cw(c,function(b,R){let L=b;l(b)&&(L=Nf(b)),d.push(g+R+"="+encodeURIComponent(L))})}catch(b){throw d.push(g+"type="+encodeURIComponent("_badmap")),b}}function Ma(c){this.l=c.Ub||null,this.j=c.eb||!1}D(Ma,Of),Ma.prototype.g=function(){return new Tu(this.l,this.j)},Ma.prototype.i=function(c){return function(){return c}}({});function Tu(c,d){Dt.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(Tu,Dt),t=Tu.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,Ra(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,xa(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ra(this)),this.g&&(this.readyState=3,Ra(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;xw(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function xw(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?xa(this):Ra(this),this.readyState==3&&xw(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,xa(this))},t.Qa=function(c){this.g&&(this.response=c,xa(this))},t.ga=function(){this.g&&xa(this)};function xa(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Ra(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function Ra(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Tu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Rw(c){let d="";return ee(c,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function zf(c,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=Rw(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Ue(c,d,f))}function Ge(c){Dt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D(Ge,Dt);var Kx=/^https?$/i,Qx=["POST","PUT"];t=Ge.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Vf.g(),this.v=this.o?sw(this.o):sw(Vf),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(R){Pw(this,R);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var b in g)f.set(b,g[b]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let R of g.keys())f.set(R,g.get(R));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(R=>R.toLowerCase()=="content-type"),b=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Qx,d,void 0))||g||b||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[R,L]of f)this.g.setRequestHeader(R,L);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{kw(this),this.u=!0,this.g.send(c),this.u=!1}catch(R){Pw(this,R)}};function Pw(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,Nw(c),Su(c)}function Nw(c){c.A||(c.A=!0,kt(c,"complete"),kt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,kt(this,"complete"),kt(this,"abort"),Su(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Su(this,!0)),Ge.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ow(this):this.bb())},t.bb=function(){Ow(this)};function Ow(c){if(c.h&&typeof s<"u"&&(!c.v[1]||lr(c)!=4||c.Z()!=2)){if(c.u&&lr(c)==4)nw(c.Ea,0,c);else if(kt(c,"readystatechange"),lr(c)==4){c.h=!1;try{let L=c.Z();e:switch(L){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=L===0){var b=String(c.D).match(bw)[1]||null;!b&&a.self&&a.self.location&&(b=a.self.location.protocol.slice(0,-1)),g=!Kx.test(b?b.toLowerCase():"")}f=g}if(f)kt(c,"complete"),kt(c,"success");else{c.m=6;try{var R=2<lr(c)?c.g.statusText:""}catch{R=""}c.l=R+" ["+c.Z()+"]",Nw(c)}}finally{Su(c)}}}}function Su(c,d){if(c.g){kw(c);let f=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||kt(c,"ready");try{f.onreadystatechange=g}catch{}}}function kw(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function lr(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<lr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),Sx(d)}};function Fw(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Yx(c){let d={};c=(c.g&&2<=lr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(K(c[g]))continue;var f=C(c[g]);let b=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let R=d[b]||[];d[b]=R,R.push(f)}E(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Pa(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function Vw(c){this.Aa=0,this.i=[],this.j=new ba,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Pa("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Pa("baseRetryDelayMs",5e3,c),this.cb=Pa("retryDelaySeedMs",1e4,c),this.Wa=Pa("forwardChannelMaxRetries",2,c),this.wa=Pa("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new vw(c&&c.concurrentRequestLimit),this.Da=new Gx,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Vw.prototype,t.la=8,t.G=1,t.connect=function(c,d,f,g){Ft(0),this.W=c,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=Gw(this,null,this.W),Mu(this)};function qf(c){if(Lw(c),c.G==3){var d=c.U++,f=ur(c.I);if(Ue(f,"SID",c.K),Ue(f,"RID",d),Ue(f,"TYPE","terminate"),Na(c,f),d=new zr(c,c.j,d),d.L=2,d.v=Du(ur(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=Ww(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Iu(d)}qw(c)}function Au(c){c.g&&(Wf(c),c.g.cancel(),c.g=null)}function Lw(c){Au(c),c.u&&(a.clearTimeout(c.u),c.u=null),xu(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Mu(c){if(!_w(c.h)&&!c.s){c.s=!0;var d=c.Ga;ma||Y0(),ya||(ma(),ya=!0),bf.add(d,c),c.B=0}}function Jx(c,d){return ww(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Ca(m(c.Ga,c,d),zw(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let b=new zr(this,this.j,c),R=this.o;if(this.S&&(R?(R=v(R),I(R,this.S)):R=this.S),this.m!==null||this.O||(b.H=R,R=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=Uw(this,b,d),f=ur(this.I),Ue(f,"RID",c),Ue(f,"CVER",22),this.D&&Ue(f,"X-HTTP-Session-Id",this.D),Na(this,f),R&&(this.O?d="headers="+encodeURIComponent(String(Rw(R)))+"&"+d:this.m&&zf(f,this.m,R)),Hf(this.h,b),this.Ua&&Ue(f,"TYPE","init"),this.P?(Ue(f,"$req",d),Ue(f,"SID","null"),b.T=!0,jf(b,f,null)):jf(b,f,d),this.G=2}}else this.G==3&&(c?jw(this,c):this.i.length==0||_w(this.h)||jw(this))};function jw(c,d){var f;d?f=d.l:f=c.U++;let g=ur(c.I);Ue(g,"SID",c.K),Ue(g,"RID",f),Ue(g,"AID",c.T),Na(c,g),c.m&&c.o&&zf(g,c.m,c.o),f=new zr(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=Uw(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Hf(c.h,f),jf(f,g,d)}function Na(c,d){c.H&&ee(c.H,function(f,g){Ue(d,g,f)}),c.l&&Cw({},function(f,g){Ue(d,g,f)})}function Uw(c,d,f){f=Math.min(c.i.length,f);var g=c.l?m(c.l.Na,c.l,c):null;e:{var b=c.i;let R=-1;for(;;){let L=["count="+f];R==-1?0<f?(R=b[0].g,L.push("ofs="+R)):R=0:L.push("ofs="+R);let Oe=!0;for(let vt=0;vt<f;vt++){let be=b[vt].g,Tt=b[vt].map;if(be-=R,0>be)R=Math.max(0,b[vt].g-100),Oe=!1;else try{Wx(Tt,L,"req"+be+"_")}catch{g&&g(Tt)}}if(Oe){g=L.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,g}function Bw(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;ma||Y0(),ya||(ma(),ya=!0),bf.add(d,c),c.v=0}}function Gf(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Ca(m(c.Fa,c),zw(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,$w(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Ca(m(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ft(10),Au(this),$w(this))};function Wf(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function $w(c){c.g=new zr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=ur(c.qa);Ue(d,"RID","rpc"),Ue(d,"SID",c.K),Ue(d,"AID",c.T),Ue(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ue(d,"TO",c.ja),Ue(d,"TYPE","xmlhttp"),Na(c,d),c.m&&c.o&&zf(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=Du(ur(d)),f.m=null,f.P=!0,gw(f,c)}t.Za=function(){this.C!=null&&(this.C=null,Au(this),Gf(this),Ft(19))};function xu(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function Hw(c,d){var f=null;if(c.g==d){xu(c),Wf(c),c.g=null;var g=2}else if($f(c.h,d))f=d.D,Ew(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var b=c.B;g=_u(),kt(g,new dw(g,f)),Mu(c)}else Bw(c);else if(b=d.s,b==3||b==0&&0<d.X||!(g==1&&Jx(c,d)||g==2&&Gf(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),b){case 1:Ni(c,5);break;case 4:Ni(c,10);break;case 3:Ni(c,6);break;default:Ni(c,2)}}}function zw(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function Ni(c,d){if(c.j.info("Error code "+d),d==2){var f=m(c.fb,c),g=c.Xa;let b=!g;g=new Pi(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Cu(g,"https"),Du(g),b?zx(g.toString(),f):qx(g.toString(),f)}else Ft(2);c.G=0,c.l&&c.l.sa(d),qw(c),Lw(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Ft(2)):(this.j.info("Failed to ping google.com"),Ft(1))};function qw(c){if(c.G=0,c.ka=[],c.l){let d=Iw(c.h);(d.length!=0||c.i.length!=0)&&(x(c.ka,d),x(c.ka,c.i),c.h.i.length=0,P(c.i),c.i.length=0),c.l.ra()}}function Gw(c,d,f){var g=f instanceof Pi?ur(f):new Pi(f);if(g.g!="")d&&(g.g=d+"."+g.g),bu(g,g.s);else{var b=a.location;g=b.protocol,d=d?d+"."+b.hostname:b.hostname,b=+b.port;var R=new Pi(null);g&&Cu(R,g),d&&(R.g=d),b&&bu(R,b),f&&(R.l=f),g=R}return f=c.D,d=c.ya,f&&d&&Ue(g,f,d),Ue(g,"VER",c.la),Na(c,g),g}function Ww(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Ge(new Ma({eb:f})):new Ge(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Kw(){}t=Kw.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ru(){}Ru.prototype.g=function(c,d){return new Jt(c,d)};function Jt(c,d){Dt.call(this),this.g=new Vw(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!K(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!K(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new Ro(this)}D(Jt,Dt),Jt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Jt.prototype.close=function(){qf(this.g)},Jt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=Nf(c),c=f);d.i.push(new Ox(d.Ya++,c)),d.G==3&&Mu(d)},Jt.prototype.N=function(){this.g.l=null,delete this.j,qf(this.g),delete this.g,Jt.aa.N.call(this)};function Qw(c){kf.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}D(Qw,kf);function Yw(){Ff.call(this),this.status=1}D(Yw,Ff);function Ro(c){this.g=c}D(Ro,Kw),Ro.prototype.ua=function(){kt(this.g,"a")},Ro.prototype.ta=function(c){kt(this.g,new Qw(c))},Ro.prototype.sa=function(c){kt(this.g,new Yw)},Ro.prototype.ra=function(){kt(this.g,"b")},Ru.prototype.createWebChannel=Ru.prototype.g,Jt.prototype.send=Jt.prototype.o,Jt.prototype.open=Jt.prototype.m,Jt.prototype.close=Jt.prototype.close,Bv=kr.createWebChannelTransport=function(){return new Ru},Uv=kr.getStatEventTarget=function(){return _u()},jv=kr.Event=xi,Ph=kr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},wu.NO_ERROR=0,wu.TIMEOUT=8,wu.HTTP_ERROR=6,Gc=kr.ErrorCode=wu,hw.COMPLETE="complete",Lv=kr.EventType=hw,aw.EventType=Ea,Ea.OPEN="a",Ea.CLOSE="b",Ea.ERROR="c",Ea.MESSAGE="d",Dt.prototype.listen=Dt.prototype.K,zs=kr.WebChannel=aw,j3=kr.FetchXmlHttpFactory=Ma,Ge.prototype.listenOnce=Ge.prototype.L,Ge.prototype.getLastError=Ge.prototype.Ka,Ge.prototype.getLastErrorCode=Ge.prototype.Ba,Ge.prototype.getStatus=Ge.prototype.Z,Ge.prototype.getResponseJson=Ge.prototype.Oa,Ge.prototype.getResponseText=Ge.prototype.oa,Ge.prototype.send=Ge.prototype.ea,Ge.prototype.setWithCredentials=Ge.prototype.Ha,Vv=kr.XhrIo=Ge}).apply(typeof Rh<"u"?Rh:typeof self<"u"?self:typeof window<"u"?window:{});var hA="@firebase/firestore";var yt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};yt.UNAUTHENTICATED=new yt(null),yt.GOOGLE_CREDENTIALS=new yt("google-credentials-uid"),yt.FIRST_PARTY=new yt("first-party-uid"),yt.MOCK_USER=new yt("mock-user");var da="10.14.0";var wo=new Jn("@firebase/firestore");function Wc(){return wo.logLevel}function z(t,...e){if(wo.logLevel<=ve.DEBUG){let n=e.map(C0);wo.debug(`Firestore (${da}): ${t}`,...n)}}function jr(t,...e){if(wo.logLevel<=ve.ERROR){let n=e.map(C0);wo.error(`Firestore (${da}): ${t}`,...n)}}function Js(t,...e){if(wo.logLevel<=ve.WARN){let n=e.map(C0);wo.warn(`Firestore (${da}): ${t}`,...n)}}function C0(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function ne(t="Unexpected state"){let e=`FIRESTORE (${da}) INTERNAL ASSERTION FAILED: `+t;throw jr(e),new Error(e)}function Pe(t,e){t||ne()}function ae(t,e){return t}var O={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Q=class extends yn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Fr=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Vh=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Gv=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(yt.UNAUTHENTICATED))}shutdown(){}},Wv=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Kv=class{constructor(e){this.t=e,this.currentUser=yt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Pe(this.o===void 0);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new Fr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Fr,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>S(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(z("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Fr)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Pe(typeof r.accessToken=="string"),new Vh(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Pe(e===null||typeof e=="string"),new yt(e)}},Qv=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=yt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Yv=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Qv(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(yt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Jv=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Zv=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Pe(this.o===void 0);let r=o=>{o.error!=null&&z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,z("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Pe(typeof n.token=="string"),this.R=n.token,new Jv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function U3(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Lh=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=U3(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}};function Te(t,e){return t<e?-1:t>e?1:0}function Zs(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var Ct=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Q(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Q(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Q(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Q(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Te(this.nanoseconds,e.nanoseconds):Te(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ue=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new Ct(0,0))}static max(){return new t(new Ct(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var jh=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&ne(),r===void 0?r=e.length-n:r>e.length-n&&ne(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Ze=class t extends jh{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new Q(O.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},B3=/^[_a-zA-Z][_a-zA-Z0-9]*$/,cn=class t extends jh{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return B3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new Q(O.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new Q(O.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Q(O.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Q(O.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var X=class t{constructor(e){this.path=e}static fromPath(e){return new t(Ze.fromString(e))}static fromName(e){return new t(Ze.fromString(e).popFirst(5))}static empty(){return new t(Ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ze.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Ze(e.slice()))}};var Xv=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};Xv.UNKNOWN_ID=-1;function $3(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ue.fromTimestamp(r===1e9?new Ct(n+1,0):new Ct(n,r));return new Eo(i,X.empty(),e)}function H3(t){return new Eo(t.readTime,t.key,-1)}var Eo=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(ue.min(),X.empty(),-1)}static max(){return new t(ue.max(),X.empty(),-1)}};function z3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=X.comparator(t.documentKey,e.documentKey),n!==0?n:Te(t.largestBatchId,e.largestBatchId))}var q3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",e_=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function du(t){return S(this,null,function*(){if(t.code!==O.FAILED_PRECONDITION||t.message!==q3)throw t;z("LocalStore","Unexpectedly lost primary lease")})}var V=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ne(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;n(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function G3(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function hu(t){return t.name==="IndexedDbTransactionError"}var qA=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function gf(t){return t==null}function Xc(t){return t===0&&1/t==-1/0}function W3(t){return typeof t=="number"&&Number.isInteger(t)&&!Xc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var K3=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],yQ=[...K3,"documentOverlays"],Q3=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Y3=Q3,J3=[...Y3,"indexConfiguration","indexState","indexEntries"];var vQ=[...J3,"globals"];function fA(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function To(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function GA(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Xe=class t{constructor(e,n){this.comparator=e,this.root=n||nr.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,nr.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ks(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ks(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ks(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ks(this.root,e,this.comparator,!0)}},Ks=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},nr=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ne();let e=this.left.check();if(e!==this.right.check())throw ne();return e+(this.isRed()?0:1)}};nr.EMPTY=null,nr.RED=!0,nr.BLACK=!1;nr.EMPTY=new class{constructor(){this.size=0}get key(){throw ne()}get value(){throw ne()}get color(){throw ne()}get left(){throw ne()}get right(){throw ne()}copy(e,n,r,i,o){return this}insert(e,n,r){return new nr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Nt=class t{constructor(e){this.comparator=e,this.data=new Xe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Uh(this.data.getIterator())}getIteratorFrom(e){return new Uh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Uh=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var _n=class t{constructor(e){this.fields=e,e.sort(cn.comparator)}static empty(){return new t([])}unionWith(e){let n=new Nt(cn.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Zs(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Bh=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Ot=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Bh("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Te(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Ot.EMPTY_BYTE_STRING=new Ot("");var Z3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ur(t){if(Pe(!!t),typeof t=="string"){let e=0,n=Z3.exec(t);if(Pe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ze(t.seconds),nanos:ze(t.nanos)}}function ze(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ti(t){return typeof t=="string"?Ot.fromBase64String(t):Ot.fromUint8Array(t)}function b0(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function D0(t){let e=t.mapValue.fields.__previous_value__;return b0(e)?D0(e):e}function eu(t){let e=Ur(t.mapValue.fields.__local_write_time__.timestampValue);return new Ct(e.seconds,e.nanos)}var t_=class{constructor(e,n,r,i,o,s,a,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}},$h=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Nh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Io(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?b0(t)?4:KA(t)?9007199254740991:WA(t)?10:11:ne()}function or(t,e){if(t===e)return!0;let n=Io(t);if(n!==Io(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return eu(t).isEqual(eu(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Ur(i.timestampValue),a=Ur(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Ti(i.bytesValue).isEqual(Ti(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return ze(i.geoPointValue.latitude)===ze(o.geoPointValue.latitude)&&ze(i.geoPointValue.longitude)===ze(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return ze(i.integerValue)===ze(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=ze(i.doubleValue),a=ze(o.doubleValue);return s===a?Xc(s)===Xc(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Zs(t.arrayValue.values||[],e.arrayValue.values||[],or);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(fA(s)!==fA(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!or(s[u],a[u])))return!1;return!0}(t,e);default:return ne()}}function tu(t,e){return(t.values||[]).find(n=>or(n,e))!==void 0}function Xs(t,e){if(t===e)return 0;let n=Io(t),r=Io(e);if(n!==r)return Te(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Te(t.booleanValue,e.booleanValue);case 2:return function(o,s){let a=ze(o.integerValue||o.doubleValue),u=ze(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return pA(t.timestampValue,e.timestampValue);case 4:return pA(eu(t),eu(e));case 5:return Te(t.stringValue,e.stringValue);case 6:return function(o,s){let a=Ti(o),u=Ti(s);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=Te(a[l],u[l]);if(h!==0)return h}return Te(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let a=Te(ze(o.latitude),ze(s.latitude));return a!==0?a:Te(ze(o.longitude),ze(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return gA(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,l,h;let p=o.fields||{},m=s.fields||{},y=(a=p.value)===null||a===void 0?void 0:a.arrayValue,D=(u=m.value)===null||u===void 0?void 0:u.arrayValue,P=Te(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((h=D?.values)===null||h===void 0?void 0:h.length)||0);return P!==0?P:gA(y,D)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Nh.mapValue&&s===Nh.mapValue)return 0;if(o===Nh.mapValue)return 1;if(s===Nh.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=Te(u[p],h[p]);if(m!==0)return m;let y=Xs(a[u[p]],l[h[p]]);if(y!==0)return y}return Te(u.length,h.length)}(t.mapValue,e.mapValue);default:throw ne()}}function pA(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Te(t,e);let n=Ur(t),r=Ur(e),i=Te(n.seconds,r.seconds);return i!==0?i:Te(n.nanos,r.nanos)}function gA(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=Xs(n[i],r[i]);if(o)return o}return Te(n.length,r.length)}function ea(t){return n_(t)}function n_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Ur(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ti(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return X.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=n_(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${n_(n.fields[s])}`;return i+"}"}(t.mapValue):ne()}function r_(t){return!!t&&"integerValue"in t}function T0(t){return!!t&&"arrayValue"in t}function mA(t){return!!t&&"nullValue"in t}function yA(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function kh(t){return!!t&&"mapValue"in t}function WA(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Qc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return To(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Qc(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Qc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function KA(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var an=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!kh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Qc(n)}setAll(e){let n=cn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Qc(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());kh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return or(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];kh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){To(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(Qc(this.value))}};function QA(t){let e=[];return To(t.fields,(n,r)=>{let i=new cn([n]);if(kh(r)){let o=QA(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new _n(e)}var On=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,ue.min(),ue.min(),ue.min(),an.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,ue.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,ue.min(),ue.min(),an.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,ue.min(),ue.min(),an.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=an.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=an.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var ta=class{constructor(e,n){this.position=e,this.inclusive=n}};function vA(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=X.comparator(X.fromName(s.referenceValue),n.key):r=Xs(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function _A(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!or(t.position[n],e.position[n]))return!1;return!0}var na=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function X3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Hh=class{},ht=class t extends Hh{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new o_(e,n,r):n==="array-contains"?new c_(e,r):n==="in"?new u_(e,r):n==="not-in"?new l_(e,r):n==="array-contains-any"?new d_(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new s_(e,r):new a_(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Xs(n,this.value)):n!==null&&Io(this.value)===Io(n)&&this.matchesComparison(Xs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ne()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},sr=class t extends Hh{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return YA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function YA(t){return t.op==="and"}function JA(t){return eB(t)&&YA(t)}function eB(t){for(let e of t.filters)if(e instanceof sr)return!1;return!0}function i_(t){if(t instanceof ht)return t.field.canonicalString()+t.op.toString()+ea(t.value);if(JA(t))return t.filters.map(e=>i_(e)).join(",");{let e=t.filters.map(n=>i_(n)).join(",");return`${t.op}(${e})`}}function ZA(t,e){return t instanceof ht?function(r,i){return i instanceof ht&&r.op===i.op&&r.field.isEqual(i.field)&&or(r.value,i.value)}(t,e):t instanceof sr?function(r,i){return i instanceof sr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&ZA(s,i.filters[a]),!0):!1}(t,e):void ne()}function XA(t){return t instanceof ht?function(n){return`${n.field.canonicalString()} ${n.op} ${ea(n.value)}`}(t):t instanceof sr?function(n){return n.op.toString()+" {"+n.getFilters().map(XA).join(" ,")+"}"}(t):"Filter"}var o_=class extends ht{constructor(e,n,r){super(e,n,r),this.key=X.fromName(r.referenceValue)}matches(e){let n=X.comparator(e.key,this.key);return this.matchesComparison(n)}},s_=class extends ht{constructor(e,n){super(e,"in",n),this.keys=eM("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},a_=class extends ht{constructor(e,n){super(e,"not-in",n),this.keys=eM("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function eM(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>X.fromName(r.referenceValue))}var c_=class extends ht{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return T0(n)&&tu(n.arrayValue,this.value)}},u_=class extends ht{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&tu(this.value.arrayValue,n)}},l_=class extends ht{constructor(e,n){super(e,"not-in",n)}matches(e){if(tu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!tu(this.value.arrayValue,n)}},d_=class extends ht{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!T0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>tu(this.value.arrayValue,r))}};var h_=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}};function wA(t,e=null,n=[],r=[],i=null,o=null,s=null){return new h_(t,e,n,r,i,o,s)}function S0(t){let e=ae(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>i_(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),gf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ea(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ea(r)).join(",")),e.ue=n}return e.ue}function A0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!X3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!ZA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!_A(t.startAt,e.startAt)&&_A(t.endAt,e.endAt)}function f_(t){return X.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var ra=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function tB(t,e,n,r,i,o,s,a){return new ra(t,e,n,r,i,o,s,a)}function M0(t){return new ra(t)}function EA(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function nB(t){return t.collectionGroup!==null}function Yc(t){let e=ae(t);if(e.ce===null){e.ce=[];let n=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Nt(cn.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new na(o,r))}),n.has(cn.keyField().canonicalString())||e.ce.push(new na(cn.keyField(),r))}return e.ce}function rr(t){let e=ae(t);return e.le||(e.le=rB(e,Yc(t))),e.le}function rB(t,e){if(t.limitType==="F")return wA(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new na(i.field,o)});let n=t.endAt?new ta(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ta(t.startAt.position,t.startAt.inclusive):null;return wA(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function p_(t,e,n){return new ra(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function mf(t,e){return A0(rr(t),rr(e))&&t.limitType===e.limitType}function tM(t){return`${S0(rr(t))}|lt:${t.limitType}`}function qs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>XA(i)).join(", ")}]`),gf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ea(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ea(i)).join(",")),`Target(${r})`}(rr(t))}; limitType=${t.limitType})`}function yf(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):X.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of Yc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){let l=vA(s,a,u);return s.inclusive?l<=0:l<0}(r.startAt,Yc(r),i)||r.endAt&&!function(s,a,u){let l=vA(s,a,u);return s.inclusive?l>=0:l>0}(r.endAt,Yc(r),i))}(t,e)}function iB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function nM(t){return(e,n)=>{let r=!1;for(let i of Yc(t)){let o=oB(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function oB(t,e,n){let r=t.field.isKeyField()?X.comparator(e.key,n.key):function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?Xs(u,l):ne()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ne()}}var Si=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){To(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return GA(this.inner)}size(){return this.innerSize}};var sB=new Xe(X.comparator);function Br(){return sB}var rM=new Xe(X.comparator);function Kc(...t){let e=rM;for(let n of t)e=e.insert(n.key,n);return e}function iM(t){let e=rM;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function yo(){return Jc()}function oM(){return Jc()}function Jc(){return new Si(t=>t.toString(),(t,e)=>t.isEqual(e))}var aB=new Xe(X.comparator),cB=new Nt(X.comparator);function _e(...t){let e=cB;for(let n of t)e=e.add(n);return e}var uB=new Nt(Te);function lB(){return uB}function x0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xc(e)?"-0":e}}function sM(t){return{integerValue:""+t}}function dB(t,e){return W3(e)?sM(e):x0(t,e)}var ia=class{constructor(){this._=void 0}};function hB(t,e,n){return t instanceof oa?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&b0(o)&&(o=D0(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Co?cM(t,e):t instanceof bo?uM(t,e):function(i,o){let s=aM(i,o),a=IA(s)+IA(i.Pe);return r_(s)&&r_(i.Pe)?sM(a):x0(i.serializer,a)}(t,e)}function fB(t,e,n){return t instanceof Co?cM(t,e):t instanceof bo?uM(t,e):n}function aM(t,e){return t instanceof sa?function(r){return r_(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var oa=class extends ia{},Co=class extends ia{constructor(e){super(),this.elements=e}};function cM(t,e){let n=lM(e);for(let r of t.elements)n.some(i=>or(i,r))||n.push(r);return{arrayValue:{values:n}}}var bo=class extends ia{constructor(e){super(),this.elements=e}};function uM(t,e){let n=lM(e);for(let r of t.elements)n=n.filter(i=>!or(i,r));return{arrayValue:{values:n}}}var sa=class extends ia{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function IA(t){return ze(t.integerValue||t.doubleValue)}function lM(t){return T0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function pB(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Co&&i instanceof Co||r instanceof bo&&i instanceof bo?Zs(r.elements,i.elements,or):r instanceof sa&&i instanceof sa?or(r.Pe,i.Pe):r instanceof oa&&i instanceof oa}(t.transform,e.transform)}var g_=class{constructor(e,n){this.version=e,this.transformResults=n}},Vr=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Fh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var aa=class{};function dM(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new nu(t.key,Vr.none()):new Do(t.key,t.data,Vr.none());{let n=t.data,r=an.empty(),i=new Nt(cn.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new ar(t.key,r,new _n(i.toArray()),Vr.none())}}function gB(t,e,n){t instanceof Do?function(i,o,s){let a=i.value.clone(),u=bA(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ar?function(i,o,s){if(!Fh(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=bA(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(hM(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Zc(t,e,n,r){return t instanceof Do?function(o,s,a,u){if(!Fh(o.precondition,s))return a;let l=o.value.clone(),h=DA(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof ar?function(o,s,a,u){if(!Fh(o.precondition,s))return a;let l=DA(o.fieldTransforms,u,s),h=s.data;return h.setAll(hM(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(o,s,a){return Fh(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function mB(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=aM(r.transform,i||null);o!=null&&(n===null&&(n=an.empty()),n.set(r.field,o))}return n||null}function CA(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Zs(r,i,(o,s)=>pB(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Do=class extends aa{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},ar=class extends aa{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function hM(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function bA(t,e,n){let r=new Map;Pe(t.length===n.length);for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,fB(s,a,n[i]))}return r}function DA(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,hB(o,s,e))}return r}var nu=class extends aa{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},m_=class extends aa{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var y_=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&gB(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Zc(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Zc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=oM();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let u=dM(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(ue.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),_e())}isEqual(e){return this.batchId===e.batchId&&Zs(this.mutations,e.mutations,(n,r)=>CA(n,r))&&Zs(this.baseMutations,e.baseMutations,(n,r)=>CA(n,r))}},v_=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Pe(e.mutations.length===r.length);let i=function(){return aB}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var __=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var w_=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var at,Ce;function yB(t){switch(t){default:return ne();case O.CANCELLED:case O.UNKNOWN:case O.DEADLINE_EXCEEDED:case O.RESOURCE_EXHAUSTED:case O.INTERNAL:case O.UNAVAILABLE:case O.UNAUTHENTICATED:return!1;case O.INVALID_ARGUMENT:case O.NOT_FOUND:case O.ALREADY_EXISTS:case O.PERMISSION_DENIED:case O.FAILED_PRECONDITION:case O.ABORTED:case O.OUT_OF_RANGE:case O.UNIMPLEMENTED:case O.DATA_LOSS:return!0}}function fM(t){if(t===void 0)return jr("GRPC error has no .code"),O.UNKNOWN;switch(t){case at.OK:return O.OK;case at.CANCELLED:return O.CANCELLED;case at.UNKNOWN:return O.UNKNOWN;case at.DEADLINE_EXCEEDED:return O.DEADLINE_EXCEEDED;case at.RESOURCE_EXHAUSTED:return O.RESOURCE_EXHAUSTED;case at.INTERNAL:return O.INTERNAL;case at.UNAVAILABLE:return O.UNAVAILABLE;case at.UNAUTHENTICATED:return O.UNAUTHENTICATED;case at.INVALID_ARGUMENT:return O.INVALID_ARGUMENT;case at.NOT_FOUND:return O.NOT_FOUND;case at.ALREADY_EXISTS:return O.ALREADY_EXISTS;case at.PERMISSION_DENIED:return O.PERMISSION_DENIED;case at.FAILED_PRECONDITION:return O.FAILED_PRECONDITION;case at.ABORTED:return O.ABORTED;case at.OUT_OF_RANGE:return O.OUT_OF_RANGE;case at.UNIMPLEMENTED:return O.UNIMPLEMENTED;case at.DATA_LOSS:return O.DATA_LOSS;default:return ne()}}(Ce=at||(at={}))[Ce.OK=0]="OK",Ce[Ce.CANCELLED=1]="CANCELLED",Ce[Ce.UNKNOWN=2]="UNKNOWN",Ce[Ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ce[Ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ce[Ce.NOT_FOUND=5]="NOT_FOUND",Ce[Ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ce[Ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ce[Ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ce[Ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ce[Ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ce[Ce.ABORTED=10]="ABORTED",Ce[Ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ce[Ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ce[Ce.INTERNAL=13]="INTERNAL",Ce[Ce.UNAVAILABLE=14]="UNAVAILABLE",Ce[Ce.DATA_LOSS=15]="DATA_LOSS";var TA=null;function vB(){return new TextEncoder}var _B=new bi([4294967295,4294967295],0);function SA(t){let e=vB().encode(t),n=new Fv;return n.update(e),new Uint8Array(n.digest())}function AA(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new bi([n,r],0),new bi([i,o],0)]}var E_=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new vo(`Invalid padding: ${n}`);if(r<0)throw new vo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new vo(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new vo(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=bi.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(bi.fromNumber(r)));return i.compare(_B)===1&&(i=new bi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=SA(e),[r,i]=AA(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;let n=SA(e),[r,i]=AA(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},vo=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var zh=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,ru.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(ue.min(),i,new Xe(Te),Br(),_e())}},ru=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,_e(),_e(),_e())}};var Qs=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},qh=class{constructor(e,n){this.targetId=e,this.me=n}},Gh=class{constructor(e,n,r=Ot.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Wh=class{constructor(){this.fe=0,this.ge=xA(),this.pe=Ot.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=_e(),n=_e(),r=_e();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ne()}}),new ru(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=xA()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Pe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},I_=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Br(),this.qe=MA(),this.Qe=new Xe(Te)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ne()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let o=i.target;if(f_(o))if(r===0){let s=new X(o.path);this.Ue(n,s,On.newNoDocument(s,ue.min()))}else Pe(r===1);else{let s=this.Ye(n);if(s!==r){let a=this.Ze(e),u=a?this.Xe(a,e,s):1;if(u!==0){this.je(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}TA?.et(function(h,p,m,y,D){var P,x,F,K,q,Y;let Ne={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},ee=p.unchangedNames;return ee&&(Ne.bloomFilter={applied:D===0,hashCount:(P=ee?.hashCount)!==null&&P!==void 0?P:0,bitmapLength:(K=(F=(x=ee?.bits)===null||x===void 0?void 0:x.bitmap)===null||F===void 0?void 0:F.length)!==null&&K!==void 0?K:0,padding:(Y=(q=ee?.bits)===null||q===void 0?void 0:q.padding)!==null&&Y!==void 0?Y:0,mightContain:E=>{var v;return(v=y?.mightContain(E))!==null&&v!==void 0&&v}}),Ne}(s,e.me,this.Le.tt(),a,u))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,a;try{s=Ti(r).toUint8Array()}catch(u){if(u instanceof Bh)return Js("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new E_(s,i,o)}catch(u){return Js(u instanceof vo?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((o,s)=>{let a=this.Je(s);if(a){if(o.current&&f_(a.target)){let u=new X(a.target.path);this.ke.get(u)!==null||this.it(s,u)||this.Ue(s,u,On.newNoDocument(u,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=_e();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let i=new zh(e,n,this.Qe,this.ke,r);return this.ke=Br(),this.qe=MA(),this.Qe=new Xe(Te),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Wh,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Nt(Te),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||z("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Wh),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function MA(){return new Xe(X.comparator)}function xA(){return new Xe(X.comparator)}var wB={asc:"ASCENDING",desc:"DESCENDING"},EB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},IB={and:"AND",or:"OR"},C_=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function b_(t,e){return t.useProto3Json||gf(e)?e:{value:e}}function Kh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function pM(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function CB(t,e){return Kh(t,e.toTimestamp())}function ir(t){return Pe(!!t),ue.fromTimestamp(function(n){let r=Ur(n);return new Ct(r.seconds,r.nanos)}(t))}function R0(t,e){return D_(t,e).canonicalString()}function D_(t,e){let n=function(i){return new Ze(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function gM(t){let e=Ze.fromString(t);return Pe(wM(e)),e}function T_(t,e){return R0(t.databaseId,e.path)}function $v(t,e){let n=gM(e);if(n.get(1)!==t.databaseId.projectId)throw new Q(O.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Q(O.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new X(yM(n))}function mM(t,e){return R0(t.databaseId,e)}function bB(t){let e=gM(t);return e.length===4?Ze.emptyPath():yM(e)}function S_(t){return new Ze(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function yM(t){return Pe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function RA(t,e,n){return{name:T_(t,e),fields:n.value.mapValue.fields}}function DB(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:ne()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(Pe(h===void 0||typeof h=="string"),Ot.fromBase64String(h||"")):(Pe(h===void 0||h instanceof Buffer||h instanceof Uint8Array),Ot.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let h=l.code===void 0?O.UNKNOWN:fM(l.code);return new Q(h,l.message||"")}(s);n=new Gh(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=$v(t,r.document.name),o=ir(r.document.updateTime),s=r.document.createTime?ir(r.document.createTime):ue.min(),a=new an({mapValue:{fields:r.document.fields}}),u=On.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];n=new Qs(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=$v(t,r.document),o=r.readTime?ir(r.readTime):ue.min(),s=On.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Qs([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=$v(t,r.document),o=r.removedTargetIds||[];n=new Qs([],o,i,null)}else{if(!("filter"in e))return ne();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new w_(i,o),a=r.targetId;n=new qh(a,s)}}return n}function TB(t,e){let n;if(e instanceof Do)n={update:RA(t,e.key,e.value)};else if(e instanceof nu)n={delete:T_(t,e.key)};else if(e instanceof ar)n={update:RA(t,e.key,e.data),updateMask:kB(e.fieldMask)};else{if(!(e instanceof m_))return ne();n={verify:T_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof oa)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Co)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof bo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof sa)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw ne()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:CB(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ne()}(t,e.precondition)),n}function SB(t,e){return t&&t.length>0?(Pe(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?ir(i.updateTime):ir(o);return s.isEqual(ue.min())&&(s=ir(o)),new g_(s,i.transformResults||[])}(n,e))):[]}function AB(t,e){return{documents:[mM(t,e.path)]}}function MB(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=mM(t,i);let o=function(l){if(l.length!==0)return _M(sr.create(l,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(m){return{field:Gs(m.field),direction:PB(m.dir)}}(h))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=b_(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i}}function xB(t){let e=bB(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Pe(r===1);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(p){let m=vM(p);return m instanceof sr&&JA(m)?m.getFilters():[m]}(n.where));let s=[];n.orderBy&&(s=function(p){return p.map(m=>function(D){return new na(Ws(D.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(p){let m;return m=typeof p=="object"?p.value:p,gf(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(p){let m=!!p.before,y=p.values||[];return new ta(y,m)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let m=!p.before,y=p.values||[];return new ta(y,m)}(n.endAt)),tB(e,i,s,o,a,"F",u,l)}function RB(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ne()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function vM(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Ws(n.unaryFilter.field);return ht.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Ws(n.unaryFilter.field);return ht.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Ws(n.unaryFilter.field);return ht.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Ws(n.unaryFilter.field);return ht.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ne()}}(t):t.fieldFilter!==void 0?function(n){return ht.create(Ws(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ne()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return sr.create(n.compositeFilter.filters.map(r=>vM(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ne()}}(n.compositeFilter.op))}(t):ne()}function PB(t){return wB[t]}function NB(t){return EB[t]}function OB(t){return IB[t]}function Gs(t){return{fieldPath:t.canonicalString()}}function Ws(t){return cn.fromServerFormat(t.fieldPath)}function _M(t){return t instanceof ht?function(n){if(n.op==="=="){if(yA(n.value))return{unaryFilter:{field:Gs(n.field),op:"IS_NAN"}};if(mA(n.value))return{unaryFilter:{field:Gs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(yA(n.value))return{unaryFilter:{field:Gs(n.field),op:"IS_NOT_NAN"}};if(mA(n.value))return{unaryFilter:{field:Gs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Gs(n.field),op:NB(n.op),value:n.value}}}(t):t instanceof sr?function(n){let r=n.getFilters().map(i=>_M(i));return r.length===1?r[0]:{compositeFilter:{op:OB(n.op),filters:r}}}(t):ne()}function kB(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function wM(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var iu=class t{constructor(e,n,r,i,o=ue.min(),s=ue.min(),a=Ot.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var A_=class{constructor(e){this.ct=e}};function FB(t){let e=xB({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?p_(e,e.limit,"L"):e}var Qh=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(ze(e.integerValue));else if("doubleValue"in e){let r=ze(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),Xc(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=Ur(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(Ti(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?KA(e)?this.dt(n,Number.MAX_SAFE_INTEGER):WA(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):ne()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let o=e.fields||{};this.dt(n,53);let s="value",a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(ze(a)),this.Vt(s,n),this.Tt(o[s],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),X.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};Qh.vt=new Qh;var M_=class{constructor(){this.un=new x_}addToCollectionParentIndex(e,n){return this.un.add(n),V.resolve()}getCollectionParents(e,n){return V.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return V.resolve()}deleteFieldIndex(e,n){return V.resolve()}deleteAllFieldIndexes(e){return V.resolve()}createTargetIndexes(e,n){return V.resolve()}getDocumentsMatchingTarget(e,n){return V.resolve(null)}getIndexType(e,n){return V.resolve(0)}getFieldIndexes(e,n){return V.resolve([])}getNextCollectionGroupToUpdate(e){return V.resolve(null)}getMinOffset(e,n){return V.resolve(Eo.min())}getMinOffsetFromCollectionGroup(e,n){return V.resolve(Eo.min())}updateCollectionGroup(e,n,r){return V.resolve()}updateIndexEntries(e,n){return V.resolve()}},x_=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Nt(Ze.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Nt(Ze.comparator)).toArray()}};var wQ=new Uint8Array(0);var tr=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};tr.DEFAULT_COLLECTION_PERCENTILE=10,tr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,tr.DEFAULT=new tr(41943040,tr.DEFAULT_COLLECTION_PERCENTILE,tr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),tr.DISABLED=new tr(-1,0,0);var ou=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var R_=class{constructor(){this.changes=new Si(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,On.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?V.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var P_=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var N_=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Zc(r.mutation,i,_n.empty(),Ct.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,_e()).next(()=>r))}getLocalViewOfDocuments(e,n,r=_e()){let i=yo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Kc();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=yo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,_e()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Br(),s=Jc(),a=function(){return Jc()}();return n.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof ar)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),Zc(h.mutation,l,h.mutation.getFieldMask(),Ct.now())):s.set(l.key,_n.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),n.forEach((l,h)=>{var p;return a.set(l,new P_(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let r=Jc(),i=new Xe((s,a)=>s-a),o=_e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let h=r.get(u)||_n.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||_e()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=oM();h.forEach(m=>{if(!o.has(m)){let y=dM(n.get(m),r.get(m));y!==null&&p.set(m,y),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return V.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return X.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):nB(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):V.resolve(yo()),a=-1,u=o;return s.next(l=>V.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?V.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,_e())).next(h=>({batchId:a,changes:iM(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new X(n)).next(r=>{let i=Kc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=Kc();return this.indexManager.getCollectionParents(e,o).next(a=>V.forEach(a,u=>{let l=function(p,m){return new ra(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,On.newInvalidDocument(h)))});let a=Kc();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&Zc(h.mutation,l,_n.empty(),Ct.now()),yf(n,l)&&(a=a.insert(u,l))}),a})}};var O_=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return V.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:ir(i.createTime)}}(n)),V.resolve()}getNamedQuery(e,n){return V.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:FB(i.bundledQuery),readTime:ir(i.readTime)}}(n)),V.resolve()}};var k_=class{constructor(){this.overlays=new Xe(X.comparator),this.Ir=new Map}getOverlay(e,n){return V.resolve(this.overlays.get(n))}getOverlays(e,n){let r=yo();return V.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),V.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),V.resolve()}getOverlaysForCollection(e,n,r){let i=yo(),o=n.length+1,s=new X(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return V.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Xe((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=yo(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=yo(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return V.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new __(n,r));let o=this.Ir.get(n);o===void 0&&(o=_e(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}};var F_=class{constructor(){this.sessionToken=Ot.EMPTY_BYTE_STRING}getSessionToken(e){return V.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,V.resolve()}};var su=class{constructor(){this.Tr=new Nt(ct.Er),this.dr=new Nt(ct.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new ct(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new ct(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new X(new Ze([])),r=new ct(n,e),i=new ct(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new X(new Ze([])),r=new ct(n,e),i=new ct(n,e+1),o=_e();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new ct(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},ct=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return X.comparator(e.key,n.key)||Te(e.wr,n.wr)}static Ar(e,n){return Te(e.wr,n.wr)||X.comparator(e.key,n.key)}};var V_=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Nt(ct.Er)}checkEmpty(e){return V.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new y_(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.br=this.br.add(new ct(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return V.resolve(s)}lookupMutationBatch(e,n){return V.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),o=i<0?0:i;return V.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return V.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return V.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new ct(n,0),i=new ct(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{let a=this.Dr(s.wr);o.push(a)}),V.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Nt(Te);return n.forEach(i=>{let o=new ct(i,0),s=new ct(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),V.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;X.isDocumentKey(o)||(o=o.child(""));let s=new ct(new X(o),0),a=new Nt(Te);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.wr)),!0)},s),V.resolve(this.Cr(a))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Pe(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return V.forEach(n.mutations,i=>{let o=new ct(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new ct(n,0),i=this.br.firstAfterOrEqual(r);return V.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,V.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var L_=class{constructor(e){this.Mr=e,this.docs=function(){return new Xe(X.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return V.resolve(r?r.document.mutableCopy():On.newInvalidDocument(n))}getEntries(e,n){let r=Br();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():On.newInvalidDocument(i))}),V.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Br(),s=n.path,a=new X(s.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||z3(H3(h),r)<=0||(i.has(h.key)||yf(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return V.resolve(o)}getAllFromCollectionGroup(e,n,r,i){ne()}Or(e,n){return V.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new j_(this)}getSize(e){return V.resolve(this.size)}},j_=class extends R_{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),V.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var U_=class{constructor(e){this.persistence=e,this.Nr=new Si(n=>S0(n),A0),this.lastRemoteSnapshotVersion=ue.min(),this.highestTargetId=0,this.Lr=0,this.Br=new su,this.targetCount=0,this.kr=ou.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),V.resolve()}getLastRemoteSnapshotVersion(e){return V.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return V.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),V.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),V.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new ou(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,V.resolve()}updateTargetData(e,n){return this.Kn(n),V.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,V.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),V.waitFor(o).next(()=>i)}getTargetCount(e){return V.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return V.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),V.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),V.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),V.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return V.resolve(r)}containsKey(e,n){return V.resolve(this.Br.containsKey(n))}};var B_=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new qA(0),this.Kr=!1,this.Kr=!0,this.$r=new F_,this.referenceDelegate=e(this),this.Ur=new U_(this),this.indexManager=new M_,this.remoteDocumentCache=function(i){return new L_(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new A_(n),this.Gr=new O_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new k_,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new V_(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){z("MemoryPersistence","Starting transaction:",e);let i=new $_(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return V.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},$_=class extends e_{constructor(e){super(),this.currentSequenceNumber=e}},H_=class t{constructor(e){this.persistence=e,this.Jr=new su,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw ne()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),V.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),V.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),V.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return V.forEach(this.Xr,r=>{let i=X.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,ue.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return V.or([()=>V.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var z_=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=_e(),i=_e();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var q_=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var G_=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return RT()?8:G3(sn())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new q_;return this.Xi(e,n,s).next(a=>{if(o.result=a,this.zi)return this.es(e,n,s,a.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Wc()<=ve.DEBUG&&z("QueryEngine","SDK will not create cache indexes for query:",qs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),V.resolve()):(Wc()<=ve.DEBUG&&z("QueryEngine","Query:",qs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Wc()<=ve.DEBUG&&z("QueryEngine","The SDK decides to create cache indexes for query:",qs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,rr(n))):V.resolve())}Yi(e,n){if(EA(n))return V.resolve(null);let r=rr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=p_(n,null,"F"),r=rr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=_e(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(n,a);return this.ns(n,l,s,u.readTime)?this.Yi(e,p_(n,null,"F")):this.rs(e,l,n,u)}))})))}Zi(e,n,r,i){return EA(n)||i.isEqual(ue.min())?V.resolve(null):this.Ji.getDocuments(e,r).next(o=>{let s=this.ts(n,o);return this.ns(n,s,r,i)?V.resolve(null):(Wc()<=ve.DEBUG&&z("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),qs(n)),this.rs(e,s,n,$3(i,-1)).next(a=>a))})}ts(e,n){let r=new Nt(nM(e));return n.forEach((i,o)=>{yf(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return Wc()<=ve.DEBUG&&z("QueryEngine","Using full collection scan to execute query:",qs(n)),this.Ji.getDocumentsMatchingQuery(e,n,Eo.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var W_=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Xe(Te),this._s=new Si(o=>S0(o),A0),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new N_(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function VB(t,e,n,r){return new W_(t,e,n,r)}function EM(t,e){return S(this,null,function*(){let n=ae(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=_e();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:s,addedBatchIds:a}))})})})}function LB(t,e){let n=ae(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,m=p.keys(),y=V.resolve();return m.forEach(D=>{y=y.next(()=>h.getEntry(u,D)).next(P=>{let x=l.docVersions.get(D);Pe(x!==null),P.version.compareTo(x)<0&&(p.applyToRemoteDocument(P,l),P.isValidDocument()&&(P.setReadTime(l.commitVersion),h.addEntry(P)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=_e();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function IM(t){let e=ae(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function jB(t,e){let n=ae(t),r=e.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let a=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;a.push(n.Ur.removeMatchingKeys(o,h.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(o,h.addedDocuments,p)));let y=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(Ot.EMPTY_BYTE_STRING,ue.min()).withLastLimboFreeSnapshotVersion(ue.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),function(P,x,F){return P.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=3e8?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(m,y,h)&&a.push(n.Ur.updateTargetData(o,y))});let u=Br(),l=_e();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(UB(o,s,e.documentUpdates).next(h=>{u=h.Ps,l=h.Is})),!r.isEqual(ue.min())){let h=n.Ur.getLastRemoteSnapshotVersion(o).next(p=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return V.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(n.os=i,o))}function UB(t,e,n){let r=_e(),i=_e();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Br();return n.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ue.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):z("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ps:s,Is:i}})}function BB(t,e){let n=ae(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function $B(t,e){let n=ae(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,V.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new iu(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}function K_(t,e,n){return S(this,null,function*(){let r=ae(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!hu(s))throw s;z("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function PA(t,e,n){let r=ae(t),i=ue.min(),o=_e();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,h){let p=ae(u),m=p._s.get(h);return m!==void 0?V.resolve(p.os.get(m)):p.Ur.getTargetData(l,h)}(r,s,rr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:ue.min(),n?o:_e())).next(a=>(HB(r,iB(e),a),{documents:a,Ts:o})))}function HB(t,e,n){let r=t.us.get(e)||ue.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}var Yh=class{constructor(){this.activeTargetIds=lB()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Q_=class{constructor(){this.so=new Yh,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Yh,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Y_=class{_o(e){}shutdown(){}};var Jh=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){z("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){z("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Oh=null;function Hv(){return Oh===null?Oh=function(){return 268435456+Math.round(2147483648*Math.random())}():Oh++,"0x"+Oh.toString(16)}var zB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var J_=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var Pt="WebChannelConnection",Z_=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){let a=Hv(),u=this.xo(n,r.toUriEncodedString());z("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,o,s),this.No(n,u,l,i).then(h=>(z("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw Js("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",u,"request:",i),h})}Lo(n,r,i,o,s,a){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+da}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){let i=zB[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let o=Hv();return new Promise((s,a)=>{let u=new Vv;u.setWithCredentials(!0),u.listenOnce(Lv.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Gc.NO_ERROR:let h=u.getResponseJson();z(Pt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case Gc.TIMEOUT:z(Pt,`RPC '${e}' ${o} timed out`),a(new Q(O.DEADLINE_EXCEEDED,"Request time out"));break;case Gc.HTTP_ERROR:let p=u.getStatus();if(z(Pt,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);let y=m?.error;if(y&&y.status&&y.message){let D=function(x){let F=x.toLowerCase().replace(/_/g,"-");return Object.values(O).indexOf(F)>=0?F:O.UNKNOWN}(y.status);a(new Q(D,y.message))}else a(new Q(O.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new Q(O.UNAVAILABLE,"Connection failed."));break;default:ne()}}finally{z(Pt,`RPC '${e}' ${o} completed.`)}});let l=JSON.stringify(i);z(Pt,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",l,r,15)})}Bo(e,n,r){let i=Hv(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Bv(),a=Uv(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let h=o.join("");z(Pt,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u),m=!1,y=!1,D=new J_({Io:x=>{y?z(Pt,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(m||(z(Pt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),z(Pt,`RPC '${e}' stream ${i} sending:`,x),p.send(x))},To:()=>p.close()}),P=(x,F,K)=>{x.listen(F,q=>{try{K(q)}catch(Y){setTimeout(()=>{throw Y},0)}})};return P(p,zs.EventType.OPEN,()=>{y||(z(Pt,`RPC '${e}' stream ${i} transport opened.`),D.yo())}),P(p,zs.EventType.CLOSE,()=>{y||(y=!0,z(Pt,`RPC '${e}' stream ${i} transport closed`),D.So())}),P(p,zs.EventType.ERROR,x=>{y||(y=!0,Js(Pt,`RPC '${e}' stream ${i} transport errored:`,x),D.So(new Q(O.UNAVAILABLE,"The operation could not be completed")))}),P(p,zs.EventType.MESSAGE,x=>{var F;if(!y){let K=x.data[0];Pe(!!K);let q=K,Y=q.error||((F=q[0])===null||F===void 0?void 0:F.error);if(Y){z(Pt,`RPC '${e}' stream ${i} received error:`,Y);let Ne=Y.status,ee=function(_){let I=at[_];if(I!==void 0)return fM(I)}(Ne),E=Y.message;ee===void 0&&(ee=O.INTERNAL,E="Unknown error status: "+Ne+" with message "+Y.message),y=!0,D.So(new Q(ee,E)),p.close()}else z(Pt,`RPC '${e}' stream ${i} received:`,K),D.bo(K)}}),P(a,jv.STAT_EVENT,x=>{x.stat===Ph.PROXY?z(Pt,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===Ph.NOPROXY&&z(Pt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{D.wo()},0),D}};function zv(){return typeof document<"u"?document:null}function vf(t){return new C_(t,!0)}var Zh=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&z("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var Xh=class{constructor(e,n,r,i,o,s,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Zh(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return S(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return S(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return S(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===O.RESOURCE_EXHAUSTED?(jr(n.toString()),jr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===O.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new Q(O.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>S(this,null,function*(){this.state=0,this.start()}))}I_(e){return z("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(z("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},X_=class extends Xh{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=DB(this.serializer,e),r=function(o){if(!("targetChange"in o))return ue.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?ue.min():s.readTime?ir(s.readTime):ue.min()}(e);return this.listener.d_(n,r)}A_(e){let n={};n.database=S_(this.serializer),n.addTarget=function(o,s){let a,u=s.target;if(a=f_(u)?{documents:AB(o,u)}:{query:MB(o,u)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=pM(o,s.resumeToken);let l=b_(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(ue.min())>0){a.readTime=Kh(o,s.snapshotVersion.toTimestamp());let l=b_(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=RB(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){let n={};n.database=S_(this.serializer),n.removeTarget=e,this.a_(n)}},e0=class extends Xh{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Pe(!!e.streamToken),this.lastStreamToken=e.streamToken,Pe(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Pe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=SB(e.writeResults,e.commitTime),r=ir(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=S_(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>TB(this.serializer,r))};this.a_(n)}};var t0=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Q(O.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,D_(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Q(O.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,D_(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Q(O.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},n0=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(jr(n),this.D_=!1):z("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var r0=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(()=>S(this,null,function*(){So(this)&&(z("RemoteStore","Restarting streams for network reachability change."),yield function(u){return S(this,null,function*(){let l=ae(u);l.L_.add(4),yield fu(l),l.q_.set("Unknown"),l.L_.delete(4),yield _f(l)})}(this))}))}),this.q_=new n0(r,i)}};function _f(t){return S(this,null,function*(){if(So(t))for(let e of t.B_)yield e(!0)})}function fu(t){return S(this,null,function*(){for(let e of t.B_)yield e(!1)})}function CM(t,e){let n=ae(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),k0(n)?O0(n):ha(n).r_()&&N0(n,e))}function P0(t,e){let n=ae(t),r=ha(n);n.N_.delete(e),r.r_()&&bM(n,e),n.N_.size===0&&(r.r_()?r.o_():So(n)&&n.q_.set("Unknown"))}function N0(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ue.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ha(t).A_(e)}function bM(t,e){t.Q_.xe(e),ha(t).R_(e)}function O0(t){t.Q_=new I_({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),ha(t).start(),t.q_.v_()}function k0(t){return So(t)&&!ha(t).n_()&&t.N_.size>0}function So(t){return ae(t).L_.size===0}function DM(t){t.Q_=void 0}function qB(t){return S(this,null,function*(){t.q_.set("Online")})}function GB(t){return S(this,null,function*(){t.N_.forEach((e,n)=>{N0(t,e)})})}function WB(t,e){return S(this,null,function*(){DM(t),k0(t)?(t.q_.M_(e),O0(t)):t.q_.set("Unknown")})}function KB(t,e,n){return S(this,null,function*(){if(t.q_.set("Online"),e instanceof Gh&&e.state===2&&e.cause)try{yield function(i,o){return S(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))})}(t,e)}catch(r){z("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield ef(t,r)}else if(e instanceof Qs?t.Q_.Ke(e):e instanceof qh?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ue.min()))try{let r=yield IM(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){let a=o.Q_.rt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.N_.get(l);h&&o.N_.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.N_.get(u);if(!h)return;o.N_.set(u,h.withResumeToken(Ot.EMPTY_BYTE_STRING,h.snapshotVersion)),bM(o,u);let p=new iu(h.target,u,l,h.sequenceNumber);N0(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){z("RemoteStore","Failed to raise snapshot:",r),yield ef(t,r)}})}function ef(t,e,n){return S(this,null,function*(){if(!hu(e))throw e;t.L_.add(1),yield fu(t),t.q_.set("Offline"),n||(n=()=>IM(t.localStore)),t.asyncQueue.enqueueRetryable(()=>S(this,null,function*(){z("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield _f(t)}))})}function TM(t,e){return e().catch(n=>ef(t,n,e))}function wf(t){return S(this,null,function*(){let e=ae(t),n=Ai(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;QB(e);)try{let i=yield BB(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,YB(e,i)}catch(i){yield ef(e,i)}SM(e)&&AM(e)})}function QB(t){return So(t)&&t.O_.length<10}function YB(t,e){t.O_.push(e);let n=Ai(t);n.r_()&&n.V_&&n.m_(e.mutations)}function SM(t){return So(t)&&!Ai(t).n_()&&t.O_.length>0}function AM(t){Ai(t).start()}function JB(t){return S(this,null,function*(){Ai(t).p_()})}function ZB(t){return S(this,null,function*(){let e=Ai(t);for(let n of t.O_)e.m_(n.mutations)})}function XB(t,e,n){return S(this,null,function*(){let r=t.O_.shift(),i=v_.from(r,e,n);yield TM(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield wf(t)})}function e$(t,e){return S(this,null,function*(){e&&Ai(t).V_&&(yield function(r,i){return S(this,null,function*(){if(function(s){return yB(s)&&s!==O.ABORTED}(i.code)){let o=r.O_.shift();Ai(r).s_(),yield TM(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield wf(r)}})}(t,e)),SM(t)&&AM(t)})}function NA(t,e){return S(this,null,function*(){let n=ae(t);n.asyncQueue.verifyOperationInProgress(),z("RemoteStore","RemoteStore received new credentials");let r=So(n);n.L_.add(3),yield fu(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield _f(n)})}function t$(t,e){return S(this,null,function*(){let n=ae(t);e?(n.L_.delete(2),yield _f(n)):e||(n.L_.add(2),yield fu(n),n.q_.set("Unknown"))})}function ha(t){return t.K_||(t.K_=function(n,r,i){let o=ae(n);return o.w_(),new X_(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:qB.bind(null,t),Ro:GB.bind(null,t),mo:WB.bind(null,t),d_:KB.bind(null,t)}),t.B_.push(e=>S(this,null,function*(){e?(t.K_.s_(),k0(t)?O0(t):t.q_.set("Unknown")):(yield t.K_.stop(),DM(t))}))),t.K_}function Ai(t){return t.U_||(t.U_=function(n,r,i){let o=ae(n);return o.w_(),new e0(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:JB.bind(null,t),mo:e$.bind(null,t),f_:ZB.bind(null,t),g_:XB.bind(null,t)}),t.B_.push(e=>S(this,null,function*(){e?(t.U_.s_(),yield wf(t)):(yield t.U_.stop(),t.O_.length>0&&(z("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var i0=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Fr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Q(O.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function F0(t,e){if(jr("AsyncQueue",`${e}: ${t}`),hu(t))return new Q(O.UNAVAILABLE,`${e}: ${t}`);throw t}var tf=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||X.comparator(n.key,r.key):(n,r)=>X.comparator(n.key,r.key),this.keyedMap=Kc(),this.sortedSet=new Xe(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var nf=class{constructor(){this.W_=new Xe(X.comparator)}track(e){let n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ne():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}},ca=class t{constructor(e,n,r,i,o,s,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,tf.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&mf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var o0=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},s0=class{constructor(){this.queries=OA(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=ae(n),o=i.queries;i.queries=OA(),o.forEach((s,a)=>{for(let u of a.j_)u.onError(r)})})(this,new Q(O.ABORTED,"Firestore shutting down"))}};function OA(){return new Si(t=>tM(t),mf)}function n$(t,e){return S(this,null,function*(){let n=ae(t),r=3,i=e.query,o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new o0,r=e.J_()?0:1);try{switch(r){case 0:o.z_=yield n.onListen(i,!0);break;case 1:o.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){let a=F0(s,`Initialization of query '${qs(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&V0(n)})}function r$(t,e){return S(this,null,function*(){let n=ae(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function i$(t,e){let n=ae(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&V0(n)}function o$(t,e,n){let r=ae(t),i=r.queries.get(e);if(i)for(let o of i.j_)o.onError(n);r.queries.delete(e)}function V0(t){t.Y_.forEach(e=>{e.next()})}var a0,kA;(kA=a0||(a0={})).ea="default",kA.Cache="cache";var c0=class{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new ca(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=ca.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==a0.Cache}};var rf=class{constructor(e){this.key=e}},of=class{constructor(e){this.key=e}},u0=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=_e(),this.mutatedKeys=_e(),this.Aa=nM(e),this.Ra=new tf(this.Aa)}get Va(){return this.Ta}ma(e,n){let r=n?n.fa:new nf,i=n?n.Ra:this.Ra,o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),y=yf(this.query,p)?p:null,D=!!m&&this.mutatedKeys.has(m.key),P=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),x=!1;m&&y?m.data.isEqual(y.data)?D!==P&&(r.track({type:3,doc:y}),x=!0):this.ga(m,y)||(r.track({type:2,doc:y}),x=!0,(u&&this.Aa(y,u)>0||l&&this.Aa(y,l)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),x=!0):m&&!y&&(r.track({type:1,doc:m}),x=!0,(u||l)&&(a=!0)),x&&(y?(s=s.add(y),o=P?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let s=e.fa.G_();s.sort((h,p)=>function(y,D){let P=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ne()}};return P(y)-P(D)}(h.type,p.type)||this.Aa(h.doc,p.doc)),this.pa(r),i=i!=null&&i;let a=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,s.length!==0||l?{snapshot:new ca(this.query,e.Ra,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new nf,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=_e(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let n=[];return e.forEach(r=>{this.da.has(r)||n.push(new of(r))}),this.da.forEach(r=>{e.has(r)||n.push(new rf(r))}),n}ba(e){this.Ta=e.Ts,this.da=_e();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return ca.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},l0=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},d0=class{constructor(e){this.key=e,this.va=!1}},h0=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Si(a=>tM(a),mf),this.Ma=new Map,this.xa=new Set,this.Oa=new Xe(X.comparator),this.Na=new Map,this.La=new su,this.Ba={},this.ka=new Map,this.qa=ou.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function s$(t,e,n=!0){return S(this,null,function*(){let r=OM(t),i,o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=yield MM(r,e,n,!0),i})}function a$(t,e){return S(this,null,function*(){let n=OM(t);yield MM(n,e,!0,!1)})}function MM(t,e,n,r){return S(this,null,function*(){let i=yield $B(t.localStore,rr(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n),a;return r&&(a=yield c$(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&CM(t.remoteStore,i),a})}function c$(t,e,n,r,i){return S(this,null,function*(){t.Ka=(p,m,y)=>function(P,x,F,K){return S(this,null,function*(){let q=x.view.ma(F);q.ns&&(q=yield PA(P.localStore,x.query,!1).then(({documents:E})=>x.view.ma(E,q)));let Y=K&&K.targetChanges.get(x.targetId),Ne=K&&K.targetMismatches.get(x.targetId)!=null,ee=x.view.applyChanges(q,P.isPrimaryClient,Y,Ne);return VA(P,x.targetId,ee.wa),ee.snapshot})}(t,p,m,y);let o=yield PA(t.localStore,e,!0),s=new u0(e,o.Ts),a=s.ma(o.documents),u=ru.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(a,t.isPrimaryClient,u);VA(t,n,l.wa);let h=new l0(e,n,s);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),l.snapshot})}function u$(t,e,n){return S(this,null,function*(){let r=ae(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!mf(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield K_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&P0(r.remoteStore,i.targetId),f0(r,i.targetId)}).catch(du))):(f0(r,i.targetId),yield K_(r.localStore,i.targetId,!0))})}function l$(t,e){return S(this,null,function*(){let n=ae(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),P0(n.remoteStore,r.targetId))})}function d$(t,e,n){return S(this,null,function*(){let r=v$(t);try{let i=yield function(s,a){let u=ae(s),l=Ct.now(),h=a.reduce((y,D)=>y.add(D.key),_e()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let D=Br(),P=_e();return u.cs.getEntries(y,h).next(x=>{D=x,D.forEach((F,K)=>{K.isValidDocument()||(P=P.add(F))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,D)).next(x=>{p=x;let F=[];for(let K of a){let q=mB(K,p.get(K.key).overlayedDocument);q!=null&&F.push(new ar(K.key,q,QA(q.value.mapValue),Vr.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,F,a)}).next(x=>{m=x;let F=x.applyToLocalDocumentSet(p,P);return u.documentOverlayCache.saveOverlays(y,x.batchId,F)})}).then(()=>({batchId:m.batchId,changes:iM(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let l=s.Ba[s.currentUser.toKey()];l||(l=new Xe(Te)),l=l.insert(a,u),s.Ba[s.currentUser.toKey()]=l}(r,i.batchId,n),yield pu(r,i.changes),yield wf(r.remoteStore)}catch(i){let o=F0(i,"Failed to persist write");n.reject(o)}})}function xM(t,e){return S(this,null,function*(){let n=ae(t);try{let r=yield jB(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Na.get(o);s&&(Pe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?Pe(s.va):i.removedDocuments.size>0&&(Pe(s.va),s.va=!1))}),yield pu(n,r,e)}catch(r){yield du(r)}})}function FA(t,e,n){let r=ae(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((o,s)=>{let a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let u=ae(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.j_)m.Z_(a)&&(l=!0)}),l&&V0(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function h$(t,e,n){return S(this,null,function*(){let r=ae(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Na.get(e),o=i&&i.key;if(o){let s=new Xe(X.comparator);s=s.insert(o,On.newNoDocument(o,ue.min()));let a=_e().add(o),u=new zh(ue.min(),new Map,new Xe(Te),s,a);yield xM(r,u),r.Oa=r.Oa.remove(o),r.Na.delete(e),L0(r)}else yield K_(r.localStore,e,!1).then(()=>f0(r,e,n)).catch(du)})}function f$(t,e){return S(this,null,function*(){let n=ae(t),r=e.batch.batchId;try{let i=yield LB(n.localStore,e);PM(n,r,null),RM(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield pu(n,i)}catch(i){yield du(i)}})}function p$(t,e,n){return S(this,null,function*(){let r=ae(t);try{let i=yield function(s,a){let u=ae(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(Pe(p!==null),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);PM(r,e,n),RM(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield pu(r,i)}catch(i){yield du(i)}})}function RM(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function PM(t,e,n){let r=ae(t),i=r.Ba[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function f0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||NM(t,r)})}function NM(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(P0(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),L0(t))}function VA(t,e,n){for(let r of n)r instanceof rf?(t.La.addReference(r.key,e),g$(t,r)):r instanceof of?(z("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||NM(t,r.key)):ne()}function g$(t,e){let n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(z("SyncEngine","New document in limbo: "+n),t.xa.add(r),L0(t))}function L0(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new X(Ze.fromString(e)),r=t.qa.next();t.Na.set(r,new d0(n)),t.Oa=t.Oa.insert(n,r),CM(t.remoteStore,new iu(rr(M0(n.path)),r,"TargetPurposeLimboResolution",qA.oe))}}function pu(t,e,n){return S(this,null,function*(){let r=ae(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{s.push(r.Ka(u,e,n).then(l=>{var h;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=n?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=z_.Wi(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.Ca.d_(i),yield function(u,l){return S(this,null,function*(){let h=ae(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>V.forEach(l,m=>V.forEach(m.$i,y=>h.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>V.forEach(m.Ui,y=>h.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!hu(p))throw p;z("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let y=h.os.get(m),D=y.snapshotVersion,P=y.withLastLimboFreeSnapshotVersion(D);h.os=h.os.insert(m,P)}}})}(r.localStore,o))})}function m$(t,e){return S(this,null,function*(){let n=ae(t);if(!n.currentUser.isEqual(e)){z("SyncEngine","User change. New user:",e.toKey());let r=yield EM(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(u=>{u.reject(new Q(O.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield pu(n,r.hs)}})}function y$(t,e){let n=ae(t),r=n.Na.get(e);if(r&&r.va)return _e().add(r.key);{let i=_e(),o=n.Ma.get(e);if(!o)return i;for(let s of o){let a=n.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function OM(t){let e=ae(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=xM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=y$.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=h$.bind(null,e),e.Ca.d_=i$.bind(null,e.eventManager),e.Ca.$a=o$.bind(null,e.eventManager),e}function v$(t){let e=ae(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=f$.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=p$.bind(null,e),e}var LA=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return S(this,null,function*(){this.serializer=vf(n.databaseInfo.databaseId),this.sharedClientState=this.Wa(n),this.persistence=this.Ga(n),yield this.persistence.start(),this.localStore=this.za(n),this.gcScheduler=this.ja(n,this.localStore),this.indexBackfillerScheduler=this.Ha(n,this.localStore)})}ja(n,r){return null}Ha(n,r){return null}za(n){return VB(this.persistence,new G_,n.initialUser,this.serializer)}Ga(n){return new B_(H_.Zr,this.serializer)}Wa(n){return new Q_}terminate(){return S(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})();var _$=(()=>{class t{initialize(n,r){return S(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>FA(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=m$.bind(null,this.syncEngine),yield t$(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new s0}()}createDatastore(n){let r=vf(n.databaseInfo.databaseId),i=function(s){return new Z_(s)}(n.databaseInfo);return function(s,a,u,l){return new t0(s,a,u,l)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,o,s,a,u){return new r0(i,o,s,a,u)}(this.localStore,this.datastore,n.asyncQueue,r=>FA(this.syncEngine,r,0),function(){return Jh.D()?new Jh:new Y_}())}createSyncEngine(n,r){return function(o,s,a,u,l,h,p){let m=new h0(o,s,a,u,l,h);return p&&(m.Qa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return S(this,null,function*(){var n,r;yield function(o){return S(this,null,function*(){let s=ae(o);z("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield fu(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var p0=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):jr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var g0=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=yt.UNAUTHENTICATED,this.clientId=Lh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>S(this,null,function*(){z("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(z("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Fr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>S(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=F0(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function qv(t,e){return S(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),z("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>S(this,null,function*(){r.isEqual(i)||(yield EM(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function jA(t,e){return S(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield w$(t);z("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>NA(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>NA(e.remoteStore,i)),t._onlineComponents=e})}function w$(t){return S(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){z("FirestoreClient","Using user provided OfflineComponentProvider");try{yield qv(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===O.FAILED_PRECONDITION||i.code===O.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Js("Error using user provided cache. Falling back to memory cache: "+n),yield qv(t,new LA)}}else z("FirestoreClient","Using default OfflineComponentProvider"),yield qv(t,new LA);return t._offlineComponents})}function kM(t){return S(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(z("FirestoreClient","Using user provided OnlineComponentProvider"),yield jA(t,t._uninitializedComponentsProvider._online)):(z("FirestoreClient","Using default OnlineComponentProvider"),yield jA(t,new _$))),t._onlineComponents})}function E$(t){return kM(t).then(e=>e.syncEngine)}function UA(t){return S(this,null,function*(){let e=yield kM(t),n=e.eventManager;return n.onListen=s$.bind(null,e.syncEngine),n.onUnlisten=u$.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=a$.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=l$.bind(null,e.syncEngine),n})}function FM(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var BA=new Map;function VM(t,e,n){if(!n)throw new Q(O.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function I$(t,e,n,r){if(e===!0&&r===!0)throw new Q(O.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function $A(t){if(!X.isDocumentKey(t))throw new Q(O.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function HA(t){if(X.isDocumentKey(t))throw new Q(O.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function j0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ne()}function Lr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Q(O.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=j0(t);throw new Q(O.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var sf=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Q(O.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Q(O.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}I$("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=FM((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Q(O.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Q(O.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Q(O.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},ua=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sf({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Q(O.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Q(O.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sf(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Gv;switch(r.type){case"firstParty":return new Yv(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Q(O.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return S(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=BA.get(n);r&&(z("ComponentProvider","Removing Datastore"),BA.delete(n),r.terminate())}(this),Promise.resolve()}};function LM(t,e,n,r={}){var i;let o=(t=Lr(t,ua))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Js("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=yt.MOCK_USER;else{a=TT(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new Q(O.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new yt(l)}t._authCredentials=new Wv(new Vh(a,u))}}var af=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Yt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Di(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Di=class t extends af{constructor(e,n,r){super(e,n,M0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Yt(this.firestore,null,new X(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function jM(t,e,...n){if(t=It(t),VM("collection","path",e),t instanceof ua){let r=Ze.fromString(e,...n);return HA(r),new Di(t,null,r)}{if(!(t instanceof Yt||t instanceof Di))throw new Q(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ze.fromString(e,...n));return HA(r),new Di(t.firestore,null,r)}}function UM(t,e,...n){if(t=It(t),arguments.length===1&&(e=Lh.newId()),VM("doc","path",e),t instanceof ua){let r=Ze.fromString(e,...n);return $A(r),new Yt(t,null,new X(r))}{if(!(t instanceof Yt||t instanceof Di))throw new Q(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ze.fromString(e,...n));return $A(r),new Yt(t.firestore,t instanceof Di?t.converter:null,new X(r))}}var cf=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Zh(this,"async_queue_retry"),this.Vu=()=>{let r=zv();r&&z("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let n=zv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let n=zv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let n=new Fr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return S(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!hu(e))throw e;z("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw jr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);let i=i0.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&ne()}verifyOperationInProgress(){}wu(){return S(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let n=this.Tu.indexOf(e);this.Tu.splice(n,1)}};function zA(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}var Mi=class extends ua{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new cf,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return S(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new cf(e),this._firestoreClient=void 0,yield e}})}};function BM(t,e){let n=typeof t=="object"?t:so(),r=typeof t=="string"?t:e||"(default)",i=Rs(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=bT("firestore");o&&LM(i,...o)}return i}function $M(t){if(t._terminated)throw new Q(O.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||C$(t),t._firestoreClient}function C$(t){var e,n,r;let i=t._freezeSettings(),o=function(a,u,l,h){return new t_(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,FM(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new g0(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(t._componentsProvider))}var au=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Ot.fromBase64String(e))}catch(n){throw new Q(O.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Ot.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var la=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Q(O.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var cu=class{constructor(e){this._methodName=e}};var uu=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Q(O.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Q(O.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Te(this._lat,e._lat)||Te(this._long,e._long)}};var lu=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var b$=/^__.*__$/,m0=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ar(e,this.data,this.fieldMask,n,this.fieldTransforms):new Do(e,this.data,n,this.fieldTransforms)}},uf=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ar(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function HM(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ne()}}var y0=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return df(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(HM(this.Cu)&&b$.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},v0=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||vf(e)}Qu(e,n,r,i=!1){return new y0({Cu:e,methodName:n,qu:r,path:cn.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function zM(t){let e=t._freezeSettings(),n=vf(t._databaseId);return new v0(t._databaseId,!!e.ignoreUndefinedProperties,n)}function D$(t,e,n,r,i,o={}){let s=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);U0("Data must be an object, but it was:",s,r);let a=qM(r,s),u,l;if(o.merge)u=new _n(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let m=_0(e,p,n);if(!s.contains(m))throw new Q(O.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);WM(h,m)||h.push(m)}u=new _n(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new m0(new an(a),u,l)}var lf=class t extends cu{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function T$(t,e,n,r){let i=t.Qu(1,e,n);U0("Data must be an object, but it was:",i,r);let o=[],s=an.empty();To(r,(u,l)=>{let h=B0(e,u,n);l=It(l);let p=i.Nu(h);if(l instanceof lf)o.push(h);else{let m=Ef(l,p);m!=null&&(o.push(h),s.set(h,m))}});let a=new _n(o);return new uf(s,a,i.fieldTransforms)}function S$(t,e,n,r,i,o){let s=t.Qu(1,e,n),a=[_0(e,r,n)],u=[i];if(o.length%2!=0)throw new Q(O.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<o.length;m+=2)a.push(_0(e,o[m])),u.push(o[m+1]);let l=[],h=an.empty();for(let m=a.length-1;m>=0;--m)if(!WM(l,a[m])){let y=a[m],D=u[m];D=It(D);let P=s.Nu(y);if(D instanceof lf)l.push(y);else{let x=Ef(D,P);x!=null&&(l.push(y),h.set(y,x))}}let p=new _n(l);return new uf(h,p,s.fieldTransforms)}function Ef(t,e){if(GM(t=It(t)))return U0("Unsupported field value:",e,t),qM(t,e);if(t instanceof cu)return function(r,i){if(!HM(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let u=Ef(a,i.Lu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=It(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return dB(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=Ct.fromDate(r);return{timestampValue:Kh(i.serializer,o)}}if(r instanceof Ct){let o=new Ct(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Kh(i.serializer,o)}}if(r instanceof uu)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof au)return{bytesValue:pM(i.serializer,r._byteString)};if(r instanceof Yt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:R0(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof lu)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.Bu("VectorValues must only contain numeric values.");return x0(a.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${j0(r)}`)}(t,e)}function qM(t,e){let n={};return GA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):To(t,(r,i)=>{let o=Ef(i,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function GM(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ct||t instanceof uu||t instanceof au||t instanceof Yt||t instanceof cu||t instanceof lu)}function U0(t,e,n){if(!GM(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=j0(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function _0(t,e,n){if((e=It(e))instanceof la)return e._internalPath;if(typeof e=="string")return B0(t,e);throw df("Field path arguments must be of type string or ",t,!1,void 0,n)}var A$=new RegExp("[~\\*/\\[\\]]");function B0(t,e,n){if(e.search(A$)>=0)throw df(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new la(...e.split("."))._internalPath}catch{throw df(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function df(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new Q(O.INVALID_ARGUMENT,a+t+u)}function WM(t,e){return t.some(n=>n.isEqual(e))}var hf=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new w0(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(KM("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},w0=class extends hf{data(){return super.data()}};function KM(t,e){return typeof e=="string"?B0(t,e):e instanceof la?e._internalPath:e._delegate._internalPath}function M$(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Q(O.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var E0=class{convertValue(e,n="none"){switch(Io(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ze(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ti(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ne()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return To(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;let o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>ze(s.doubleValue));return new lu(o)}convertGeoPoint(e){return new uu(ze(e.latitude),ze(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=D0(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(eu(e));default:return null}}convertTimestamp(e){let n=Ur(e);return new Ct(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Ze.fromString(e);Pe(wM(r));let i=new $h(r.get(1),r.get(3)),o=new X(r.popFirst(5));return i.isEqual(n)||jr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function x$(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var _o=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},ff=class extends hf{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Ys(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(KM("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},Ys=class extends ff{data(e={}){return super.data(e)}},I0=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new _o(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ys(this._firestore,this._userDataWriter,r.key,r,new _o(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Q(O.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new Ys(i._firestore,i._userDataWriter,a.doc.key,a.doc,new _o(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new Ys(i._firestore,i._userDataWriter,a.doc.key,a.doc,new _o(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:R$(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function R$(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ne()}}var pf=class extends E0{constructor(e){super(),this.firestore=e}convertBytes(e){return new au(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Yt(this.firestore,null,n)}};function QM(t,e,n){t=Lr(t,Yt);let r=Lr(t.firestore,Mi),i=x$(t.converter,e,n);return H0(r,[D$(zM(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Vr.none())])}function YM(t,e,n,...r){t=Lr(t,Yt);let i=Lr(t.firestore,Mi),o=zM(i),s;return s=typeof(e=It(e))=="string"||e instanceof la?S$(o,"updateDoc",t._key,e,n,r):T$(o,"updateDoc",t._key,e),H0(i,[s.toMutation(t._key,Vr.exists(!0))])}function JM(t){return H0(Lr(t.firestore,Mi),[new nu(t._key,Vr.none())])}function $0(t,...e){var n,r,i;t=It(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||zA(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(zA(e[s])){let p=e[s];e[s]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(t instanceof Yt)l=Lr(t.firestore,Mi),h=M0(t._key.path),u={next:p=>{e[s]&&e[s](P$(l,t,p))},error:e[s+1],complete:e[s+2]};else{let p=Lr(t,af);l=Lr(p.firestore,Mi),h=p._query;let m=new pf(l);u={next:y=>{e[s]&&e[s](new I0(l,m,p,y))},error:e[s+1],complete:e[s+2]},M$(t._query)}return function(m,y,D,P){let x=new p0(P),F=new c0(y,x,D);return m.asyncQueue.enqueueAndForget(()=>S(this,null,function*(){return n$(yield UA(m),F)})),()=>{x.Za(),m.asyncQueue.enqueueAndForget(()=>S(this,null,function*(){return r$(yield UA(m),F)}))}}($M(l),h,a,u)}function H0(t,e){return function(r,i){let o=new Fr;return r.asyncQueue.enqueueAndForget(()=>S(this,null,function*(){return d$(yield E$(r),i,o)})),o.promise}($M(t),e)}function P$(t,e,n){let r=n.docs.get(e._key),i=new pf(t);return new ff(t,i,e._key,r,new _o(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){da=i})(Ns),Pn(new zt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Mi(new Kv(r.getProvider("auth-internal")),new Zv(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new Q(O.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $h(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Je(hA,"4.7.3",e),Je(hA,"4.7.3","esm2017")})();var If=function(){return If=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},If.apply(this,arguments)};var k$={includeMetadataChanges:!1};function z0(t,e){return e===void 0&&(e=k$),new le(function(n){var r=$0(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function ZM(t){return z0(t,{includeMetadataChanges:!0})}function XM(t,e){return e===void 0&&(e={}),ZM(t).pipe(te(function(n){return q0(n,e)}))}function q0(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:If(If({},r),(n={},n[e.idField]=t.id,n))}function ex(t){return z0(t,{includeMetadataChanges:!0}).pipe(te(function(e){return e.docs}))}function tx(t,e){return e===void 0&&(e={}),ex(t).pipe(te(function(n){return n.map(function(r){return q0(r,e)})}))}var $r=class{constructor(e){return e}},nx="firestore",G0=class{constructor(){return ks(nx)}};var W0=new $("angularfire2.firestore-instances");function F$(t,e){let n=xc(nx,t,e);return n&&new $r(n)}function V$(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new $r(r)}}var L$={provide:G0,deps:[[new Ut,W0]]},j$={provide:$r,useFactory:F$,deps:[[new Ut,W0],Or]};function rx(t,...e){return Je("angularfire",Ii.full,"fst"),Dn([j$,L$,{provide:W0,useFactory:V$(t),multi:!0,deps:[De,_t,uo,lo,[new Ut,xh],[new Ut,co],...e]}])}var gu=qt(tx,!0);var ix=qt(XM,!0);var fa=qt(jM,!0);var ox=qt(JM,!0);var Ao=qt(UM,!0);var sx=qt(BM,!0);var Cf=qt(QM,!0);var ax=qt(YM,!0);var pa=(()=>{let e=class e{constructor(r){this.firestore=r,this.collectionName="products",this.commentsCollectionName="comments"}getProducts(){let r=fa(this.firestore,this.collectionName);return gu(r,{idField:"id"})}getProductById(r){let i=Ao(this.firestore,`${this.collectionName}/${r}`);return ix(i,{idField:"id"})}getComments(r){let i=fa(this.firestore,`${this.collectionName}/${r}/${this.commentsCollectionName}`);return gu(i,{idField:"id"})}addComment(r,i){let o=["\u043A\u043E\u043A\u043E\u0441","\u0431\u0430\u043D\u0430\u043D","\u043F\u043E\u0433\u0430\u043D\u0438\u0439","@"],s=i.replace(new RegExp(`\\b(${o.join("|")})\\b`,"gi"),l=>"*".repeat(l.length)),a=fa(this.firestore,`${this.collectionName}/${r}/${this.commentsCollectionName}`),u=Ao(a);return Cf(u,{text:s,timestamp:new Date().toISOString()})}};e.\u0275fac=function(i){return new(i||e)(W($r))},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ux=t=>({disabled:t}),U$=t=>({active:t});function B$(t,e){if(t&1){let n=$t();T(0,"div",13)(1,"div",14),he(2,"img",15),T(3,"div",16)(4,"h5",17),N(5),M(),T(6,"p",18),N(7),M(),T(8,"button",19),Z("click",function(){let i=oe(n).$implicit,o=ie();return se(o.viewProduct(i.id))}),N(9,"\u041F\u0435\u0440\u0435\u0439\u0442\u0438 \u0434\u043E \u0442\u043E\u0432\u0430\u0440\u0443"),M()()()()}if(t&2){let n=e.$implicit,r=ie();U(2),Kn("alt",n.name),me("src",n.imageUrl,Gn),U(3),Ve(n.name),U(2),br("",n.price," ",r.currency,"")}}function $$(t,e){if(t&1){let n=$t();T(0,"li",8)(1,"a",20),Z("click",function(){let i=oe(n).$implicit,o=ie();return se(o.changePage(i))}),N(2),M()()}if(t&2){let n=e.$implicit,r=ie();me("ngClass",ad(2,U$,n===r.currentPage)),U(2),Ve(n)}}var lx=(()=>{let e=class e{constructor(r,i){this.productService=r,this.router=i,this.products=[],this.filteredProducts=[],this.searchText="",this.currency="$",this.itemsPerPage=5,this.currentPage=1,this.totalPages=1,this.pages=[],this.categories=["\u041B\u0456\u0445\u0442\u0430\u0440\u0438\u043A\u0438","\u0420\u043E\u0437\u0443\u043C\u043D\u0456 \u0433\u043E\u0434\u0438\u043D\u043D\u0438\u043A\u0438","\u041D\u0430\u0432\u0443\u0448\u043D\u0438\u043A\u0438","\u0422\u0443\u0440\u0438\u0441\u0442\u0438\u0447\u043D\u0456 \u041A\u0430\u043C\u0435\u0440\u0438","\u041D\u0430\u043C\u0435\u0442\u0438"],this.selectedCategory="all"}ngOnInit(){this.loadProducts()}loadProducts(){this.productService.getProducts().subscribe(r=>{console.log("\u041E\u0442\u0440\u0438\u043C\u0430\u043D\u0456 \u043F\u0440\u043E\u0434\u0443\u043A\u0442\u0438:",r),this.products=r,this.applyFilters()})}getPaginatedProducts(){let r=(this.currentPage-1)*this.itemsPerPage,i=this.currentPage*this.itemsPerPage;return this.filteredProducts.slice(r,i)}updatePagination(){this.totalPages=Math.ceil(this.filteredProducts.length/this.itemsPerPage),this.pages=Array.from({length:this.totalPages},(r,i)=>i+1)}onSearchTextChange(){this.applyFilters(),this.updatePagination(),this.currentPage=1}filterByCategory(r){this.selectedCategory=r,this.applyFilters(),this.updatePagination(),this.currentPage=1}applyFilters(){let r=this.products;this.selectedCategory!=="all"&&(r=r.filter(i=>i.category===this.selectedCategory)),this.searchText&&(r=r.filter(i=>i.name.toLowerCase().includes(this.searchText.toLowerCase()))),this.filteredProducts=r,this.updatePagination()}changePage(r){r>=1&&r<=this.totalPages&&(this.currentPage=r)}viewProduct(r){this.router.navigate([`/product/${r}`])}};e.\u0275fac=function(i){return new(i||e)(B(pa),B(gt))},e.\u0275cmp=Qe({type:e,selectors:[["app-home"]],standalone:!0,features:[Ye],decls:30,vars:13,consts:[[1,"container-fluid","mt-4"],["type","search","placeholder","\u0424\u0456\u043B\u044C\u0442\u0440 \u0437\u0430 \u043D\u0430\u0437\u0432\u043E\u044E","aria-label","Search",1,"form-control","mb-4","mt-4",3,"ngModelChange","ngModel"],[1,"text-center","mb-4"],[1,"btn","btn-outline-primary",3,"click"],[1,"row"],["class","col-12 col-md-2 mb-4",4,"ngFor","ngForOf"],["aria-label","Page navigation"],[1,"pagination","justify-content-center"],[1,"page-item",3,"ngClass"],["aria-label","Previous",1,"page-link",3,"click"],["aria-hidden","true"],["class","page-item",3,"ngClass",4,"ngFor","ngForOf"],["aria-label","Next",1,"page-link",3,"click"],[1,"col-12","col-md-2","mb-4"],[1,"card"],[1,"card-img-top",3,"src","alt"],[1,"card-body","text-center"],[1,"card-title"],[1,"card-text"],[1,"btn","btn-primary",3,"click"],[1,"page-link",3,"click"]],template:function(i,o){i&1&&(T(0,"div",0),he(1,"app-carousel"),T(2,"input",1),He("ngModelChange",function(a){return qe(o.searchText,a)||(o.searchText=a),a}),Z("ngModelChange",function(){return o.onSearchTextChange()}),M(),T(3,"div",2)(4,"button",3),Z("click",function(){return o.filterByCategory("all")}),N(5,"\u0423\u0441\u0456"),M(),T(6,"button",3),Z("click",function(){return o.filterByCategory("\u041B\u0456\u0445\u0442\u0430\u0440\u0438\u043A\u0438")}),N(7,"\u041B\u0456\u0445\u0442\u0430\u0440\u0438\u043A\u0438"),M(),T(8,"button",3),Z("click",function(){return o.filterByCategory("\u0420\u043E\u0437\u0443\u043C\u043D\u0456 \u0413\u043E\u0434\u0438\u043D\u043D\u0438\u043A\u0438")}),N(9,"\u0420\u043E\u0437\u0443\u043C\u043D\u0456 \u0413\u043E\u0434\u0438\u043D\u043D\u0438\u043A\u0438"),M(),T(10,"button",3),Z("click",function(){return o.filterByCategory("\u041D\u0430\u0432\u0443\u0448\u043D\u0438\u043A\u0438")}),N(11,"\u041D\u0430\u0432\u0443\u0448\u043D\u0438\u043A\u0438"),M(),T(12,"button",3),Z("click",function(){return o.filterByCategory("\u0422\u0443\u0440\u0438\u0441\u0442\u0438\u0447\u043D\u0456 \u041A\u0430\u043C\u0435\u0440\u0438")}),N(13,"\u0422\u0443\u0440\u0438\u0441\u0442\u0438\u0447\u043D\u0456 \u041A\u0430\u043C\u0435\u0440\u0438"),M(),T(14,"button",3),Z("click",function(){return o.filterByCategory("\u041D\u0430\u043C\u0435\u0442\u0438")}),N(15,"\u041D\u0430\u043C\u0435\u0442\u0438"),M()(),T(16,"div",4),et(17,B$,10,5,"div",5),cd(18,"slice"),M(),T(19,"nav",6)(20,"ul",7)(21,"li",8)(22,"a",9),Z("click",function(){return o.changePage(o.currentPage-1)}),T(23,"span",10),N(24,"\xAB"),M()()(),et(25,$$,3,4,"li",11),T(26,"li",8)(27,"a",12),Z("click",function(){return o.changePage(o.currentPage+1)}),T(28,"span",10),N(29,"\xBB"),M()()()()()()),i&2&&(U(2),$e("ngModel",o.searchText),U(15),me("ngForOf",Mb(18,5,o.getPaginatedProducts(),0,5)),U(4),me("ngClass",ad(9,ux,o.currentPage===1)),U(4),me("ngForOf",o.pages),U(),me("ngClass",ad(11,ux,o.currentPage===o.totalPages)))},dependencies:[Et,Xb,fi,nD,er,vn,Xn,Nn,qS],styles:[".card[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;height:100%;border:1px solid #ddd;border-radius:.375rem;overflow:hidden}.card-img-top[_ngcontent-%COMP%]{height:150px;object-fit:cover}.card-body[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center;text-align:center}.card-title[_ngcontent-%COMP%]{font-size:1rem}.card-text[_ngcontent-%COMP%]{font-size:.875rem}.carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:50vh;object-fit:cover}.btn-outline-primary[_ngcontent-%COMP%]{margin:.25rem}.pagination[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{padding:.5rem 1rem}.page-link[_ngcontent-%COMP%]{cursor:pointer}@media (max-width: 576px){.card-img-top[_ngcontent-%COMP%]{height:120px}.carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:40vh}}@media (min-width: 992px){.col-md-2[_ngcontent-%COMP%]{flex:0 0 20%;max-width:20%}}"]});let t=e;return t})();function H$(t,e){if(t&1){let n=$t();T(0,"div",27),he(1,"img",28),T(2,"div",29)(3,"h4",30),N(4),M(),T(5,"p",31),N(6),M(),T(7,"div",32)(8,"button",33),Z("click",function(){let i=oe(n).$implicit,o=ie();return se(o.decreaseQuantity(i.product.id))}),N(9,"-"),M(),T(10,"span",34),N(11),M(),T(12,"button",33),Z("click",function(){let i=oe(n).$implicit,o=ie();return se(o.increaseQuantity(i.product.id))}),N(13,"+"),M(),T(14,"div",7)(15,"p",35),N(16),M()(),T(17,"button",36),Z("click",function(){let i=oe(n).$implicit,o=ie();return se(o.removeFromCart(i.product.id))}),N(18,"\u041F\u0440\u0438\u0431\u0440\u0430\u0442\u0438"),M()()()()}if(t&2){let n=e.$implicit,r=ie();U(),Kn("alt",n.product.name),me("src",n.product.imageUrl,Gn),U(3),Ve(n.product.name),U(2),br("",n.product.price," ",r.currency,""),U(5),Ve(n.quantity),U(5),br("\u0417\u0430\u0433\u0430\u043B\u044C\u043D\u0430 \u0441\u0443\u043C\u0430: ",r.totalAmount," ",r.currency,"")}}function z$(t,e){t&1&&(T(0,"small",37),N(1,"\u041D\u0435\u043A\u043E\u0440\u0435\u043A\u0442\u043D\u0438\u0439 \u0444\u043E\u0440\u043C\u0430\u0442. \u0412\u0438\u043A\u043E\u0440\u0438\u0441\u0442\u043E\u0432\u0443\u0439\u0442\u0435 \u0442\u0456\u043B\u044C\u043A\u0438 \u0431\u0443\u043A\u0432\u0438."),M())}function q$(t,e){if(t&1&&(T(0,"small",37),N(1),M()),t&2){ie();let n=Ya(17);U(),Ve(n.errors==null?null:n.errors.customError)}}function G$(t,e){if(t&1&&(T(0,"option",38),N(1),M()),t&2){let n=e.$implicit;me("value",n),U(),Ve(n)}}function W$(t,e){if(t&1){let n=$t();T(0,"div",39),Z("click",function(){oe(n);let i=ie();return se(i.closeConfirmation())}),T(1,"div",40),Z("click",function(i){return oe(n),se(i.stopPropagation())}),T(2,"p",41),N(3,"\u0412\u0430\u0448 \u0442\u043E\u0432\u0430\u0440 \u043E\u0444\u043E\u0440\u043C\u043B\u0435\u043D\u0438\u0439, \u0434\u044F\u043A\u0443\u0454\u043C\u043E \u0437\u0430 \u043F\u043E\u043A\u0443\u043F\u043A\u0443!"),M(),T(4,"button",42),Z("click",function(){oe(n);let i=ie();return se(i.closeConfirmation())}),N(5,"\u0417\u0430\u043A\u0440\u0438\u0442\u0438"),M()()()}}var dx=(()=>{let e=class e{constructor(r){this.cartService=r,this.cartItems=[],this.totalAmount=0,this.currency="$",this.showConfirmation=!1,this.order={recipientName:"",phone:"",delivery:"",payment:""},this.branches=["\u0412\u0456\u0434\u0434\u0456\u043B\u0435\u043D\u043D\u044F 1","\u0412\u0456\u0434\u0434\u0456\u043B\u0435\u043D\u043D\u044F 2"]}ngOnInit(){this.updateCart()}increaseQuantity(r){this.cartService.increaseQuantity(r),this.updateCart()}decreaseQuantity(r){this.cartService.decreaseQuantity(r),this.updateCart()}removeFromCart(r){this.cartService.removeFromCart(r),this.updateCart()}checkout(){this.cartService.checkout().subscribe(()=>{this.cartItems=[],this.totalAmount=0},r=>{console.error("Checkout error",r)})}submitOrder(){this.validateOrder()&&this.cartService.checkout().subscribe(()=>{this.showConfirmation=!0,this.cartItems=[],this.totalAmount=0,this.order={recipientName:"",phone:"",delivery:"",payment:""}},r=>{console.error("Checkout error",r)})}closeConfirmation(){this.showConfirmation=!1}formatPhone(r){let i=r.replace(/[^\d]/g,"");return i.length===12?`+${i}`:i}onPhoneInput(r){let i=r.target,o=i.value,s=o.replace(/[^\d]/g,"");s.length>12&&(o=s.slice(0,12)),i.value=this.formatPhone(o),this.order.phone=i.value}validatePhone(){let r=/^\+\d{12}$/;return this.order.phone.replace(/[^\d]/g,"").length!==12?"\u041D\u0435\u043A\u043E\u0440\u0435\u043A\u0442\u043D\u0438\u0439 \u0444\u043E\u0440\u043C\u0430\u0442 \u0442\u0435\u043B\u0435\u0444\u043E\u043D\u0443. \u0412\u0432\u0435\u0434\u0456\u0442\u044C 12 \u0446\u0438\u0444\u0440.":r.test(this.order.phone)?null:"\u041D\u0435\u043A\u043E\u0440\u0435\u043A\u0442\u043D\u0438\u0439 \u0444\u043E\u0440\u043C\u0430\u0442 \u0442\u0435\u043B\u0435\u0444\u043E\u043D\u0443. \u0412\u0438\u043A\u043E\u0440\u0438\u0441\u0442\u043E\u0432\u0443\u0439\u0442\u0435 \u0444\u043E\u0440\u043C\u0430\u0442: +380000000000."}validateRecipientName(r){let i=r.target;/^[a-zA-Zа-яА-ЯіІєЄґҐ\s]*$/.test(i.value)||(i.value=i.value.replace(/[^a-zA-Zа-яА-ЯіІєЄґҐ\s]/g,""))}updateCart(){this.cartService.getCartItems().subscribe(r=>{this.cartItems=r,this.calculateTotal()})}calculateTotal(){this.totalAmount=this.cartItems.reduce((r,i)=>r+i.product.price*i.quantity,0)}validateOrder(){let r=this.validatePhone();return r?(alert(r),!1):!0}};e.\u0275fac=function(i){return new(i||e)(B(As))},e.\u0275cmp=Qe({type:e,selectors:[["app-cart"]],standalone:!0,features:[Ye],decls:43,vars:10,consts:[["orderForm","ngForm"],["recipientName","ngModel"],["phone","ngModel"],["delivery","ngModel"],["payment","ngModel"],[1,"container"],["class","cart-item d-flex align-items-center border rounded mb-3 p-3",4,"ngFor","ngForOf"],[1,"text-center","mt-4"],[1,"font-weight-bold"],[1,"mt-4",3,"ngSubmit"],[1,"form-group"],["for","recipientName"],["type","text","id","recipientName","name","recipientName","required","","placeholder","\u041F\u0440\u0456\u0437\u0432\u0438\u0449\u0435 \u0406\u043C'\u044F \u041F\u043E\u0431\u0430\u0442\u044C\u043A\u043E\u0432\u0456",1,"form-control",3,"ngModelChange","input","ngModel"],["class","text-danger",4,"ngIf"],["for","phone"],["type","tel","id","phone","name","phone","required","","placeholder","+380000000000",1,"form-control",3,"ngModelChange","input","ngModel"],["for","delivery"],["id","delivery","name","delivery","required","",1,"form-control",3,"ngModelChange","ngModel"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["for","payment"],["id","payment","name","payment","required","",1,"form-control",3,"ngModelChange","ngModel"],["value","pay-now"],["value","invoice"],["value","installments"],["type","submit",1,"btn","btn-success","btn-block",3,"disabled"],["class","confirmation-overlay",3,"click",4,"ngIf"],[1,"cart-item","d-flex","align-items-center","border","rounded","mb-3","p-3"],["id","img",1,"cart-item-image","mr-3",3,"src","alt"],[1,"cart-item-details","flex-grow-1"],[1,"cart-item-name","font-weight-bold"],[1,"cart-item-price"],[1,"quantity-control","d-flex","align-items-center"],[1,"btn","btn-outline-primary","btn-sm",3,"click"],[1,"mx-2"],["id","total",1,"font-weight-bold"],["id","btn",1,"btn","btn-danger","btn-sm","ml-3",3,"click"],[1,"text-danger"],[3,"value"],[1,"confirmation-overlay",3,"click"],[1,"confirmation-content",3,"click"],[1,"confirmation-text"],[1,"btn","btn-success",3,"click"]],template:function(i,o){if(i&1){let s=$t();T(0,"div",5),et(1,H$,19,8,"div",6),T(2,"div",7)(3,"h2",8),N(4,"\u0417\u0430\u043C\u043E\u0432\u043B\u0435\u043D\u043D\u044F"),M(),T(5,"form",9,0),Z("ngSubmit",function(){return oe(s),se(o.submitOrder())}),T(7,"div",10)(8,"label",11),N(9,"\u041E\u0442\u0440\u0438\u043C\u0443\u0432\u0430\u0447:"),M(),T(10,"input",12,1),He("ngModelChange",function(u){return oe(s),qe(o.order.recipientName,u)||(o.order.recipientName=u),se(u)}),Z("input",function(u){return oe(s),se(o.validateRecipientName(u))}),M(),et(12,z$,2,0,"small",13),M(),T(13,"div",10)(14,"label",14),N(15,"\u041C\u043E\u0431\u0456\u043B\u044C\u043D\u0438\u0439 \u0442\u0435\u043B\u0435\u0444\u043E\u043D:"),M(),T(16,"input",15,2),He("ngModelChange",function(u){return oe(s),qe(o.order.phone,u)||(o.order.phone=u),se(u)}),Z("input",function(u){return oe(s),se(o.onPhoneInput(u))}),M(),et(18,q$,2,1,"small",13),M(),T(19,"div",10)(20,"label",16),N(21,"\u0414\u043E\u0441\u0442\u0430\u0432\u043A\u0430:"),M(),T(22,"select",17,3),He("ngModelChange",function(u){return oe(s),qe(o.order.delivery,u)||(o.order.delivery=u),se(u)}),T(24,"option",18),N(25,"\u041E\u0431\u0435\u0440\u0456\u0442\u044C \u0432\u0456\u0434\u0434\u0456\u043B\u0435\u043D\u043D\u044F"),M(),et(26,G$,2,2,"option",19),M()(),T(27,"div",10)(28,"label",20),N(29,"\u041E\u043F\u043B\u0430\u0442\u0430:"),M(),T(30,"select",21,4),He("ngModelChange",function(u){return oe(s),qe(o.order.payment,u)||(o.order.payment=u),se(u)}),T(32,"option",18),N(33,"\u041E\u0431\u0435\u0440\u0456\u0442\u044C \u0441\u043F\u043E\u0441\u0456\u0431 \u043E\u043F\u043B\u0430\u0442\u0438"),M(),T(34,"option",22),N(35,"\u041E\u043F\u043B\u0430\u0442\u0438\u0442\u0438 \u0437\u0430\u0440\u0430\u0437"),M(),T(36,"option",23),N(37,"\u0411\u0435\u0437\u0433\u043E\u0442\u0456\u0432\u043A\u043E\u0432\u0438\u0439 \u0440\u0430\u0445\u0443\u043D\u043E\u043A"),M(),T(38,"option",24),N(39,"\u041E\u043F\u043B\u0430\u0442\u0430 \u0447\u0430\u0441\u0442\u0438\u043D\u0430\u043C\u0438"),M()()(),T(40,"button",25),N(41,"\u041E\u0444\u043E\u0440\u043C\u0438\u0442\u0438 \u043F\u043E\u043A\u0443\u043F\u043A\u0443"),M()()(),et(42,W$,6,0,"div",26),M()}if(i&2){let s=Ya(6),a=Ya(11),u=Ya(17);U(),me("ngForOf",o.cartItems),U(9),$e("ngModel",o.order.recipientName),U(2),me("ngIf",a.invalid&&a.touched),U(4),$e("ngModel",o.order.phone),U(2),me("ngIf",u.errors==null?null:u.errors.customError),U(4),$e("ngModel",o.order.delivery),U(4),me("ngForOf",o.branches),U(4),$e("ngModel",o.order.payment),U(10),me("disabled",!s.valid),U(2),me("ngIf",o.showConfirmation)}},dependencies:[Et,fi,pi,er,$s,vh,_h,vn,Hs,Xn,Bs,po,Nn,fo],styles:[".cart-item[_ngcontent-%COMP%]{background-color:#f9f9f9}#btn[_ngcontent-%COMP%]{width:90px}#img[_ngcontent-%COMP%]{margin:15px}#total[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px}.cart-item-image[_ngcontent-%COMP%]{width:80px;height:80px;object-fit:cover}.cart-item-name[_ngcontent-%COMP%]{font-size:1.2rem}.cart-item-price[_ngcontent-%COMP%]{font-size:1rem;color:#333}.quantity-control[_ngcontent-%COMP%]{margin-top:.5rem}.quantity-control[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:30px;height:30px}.btn-danger[_ngcontent-%COMP%]{background-color:#dc3545;border-color:#dc3545}.btn-danger[_ngcontent-%COMP%]:hover{background-color:#c82333;border-color:#bd2130}.confirmation-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center}.confirmation-content[_ngcontent-%COMP%]{background-color:#fff;padding:2rem;border-radius:5px;text-align:center;animation:_ngcontent-%COMP%_fadeIn .3s ease-in}.confirmation-text[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:1rem}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.form-control[_ngcontent-%COMP%]{border-radius:.25rem;border-color:#ced4da}.btn-success[_ngcontent-%COMP%]{background-color:#28a745;border-color:#28a745}.btn-success[_ngcontent-%COMP%]:hover{background-color:#218838;border-color:#1e7e34}.confirmation-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.confirmation-content[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:8px;text-align:center}.confirmation-text[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:20px}.container[_ngcontent-%COMP%]{padding:1rem}.cart-item[_ngcontent-%COMP%]{margin-bottom:1rem}.btn[_ngcontent-%COMP%]{width:auto}@media (max-width: 768px){.cart-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.cart-item-image[_ngcontent-%COMP%]{width:100px;height:100px}.cart-item-name[_ngcontent-%COMP%]{font-size:1rem}.cart-item-price[_ngcontent-%COMP%]{font-size:.9rem}.quantity-control[_ngcontent-%COMP%]{margin-top:1rem;flex-direction:column}.quantity-control[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:40px;height:40px}.btn-danger[_ngcontent-%COMP%], .btn-success[_ngcontent-%COMP%]{width:100%}#btn[_ngcontent-%COMP%]{width:100%;margin-top:.5rem}#img[_ngcontent-%COMP%], #total[_ngcontent-%COMP%]{margin:10px 0}.confirmation-content[_ngcontent-%COMP%]{width:90%;max-width:400px;padding:1rem}}@media (min-width: 769px) and (max-width: 1024px){.cart-item[_ngcontent-%COMP%]{flex-direction:row}.cart-item-image[_ngcontent-%COMP%]{width:100px;height:100px}.cart-item-name[_ngcontent-%COMP%]{font-size:1.1rem}.cart-item-price[_ngcontent-%COMP%]{font-size:.95rem}.quantity-control[_ngcontent-%COMP%]{margin-top:.5rem;flex-direction:row}.quantity-control[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:35px;height:35px}}"]});let t=e;return t})();function K$(t,e){if(t&1&&(T(0,"div",18)(1,"p",19),N(2),M(),T(3,"small",20),N(4),cd(5,"date"),M()()),t&2){let n=e.$implicit;U(2),Ve(n.text),U(2),Ve(Ab(5,2,n.timestamp,"dd.MM.yyyy HH:mm"))}}function Q$(t,e){if(t&1){let n=$t();T(0,"div",21),Z("click",function(){oe(n);let i=ie(2);return se(i.closeModal())}),T(1,"div",22),Z("click",function(i){return oe(n),se(i.stopPropagation())}),T(2,"div",23)(3,"h4",24),N(4,"\u041A\u043E\u0448\u0438\u043A"),M(),T(5,"button",25),Z("click",function(){oe(n);let i=ie(2);return se(i.closeModal())}),N(6,"\xD7"),M()(),T(7,"div",26)(8,"div",27),he(9,"img",28),T(10,"div",29)(11,"h5"),N(12),M(),T(13,"p",30),N(14),M(),T(15,"div",31)(16,"button",32),Z("click",function(){oe(n);let i=ie(2);return se(i.decreaseQuantity())}),N(17,"-"),M(),T(18,"span",33),N(19),M(),T(20,"button",32),Z("click",function(){oe(n);let i=ie(2);return se(i.increaseQuantity())}),N(21,"+"),M()()()(),T(22,"div",34)(23,"button",35),Z("click",function(){oe(n);let i=ie(2);return se(i.addToCart())}),N(24,"\u041E\u0444\u043E\u0440\u043C\u0438\u0442\u0438 \u0437\u0430\u043C\u043E\u0432\u043B\u0435\u043D\u043D\u044F"),M()()()()()}if(t&2){let n=ie(2);U(9),Kn("alt",n.product.name),me("src",n.product.imageUrl,Gn),U(3),Ve(n.product.name),U(2),br("\u0417\u0430\u0433\u0430\u043B\u044C\u043D\u0430 \u0441\u0443\u043C\u0430: ",n.totalPrice," ",n.currency,""),U(5),Ve(n.quantity)}}function Y$(t,e){if(t&1){let n=$t();T(0,"div",1)(1,"div",2)(2,"div",3),he(3,"img",4),M(),T(4,"div",5)(5,"h3",6),N(6),M(),T(7,"p",7),N(8,"\u0404 \u0432 \u043D\u0430\u044F\u0432\u043D\u043E\u0441\u0442\u0456"),M(),T(9,"p",8),N(10),M(),T(11,"button",9),Z("click",function(){oe(n);let i=ie();return se(i.openModal())}),N(12,"\u041A\u0443\u043F\u0438\u0442\u0438"),M(),T(13,"button",10),Z("click",function(){oe(n);let i=ie();return se(i.goBack())}),N(14,"\u041D\u0430\u0437\u0430\u0434"),M(),T(15,"h4",11),N(16,"\u041E\u043F\u0438\u0441 \u0442\u043E\u0432\u0430\u0440\u0443"),M(),T(17,"p",12),N(18),M(),T(19,"h4",13),N(20,"\u041A\u043E\u043C\u0435\u043D\u0442\u0430\u0440\u0456:"),M(),et(21,K$,6,5,"div",14),T(22,"textarea",15),He("ngModelChange",function(i){oe(n);let o=ie();return qe(o.newComment,i)||(o.newComment=i),se(i)}),M(),T(23,"button",16),Z("click",function(){oe(n);let i=ie();return se(i.addComment())}),N(24,"\u0414\u043E\u0434\u0430\u0442\u0438 \u043A\u043E\u043C\u0435\u043D\u0442\u0430\u0440"),M()()(),et(25,Q$,25,6,"div",17),M()}if(t&2){let n=ie();U(3),Kn("alt",n.product.name),me("src",n.product.imageUrl,Gn),U(3),Ve(n.product.name),U(4),br("",n.product.price," ",n.currency,""),U(8),Ve(n.product.description),U(3),me("ngForOf",n.comments),U(),$e("ngModel",n.newComment),U(3),me("ngIf",n.showModal)}}var hx=(()=>{let e=class e{constructor(r,i,o,s){this.route=r,this.productService=i,this.cartService=o,this.router=s,this.comments=[],this.newComment="",this.currency="$",this.showModal=!1,this.quantity=1}ngOnInit(){let r=this.route.snapshot.paramMap.get("id");r&&this.productService.getProductById(r).subscribe(i=>{this.product=i,this.loadComments()})}get totalPrice(){return this.product?this.product.price*this.quantity:0}openModal(){this.showModal=!0}closeModal(){this.showModal=!1}addToCart(){this.product&&(this.cartService.addToCart(this.product,this.quantity),this.closeModal(),this.router.navigate(["/cart"]))}increaseQuantity(){this.quantity++}decreaseQuantity(){this.quantity>1&&this.quantity--}goBack(){this.router.navigate(["/"])}addComment(){if(this.newComment.trim()&&this.product&&this.product.id){let r=["\u043A\u043E\u043A\u043E\u0441","\u0431\u0430\u043D\u0430\u043D","\u043F\u043E\u0433\u0430\u043D\u0438\u0439","@"],i=this.newComment.replace(new RegExp(`\\b(${r.join("|")})\\b`,"gi"),o=>"*".repeat(o.length));this.productService.addComment(this.product.id,i).then(()=>{this.comments.push({text:i,timestamp:new Date().toISOString()}),this.newComment=""})}}loadComments(){this.product&&this.product.id&&this.productService.getComments(this.product.id).subscribe(r=>{this.comments=r.sort((i,o)=>new Date(o.timestamp).getTime()-new Date(i.timestamp).getTime())})}};e.\u0275fac=function(i){return new(i||e)(B(Yn),B(pa),B(As),B(gt))},e.\u0275cmp=Qe({type:e,selectors:[["app-product"]],standalone:!0,features:[Ye],decls:1,vars:1,consts:[["class","product-container container",4,"ngIf"],[1,"product-container","container"],[1,"row"],[1,"col-md-4","d-flex","align-items-start"],[1,"product-image","img-fluid",3,"src","alt"],[1,"col-md-8"],[1,"product-name"],[1,"product-stock"],[1,"product-price"],[1,"btn","btn-success","buy-button",3,"click"],[1,"btn","btn-secondary","back-button",3,"click"],[1,"product-description-title"],[1,"product-description"],[1,"comments-title"],["class","comment",4,"ngFor","ngForOf"],["placeholder","\u041D\u0430\u043F\u0438\u0448\u0456\u0442\u044C \u0432\u0430\u0448 \u043A\u043E\u043C\u0435\u043D\u0442\u0430\u0440...",1,"form-control","comment-textarea",3,"ngModelChange","ngModel"],[1,"btn","btn-success","add-comment-button",3,"click"],["class","modal-overlay",3,"click",4,"ngIf"],[1,"comment"],[1,"comment-text"],[1,"comment-timestamp"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"modal-title"],[1,"close-button",3,"click"],[1,"modal-body"],[1,"modal-product-info"],[1,"modal-product-image",3,"src","alt"],[1,"modal-product-details"],[1,"modal-product-total"],[1,"quantity-control"],[1,"quantity-button",3,"click"],[1,"quantity"],[1,"modal-footer"],[1,"btn","btn-success",3,"click"]],template:function(i,o){i&1&&et(0,Y$,26,9,"div",0),i&2&&me("ngIf",o.product)},dependencies:[Et,fi,pi,tD,er,vn,Xn,Nn],styles:[".comment[_ngcontent-%COMP%]{margin-bottom:10px;padding:5px;border-bottom:1px solid #ddd}.comment-text[_ngcontent-%COMP%]{font-size:13px;line-height:1.4;margin:0;color:#333}.comment-timestamp[_ngcontent-%COMP%]{font-size:10px;color:#777;display:block;margin-top:2px;text-align:right;font-style:italic}.product-container[_ngcontent-%COMP%]{margin-top:20px}.product-name[_ngcontent-%COMP%]{font-weight:700;font-size:1.5rem;margin-bottom:10px}.product-stock[_ngcontent-%COMP%]{color:#28a745;font-size:.9rem;margin-bottom:15px}.product-price[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:20px}.buy-button[_ngcontent-%COMP%], .back-button[_ngcontent-%COMP%], .add-comment-button[_ngcontent-%COMP%]{margin-right:10px;transition:background-color .3s,transform .2s}.buy-button[_ngcontent-%COMP%]:hover{background-color:#218838;transform:scale(1.05)}.back-button[_ngcontent-%COMP%]:hover{background-color:#6c757d;transform:scale(1.05)}.product-description-title[_ngcontent-%COMP%], .comments-title[_ngcontent-%COMP%]{text-align:center;margin-top:20px}.product-description[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}.comment[_ngcontent-%COMP%]{border-bottom:1px solid #dee2e6;padding-bottom:10px;margin-bottom:10px}.comment-textarea[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:10px}.add-comment-button[_ngcontent-%COMP%]{margin-top:10px;transition:background-color .3s,transform .2s}.add-comment-button[_ngcontent-%COMP%]:hover{background-color:#218838;transform:scale(1.05)}.align-items-start[_ngcontent-%COMP%]{align-items:flex-start}.product-image[_ngcontent-%COMP%]{max-width:100%;border-radius:8px}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;align-items:center;justify-content:center;animation:_ngcontent-%COMP%_fadeIn .3s ease-in}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:8px;width:80%;max-width:500px;padding:20px;position:relative;animation:_ngcontent-%COMP%_scaleUp .3s ease-in-out}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.modal-title[_ngcontent-%COMP%]{font-size:1.5rem}.close-button[_ngcontent-%COMP%]{background:none;border:none;font-size:1.5rem;cursor:pointer;transition:color .3s ease}.close-button[_ngcontent-%COMP%]:hover{color:#dc3545}.modal-body[_ngcontent-%COMP%]{margin-top:15px}.modal-product-info[_ngcontent-%COMP%]{display:flex;align-items:center}.modal-product-image[_ngcontent-%COMP%]{width:80px;height:80px;object-fit:cover;margin-right:15px}.modal-product-details[_ngcontent-%COMP%]{flex:1}.modal-product-price[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700}.quantity-control[_ngcontent-%COMP%]{display:flex;align-items:center;margin-top:10px}.quantity-button[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none;padding:5px 10px;cursor:pointer}.quantity[_ngcontent-%COMP%]{margin:0 10px}.quantity-button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:20px}.btn-success[_ngcontent-%COMP%]{background-color:#28a745;border-color:#28a745}.btn-success[_ngcontent-%COMP%]:hover{background-color:#218838}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_scaleUp{0%{transform:scale(.9)}to{transform:scale(1)}}"]});let t=e;return t})();var fx=(()=>{let e=class e{constructor(r){this.firestore=r,this.productsCollection=fa(this.firestore,"products")}getProducts(){return gu(this.productsCollection,{idField:"id"})}addProduct(r){let i=Ao(this.productsCollection);return Cf(i,we(j({},r),{id:i.id}))}deleteProduct(r){let i=Ao(this.firestore,`products/${r}`);return ox(i)}updateProduct(r){let i=Ao(this.firestore,`products/${r.id}`);return ax(i,j({},r))}};e.\u0275fac=function(i){return new(i||e)(W($r))},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Z$(t,e){if(t&1&&(T(0,"option",18),N(1),M()),t&2){let n=e.$implicit;me("value",n),U(),Xi(" ",n," ")}}function X$(t,e){if(t&1){let n=$t();T(0,"form",4),Z("ngSubmit",function(){oe(n);let i=ie();return se(i.addProduct())}),T(1,"div",5)(2,"label",6),N(3,"\u041D\u0430\u0437\u0432\u0430 \u0442\u043E\u0432\u0430\u0440\u0443"),M(),T(4,"input",7),He("ngModelChange",function(i){oe(n);let o=ie();return qe(o.productName,i)||(o.productName=i),se(i)}),M()(),T(5,"div",5)(6,"label",8),N(7,"\u041E\u043F\u0438\u0441 \u0442\u043E\u0432\u0430\u0440\u0443"),M(),T(8,"textarea",9),He("ngModelChange",function(i){oe(n);let o=ie();return qe(o.productDescription,i)||(o.productDescription=i),se(i)}),M()(),T(9,"div",5)(10,"label",10),N(11,"URL \u043A\u0430\u0440\u0442\u0438\u043D\u043A\u0438 \u0442\u043E\u0432\u0430\u0440\u0443"),M(),T(12,"input",11),He("ngModelChange",function(i){oe(n);let o=ie();return qe(o.productImageUrl,i)||(o.productImageUrl=i),se(i)}),M()(),T(13,"div",5)(14,"label",12),N(15,"\u0426\u0456\u043D\u0430"),M(),T(16,"input",13),He("ngModelChange",function(i){oe(n);let o=ie();return qe(o.productPrice,i)||(o.productPrice=i),se(i)}),M()(),T(17,"div",5)(18,"label",14),N(19,"\u041A\u0430\u0442\u0435\u0433\u043E\u0440\u0456\u044F \u0442\u043E\u0432\u0430\u0440\u0443"),M(),T(20,"select",15),He("ngModelChange",function(i){oe(n);let o=ie();return qe(o.productCategory,i)||(o.productCategory=i),se(i)}),et(21,Z$,2,2,"option",16),M()(),T(22,"button",17),N(23,"\u0414\u043E\u0434\u0430\u0442\u0438 \u0442\u043E\u0432\u0430\u0440"),M()()}if(t&2){let n=ie();U(4),$e("ngModel",n.productName),U(4),$e("ngModel",n.productDescription),U(4),$e("ngModel",n.productImageUrl),U(4),$e("ngModel",n.productPrice),U(4),$e("ngModel",n.productCategory),U(),me("ngForOf",n.categories),U(),me("disabled",!n.isFormValid())}}function eH(t,e){if(t&1&&(T(0,"option",18),N(1),M()),t&2){let n=e.$implicit;me("value",n),U(),Xi(" ",n," ")}}function tH(t,e){if(t&1){let n=$t();T(0,"form",4),Z("ngSubmit",function(){oe(n);let i=ie();return se(i.updateProduct())}),T(1,"h3"),N(2,"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u0442\u043E\u0432\u0430\u0440"),M(),T(3,"div",5)(4,"label",19),N(5,"\u041D\u0430\u0437\u0432\u0430 \u0442\u043E\u0432\u0430\u0440\u0443"),M(),T(6,"input",20),He("ngModelChange",function(i){oe(n);let o=ie();return qe(o.productName,i)||(o.productName=i),se(i)}),M()(),T(7,"div",5)(8,"label",21),N(9,"\u041E\u043F\u0438\u0441 \u0442\u043E\u0432\u0430\u0440\u0443"),M(),T(10,"textarea",22),He("ngModelChange",function(i){oe(n);let o=ie();return qe(o.productDescription,i)||(o.productDescription=i),se(i)}),M()(),T(11,"div",5)(12,"label",23),N(13,"URL \u043A\u0430\u0440\u0442\u0438\u043D\u043A\u0438 \u0442\u043E\u0432\u0430\u0440\u0443"),M(),T(14,"input",24),He("ngModelChange",function(i){oe(n);let o=ie();return qe(o.productImageUrl,i)||(o.productImageUrl=i),se(i)}),M()(),T(15,"div",5)(16,"label",25),N(17,"\u0426\u0456\u043D\u0430"),M(),T(18,"input",26),He("ngModelChange",function(i){oe(n);let o=ie();return qe(o.productPrice,i)||(o.productPrice=i),se(i)}),M()(),T(19,"div",5)(20,"label",27),N(21,"\u041A\u0430\u0442\u0435\u0433\u043E\u0440\u0456\u044F \u0442\u043E\u0432\u0430\u0440\u0443"),M(),T(22,"select",28),He("ngModelChange",function(i){oe(n);let o=ie();return qe(o.productCategory,i)||(o.productCategory=i),se(i)}),et(23,eH,2,2,"option",16),M()(),T(24,"button",17),N(25,"\u041E\u043D\u043E\u0432\u0438\u0442\u0438 \u0442\u043E\u0432\u0430\u0440"),M()()}if(t&2){let n=ie();U(6),$e("ngModel",n.productName),U(4),$e("ngModel",n.productDescription),U(4),$e("ngModel",n.productImageUrl),U(4),$e("ngModel",n.productPrice),U(4),$e("ngModel",n.productCategory),U(),me("ngForOf",n.categories),U(),me("disabled",!n.isFormValid())}}function nH(t,e){if(t&1){let n=$t();T(0,"div",29),he(1,"img",30),T(2,"h4"),N(3),M(),T(4,"p"),N(5),M(),T(6,"p"),N(7),M(),T(8,"p"),N(9),M(),T(10,"button",31),Z("click",function(){let i=oe(n).$implicit,o=ie();return se(o.openEditForm(i))}),N(11,"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438"),M(),T(12,"button",32),Z("click",function(){let i=oe(n).$implicit,o=ie();return se(o.confirmDeleteProduct(i.id))}),N(13,"\u0412\u0438\u0434\u0430\u043B\u0438\u0442\u0438"),M()()}if(t&2){let n=e.$implicit;U(),Kn("alt",n.name),me("src",n.imageUrl,Gn),U(2),Ve(n.name),U(2),Ve(n.description),U(2),Xi("\u0426\u0456\u043D\u0430: ",n.price," $"),U(2),Xi("\u041A\u0430\u0442\u0435\u0433\u043E\u0440\u0456\u044F: ",n.category,"")}}function rH(t,e){if(t&1){let n=$t();T(0,"div",33)(1,"div",34)(2,"h4"),N(3,"\u041F\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0436\u0435\u043D\u043D\u044F \u0432\u0438\u0434\u0430\u043B\u0435\u043D\u043D\u044F"),M(),T(4,"p"),N(5,"\u0412\u0438 \u0432\u043F\u0435\u0432\u043D\u0435\u043D\u0456, \u0449\u043E \u0445\u043E\u0447\u0435\u0442\u0435 \u0432\u0438\u0434\u0430\u043B\u0438\u0442\u0438 \u0446\u0435\u0439 \u0442\u043E\u0432\u0430\u0440?"),M(),T(6,"button",32),Z("click",function(){oe(n);let i=ie();return i.deleteProduct(),se(i.closeModal())}),N(7,"\u0422\u0430\u043A"),M(),T(8,"button",35),Z("click",function(){oe(n);let i=ie();return se(i.closeModal())}),N(9,"\u041D\u0456"),M()()()}}var px=(()=>{let e=class e{constructor(r,i){this.adminService=r,this.productService=i,this.productName="",this.productDescription="",this.productImageUrl="",this.productPrice=null,this.productCategory="",this.products=[],this.categories=["\u041B\u0456\u0445\u0442\u0430\u0440\u0438\u043A\u0438","\u0420\u043E\u0437\u0443\u043C\u043D\u0456 \u0413\u043E\u0434\u0438\u043D\u043D\u0438\u043A\u0438","\u041D\u0430\u0432\u0443\u0448\u043D\u0438\u043A\u0438","\u0422\u0443\u0440\u0438\u0441\u0442\u0438\u0447\u043D\u0456 \u041A\u0430\u043C\u0435\u0440\u0438","\u041D\u0430\u043C\u0435\u0442\u0438"],this.showModal=!1,this.showEditForm=!1,this.productToDeleteId=null,this.productToEdit=null,this.errorMessage=null,this.selectedProductComments=[]}ngOnInit(){this.loadProducts()}loadProducts(){this.adminService.getProducts().subscribe(r=>{this.products=r},r=>{console.error("Error loading products:",r),this.errorMessage="Failed to load products. Please try again later."})}addProduct(){if(this.isFormValid()){let r={id:"",name:this.productName,description:this.productDescription,imageUrl:this.productImageUrl,price:this.productPrice,category:this.productCategory};this.adminService.addProduct(r).then(()=>{this.loadProducts(),this.resetForm()}).catch(i=>{console.error("Error adding product:",i),this.errorMessage="Failed to add product. Please try again later."})}}deleteProduct(){this.productToDeleteId&&this.adminService.deleteProduct(this.productToDeleteId).then(()=>{this.loadProducts(),this.closeModal()}).catch(r=>{console.error("Error deleting product:",r),this.errorMessage="Failed to delete product. Please try again later."})}openEditForm(r){this.productToEdit=j({},r),this.productName=r.name,this.productDescription=r.description,this.productImageUrl=r.imageUrl,this.productPrice=r.price,this.productCategory=r.category,this.showEditForm=!0}updateProduct(){if(this.productToEdit&&this.isFormValid()){let r={id:this.productToEdit.id,name:this.productName,description:this.productDescription,imageUrl:this.productImageUrl,price:this.productPrice,category:this.productCategory};this.adminService.updateProduct(r).then(()=>{this.loadProducts(),this.resetForm(),this.showEditForm=!1}).catch(i=>{console.error("Error updating product:",i),this.errorMessage="Failed to update product. Please try again later."})}else this.errorMessage="Invalid form data or no product selected."}confirmDeleteProduct(r){this.productToDeleteId=r,this.showModal=!0}closeModal(){this.showModal=!1,this.productToDeleteId=null}resetForm(){this.productName="",this.productDescription="",this.productImageUrl="",this.productPrice=null,this.productCategory="",this.productToEdit=null,this.showEditForm=!1}isFormValid(){return this.productName.trim()!==""&&this.productDescription.trim()!==""&&this.productImageUrl.trim()!==""&&this.productPrice!==null&&this.productPrice>0&&this.productCategory.trim()!==""}};e.\u0275fac=function(i){return new(i||e)(B(fx),B(pa))},e.\u0275cmp=Qe({type:e,selectors:[["app-admin"]],standalone:!0,features:[Ye],decls:7,vars:4,consts:[[1,"container"],[3,"ngSubmit",4,"ngIf"],["class","product-item",4,"ngFor","ngForOf"],["class","modal",4,"ngIf"],[3,"ngSubmit"],[1,"form-group"],["for","productName"],["id","productName","name","productName","placeholder","\u041D\u0430\u0437\u0432\u0430 \u0442\u043E\u0432\u0430\u0440\u0443","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","productDescription"],["id","productDescription","name","productDescription","placeholder","\u041E\u043F\u0438\u0441 \u0442\u043E\u0432\u0430\u0440\u0443","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","productImageUrl"],["id","productImageUrl","name","productImageUrl","placeholder","URL \u043A\u0430\u0440\u0442\u0438\u043D\u043A\u0438 \u0442\u043E\u0432\u0430\u0440\u0443","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","productPrice"],["id","productPrice","type","number","name","productPrice","placeholder","\u0426\u0456\u043D\u0430","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","productCategory"],["id","productCategory","name","productCategory","required","",1,"form-control",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["type","submit",1,"btn","btn-success",3,"disabled"],[3,"value"],["for","editProductName"],["id","editProductName","name","editProductName","placeholder","\u041D\u0430\u0437\u0432\u0430 \u0442\u043E\u0432\u0430\u0440\u0443","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","editProductDescription"],["id","editProductDescription","name","editProductDescription","placeholder","\u041E\u043F\u0438\u0441 \u0442\u043E\u0432\u0430\u0440\u0443","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","editProductImageUrl"],["id","editProductImageUrl","name","editProductImageUrl","placeholder","URL \u043A\u0430\u0440\u0442\u0438\u043D\u043A\u0438 \u0442\u043E\u0432\u0430\u0440\u0443","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","editProductPrice"],["id","editProductPrice","type","number","name","editProductPrice","placeholder","\u0426\u0456\u043D\u0430","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","editProductCategory"],["id","editProductCategory","name","editProductCategory","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"product-item"],[1,"product-image",3,"src","alt"],[1,"btn","btn-warning",3,"click"],[1,"btn","btn-danger",3,"click"],[1,"modal"],[1,"modal-content"],[1,"btn","btn-secondary",3,"click"]],template:function(i,o){i&1&&(T(0,"div",0),et(1,X$,24,7,"form",1)(2,tH,26,7,"form",1),T(3,"h3"),N(4,"\u0421\u043F\u0438\u0441\u043E\u043A \u0442\u043E\u0432\u0430\u0440\u0456\u0432"),M(),et(5,nH,14,6,"div",2)(6,rH,10,0,"div",3),M()),i&2&&(U(),me("ngIf",!o.showEditForm),U(),me("ngIf",o.showEditForm),U(3),me("ngForOf",o.products),U(),me("ngIf",o.showModal))},dependencies:[Et,fi,pi,er,$s,vh,_h,vn,Ev,Hs,Xn,Bs,po,Nn,fo],styles:[".container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}.product-item[_ngcontent-%COMP%]{box-sizing:border-box;padding:10px}.product-image[_ngcontent-%COMP%]{width:100px}.btn-success[_ngcontent-%COMP%]{background-color:#28a745;border-color:#28a745}.btn-success[_ngcontent-%COMP%]:hover{background-color:#218838;border-color:#1e7e34}.btn-danger[_ngcontent-%COMP%]{background-color:#dc3545;border-color:#dc3545}.btn-danger[_ngcontent-%COMP%]:hover{background-color:#c82333;border-color:#bd2130}.modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;align-items:center;justify-content:center}.modal-content[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:5px;box-shadow:0 0 10px #0000001a;text-align:center;width:300px;animation:_ngcontent-%COMP%_zoomIn .3s ease-in}.modal-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-top:0}.modal-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:10px}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_zoomIn{0%{transform:scale(.7);opacity:0}to{transform:scale(1);opacity:1}}@keyframes _ngcontent-%COMP%_fadeOut{0%{opacity:1}to{opacity:0}}.fade-out[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeOut .3s ease-out}@media (max-width: 768px){.container[_ngcontent-%COMP%]{padding:10px}.product-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;text-align:center;margin-bottom:15px}.product-image[_ngcontent-%COMP%]{max-width:80%;height:auto;margin:0 0 10px}.modal-content[_ngcontent-%COMP%]{width:90%;max-width:400px;padding:15px}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.btn[_ngcontent-%COMP%]{width:100%;margin-bottom:10px}}@media (min-width: 769px) and (max-width: 1024px){.container[_ngcontent-%COMP%]{padding:15px}.product-item[_ngcontent-%COMP%]{flex-direction:row}.product-image[_ngcontent-%COMP%]{max-width:100px;height:auto;margin-right:15px}.modal-content[_ngcontent-%COMP%]{width:80%;max-width:500px;padding:20px}.btn[_ngcontent-%COMP%]{margin:5px}}.form-control[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;margin-bottom:10px}.btn[_ngcontent-%COMP%]{width:auto;padding:10px 20px}h3[_ngcontent-%COMP%]{font-size:1.5rem}.product-item[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.2rem}p[_ngcontent-%COMP%]{font-size:.9rem}.btn-success[_ngcontent-%COMP%], .btn-danger[_ngcontent-%COMP%], .btn-warning[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%]{padding:8px 16px;font-size:.9rem}"]});let t=e;return t})();var gx=(()=>{let e=class e{constructor(){this.firstDigit="4",this.secondDigit="0",this.thirdDigit="4"}randomNum(){return Math.floor(Math.random()*9)+1}ngOnInit(){let r=0,i=30,o=setInterval(()=>{r>40?(clearInterval(o),this.thirdDigit="4"):(this.thirdDigit=this.randomNum().toString(),r++)},i),s=setInterval(()=>{r>80?(clearInterval(s),this.secondDigit="0"):(this.secondDigit=this.randomNum().toString(),r++)},i),a=setInterval(()=>{r>100?(clearInterval(a),this.firstDigit="4"):(this.firstDigit=this.randomNum().toString(),r++)},i)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Qe({type:e,selectors:[["app-not-found"]],standalone:!0,features:[Ye],decls:22,vars:3,consts:[[1,"error","d-flex","justify-content-center","align-items-center","vh-50","bg-light"],[1,"container","text-center"],[1,"container-error-404"],[1,"clip"],[1,"shadow"],[1,"digit","thirdDigit"],[1,"digit","secondDigit"],[1,"digit","firstDigit"],[1,"msg"],[1,"triangle"],[1,"h1"],["routerLink","/",1,"btn","btn-primary"]],template:function(i,o){i&1&&(T(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"span",5),N(6),M()()(),T(7,"div",3)(8,"div",4)(9,"span",6),N(10),M()()(),T(11,"div",3)(12,"div",4)(13,"span",7),N(14),M()()(),T(15,"div",8),N(16,"OH!"),he(17,"span",9),M()(),T(18,"h2",10),N(19,"\u0412\u0438\u0431\u0430\u0447\u0442\u0435! \u0421\u0442\u043E\u0440\u0456\u043D\u043A\u0430 \u043D\u0435 \u0437\u043D\u0430\u0439\u0434\u0435\u043D\u0430."),M(),T(20,"a",11),N(21,"\u041F\u0435\u0440\u0435\u0439\u0442\u0438 \u043D\u0430 \u0433\u043E\u043B\u043E\u0432\u043D\u0443"),M()()()),i&2&&(U(6),Ve(o.thirdDigit),U(4),Ve(o.secondDigit),U(4),Ve(o.firstDigit))},dependencies:[Et,Ts,bs],styles:['*[_ngcontent-%COMP%]{font-family:PT Sans Caption,sans-serif,arial,Times New Roman;box-sizing:border-box}.error[_ngcontent-%COMP%]{background-color:#f8f9fa}.error[_ngcontent-%COMP%]   .container-error-404[_ngcontent-%COMP%]{position:relative;height:250px;padding-top:40px;text-align:center}.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]{display:inline-block;transform:skew(-45deg)}.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]   .shadow[_ngcontent-%COMP%]{height:180px;overflow:hidden}.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]:nth-of-type(2)   .shadow[_ngcontent-%COMP%]{width:130px;position:relative;box-shadow:inset 20px 0 20px -15px #969696cc,20px 0 20px -15px #969696cc}.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]:nth-of-type(3)   .shadow[_ngcontent-%COMP%]:after, .error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]:nth-of-type(1)   .shadow[_ngcontent-%COMP%]:after{content:"";position:absolute;right:-8px;bottom:0;z-index:9999;height:100%;width:10px;background:linear-gradient(90deg,transparent,rgba(173,173,173,.8),transparent);border-radius:50%}.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]:nth-of-type(3)   .shadow[_ngcontent-%COMP%]:after{left:-8px}.error[_ngcontent-%COMP%]   .digit[_ngcontent-%COMP%]{width:150px;height:150px;line-height:150px;font-size:120px;font-weight:700;color:#fff;background:#07b3f9;border-radius:50%;display:inline-block;transform:skew(45deg)}.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]:nth-of-type(2)   .digit[_ngcontent-%COMP%]{left:-10%}.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]:nth-of-type(1)   .digit[_ngcontent-%COMP%]{right:-20%}.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]:nth-of-type(3)   .digit[_ngcontent-%COMP%]{left:-20%}.error[_ngcontent-%COMP%]   .msg[_ngcontent-%COMP%]{position:relative;z-index:9999;background:#535353;color:#a2a2a2;border-radius:50%;font-style:italic;display:block;width:80px;height:80px;line-height:80px;font-size:32px;top:-190px;left:30%}.error[_ngcontent-%COMP%]   span.triangle[_ngcontent-%COMP%]{position:absolute;z-index:999;transform:rotate(45deg);content:"";width:0;height:0;border-left:20px solid #535353;border-top:15px solid transparent;border-bottom:15px solid transparent;top:70%;right:0}.error[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#a2a2a2;font-weight:700;padding-bottom:20px;font-size:32px}.error[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;font-weight:700}.error[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}@media (max-width: 767px){.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]   .shadow[_ngcontent-%COMP%]{height:100px}.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]:nth-of-type(2)   .shadow[_ngcontent-%COMP%]{width:80px}.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]:nth-of-type(1)   .shadow[_ngcontent-%COMP%], .error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]:nth-of-type(3)   .shadow[_ngcontent-%COMP%]{width:100px}.error[_ngcontent-%COMP%]   .digit[_ngcontent-%COMP%]{width:80px;height:80px;line-height:80px;font-size:52px}.error[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px}.error[_ngcontent-%COMP%]   .msg[_ngcontent-%COMP%]{top:-110px;left:15%;width:40px;height:40px;line-height:40px;font-size:18px}.error[_ngcontent-%COMP%]   span.triangle[_ngcontent-%COMP%]{border-left:10px solid #535353;border-top:8px solid transparent;border-bottom:8px solid transparent}.error[_ngcontent-%COMP%]   .container-error-404[_ngcontent-%COMP%]{height:150px}}']});let t=e;return t})();function iH(t,e){if(t&1&&(T(0,"p",10),N(1),M()),t&2){let n=ie();U(),Ve(n.errorMessage)}}var mx=(()=>{let e=class e{constructor(r){this.router=r,this.username="",this.password="",this.errorMessage=""}login(){this.username==="admin"&&this.password==="Uthjtdlytghf73"?this.router.navigate(["/admin"]):this.errorMessage="\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u043B\u043E\u0433\u0456\u043D \u0430\u0431\u043E \u043F\u0430\u0440\u043E\u043B\u044C"}};e.\u0275fac=function(i){return new(i||e)(B(gt))},e.\u0275cmp=Qe({type:e,selectors:[["app-admin-login"]],standalone:!0,features:[Ye],decls:14,vars:3,consts:[[1,"login-container"],[1,"login-form",3,"ngSubmit"],["src","./icons/logo.png","alt","Logo",1,"logo"],[1,"form-group"],["for","username"],["id","username","name","username","placeholder","\u041B\u043E\u0433\u0456\u043D","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","password"],["id","password","type","password","name","password","placeholder","\u041F\u0430\u0440\u043E\u043B\u044C","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-success"],["class","text-danger",4,"ngIf"],[1,"text-danger"]],template:function(i,o){i&1&&(T(0,"div",0)(1,"form",1),Z("ngSubmit",function(){return o.login()}),he(2,"img",2),T(3,"div",3)(4,"label",4),N(5,"\u041B\u043E\u0433\u0456\u043D"),M(),T(6,"input",5),He("ngModelChange",function(a){return qe(o.username,a)||(o.username=a),a}),M()(),T(7,"div",3)(8,"label",6),N(9,"\u041F\u0430\u0440\u043E\u043B\u044C"),M(),T(10,"input",7),He("ngModelChange",function(a){return qe(o.password,a)||(o.password=a),a}),M()(),T(11,"button",8),N(12,"\u0412\u0445\u0456\u0434"),M(),et(13,iH,2,1,"p",9),M()()),i&2&&(U(6),$e("ngModel",o.username),U(4),$e("ngModel",o.password),U(3),me("ngIf",o.errorMessage))},dependencies:[Et,pi,er,$s,vn,Xn,Bs,po,Nn,fo],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:70vh;background-color:#f8f9fa}.login-form[_ngcontent-%COMP%]{background:#fff;padding:2rem;border-radius:8px;box-shadow:0 0 10px #0000001a;text-align:center}.logo[_ngcontent-%COMP%]{max-width:100px;margin-bottom:1rem}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.btn-success[_ngcontent-%COMP%]{background-color:#28a745;border-color:#28a745}.btn-success[_ngcontent-%COMP%]:hover{background-color:#218838;border-color:#1e7e34}"]});let t=e;return t})();var yx=[{path:"",component:lx},{path:"header",component:Yd},{path:"cart",component:dx},{path:"product/:id",component:hx},{path:"admin-login",component:mx},{path:"admin",component:px},{path:"**",component:gx}];var Q0={production:!1,firebase:{apiKey:"AIzaSyCDXEjp5yiLttF-2eUZKNHH6z3Y755yws8",authDomain:"hiking-equipment-store.firebaseapp.com",databaseURL:"https://hiking-equipment-store-default-rtdb.europe-west1.firebasedatabase.app",projectId:"hiking-equipment-store",storageBucket:"hiking-equipment-store.appspot.com",messagingSenderId:"553591568312",appId:"1:553591568312:web:c4e43771d9e053d6d6814d",measurementId:"G-C3M4EFX3LH"},appCheck:{recaptchaSiteKey:"6LeykZMqAAAAAFddpBQyGNnkKElOUDDIMdroXsYV"}};DD(ES,{providers:[gT(yx),$m(),YT(()=>JT(Q0.firebase)),rx(()=>sx()),vS(()=>wS(void 0,{provider:new ah(Q0.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}).catch(t=>console.error(t));
