var i1=Object.defineProperty,o1=Object.defineProperties;var s1=Object.getOwnPropertyDescriptors;var sI=Object.getOwnPropertySymbols,a1=Object.getPrototypeOf,c1=Object.prototype.hasOwnProperty,u1=Object.prototype.propertyIsEnumerable,l1=Reflect.get;var aI=(t,e,n)=>e in t?i1(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,U=(t,e)=>{for(var n in e||={})c1.call(e,n)&&aI(t,n,e[n]);if(sI)for(var n of sI(e))u1.call(e,n)&&aI(t,n,e[n]);return t},ye=(t,e)=>o1(t,s1(e));var ci=(t,e,n)=>l1(a1(t),n,e);var E=(t,e,n)=>new Promise((r,i)=>{var o=u=>{try{a(n.next(u))}catch(l){i(l)}},s=u=>{try{a(n.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((n=n.apply(t,e)).next())});var Tp=null;var Dp=1,Sp=Symbol("SIGNAL");function xe(t){let e=Tp;return Tp=t,e}function cI(){return Tp}var Ap={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function d1(t){if(!(Np(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Dp)){if(!t.producerMustRecompute(t)&&!xp(t)){t.dirty=!1,t.lastCleanEpoch=Dp;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Dp}}function Mp(t){return t&&(t.nextProducerIndex=0),xe(t)}function uI(t,e){if(xe(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Np(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Rp(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function xp(t){Op(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(d1(n),r!==n.version))return!0}return!1}function Pp(t){if(Op(t),Np(t))for(let e=0;e<t.producerNode.length;e++)Rp(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Rp(t,e){if(h1(t),t.liveConsumerNode.length===1&&f1(t))for(let r=0;r<t.producerNode.length;r++)Rp(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Op(i),i.producerIndexOfThis[r]=e}}function Np(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Op(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function h1(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function f1(t){return t.producerNode!==void 0}function p1(){throw new Error}var g1=p1;function lI(t){g1=t}function de(t){return typeof t=="function"}function Xo(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var rl=Xo(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function no(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Qe=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(de(r))try{r()}catch(o){e=o instanceof rl?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{dI(o)}catch(s){e=e??[],s instanceof rl?e=[...e,...s.errors]:e.push(s)}}if(e)throw new rl(e)}}add(e){var n;if(e&&e!==this)if(this.closed)dI(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&no(n,e)}remove(e){let{_finalizers:n}=this;n&&no(n,e),e instanceof t&&e._removeParent(this)}};Qe.EMPTY=(()=>{let t=new Qe;return t.closed=!0,t})();var kp=Qe.EMPTY;function il(t){return t instanceof Qe||t&&"closed"in t&&de(t.remove)&&de(t.add)&&de(t.unsubscribe)}function dI(t){de(t)?t():t.unsubscribe()}var Cn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var es={setTimeout(t,e,...n){let{delegate:r}=es;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=es;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function ol(t){es.setTimeout(()=>{let{onUnhandledError:e}=Cn;if(e)e(t);else throw t})}function Xa(){}var hI=Fp("C",void 0,void 0);function fI(t){return Fp("E",void 0,t)}function pI(t){return Fp("N",t,void 0)}function Fp(t,e,n){return{kind:t,value:e,error:n}}var ro=null;function ts(t){if(Cn.useDeprecatedSynchronousErrorHandling){let e=!ro;if(e&&(ro={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=ro;if(ro=null,n)throw r}}else t()}function gI(t){Cn.useDeprecatedSynchronousErrorHandling&&ro&&(ro.errorThrown=!0,ro.error=t)}var io=class extends Qe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,il(e)&&e.add(this)):this.destination=v1}static create(e,n,r){return new ns(e,n,r)}next(e){this.isStopped?Lp(pI(e),this):this._next(e)}error(e){this.isStopped?Lp(fI(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Lp(hI,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},m1=Function.prototype.bind;function Vp(t,e){return m1.call(t,e)}var Up=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){sl(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){sl(r)}else sl(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){sl(n)}}},ns=class extends io{constructor(e,n,r){super();let i;if(de(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Cn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Vp(e.next,o),error:e.error&&Vp(e.error,o),complete:e.complete&&Vp(e.complete,o)}):i=e}this.destination=new Up(i)}};function sl(t){Cn.useDeprecatedSynchronousErrorHandling?gI(t):ol(t)}function y1(t){throw t}function Lp(t,e){let{onStoppedNotification:n}=Cn;n&&es.setTimeout(()=>n(t,e))}var v1={closed:!0,next:Xa,error:y1,complete:Xa};var rs=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Xt(t){return t}function al(...t){return jp(t)}function jp(t){return t.length===0?Xt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var pe=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=w1(n)?n:new ns(n,r,i);return ts(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=mI(r),new r((i,o)=>{let s=new ns({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[rs](){return this}pipe(...n){return jp(n)(this)}toPromise(n){return n=mI(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function mI(t){var e;return(e=t??Cn.Promise)!==null&&e!==void 0?e:Promise}function _1(t){return t&&de(t.next)&&de(t.error)&&de(t.complete)}function w1(t){return t&&t instanceof io||_1(t)&&il(t)}function Bp(t){return de(t?.lift)}function Ce(t){return e=>{if(Bp(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function _e(t,e,n,r,i){return new $p(t,e,n,r,i)}var $p=class extends io{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function is(){return Ce((t,e)=>{let n=null;t._refCount++;let r=_e(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var os=class extends pe{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Bp(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Qe;let n=this.getSubject();e.add(this.source.subscribe(_e(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Qe.EMPTY)}return e}refCount(){return is()(this)}};var yI=Xo(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var vt=(()=>{class t extends pe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new cl(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new yI}next(n){ts(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){ts(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){ts(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?kp:(this.currentObservers=null,o.push(n),new Qe(()=>{this.currentObservers=null,no(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new pe;return n.source=this,n}}return t.create=(e,n)=>new cl(e,n),t})(),cl=class extends vt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:kp}};var ht=class extends vt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Hp={now(){return(Hp.delegate||Date).now()},delegate:void 0};var ul=class extends Qe{constructor(e,n){super()}schedule(e,n=0){return this}};var ec={setInterval(t,e,...n){let{delegate:r}=ec;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=ec;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var ss=class extends ul{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return ec.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&ec.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,no(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var as=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};as.now=Hp.now;var cs=class extends as{constructor(e,n=as.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var us=new cs(ss),zp=us;var ll=class extends ss{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var dl=class extends cs{};var qp=new dl(ll);var en=new pe(t=>t.complete());function hl(t){return t&&de(t.schedule)}function vI(t){return t[t.length-1]}function fl(t){return de(vI(t))?t.pop():void 0}function ui(t){return hl(vI(t))?t.pop():void 0}function Gp(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function wI(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function _I(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function oo(t){return this instanceof oo?(this.v=t,this):new oo(t)}function EI(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i={},a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(A){return Promise.resolve(A).then(y,p)}}function a(y,A){r[y]&&(i[y]=function(N){return new Promise(function(x,V){o.push([y,N,x,V])>1||u(y,N)})},A&&(i[y]=A(i[y])))}function u(y,A){try{l(r[y](A))}catch(N){m(o[0][3],N)}}function l(y){y.value instanceof oo?Promise.resolve(y.value.v).then(h,p):m(o[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function m(y,A){y(A),o.shift(),o.length&&u(o[0][0],o[0][1])}}function II(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof _I=="function"?_I(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var pl=t=>t&&typeof t.length=="number"&&typeof t!="function";function gl(t){return de(t?.then)}function ml(t){return de(t[rs])}function yl(t){return Symbol.asyncIterator&&de(t?.[Symbol.asyncIterator])}function vl(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function E1(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var _l=E1();function wl(t){return de(t?.[_l])}function El(t){return EI(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield oo(n.read());if(i)return yield oo(void 0);yield yield oo(r)}}finally{n.releaseLock()}})}function Il(t){return de(t?.getReader)}function it(t){if(t instanceof pe)return t;if(t!=null){if(ml(t))return I1(t);if(pl(t))return C1(t);if(gl(t))return b1(t);if(yl(t))return CI(t);if(wl(t))return D1(t);if(Il(t))return T1(t)}throw vl(t)}function I1(t){return new pe(e=>{let n=t[rs]();if(de(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function C1(t){return new pe(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function b1(t){return new pe(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,ol)})}function D1(t){return new pe(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function CI(t){return new pe(e=>{S1(t,e).catch(n=>e.error(n))})}function T1(t){return CI(El(t))}function S1(t,e){var n,r,i,o;return wI(this,void 0,void 0,function*(){try{for(n=II(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function Wt(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function li(t,e=0){return Ce((n,r)=>{n.subscribe(_e(r,i=>Wt(r,t,()=>r.next(i),e),()=>Wt(r,t,()=>r.complete(),e),i=>Wt(r,t,()=>r.error(i),e)))})}function di(t,e=0){return Ce((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function bI(t,e){return it(t).pipe(di(e),li(e))}function DI(t,e){return it(t).pipe(di(e),li(e))}function TI(t,e){return new pe(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function SI(t,e){return new pe(n=>{let r;return Wt(n,e,()=>{r=t[_l](),Wt(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>de(r?.return)&&r.return()})}function Cl(t,e){if(!t)throw new Error("Iterable cannot be null");return new pe(n=>{Wt(n,e,()=>{let r=t[Symbol.asyncIterator]();Wt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function AI(t,e){return Cl(El(t),e)}function MI(t,e){if(t!=null){if(ml(t))return bI(t,e);if(pl(t))return TI(t,e);if(gl(t))return DI(t,e);if(yl(t))return Cl(t,e);if(wl(t))return SI(t,e);if(Il(t))return AI(t,e)}throw vl(t)}function Ue(t,e){return e?MI(t,e):it(t)}function te(...t){let e=ui(t);return Ue(t,e)}function ls(t,e){let n=de(t)?t:()=>t,r=i=>i.error(n());return new pe(e?i=>e.schedule(r,0,i):r)}function Wp(t){return!!t&&(t instanceof pe||de(t.lift)&&de(t.subscribe))}var Ir=Xo(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function xI(t){return t instanceof Date&&!isNaN(t)}function re(t,e){return Ce((n,r)=>{let i=0;n.subscribe(_e(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:A1}=Array;function M1(t,e){return A1(e)?t(...e):t(e)}function bl(t){return re(e=>M1(t,e))}var{isArray:x1}=Array,{getPrototypeOf:P1,prototype:R1,keys:N1}=Object;function Dl(t){if(t.length===1){let e=t[0];if(x1(e))return{args:e,keys:null};if(O1(e)){let n=N1(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function O1(t){return t&&typeof t=="object"&&P1(t)===R1}function Tl(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function tc(...t){let e=ui(t),n=fl(t),{args:r,keys:i}=Dl(t);if(r.length===0)return Ue([],e);let o=new pe(k1(r,e,i?s=>Tl(i,s):Xt));return n?o.pipe(bl(n)):o}function k1(t,e,n=Xt){return r=>{PI(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)PI(e,()=>{let l=Ue(t[u],e),h=!1;l.subscribe(_e(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function PI(t,e,n){t?Wt(n,t,e):e()}function RI(t,e,n,r,i,o,s,a){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},y=N=>l<r?A(N):u.push(N),A=N=>{o&&e.next(N),l++;let x=!1;it(n(N,h++)).subscribe(_e(e,V=>{i?.(V),o?y(V):e.next(V)},()=>{x=!0},void 0,()=>{if(x)try{for(l--;u.length&&l<r;){let V=u.shift();s?Wt(e,s,()=>A(V)):A(V)}m()}catch(V){e.error(V)}}))};return t.subscribe(_e(e,y,()=>{p=!0,m()})),()=>{a?.()}}function ot(t,e,n=1/0){return de(e)?ot((r,i)=>re((o,s)=>e(r,o,i,s))(it(t(r,i))),n):(typeof e=="number"&&(n=e),Ce((r,i)=>RI(r,i,t,n)))}function hi(t=1/0){return ot(Xt,t)}function NI(){return hi(1)}function ds(...t){return NI()(Ue(t,ui(t)))}function Sl(t){return new pe(e=>{it(t()).subscribe(e)})}function Kp(...t){let e=fl(t),{args:n,keys:r}=Dl(t),i=new pe(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;it(n[h]).subscribe(_e(o,m=>{p||(p=!0,l--),a[h]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?Tl(r,a):a),o.complete())}))}});return e?i.pipe(bl(e)):i}function OI(t=0,e,n=zp){let r=-1;return e!=null&&(hl(e)?n=e:r=e),new pe(i=>{let o=xI(t)?+t-n.now():t;o<0&&(o=0);let s=0;return n.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function Qp(t=0,e=us){return t<0&&(t=0),OI(t,t,e)}function Bt(t,e){return Ce((n,r)=>{let i=0;n.subscribe(_e(r,o=>t.call(e,o,i++)&&r.next(o)))})}function fi(t){return Ce((e,n)=>{let r=null,i=!1,o;r=e.subscribe(_e(n,void 0,void 0,s=>{o=it(t(s,fi(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function kI(t,e,n,r,i){return(o,s)=>{let a=n,u=e,l=0;o.subscribe(_e(s,h=>{let p=l++;u=a?t(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function Cr(t,e){return de(e)?ot(t,e,1):ot(t,1)}function pi(t){return Ce((e,n)=>{let r=!1;e.subscribe(_e(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function br(t){return t<=0?()=>en:Ce((e,n)=>{let r=0;e.subscribe(_e(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Yp(t){return re(()=>t)}function Al(t=F1){return Ce((e,n)=>{let r=!1;e.subscribe(_e(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function F1(){return new Ir}function gi(t){return Ce((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function zn(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Bt((i,o)=>t(i,o,r)):Xt,br(1),n?pi(e):Al(()=>new Ir))}function hs(t){return t<=0?()=>en:Ce((e,n)=>{let r=[];e.subscribe(_e(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Jp(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Bt((i,o)=>t(i,o,r)):Xt,hs(1),n?pi(e):Al(()=>new Ir))}function Ml(t,e){return Ce(kI(t,e,arguments.length>=2,!0))}function xl(...t){let e=ui(t);return Ce((n,r)=>{(e?ds(t,n,e):ds(t,n)).subscribe(r)})}function Kt(t,e){return Ce((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(_e(r,u=>{i?.unsubscribe();let l=0,h=o++;it(t(u,h)).subscribe(i=_e(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Zp(t){return Ce((e,n)=>{it(t).subscribe(_e(n,()=>n.complete(),Xa)),!n.closed&&e.subscribe(n)})}function st(t,e,n){let r=de(t)||e||n?{next:t,error:e,complete:n}:t;return r?Ce((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(_e(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Xt}var SC="https://g.co/ng/security#xss",K=class extends Error{constructor(e,n){super(dd(e,n)),this.code=e}};function dd(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function lc(t){return{toString:t}.toString()}var Pl="__parameters__";function V1(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function AC(t,e,n){return lc(()=>{let r=V1(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(Pl)?u[Pl]:Object.defineProperty(u,Pl,{value:[]})[Pl];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Dn=globalThis;function je(t){for(let e in t)if(t[e]===je)return e;throw Error("Could not find renamed property on target object.")}function L1(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Ht(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Ht).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function FI(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var U1=je({__forward_ref__:je});function An(t){return t.__forward_ref__=An,t.toString=function(){return Ht(this())},t}function $t(t){return MC(t)?t():t}function MC(t){return typeof t=="function"&&t.hasOwnProperty(U1)&&t.__forward_ref__===An}function z(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Zn(t){return{providers:t.providers||[],imports:t.imports||[]}}function hd(t){return VI(t,PC)||VI(t,RC)}function xC(t){return hd(t)!==null}function VI(t,e){return t.hasOwnProperty(e)?t[e]:null}function j1(t){let e=t&&(t[PC]||t[RC]);return e||null}function LI(t){return t&&(t.hasOwnProperty(UI)||t.hasOwnProperty(B1))?t[UI]:null}var PC=je({\u0275prov:je}),UI=je({\u0275inj:je}),RC=je({ngInjectableDef:je}),B1=je({ngInjectorDef:je}),H=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=z({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function NC(t){return t&&!!t.\u0275providers}var $1=je({\u0275cmp:je}),H1=je({\u0275dir:je}),z1=je({\u0275pipe:je}),q1=je({\u0275mod:je}),Hl=je({\u0275fac:je}),nc=je({__NG_ELEMENT_ID__:je}),jI=je({__NG_ENV_ID__:je});function uo(t){return typeof t=="string"?t:t==null?"":String(t)}function G1(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():uo(t)}function W1(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new K(-200,t)}function mm(t,e){throw new K(-201,!1)}var ve=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ve||{}),pg;function OC(){return pg}function Qt(t){let e=pg;return pg=t,e}function kC(t,e,n){let r=hd(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&ve.Optional)return null;if(e!==void 0)return e;mm(t,"Injector")}var K1={},rc=K1,gg="__NG_DI_FLAG__",zl="ngTempTokenPath",Q1="ngTokenPath",Y1=/\n/gm,J1="\u0275",BI="__source",ms;function Z1(){return ms}function mi(t){let e=ms;return ms=t,e}function X1(t,e=ve.Default){if(ms===void 0)throw new K(-203,!1);return ms===null?kC(t,void 0,e):ms.get(t,e&ve.Optional?null:void 0,e)}function q(t,e=ve.Default){return(OC()||X1)($t(t),e)}function F(t,e=ve.Default){return q(t,fd(e))}function fd(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function mg(t){let e=[];for(let n=0;n<t.length;n++){let r=$t(t[n]);if(Array.isArray(r)){if(r.length===0)throw new K(900,!1);let i,o=ve.Default;for(let s=0;s<r.length;s++){let a=r[s],u=eN(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(q(i,o))}else e.push(q(r))}return e}function FC(t,e){return t[gg]=e,t.prototype[gg]=e,t}function eN(t){return t[gg]}function tN(t,e,n,r){let i=t[zl];throw e[BI]&&i.unshift(e[BI]),t.message=nN(`
`+t.message,i,n,r),t[Q1]=i,t[zl]=null,t}function nN(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==J1?t.slice(2):t;let i=Ht(e);if(Array.isArray(e))i=e.map(Ht).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Ht(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Y1,`
  `)}`}var pt=FC(AC("Optional"),8);var ym=FC(AC("SkipSelf"),4);function lo(t,e){let n=t.hasOwnProperty(Hl);return n?t[Hl]:null}function rN(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function iN(t){return t.flat(Number.POSITIVE_INFINITY)}function vm(t,e){t.forEach(n=>Array.isArray(n)?vm(n,e):e(n))}function VC(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function ql(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function oN(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function sN(t,e,n){let r=dc(t,e);return r>=0?t[r|1]=n:(r=~r,oN(t,r,e,n)),r}function Xp(t,e){let n=dc(t,e);if(n>=0)return t[n|1]}function dc(t,e){return aN(t,e,1)}function aN(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var vs={},fn=[],_s=new H(""),LC=new H("",-1),UC=new H(""),Gl=class{get(e,n=rc){if(n===rc){let r=new Error(`NullInjectorError: No provider for ${Ht(e)}!`);throw r.name="NullInjectorError",r}return n}},jC=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(jC||{}),Wn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Wn||{}),ws=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(ws||{});function cN(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function yg(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];uN(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function BC(t){return t===3||t===4||t===6}function uN(t){return t.charCodeAt(0)===64}function ic(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?$I(t,n,i,null,e[++r]):$I(t,n,i,null,null))}}return t}function $I(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var $C="ng-template";function lN(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&cN(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(_m(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function _m(t){return t.type===4&&t.value!==$C}function dN(t,e,n){let r=t.type===4&&!n?$C:t.value;return e===r}function hN(t,e,n){let r=4,i=t.attrs,o=i!==null?gN(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!bn(r)&&!bn(u))return!1;if(s&&bn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!dN(t,u,n)||u===""&&e.length===1){if(bn(r))return!1;s=!0}}else if(r&8){if(i===null||!lN(t,i,u,n)){if(bn(r))return!1;s=!0}}else{let l=e[++a],h=fN(u,i,_m(t),n);if(h===-1){if(bn(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(bn(r))return!1;s=!0}}}}return bn(r)||s}function bn(t){return(t&1)===0}function fN(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return mN(e,t)}function pN(t,e,n=!1){for(let r=0;r<e.length;r++)if(hN(t,e[r],n))return!0;return!1}function gN(t){for(let e=0;e<t.length;e++){let n=t[e];if(BC(n))return e}return t.length}function mN(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function HI(t,e){return t?":not("+e.trim()+")":e}function yN(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!bn(s)&&(e+=HI(o,i),i=""),r=s,o=o||!bn(r);n++}return i!==""&&(e+=HI(o,i)),e}function vN(t){return t.map(yN).join(",")}function _N(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!bn(i))break;i=o}r++}return{attrs:e,classes:n}}function Je(t){return lc(()=>{let e=WC(t),n=ye(U({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===jC.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Wn.Emulated,styles:t.styles||fn,_:null,schemas:t.schemas||null,tView:null,id:""});KC(n);let r=t.dependencies;return n.directiveDefs=qI(r,!1),n.pipeDefs=qI(r,!0),n.id=IN(n),n})}function wN(t){return wi(t)||HC(t)}function EN(t){return t!==null}function Xn(t){return lc(()=>({type:t.type,bootstrap:t.bootstrap||fn,declarations:t.declarations||fn,imports:t.imports||fn,exports:t.exports||fn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function zI(t,e){if(t==null)return vs;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=ws.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==ws.None?[r,a]:r,e[o]=s):n[o]=r}return n}function qe(t){return lc(()=>{let e=WC(t);return KC(e),e})}function pd(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function wi(t){return t[$1]||null}function HC(t){return t[H1]||null}function zC(t){return t[z1]||null}function qC(t){let e=wi(t)||HC(t)||zC(t);return e!==null?e.standalone:!1}function GC(t,e){let n=t[q1]||null;if(!n&&e===!0)throw new Error(`Type ${Ht(t)} does not have '\u0275mod' property.`);return n}function WC(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||vs,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||fn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:zI(t.inputs,e),outputs:zI(t.outputs),debugInfo:null}}function KC(t){t.features?.forEach(e=>e(t))}function qI(t,e){if(!t)return null;let n=e?zC:wN;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(EN)}function IN(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function nn(t){return{\u0275providers:t}}function CN(...t){return{\u0275providers:QC(!0,t),\u0275fromNgModule:!0}}function QC(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return vm(e,s=>{let a=s;vg(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&YC(i,o),n}function YC(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];wm(i,o=>{e(o,r)})}}function vg(t,e,n,r){if(t=$t(t),!t)return!1;let i=null,o=LI(t),s=!o&&wi(t);if(!o&&!s){let u=t.ngModule;if(o=LI(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)vg(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{vm(o.imports,h=>{vg(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&YC(l,e)}if(!a){let l=lo(i)||(()=>new i);e({provide:i,useFactory:l,deps:fn},i),e({provide:UC,useValue:i,multi:!0},i),e({provide:_s,useValue:()=>q(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=t;wm(u,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function wm(t,e){for(let n of t)NC(n)&&(n=n.\u0275providers),Array.isArray(n)?wm(n,e):e(n)}var bN=je({provide:String,useValue:je});function JC(t){return t!==null&&typeof t=="object"&&bN in t}function DN(t){return!!(t&&t.useExisting)}function TN(t){return!!(t&&t.useFactory)}function Es(t){return typeof t=="function"}function SN(t){return!!t.useClass}var gd=new H(""),Vl={},AN={},eg;function Em(){return eg===void 0&&(eg=new Gl),eg}var Nt=class{},oc=class extends Nt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,wg(e,s=>this.processProvider(s)),this.records.set(LC,fs(void 0,this)),i.has("environment")&&this.records.set(Nt,fs(void 0,this));let o=this.records.get(gd);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(UC,fn,ve.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=xe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),xe(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=mi(this),r=Qt(void 0),i;try{return e()}finally{mi(n),Qt(r)}}get(e,n=rc,r=ve.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(jI))return e[jI](this);r=fd(r);let i,o=mi(this),s=Qt(void 0);try{if(!(r&ve.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=NN(e)&&hd(e);l&&this.injectableDefInScope(l)?u=fs(_g(e),Vl):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&ve.Self?Em():this.parent;return n=r&ve.Optional&&n===rc?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[zl]=a[zl]||[]).unshift(Ht(e)),o)throw a;return tN(a,e,"R3InjectorError",this.source)}else throw a}finally{Qt(s),mi(o)}}resolveInjectorInitializers(){let e=xe(null),n=mi(this),r=Qt(void 0),i;try{let o=this.get(_s,fn,ve.Self);for(let s of o)s()}finally{mi(n),Qt(r),xe(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Ht(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new K(205,!1)}processProvider(e){e=$t(e);let n=Es(e)?e:$t(e&&e.provide),r=xN(e);if(!Es(e)&&e.multi===!0){let i=this.records.get(n);i||(i=fs(void 0,Vl,!0),i.factory=()=>mg(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=xe(null);try{return n.value===Vl&&(n.value=AN,n.value=n.factory()),typeof n.value=="object"&&n.value&&RN(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{xe(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=$t(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function _g(t){let e=hd(t),n=e!==null?e.factory:lo(t);if(n!==null)return n;if(t instanceof H)throw new K(204,!1);if(t instanceof Function)return MN(t);throw new K(204,!1)}function MN(t){if(t.length>0)throw new K(204,!1);let n=j1(t);return n!==null?()=>n.factory(t):()=>new t}function xN(t){if(JC(t))return fs(void 0,t.useValue);{let e=ZC(t);return fs(e,Vl)}}function ZC(t,e,n){let r;if(Es(t)){let i=$t(t);return lo(i)||_g(i)}else if(JC(t))r=()=>$t(t.useValue);else if(TN(t))r=()=>t.useFactory(...mg(t.deps||[]));else if(DN(t))r=()=>q($t(t.useExisting));else{let i=$t(t&&(t.useClass||t.provide));if(PN(t))r=()=>new i(...mg(t.deps));else return lo(i)||_g(i)}return r}function fs(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function PN(t){return!!t.deps}function RN(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function NN(t){return typeof t=="function"||typeof t=="object"&&t instanceof H}function wg(t,e){for(let n of t)Array.isArray(n)?wg(n,e):n&&NC(n)?wg(n.\u0275providers,e):e(n)}function rn(t,e){t instanceof oc&&t.assertNotDestroyed();let n,r=mi(t),i=Qt(void 0);try{return e()}finally{mi(r),Qt(i)}}function XC(){return OC()!==void 0||Z1()!=null}function ON(t){if(!XC())throw new K(-203,!1)}function kN(t){return typeof t=="function"}var Mr=0,ge=1,ce=2,Ot=3,Tn=4,Mn=5,Wl=6,Kl=7,Sn=8,Is=9,Kn=10,at=11,sc=12,GI=13,Ms=14,Qn=15,ho=16,ps=17,Dr=18,md=19,eb=20,vi=21,tg=22,pn=23,gn=25,tb=1;var fo=7,Ql=8,Cs=9,tn=10,Yl=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Yl||{});function _i(t){return Array.isArray(t)&&typeof t[tb]=="object"}function xr(t){return Array.isArray(t)&&t[tb]===!0}function nb(t){return(t.flags&4)!==0}function yd(t){return t.componentOffset>-1}function Im(t){return(t.flags&1)===1}function Ei(t){return!!t.template}function Eg(t){return(t[ce]&512)!==0}var Ig=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function rb(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Pr(){return ib}function ib(t){return t.type.prototype.ngOnChanges&&(t.setInput=VN),FN}Pr.ngInherit=!0;function FN(){let t=sb(this),e=t?.current;if(e){let n=t.previous;if(n===vs)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function VN(t,e,n,r,i){let o=this.declaredInputs[r],s=sb(t)||LN(t,{previous:vs,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new Ig(l&&l.currentValue,n,u===vs),rb(t,e,i,n)}var ob="__ngSimpleChanges__";function sb(t){return t[ob]||null}function LN(t,e){return t[ob]=e}var WI=null;var qn=function(t,e,n){WI?.(t,e,n)},ab="svg",UN="math";function Yn(t){for(;Array.isArray(t);)t=t[Mr];return t}function cb(t,e){return Yn(e[t])}function mn(t,e){return Yn(e[t.index])}function ub(t,e){return t.data[e]}function Cm(t,e){return t[e]}function bi(t,e){let n=e[t];return _i(n)?n:n[Mr]}function jN(t){return(t[ce]&4)===4}function bm(t){return(t[ce]&128)===128}function BN(t){return xr(t[Ot])}function Jl(t,e){return e==null?null:t[e]}function lb(t){t[ps]=0}function db(t){t[ce]&1024||(t[ce]|=1024,bm(t)&&vd(t))}function $N(t,e){for(;t>0;)e=e[Ms],t--;return e}function ac(t){return!!(t[ce]&9216||t[pn]?.dirty)}function Cg(t){t[Kn].changeDetectionScheduler?.notify(7),t[ce]&64&&(t[ce]|=1024),ac(t)&&vd(t)}function vd(t){t[Kn].changeDetectionScheduler?.notify(0);let e=po(t);for(;e!==null&&!(e[ce]&8192||(e[ce]|=8192,!bm(e)));)e=po(e)}function hb(t,e){if((t[ce]&256)===256)throw new K(911,!1);t[vi]===null&&(t[vi]=[]),t[vi].push(e)}function HN(t,e){if(t[vi]===null)return;let n=t[vi].indexOf(e);n!==-1&&t[vi].splice(n,1)}function po(t){let e=t[Ot];return xr(e)?e[Ot]:e}var he={lFrame:Ib(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var fb=!1;function zN(){return he.lFrame.elementDepthCount}function qN(){he.lFrame.elementDepthCount++}function GN(){he.lFrame.elementDepthCount--}function pb(){return he.bindingsEnabled}function WN(){return he.skipHydrationRootTNode!==null}function KN(t){return he.skipHydrationRootTNode===t}function QN(){he.skipHydrationRootTNode=null}function Ie(){return he.lFrame.lView}function _t(){return he.lFrame.tView}function Q(t){return he.lFrame.contextLView=t,t[Sn]}function Y(t){return he.lFrame.contextLView=null,t}function kt(){let t=gb();for(;t!==null&&t.type===64;)t=t.parent;return t}function gb(){return he.lFrame.currentTNode}function YN(){let t=he.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function hc(t,e){let n=he.lFrame;n.currentTNode=t,n.isParent=e}function mb(){return he.lFrame.isParent}function JN(){he.lFrame.isParent=!1}function ZN(){return he.lFrame.contextLView}function yb(){return fb}function KI(t){fb=t}function Dm(){let t=he.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function XN(){return he.lFrame.bindingIndex}function eO(t){return he.lFrame.bindingIndex=t}function _d(){return he.lFrame.bindingIndex++}function vb(t){let e=he.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function tO(){return he.lFrame.inI18n}function nO(t,e){let n=he.lFrame;n.bindingIndex=n.bindingRootIndex=t,bg(e)}function rO(){return he.lFrame.currentDirectiveIndex}function bg(t){he.lFrame.currentDirectiveIndex=t}function iO(t){let e=he.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function _b(){return he.lFrame.currentQueryIndex}function Tm(t){he.lFrame.currentQueryIndex=t}function oO(t){let e=t[ge];return e.type===2?e.declTNode:e.type===1?t[Mn]:null}function wb(t,e,n){if(n&ve.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&ve.Host);)if(i=oO(o),i===null||(o=o[Ms],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=he.lFrame=Eb();return r.currentTNode=e,r.lView=t,!0}function Sm(t){let e=Eb(),n=t[ge];he.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Eb(){let t=he.lFrame,e=t===null?null:t.child;return e===null?Ib(t):e}function Ib(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function Cb(){let t=he.lFrame;return he.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var bb=Cb;function Am(){let t=Cb();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function sO(t){return(he.lFrame.contextLView=$N(t,he.lFrame.contextLView))[Sn]}function Io(){return he.lFrame.selectedIndex}function go(t){he.lFrame.selectedIndex=t}function wd(){let t=he.lFrame;return ub(t.tView,t.selectedIndex)}function fc(){he.lFrame.currentNamespace=ab}function Mm(){aO()}function aO(){he.lFrame.currentNamespace=null}function cO(){return he.lFrame.currentNamespace}var Db=!0;function xm(){return Db}function Pm(t){Db=t}function uO(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=ib(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function Rm(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function Ll(t,e,n){Tb(t,e,3,n)}function Ul(t,e,n,r){(t[ce]&3)===n&&Tb(t,e,n,r)}function ng(t,e){let n=t[ce];(n&3)===e&&(n&=16383,n+=1,t[ce]=n)}function Tb(t,e,n,r){let i=r!==void 0?t[ps]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[ps]+=65536),(a<o||o==-1)&&(lO(t,n,e,u),t[ps]=(t[ps]&4294901760)+u+2),u++}function QI(t,e){qn(4,t,e);let n=xe(null);try{e.call(t)}finally{xe(n),qn(5,t,e)}}function lO(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[ce]>>14<t[ps]>>16&&(t[ce]&3)===e&&(t[ce]+=16384,QI(a,o)):QI(a,o)}var ys=-1,mo=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function dO(t){return t instanceof mo}function hO(t){return(t.flags&8)!==0}function fO(t){return(t.flags&16)!==0}var rg={},Dg=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=fd(r);let i=this.injector.get(e,rg,r);return i!==rg||n===rg?i:this.parentInjector.get(e,n,r)}};function Sb(t){return t!==ys}function Zl(t){return t&32767}function pO(t){return t>>16}function Xl(t,e){let n=pO(t),r=e;for(;n>0;)r=r[Ms],n--;return r}var Tg=!0;function ed(t){let e=Tg;return Tg=t,e}var gO=256,Ab=gO-1,Mb=5,mO=0,Gn={};function yO(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(nc)&&(r=n[nc]),r==null&&(r=n[nc]=mO++);let i=r&Ab,o=1<<i;e.data[t+(i>>Mb)]|=o}function td(t,e){let n=xb(t,e);if(n!==-1)return n;let r=e[ge];r.firstCreatePass&&(t.injectorIndex=e.length,ig(r.data,t),ig(e,null),ig(r.blueprint,null));let i=Nm(t,e),o=t.injectorIndex;if(Sb(i)){let s=Zl(i),a=Xl(i,e),u=a[ge].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function ig(t,e){t.push(0,0,0,0,0,0,0,0,e)}function xb(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Nm(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=kb(i),r===null)return ys;if(n++,i=i[Ms],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return ys}function Sg(t,e,n){yO(t,e,n)}function vO(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(BC(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function Pb(t,e,n){if(n&ve.Optional||t!==void 0)return t;mm(e,"NodeInjector")}function Rb(t,e,n,r){if(n&ve.Optional&&r===void 0&&(r=null),!(n&(ve.Self|ve.Host))){let i=t[Is],o=Qt(void 0);try{return i?i.get(e,r,n&ve.Optional):kC(e,r,n&ve.Optional)}finally{Qt(o)}}return Pb(r,e,n)}function Nb(t,e,n,r=ve.Default,i){if(t!==null){if(e[ce]&2048&&!(r&ve.Self)){let s=IO(t,e,n,r,Gn);if(s!==Gn)return s}let o=Ob(t,e,n,r,Gn);if(o!==Gn)return o}return Rb(e,n,r,i)}function Ob(t,e,n,r,i){let o=wO(n);if(typeof o=="function"){if(!wb(e,t,r))return r&ve.Host?Pb(i,n,r):Rb(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&ve.Optional))mm(n);else return s}finally{bb()}}else if(typeof o=="number"){let s=null,a=xb(t,e),u=ys,l=r&ve.Host?e[Qn][Mn]:null;for((a===-1||r&ve.SkipSelf)&&(u=a===-1?Nm(t,e):e[a+8],u===ys||!JI(r,!1)?a=-1:(s=e[ge],a=Zl(u),e=Xl(u,e)));a!==-1;){let h=e[ge];if(YI(o,a,h.data)){let p=_O(a,e,n,s,r,l);if(p!==Gn)return p}u=e[a+8],u!==ys&&JI(r,e[ge].data[a+8]===l)&&YI(o,a,e)?(s=h,a=Zl(u),e=Xl(u,e)):a=-1}}return i}function _O(t,e,n,r,i,o){let s=e[ge],a=s.data[t+8],u=r==null?yd(a)&&Tg:r!=s&&(a.type&3)!==0,l=i&ve.Host&&o===a,h=jl(a,s,n,u,l);return h!==null?yo(e,s,h,a):Gn}function jl(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,u=t.directiveStart,l=t.directiveEnd,h=o>>20,p=r?a:a+h,m=i?a+h:l;for(let y=p;y<m;y++){let A=s[y];if(y<u&&n===A||y>=u&&A.type===n)return y}if(i){let y=s[u];if(y&&Ei(y)&&y.type===n)return u}return null}function yo(t,e,n,r){let i=t[n],o=e.data;if(dO(i)){let s=i;s.resolving&&W1(G1(o[n]));let a=ed(s.canSeeViewProviders);s.resolving=!0;let u,l=s.injectImpl?Qt(s.injectImpl):null,h=wb(t,r,ve.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&uO(n,o[n],e)}finally{l!==null&&Qt(l),ed(a),s.resolving=!1,bb()}}return i}function wO(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(nc)?t[nc]:void 0;return typeof e=="number"?e>=0?e&Ab:EO:e}function YI(t,e,n){let r=1<<t;return!!(n[e+(t>>Mb)]&r)}function JI(t,e){return!(t&ve.Self)&&!(t&ve.Host&&e)}var co=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return Nb(this._tNode,this._lView,e,fd(r),n)}};function EO(){return new co(kt(),Ie())}function er(t){return lc(()=>{let e=t.prototype.constructor,n=e[Hl]||Ag(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Hl]||Ag(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Ag(t){return MC(t)?()=>{let e=Ag($t(t));return e&&e()}:lo(t)}function IO(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[ce]&2048&&!(s[ce]&512);){let a=Ob(o,s,n,r|ve.Self,Gn);if(a!==Gn)return a;let u=o.parent;if(!u){let l=s[eb];if(l){let h=l.get(n,Gn,r);if(h!==Gn)return h}u=kb(s),s=s[Ms]}o=u}return i}function kb(t){let e=t[ge],n=e.type;return n===2?e.declTNode:n===1?t[Mn]:null}function Om(t){return vO(kt(),t)}function ZI(t,e=null,n=null,r){let i=Fb(t,e,n,r);return i.resolveInjectorInitializers(),i}function Fb(t,e=null,n=null,r,i=new Set){let o=[n||fn,CN(t)];return r=r||(typeof t=="object"?void 0:Ht(t)),new oc(o,e||Em(),r||null,i)}var ao=class ao{static create(e,n){if(Array.isArray(e))return ZI({name:""},n,e,"");{let r=e.name??"";return ZI({name:r},e.parent,e.providers,r)}}};ao.THROW_IF_NOT_FOUND=rc,ao.NULL=new Gl,ao.\u0275prov=z({token:ao,providedIn:"any",factory:()=>q(LC)}),ao.__NG_ELEMENT_ID__=-1;var ft=ao;var CO=new H("");CO.__NG_ELEMENT_ID__=t=>{let e=kt();if(e===null)throw new K(204,!1);if(e.type&2)return e.value;if(t&ve.Optional)return null;throw new K(204,!1)};var bO="ngOriginalError";function og(t){return t[bO]}var Jn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&og(e);for(;n&&og(n);)n=og(n);return n||null}},Vb=new H("",{providedIn:"root",factory:()=>F(Jn).handleError.bind(void 0)}),km=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=DO,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),Mg=class extends km{constructor(e){super(),this._lView=e}onDestroy(e){return hb(this._lView,e),()=>HN(this._lView,e)}};function DO(){return new Mg(Ie())}function TO(){return xs(kt(),Ie())}function xs(t,e){return new zt(mn(t,e))}var zt=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=TO;let t=e;return t})();function SO(t){return t instanceof zt?t.nativeElement:t}var Rr=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ht(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275prov=z({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();var xg=class extends vt{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,XC()&&(this.destroyRef=F(km,{optional:!0})??void 0,this.pendingTasks=F(Rr,{optional:!0})??void 0)}emit(e){let n=xe(null);try{super.next(e)}finally{xe(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Qe&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},Ye=xg;function AO(){return this._results[Symbol.iterator]()}var Pg=class t{get changes(){return this._changes??=new Ye}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=AO)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=iN(e);(this._changesDetected=!rN(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function Lb(t){return(t.flags&128)===128}var Ub=new Map,MO=0;function xO(){return MO++}function PO(t){Ub.set(t[md],t)}function RO(t){Ub.delete(t[md])}var XI="__ngContext__";function vo(t,e){_i(e)?(t[XI]=e[md],PO(e)):t[XI]=e}function jb(t){return $b(t[sc])}function Bb(t){return $b(t[Tn])}function $b(t){for(;t!==null&&!xr(t);)t=t[Tn];return t}var Rg;function Hb(t){Rg=t}function zb(){if(Rg!==void 0)return Rg;if(typeof document<"u")return document;throw new K(210,!1)}var Fm=new H("",{providedIn:"root",factory:()=>NO}),NO="ng",Vm=new H(""),Dt=new H("",{providedIn:"platform",factory:()=>"unknown"});var Lm=new H("",{providedIn:"root",factory:()=>zb().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var OO="h",kO="b";var FO=()=>null;function Um(t,e,n=!1){return FO(t,e,n)}var qb=!1,VO=new H("",{providedIn:"root",factory:()=>qb});var Rl;function LO(){if(Rl===void 0&&(Rl=null,Dn.trustedTypes))try{Rl=Dn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Rl}function Ed(t){return LO()?.createHTML(t)||t}var Nl;function Gb(){if(Nl===void 0&&(Nl=null,Dn.trustedTypes))try{Nl=Dn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Nl}function eC(t){return Gb()?.createHTML(t)||t}function tC(t){return Gb()?.createScriptURL(t)||t}var Tr=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${SC})`}},Ng=class extends Tr{getTypeName(){return"HTML"}},Og=class extends Tr{getTypeName(){return"Style"}},kg=class extends Tr{getTypeName(){return"Script"}},Fg=class extends Tr{getTypeName(){return"URL"}},Vg=class extends Tr{getTypeName(){return"ResourceURL"}};function xn(t){return t instanceof Tr?t.changingThisBreaksApplicationSecurity:t}function Nr(t,e){let n=UO(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${SC})`)}return n===e}function UO(t){return t instanceof Tr&&t.getTypeName()||null}function Wb(t){return new Ng(t)}function Kb(t){return new Og(t)}function Qb(t){return new kg(t)}function Yb(t){return new Fg(t)}function Jb(t){return new Vg(t)}function jO(t){let e=new Ug(t);return BO()?new Lg(e):e}var Lg=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString(Ed(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}},Ug=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=Ed(e),n}};function BO(){try{return!!new window.DOMParser().parseFromString(Ed(""),"text/html")}catch{return!1}}var $O=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Id(t){return t=String(t),t.match($O)?t:"unsafe:"+t}function Or(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function pc(...t){let e={};for(let n of t)for(let r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}var Zb=Or("area,br,col,hr,img,wbr"),Xb=Or("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),eD=Or("rp,rt"),HO=pc(eD,Xb),zO=pc(Xb,Or("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),qO=pc(eD,Or("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),nC=pc(Zb,zO,qO,HO),tD=Or("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),GO=Or("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),WO=Or("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),KO=pc(tD,GO,WO),QO=Or("script,style,template"),jg=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0,i=[];for(;n;){if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild){i.push(n),n=ZO(n);continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let o=JO(n);if(o){n=o;break}n=i.pop()}}return this.buf.join("")}startElement(e){let n=rC(e).toLowerCase();if(!nC.hasOwnProperty(n))return this.sanitizedSomething=!0,!QO.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let r=e.attributes;for(let i=0;i<r.length;i++){let o=r.item(i),s=o.name,a=s.toLowerCase();if(!KO.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let u=o.value;tD[a]&&(u=Id(u)),this.buf.push(" ",s,'="',iC(u),'"')}return this.buf.push(">"),!0}endElement(e){let n=rC(e).toLowerCase();nC.hasOwnProperty(n)&&!Zb.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(iC(e))}};function YO(t,e){return(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function JO(t){let e=t.nextSibling;if(e&&t!==e.previousSibling)throw nD(e);return e}function ZO(t){let e=t.firstChild;if(e&&YO(t,e))throw nD(e);return e}function rC(t){let e=t.nodeName;return typeof e=="string"?e:"FORM"}function nD(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}var XO=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ek=/([^\#-~ |!])/g;function iC(t){return t.replace(/&/g,"&amp;").replace(XO,function(e){let n=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((n-55296)*1024+(r-56320)+65536)+";"}).replace(ek,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Ol;function jm(t,e){let n=null;try{Ol=Ol||jO(t);let r=e?String(e):"";n=Ol.getInertBodyElement(r);let i=5,o=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=Ol.getInertBodyElement(r)}while(r!==o);let a=new jg().sanitizeChildren(oC(n)||n);return Ed(a)}finally{if(n){let r=oC(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function oC(t){return"content"in t&&tk(t)?t.content:null}function tk(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var Pn=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Pn||{});function rD(t){let e=Bm();return e?eC(e.sanitize(Pn.HTML,t)||""):Nr(t,"HTML")?eC(xn(t)):jm(zb(),uo(t))}function Rn(t){let e=Bm();return e?e.sanitize(Pn.URL,t)||"":Nr(t,"URL")?xn(t):Id(uo(t))}function nk(t){let e=Bm();if(e)return tC(e.sanitize(Pn.RESOURCE_URL,t)||"");if(Nr(t,"ResourceURL"))return tC(xn(t));throw new K(904,!1)}function rk(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?nk:Rn}function iD(t,e,n){return rk(e,n)(t)}function Bm(){let t=Ie();return t&&t[Kn].sanitizer}function oD(t){return t instanceof Function?t():t}function ik(t){return(t??F(ft)).get(Dt)==="browser"}var Sr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Sr||{}),ok;function $m(t,e){return ok(t,e)}function gs(t,e,n,r,i){if(r!=null){let o,s=!1;xr(r)?o=r:_i(r)&&(s=!0,r=r[Mr]);let a=Yn(r);t===0&&n!==null?i==null?lD(e,n,a):nd(e,n,a,i||null,!0):t===1&&n!==null?nd(e,n,a,i||null,!0):t===2?Ek(e,a,s):t===3&&e.destroyNode(a),o!=null&&Ck(e,t,o,n,i)}}function sk(t,e){return t.createText(e)}function ak(t,e,n){t.setValue(e,n)}function sD(t,e,n){return t.createElement(e,n)}function ck(t,e){aD(t,e),e[Mr]=null,e[Mn]=null}function uk(t,e,n,r,i,o){r[Mr]=i,r[Mn]=e,Cd(t,r,n,1,i,o)}function aD(t,e){e[Kn].changeDetectionScheduler?.notify(8),Cd(t,e,e[at],2,null,null)}function lk(t){let e=t[sc];if(!e)return sg(t[ge],t);for(;e;){let n=null;if(_i(e))n=e[sc];else{let r=e[tn];r&&(n=r)}if(!n){for(;e&&!e[Tn]&&e!==t;)_i(e)&&sg(e[ge],e),e=e[Ot];e===null&&(e=t),_i(e)&&sg(e[ge],e),n=e&&e[Tn]}e=n}}function dk(t,e,n,r){let i=tn+r,o=n.length;r>0&&(n[i-1][Tn]=e),r<o-tn?(e[Tn]=n[i],VC(n,tn+r,e)):(n.push(e),e[Tn]=null),e[Ot]=n;let s=e[ho];s!==null&&n!==s&&cD(s,e);let a=e[Dr];a!==null&&a.insertView(t),Cg(e),e[ce]|=128}function cD(t,e){let n=t[Cs],r=e[Ot];if(_i(r))t[ce]|=Yl.HasTransplantedViews;else{let i=r[Ot][Qn];e[Qn]!==i&&(t[ce]|=Yl.HasTransplantedViews)}n===null?t[Cs]=[e]:n.push(e)}function Hm(t,e){let n=t[Cs],r=n.indexOf(e);n.splice(r,1)}function Bg(t,e){if(t.length<=tn)return;let n=tn+e,r=t[n];if(r){let i=r[ho];i!==null&&i!==t&&Hm(i,r),e>0&&(t[n-1][Tn]=r[Tn]);let o=ql(t,tn+e);ck(r[ge],r);let s=o[Dr];s!==null&&s.detachView(o[ge]),r[Ot]=null,r[Tn]=null,r[ce]&=-129}return r}function uD(t,e){if(!(e[ce]&256)){let n=e[at];n.destroyNode&&Cd(t,e,n,3,null,null),lk(e)}}function sg(t,e){if(e[ce]&256)return;let n=xe(null);try{e[ce]&=-129,e[ce]|=256,e[pn]&&Pp(e[pn]),fk(t,e),hk(t,e),e[ge].type===1&&e[at].destroy();let r=e[ho];if(r!==null&&xr(e[Ot])){r!==e[Ot]&&Hm(r,e);let i=e[Dr];i!==null&&i.detachView(t)}RO(e)}finally{xe(n)}}function hk(t,e){let n=t.cleanup,r=e[Kl];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[Kl]=null);let i=e[vi];if(i!==null){e[vi]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function fk(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof mo)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];qn(4,a,u);try{u.call(a)}finally{qn(5,a,u)}}else{qn(4,i,o);try{o.call(i)}finally{qn(5,i,o)}}}}}function pk(t,e,n){return gk(t,e.parent,n)}function gk(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[Mr];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===Wn.None||o===Wn.Emulated)return null}return mn(r,n)}}function nd(t,e,n,r,i){t.insertBefore(e,n,r,i)}function lD(t,e,n){t.appendChild(e,n)}function sC(t,e,n,r,i){r!==null?nd(t,e,n,r,i):lD(t,e,n)}function mk(t,e,n,r){t.removeChild(e,n,r)}function zm(t,e){return t.parentNode(e)}function yk(t,e){return t.nextSibling(e)}function vk(t,e,n){return wk(t,e,n)}function _k(t,e,n){return t.type&40?mn(t,n):null}var wk=_k,aC;function qm(t,e,n,r){let i=pk(t,r,e),o=e[at],s=r.parent||e[Mn],a=vk(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)sC(o,i,n[u],a,!1);else sC(o,i,n,a,!1);aC!==void 0&&aC(o,r,e,n,i)}function Bl(t,e){if(e!==null){let n=e.type;if(n&3)return mn(e,t);if(n&4)return $g(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Bl(t,r);{let i=t[e.index];return xr(i)?$g(-1,i):Yn(i)}}else{if(n&32)return $m(e,t)()||Yn(t[e.index]);{let r=dD(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=po(t[Qn]);return Bl(i,r)}else return Bl(t,e.next)}}}return null}function dD(t,e){if(e!==null){let r=t[Qn][Mn],i=e.projection;return r.projection[i]}return null}function $g(t,e){let n=tn+t+1;if(n<e.length){let r=e[n],i=r[ge].firstChild;if(i!==null)return Bl(r,i)}return e[fo]}function Ek(t,e,n){let r=zm(t,e);r&&mk(t,r,e,n)}function Gm(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],u=n.type;if(s&&e===0&&(a&&vo(Yn(a),r),n.flags|=2),(n.flags&32)!==32)if(u&8)Gm(t,e,n.child,r,i,o,!1),gs(e,t,i,a,o);else if(u&32){let l=$m(n,r),h;for(;h=l();)gs(e,t,i,h,o);gs(e,t,i,a,o)}else u&16?Ik(t,e,r,n,i,o):gs(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Cd(t,e,n,r,i,o){Gm(n,r,t.firstChild,e,i,o,!1)}function Ik(t,e,n,r,i,o){let s=n[Qn],u=s[Mn].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];gs(e,t,i,h,o)}else{let l=u,h=s[Ot];Lb(r)&&(l.flags|=128),Gm(t,e,l,h,i,o,!0)}}function Ck(t,e,n,r,i){let o=n[fo],s=Yn(n);o!==s&&gs(e,t,r,o,i);for(let a=tn;a<n.length;a++){let u=n[a];Cd(u[ge],u,t,e,r,o)}}function bk(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Sr.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Sr.Important),t.setStyle(n,r,i,o))}}function Dk(t,e,n){t.setAttribute(e,"style",n)}function hD(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function fD(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&yg(t,e,r),i!==null&&hD(t,e,i),o!==null&&Dk(t,e,o)}var tr={};function O(t=1){pD(_t(),Ie(),Io()+t,!1)}function pD(t,e,n,r){if(!r)if((e[ce]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Ll(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Ul(e,o,0,n)}go(n)}function $(t,e=ve.Default){let n=Ie();if(n===null)return q(t,e);let r=kt();return Nb(r,n,$t(t),e)}function gD(){let t="invalid";throw new Error(t)}function mD(t,e,n,r,i,o){let s=xe(null);try{let a=null;i&ws.SignalBased&&(a=e[r][Sp]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&ws.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):rb(e,a,r,o)}finally{xe(s)}}function Tk(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)go(~i);else{let o=i,s=n[++r],a=n[++r];nO(s,o);let u=e[o];a(2,u)}}}finally{go(-1)}}function bd(t,e,n,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[Mr]=i,p[ce]=r|4|128|8|64,(l!==null||t&&t[ce]&2048)&&(p[ce]|=2048),lb(p),p[Ot]=p[Ms]=t,p[Sn]=n,p[Kn]=s||t&&t[Kn],p[at]=a||t&&t[at],p[Is]=u||t&&t[Is]||null,p[Mn]=o,p[md]=xO(),p[Wl]=h,p[eb]=l,p[Qn]=e.type==2?t[Qn]:p,p}function Dd(t,e,n,r,i){let o=t.data[e];if(o===null)o=Sk(t,e,n,r,i),tO()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=YN();o.injectorIndex=s===null?-1:s.injectorIndex}return hc(o,!0),o}function Sk(t,e,n,r,i){let o=gb(),s=mb(),a=s?o:o&&o.parent,u=t.data[e]=Nk(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),o!==null&&(s?o.child==null&&u.parent!==null&&(o.child=u):o.next===null&&(o.next=u,u.prev=o)),u}function yD(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function vD(t,e,n,r,i){let o=Io(),s=r&2;try{go(-1),s&&e.length>gn&&pD(t,e,gn,!1),qn(s?2:0,i),n(r,i)}finally{go(o),qn(s?3:1,i)}}function _D(t,e,n){if(nb(e)){let r=xe(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let u=n[s];a.contentQueries(1,u,s)}}}finally{xe(r)}}}function wD(t,e,n){pb()&&(Uk(t,e,n,mn(n,e)),(n.flags&64)===64&&DD(t,e,n))}function ED(t,e,n=mn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function ID(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Wm(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Wm(t,e,n,r,i,o,s,a,u,l,h){let p=gn+r,m=p+i,y=Ak(p,m),A=typeof l=="function"?l():l;return y[ge]={type:t,blueprint:y,template:n,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:A,incompleteFirstPass:!1,ssrId:h}}function Ak(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:tr);return n}function Mk(t,e,n,r){let o=r.get(VO,qb)||n===Wn.ShadowDom,s=t.selectRootElement(e,o);return xk(s),s}function xk(t){Pk(t)}var Pk=()=>null;function Rk(t,e,n,r){let i=AD(e);i.push(n),t.firstCreatePass&&MD(t).push(r,i.length-1)}function Nk(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return WN()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function cC(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,u=ws.None;Array.isArray(s)?(a=s[0],u=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}t===0?uC(r,n,l,a,u):uC(r,n,l,a)}return r}function uC(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function Ok(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],u=null,l=null;for(let h=r;h<i;h++){let p=o[h],m=n?n.get(p):null,y=m?m.inputs:null,A=m?m.outputs:null;u=cC(0,p.inputs,h,u,y),l=cC(1,p.outputs,h,l,A);let N=u!==null&&s!==null&&!_m(e)?Yk(u,h,s):null;a.push(N)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}function kk(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Km(t,e,n,r,i,o,s,a){let u=mn(e,n),l=e.inputs,h;!a&&l!=null&&(h=l[r])?(Qm(t,n,h,r,i),yd(e)&&Fk(n,e.index)):e.type&3?(r=kk(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)):e.type&12}function Fk(t,e){let n=bi(e,t);n[ce]&16||(n[ce]|=64)}function CD(t,e,n,r){if(pb()){let i=r===null?null:{"":-1},o=Bk(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&bD(t,e,n,s,i,a),i&&$k(n,r,i)}n.mergedAttrs=ic(n.mergedAttrs,n.attrs)}function bD(t,e,n,r,i,o){for(let l=0;l<r.length;l++)Sg(td(n,e),t,r[l].type);zk(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let h=r[l];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,u=yD(t,e,r.length,null);for(let l=0;l<r.length;l++){let h=r[l];n.mergedAttrs=ic(n.mergedAttrs,h.hostAttrs),qk(t,n,e,u,h),Hk(u,h,i),h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let p=h.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}Ok(t,n,o)}function Vk(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;Lk(s)!=a&&s.push(a),s.push(n,r,o)}}function Lk(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function Uk(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;yd(n)&&Gk(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||td(n,e),vo(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let u=t.data[a],l=yo(e,t,a,n);if(vo(l,e),s!==null&&Qk(e,a-i,l,u,n,s),Ei(u)){let h=bi(n.index,e);h[Sn]=yo(e,t,a,n)}}}function DD(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=rO();try{go(o);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];bg(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&jk(u,l)}}finally{go(-1),bg(s)}}function jk(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function Bk(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(pN(e,s.selectors,!1))if(r||(r=[]),Ei(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let u=a.length;Hg(t,e,u)}else r.unshift(s),Hg(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Hg(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function $k(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new K(-301,!1);r.push(e[i],o)}}}function Hk(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Ei(e)&&(n[""]=t)}}function zk(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function qk(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=lo(i.type,!0)),s=new mo(o,Ei(i),$);t.blueprint[r]=s,n[r]=s,Vk(t,e,r,yD(t,n,i.hostVars,tr),i)}function Gk(t,e,n){let r=mn(e,t),i=ID(n),o=t[Kn].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=Td(t,bd(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function Wk(t,e,n,r,i,o){let s=mn(t,e);Kk(e[at],s,o,t.value,n,r,i)}function Kk(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?uo(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function Qk(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let u=s[a++],l=s[a++],h=s[a++],p=s[a++];mD(r,n,u,l,h,p)}}function Yk(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function TD(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function SD(t,e){let n=t.contentQueries;if(n!==null){let r=xe(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];Tm(o),a.contentQueries(2,e[s],s)}}}finally{xe(r)}}}function Td(t,e){return t[sc]?t[GI][Tn]=e:t[sc]=e,t[GI]=e,e}function zg(t,e,n){Tm(0);let r=xe(null);try{e(t,n)}finally{xe(r)}}function AD(t){return t[Kl]??=[]}function MD(t){return t.cleanup??=[]}function xD(t,e){let n=t[Is],r=n?n.get(Jn,null):null;r&&r.handleError(e)}function Qm(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],u=n[o++],l=e[s],h=t.data[s];mD(h,l,r,a,u,i)}}function PD(t,e,n){let r=cb(e,t);ak(t[at],r,n)}function Jk(t,e){let n=bi(e,t),r=n[ge];Zk(r,n);let i=n[Mr];i!==null&&n[Wl]===null&&(n[Wl]=Um(i,n[Is])),Ym(r,n,n[Sn])}function Zk(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Ym(t,e,n){Sm(e);try{let r=t.viewQuery;r!==null&&zg(1,r,n);let i=t.template;i!==null&&vD(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Dr]?.finishViewCreation(t),t.staticContentQueries&&SD(t,e),t.staticViewQueries&&zg(2,t.viewQuery,n);let o=t.components;o!==null&&Xk(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[ce]&=-5,Am()}}function Xk(t,e){for(let n=0;n<e.length;n++)Jk(t,e[n])}function e4(t,e,n,r){let i=xe(null);try{let o=e.tView,a=t[ce]&4096?4096:16,u=bd(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[ho]=l;let h=t[Dr];return h!==null&&(u[Dr]=h.createEmbeddedView(o)),Ym(o,u,n),u}finally{xe(i)}}function lC(t,e){return!e||e.firstChild===null||Lb(t)}function t4(t,e,n,r=!0){let i=e[ge];if(dk(i,e,t,n),r){let s=$g(n,t),a=e[at],u=zm(a,t[fo]);u!==null&&uk(i,t[Mn],a,e,u,s)}let o=e[Wl];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function rd(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(Yn(o)),xr(o)&&n4(o,r);let s=n.type;if(s&8)rd(t,e,n.child,r);else if(s&32){let a=$m(n,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=dD(e,n);if(Array.isArray(a))r.push(...a);else{let u=po(e[Qn]);rd(u[ge],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function n4(t,e){for(let n=tn;n<t.length;n++){let r=t[n],i=r[ge].firstChild;i!==null&&rd(r[ge],r,i,e)}t[fo]!==t[Mr]&&e.push(t[fo])}var RD=[];function r4(t){return t[pn]??i4(t)}function i4(t){let e=RD.pop()??Object.create(s4);return e.lView=t,e}function o4(t){t.lView[pn]!==t&&(t.lView=null,RD.push(t))}var s4=ye(U({},Ap),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{vd(t.lView)},consumerOnSignalRead(){this.lView[pn]=this}});function a4(t){let e=t[pn]??Object.create(c4);return e.lView=t,e}var c4=ye(U({},Ap),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=po(t.lView);for(;e&&!ND(e[ge]);)e=po(e);e&&db(e)},consumerOnSignalRead(){this.lView[pn]=this}});function ND(t){return t.type!==2}var u4=100;function OD(t,e=!0,n=0){let r=t[Kn],i=r.rendererFactory,o=!1;o||i.begin?.();try{l4(t,n)}catch(s){throw e&&xD(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function l4(t,e){let n=yb();try{KI(!0),qg(t,e);let r=0;for(;ac(t);){if(r===u4)throw new K(103,!1);r++,qg(t,1)}}finally{KI(n)}}function d4(t,e,n,r){let i=e[ce];if((i&256)===256)return;let o=!1,s=!1;!o&&e[Kn].inlineEffectRunner?.flush(),Sm(e);let a=!0,u=null,l=null;o||(ND(t)?(l=r4(e),u=Mp(l)):cI()===null?(a=!1,l=a4(e),u=Mp(l)):e[pn]&&(Pp(e[pn]),e[pn]=null));try{lb(e),eO(t.bindingStartIndex),n!==null&&vD(t,e,n,2,r);let h=(i&3)===3;if(!o)if(h){let y=t.preOrderCheckHooks;y!==null&&Ll(e,y,null)}else{let y=t.preOrderHooks;y!==null&&Ul(e,y,0,null),ng(e,0)}if(s||h4(e),kD(e,0),t.contentQueries!==null&&SD(t,e),!o)if(h){let y=t.contentCheckHooks;y!==null&&Ll(e,y)}else{let y=t.contentHooks;y!==null&&Ul(e,y,1),ng(e,1)}Tk(t,e);let p=t.components;p!==null&&VD(e,p,0);let m=t.viewQuery;if(m!==null&&zg(2,m,r),!o)if(h){let y=t.viewCheckHooks;y!==null&&Ll(e,y)}else{let y=t.viewHooks;y!==null&&Ul(e,y,2),ng(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[tg]){for(let y of e[tg])y();e[tg]=null}o||(e[ce]&=-73)}catch(h){throw o||vd(e),h}finally{l!==null&&(uI(l,u),a&&o4(l)),Am()}}function kD(t,e){for(let n=jb(t);n!==null;n=Bb(n))for(let r=tn;r<n.length;r++){let i=n[r];FD(i,e)}}function h4(t){for(let e=jb(t);e!==null;e=Bb(e)){if(!(e[ce]&Yl.HasTransplantedViews))continue;let n=e[Cs];for(let r=0;r<n.length;r++){let i=n[r];db(i)}}}function f4(t,e,n){let r=bi(e,t);FD(r,n)}function FD(t,e){bm(t)&&qg(t,e)}function qg(t,e){let r=t[ge],i=t[ce],o=t[pn],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&xp(o)),s||=!1,o&&(o.dirty=!1),t[ce]&=-9217,s)d4(r,t,r.template,t[Sn]);else if(i&8192){kD(t,1);let a=r.components;a!==null&&VD(t,a,1)}}function VD(t,e,n){for(let r=0;r<e.length;r++)f4(t,e[r],n)}function Jm(t,e){let n=yb()?64:1088;for(t[Kn].changeDetectionScheduler?.notify(e);t;){t[ce]|=n;let r=po(t);if(Eg(t)&&!r)return t;t=r}return null}var _o=class{get rootNodes(){let e=this._lView,n=e[ge];return rd(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Sn]}set context(e){this._lView[Sn]=e}get destroyed(){return(this._lView[ce]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Ot];if(xr(e)){let n=e[Ql],r=n?n.indexOf(this):-1;r>-1&&(Bg(e,r),ql(n,r))}this._attachedToViewContainer=!1}uD(this._lView[ge],this._lView)}onDestroy(e){hb(this._lView,e)}markForCheck(){Jm(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ce]&=-129}reattach(){Cg(this._lView),this._lView[ce]|=128}detectChanges(){this._lView[ce]|=1024,OD(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new K(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Eg(this._lView),n=this._lView[ho];n!==null&&!e&&Hm(n,this._lView),aD(this._lView[ge],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new K(902,!1);this._appRef=e;let n=Eg(this._lView),r=this._lView[ho];r!==null&&!n&&cD(r,this._lView),Cg(this._lView)}},wo=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=m4;let t=e;return t})(),p4=wo,g4=class extends p4{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=e4(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new _o(i)}};function m4(){return Zm(kt(),Ie())}function Zm(t,e){return t.type&4?new g4(e,t,xs(t,e)):null}var uK=new RegExp(`^(\\d+)*(${kO}|${OO})*(.*)`);var y4=()=>null;function dC(t,e){return y4(t,e)}var bs=class{},LD=new H("",{providedIn:"root",factory:()=>!1});var UD=new H(""),Gg=class{},id=class{};function v4(t){let e=Error(`No component factory found for ${Ht(t)}.`);return e[_4]=t,e}var _4="ngComponent";var Wg=class{resolveComponentFactory(e){throw v4(e)}},oy=class oy{};oy.NULL=new Wg;var Ds=oy,Ts=class{},Nn=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>w4();let t=e;return t})();function w4(){let t=Ie(),e=kt(),n=bi(e.index,t);return(_i(n)?n:t)[at]}var E4=(()=>{let e=class e{};e.\u0275prov=z({token:e,providedIn:"root",factory:()=>null});let t=e;return t})();var hC=new Set;function Sd(t){hC.has(t)||(hC.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function jD(t){let e=!0;return setTimeout(()=>{e&&(e=!1,t())}),typeof Dn.requestAnimationFrame=="function"&&Dn.requestAnimationFrame(()=>{e&&(e=!1,t())}),()=>{e=!1}}function fC(t){let e=!0;return queueMicrotask(()=>{e&&t()}),()=>{e=!1}}function pC(...t){}var be=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ye(!1),this.onMicrotaskEmpty=new Ye(!1),this.onStable=new Ye(!1),this.onError=new Ye(!1),typeof Zone>"u")throw new K(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.callbackScheduled=!1,b4(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new K(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new K(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,I4,pC,pC);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},I4={};function Xm(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function C4(t){t.isCheckStableRunning||t.callbackScheduled||(t.callbackScheduled=!0,Zone.root.run(()=>{jD(()=>{t.callbackScheduled=!1,Kg(t),t.isCheckStableRunning=!0,Xm(t),t.isCheckStableRunning=!1})}),Kg(t))}function b4(t){let e=()=>{C4(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(D4(a))return n.invokeTask(i,o,s,a);try{return gC(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),mC(t)}},onInvoke:(n,r,i,o,s,a,u)=>{try{return gC(t),n.invoke(i,o,s,a,u)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!T4(a)&&e(),mC(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,Kg(t),Xm(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function Kg(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function gC(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function mC(t){t._nesting--,Xm(t)}var Qg=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ye,this.onMicrotaskEmpty=new Ye,this.onStable=new Ye,this.onError=new Ye}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function D4(t){return BD(t,"__ignore_ng_zone__")}function T4(t){return BD(t,"__scheduler_tick__")}function BD(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var yi=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(yi||{}),S4={destroy(){}};function Ad(t,e){!e&&ON(Ad);let n=e?.injector??F(ft);if(!ik(n))return S4;Sd("NgAfterNextRender");let r=n.get(ey),i=r.handler??=new Jg,o=e?.phase??yi.MixedReadWrite,s=()=>{i.unregister(u),a()},a=n.get(km).onDestroy(s),u=rn(n,()=>new Yg(o,()=>{s(),t()}));return i.register(u),{destroy:s}}var Yg=class{constructor(e,n){this.phase=e,this.callbackFn=n,this.zone=F(be),this.errorHandler=F(Jn,{optional:!0}),F(bs,{optional:!0})?.notify(6)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},Jg=class{constructor(){this.executingCallbacks=!1,this.buckets={[yi.EarlyRead]:new Set,[yi.Write]:new Set,[yi.MixedReadWrite]:new Set,[yi.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let n of e)n.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},ey=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=z({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function Zg(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=FI(i,a);else if(o==2){let u=a,l=e[++s];r=FI(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var od=class extends Ds{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=wi(e);return new Ss(n,this.ngModule)}};function yC(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function A4(t){let e=t.toLowerCase();return e==="svg"?ab:e==="math"?UN:null}var Ss=class extends id{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=yC(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return yC(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=vN(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=xe(null);try{i=i||this.ngModule;let s=i instanceof Nt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Dg(e,s):e,u=a.get(Ts,null);if(u===null)throw new K(407,!1);let l=a.get(E4,null),h=a.get(ey,null),p=a.get(bs,null),m={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:h,changeDetectionScheduler:p},y=u.createRenderer(null,this.componentDef),A=this.componentDef.selectors[0][0]||"div",N=r?Mk(y,r,this.componentDef.encapsulation,a):sD(y,A,A4(A)),x=512;this.componentDef.signals?x|=4096:this.componentDef.onPush||(x|=16);let V=null;N!==null&&(V=Um(N,a,!0));let Z=Wm(0,null,null,1,0,null,null,null,null,null,null),W=bd(null,Z,null,x,null,null,m,y,a,null,V);Sm(W);let ee,Ve;try{let oe=this.componentDef,b,v=null;oe.findHostDirectiveDefs?(b=[],v=new Map,oe.findHostDirectiveDefs(oe,b,v),b.push(oe)):b=[oe];let _=M4(W,N),D=x4(_,N,oe,b,W,m,y);Ve=ub(Z,gn),N&&N4(y,oe,N,r),n!==void 0&&O4(Ve,this.ngContentSelectors,n),ee=R4(D,oe,b,v,W,[k4]),Ym(Z,W,null)}finally{Am()}return new Xg(this.componentType,ee,xs(Ve,W),W,Ve)}finally{xe(o)}}},Xg=class extends Gg{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new _o(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;Qm(o[ge],o,i,e,n),this.previousInputValues.set(e,n);let s=bi(this._tNode.index,o);Jm(s,1)}}get injector(){return new co(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function M4(t,e){let n=t[ge],r=gn;return t[r]=e,Dd(n,r,2,"#host",null)}function x4(t,e,n,r,i,o,s){let a=i[ge];P4(r,t,e,s);let u=null;e!==null&&(u=Um(e,i[Is]));let l=o.rendererFactory.createRenderer(e,n),h=16;n.signals?h=4096:n.onPush&&(h=64);let p=bd(i,ID(n),null,h,i[t.index],t,o,l,null,null,u);return a.firstCreatePass&&Hg(a,t,r.length-1),Td(i,p),i[t.index]=p}function P4(t,e,n,r){for(let i of t)e.mergedAttrs=ic(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Zg(e,e.mergedAttrs,!0),n!==null&&fD(r,n,e))}function R4(t,e,n,r,i,o){let s=kt(),a=i[ge],u=mn(s,i);bD(a,i,s,n,null,r);for(let h=0;h<n.length;h++){let p=s.directiveStart+h,m=yo(i,a,p,s);vo(m,i)}DD(a,i,s),u&&vo(u,i);let l=yo(i,a,s.directiveStart+s.componentOffset,s);if(t[Sn]=i[Sn]=l,o!==null)for(let h of o)h(l,e);return _D(a,s,i),l}function N4(t,e,n,r){if(r)yg(t,n,["ng-version","18.0.5"]);else{let{attrs:i,classes:o}=_N(e.selectors[0]);i&&yg(t,n,i),o&&o.length>0&&hD(t,n,o.join(" "))}}function O4(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function k4(){let t=kt();Rm(Ie()[ge],t)}var Di=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=F4;let t=e;return t})();function F4(){let t=kt();return HD(t,Ie())}var V4=Di,$D=class extends V4{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return xs(this._hostTNode,this._hostLView)}get injector(){return new co(this._hostTNode,this._hostLView)}get parentInjector(){let e=Nm(this._hostTNode,this._hostLView);if(Sb(e)){let n=Xl(e,this._hostLView),r=Zl(e),i=n[ge].data[r+8];return new co(i,n)}else return new co(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=vC(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-tn}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=dC(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,lC(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!kN(e),a;if(s)a=n;else{let A=n||{};a=A.index,r=A.injector,i=A.projectableNodes,o=A.environmentInjector||A.ngModuleRef}let u=s?e:new Ss(wi(e)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let N=(s?l:this.parentInjector).get(Nt,null);N&&(o=N)}let h=wi(u.componentType??{}),p=dC(this._lContainer,h?.id??null),m=p?.firstChild??null,y=u.create(l,i,m,o);return this.insertImpl(y.hostView,a,lC(this._hostTNode,p)),y}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(BN(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[Ot],l=new $D(u,u[Mn],u[Ot]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return t4(s,i,o,r),e.attachToViewContainerRef(),VC(ag(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=vC(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Bg(this._lContainer,n);r&&(ql(ag(this._lContainer),n),uD(r[ge],r))}detach(e){let n=this._adjustIndex(e,-1),r=Bg(this._lContainer,n);return r&&ql(ag(this._lContainer),n)!=null?new _o(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function vC(t){return t[Ql]}function ag(t){return t[Ql]||(t[Ql]=[])}function HD(t,e){let n,r=e[t.index];return xr(r)?n=r:(n=TD(r,e,null,t),e[t.index]=n,Td(e,n)),U4(n,e,t,r),new $D(n,t,e)}function L4(t,e){let n=t[at],r=n.createComment(""),i=mn(e,t),o=zm(n,i);return nd(n,o,r,yk(n,i),!1),r}var U4=$4,j4=()=>!1;function B4(t,e,n){return j4(t,e,n)}function $4(t,e,n,r){if(t[fo])return;let i;n.type&8?i=Yn(r):i=L4(e,n),t[fo]=i}var em=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},tm=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)ty(e,n).matches!==null&&this.queries[n].setDirty()}},sd=class{constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=Y4(e):this.predicate=e}},nm=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},rm=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,n,H4(n,o)),this.matchTNodeWithReadOption(e,n,jl(n,e,o,!1,!1))}else r===wo?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,jl(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===zt||i===Di||i===wo&&n.type&4)this.addMatch(n.index,-2);else{let o=jl(n,e,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function H4(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function z4(t,e){return t.type&11?xs(t,e):t.type&4?Zm(t,e):null}function q4(t,e,n,r){return n===-1?z4(e,t):n===-2?G4(t,e,r):yo(t,t[ge],n,e)}function G4(t,e,n){if(n===zt)return xs(e,t);if(n===wo)return Zm(e,t);if(n===Di)return HD(e,t)}function zD(t,e,n,r){let i=e[Dr].queries[r];if(i.matches===null){let o=t.data,s=n.matches,a=[];for(let u=0;s!==null&&u<s.length;u+=2){let l=s[u];if(l<0)a.push(null);else{let h=o[l];a.push(q4(e,h,s[u+1],n.metadata.read))}}i.matches=a}return i.matches}function im(t,e,n,r){let i=t.queries.getByIndex(n),o=i.matches;if(o!==null){let s=zD(t,e,i,n);for(let a=0;a<o.length;a+=2){let u=o[a];if(u>0)r.push(s[a/2]);else{let l=o[a+1],h=e[-u];for(let p=tn;p<h.length;p++){let m=h[p];m[ho]===m[Ot]&&im(m[ge],m,l,r)}if(h[Cs]!==null){let p=h[Cs];for(let m=0;m<p.length;m++){let y=p[m];im(y[ge],y,l,r)}}}}}return r}function W4(t,e){return t[Dr].queries[e].queryList}function qD(t,e,n){let r=new Pg((n&4)===4);return Rk(t,e,r,r.destroy),(e[Dr]??=new tm).queries.push(new em(r))-1}function K4(t,e,n){let r=_t();return r.firstCreatePass&&(GD(r,new sd(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),qD(r,Ie(),e)}function Q4(t,e,n,r){let i=_t();if(i.firstCreatePass){let o=kt();GD(i,new sd(e,n,r),o.index),J4(i,t),(n&2)===2&&(i.staticContentQueries=!0)}return qD(i,Ie(),n)}function Y4(t){return t.split(",").map(e=>e.trim())}function GD(t,e,n){t.queries===null&&(t.queries=new nm),t.queries.track(new rm(e,n))}function J4(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function ty(t,e){return t.queries.getByIndex(e)}function Z4(t,e){let n=t[ge],r=ty(n,e);return r.crossesNgTemplate?im(n,t,e,[]):zD(n,t,r,e)}function X4(t){return typeof t=="function"&&t[Sp]!==void 0}function WD(t){return X4(t)&&typeof t.set=="function"}function eF(t){return Object.getPrototypeOf(t.prototype).constructor}function on(t){let e=eF(t.type),n=!0,r=[t];for(;e;){let i;if(Ei(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new K(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=kl(t.inputs),s.inputTransforms=kl(t.inputTransforms),s.declaredInputs=kl(t.declaredInputs),s.outputs=kl(t.outputs);let a=i.hostBindings;a&&oF(t,a);let u=i.viewQuery,l=i.contentQueries;if(u&&rF(t,u),l&&iF(t,l),tF(t,i),L1(t.outputs,i.outputs),Ei(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===on&&(n=!1)}}e=Object.getPrototypeOf(e)}nF(r)}function tF(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function nF(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=ic(i.hostAttrs,n=ic(n,i.hostAttrs))}}function kl(t){return t===vs?{}:t===fn?[]:t}function rF(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function iF(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function oF(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function ny(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var Ii=class{},cc=class{};var om=class extends Ii{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new od(this);let i=GC(e);this._bootstrapComponents=oD(i.bootstrap),this._r3Injector=Fb(e,n,[{provide:Ii,useValue:this},{provide:Ds,useValue:this.componentFactoryResolver},...r],Ht(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},sm=class extends cc{constructor(e){super(),this.moduleType=e}create(e){return new om(this.moduleType,e,[])}};var ad=class extends Ii{constructor(e){super(),this.componentFactoryResolver=new od(this),this.instance=null;let n=new oc([...e.providers,{provide:Ii,useValue:this},{provide:Ds,useValue:this.componentFactoryResolver}],e.parent||Em(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Md(t,e,n=null){return new ad({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function KD(t){return aF(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function sF(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function aF(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function QD(t,e,n){return t[e]=n}function Ci(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function YD(t,e,n,r){let i=Ci(t,e,n);return Ci(t,e+1,r)||i}function cF(t){return(t.flags&32)===32}function uF(t,e,n,r,i,o,s,a,u){let l=e.consts,h=Dd(e,t,4,s||null,a||null);CD(e,n,h,Jl(l,u)),Rm(e,h);let p=h.tView=Wm(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function lF(t,e,n,r,i,o,s,a,u,l){let h=n+gn,p=e.firstCreatePass?uF(h,e,t,r,i,o,s,a,u):e.data[h];hc(p,!1);let m=dF(e,t,p,n);xm()&&qm(e,t,m,p),vo(m,t);let y=TD(m,t,m,p);return t[h]=y,Td(t,y),B4(y,p,t),Im(p)&&wD(e,t,p),u!=null&&ED(t,p,l),p}function ke(t,e,n,r,i,o,s,a){let u=Ie(),l=_t(),h=Jl(l.consts,o);return lF(u,l,t,e,n,r,i,h,s,a),ke}var dF=hF;function hF(t,e,n,r){return Pm(!0),e[at].createComment("")}function gc(t,e,n,r){let i=Ie(),o=_d();if(Ci(i,o,e)){let s=_t(),a=wd();Wk(a,i,t,e,n,r)}return gc}function JD(t,e,n,r){return Ci(t,_d(),n)?e+uo(n)+r:tr}function fF(t,e,n,r,i,o){let s=XN(),a=YD(t,s,n,i);return vb(2),a?e+uo(n)+r+uo(i)+o:tr}function Fl(t,e){return t<<17|e<<2}function Eo(t){return t>>17&32767}function pF(t){return(t&2)==2}function gF(t,e){return t&131071|e<<17}function am(t){return t|2}function As(t){return(t&131068)>>2}function cg(t,e){return t&-131069|e<<2}function mF(t){return(t&1)===1}function cm(t){return t|1}function yF(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Eo(s),u=As(s);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||dc(p,h)>0)&&(l=!0)}else h=n;if(i)if(u!==0){let m=Eo(t[a+1]);t[r+1]=Fl(m,a),m!==0&&(t[m+1]=cg(t[m+1],r)),t[a+1]=gF(t[a+1],r)}else t[r+1]=Fl(a,0),a!==0&&(t[a+1]=cg(t[a+1],r)),a=r;else t[r+1]=Fl(u,0),a===0?a=r:t[u+1]=cg(t[u+1],r),u=r;l&&(t[r+1]=am(t[r+1])),_C(t,h,r,!0),_C(t,h,r,!1),vF(e,h,t,r,o),s=Fl(a,u),o?e.classBindings=s:e.styleBindings=s}function vF(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&dc(o,e)>=0&&(n[r+1]=cm(n[r+1]))}function _C(t,e,n,r){let i=t[n+1],o=e===null,s=r?Eo(i):As(i),a=!1;for(;s!==0&&(a===!1||o);){let u=t[s],l=t[s+1];_F(u,e)&&(a=!0,t[s+1]=r?cm(l):am(l)),s=r?Eo(l):As(l)}a&&(t[n+1]=r?am(i):cm(i))}function _F(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?dc(t,e)>=0:!1}function ne(t,e,n){let r=Ie(),i=_d();if(Ci(r,i,e)){let o=_t(),s=wd();Km(o,s,r,t,e,r[at],n,!1)}return ne}function wC(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";Qm(t,n,o[s],s,r)}function sn(t,e){return wF(t,e,null,!0),sn}function wF(t,e,n,r){let i=Ie(),o=_t(),s=vb(2);if(o.firstUpdatePass&&IF(o,t,s,r),e!==tr&&Ci(i,s,e)){let a=o.data[Io()];SF(o,a,i,i[at],t,i[s+1]=AF(e,n),r,s)}}function EF(t,e){return e>=t.expandoStartIndex}function IF(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[Io()],s=EF(t,n);MF(o,r)&&e===null&&!s&&(e=!1),e=CF(i,o,e,r),yF(i,o,e,n,s,r)}}function CF(t,e,n,r){let i=iO(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=ug(null,t,e,n,r),n=uc(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=ug(i,t,e,n,r),o===null){let u=bF(t,e,r);u!==void 0&&Array.isArray(u)&&(u=ug(null,t,e,u[1],r),u=uc(u,e.attrs,r),DF(t,e,r,u))}else o=TF(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function bF(t,e,n){let r=n?e.classBindings:e.styleBindings;if(As(r)!==0)return t[Eo(r)]}function DF(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Eo(i)]=r}function TF(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=uc(r,s,n)}return uc(r,e.attrs,n)}function ug(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=uc(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function uc(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),sN(t,s,n?!0:e[++o]))}return t===void 0?null:t}function SF(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],h=mF(l)?EC(u,e,n,i,As(l),s):void 0;if(!cd(h)){cd(o)||pF(l)&&(o=EC(u,null,n,i,a,s));let p=cb(Io(),n);bk(r,s,p,i,o)}}function EC(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,m=n[i+1];m===tr&&(m=p?fn:void 0);let y=p?Xp(m,r):h===r?m:void 0;if(l&&!cd(y)&&(y=Xp(u,r)),cd(y)&&(a=y,s))return a;let A=t[i+1];i=s?Eo(A):As(A)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=Xp(u,r))}return a}function cd(t){return t!==void 0}function AF(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Ht(xn(t)))),t}function MF(t,e){return(t.flags&(e?8:16))!==0}function xF(t,e,n,r,i,o){let s=e.consts,a=Jl(s,i),u=Dd(e,t,2,r,a);return CD(e,n,u,Jl(s,o)),u.attrs!==null&&Zg(u,u.attrs,!1),u.mergedAttrs!==null&&Zg(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function I(t,e,n,r){let i=Ie(),o=_t(),s=gn+t,a=i[at],u=o.firstCreatePass?xF(s,o,i,e,n,r):o.data[s],l=PF(o,i,u,a,e,t);i[s]=l;let h=Im(u);return hc(u,!0),fD(a,l,u),!cF(u)&&xm()&&qm(o,i,l,u),zN()===0&&vo(l,i),qN(),h&&(wD(o,i,u),_D(o,u,i)),r!==null&&ED(i,u),I}function C(){let t=kt();mb()?JN():(t=t.parent,hc(t,!1));let e=t;KN(e)&&QN(),GN();let n=_t();return n.firstCreatePass&&(Rm(n,t),nb(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&hO(e)&&wC(n,e,Ie(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&fO(e)&&wC(n,e,Ie(),e.stylesWithoutHost,!1),C}function se(t,e,n,r){return I(t,e,n,r),C(),se}var PF=(t,e,n,r,i,o)=>(Pm(!0),sD(r,i,cO()));function ct(){return Ie()}var so=void 0;function RF(t){let e=t,n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&r===0?1:5}var NF=["en",[["a","p"],["AM","PM"],so],[["AM","PM"],so,so],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],so,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],so,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",so,"{1} 'at' {0}",so],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",RF],lg={};function yn(t){let e=OF(t),n=IC(e);if(n)return n;let r=e.split("-")[0];if(n=IC(r),n)return n;if(r==="en")return NF;throw new K(701,!1)}function IC(t){return t in lg||(lg[t]=Dn.ng&&Dn.ng.common&&Dn.ng.common.locales&&Dn.ng.common.locales[t]),lg[t]}var tt=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(tt||{});function OF(t){return t.toLowerCase().replace(/_/g,"-")}var ud="en-US";var kF=ud;function FF(t){typeof t=="string"&&(kF=t.toLowerCase().replace(/_/g,"-"))}var VF=(t,e,n)=>{};function B(t,e,n,r){let i=Ie(),o=_t(),s=kt();return ZD(o,i,i[at],s,t,e,r),B}function LF(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[Kl],u=i[o+2];return a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function ZD(t,e,n,r,i,o,s){let a=Im(r),l=t.firstCreatePass&&MD(t),h=e[Sn],p=AD(e),m=!0;if(r.type&3||s){let N=mn(r,e),x=s?s(N):N,V=p.length,Z=s?ee=>s(Yn(ee[r.index])):r.index,W=null;if(!s&&a&&(W=LF(t,e,i,r.index)),W!==null){let ee=W.__ngLastListenerFn__||W;ee.__ngNextListenerFn__=o,W.__ngLastListenerFn__=o,m=!1}else{o=bC(r,e,h,o),VF(N,i,o);let ee=n.listen(x,i,o);p.push(o,ee),l&&l.push(i,Z,V,V+1)}}else o=bC(r,e,h,o);let y=r.outputs,A;if(m&&y!==null&&(A=y[i])){let N=A.length;if(N)for(let x=0;x<N;x+=2){let V=A[x],Z=A[x+1],Ve=e[V][Z].subscribe(o),oe=p.length;p.push(o,Ve),l&&l.push(i,r.index,oe,-(oe+1))}}}function CC(t,e,n,r){let i=xe(null);try{return qn(6,e,n),n(r)!==!1}catch(o){return xD(t,o),!1}finally{qn(7,e,n),xe(i)}}function bC(t,e,n,r){return function i(o){if(o===Function)return r;let s=t.componentOffset>-1?bi(t.index,e):e;Jm(s,5);let a=CC(e,n,r,o),u=i.__ngNextListenerFn__;for(;u;)a=CC(e,n,u,o)&&a,u=u.__ngNextListenerFn__;return a}}function J(t=1){return sO(t)}function kr(t,e,n){return XD(t,"",e,"",n),kr}function XD(t,e,n,r,i){let o=Ie(),s=JD(o,e,n,r);if(s!==tr){let a=_t(),u=wd();Km(a,u,o,t,s,o[at],i,!1)}return XD}function eT(t,e,n,r){Q4(t,e,n,r)}function tT(t,e,n){K4(t,e,n)}function xd(t){let e=Ie(),n=_t(),r=_b();Tm(r+1);let i=ty(n,r);if(t.dirty&&jN(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let o=Z4(e,r);t.reset(o,SO),t.notifyOnChanges()}return!0}return!1}function Pd(){return W4(Ie(),_b())}function UF(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function mc(t){let e=ZN();return Cm(e,gn+t)}function R(t,e=""){let n=Ie(),r=_t(),i=t+gn,o=r.firstCreatePass?Dd(r,i,1,e,null):r.data[i],s=jF(r,n,o,e,t);n[i]=s,xm()&&qm(r,n,s,o),hc(o,!1)}var jF=(t,e,n,r,i)=>(Pm(!0),sk(e[at],r));function $e(t){return On("",t,""),$e}function On(t,e,n){let r=Ie(),i=JD(r,t,e,n);return i!==tr&&PD(r,Io(),i),On}function Fr(t,e,n,r,i){let o=Ie(),s=fF(o,t,e,n,r,i);return s!==tr&&PD(o,Io(),s),Fr}function Se(t,e,n){WD(e)&&(e=e());let r=Ie(),i=_d();if(Ci(r,i,e)){let o=_t(),s=wd();Km(o,s,r,t,e,r[at],n,!1)}return Se}function Pe(t,e){let n=WD(t);return n&&t.set(e),n}function Ae(t,e){let n=Ie(),r=_t(),i=kt();return ZD(r,n,n[at],i,t,e),Ae}function BF(t,e,n){let r=_t();if(r.firstCreatePass){let i=Ei(t);um(n,r.data,r.blueprint,i,!0),um(e,r.data,r.blueprint,i,!1)}}function um(t,e,n,r,i){if(t=$t(t),Array.isArray(t))for(let o=0;o<t.length;o++)um(t[o],e,n,r,i);else{let o=_t(),s=Ie(),a=kt(),u=Es(t)?t:$t(t.provide),l=ZC(t),h=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if(Es(t)||!t.multi){let y=new mo(l,i,$),A=hg(u,e,i?h:h+m,p);A===-1?(Sg(td(a,s),o,u),dg(o,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(y),s.push(y)):(n[A]=y,s[A]=y)}else{let y=hg(u,e,h+m,p),A=hg(u,e,h,h+m),N=y>=0&&n[y],x=A>=0&&n[A];if(i&&!x||!i&&!N){Sg(td(a,s),o,u);let V=zF(i?HF:$F,n.length,i,r,l);!i&&x&&(n[A].providerFactory=V),dg(o,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(V),s.push(V)}else{let V=nT(n[i?A:y],l,!i&&r);dg(o,t,y>-1?y:A,V)}!i&&r&&x&&n[A].componentProviders++}}}function dg(t,e,n,r){let i=Es(e),o=SN(e);if(i||o){let u=(o?$t(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[r,u]):l[h+1].push(r,u)}else l.push(n,u)}}}function nT(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function hg(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function $F(t,e,n,r){return lm(this.multi,[])}function HF(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=yo(n,n[ge],this.providerFactory.index,r);o=a.slice(0,s),lm(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],lm(i,o);return o}function lm(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function zF(t,e,n,r,i){let o=new mo(t,n,$);return o.multi=[],o.index=e,o.componentProviders=0,nT(o,i,r&&!n),o}function Vr(t,e=[]){return n=>{n.providersResolver=(r,i)=>BF(r,i?i(t):t,e)}}var qF=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=QC(!1,r.type),o=i.length>0?Md([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=z({token:e,providedIn:"environment",factory:()=>new e(q(Nt))});let t=e;return t})();function Ze(t){Sd("NgStandalone"),t.getStandaloneInjector=e=>e.get(qF).getOrCreateStandaloneInjector(t)}function Rd(t,e,n,r){return iT(Ie(),Dm(),t,e,n,r)}function rT(t,e){let n=t[e];return n===tr?void 0:n}function iT(t,e,n,r,i,o){let s=e+n;return Ci(t,s,i)?QD(t,s+1,o?r.call(o,i):r(i)):rT(t,s+1)}function GF(t,e,n,r,i,o,s){let a=e+n;return YD(t,a,i,o)?QD(t,a+2,s?r.call(s,i,o):r(i,o)):rT(t,a+2)}function ry(t,e){let n=_t(),r,i=t+gn;n.firstCreatePass?(r=WF(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=lo(r.type,!0)),s,a=Qt($);try{let u=ed(!1),l=o();return ed(u),UF(n,Ie(),i,l),l}finally{Qt(a)}}function WF(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function oT(t,e,n){let r=t+gn,i=Ie(),o=Cm(i,r);return aT(i,r)?iT(i,Dm(),e,o.transform,n,o):o.transform(n)}function sT(t,e,n,r){let i=t+gn,o=Ie(),s=Cm(o,i);return aT(o,i)?GF(o,Dm(),e,s.transform,n,r,s):s.transform(n,r)}function aT(t,e){return t[ge].data[e].pure}var Ar=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},cT=new Ar("18.0.5");var Nd=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var uT=new H("");function Co(t){return!!t&&typeof t.then=="function"}function lT(t){return!!t&&typeof t.subscribe=="function"}var Od=new H(""),dT=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=F(Od,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let o of this.appInits){let s=o();if(Co(s))r.push(s);else if(lT(s)){let a=new Promise((u,l)=>{s.subscribe({complete:u,error:l})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),yc=new H("");function KF(){lI(()=>{throw new K(600,!1)})}function QF(t){return t.isBoundToModule}var YF=10;function JF(t,e,n){try{let r=n();return Co(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var bo=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=F(Vb),this.afterRenderEffectManager=F(ey),this.zonelessEnabled=F(LD),this.externalTestViews=new Set,this.beforeRender=new vt,this.afterTick=new vt,this.componentTypes=[],this.components=[],this.isStable=F(Rr).hasPendingTasks.pipe(re(r=>!r)),this._injector=F(Nt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let o=r instanceof id;if(!this._injector.get(dT).done){let y=!o&&qC(r),A=!1;throw new K(405,A)}let a;o?a=r:a=this._injector.get(Ds).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let u=QF(a)?void 0:this._injector.get(Ii),l=i||a.selector,h=a.create(ft.NULL,[],l,u),p=h.location.nativeElement,m=h.injector.get(uT,null);return m?.registerApplication(p),h.onDestroy(()=>{this.detachView(h.hostView),fg(this.components,h),m?.unregisterApplication(p)}),this._loadComponent(h),h}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new K(101,!1);let i=xe(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(o){this.internalErrorHandler(o)}finally{this._runningTick=!1,xe(i),this.afterTick.next()}}detectChangesInAttachedViews(r){let i=null;this._injector.destroyed||(i=this._injector.get(Ts,null,{optional:!0}));let o=0,s=this.afterRenderEffectManager;for(;o<YF;){let a=o===0;if(r||!a){this.beforeRender.next(a);for(let{_lView:u,notifyErrorHandler:l}of this._views)ZF(u,l,a,this.zonelessEnabled)}else i?.begin?.(),i?.end?.();if(o++,s.executeInternalCallbacks(),!this.allViews.some(({_lView:u})=>ac(u))&&(s.execute(),!this.allViews.some(({_lView:u})=>ac(u))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;fg(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(yc,[]);[...this._bootstrapListeners,...i].forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>fg(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new K(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function fg(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function ZF(t,e,n,r){if(!n&&!ac(t))return;OD(t,e,n&&!r?0:1)}var dm=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},kd=(()=>{let e=class e{compileModuleSync(r){return new sm(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),o=GC(r),s=oD(o.declarations).reduce((a,u)=>{let l=wi(u);return l&&a.push(new Ss(l)),a},[]);return new dm(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var XF=(()=>{let e=class e{constructor(){this.zone=F(be),this.changeDetectionScheduler=F(bs),this.applicationRef=F(bo)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function eV({ngZoneFactory:t,ignoreChangesOutsideZone:e}){return t??=()=>new be(nV()),[{provide:be,useFactory:t},{provide:_s,multi:!0,useFactory:()=>{let n=F(XF,{optional:!0});return()=>n.initialize()}},{provide:_s,multi:!0,useFactory:()=>{let n=F(rV);return()=>{n.initialize()}}},{provide:Vb,useFactory:tV},e===!0?{provide:UD,useValue:!0}:[]]}function tV(){let t=F(be),e=F(Jn);return n=>t.runOutsideAngular(()=>e.handleError(n))}function nV(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var rV=(()=>{let e=class e{constructor(){this.subscription=new Qe,this.initialized=!1,this.zone=F(be),this.pendingTasks=F(Rr)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{be.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{be.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var iV=(()=>{let e=class e{constructor(){this.appRef=F(bo),this.taskService=F(Rr),this.ngZone=F(be),this.zonelessEnabled=F(LD),this.disableScheduling=F(UD,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Qe,this.cancelScheduledCallback=null,this.shouldRefreshViews=!1,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Qg||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&r===5)return;switch(r){case 3:case 2:case 0:case 4:case 5:case 1:{this.shouldRefreshViews=!0;break}case 8:case 7:case 6:case 9:default:}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?fC:jD;this.pendingRenderTaskId=this.taskService.add(),this.zoneIsDefined?Zone.root.run(()=>{this.cancelScheduledCallback=i(()=>{this.tick(this.shouldRefreshViews)})}):this.cancelScheduledCallback=i(()=>{this.tick(this.shouldRefreshViews)})}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&be.isInAngularZone())}tick(r){if(this.runningTick||this.appRef.destroyed)return;let i=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick(r)},void 0,this.schedulerTickApplyArgs)}catch(o){throw this.taskService.remove(i),o}finally{this.cleanup()}this.useMicrotaskScheduler=!0,fC(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(i)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.shouldRefreshViews=!1,this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function oV(){return typeof $localize<"u"&&$localize.locale||ud}var Fd=new H("",{providedIn:"root",factory:()=>F(Fd,ve.Optional|ve.SkipSelf)||oV()});var hT=new H("");var $l=null;function sV(t=[],e){return ft.create({name:e,providers:[{provide:gd,useValue:"platform"},{provide:hT,useValue:new Set([()=>$l=null])},...t]})}function aV(t=[]){if($l)return $l;let e=sV(t);return $l=e,KF(),cV(e),e}function cV(t){t.get(Vm,null)?.forEach(n=>n())}function fT(){return!1}var Ti=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=uV;let t=e;return t})();function uV(t){return lV(kt(),Ie(),(t&16)===16)}function lV(t,e,n){if(yd(t)&&!n){let r=bi(t.index,e);return new _o(r,r)}else if(t.type&175){let r=e[Qn];return new _o(r,e)}return null}var hm=class{constructor(){}supports(e){return KD(e)}create(e){return new fm(e)}},dV=(t,e)=>e,fm=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||dV}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<DC(r,i,o)?n:r,a=DC(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=u-i;if(l!=h){for(let m=0;m<l;m++){let y=m<o.length?o[m]:o[m]=0,A=y+m;h<=A&&A<l&&(o[m]=y+1)}let p=s.previousIndex;o[p]=h-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!KD(e))throw new K(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,sF(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new pm(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new ld),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new ld),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},pm=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},gm=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},ld=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new gm,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function DC(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function TC(){return new iy([new hm])}var iy=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let o=i.factories.slice();r=r.concat(o)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||TC()),deps:[[e,new ym,new pt]]}}find(r){let i=this.factories.find(o=>o.supports(r));if(i!=null)return i;throw new K(901,!1)}};e.\u0275prov=z({token:e,providedIn:"root",factory:TC});let t=e;return t})();function pT(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=aV(r),o=[eV({}),{provide:bs,useExisting:iV},...n||[]],a=new ad({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,u=a.get(be);return u.run(()=>{a.resolveInjectorInitializers();let l=a.get(Jn,null),h;u.runOutsideAngular(()=>{h=u.onError.subscribe({next:y=>{l.handleError(y)}})});let p=()=>a.destroy(),m=i.get(hT);return m.add(p),a.onDestroy(()=>{h.unsubscribe(),m.delete(p)}),JF(l,u,()=>{let y=a.get(dT);return y.runInitializers(),y.donePromise.then(()=>{let A=a.get(Fd,ud);FF(A||ud);let N=a.get(bo);return e!==void 0&&N.bootstrap(e),N})})})}catch(e){return Promise.reject(e)}}function Si(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function gT(t){let e=wi(t);if(!e)return null;let n=new Ss(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var IT=null;function Br(){return IT}function CT(t){IT??=t}var qd=class{};var Tt=new H(""),py=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>F(hV),providedIn:"platform"});let t=e;return t})(),bT=new H(""),hV=(()=>{let e=class e extends py{constructor(){super(),this._doc=F(Tt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Br().getBaseHref(this._doc)}onPopState(r){let i=Br().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=Br().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function gy(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function mT(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Ur(t){return t&&t[0]!=="?"?"?"+t:t}var $r=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>F(my),providedIn:"root"});let t=e;return t})(),DT=new H(""),my=(()=>{let e=class e extends $r{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??F(Tt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return gy(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+Ur(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+Ur(s));this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+Ur(s));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(q(py),q(DT,8))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),TT=(()=>{let e=class e extends $r{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=gy(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+Ur(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+Ur(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(q(py),q(DT,8))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),Rs=(()=>{let e=class e{constructor(r){this._subject=new Ye,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=gV(mT(yT(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Ur(i))}normalize(r){return e.stripTrailingSlash(pV(this._basePath,yT(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Ur(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Ur(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}};e.normalizeQueryParams=Ur,e.joinWithSlash=gy,e.stripTrailingSlash=mT,e.\u0275fac=function(i){return new(i||e)(q($r))},e.\u0275prov=z({token:e,factory:()=>fV(),providedIn:"root"});let t=e;return t})();function fV(){return new Rs(q($r))}function pV(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function yT(t){return t.replace(/\/index.html$/,"")}function gV(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var qt=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(qt||{}),Be=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(Be||{}),an=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(an||{}),Ai={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function mV(t){return yn(t)[tt.LocaleId]}function yV(t,e,n){let r=yn(t),i=[r[tt.DayPeriodsFormat],r[tt.DayPeriodsStandalone]],o=vn(i,e);return vn(o,n)}function vV(t,e,n){let r=yn(t),i=[r[tt.DaysFormat],r[tt.DaysStandalone]],o=vn(i,e);return vn(o,n)}function _V(t,e,n){let r=yn(t),i=[r[tt.MonthsFormat],r[tt.MonthsStandalone]],o=vn(i,e);return vn(o,n)}function wV(t,e){let r=yn(t)[tt.Eras];return vn(r,e)}function Vd(t,e){let n=yn(t);return vn(n[tt.DateFormat],e)}function Ld(t,e){let n=yn(t);return vn(n[tt.TimeFormat],e)}function Ud(t,e){let r=yn(t)[tt.DateTimeFormat];return vn(r,e)}function Wd(t,e){let n=yn(t),r=n[tt.NumberSymbols][e];if(typeof r>"u"){if(e===Ai.CurrencyDecimal)return n[tt.NumberSymbols][Ai.Decimal];if(e===Ai.CurrencyGroup)return n[tt.NumberSymbols][Ai.Group]}return r}function ST(t){if(!t[tt.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[tt.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function EV(t){let e=yn(t);return ST(e),(e[tt.ExtraData][2]||[]).map(r=>typeof r=="string"?sy(r):[sy(r[0]),sy(r[1])])}function IV(t,e,n){let r=yn(t);ST(r);let i=[r[tt.ExtraData][0],r[tt.ExtraData][1]],o=vn(i,e)||[];return vn(o,n)||[]}function vn(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function sy(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var CV=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,jd={},bV=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,jr=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(jr||{}),Ne=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(Ne||{}),Re=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(Re||{});function DV(t,e,n,r){let i=OV(t);e=Lr(n,e)||e;let s=[],a;for(;e;)if(a=bV.exec(e),a){s=s.concat(a.slice(1));let h=s.pop();if(!h)break;e=h}else{s.push(e);break}let u=i.getTimezoneOffset();r&&(u=MT(r,u),i=NV(i,r,!0));let l="";return s.forEach(h=>{let p=PV(h);l+=p?p(i,n,u):h==="''"?"'":h.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function Gd(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function Lr(t,e){let n=mV(t);if(jd[n]??={},jd[n][e])return jd[n][e];let r="";switch(e){case"shortDate":r=Vd(t,an.Short);break;case"mediumDate":r=Vd(t,an.Medium);break;case"longDate":r=Vd(t,an.Long);break;case"fullDate":r=Vd(t,an.Full);break;case"shortTime":r=Ld(t,an.Short);break;case"mediumTime":r=Ld(t,an.Medium);break;case"longTime":r=Ld(t,an.Long);break;case"fullTime":r=Ld(t,an.Full);break;case"short":let i=Lr(t,"shortTime"),o=Lr(t,"shortDate");r=Bd(Ud(t,an.Short),[i,o]);break;case"medium":let s=Lr(t,"mediumTime"),a=Lr(t,"mediumDate");r=Bd(Ud(t,an.Medium),[s,a]);break;case"long":let u=Lr(t,"longTime"),l=Lr(t,"longDate");r=Bd(Ud(t,an.Long),[u,l]);break;case"full":let h=Lr(t,"fullTime"),p=Lr(t,"fullDate");r=Bd(Ud(t,an.Full),[h,p]);break}return r&&(jd[n][e]=r),r}function Bd(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function kn(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function TV(t,e){return kn(t,3).substring(0,e)}function ut(t,e,n=0,r=!1,i=!1){return function(o,s){let a=SV(t,o);if((n>0||a>-n)&&(a+=n),t===Ne.Hours)a===0&&n===-12&&(a=12);else if(t===Ne.FractionalSeconds)return TV(a,e);let u=Wd(s,Ai.MinusSign);return kn(a,e,u,r,i)}}function SV(t,e){switch(t){case Ne.FullYear:return e.getFullYear();case Ne.Month:return e.getMonth();case Ne.Date:return e.getDate();case Ne.Hours:return e.getHours();case Ne.Minutes:return e.getMinutes();case Ne.Seconds:return e.getSeconds();case Ne.FractionalSeconds:return e.getMilliseconds();case Ne.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function He(t,e,n=qt.Format,r=!1){return function(i,o){return AV(i,o,t,e,n,r)}}function AV(t,e,n,r,i,o){switch(n){case Re.Months:return _V(e,i,r)[t.getMonth()];case Re.Days:return vV(e,i,r)[t.getDay()];case Re.DayPeriods:let s=t.getHours(),a=t.getMinutes();if(o){let l=EV(e),h=IV(e,i,r),p=l.findIndex(m=>{if(Array.isArray(m)){let[y,A]=m,N=s>=y.hours&&a>=y.minutes,x=s<A.hours||s===A.hours&&a<A.minutes;if(y.hours<A.hours){if(N&&x)return!0}else if(N||x)return!0}else if(m.hours===s&&m.minutes===a)return!0;return!1});if(p!==-1)return h[p]}return yV(e,i,r)[s<12?0:1];case Re.Eras:return wV(e,r)[t.getFullYear()<=0?0:1];default:let u=n;throw new Error(`unexpected translation type ${u}`)}}function $d(t){return function(e,n,r){let i=-1*r,o=Wd(n,Ai.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case jr.Short:return(i>=0?"+":"")+kn(s,2,o)+kn(Math.abs(i%60),2,o);case jr.ShortGMT:return"GMT"+(i>=0?"+":"")+kn(s,1,o);case jr.Long:return"GMT"+(i>=0?"+":"")+kn(s,2,o)+":"+kn(Math.abs(i%60),2,o);case jr.Extended:return r===0?"Z":(i>=0?"+":"")+kn(s,2,o)+":"+kn(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}var MV=0,zd=4;function xV(t){let e=Gd(t,MV,1).getDay();return Gd(t,0,1+(e<=zd?zd:zd+7)-e)}function AT(t){let e=t.getDay(),n=e===0?-3:zd-e;return Gd(t.getFullYear(),t.getMonth(),t.getDate()+n)}function ay(t,e=!1){return function(n,r){let i;if(e){let o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();i=1+Math.floor((s+o)/7)}else{let o=AT(n),s=xV(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return kn(i,t,Wd(r,Ai.MinusSign))}}function Hd(t,e=!1){return function(n,r){let o=AT(n).getFullYear();return kn(o,t,Wd(r,Ai.MinusSign),e)}}var cy={};function PV(t){if(cy[t])return cy[t];let e;switch(t){case"G":case"GG":case"GGG":e=He(Re.Eras,Be.Abbreviated);break;case"GGGG":e=He(Re.Eras,Be.Wide);break;case"GGGGG":e=He(Re.Eras,Be.Narrow);break;case"y":e=ut(Ne.FullYear,1,0,!1,!0);break;case"yy":e=ut(Ne.FullYear,2,0,!0,!0);break;case"yyy":e=ut(Ne.FullYear,3,0,!1,!0);break;case"yyyy":e=ut(Ne.FullYear,4,0,!1,!0);break;case"Y":e=Hd(1);break;case"YY":e=Hd(2,!0);break;case"YYY":e=Hd(3);break;case"YYYY":e=Hd(4);break;case"M":case"L":e=ut(Ne.Month,1,1);break;case"MM":case"LL":e=ut(Ne.Month,2,1);break;case"MMM":e=He(Re.Months,Be.Abbreviated);break;case"MMMM":e=He(Re.Months,Be.Wide);break;case"MMMMM":e=He(Re.Months,Be.Narrow);break;case"LLL":e=He(Re.Months,Be.Abbreviated,qt.Standalone);break;case"LLLL":e=He(Re.Months,Be.Wide,qt.Standalone);break;case"LLLLL":e=He(Re.Months,Be.Narrow,qt.Standalone);break;case"w":e=ay(1);break;case"ww":e=ay(2);break;case"W":e=ay(1,!0);break;case"d":e=ut(Ne.Date,1);break;case"dd":e=ut(Ne.Date,2);break;case"c":case"cc":e=ut(Ne.Day,1);break;case"ccc":e=He(Re.Days,Be.Abbreviated,qt.Standalone);break;case"cccc":e=He(Re.Days,Be.Wide,qt.Standalone);break;case"ccccc":e=He(Re.Days,Be.Narrow,qt.Standalone);break;case"cccccc":e=He(Re.Days,Be.Short,qt.Standalone);break;case"E":case"EE":case"EEE":e=He(Re.Days,Be.Abbreviated);break;case"EEEE":e=He(Re.Days,Be.Wide);break;case"EEEEE":e=He(Re.Days,Be.Narrow);break;case"EEEEEE":e=He(Re.Days,Be.Short);break;case"a":case"aa":case"aaa":e=He(Re.DayPeriods,Be.Abbreviated);break;case"aaaa":e=He(Re.DayPeriods,Be.Wide);break;case"aaaaa":e=He(Re.DayPeriods,Be.Narrow);break;case"b":case"bb":case"bbb":e=He(Re.DayPeriods,Be.Abbreviated,qt.Standalone,!0);break;case"bbbb":e=He(Re.DayPeriods,Be.Wide,qt.Standalone,!0);break;case"bbbbb":e=He(Re.DayPeriods,Be.Narrow,qt.Standalone,!0);break;case"B":case"BB":case"BBB":e=He(Re.DayPeriods,Be.Abbreviated,qt.Format,!0);break;case"BBBB":e=He(Re.DayPeriods,Be.Wide,qt.Format,!0);break;case"BBBBB":e=He(Re.DayPeriods,Be.Narrow,qt.Format,!0);break;case"h":e=ut(Ne.Hours,1,-12);break;case"hh":e=ut(Ne.Hours,2,-12);break;case"H":e=ut(Ne.Hours,1);break;case"HH":e=ut(Ne.Hours,2);break;case"m":e=ut(Ne.Minutes,1);break;case"mm":e=ut(Ne.Minutes,2);break;case"s":e=ut(Ne.Seconds,1);break;case"ss":e=ut(Ne.Seconds,2);break;case"S":e=ut(Ne.FractionalSeconds,1);break;case"SS":e=ut(Ne.FractionalSeconds,2);break;case"SSS":e=ut(Ne.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=$d(jr.Short);break;case"ZZZZZ":e=$d(jr.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=$d(jr.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=$d(jr.Long);break;default:return null}return cy[t]=e,e}function MT(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function RV(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function NV(t,e,n){let r=n?-1:1,i=t.getTimezoneOffset(),o=MT(e,i);return RV(t,r*(o-i))}function OV(t){if(vT(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,o=1,s=1]=t.split("-").map(a=>+a);return Gd(i,o-1,s)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(CV))return kV(r)}let e=new Date(t);if(!vT(e))throw new Error(`Unable to convert "${t}" into a date`);return e}function kV(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,u=Number(t[6]||0),l=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return o.call(e,s,a,u,l),e}function vT(t){return t instanceof Date&&!isNaN(t.valueOf())}function Kd(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var uy=/\s+/,_T=[],xT=(()=>{let e=class e{constructor(r,i){this._ngEl=r,this._renderer=i,this.initialClasses=_T,this.stateMap=new Map}set klass(r){this.initialClasses=r!=null?r.trim().split(uy):_T}set ngClass(r){this.rawClass=typeof r=="string"?r.trim().split(uy):r}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(let i of r)this._updateState(i,!0);else if(r!=null)for(let i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){let o=this.stateMap.get(r);o!==void 0?(o.enabled!==i&&(o.changed=!0,o.enabled=i),o.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let r of this.stateMap){let i=r[0],o=r[1];o.changed?(this._toggleClass(i,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),o.touched=!1}}_toggleClass(r,i){r=r.trim(),r.length>0&&r.split(uy).forEach(o=>{i?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}};e.\u0275fac=function(i){return new(i||e)($(zt),$(Nn))},e.\u0275dir=qe({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var ly=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Mi=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,o){this._viewContainer=r,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((o,s,a)=>{if(o.previousIndex==null)i.createEmbeddedView(this._template,new ly(o.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(s===null?void 0:s);else if(s!==null){let u=i.get(s);i.move(u,a),wT(u,o)}});for(let o=0,s=i.length;o<s;o++){let u=i.get(o).context;u.index=o,u.count=s,u.ngForOf=this._ngForOf}r.forEachIdentityChange(o=>{let s=i.get(o.currentIndex);wT(s,o)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)($(Di),$(wo),$(iy))},e.\u0275dir=qe({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function wT(t,e){t.context.$implicit=e.item}var nr=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new dy,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){ET("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){ET("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)($(Di),$(wo))},e.\u0275dir=qe({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),dy=class{constructor(){this.$implicit=null,this.ngIf=null}};function ET(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Ht(e)}'.`)}function FV(t,e){return new K(2100,!1)}var VV="mediumDate",LV=new H(""),UV=new H(""),PT=(()=>{let e=class e{constructor(r,i,o){this.locale=r,this.defaultTimezone=i,this.defaultOptions=o}transform(r,i,o,s){if(r==null||r===""||r!==r)return null;try{let a=i??this.defaultOptions?.dateFormat??VV,u=o??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return DV(r,a,s||this.locale,u)}catch(a){throw FV(e,a.message)}}};e.\u0275fac=function(i){return new(i||e)($(Fd,16),$(LV,24),$(UV,24))},e.\u0275pipe=pd({name:"date",type:e,pure:!0,standalone:!0});let t=e;return t})();var St=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Xn({type:e}),e.\u0275inj=Zn({});let t=e;return t})(),yy="browser",jV="server";function vy(t){return t===yy}function Ns(t){return t===jV}var RT=(()=>{let e=class e{};e.\u0275prov=z({token:e,providedIn:"root",factory:()=>vy(F(Dt))?new hy(F(Tt),window):new fy});let t=e;return t})(),hy=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=BV(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function BV(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var fy=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Ps=class{};var _c=class{},Yd=class{},Hr=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=i.toLowerCase(),s=n.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var wy=class{encodeKey(e){return NT(e)}encodeValue(e){return NT(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function $V(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],u=n.get(s)||[];u.push(a),n.set(s,u)}),n}var HV=/%(\d[a-f0-9])/gi,zV={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function NT(t){return encodeURIComponent(t).replace(HV,(e,n)=>zV[n]??e)}function Qd(t){return`${t}`}var Ri=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new wy,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=$V(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(Qd):[Qd(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(Qd(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Qd(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Ey=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function qV(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function OT(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function kT(t){return typeof Blob<"u"&&t instanceof Blob}function FT(t){return typeof FormData<"u"&&t instanceof FormData}function GV(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var vc=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(qV(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Hr,this.context??=new Ey,!this.params)this.params=new Ri,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),u=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+u+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||OT(this.body)||kT(this.body)||FT(this.body)||GV(this.body)?this.body:this.body instanceof Ri?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||FT(this.body)?null:kT(this.body)?this.body.type||null:OT(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Ri?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,u=e.reportProgress??this.reportProgress,l=e.headers||this.headers,h=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((m,y)=>m.set(y,e.setHeaders[y]),l)),e.setParams&&(h=Object.keys(e.setParams).reduce((m,y)=>m.set(y,e.setParams[y]),h)),new t(n,r,s,{params:h,headers:l,context:p,reportProgress:u,responseType:i,withCredentials:a,transferCache:o})}},Ni=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Ni||{}),wc=class{constructor(e,n=200,r="OK"){this.headers=e.headers||new Hr,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Jd=class t extends wc{constructor(e={}){super(e),this.type=Ni.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Ec=class t extends wc{constructor(e={}){super(e),this.type=Ni.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Pi=class extends wc{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},BT=200,WV=204;function _y(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var by=(()=>{let e=class e{constructor(r){this.handler=r}request(r,i,o={}){let s;if(r instanceof vc)s=r;else{let l;o.headers instanceof Hr?l=o.headers:l=new Hr(o.headers);let h;o.params&&(o.params instanceof Ri?h=o.params:h=new Ri({fromObject:o.params})),s=new vc(r,i,o.body!==void 0?o.body:null,{headers:l,context:o.context,params:h,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let a=te(s).pipe(Cr(l=>this.handler.handle(l)));if(r instanceof vc||o.observe==="events")return a;let u=a.pipe(Bt(l=>l instanceof Ec));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return u.pipe(re(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return u.pipe(re(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return u.pipe(re(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return u.pipe(re(l=>l.body))}case"response":return u;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:new Ri().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,o={}){return this.request("PATCH",r,_y(o,i))}post(r,i,o={}){return this.request("POST",r,_y(o,i))}put(r,i,o={}){return this.request("PUT",r,_y(o,i))}};e.\u0275fac=function(i){return new(i||e)(q(_c))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),KV=/^\)\]\}',?\n/,QV="X-Request-URL";function VT(t){if(t.url)return t.url;let e=QV.toLocaleLowerCase();return t.headers.get(e)}var YV=(()=>{let e=class e{constructor(){this.fetchImpl=F(Iy,{optional:!0})?.fetch??fetch.bind(globalThis),this.ngZone=F(be)}handle(r){return new pe(i=>{let o=new AbortController;return this.doRequest(r,o.signal,i).then(Cy,s=>i.error(new Pi({error:s}))),()=>o.abort()})}doRequest(r,i,o){return E(this,null,function*(){let s=this.createRequestInit(r),a;try{let A=this.fetchImpl(r.urlWithParams,U({signal:i},s));JV(A),o.next({type:Ni.Sent}),a=yield A}catch(A){o.error(new Pi({error:A,status:A.status??0,statusText:A.statusText,url:r.urlWithParams,headers:A.headers}));return}let u=new Hr(a.headers),l=a.statusText,h=VT(a)??r.urlWithParams,p=a.status,m=null;if(r.reportProgress&&o.next(new Jd({headers:u,status:p,statusText:l,url:h})),a.body){let A=a.headers.get("content-length"),N=[],x=a.body.getReader(),V=0,Z,W,ee=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>E(this,null,function*(){for(;;){let{done:oe,value:b}=yield x.read();if(oe)break;if(N.push(b),V+=b.length,r.reportProgress){W=r.responseType==="text"?(W??"")+(Z??=new TextDecoder).decode(b,{stream:!0}):void 0;let v=()=>o.next({type:Ni.DownloadProgress,total:A?+A:void 0,loaded:V,partialText:W});ee?ee.run(v):v()}}}));let Ve=this.concatChunks(N,V);try{let oe=a.headers.get("Content-Type")??"";m=this.parseBody(r,Ve,oe)}catch(oe){o.error(new Pi({error:oe,headers:new Hr(a.headers),status:a.status,statusText:a.statusText,url:VT(a)??r.urlWithParams}));return}}p===0&&(p=m?BT:0),p>=200&&p<300?(o.next(new Ec({body:m,headers:u,status:p,statusText:l,url:h})),o.complete()):o.error(new Pi({error:m,headers:u,status:p,statusText:l,url:h}))})}parseBody(r,i,o){switch(r.responseType){case"json":let s=new TextDecoder().decode(i).replace(KV,"");return s===""?null:JSON.parse(s);case"text":return new TextDecoder().decode(i);case"blob":return new Blob([i],{type:o});case"arraybuffer":return i.buffer}}createRequestInit(r){let i={},o=r.withCredentials?"include":void 0;if(r.headers.forEach((s,a)=>i[s]=a.join(",")),i.Accept??="application/json, text/plain, */*",!i["Content-Type"]){let s=r.detectContentTypeHeader();s!==null&&(i["Content-Type"]=s)}return{body:r.serializeBody(),method:r.method,headers:i,credentials:o}}concatChunks(r,i){let o=new Uint8Array(i),s=0;for(let a of r)o.set(a,s),s+=a.length;return o}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),Iy=class{};function Cy(){}function JV(t){t.then(Cy,Cy)}function $T(t,e){return e(t)}function ZV(t,e){return(n,r)=>e.intercept(n,{handle:i=>t(i,r)})}function XV(t,e,n){return(r,i)=>rn(n,()=>e(r,o=>t(o,i)))}var eL=new H(""),Dy=new H(""),tL=new H(""),HT=new H("",{providedIn:"root",factory:()=>!0});function nL(){let t=null;return(e,n)=>{t===null&&(t=(F(eL,{optional:!0})??[]).reduceRight(ZV,$T));let r=F(Rr);if(F(HT)){let o=r.add();return t(e,n).pipe(gi(()=>r.remove(o)))}else return t(e,n)}}var LT=(()=>{let e=class e extends _c{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=F(Rr),this.contributeToStability=F(HT)}handle(r){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(Dy),...this.injector.get(tL,[])]));this.chain=i.reduceRight((o,s)=>XV(o,s,this.injector),$T)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(r,o=>this.backend.handle(o)).pipe(gi(()=>this.pendingTasks.remove(i)))}else return this.chain(r,i=>this.backend.handle(i))}};e.\u0275fac=function(i){return new(i||e)(q(Yd),q(Nt))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})();var rL=/^\)\]\}',?\n/;function iL(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var UT=(()=>{let e=class e{constructor(r){this.xhrFactory=r}handle(r){if(r.method==="JSONP")throw new K(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?Ue(i.\u0275loadImpl()):te(null)).pipe(Kt(()=>new pe(s=>{let a=i.build();if(a.open(r.method,r.urlWithParams),r.withCredentials&&(a.withCredentials=!0),r.headers.forEach((x,V)=>a.setRequestHeader(x,V.join(","))),r.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){let x=r.detectContentTypeHeader();x!==null&&a.setRequestHeader("Content-Type",x)}if(r.responseType){let x=r.responseType.toLowerCase();a.responseType=x!=="json"?x:"text"}let u=r.serializeBody(),l=null,h=()=>{if(l!==null)return l;let x=a.statusText||"OK",V=new Hr(a.getAllResponseHeaders()),Z=iL(a)||r.url;return l=new Jd({headers:V,status:a.status,statusText:x,url:Z}),l},p=()=>{let{headers:x,status:V,statusText:Z,url:W}=h(),ee=null;V!==WV&&(ee=typeof a.response>"u"?a.responseText:a.response),V===0&&(V=ee?BT:0);let Ve=V>=200&&V<300;if(r.responseType==="json"&&typeof ee=="string"){let oe=ee;ee=ee.replace(rL,"");try{ee=ee!==""?JSON.parse(ee):null}catch(b){ee=oe,Ve&&(Ve=!1,ee={error:b,text:ee})}}Ve?(s.next(new Ec({body:ee,headers:x,status:V,statusText:Z,url:W||void 0})),s.complete()):s.error(new Pi({error:ee,headers:x,status:V,statusText:Z,url:W||void 0}))},m=x=>{let{url:V}=h(),Z=new Pi({error:x,status:a.status||0,statusText:a.statusText||"Unknown Error",url:V||void 0});s.error(Z)},y=!1,A=x=>{y||(s.next(h()),y=!0);let V={type:Ni.DownloadProgress,loaded:x.loaded};x.lengthComputable&&(V.total=x.total),r.responseType==="text"&&a.responseText&&(V.partialText=a.responseText),s.next(V)},N=x=>{let V={type:Ni.UploadProgress,loaded:x.loaded};x.lengthComputable&&(V.total=x.total),s.next(V)};return a.addEventListener("load",p),a.addEventListener("error",m),a.addEventListener("timeout",m),a.addEventListener("abort",m),r.reportProgress&&(a.addEventListener("progress",A),u!==null&&a.upload&&a.upload.addEventListener("progress",N)),a.send(u),s.next({type:Ni.Sent}),()=>{a.removeEventListener("error",m),a.removeEventListener("abort",m),a.removeEventListener("load",p),a.removeEventListener("timeout",m),r.reportProgress&&(a.removeEventListener("progress",A),u!==null&&a.upload&&a.upload.removeEventListener("progress",N)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(i){return new(i||e)(q(Ps))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),zT=new H(""),oL="XSRF-TOKEN",sL=new H("",{providedIn:"root",factory:()=>oL}),aL="X-XSRF-TOKEN",cL=new H("",{providedIn:"root",factory:()=>aL}),Zd=class{},uL=(()=>{let e=class e{constructor(r,i,o){this.doc=r,this.platform=i,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=Kd(r,this.cookieName),this.lastCookieString=r),this.lastToken}};e.\u0275fac=function(i){return new(i||e)(q(Tt),q(Dt),q(sL))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})();function lL(t,e){let n=t.url.toLowerCase();if(!F(zT)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=F(Zd).getToken(),i=F(cL);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var qT=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(qT||{});function dL(t,e){return{\u0275kind:t,\u0275providers:e}}function Ty(...t){let e=[by,UT,LT,{provide:_c,useExisting:LT},{provide:Yd,useFactory:()=>F(YV,{optional:!0})??F(UT)},{provide:Dy,useValue:lL,multi:!0},{provide:zT,useValue:!0},{provide:Zd,useClass:uL}];for(let n of t)e.push(...n.\u0275providers);return nn(e)}var jT=new H("");function hL(){return dL(qT.LegacyInterceptors,[{provide:jT,useFactory:nL},{provide:Dy,useExisting:jT,multi:!0}])}var GT=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Xn({type:e}),e.\u0275inj=Zn({providers:[Ty(hL())]});let t=e;return t})();var My=class extends qd{constructor(){super(...arguments),this.supportsDOMEvents=!0}},xy=class t extends My{static makeCurrent(){CT(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=pL();return n==null?null:gL(n)}resetBaseElement(){Ic=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Kd(document.cookie,e)}},Ic=null;function pL(){return Ic=Ic||document.querySelector("base"),Ic?Ic.getAttribute("href"):null}function gL(t){return new URL(t,document.baseURI).pathname}var mL=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),Py=new H(""),YT=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new K(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(q(Py),q(be))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),Xd=class{constructor(e){this._doc=e}},Sy="ng-app-id",JT=(()=>{let e=class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Ns(s),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(o=>o.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${Sy}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(o=>{o.textContent!=null&&i.set(o.textContent,o)}),i}return null}changeUsageCount(r,i){let o=this.styleRef;if(o.has(r)){let s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===r)return o.delete(i),s.removeAttribute(Sy),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(Sy,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let o=this.getStyleElement(r,i),s=this.styleRef,a=s.get(i)?.elements;a?a.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(q(Tt),q(Fm),q(Lm,8),q(Dt))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),Ay={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Ny=/%COMP%/g,ZT="%COMP%",yL=`_nghost-${ZT}`,vL=`_ngcontent-${ZT}`,_L=!0,wL=new H("",{providedIn:"root",factory:()=>_L});function EL(t){return vL.replace(Ny,t)}function IL(t){return yL.replace(Ny,t)}function XT(t,e){return e.map(n=>n.replace(Ny,t))}var WT=(()=>{let e=class e{constructor(r,i,o,s,a,u,l,h=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=u,this.ngZone=l,this.nonce=h,this.rendererByCompId=new Map,this.platformIsServer=Ns(u),this.defaultRenderer=new Cc(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Wn.ShadowDom&&(i=ye(U({},i),{encapsulation:Wn.Emulated}));let o=this.getOrCreateRenderer(r,i);return o instanceof eh?o.applyToHost(r):o instanceof bc&&o.applyStyles(),o}getOrCreateRenderer(r,i){let o=this.rendererByCompId,s=o.get(i.id);if(!s){let a=this.doc,u=this.ngZone,l=this.eventManager,h=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(i.encapsulation){case Wn.Emulated:s=new eh(l,h,i,this.appId,p,a,u,m);break;case Wn.ShadowDom:return new Ry(l,h,r,i,a,u,this.nonce,m);default:s=new bc(l,h,i,p,a,u,m);break}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(q(YT),q(JT),q(Fm),q(wL),q(Tt),q(Dt),q(be),q(Lm))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),Cc=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Ay[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(KT(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(KT(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new K(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=Ay[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Ay[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Sr.DashCase|Sr.Important)?e.style.setProperty(n,r,i&Sr.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Sr.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Br().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function KT(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Ry=class extends Cc{constructor(e,n,r,i,o,s,a,u){super(e,o,s,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=XT(i.id,i.styles);for(let h of l){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},bc=class extends Cc{constructor(e,n,r,i,o,s,a,u){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?XT(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},eh=class extends bc{constructor(e,n,r,i,o,s,a,u){let l=i+"-"+r.id;super(e,n,r,o,s,a,u,l),this.contentAttr=EL(l),this.hostAttr=IL(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},CL=(()=>{let e=class e extends Xd{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}};e.\u0275fac=function(i){return new(i||e)(q(Tt))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),QT=["alt","control","meta","shift"],bL={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},DL={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},TL=(()=>{let e=class e extends Xd{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,o){let s=e.parseEventName(i),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Br().onAndCancel(r,s.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(i.pop()),a="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),a="code."),QT.forEach(h=>{let p=i.indexOf(h);p>-1&&(i.splice(p,1),a+=h+".")}),a+=s,i.length!=0||s.length===0)return null;let l={};return l.domEventName=o,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let o=bL[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),QT.forEach(a=>{if(a!==o){let u=DL[a];u(r)&&(s+=a+".")}}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(q(Tt))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})();function eS(t,e){return pT(U({rootComponent:t},SL(e)))}function SL(t){return{appProviders:[...RL,...t?.providers??[]],platformProviders:PL}}function AL(){xy.makeCurrent()}function ML(){return new Jn}function xL(){return Hb(document),document}var PL=[{provide:Dt,useValue:yy},{provide:Vm,useValue:AL,multi:!0},{provide:Tt,useFactory:xL,deps:[]}];var RL=[{provide:gd,useValue:"root"},{provide:Jn,useFactory:ML,deps:[]},{provide:Py,useClass:CL,multi:!0,deps:[Tt,be,Dt]},{provide:Py,useClass:TL,multi:!0,deps:[Tt]},WT,JT,YT,{provide:Ts,useExisting:WT},{provide:Ps,useClass:mL,deps:[]},[]];var tS=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(q(Tt))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Oy=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:function(i){let o=null;return i?o=new(i||e):o=q(NL),o},providedIn:"root"});let t=e;return t})(),NL=(()=>{let e=class e extends Oy{constructor(r){super(),this._doc=r}sanitize(r,i){if(i==null)return null;switch(r){case Pn.NONE:return i;case Pn.HTML:return Nr(i,"HTML")?xn(i):jm(this._doc,String(i)).toString();case Pn.STYLE:return Nr(i,"Style")?xn(i):i;case Pn.SCRIPT:if(Nr(i,"Script"))return xn(i);throw new K(5200,!1);case Pn.URL:return Nr(i,"URL")?xn(i):Id(String(i));case Pn.RESOURCE_URL:if(Nr(i,"ResourceURL"))return xn(i);throw new K(5201,!1);default:throw new K(5202,!1)}}bypassSecurityTrustHtml(r){return Wb(r)}bypassSecurityTrustStyle(r){return Kb(r)}bypassSecurityTrustScript(r){return Qb(r)}bypassSecurityTrustUrl(r){return Yb(r)}bypassSecurityTrustResourceUrl(r){return Jb(r)}};e.\u0275fac=function(i){return new(i||e)(q(Tt))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var me="primary",jc=Symbol("RouteTitle"),Uy=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Us(t){return new Uy(t)}function OL(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function kL(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!rr(t[n],e[n]))return!1;return!0}function rr(t,e){let n=t?jy(t):void 0,r=e?jy(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!fS(t[i],e[i]))return!1;return!0}function jy(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function fS(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function pS(t){return t.length>0?t[t.length-1]:null}function Fi(t){return Wp(t)?t:Co(t)?Ue(Promise.resolve(t)):te(t)}var FL={exact:mS,subset:yS},gS={exact:VL,subset:LL,ignored:()=>!0};function rS(t,e,n){return FL[n.paths](t.root,e.root,n.matrixParams)&&gS[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function VL(t,e){return rr(t,e)}function mS(t,e,n){if(!To(t.segments,e.segments)||!rh(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!mS(t.children[r],e.children[r],n))return!1;return!0}function LL(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>fS(t[n],e[n]))}function yS(t,e,n){return vS(t,e,e.segments,n)}function vS(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!To(i,n)||e.hasChildren()||!rh(i,n,r))}else if(t.segments.length===n.length){if(!To(t.segments,n)||!rh(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!yS(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!To(t.segments,i)||!rh(t.segments,i,r)||!t.children[me]?!1:vS(t.children[me],e,o,r)}}function rh(t,e,n){return e.every((r,i)=>gS[n](t[i].parameters,r.parameters))}var Oi=class{constructor(e=new Oe([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Us(this.queryParams),this._queryParamMap}toString(){return BL.serialize(this)}},Oe=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ih(this)}},Do=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Us(this.parameters),this._parameterMap}toString(){return wS(this)}};function UL(t,e){return To(t,e)&&t.every((n,r)=>rr(n.parameters,e[r].parameters))}function To(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function jL(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===me&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==me&&(n=n.concat(e(i,r)))}),n}var Bc=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>new js,providedIn:"root"});let t=e;return t})(),js=class{parse(e){let n=new $y(e);return new Oi(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Dc(e.root,!0)}`,r=zL(e.queryParams),i=typeof e.fragment=="string"?`#${$L(e.fragment)}`:"";return`${n}${r}${i}`}},BL=new js;function ih(t){return t.segments.map(e=>wS(e)).join("/")}function Dc(t,e){if(!t.hasChildren())return ih(t);if(e){let n=t.children[me]?Dc(t.children[me],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==me&&r.push(`${i}:${Dc(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=jL(t,(r,i)=>i===me?[Dc(t.children[me],!1)]:[`${i}:${Dc(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[me]!=null?`${ih(t)}/${n[0]}`:`${ih(t)}/(${n.join("//")})`}}function _S(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function th(t){return _S(t).replace(/%3B/gi,";")}function $L(t){return encodeURI(t)}function By(t){return _S(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function oh(t){return decodeURIComponent(t)}function iS(t){return oh(t.replace(/\+/g,"%20"))}function wS(t){return`${By(t.path)}${HL(t.parameters)}`}function HL(t){return Object.entries(t).map(([e,n])=>`;${By(e)}=${By(n)}`).join("")}function zL(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${th(n)}=${th(i)}`).join("&"):`${th(n)}=${th(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var qL=/^[^\/()?;#]+/;function ky(t){let e=t.match(qL);return e?e[0]:""}var GL=/^[^\/()?;=#]+/;function WL(t){let e=t.match(GL);return e?e[0]:""}var KL=/^[^=?&#]+/;function QL(t){let e=t.match(KL);return e?e[0]:""}var YL=/^[^&#]+/;function JL(t){let e=t.match(YL);return e?e[0]:""}var $y=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Oe([],{}):new Oe([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[me]=new Oe(e,n)),r}parseSegment(){let e=ky(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new K(4009,!1);return this.capture(e),new Do(oh(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=WL(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=ky(this.remaining);i&&(r=i,this.capture(r))}e[oh(n)]=oh(r)}parseQueryParam(e){let n=QL(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=JL(this.remaining);s&&(r=s,this.capture(r))}let i=iS(n),o=iS(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=ky(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new K(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=me);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[me]:new Oe([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new K(4011,!1)}};function ES(t){return t.segments.length>0?new Oe([],{[me]:t}):t}function IS(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=IS(i);if(r===me&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new Oe(t.segments,e);return ZL(n)}function ZL(t){if(t.numberOfChildren===1&&t.children[me]){let e=t.children[me];return new Oe(t.segments.concat(e.segments),e.children)}return t}function Pc(t){return t instanceof Oi}function XL(t,e,n=null,r=null){let i=CS(t);return bS(i,e,n,r)}function CS(t){let e;function n(o){let s={};for(let u of o.children){let l=n(u);s[u.outlet]=l}let a=new Oe(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=ES(r);return e??i}function bS(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Fy(i,i,i,n,r);let o=e2(e);if(o.toRoot())return Fy(i,i,new Oe([],{}),n,r);let s=t2(o,i,t),a=s.processChildren?Ac(s.segmentGroup,s.index,o.commands):TS(s.segmentGroup,s.index,o.commands);return Fy(i,s.segmentGroup,a,n,r)}function sh(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Rc(t){return typeof t=="object"&&t!=null&&t.outlets}function Fy(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;t===e?s=n:s=DS(t,e,n);let a=ES(IS(s));return new Oi(a,o,i)}function DS(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=DS(o,e,n)}),new Oe(t.segments,r)}var ah=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&sh(r[0]))throw new K(4003,!1);let i=r.find(Rc);if(i&&i!==pS(r))throw new K(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function e2(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new ah(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new ah(n,e,r)}var Fs=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function t2(t,e,n){if(t.isAbsolute)return new Fs(e,!0,0);if(!n)return new Fs(e,!1,NaN);if(n.parent===null)return new Fs(n,!0,0);let r=sh(t.commands[0])?0:1,i=n.segments.length-1+r;return n2(n,i,t.numberOfDoubleDots)}function n2(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new K(4005,!1);i=r.segments.length}return new Fs(r,!1,i-o)}function r2(t){return Rc(t[0])?t[0].outlets:{[me]:t}}function TS(t,e,n){if(t??=new Oe([],{}),t.segments.length===0&&t.hasChildren())return Ac(t,e,n);let r=i2(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new Oe(t.segments.slice(0,r.pathIndex),{});return o.children[me]=new Oe(t.segments.slice(r.pathIndex),t.children),Ac(o,0,i)}else return r.match&&i.length===0?new Oe(t.segments,{}):r.match&&!t.hasChildren()?Hy(t,e,n):r.match?Ac(t,0,i):Hy(t,e,n)}function Ac(t,e,n){if(n.length===0)return new Oe(t.segments,{});{let r=r2(n),i={};if(Object.keys(r).some(o=>o!==me)&&t.children[me]&&t.numberOfChildren===1&&t.children[me].segments.length===0){let o=Ac(t.children[me],e,n);return new Oe(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=TS(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Oe(t.segments,i)}}function i2(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(Rc(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!sS(u,l,s))return o;r+=2}else{if(!sS(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Hy(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(Rc(o)){let u=o2(o.outlets);return new Oe(r,u)}if(i===0&&sh(n[0])){let u=t.segments[e];r.push(new Do(u.path,oS(n[0]))),i++;continue}let s=Rc(o)?o.outlets[me]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&sh(a)?(r.push(new Do(s,oS(a))),i+=2):(r.push(new Do(s,{})),i++)}return new Oe(r,{})}function o2(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Hy(new Oe([],{}),0,r))}),e}function oS(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function sS(t,e,n){return t==n.path&&rr(e,n.parameters)}var Mc="imperative",Et=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Et||{}),_n=class{constructor(e,n){this.id=e,this.url=n}},Bs=class extends _n{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Et.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Vn=class extends _n{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Et.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},un=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(un||{}),ch=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(ch||{}),zr=class extends _n{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Et.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},ki=class extends _n{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Et.NavigationSkipped}},Nc=class extends _n{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Et.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},uh=class extends _n{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Et.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},zy=class extends _n{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Et.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},qy=class extends _n{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=Et.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Gy=class extends _n{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Et.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Wy=class extends _n{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Et.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ky=class{constructor(e){this.route=e,this.type=Et.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Qy=class{constructor(e){this.route=e,this.type=Et.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Yy=class{constructor(e){this.snapshot=e,this.type=Et.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Jy=class{constructor(e){this.snapshot=e,this.type=Et.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Zy=class{constructor(e){this.snapshot=e,this.type=Et.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Xy=class{constructor(e){this.snapshot=e,this.type=Et.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},lh=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=Et.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Oc=class{},$s=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};var ev=class{constructor(e){this.injector=e,this.outlet=null,this.route=null,this.children=new $c(this.injector),this.attachRef=null}},$c=(()=>{let e=class e{constructor(r){this.parentInjector=r,this.contexts=new Map}onChildOutletCreated(r,i){let o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new ev(this.parentInjector),this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)(q(Nt))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),dh=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=tv(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=tv(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=nv(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return nv(e,this._root).map(n=>n.value)}};function tv(t,e){if(t===e.value)return e;for(let n of e.children){let r=tv(t,n);if(r)return r}return null}function nv(t,e){if(t===e.value)return[e];for(let n of e.children){let r=nv(t,n);if(r.length)return r.unshift(e),r}return[]}var cn=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function ks(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var hh=class extends dh{constructor(e,n){super(e),this.snapshot=n,dv(this,e)}toString(){return this.snapshot.toString()}};function SS(t){let e=s2(t),n=new ht([new Do("",{})]),r=new ht({}),i=new ht({}),o=new ht({}),s=new ht(""),a=new ir(n,r,o,s,i,me,t,e.root);return a.snapshot=e.root,new hh(new cn(a,[]),e)}function s2(t){let e={},n={},r={},i="",o=new Vs([],e,r,i,n,me,t,null,{});return new ph("",new cn(o,[]))}var ir=class{constructor(e,n,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(re(l=>l[jc]))??te(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(re(e=>Us(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(re(e=>Us(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function fh(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:U(U({},e.params),t.params),data:U(U({},e.data),t.data),resolve:U(U(U(U({},t.data),e.data),i?.data),t._resolvedData)}:r={params:U({},t.params),data:U({},t.data),resolve:U(U({},t.data),t._resolvedData??{})},i&&MS(i)&&(r.resolve[jc]=i.title),r}var Vs=class{get title(){return this.data?.[jc]}constructor(e,n,r,i,o,s,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Us(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Us(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},ph=class extends dh{constructor(e,n){super(n),this.url=e,dv(this,n)}toString(){return AS(this._root)}};function dv(t,e){e.value._routerState=t,e.children.forEach(n=>dv(t,n))}function AS(t){let e=t.children.length>0?` { ${t.children.map(AS).join(", ")} } `:"";return`${t.value}${e}`}function Vy(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,rr(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),rr(e.params,n.params)||t.paramsSubject.next(n.params),kL(e.url,n.url)||t.urlSubject.next(n.url),rr(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function rv(t,e){let n=rr(t.params,e.params)&&UL(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||rv(t.parent,e.parent))}function MS(t){return typeof t.title=="string"||t.title===null}var hv=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=me,this.activateEvents=new Ye,this.deactivateEvents=new Ye,this.attachEvents=new Ye,this.detachEvents=new Ye,this.parentContexts=F($c),this.location=F(Di),this.changeDetector=F(Ti),this.inputBinder=F(vh,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new K(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new K(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new K(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new K(4013,!1);this._activatedRoute=r;let o=this.location,a=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,l=new iv(r,u,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=qe({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Pr]});let t=e;return t})(),iv=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===ir?this.route:e===$c?this.childContexts:this.parent.get(e,n)}},vh=new H(""),aS=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:i}=r,o=tc([i.queryParams,i.params,i.data]).pipe(Kt(([s,a,u],l)=>(u=U(U(U({},s),a),u),l===0?te(u):Promise.resolve(u)))).subscribe(s=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(r);return}let a=gT(i.component);if(!a){this.unsubscribeFromRouteData(r);return}for(let{templateName:u}of a.inputs)r.activatedComponentRef.setInput(u,s[u])});this.outletDataSubscriptions.set(r,o)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})();function a2(t,e,n){let r=kc(t,e._root,n?n._root:void 0);return new hh(r,e)}function kc(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=c2(t,e,n);return new cn(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>kc(t,a)),s}}let r=u2(e.value),i=e.children.map(o=>kc(t,o));return new cn(r,i)}}function c2(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return kc(t,r,i);return kc(t,r)})}function u2(t){return new ir(new ht(t.url),new ht(t.params),new ht(t.queryParams),new ht(t.fragment),new ht(t.data),t.outlet,t.component,t)}var Fc=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},xS="ngNavigationCancelingError";function gh(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Pc(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=PS(!1,un.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function PS(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[xS]=!0,n.cancellationCode=e,n}function l2(t){return RS(t)&&Pc(t.url)}function RS(t){return!!t&&t[xS]}var d2=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Je({type:e,selectors:[["ng-component"]],standalone:!0,features:[Ze],decls:1,vars:0,template:function(i,o){i&1&&se(0,"router-outlet")},dependencies:[hv],encapsulation:2});let t=e;return t})();function h2(t,e){return t.providers&&!t._injector&&(t._injector=Md(t.providers,e,`Route: ${t.path}`)),t._injector??e}function fv(t){let e=t.children&&t.children.map(fv),n=e?ye(U({},t),{children:e}):U({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==me&&(n.component=d2),n}function Fn(t){return t.outlet||me}function f2(t,e){let n=t.filter(r=>Fn(r)===e);return n.push(...t.filter(r=>Fn(r)!==e)),n}function Hc(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var p2=(t,e,n,r)=>re(i=>(new ov(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),ov=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Vy(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=ks(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=ks(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=ks(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=ks(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Xy(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Jy(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(Vy(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Vy(a.route.value),this.activateChildRoutes(e,null,s.children)}else{let a=Hc(i.snapshot);s.attachRef=null,s.route=i,s.injector=a??s.injector,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}},mh=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ls=class{constructor(e,n){this.component=e,this.route=n}};function g2(t,e,n){let r=t._root,i=e?e._root:null;return Tc(r,i,n,[r.value])}function m2(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function qs(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!xC(t)?t:e.get(t):r}function Tc(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=ks(e);return t.children.forEach(s=>{y2(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>xc(a,n.getContext(s),i)),i}function y2(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=v2(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new mh(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Tc(t,e,a?a.children:null,r,i):Tc(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ls(a.outlet.component,s))}else s&&xc(e,a,i),i.canActivateChecks.push(new mh(r)),o.component?Tc(t,null,a?a.children:null,r,i):Tc(t,null,n,r,i);return i}function v2(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!To(t.url,e.url);case"pathParamsOrQueryParamsChange":return!To(t.url,e.url)||!rr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!rv(t,e)||!rr(t.queryParams,e.queryParams);case"paramsChange":default:return!rv(t,e)}}function xc(t,e,n){let r=ks(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?xc(s,e.children.getContext(o),n):xc(s,null,n):xc(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Ls(e.outlet.component,i)):n.canDeactivateChecks.push(new Ls(null,i)):n.canDeactivateChecks.push(new Ls(null,i))}function zc(t){return typeof t=="function"}function _2(t){return typeof t=="boolean"}function w2(t){return t&&zc(t.canLoad)}function E2(t){return t&&zc(t.canActivate)}function I2(t){return t&&zc(t.canActivateChild)}function C2(t){return t&&zc(t.canDeactivate)}function b2(t){return t&&zc(t.canMatch)}function NS(t){return t instanceof Ir||t?.name==="EmptyError"}var nh=Symbol("INITIAL_VALUE");function Hs(){return Kt(t=>tc(t.map(e=>e.pipe(br(1),xl(nh)))).pipe(re(e=>{for(let n of e)if(n!==!0){if(n===nh)return nh;if(n===!1||D2(n))return n}return!0}),Bt(e=>e!==nh),br(1)))}function D2(t){return Pc(t)||t instanceof Fc}function T2(t,e){return ot(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?te(ye(U({},n),{guardsResult:!0})):S2(s,r,i,t).pipe(ot(a=>a&&_2(a)?A2(r,o,t,e):te(a)),re(a=>ye(U({},n),{guardsResult:a})))})}function S2(t,e,n,r){return Ue(t).pipe(ot(i=>N2(i.component,i.route,n,e,r)),zn(i=>i!==!0,!0))}function A2(t,e,n,r){return Ue(e).pipe(Cr(i=>ds(x2(i.route.parent,r),M2(i.route,r),R2(t,i.path,n),P2(t,i.route,n))),zn(i=>i!==!0,!0))}function M2(t,e){return t!==null&&e&&e(new Zy(t)),te(!0)}function x2(t,e){return t!==null&&e&&e(new Yy(t)),te(!0)}function P2(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return te(!0);let i=r.map(o=>Sl(()=>{let s=Hc(e)??n,a=qs(o,s),u=E2(a)?a.canActivate(e,t):rn(s,()=>a(e,t));return Fi(u).pipe(zn())}));return te(i).pipe(Hs())}function R2(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>m2(s)).filter(s=>s!==null).map(s=>Sl(()=>{let a=s.guards.map(u=>{let l=Hc(s.node)??n,h=qs(u,l),p=I2(h)?h.canActivateChild(r,t):rn(l,()=>h(r,t));return Fi(p).pipe(zn())});return te(a).pipe(Hs())}));return te(o).pipe(Hs())}function N2(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return te(!0);let s=o.map(a=>{let u=Hc(e)??i,l=qs(a,u),h=C2(l)?l.canDeactivate(t,e,n,r):rn(u,()=>l(t,e,n,r));return Fi(h).pipe(zn())});return te(s).pipe(Hs())}function O2(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return te(!0);let o=i.map(s=>{let a=qs(s,t),u=w2(a)?a.canLoad(e,n):rn(t,()=>a(e,n));return Fi(u)});return te(o).pipe(Hs(),OS(r))}function OS(t){return al(st(e=>{if(typeof e!="boolean")throw gh(t,e)}),re(e=>e===!0))}function k2(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return te(!0);let o=i.map(s=>{let a=qs(s,t),u=b2(a)?a.canMatch(e,n):rn(t,()=>a(e,n));return Fi(u)});return te(o).pipe(Hs(),OS(r))}var Vc=class{constructor(e){this.segmentGroup=e||null}},Lc=class extends Error{constructor(e){super(),this.urlTree=e}};function Os(t){return ls(new Vc(t))}function F2(t){return ls(new K(4e3,!1))}function V2(t){return ls(PS(!1,un.GuardRejected))}var sv=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return te(r);if(i.numberOfChildren>1||!i.children[me])return F2(`${e.redirectTo}`);i=i.children[me]}}applyRedirectCommands(e,n,r,i,o){if(typeof n!="string"){let a=n,{queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,params:y,data:A,title:N}=i,x=rn(o,()=>a({params:y,data:A,queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,title:N}));if(x instanceof Oi)throw new Lc(x);n=x}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new Lc(s);return s}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new Oi(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new Oe(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new K(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},av={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function L2(t,e,n,r,i){let o=pv(t,e,n);return o.matched?(r=h2(e,r),k2(r,e,n,i).pipe(re(s=>s===!0?o:U({},av)))):te(o)}function pv(t,e,n){if(e.path==="**")return U2(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?U({},av):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||OL)(n,t,e);if(!i)return U({},av);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?U(U({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function U2(t){return{matched:!0,parameters:t.length>0?pS(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function cS(t,e,n,r){return n.length>0&&$2(t,n,r)?{segmentGroup:new Oe(e,B2(r,new Oe(n,t.children))),slicedSegments:[]}:n.length===0&&H2(t,n,r)?{segmentGroup:new Oe(t.segments,j2(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Oe(t.segments,t.children),slicedSegments:n}}function j2(t,e,n,r){let i={};for(let o of n)if(_h(t,e,o)&&!r[Fn(o)]){let s=new Oe([],{});i[Fn(o)]=s}return U(U({},r),i)}function B2(t,e){let n={};n[me]=e;for(let r of t)if(r.path===""&&Fn(r)!==me){let i=new Oe([],{});n[Fn(r)]=i}return n}function $2(t,e,n){return n.some(r=>_h(t,e,r)&&Fn(r)!==me)}function H2(t,e,n){return n.some(r=>_h(t,e,r))}function _h(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function z2(t,e,n,r){return Fn(t)!==r&&(r===me||!_h(e,n,t))?!1:pv(e,t,n).matched}function q2(t,e,n){return e.length===0&&!t.children[n]}var cv=class{};function G2(t,e,n,r,i,o,s="emptyOnly"){return new uv(t,e,n,r,i,s,o).recognize()}var W2=31,uv=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new sv(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new K(4002,`'${e.segmentGroup}'`)}recognize(){let e=cS(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(re(({children:n,rootSnapshot:r})=>{let i=new cn(r,n),o=new ph("",i),s=XL(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new Vs([],Object.freeze({}),Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),me,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,me,n).pipe(re(r=>({children:r,rootSnapshot:n})),fi(r=>{if(r instanceof Lc)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Vc?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(re(s=>s instanceof cn?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Ue(o).pipe(Cr(s=>{let a=r.children[s],u=f2(n,s);return this.processSegmentGroup(e,u,a,s,i)}),Ml((s,a)=>(s.push(...a),s)),pi(null),Jp(),ot(s=>{if(s===null)return Os(r);let a=kS(s);return K2(a),te(a)}))}processSegment(e,n,r,i,o,s,a){return Ue(n).pipe(Cr(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,o,s,a).pipe(fi(l=>{if(l instanceof Vc)return te(null);throw l}))),zn(u=>!!u),fi(u=>{if(NS(u))return q2(r,i,o)?te(new cv):Os(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,o,s,a,u){return z2(r,i,o,s)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,u):Os(i):Os(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:m}=pv(n,i,o);if(!u)return Os(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>W2&&(this.allowRedirects=!1));let y=new Vs(o,l,Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,uS(i),Fn(i),i.component??i._loadedComponent??null,i,lS(i)),A=fh(y,a,this.paramsInheritanceStrategy);y.params=Object.freeze(A.params),y.data=Object.freeze(A.data);let N=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,y,e);return this.applyRedirects.lineralizeSegments(i,N).pipe(ot(x=>this.processSegment(e,r,n,x.concat(m),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a=L2(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(Kt(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Kt(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:y}=u,A=new Vs(m,p,Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,uS(r),Fn(r),r.component??r._loadedComponent??null,r,lS(r)),N=fh(A,s,this.paramsInheritanceStrategy);A.params=Object.freeze(N.params),A.data=Object.freeze(N.data);let{segmentGroup:x,slicedSegments:V}=cS(n,m,y,l);if(V.length===0&&x.hasChildren())return this.processChildren(h,l,x,A).pipe(re(W=>new cn(A,W)));if(l.length===0&&V.length===0)return te(new cn(A,[]));let Z=Fn(r)===o;return this.processSegment(h,l,x,V,Z?me:o,!0,A).pipe(re(W=>new cn(A,W instanceof cn?[W]:[])))}))):Os(n)))}getChildConfig(e,n,r){return n.children?te({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?te({routes:n._loadedRoutes,injector:n._loadedInjector}):O2(e,n,r,this.urlSerializer).pipe(ot(i=>i?this.configLoader.loadChildren(e,n).pipe(st(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):V2(n))):te({routes:[],injector:e})}};function K2(t){t.sort((e,n)=>e.value.outlet===me?-1:n.value.outlet===me?1:e.value.outlet.localeCompare(n.value.outlet))}function Q2(t){let e=t.value.routeConfig;return e&&e.path===""}function kS(t){let e=[],n=new Set;for(let r of t){if(!Q2(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=kS(r.children);e.push(new cn(r.value,i))}return e.filter(r=>!n.has(r))}function uS(t){return t.data||{}}function lS(t){return t.resolve||{}}function Y2(t,e,n,r,i,o){return ot(s=>G2(t,e,n,r,s.extractedUrl,i,o).pipe(re(({state:a,tree:u})=>ye(U({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function J2(t,e){return ot(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return te(n);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of FS(u))s.add(l);let a=0;return Ue(s).pipe(Cr(u=>o.has(u)?Z2(u,r,t,e):(u.data=fh(u,u.parent,t).resolve,te(void 0))),st(()=>a++),hs(1),ot(u=>a===s.size?te(n):en))})}function FS(t){let e=t.children.map(n=>FS(n)).flat();return[t,...e]}function Z2(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!MS(i)&&(o[jc]=i.title),X2(o,t,e,r).pipe(re(s=>(t._resolvedData=s,t.data=fh(t,t.parent,n).resolve,null)))}function X2(t,e,n,r){let i=jy(t);if(i.length===0)return te({});let o={};return Ue(i).pipe(ot(s=>e3(t[s],e,n,r).pipe(zn(),st(a=>{if(a instanceof Fc)throw gh(new js,a);o[s]=a}))),hs(1),Yp(o),fi(s=>NS(s)?en:ls(s)))}function e3(t,e,n,r){let i=Hc(e)??r,o=qs(t,i),s=o.resolve?o.resolve(e,n):rn(i,()=>o(e,n));return Fi(s)}function Ly(t){return Kt(e=>{let n=t(e);return n?Ue(n).pipe(re(()=>e)):te(e)})}var VS=(()=>{let e=class e{buildTitle(r){let i,o=r.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===me);return i}getResolvedTitleForRoute(r){return r.data[jc]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>F(t3),providedIn:"root"});let t=e;return t})(),t3=(()=>{let e=class e extends VS{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(q(tS))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),qc=new H("",{providedIn:"root",factory:()=>({})}),Uc=new H(""),gv=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=F(kd)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return te(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Fi(r.loadComponent()).pipe(re(LS),st(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),gi(()=>{this.componentLoaders.delete(r)})),o=new os(i,()=>new vt).pipe(is());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return te({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=n3(i,this.compiler,r,this.onLoadEndListener).pipe(gi(()=>{this.childrenLoaders.delete(i)})),a=new os(s,()=>new vt).pipe(is());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function n3(t,e,n,r){return Fi(t.loadChildren()).pipe(re(LS),ot(i=>i instanceof cc||Array.isArray(i)?te(i):Ue(e.compileModuleAsync(i))),re(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(Uc,[],{optional:!0,self:!0}).flat()),{routes:s.map(fv),injector:o}}))}function r3(t){return t&&typeof t=="object"&&"default"in t}function LS(t){return r3(t)?t.default:t}var mv=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>F(i3),providedIn:"root"});let t=e;return t})(),i3=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),US=new H(""),jS=new H("");function o3(t,e,n){let r=t.get(jS),i=t.get(Tt);return t.get(be).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),s3(t))),{onViewTransitionCreated:u}=r;return u&&rn(t,()=>u({transition:a,from:e,to:n})),s})}function s3(t){return new Promise(e=>{Ad(()=>setTimeout(e),{injector:t,phase:yi.Read})})}var a3=new H(""),yv=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new vt,this.transitionAbortSubject=new vt,this.configLoader=F(gv),this.environmentInjector=F(Nt),this.urlSerializer=F(Bc),this.rootContexts=F($c),this.location=F(Rs),this.inputBindingEnabled=F(vh,{optional:!0})!==null,this.titleStrategy=F(VS),this.options=F(qc,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=F(mv),this.createViewTransition=F(US,{optional:!0}),this.navigationErrorHandler=F(a3,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>te(void 0),this.rootComponentType=null;let r=o=>this.events.next(new Ky(o)),i=o=>this.events.next(new Qy(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(ye(U(U({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,o){return this.transitions=new ht({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Mc,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Bt(s=>s.id!==0),re(s=>ye(U({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Kt(s=>{let a=!1,u=!1;return te(s).pipe(Kt(l=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",un.SupersededByNewNavigation),en;this.currentTransition=s,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?ye(U({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let h=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!h&&p!=="reload"){let m="";return this.events.next(new ki(l.id,this.urlSerializer.serialize(l.rawUrl),m,ch.IgnoredSameUrlNavigation)),l.resolve(!1),en}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return te(l).pipe(Kt(m=>{let y=this.transitions?.getValue();return this.events.next(new Bs(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),y!==this.transitions?.getValue()?en:Promise.resolve(m)}),Y2(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),st(m=>{s.targetSnapshot=m.targetSnapshot,s.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation=ye(U({},this.currentNavigation),{finalUrl:m.urlAfterRedirects});let y=new uh(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(y)}));if(h&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:m,extractedUrl:y,source:A,restoredState:N,extras:x}=l,V=new Bs(m,this.urlSerializer.serialize(y),A,N);this.events.next(V);let Z=SS(this.rootComponentType).snapshot;return this.currentTransition=s=ye(U({},l),{targetSnapshot:Z,urlAfterRedirects:y,extras:ye(U({},x),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=y,te(s)}else{let m="";return this.events.next(new ki(l.id,this.urlSerializer.serialize(l.extractedUrl),m,ch.IgnoredByUrlHandlingStrategy)),l.resolve(!1),en}}),st(l=>{let h=new zy(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),re(l=>(this.currentTransition=s=ye(U({},l),{guards:g2(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),s)),T2(this.environmentInjector,l=>this.events.next(l)),st(l=>{if(s.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw gh(this.urlSerializer,l.guardsResult);let h=new qy(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(h)}),Bt(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",un.GuardRejected),!1)),Ly(l=>{if(l.guards.canActivateChecks.length)return te(l).pipe(st(h=>{let p=new Gy(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}),Kt(h=>{let p=!1;return te(h).pipe(J2(this.paramsInheritanceStrategy,this.environmentInjector),st({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(h,"",un.NoDataFromResolver)}}))}),st(h=>{let p=new Wy(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}))}),Ly(l=>{let h=p=>{let m=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(p.routeConfig).pipe(st(y=>{p.component=y}),re(()=>{})));for(let y of p.children)m.push(...h(y));return m};return tc(h(l.targetSnapshot.root)).pipe(pi(null),br(1))}),Ly(()=>this.afterPreactivation()),Kt(()=>{let{currentSnapshot:l,targetSnapshot:h}=s,p=this.createViewTransition?.(this.environmentInjector,l.root,h.root);return p?Ue(p).pipe(re(()=>s)):te(s)}),re(l=>{let h=a2(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s=ye(U({},l),{targetRouterState:h}),this.currentNavigation.targetRouterState=h,s}),st(()=>{this.events.next(new Oc)}),p2(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),br(1),st({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Vn(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),Zp(this.transitionAbortSubject.pipe(st(l=>{throw l}))),gi(()=>{!a&&!u&&this.cancelNavigationTransition(s,"",un.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),fi(l=>{if(u=!0,RS(l))this.events.next(new zr(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),l2(l)?this.events.next(new $s(l.url,l.navigationBehaviorOptions)):s.resolve(!1);else{let h=new Nc(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0);try{let p=rn(this.environmentInjector,()=>this.navigationErrorHandler?.(h));if(p instanceof Fc){let{message:m,cancellationCode:y}=gh(this.urlSerializer,p);this.events.next(new zr(s.id,this.urlSerializer.serialize(s.extractedUrl),m,y)),this.events.next(new $s(p.redirectTo,p.navigationBehaviorOptions))}else{this.events.next(h);let m=r.errorHandler(l);s.resolve(!!m)}}catch(p){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(p)}}return en}))}))}cancelNavigationTransition(r,i,o){let s=new zr(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function c3(t){return t!==Mc}var u3=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>F(l3),providedIn:"root"});let t=e;return t})(),lv=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},l3=(()=>{let e=class e extends lv{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=er(e)))(o||e)}})(),e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),BS=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>F(d3),providedIn:"root"});let t=e;return t})(),d3=(()=>{let e=class e extends BS{constructor(){super(...arguments),this.location=F(Rs),this.urlSerializer=F(Bc),this.options=F(qc,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=F(mv),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Oi,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=SS(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof Bs)this.stateMemento=this.createStateMemento();else if(r instanceof ki)this.rawUrlTree=i.initialUrl;else if(r instanceof uh){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(o,i)}}else r instanceof Oc?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof zr&&(r.code===un.GuardRejected||r.code===un.NoDataFromResolver)?this.restoreHistory(i):r instanceof Nc?this.restoreHistory(i,!0):r instanceof Vn&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let o=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let s=this.browserPageId,a=U(U({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(o,"",a)}else{let s=U(U({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===r.finalUrl&&s===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=er(e)))(o||e)}})(),e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Sc=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Sc||{});function $S(t,e){t.events.pipe(Bt(n=>n instanceof Vn||n instanceof zr||n instanceof Nc||n instanceof ki),re(n=>n instanceof Vn||n instanceof ki?Sc.COMPLETE:(n instanceof zr?n.code===un.Redirect||n.code===un.SupersededByNewNavigation:!1)?Sc.REDIRECTING:Sc.FAILED),Bt(n=>n!==Sc.REDIRECTING),br(1)).subscribe(()=>{e()})}function h3(t){throw t}var f3={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},p3={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},wt=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=F(Nd),this.stateManager=F(BS),this.options=F(qc,{optional:!0})||{},this.pendingTasks=F(Rr),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=F(yv),this.urlSerializer=F(Bc),this.location=F(Rs),this.urlHandlingStrategy=F(mv),this._events=new vt,this.errorHandler=this.options.errorHandler||h3,this.navigated=!1,this.routeReuseStrategy=F(u3),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=F(Uc,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!F(vh,{optional:!0}),this.eventsSubscription=new Qe,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof zr&&i.code!==un.Redirect&&i.code!==un.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Vn)this.navigated=!0;else if(i instanceof $s){let a=i.navigationBehaviorOptions,u=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),l=U({info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||c3(o.source)},a);this.scheduleNavigation(u,Mc,null,l,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}m3(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Mc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let l=U({},o);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let u=this.parseUrl(r);this.scheduleNavigation(u,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(fv),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:u,preserveFragment:l}=i,h=l?this.currentUrlTree.fragment:a,p=null;switch(u){case"merge":p=U(U({},this.currentUrlTree.queryParams),s);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=s||null}p!==null&&(p=this.removeEmptyProps(p));let m;try{let y=o?o.snapshot:this.routerState.snapshot.root;m=CS(y)}catch{(typeof r[0]!="string"||r[0][0]!=="/")&&(r=[]),m=this.currentUrlTree.root}return bS(m,r,p,h??null)}navigateByUrl(r,i={skipLocationChange:!1}){let o=Pc(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,Mc,null,i)}navigate(r,i={skipLocationChange:!1}){return g3(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let o;if(i===!0?o=U({},f3):i===!1?o=U({},p3):o=i,Pc(r))return rS(this.currentUrlTree,r,o);let s=this.parseUrl(r);return rS(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.entries(r).reduce((i,[o,s])=>(s!=null&&(i[o]=s),i),{})}scheduleNavigation(r,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let u,l,h;a?(u=a.resolve,l=a.reject,h=a.promise):h=new Promise((m,y)=>{u=m,l=y});let p=this.pendingTasks.add();return $S(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:s,resolve:u,reject:l,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(m=>Promise.reject(m))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function g3(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new K(4008,!1)}function m3(t){return!(t instanceof Oc)&&!(t instanceof $s)}var zs=(()=>{let e=class e{constructor(r,i,o,s,a,u){this.router=r,this.route=i,this.tabIndexAttribute=o,this.renderer=s,this.el=a,this.locationStrategy=u,this.href=null,this.commands=null,this.onChanges=new vt,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let l=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=r.events.subscribe(h=>{h instanceof Vn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,o,s,a){let u=this.urlTree;if(u===null||this.isAnchorElement&&(r!==0||i||o||s||a||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(u,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:iD(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let o=this.renderer,s=this.el.nativeElement;i!==null?o.setAttribute(s,r,i):o.removeAttribute(s,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)($(wt),$(ir),Om("tabindex"),$(Nn),$(zt),$($r))},e.\u0275dir=qe({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,o){i&1&&B("click",function(a){return o.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&gc("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Si],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Si],replaceUrl:[2,"replaceUrl","replaceUrl",Si],routerLink:"routerLink"},standalone:!0,features:[ny,Pr]});let t=e;return t})(),HS=(()=>{let e=class e{get isActive(){return this._isActive}constructor(r,i,o,s,a){this.router=r,this.element=i,this.renderer=o,this.cdr=s,this.link=a,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Ye,this.routerEventsSubscription=r.events.subscribe(u=>{u instanceof Vn&&this.update()})}ngAfterContentInit(){te(this.links.changes,te(null)).pipe(hi()).subscribe(r=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let r=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=Ue(r).pipe(hi()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(r){let i=Array.isArray(r)?r:r.split(" ");this.classes=i.filter(o=>!!o)}ngOnChanges(r){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let r=this.hasActiveLinks();this.classes.forEach(i=>{r?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),r&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==r&&(this._isActive=r,this.cdr.markForCheck(),this.isActiveChange.emit(r))})}isLinkActive(r){let i=y3(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return o=>{let s=o.urlTree;return s?r.isActive(s,i):!1}}hasActiveLinks(){let r=this.isLinkActive(this.router);return this.link&&r(this.link)||this.links.some(r)}};e.\u0275fac=function(i){return new(i||e)($(wt),$(zt),$(Nn),$(Ti),$(zs,8))},e.\u0275dir=qe({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(i,o,s){if(i&1&&eT(s,zs,5),i&2){let a;xd(a=Pd())&&(o.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Pr]});let t=e;return t})();function y3(t){return!!t.paths}var yh=class{};var v3=(()=>{let e=class e{constructor(r,i,o,s,a){this.router=r,this.injector=o,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Bt(r=>r instanceof Vn),Cr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){let o=[];for(let s of i){s.providers&&!s._injector&&(s._injector=Md(s.providers,r,`Route: ${s.path}`));let a=s._injector??r,u=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&o.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&o.push(this.processRoutes(u,s.children??s._loadedRoutes))}return Ue(o).pipe(hi())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let o;i.loadChildren&&i.canLoad===void 0?o=this.loader.loadChildren(r,i):o=te(null);let s=o.pipe(ot(a=>a===null?te(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));if(i.loadComponent&&!i._loadedComponent){let a=this.loader.loadComponent(i);return Ue([s,a]).pipe(hi())}else return s})}};e.\u0275fac=function(i){return new(i||e)(q(wt),q(kd),q(Nt),q(yh),q(gv))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),zS=new H(""),_3=(()=>{let e=class e{constructor(r,i,o,s,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=o,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=F(Nt),a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Bs?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof Vn?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof ki&&r.code===ch.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof lh&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>E(this,null,function*(){yield new Promise(o=>{setTimeout(()=>{o()}),Ad(()=>{o()},{injector:this.environmentInjector})}),this.zone.run(()=>{this.transitions.events.next(new lh(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(i){gD()},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})();function qS(t,...e){return nn([{provide:Uc,multi:!0,useValue:t},[],{provide:ir,useFactory:GS,deps:[wt]},{provide:yc,multi:!0,useFactory:WS},e.map(n=>n.\u0275providers)])}function GS(t){return t.routerState.root}function Gc(t,e){return{\u0275kind:t,\u0275providers:e}}function WS(){let t=F(ft);return e=>{let n=t.get(bo);if(e!==n.components[0])return;let r=t.get(wt),i=t.get(KS);t.get(vv)===1&&r.initialNavigation(),t.get(QS,null,ve.Optional)?.setUpPreloading(),t.get(zS,null,ve.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var KS=new H("",{factory:()=>new vt}),vv=new H("",{providedIn:"root",factory:()=>1});function w3(){return Gc(2,[{provide:vv,useValue:0},{provide:Od,multi:!0,deps:[ft],useFactory:e=>{let n=e.get(bT,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(wt),o=e.get(KS);$S(i,()=>{r(!0)}),e.get(yv).afterPreactivation=()=>(r(!0),o.closed?te(void 0):o),i.initialNavigation()}))}}])}function E3(){return Gc(3,[{provide:Od,multi:!0,useFactory:()=>{let e=F(wt);return()=>{e.setUpLocationChangeListener()}}},{provide:vv,useValue:2}])}var QS=new H("");function I3(t){return Gc(0,[{provide:QS,useExisting:v3},{provide:yh,useExisting:t}])}function C3(){return Gc(8,[aS,{provide:vh,useExisting:aS}])}function b3(t){let e=[{provide:US,useValue:o3},{provide:jS,useValue:U({skipNextTransition:!!t?.skipInitialTransition},t)}];return Gc(9,e)}var dS=new H("ROUTER_FORROOT_GUARD"),D3=[Rs,{provide:Bc,useClass:js},wt,$c,{provide:ir,useFactory:GS,deps:[wt]},gv,[]],Gs=(()=>{let e=class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[D3,[],{provide:Uc,multi:!0,useValue:r},{provide:dS,useFactory:M3,deps:[[wt,new pt,new ym]]},{provide:qc,useValue:i||{}},i?.useHash?S3():A3(),T3(),i?.preloadingStrategy?I3(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?x3(i):[],i?.bindToComponentInputs?C3().\u0275providers:[],i?.enableViewTransitions?b3().\u0275providers:[],P3()]}}static forChild(r){return{ngModule:e,providers:[{provide:Uc,multi:!0,useValue:r}]}}};e.\u0275fac=function(i){return new(i||e)(q(dS,8))},e.\u0275mod=Xn({type:e}),e.\u0275inj=Zn({});let t=e;return t})();function T3(){return{provide:zS,useFactory:()=>{let t=F(RT),e=F(be),n=F(qc),r=F(yv),i=F(Bc);return n.scrollOffset&&t.setOffset(n.scrollOffset),new _3(i,r,t,e,n)}}}function S3(){return{provide:$r,useClass:TT}}function A3(){return{provide:$r,useClass:my}}function M3(t){return"guarded"}function x3(t){return[t.initialNavigation==="disabled"?E3().\u0275providers:[],t.initialNavigation==="enabledBlocking"?w3().\u0275providers:[]]}var hS=new H("");function P3(){return[{provide:hS,useFactory:WS},{provide:yc,multi:!0,useExisting:hS}]}var JS=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},R3=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},wh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,m=(a&15)<<2|l>>6,y=l&63;u||(y=64,s||(m=64)),r.push(n[h],n[p],n[m],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(JS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):R3(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new wv;let m=o<<2|a>>4;if(r.push(m),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let A=l<<6&192|p;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},wv=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},N3=function(t){let e=JS(t);return wh.encodeByteArray(e,!0)},Wc=function(t){return N3(t).replace(/\./g,"")},Iv=function(t){try{return wh.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Cv(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var O3=()=>Cv().__FIREBASE_DEFAULTS__,k3=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},F3=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Iv(t[1]);return e&&JSON.parse(e)},Eh=()=>{try{return O3()||k3()||F3()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},bv=t=>{var e,n;return(n=(e=Eh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},ZS=t=>{let e=bv(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Dv=()=>{var t;return(t=Eh())===null||t===void 0?void 0:t.config},Tv=t=>{var e;return(e=Eh())===null||e===void 0?void 0:e[`_${t}`]};var qr=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function XS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Wc(JSON.stringify(n)),Wc(JSON.stringify(s)),""].join(".")}function It(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function eA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(It())}function V3(){var t;let e=(t=Eh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function tA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function nA(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function rA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function iA(){let t=It();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function oA(){return!V3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ks(){try{return typeof indexedDB=="object"}catch{return!1}}function sA(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var L3="FirebaseError",ln=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=L3,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ln.prototype.create)}},Ln=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?U3(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new ln(i,a,r)}};function U3(t,e){return t.replace(j3,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var j3=/\{\$([^}]+)}/g;function aA(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function So(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(YS(o)&&YS(s)){if(!So(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function YS(t){return t!==null&&typeof t=="object"}function Kc(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function cA(t,e){let n=new Ev(t,e);return n.subscribe.bind(n)}var Ev=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");B3(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=_v),i.error===void 0&&(i.error=_v),i.complete===void 0&&(i.complete=_v);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function B3(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function _v(){}var uA=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{let e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})};var $3=1e3,H3=2,z3=4*60*60*1e3,q3=.5;function lA(t,e=$3,n=H3){let r=e*Math.pow(n,t),i=Math.round(q3*r*(Math.random()-.5)*2);return Math.min(z3,r+i)}function gt(t){return t&&t._delegate?t._delegate:t}var Gt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Ao="[DEFAULT]";var Sv=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new qr;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(W3(e))try{this.getOrInitializeService({instanceIdentifier:Ao})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Ao){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return E(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Ao){return this.instances.has(e)}getOptions(e=Ao){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:G3(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ao){return this.component?this.component.multipleInstances?e:Ao:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function G3(t){return t===Ao?void 0:t}function W3(t){return t.instantiationMode==="EAGER"}var Ih=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Sv(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var K3=[],we=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(we||{}),Q3={debug:we.DEBUG,verbose:we.VERBOSE,info:we.INFO,warn:we.WARN,error:we.ERROR,silent:we.SILENT},Y3=we.INFO,J3={[we.DEBUG]:"log",[we.VERBOSE]:"log",[we.INFO]:"info",[we.WARN]:"warn",[we.ERROR]:"error"},Z3=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=J3[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},or=class{constructor(e){this.name=e,this._logLevel=Y3,this._logHandler=Z3,this._userLogHandler=null,K3.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in we))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Q3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,we.DEBUG,...e),this._logHandler(this,we.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,we.VERBOSE,...e),this._logHandler(this,we.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,we.INFO,...e),this._logHandler(this,we.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,we.WARN,...e),this._logHandler(this,we.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,we.ERROR,...e),this._logHandler(this,we.ERROR,...e)}};var X3=(t,e)=>e.some(n=>t instanceof n),dA,hA;function eU(){return dA||(dA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function tU(){return hA||(hA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var fA=new WeakMap,Mv=new WeakMap,pA=new WeakMap,Av=new WeakMap,Pv=new WeakMap;function nU(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(sr(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&fA.set(n,t)}).catch(()=>{}),Pv.set(e,t),e}function rU(t){if(Mv.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Mv.set(t,e)}var xv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Mv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||pA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return sr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function gA(t){xv=t(xv)}function iU(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Ch(this),e,...n);return pA.set(r,e.sort?e.sort():[e]),sr(r)}:tU().includes(t)?function(...e){return t.apply(Ch(this),e),sr(fA.get(this))}:function(...e){return sr(t.apply(Ch(this),e))}}function oU(t){return typeof t=="function"?iU(t):(t instanceof IDBTransaction&&rU(t),X3(t,eU())?new Proxy(t,xv):t)}function sr(t){if(t instanceof IDBRequest)return nU(t);if(Av.has(t))return Av.get(t);let e=oU(t);return e!==t&&(Av.set(t,e),Pv.set(e,t)),e}var Ch=t=>Pv.get(t);function yA(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=sr(s);return r&&s.addEventListener("upgradeneeded",u=>{r(sr(s.result),u.oldVersion,u.newVersion,sr(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var sU=["get","getKey","getAll","getAllKeys","count"],aU=["put","add","delete","clear"],Rv=new Map;function mA(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Rv.get(e))return Rv.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=aU.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||sU.includes(n)))return;let o=function(s,...a){return E(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&u.done]))[0]})};return Rv.set(e,o),o}gA(t=>ye(U({},t),{get:(e,n,r)=>mA(e,n)||t.get(e,n,r),has:(e,n)=>!!mA(e,n)||t.has(e,n)}));var Ov=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(cU(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function cU(t){let e=t.getComponent();return e?.type==="VERSION"}var kv="@firebase/app",vA="0.10.13";var Gr=new or("@firebase/app"),uU="@firebase/app-compat",lU="@firebase/analytics-compat",dU="@firebase/analytics",hU="@firebase/app-check-compat",fU="@firebase/app-check",pU="@firebase/auth",gU="@firebase/auth-compat",mU="@firebase/database",yU="@firebase/data-connect",vU="@firebase/database-compat",_U="@firebase/functions",wU="@firebase/functions-compat",EU="@firebase/installations",IU="@firebase/installations-compat",CU="@firebase/messaging",bU="@firebase/messaging-compat",DU="@firebase/performance",TU="@firebase/performance-compat",SU="@firebase/remote-config",AU="@firebase/remote-config-compat",MU="@firebase/storage",xU="@firebase/storage-compat",PU="@firebase/firestore",RU="@firebase/vertexai-preview",NU="@firebase/firestore-compat",OU="firebase",kU="10.14.1";var Fv="[DEFAULT]",FU={[kv]:"fire-core",[uU]:"fire-core-compat",[dU]:"fire-analytics",[lU]:"fire-analytics-compat",[fU]:"fire-app-check",[hU]:"fire-app-check-compat",[pU]:"fire-auth",[gU]:"fire-auth-compat",[mU]:"fire-rtdb",[yU]:"fire-data-connect",[vU]:"fire-rtdb-compat",[_U]:"fire-fn",[wU]:"fire-fn-compat",[EU]:"fire-iid",[IU]:"fire-iid-compat",[CU]:"fire-fcm",[bU]:"fire-fcm-compat",[DU]:"fire-perf",[TU]:"fire-perf-compat",[SU]:"fire-rc",[AU]:"fire-rc-compat",[MU]:"fire-gcs",[xU]:"fire-gcs-compat",[PU]:"fire-fst",[NU]:"fire-fst-compat",[RU]:"fire-vertex","fire-js":"fire-js",[OU]:"fire-js-all"};var Qc=new Map,VU=new Map,Vv=new Map;function _A(t,e){try{t.container.addComponent(e)}catch(n){Gr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Un(t){let e=t.name;if(Vv.has(e))return Gr.debug(`There were multiple attempts to register component ${e}.`),!1;Vv.set(e,t);for(let n of Qc.values())_A(n,t);for(let n of VU.values())_A(n,t);return!0}function Li(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Wr(t){return t.settings!==void 0}var LU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Vi=new Ln("app","Firebase",LU);var Lv=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Gt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Vi.create("app-deleted",{appName:this._name})}};var Ui=kU;function Bv(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Fv,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Vi.create("bad-app-name",{appName:String(i)});if(n||(n=Dv()),!n)throw Vi.create("no-options");let o=Qc.get(i);if(o){if(So(n,o.options)&&So(r,o.config))return o;throw Vi.create("duplicate-app",{appName:i})}let s=new Ih(i);for(let u of Vv.values())s.addComponent(u);let a=new Lv(n,r,s);return Qc.set(i,a),a}function ji(t=Fv){let e=Qc.get(t);if(!e&&t===Fv&&Dv())return Bv();if(!e)throw Vi.create("no-app",{appName:t});return e}function bh(){return Array.from(Qc.values())}function We(t,e,n){var r;let i=(r=FU[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Gr.warn(a.join(" "));return}Un(new Gt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var UU="firebase-heartbeat-database",jU=1,Yc="firebase-heartbeat-store",Nv=null;function CA(){return Nv||(Nv=yA(UU,jU,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Yc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Vi.create("idb-open",{originalErrorMessage:t.message})})),Nv}function BU(t){return E(this,null,function*(){try{let n=(yield CA()).transaction(Yc),r=yield n.objectStore(Yc).get(bA(t));return yield n.done,r}catch(e){if(e instanceof ln)Gr.warn(e.message);else{let n=Vi.create("idb-get",{originalErrorMessage:e?.message});Gr.warn(n.message)}}})}function wA(t,e){return E(this,null,function*(){try{let r=(yield CA()).transaction(Yc,"readwrite");yield r.objectStore(Yc).put(e,bA(t)),yield r.done}catch(n){if(n instanceof ln)Gr.warn(n.message);else{let r=Vi.create("idb-set",{originalErrorMessage:n?.message});Gr.warn(r.message)}}})}function bA(t){return`${t.name}!${t.options.appId}`}var $U=1024,HU=30*24*60*60*1e3,Uv=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new jv(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return E(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=EA();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=HU}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Gr.warn(r)}})}getHeartbeatsHeader(){return E(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=EA(),{heartbeatsToSend:r,unsentEntries:i}=zU(this._heartbeatsCache.heartbeats),o=Wc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Gr.warn(n),""}})}};function EA(){return new Date().toISOString().substring(0,10)}function zU(t,e=$U){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),IA(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),IA(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var jv=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return E(this,null,function*(){return Ks()?sA().then(()=>!0).catch(()=>!1):!1})}read(){return E(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield BU(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return E(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return wA(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return E(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return wA(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function IA(t){return Wc(JSON.stringify({version:2,heartbeats:t})).length}function qU(t){Un(new Gt("platform-logger",e=>new Ov(e),"PRIVATE")),Un(new Gt("heartbeat",e=>new Uv(e),"PRIVATE")),We(kv,vA,t),We(kv,vA,"esm2017"),We("fire-js","")}qU("");var GU="firebase",WU="10.14.1";We(GU,WU,"app");var Kr=new Ar("ANGULARFIRE2_VERSION");function Ys(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Js=(t,e)=>{let n=e?[e]:bh(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Bi=class{constructor(){return Js(Hv)}},Hv="app-check";function Qs(){}var Dh=class{zone;delegate;constructor(e,n=qp){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,r)}},$v=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Qs,{},Qs,Qs)),n.pipe(st({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},$i=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Dh(Zone.current)),this.insideAngular=n.run(()=>new Dh(Zone.current,us)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(q(be))};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Th(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function KU(t){return Th().ngZone.runOutsideAngular(()=>t())}function Mo(t){return Th().ngZone.run(()=>t())}function QU(t){return YU(Th())(t)}function YU(t){return function(n){return n=n.lift(new $v(t.ngZone)),n.pipe(di(t.outsideAngular),li(t.insideAngular))}}var JU=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Mo(()=>t.apply(void 0,r))},At=(t,e)=>function(){let n,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(n||=Mo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Qs,{},Qs,Qs))),r[o]=JU(r[o],n));let i=KU(()=>t.apply(this,r));if(!e)if(i instanceof pe){let o=Th();return i.pipe(di(o.outsideAngular),li(o.insideAngular))}else return Mo(()=>i);return i instanceof pe?i.pipe(QU):i instanceof Promise?Mo(()=>new Promise((o,s)=>i.then(a=>Mo(()=>o(a)),a=>Mo(()=>s(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Mo(()=>i)};var jn=class{constructor(e){return e}},Qr=class{constructor(){return bh()}};function ZU(t){return t&&t.length===1?t[0]:new jn(ji())}var zv=new H("angularfire2._apps"),XU={provide:jn,useFactory:ZU,deps:[[new pt,zv]]},ej={provide:Qr,deps:[[new pt,zv]]};function tj(t){return(e,n)=>{let r=n.get(Dt);We("angularfire",Kr.full,"core"),We("angularfire",Kr.full,"app"),We("angular",cT.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new jn(i)}}function DA(t,...e){return nn([XU,ej,{provide:zv,useFactory:tj(t),multi:!0,deps:[be,ft,$i,...e]}])}var TA=At(Bv,!0);function BA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var $A=BA,HA=new Ln("auth","Firebase",BA());var Rh=new or("@firebase/auth");function nj(t,...e){Rh.logLevel<=we.WARN&&Rh.warn(`Auth (${Ui}): ${t}`,...e)}function Ah(t,...e){Rh.logLevel<=we.ERROR&&Rh.error(`Auth (${Ui}): ${t}`,...e)}function zi(t,...e){throw l0(t,...e)}function Po(t,...e){return l0(t,...e)}function zA(t,e,n){let r=Object.assign(Object.assign({},$A()),{[e]:n});return new Ln("auth","Firebase",r).create(e,{appName:t.name})}function xo(t){return zA(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function l0(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return HA.create(t,...e)}function ue(t,e,...n){if(!t)throw l0(e,...n)}function Yr(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Ah(e),new Error(e)}function qi(t,e){t||Yr(e)}function Kv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function rj(){return SA()==="http:"||SA()==="https:"}function SA(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function ij(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(rj()||nA()||"connection"in navigator)?navigator.onLine:!0}function oj(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Ro=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,qi(n>e,"Short delay should be less than long delay!"),this.isMobile=eA()||rA()}get(){return ij()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function d0(t,e){qi(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Nh=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Yr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Yr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Yr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var sj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var aj=new Ro(3e4,6e4);function h0(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Xs(o,s,a,u){return E(this,arguments,function*(t,e,n,r,i={}){return qA(t,i,()=>E(this,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=Kc(Object.assign({key:t.config.apiKey},h)).slice(1),m=yield t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);let y=Object.assign({method:e,headers:m},l);return tA()||(y.referrerPolicy="no-referrer"),Nh.fetch()(GA(t,t.config.apiHost,n,p),y)}))})}function qA(t,e,n){return E(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},sj),e);try{let i=new Qv(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Sh(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sh(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw Sh(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw Sh(t,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw zA(t,h,l);zi(t,h)}}catch(i){if(i instanceof ln)throw i;zi(t,"network-request-failed",{message:String(i)})}})}function cj(o,s,a,u){return E(this,arguments,function*(t,e,n,r,i={}){let l=yield Xs(t,e,n,r,i);return"mfaPendingCredential"in l&&zi(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function GA(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?d0(t.config,i):`${t.config.apiScheme}://${i}`}var Qv=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Po(this.auth,"network-request-failed")),aj.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Sh(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Po(t,e,r);return i.customData._tokenResponse=n,i}function uj(t,e){return E(this,null,function*(){return Xs(t,"POST","/v1/accounts:delete",e)})}function WA(t,e){return E(this,null,function*(){return Xs(t,"POST","/v1/accounts:lookup",e)})}function Jc(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function f0(t,e=!1){return E(this,null,function*(){let n=gt(t),r=yield n.getIdToken(e),i=p0(r);ue(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Jc(qv(i.auth_time)),issuedAtTime:Jc(qv(i.iat)),expirationTime:Jc(qv(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function qv(t){return Number(t)*1e3}function p0(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ah("JWT malformed, contained fewer than 3 sections"),null;try{let i=Iv(n);return i?JSON.parse(i):(Ah("Failed to decode base64 JWT payload"),null)}catch(i){return Ah("Caught error parsing JWT payload as JSON",i?.toString()),null}}function AA(t){let e=p0(t);return ue(e,"internal-error"),ue(typeof e.exp<"u","internal-error"),ue(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Xc(t,e,n=!1){return E(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof ln&&lj(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function lj({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Yv=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>E(this,null,function*(){yield this.iteration()}),n)}iteration(){return E(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var eu=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Jc(this.lastLoginAt),this.creationTime=Jc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Oh(t){return E(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Xc(t,WA(n,{idToken:r}));ue(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?KA(o.providerUserInfo):[],a=dj(t.providerData,s),u=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new eu(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,p)})}function g0(t){return E(this,null,function*(){let e=gt(t);yield Oh(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function dj(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function KA(t){return t.map(e=>{var{providerId:n}=e,r=Gp(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function hj(t,e){return E(this,null,function*(){let n=yield qA(t,{},()=>E(this,null,function*(){let r=Kc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=GA(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Nh.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function fj(t,e){return E(this,null,function*(){return Xs(t,"POST","/v2/accounts:revokeToken",h0(t,e))})}var Zc=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ue(e.idToken,"internal-error"),ue(typeof e.idToken<"u","internal-error"),ue(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):AA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ue(e.length!==0,"internal-error");let n=AA(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return E(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ue(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return E(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield hj(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(ue(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(ue(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(ue(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Yr("not implemented")}};function Hi(t,e){ue(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Zs=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Gp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Yv(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new eu(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return E(this,null,function*(){let n=yield Xc(this,this.stsTokenManager.getToken(this.auth,e));return ue(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return f0(this,e)}reload(){return g0(this)}_assign(e){this!==e&&(ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return E(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Oh(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return E(this,null,function*(){if(Wr(this.auth.app))return Promise.reject(xo(this.auth));let e=yield this.getIdToken();return yield Xc(this,uj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,u,l,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,y=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,A=(s=n.photoURL)!==null&&s!==void 0?s:void 0,N=(a=n.tenantId)!==null&&a!==void 0?a:void 0,x=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,V=(l=n.createdAt)!==null&&l!==void 0?l:void 0,Z=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:W,emailVerified:ee,isAnonymous:Ve,providerData:oe,stsTokenManager:b}=n;ue(W&&b,e,"internal-error");let v=Zc.fromJSON(this.name,b);ue(typeof W=="string",e,"internal-error"),Hi(p,e.name),Hi(m,e.name),ue(typeof ee=="boolean",e,"internal-error"),ue(typeof Ve=="boolean",e,"internal-error"),Hi(y,e.name),Hi(A,e.name),Hi(N,e.name),Hi(x,e.name),Hi(V,e.name),Hi(Z,e.name);let _=new t({uid:W,auth:e,email:m,emailVerified:ee,displayName:p,isAnonymous:Ve,photoURL:A,phoneNumber:y,tenantId:N,stsTokenManager:v,createdAt:V,lastLoginAt:Z});return oe&&Array.isArray(oe)&&(_.providerData=oe.map(D=>Object.assign({},D))),x&&(_._redirectEventId=x),_}static _fromIdTokenResponse(e,n,r=!1){return E(this,null,function*(){let i=new Zc;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Oh(o),o})}static _fromGetAccountInfoResponse(e,n,r){return E(this,null,function*(){let i=n.users[0];ue(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?KA(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Zc;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new eu(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var MA=new Map;function Jr(t){qi(t instanceof Function,"Expected a class definition");let e=MA.get(t);return e?(qi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,MA.set(t,e),e)}var pj=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return E(this,null,function*(){return!0})}_set(n,r){return E(this,null,function*(){this.storage[n]=r})}_get(n){return E(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return E(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Jv=pj;function Mh(t,e,n){return`firebase:${t}:${e}:${n}`}var kh=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Mh(this.userKey,i.apiKey,o),this.fullPersistenceKey=Mh("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return E(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Zs._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return E(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return E(this,null,function*(){if(!n.length)return new t(Jr(Jv),e,r);let i=(yield Promise.all(n.map(l=>E(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||Jr(Jv),s=Mh(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let h=yield l._get(s);if(h){let p=Zs._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new t(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>E(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,r))})}};function xA(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ZA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(QA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(eM(e))return"Blackberry";if(tM(e))return"Webos";if(YA(e))return"Safari";if((e.includes("chrome/")||JA(e))&&!e.includes("edge/"))return"Chrome";if(XA(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function QA(t=It()){return/firefox\//i.test(t)}function YA(t=It()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function JA(t=It()){return/crios\//i.test(t)}function ZA(t=It()){return/iemobile/i.test(t)}function XA(t=It()){return/android/i.test(t)}function eM(t=It()){return/blackberry/i.test(t)}function tM(t=It()){return/webos/i.test(t)}function m0(t=It()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function gj(t=It()){var e;return m0(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function mj(){return iA()&&document.documentMode===10}function nM(t=It()){return m0(t)||XA(t)||tM(t)||eM(t)||/windows phone/i.test(t)||ZA(t)}function rM(t,e=[]){let n;switch(t){case"Browser":n=xA(It());break;case"Worker":n=`${xA(It())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ui}/${r}`}var Zv=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return E(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function yj(n){return E(this,arguments,function*(t,e={}){return Xs(t,"GET","/v2/passwordPolicy",h0(t,e))})}var vj=6,Xv=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:vj,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var e0=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Fh(this),this.idTokenSubscription=new Fh(this),this.beforeStateQueue=new Zv(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=HA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Jr(n)),this._initializationPromise=this.queue(()=>E(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield kh.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return E(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return E(this,null,function*(){try{let n=yield WA(this,{idToken:e}),r=yield Zs._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return E(this,null,function*(){var n;if(Wr(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ue(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return E(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return E(this,null,function*(){try{yield Oh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=oj()}_delete(){return E(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return E(this,null,function*(){if(Wr(this.app))return Promise.reject(xo(this));let n=e?gt(e):null;return n&&ue(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return E(this,null,function*(){if(!this._deleted)return e&&ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>E(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return E(this,null,function*(){return Wr(this.app)?Promise.reject(xo(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Wr(this.app)?Promise.reject(xo(this)):this.queue(()=>E(this,null,function*(){yield this.assertedPersistence.setPersistence(Jr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return E(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return E(this,null,function*(){let e=yield yj(this),n=new Xv(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ln("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return E(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield fj(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return E(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return E(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Jr(e)||this._popupRedirectResolver;ue(n,this,"argument-error"),this.redirectPersistenceManager=yield kh.create(this,[Jr(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return E(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>E(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return E(this,null,function*(){if(e===this.currentUser)return this.queue(()=>E(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ue(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(n);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return E(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=rM(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return E(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return E(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&nj(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function y0(t){return gt(t)}var Fh=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=cA(n=>this.observer=n)}get next(){return ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var v0={loadJS(){return E(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _j(t){v0=t}function wj(t){return v0.loadJS(t)}function Ej(){return v0.gapiScript}function iM(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function _0(t,e){let n=Li(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(So(o,e??{}))return i;zi(i,"already-initialized")}return n.initialize({options:e})}function Ij(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Jr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function w0(t,e,n){let r=y0(t);ue(r._canInitEmulator,r,"emulator-config-failed"),ue(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=oM(e),{host:s,port:a}=Cj(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||bj()}function oM(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Cj(t){let e=oM(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:PA(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:PA(s)}}}function PA(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function bj(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Vh=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Yr("not implemented")}_getIdTokenResponse(e){return Yr("not implemented")}_linkToIdToken(e,n){return Yr("not implemented")}_getReauthenticationResolver(e){return Yr("not implemented")}};function Gv(t,e){return E(this,null,function*(){return cj(t,"POST","/v1/accounts:signInWithIdp",h0(t,e))})}var Lh=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var t0=class extends Lh{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var tu=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return E(this,null,function*(){let o=yield Zs._fromIdTokenResponse(e,r,i),s=RA(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return E(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=RA(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function RA(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var n0=class t extends ln{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function sM(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?n0._fromErrorAndOperation(t,o,e,r):o})}function Dj(t,e,n=!1){return E(this,null,function*(){let r=yield Xc(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return tu._forOperation(t,"link",r)})}function Tj(t,e,n=!1){return E(this,null,function*(){let{auth:r}=t;if(Wr(r.app))return Promise.reject(xo(r));let i="reauthenticate";try{let o=yield Xc(t,sM(r,i,e,t),n);ue(o.idToken,r,"internal-error");let s=p0(o.idToken);ue(s,r,"internal-error");let{sub:a}=s;return ue(t.uid===a,r,"user-mismatch"),tu._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&zi(r,"user-mismatch"),o}})}function Sj(t,e,n=!1){return E(this,null,function*(){if(Wr(t.app))return Promise.reject(xo(t));let r="signIn",i=yield sM(t,r,e),o=yield tu._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})}function E0(t,e,n,r){return gt(t).onIdTokenChanged(e,n,r)}function I0(t,e,n){return gt(t).beforeAuthStateChanged(e,n)}var Uh="__sak";var jh=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Uh,"1"),this.storage.removeItem(Uh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var Aj=1e3,Mj=10,xj=(()=>{class t extends jh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=nM(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);mj()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,Mj):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},Aj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return E(this,null,function*(){yield ci(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return E(this,null,function*(){let r=yield ci(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return E(this,null,function*(){yield ci(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),aM=xj;var Pj=(()=>{class t extends jh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),C0=Pj;function Rj(t){return Promise.all(t.map(e=>E(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var Nj=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return E(this,null,function*(){let r=n,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(h=>E(this,null,function*(){return h(r.origin,s)})),l=yield Rj(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function cM(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var r0=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return E(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let l=cM("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let m=p;if(m.data.eventId===l)switch(m.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(m.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function ar(){return window}function Oj(t){ar().location.href=t}function uM(){return typeof ar().WorkerGlobalScope<"u"&&typeof ar().importScripts=="function"}function kj(){return E(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function Fj(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Vj(){return uM()?self:null}var lM="firebaseLocalStorageDb",Lj=1,Bh="firebaseLocalStorage",dM="fbase_key",No=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Hh(t,e){return t.transaction([Bh],e?"readwrite":"readonly").objectStore(Bh)}function Uj(){let t=indexedDB.deleteDatabase(lM);return new No(t).toPromise()}function i0(){let t=indexedDB.open(lM,Lj);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Bh,{keyPath:dM})}catch(i){n(i)}}),t.addEventListener("success",()=>E(this,null,function*(){let r=t.result;r.objectStoreNames.contains(Bh)?e(r):(r.close(),yield Uj(),e(yield i0()))}))})}function NA(t,e,n){return E(this,null,function*(){let r=Hh(t,!0).put({[dM]:e,value:n});return new No(r).toPromise()})}function jj(t,e){return E(this,null,function*(){let n=Hh(t,!1).get(e),r=yield new No(n).toPromise();return r===void 0?null:r.value})}function OA(t,e){let n=Hh(t,!0).delete(e);return new No(n).toPromise()}var Bj=800,$j=3,Hj=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return E(this,null,function*(){return this.db?this.db:(this.db=yield i0(),this.db)})}_withRetries(n){return E(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>$j)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return E(this,null,function*(){return uM()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return E(this,null,function*(){this.receiver=Nj._getInstance(Vj()),this.receiver._subscribe("keyChanged",(n,r)=>E(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>E(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return E(this,null,function*(){var n,r;if(this.activeServiceWorker=yield kj(),!this.activeServiceWorker)return;this.sender=new r0(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return E(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||Fj()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return E(this,null,function*(){try{if(!indexedDB)return!1;let n=yield i0();return yield NA(n,Uh,"1"),yield OA(n,Uh),!0}catch{}return!1})}_withPendingWrite(n){return E(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return E(this,null,function*(){return this._withPendingWrite(()=>E(this,null,function*(){return yield this._withRetries(i=>NA(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return E(this,null,function*(){let r=yield this._withRetries(i=>jj(i,n));return this.localCache[n]=r,r})}_remove(n){return E(this,null,function*(){return this._withPendingWrite(()=>E(this,null,function*(){return yield this._withRetries(r=>OA(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return E(this,null,function*(){let n=yield this._withRetries(o=>{let s=Hh(o,!1).getAll();return new No(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>E(this,null,function*(){return this._poll()}),Bj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),hM=Hj;var CY=iM("rcb"),bY=new Ro(3e4,6e4);function zj(t,e){return e?Jr(e):(ue(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var nu=class extends Vh{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Gv(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Gv(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Gv(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function qj(t){return Sj(t.auth,new nu(t),t.bypassAuthState)}function Gj(t){let{auth:e,user:n}=t;return ue(n,e,"internal-error"),Tj(n,new nu(t),t.bypassAuthState)}function Wj(t){return E(this,null,function*(){let{auth:e,user:n}=t;return ue(n,e,"internal-error"),Dj(n,new nu(t),t.bypassAuthState)})}var o0=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>E(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return E(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return qj;case"linkViaPopup":case"linkViaRedirect":return Wj;case"reauthViaPopup":case"reauthViaRedirect":return Gj;default:zi(this.auth,"internal-error")}}resolve(e){qi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){qi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var DY=new Ro(2e3,1e4);var Kj="pendingRedirect",xh=new Map,s0=class t extends o0{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return E(this,null,function*(){let e=xh.get(this.auth._key());if(!e){try{let r=(yield Qj(this.resolver,this.auth))?yield ci(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}xh.set(this.auth._key(),e)}return this.bypassAuthState||xh.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return E(this,null,function*(){if(e.type==="signInViaRedirect")return ci(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,ci(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return E(this,null,function*(){})}cleanUp(){}};function Qj(t,e){return E(this,null,function*(){let n=Zj(e),r=Jj(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function Yj(t,e){xh.set(t._key(),e)}function Jj(t){return Jr(t._redirectPersistence)}function Zj(t){return Mh(Kj,t.config.apiKey,t.name)}function Xj(t,e,n=!1){return E(this,null,function*(){if(Wr(t.app))return Promise.reject(xo(t));let r=y0(t),i=zj(r,e),s=yield new s0(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var eB=10*60*1e3,a0=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!tB(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!fM(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Po(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=eB&&this.cachedEventUids.clear(),this.cachedEventUids.has(kA(e))}saveEventToCache(e){this.cachedEventUids.add(kA(e)),this.lastProcessedEventTime=Date.now()}};function kA(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function fM({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function tB(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fM(t);default:return!1}}function nB(n){return E(this,arguments,function*(t,e={}){return Xs(t,"GET","/v1/projects",e)})}var rB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,iB=/^https?/;function oB(t){return E(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield nB(t);for(let n of e)try{if(sB(n))return}catch{}zi(t,"unauthorized-domain")})}function sB(t){let e=Kv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!iB.test(n))return!1;if(rB.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var aB=new Ro(3e4,6e4);function FA(){let t=ar().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function cB(t){return new Promise((e,n)=>{var r,i,o;function s(){FA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{FA(),n(Po(t,"network-request-failed"))},timeout:aB.get()})}if(!((i=(r=ar().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=ar().gapi)===null||o===void 0)&&o.load)s();else{let a=iM("iframefcb");return ar()[a]=()=>{gapi.load?s():n(Po(t,"network-request-failed"))},wj(`${Ej()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw Ph=null,e})}var Ph=null;function uB(t){return Ph=Ph||cB(t),Ph}var lB=new Ro(5e3,15e3),dB="__/auth/iframe",hB="emulator/auth/iframe",fB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},pB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gB(t){let e=t.config;ue(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?d0(e,hB):`https://${t.config.authDomain}/${dB}`,r={apiKey:e.apiKey,appName:t.name,v:Ui},i=pB.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Kc(r).slice(1)}`}function mB(t){return E(this,null,function*(){let e=yield uB(t),n=ar().gapi;return ue(n,t,"internal-error"),e.open({where:document.body,url:gB(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:fB,dontclear:!0},r=>new Promise((i,o)=>E(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=Po(t,"network-request-failed"),a=ar().setTimeout(()=>{o(s)},lB.get());function u(){ar().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var yB={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},vB=500,_B=600,wB="_blank",EB="http://localhost",$h=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function IB(t,e,n,r=vB,i=_B){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},yB),{width:r.toString(),height:i.toString(),top:o,left:s}),l=It().toLowerCase();n&&(a=JA(l)?wB:n),QA(l)&&(e=e||EB,u.scrollbars="yes");let h=Object.entries(u).reduce((m,[y,A])=>`${m}${y}=${A},`,"");if(gj(l)&&a!=="_self")return CB(e||"",a),new $h(null);let p=window.open(e||"",a,h);ue(p,t,"popup-blocked");try{p.focus()}catch{}return new $h(p)}function CB(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var bB="__/auth/handler",DB="emulator/auth/handler",TB=encodeURIComponent("fac");function VA(t,e,n,r,i,o){return E(this,null,function*(){ue(t.config.authDomain,t,"auth-domain-config-required"),ue(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ui,eventId:i};if(e instanceof Lh){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",aA(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof t0){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield t._getAppCheckToken(),l=u?`#${TB}=${encodeURIComponent(u)}`:"";return`${SB(t)}?${Kc(a).slice(1)}${l}`})}function SB({config:t}){return t.emulator?d0(t,DB):`https://${t.authDomain}/${bB}`}var Wv="webStorageSupport",c0=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=C0,this._completeRedirectFn=Xj,this._overrideRedirectResult=Yj}_openPopup(e,n,r,i){return E(this,null,function*(){var o;qi((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield VA(e,n,r,Kv(),i);return IB(e,s,cM())})}_openRedirect(e,n,r,i){return E(this,null,function*(){yield this._originValidation(e);let o=yield VA(e,n,r,Kv(),i);return Oj(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(qi(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return E(this,null,function*(){let n=yield mB(e),r=new a0(e);return n.register("authEvent",i=>(ue(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Wv,{type:Wv},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[Wv];s!==void 0&&n(!!s),zi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=oB(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return nM()||YA()||m0()}},pM=c0;var LA="@firebase/auth",UA="1.7.9";var u0=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return E(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function AB(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function MB(t){Un(new Gt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;ue(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rM(t)},l=new e0(r,i,o,u);return Ij(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Un(new Gt("auth-internal",e=>{let n=y0(e.getProvider("auth").getImmediate());return(r=>new u0(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),We(LA,UA,AB(t)),We(LA,UA,"esm2017")}var xB=5*60,PB=Tv("authIdTokenMaxAge")||xB,jA=null,RB=t=>e=>E(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>PB)return;let i=n?.token;jA!==i&&(jA=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function b0(t=ji()){let e=Li(t,"auth");if(e.isInitialized())return e.getImmediate();let n=_0(t,{popupRedirectResolver:pM,persistence:[hM,aM,C0]}),r=Tv("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=RB(o.toString());I0(n,s,()=>s(n.currentUser)),E0(n,a=>s(a))}}let i=bv("auth");return i&&w0(n,`http://${i}`),n}function NB(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}_j({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=Po("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",NB().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});MB("Browser");var gM="auth",ru=class{constructor(e){return e}},iu=class{constructor(){return Js(gM)}};var D0=new H("angularfire2.auth-instances");function S$(t,e){let n=Ys(gM,t,e);return n&&new ru(n)}function A$(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new ru(r)}}var M$={provide:iu,deps:[[new pt,D0]]},x$={provide:ru,useFactory:S$,deps:[[new pt,D0],jn]};function mM(t,...e){return We("angularfire",Kr.full,"auth"),nn([x$,M$,{provide:D0,useFactory:A$(t),multi:!0,deps:[be,ft,$i,Qr,[new pt,Bi],...e]}])}var yM=At(b0,!0);var vM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},_M={};var Gi,T0;(function(){var t;function e(b,v){function _(){}_.prototype=v.prototype,b.D=v.prototype,b.prototype=new _,b.prototype.constructor=b,b.C=function(D,T,M){for(var w=Array(arguments.length-2),_r=2;_r<arguments.length;_r++)w[_r-2]=arguments[_r];return v.prototype[T].apply(D,w)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(b,v,_){_||(_=0);var D=Array(16);if(typeof v=="string")for(var T=0;16>T;++T)D[T]=v.charCodeAt(_++)|v.charCodeAt(_++)<<8|v.charCodeAt(_++)<<16|v.charCodeAt(_++)<<24;else for(T=0;16>T;++T)D[T]=v[_++]|v[_++]<<8|v[_++]<<16|v[_++]<<24;v=b.g[0],_=b.g[1],T=b.g[2];var M=b.g[3],w=v+(M^_&(T^M))+D[0]+3614090360&4294967295;v=_+(w<<7&4294967295|w>>>25),w=M+(T^v&(_^T))+D[1]+3905402710&4294967295,M=v+(w<<12&4294967295|w>>>20),w=T+(_^M&(v^_))+D[2]+606105819&4294967295,T=M+(w<<17&4294967295|w>>>15),w=_+(v^T&(M^v))+D[3]+3250441966&4294967295,_=T+(w<<22&4294967295|w>>>10),w=v+(M^_&(T^M))+D[4]+4118548399&4294967295,v=_+(w<<7&4294967295|w>>>25),w=M+(T^v&(_^T))+D[5]+1200080426&4294967295,M=v+(w<<12&4294967295|w>>>20),w=T+(_^M&(v^_))+D[6]+2821735955&4294967295,T=M+(w<<17&4294967295|w>>>15),w=_+(v^T&(M^v))+D[7]+4249261313&4294967295,_=T+(w<<22&4294967295|w>>>10),w=v+(M^_&(T^M))+D[8]+1770035416&4294967295,v=_+(w<<7&4294967295|w>>>25),w=M+(T^v&(_^T))+D[9]+2336552879&4294967295,M=v+(w<<12&4294967295|w>>>20),w=T+(_^M&(v^_))+D[10]+4294925233&4294967295,T=M+(w<<17&4294967295|w>>>15),w=_+(v^T&(M^v))+D[11]+2304563134&4294967295,_=T+(w<<22&4294967295|w>>>10),w=v+(M^_&(T^M))+D[12]+1804603682&4294967295,v=_+(w<<7&4294967295|w>>>25),w=M+(T^v&(_^T))+D[13]+4254626195&4294967295,M=v+(w<<12&4294967295|w>>>20),w=T+(_^M&(v^_))+D[14]+2792965006&4294967295,T=M+(w<<17&4294967295|w>>>15),w=_+(v^T&(M^v))+D[15]+1236535329&4294967295,_=T+(w<<22&4294967295|w>>>10),w=v+(T^M&(_^T))+D[1]+4129170786&4294967295,v=_+(w<<5&4294967295|w>>>27),w=M+(_^T&(v^_))+D[6]+3225465664&4294967295,M=v+(w<<9&4294967295|w>>>23),w=T+(v^_&(M^v))+D[11]+643717713&4294967295,T=M+(w<<14&4294967295|w>>>18),w=_+(M^v&(T^M))+D[0]+3921069994&4294967295,_=T+(w<<20&4294967295|w>>>12),w=v+(T^M&(_^T))+D[5]+3593408605&4294967295,v=_+(w<<5&4294967295|w>>>27),w=M+(_^T&(v^_))+D[10]+38016083&4294967295,M=v+(w<<9&4294967295|w>>>23),w=T+(v^_&(M^v))+D[15]+3634488961&4294967295,T=M+(w<<14&4294967295|w>>>18),w=_+(M^v&(T^M))+D[4]+3889429448&4294967295,_=T+(w<<20&4294967295|w>>>12),w=v+(T^M&(_^T))+D[9]+568446438&4294967295,v=_+(w<<5&4294967295|w>>>27),w=M+(_^T&(v^_))+D[14]+3275163606&4294967295,M=v+(w<<9&4294967295|w>>>23),w=T+(v^_&(M^v))+D[3]+4107603335&4294967295,T=M+(w<<14&4294967295|w>>>18),w=_+(M^v&(T^M))+D[8]+1163531501&4294967295,_=T+(w<<20&4294967295|w>>>12),w=v+(T^M&(_^T))+D[13]+2850285829&4294967295,v=_+(w<<5&4294967295|w>>>27),w=M+(_^T&(v^_))+D[2]+4243563512&4294967295,M=v+(w<<9&4294967295|w>>>23),w=T+(v^_&(M^v))+D[7]+1735328473&4294967295,T=M+(w<<14&4294967295|w>>>18),w=_+(M^v&(T^M))+D[12]+2368359562&4294967295,_=T+(w<<20&4294967295|w>>>12),w=v+(_^T^M)+D[5]+4294588738&4294967295,v=_+(w<<4&4294967295|w>>>28),w=M+(v^_^T)+D[8]+2272392833&4294967295,M=v+(w<<11&4294967295|w>>>21),w=T+(M^v^_)+D[11]+1839030562&4294967295,T=M+(w<<16&4294967295|w>>>16),w=_+(T^M^v)+D[14]+4259657740&4294967295,_=T+(w<<23&4294967295|w>>>9),w=v+(_^T^M)+D[1]+2763975236&4294967295,v=_+(w<<4&4294967295|w>>>28),w=M+(v^_^T)+D[4]+1272893353&4294967295,M=v+(w<<11&4294967295|w>>>21),w=T+(M^v^_)+D[7]+4139469664&4294967295,T=M+(w<<16&4294967295|w>>>16),w=_+(T^M^v)+D[10]+3200236656&4294967295,_=T+(w<<23&4294967295|w>>>9),w=v+(_^T^M)+D[13]+681279174&4294967295,v=_+(w<<4&4294967295|w>>>28),w=M+(v^_^T)+D[0]+3936430074&4294967295,M=v+(w<<11&4294967295|w>>>21),w=T+(M^v^_)+D[3]+3572445317&4294967295,T=M+(w<<16&4294967295|w>>>16),w=_+(T^M^v)+D[6]+76029189&4294967295,_=T+(w<<23&4294967295|w>>>9),w=v+(_^T^M)+D[9]+3654602809&4294967295,v=_+(w<<4&4294967295|w>>>28),w=M+(v^_^T)+D[12]+3873151461&4294967295,M=v+(w<<11&4294967295|w>>>21),w=T+(M^v^_)+D[15]+530742520&4294967295,T=M+(w<<16&4294967295|w>>>16),w=_+(T^M^v)+D[2]+3299628645&4294967295,_=T+(w<<23&4294967295|w>>>9),w=v+(T^(_|~M))+D[0]+4096336452&4294967295,v=_+(w<<6&4294967295|w>>>26),w=M+(_^(v|~T))+D[7]+1126891415&4294967295,M=v+(w<<10&4294967295|w>>>22),w=T+(v^(M|~_))+D[14]+2878612391&4294967295,T=M+(w<<15&4294967295|w>>>17),w=_+(M^(T|~v))+D[5]+4237533241&4294967295,_=T+(w<<21&4294967295|w>>>11),w=v+(T^(_|~M))+D[12]+1700485571&4294967295,v=_+(w<<6&4294967295|w>>>26),w=M+(_^(v|~T))+D[3]+2399980690&4294967295,M=v+(w<<10&4294967295|w>>>22),w=T+(v^(M|~_))+D[10]+4293915773&4294967295,T=M+(w<<15&4294967295|w>>>17),w=_+(M^(T|~v))+D[1]+2240044497&4294967295,_=T+(w<<21&4294967295|w>>>11),w=v+(T^(_|~M))+D[8]+1873313359&4294967295,v=_+(w<<6&4294967295|w>>>26),w=M+(_^(v|~T))+D[15]+4264355552&4294967295,M=v+(w<<10&4294967295|w>>>22),w=T+(v^(M|~_))+D[6]+2734768916&4294967295,T=M+(w<<15&4294967295|w>>>17),w=_+(M^(T|~v))+D[13]+1309151649&4294967295,_=T+(w<<21&4294967295|w>>>11),w=v+(T^(_|~M))+D[4]+4149444226&4294967295,v=_+(w<<6&4294967295|w>>>26),w=M+(_^(v|~T))+D[11]+3174756917&4294967295,M=v+(w<<10&4294967295|w>>>22),w=T+(v^(M|~_))+D[2]+718787259&4294967295,T=M+(w<<15&4294967295|w>>>17),w=_+(M^(T|~v))+D[9]+3951481745&4294967295,b.g[0]=b.g[0]+v&4294967295,b.g[1]=b.g[1]+(T+(w<<21&4294967295|w>>>11))&4294967295,b.g[2]=b.g[2]+T&4294967295,b.g[3]=b.g[3]+M&4294967295}r.prototype.u=function(b,v){v===void 0&&(v=b.length);for(var _=v-this.blockSize,D=this.B,T=this.h,M=0;M<v;){if(T==0)for(;M<=_;)i(this,b,M),M+=this.blockSize;if(typeof b=="string"){for(;M<v;)if(D[T++]=b.charCodeAt(M++),T==this.blockSize){i(this,D),T=0;break}}else for(;M<v;)if(D[T++]=b[M++],T==this.blockSize){i(this,D),T=0;break}}this.h=T,this.o+=v},r.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var v=1;v<b.length-8;++v)b[v]=0;var _=8*this.o;for(v=b.length-8;v<b.length;++v)b[v]=_&255,_/=256;for(this.u(b),b=Array(16),v=_=0;4>v;++v)for(var D=0;32>D;D+=8)b[_++]=this.g[v]>>>D&255;return b};function o(b,v){var _=a;return Object.prototype.hasOwnProperty.call(_,b)?_[b]:_[b]=v(b)}function s(b,v){this.h=v;for(var _=[],D=!0,T=b.length-1;0<=T;T--){var M=b[T]|0;D&&M==v||(_[T]=M,D=!1)}this.g=_}var a={};function u(b){return-128<=b&&128>b?o(b,function(v){return new s([v|0],0>v?-1:0)}):new s([b|0],0>b?-1:0)}function l(b){if(isNaN(b)||!isFinite(b))return p;if(0>b)return x(l(-b));for(var v=[],_=1,D=0;b>=_;D++)v[D]=b/_|0,_*=4294967296;return new s(v,0)}function h(b,v){if(b.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(b.charAt(0)=="-")return x(h(b.substring(1),v));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=l(Math.pow(v,8)),D=p,T=0;T<b.length;T+=8){var M=Math.min(8,b.length-T),w=parseInt(b.substring(T,T+M),v);8>M?(M=l(Math.pow(v,M)),D=D.j(M).add(l(w))):(D=D.j(_),D=D.add(l(w)))}return D}var p=u(0),m=u(1),y=u(16777216);t=s.prototype,t.m=function(){if(N(this))return-x(this).m();for(var b=0,v=1,_=0;_<this.g.length;_++){var D=this.i(_);b+=(0<=D?D:4294967296+D)*v,v*=4294967296}return b},t.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(A(this))return"0";if(N(this))return"-"+x(this).toString(b);for(var v=l(Math.pow(b,6)),_=this,D="";;){var T=ee(_,v).g;_=V(_,T.j(v));var M=((0<_.g.length?_.g[0]:_.h)>>>0).toString(b);if(_=T,A(_))return M+D;for(;6>M.length;)M="0"+M;D=M+D}},t.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function A(b){if(b.h!=0)return!1;for(var v=0;v<b.g.length;v++)if(b.g[v]!=0)return!1;return!0}function N(b){return b.h==-1}t.l=function(b){return b=V(this,b),N(b)?-1:A(b)?0:1};function x(b){for(var v=b.g.length,_=[],D=0;D<v;D++)_[D]=~b.g[D];return new s(_,~b.h).add(m)}t.abs=function(){return N(this)?x(this):this},t.add=function(b){for(var v=Math.max(this.g.length,b.g.length),_=[],D=0,T=0;T<=v;T++){var M=D+(this.i(T)&65535)+(b.i(T)&65535),w=(M>>>16)+(this.i(T)>>>16)+(b.i(T)>>>16);D=w>>>16,M&=65535,w&=65535,_[T]=w<<16|M}return new s(_,_[_.length-1]&-2147483648?-1:0)};function V(b,v){return b.add(x(v))}t.j=function(b){if(A(this)||A(b))return p;if(N(this))return N(b)?x(this).j(x(b)):x(x(this).j(b));if(N(b))return x(this.j(x(b)));if(0>this.l(y)&&0>b.l(y))return l(this.m()*b.m());for(var v=this.g.length+b.g.length,_=[],D=0;D<2*v;D++)_[D]=0;for(D=0;D<this.g.length;D++)for(var T=0;T<b.g.length;T++){var M=this.i(D)>>>16,w=this.i(D)&65535,_r=b.i(T)>>>16,Oa=b.i(T)&65535;_[2*D+2*T]+=w*Oa,Z(_,2*D+2*T),_[2*D+2*T+1]+=M*Oa,Z(_,2*D+2*T+1),_[2*D+2*T+1]+=w*_r,Z(_,2*D+2*T+1),_[2*D+2*T+2]+=M*_r,Z(_,2*D+2*T+2)}for(D=0;D<v;D++)_[D]=_[2*D+1]<<16|_[2*D];for(D=v;D<2*v;D++)_[D]=0;return new s(_,0)};function Z(b,v){for(;(b[v]&65535)!=b[v];)b[v+1]+=b[v]>>>16,b[v]&=65535,v++}function W(b,v){this.g=b,this.h=v}function ee(b,v){if(A(v))throw Error("division by zero");if(A(b))return new W(p,p);if(N(b))return v=ee(x(b),v),new W(x(v.g),x(v.h));if(N(v))return v=ee(b,x(v)),new W(x(v.g),v.h);if(30<b.g.length){if(N(b)||N(v))throw Error("slowDivide_ only works with positive integers.");for(var _=m,D=v;0>=D.l(b);)_=Ve(_),D=Ve(D);var T=oe(_,1),M=oe(D,1);for(D=oe(D,2),_=oe(_,2);!A(D);){var w=M.add(D);0>=w.l(b)&&(T=T.add(_),M=w),D=oe(D,1),_=oe(_,1)}return v=V(b,T.j(v)),new W(T,v)}for(T=p;0<=b.l(v);){for(_=Math.max(1,Math.floor(b.m()/v.m())),D=Math.ceil(Math.log(_)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),M=l(_),w=M.j(v);N(w)||0<w.l(b);)_-=D,M=l(_),w=M.j(v);A(M)&&(M=m),T=T.add(M),b=V(b,w)}return new W(T,b)}t.A=function(b){return ee(this,b).h},t.and=function(b){for(var v=Math.max(this.g.length,b.g.length),_=[],D=0;D<v;D++)_[D]=this.i(D)&b.i(D);return new s(_,this.h&b.h)},t.or=function(b){for(var v=Math.max(this.g.length,b.g.length),_=[],D=0;D<v;D++)_[D]=this.i(D)|b.i(D);return new s(_,this.h|b.h)},t.xor=function(b){for(var v=Math.max(this.g.length,b.g.length),_=[],D=0;D<v;D++)_[D]=this.i(D)^b.i(D);return new s(_,this.h^b.h)};function Ve(b){for(var v=b.g.length+1,_=[],D=0;D<v;D++)_[D]=b.i(D)<<1|b.i(D-1)>>>31;return new s(_,b.h)}function oe(b,v){var _=v>>5;v%=32;for(var D=b.g.length-_,T=[],M=0;M<D;M++)T[M]=0<v?b.i(M+_)>>>v|b.i(M+_+1)<<32-v:b.i(M+_);return new s(T,b.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,T0=_M.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,Gi=_M.Integer=s}).apply(typeof vM<"u"?vM:typeof self<"u"?self:typeof window<"u"?window:{});var zh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Zr={};var S0,P$,ea,A0,ou,qh,M0,x0,P0;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof zh=="object"&&zh];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var S=c[g];if(!(S in f))break e;f=f[S]}c=c[c.length-1],g=f[c],d=d(g),d!=g&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,g=!1,S={next:function(){if(!g&&f<c.length){var P=f++;return{value:d(P,c[P]),done:!1}}return g=!0,{done:!0,value:void 0}}};return S[Symbol.iterator]=function(){return S},S}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var S=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(S,g),c.apply(d,S)}}return function(){return c.apply(d,arguments)}}function m(c,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function y(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function A(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(g,S,P){for(var j=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)j[Le-2]=arguments[Le];return d.prototype[S].apply(g,j)}}function N(c){let d=c.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=c[g];return f}return[]}function x(c,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let S=c.length||0,P=g.length||0;c.length=S+P;for(let j=0;j<P;j++)c[S+j]=g[j]}else c.push(g)}}class V{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function Z(c){return/^[\s\xa0]*$/.test(c)}function W(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function ee(c){return ee[" "](c),c}ee[" "]=function(){};var Ve=W().indexOf("Gecko")!=-1&&!(W().toLowerCase().indexOf("webkit")!=-1&&W().indexOf("Edge")==-1)&&!(W().indexOf("Trident")!=-1||W().indexOf("MSIE")!=-1)&&W().indexOf("Edge")==-1;function oe(c,d,f){for(let g in c)d.call(f,c[g],g,c)}function b(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function v(c){let d={};for(let f in c)d[f]=c[f];return d}let _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(c,d){let f,g;for(let S=1;S<arguments.length;S++){g=arguments[S];for(f in g)c[f]=g[f];for(let P=0;P<_.length;P++)f=_[P],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function T(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function M(c){a.setTimeout(()=>{throw c},0)}function w(){var c=ep;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class _r{constructor(){this.h=this.g=null}add(d,f){let g=Oa.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var Oa=new V(()=>new bR,c=>c.reset());class bR{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let ka,Fa=!1,ep=new _r,oE=()=>{let c=a.Promise.resolve(void 0);ka=()=>{c.then(DR)}};var DR=()=>{for(var c;c=w();){try{c.h.call(c.g)}catch(f){M(f)}var d=Oa;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}Fa=!1};function ii(){this.s=this.s,this.C=this.C}ii.prototype.s=!1,ii.prototype.ma=function(){this.s||(this.s=!0,this.N())},ii.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Mt(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}Mt.prototype.h=function(){this.defaultPrevented=!0};var TR=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function Va(c,d){if(Mt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(Ve){e:{try{ee(d.nodeName);var S=!0;break e}catch{}S=!1}S||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:SR[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Va.aa.h.call(this)}}A(Va,Mt);var SR={2:"touch",3:"pen",4:"mouse"};Va.prototype.h=function(){Va.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var La="closure_listenable_"+(1e6*Math.random()|0),AR=0;function MR(c,d,f,g,S){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=S,this.key=++AR,this.da=this.fa=!1}function ju(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Bu(c){this.src=c,this.g={},this.h=0}Bu.prototype.add=function(c,d,f,g,S){var P=c.toString();c=this.g[P],c||(c=this.g[P]=[],this.h++);var j=np(c,d,g,S);return-1<j?(d=c[j],f||(d.fa=!1)):(d=new MR(d,this.src,P,!!g,S),d.fa=f,c.push(d)),d};function tp(c,d){var f=d.type;if(f in c.g){var g=c.g[f],S=Array.prototype.indexOf.call(g,d,void 0),P;(P=0<=S)&&Array.prototype.splice.call(g,S,1),P&&(ju(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function np(c,d,f,g){for(var S=0;S<c.length;++S){var P=c[S];if(!P.da&&P.listener==d&&P.capture==!!f&&P.ha==g)return S}return-1}var rp="closure_lm_"+(1e6*Math.random()|0),ip={};function sE(c,d,f,g,S){if(g&&g.once)return cE(c,d,f,g,S);if(Array.isArray(d)){for(var P=0;P<d.length;P++)sE(c,d[P],f,g,S);return null}return f=cp(f),c&&c[La]?c.K(d,f,l(g)?!!g.capture:!!g,S):aE(c,d,f,!1,g,S)}function aE(c,d,f,g,S,P){if(!d)throw Error("Invalid event type");var j=l(S)?!!S.capture:!!S,Le=sp(c);if(Le||(c[rp]=Le=new Bu(c)),f=Le.add(d,f,g,j,P),f.proxy)return f;if(g=xR(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)TR||(S=j),S===void 0&&(S=!1),c.addEventListener(d.toString(),g,S);else if(c.attachEvent)c.attachEvent(lE(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function xR(){function c(f){return d.call(c.src,c.listener,f)}let d=PR;return c}function cE(c,d,f,g,S){if(Array.isArray(d)){for(var P=0;P<d.length;P++)cE(c,d[P],f,g,S);return null}return f=cp(f),c&&c[La]?c.L(d,f,l(g)?!!g.capture:!!g,S):aE(c,d,f,!0,g,S)}function uE(c,d,f,g,S){if(Array.isArray(d))for(var P=0;P<d.length;P++)uE(c,d[P],f,g,S);else g=l(g)?!!g.capture:!!g,f=cp(f),c&&c[La]?(c=c.i,d=String(d).toString(),d in c.g&&(P=c.g[d],f=np(P,f,g,S),-1<f&&(ju(P[f]),Array.prototype.splice.call(P,f,1),P.length==0&&(delete c.g[d],c.h--)))):c&&(c=sp(c))&&(d=c.g[d.toString()],c=-1,d&&(c=np(d,f,g,S)),(f=-1<c?d[c]:null)&&op(f))}function op(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[La])tp(d.i,c);else{var f=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(f,g,c.capture):d.detachEvent?d.detachEvent(lE(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=sp(d))?(tp(f,c),f.h==0&&(f.src=null,d[rp]=null)):ju(c)}}}function lE(c){return c in ip?ip[c]:ip[c]="on"+c}function PR(c,d){if(c.da)c=!0;else{d=new Va(d,this);var f=c.listener,g=c.ha||c.src;c.fa&&op(c),c=f.call(g,d)}return c}function sp(c){return c=c[rp],c instanceof Bu?c:null}var ap="__closure_events_fn_"+(1e9*Math.random()>>>0);function cp(c){return typeof c=="function"?c:(c[ap]||(c[ap]=function(d){return c.handleEvent(d)}),c[ap])}function xt(){ii.call(this),this.i=new Bu(this),this.M=this,this.F=null}A(xt,ii),xt.prototype[La]=!0,xt.prototype.removeEventListener=function(c,d,f,g){uE(this,c,d,f,g)};function Ut(c,d){var f,g=c.F;if(g)for(f=[];g;g=g.F)f.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new Mt(d,c);else if(d instanceof Mt)d.target=d.target||c;else{var S=d;d=new Mt(g,c),D(d,S)}if(S=!0,f)for(var P=f.length-1;0<=P;P--){var j=d.g=f[P];S=$u(j,g,!0,d)&&S}if(j=d.g=c,S=$u(j,g,!0,d)&&S,S=$u(j,g,!1,d)&&S,f)for(P=0;P<f.length;P++)j=d.g=f[P],S=$u(j,g,!1,d)&&S}xt.prototype.N=function(){if(xt.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],g=0;g<f.length;g++)ju(f[g]);delete c.g[d],c.h--}}this.F=null},xt.prototype.K=function(c,d,f,g){return this.i.add(String(c),d,!1,f,g)},xt.prototype.L=function(c,d,f,g){return this.i.add(String(c),d,!0,f,g)};function $u(c,d,f,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var S=!0,P=0;P<d.length;++P){var j=d[P];if(j&&!j.da&&j.capture==f){var Le=j.listener,bt=j.ha||j.src;j.fa&&tp(c.i,j),S=Le.call(bt,g)!==!1&&S}}return S&&!g.defaultPrevented}function dE(c,d,f){if(typeof c=="function")f&&(c=m(c,f));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function hE(c){c.g=dE(()=>{c.g=null,c.i&&(c.i=!1,hE(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class RR extends ii{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:hE(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ua(c){ii.call(this),this.h=c,this.g={}}A(Ua,ii);var fE=[];function pE(c){oe(c.g,function(d,f){this.g.hasOwnProperty(f)&&op(d)},c),c.g={}}Ua.prototype.N=function(){Ua.aa.N.call(this),pE(this)},Ua.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var up=a.JSON.stringify,NR=a.JSON.parse,OR=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function lp(){}lp.prototype.h=null;function gE(c){return c.h||(c.h=c.i())}function mE(){}var ja={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function dp(){Mt.call(this,"d")}A(dp,Mt);function hp(){Mt.call(this,"c")}A(hp,Mt);var Zi={},yE=null;function Hu(){return yE=yE||new xt}Zi.La="serverreachability";function vE(c){Mt.call(this,Zi.La,c)}A(vE,Mt);function Ba(c){let d=Hu();Ut(d,new vE(d))}Zi.STAT_EVENT="statevent";function _E(c,d){Mt.call(this,Zi.STAT_EVENT,c),this.stat=d}A(_E,Mt);function jt(c){let d=Hu();Ut(d,new _E(d,c))}Zi.Ma="timingevent";function wE(c,d){Mt.call(this,Zi.Ma,c),this.size=d}A(wE,Mt);function $a(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function Ha(){this.g=!0}Ha.prototype.xa=function(){this.g=!1};function kR(c,d,f,g,S,P){c.info(function(){if(c.g)if(P)for(var j="",Le=P.split("&"),bt=0;bt<Le.length;bt++){var Te=Le[bt].split("=");if(1<Te.length){var Pt=Te[0];Te=Te[1];var Rt=Pt.split("_");j=2<=Rt.length&&Rt[1]=="type"?j+(Pt+"="+Te+"&"):j+(Pt+"=redacted&")}}else j=null;else j=P;return"XMLHTTP REQ ("+g+") [attempt "+S+"]: "+d+`
`+f+`
`+j})}function FR(c,d,f,g,S,P,j){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+S+"]: "+d+`
`+f+`
`+P+" "+j})}function Qo(c,d,f,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+LR(c,f)+(g?" "+g:"")})}function VR(c,d){c.info(function(){return"TIMEOUT: "+d})}Ha.prototype.info=function(){};function LR(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var g=f[c];if(!(2>g.length)){var S=g[1];if(Array.isArray(S)&&!(1>S.length)){var P=S[0];if(P!="noop"&&P!="stop"&&P!="close")for(var j=1;j<S.length;j++)S[j]=""}}}}return up(f)}catch{return d}}var zu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},EE={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},fp;function qu(){}A(qu,lp),qu.prototype.g=function(){return new XMLHttpRequest},qu.prototype.i=function(){return{}},fp=new qu;function oi(c,d,f,g){this.j=c,this.i=d,this.l=f,this.R=g||1,this.U=new Ua(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new IE}function IE(){this.i=null,this.g="",this.h=!1}var CE={},pp={};function gp(c,d,f){c.L=1,c.v=Qu(wr(d)),c.m=f,c.P=!0,bE(c,null)}function bE(c,d){c.F=Date.now(),Gu(c),c.A=wr(c.v);var f=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),LE(f.i,"t",g),c.C=0,f=c.j.J,c.h=new IE,c.g=nI(c.j,f?d:null,!c.m),0<c.O&&(c.M=new RR(m(c.Y,c,c.g),c.O)),d=c.U,f=c.g,g=c.ca;var S="readystatechange";Array.isArray(S)||(S&&(fE[0]=S.toString()),S=fE);for(var P=0;P<S.length;P++){var j=sE(f,S[P],g||d.handleEvent,!1,d.h||d);if(!j)break;d.g[j.key]=j}d=c.H?v(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),Ba(),kR(c.i,c.u,c.A,c.l,c.R,c.m)}oi.prototype.ca=function(c){c=c.target;let d=this.M;d&&Er(c)==3?d.j():this.Y(c)},oi.prototype.Y=function(c){try{if(c==this.g)e:{let Rt=Er(this.g);var d=this.g.Ba();let Zo=this.g.Z();if(!(3>Rt)&&(Rt!=3||this.g&&(this.h.h||this.g.oa()||qE(this.g)))){this.J||Rt!=4||d==7||(d==8||0>=Zo?Ba(3):Ba(2)),mp(this);var f=this.g.Z();this.X=f;t:if(DE(this)){var g=qE(this.g);c="";var S=g.length,P=Er(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Xi(this),za(this);var j="";break t}this.h.i=new a.TextDecoder}for(d=0;d<S;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(P&&d==S-1)});g.length=0,this.h.g+=c,this.C=0,j=this.h.g}else j=this.g.oa();if(this.o=f==200,FR(this.i,this.u,this.A,this.l,this.R,Rt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Le,bt=this.g;if((Le=bt.g?bt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Z(Le)){var Te=Le;break t}}Te=null}if(f=Te)Qo(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,yp(this,f);else{this.o=!1,this.s=3,jt(12),Xi(this),za(this);break e}}if(this.P){f=!0;let In;for(;!this.J&&this.C<j.length;)if(In=UR(this,j),In==pp){Rt==4&&(this.s=4,jt(14),f=!1),Qo(this.i,this.l,null,"[Incomplete Response]");break}else if(In==CE){this.s=4,jt(15),Qo(this.i,this.l,j,"[Invalid Chunk]"),f=!1;break}else Qo(this.i,this.l,In,null),yp(this,In);if(DE(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||j.length!=0||this.h.h||(this.s=1,jt(16),f=!1),this.o=this.o&&f,!f)Qo(this.i,this.l,j,"[Invalid Chunked Response]"),Xi(this),za(this);else if(0<j.length&&!this.W){this.W=!0;var Pt=this.j;Pt.g==this&&Pt.ba&&!Pt.M&&(Pt.j.info("Great, no buffering proxy detected. Bytes received: "+j.length),Cp(Pt),Pt.M=!0,jt(11))}}else Qo(this.i,this.l,j,null),yp(this,j);Rt==4&&Xi(this),this.o&&!this.J&&(Rt==4?ZE(this.j,this):(this.o=!1,Gu(this)))}else n1(this.g),f==400&&0<j.indexOf("Unknown SID")?(this.s=3,jt(12)):(this.s=0,jt(13)),Xi(this),za(this)}}}catch{}finally{}};function DE(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function UR(c,d){var f=c.C,g=d.indexOf(`
`,f);return g==-1?pp:(f=Number(d.substring(f,g)),isNaN(f)?CE:(g+=1,g+f>d.length?pp:(d=d.slice(g,g+f),c.C=g+f,d)))}oi.prototype.cancel=function(){this.J=!0,Xi(this)};function Gu(c){c.S=Date.now()+c.I,TE(c,c.I)}function TE(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=$a(m(c.ba,c),d)}function mp(c){c.B&&(a.clearTimeout(c.B),c.B=null)}oi.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(VR(this.i,this.A),this.L!=2&&(Ba(),jt(17)),Xi(this),this.s=2,za(this)):TE(this,this.S-c)};function za(c){c.j.G==0||c.J||ZE(c.j,c)}function Xi(c){mp(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,pE(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function yp(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||vp(f.h,c))){if(!c.K&&vp(f.h,c)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var S=g;if(S[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)el(f),Zu(f);else break e;Ip(f),jt(18)}}else f.za=S[1],0<f.za-f.T&&37500>S[2]&&f.F&&f.v==0&&!f.C&&(f.C=$a(m(f.Za,f),6e3));if(1>=ME(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else to(f,11)}else if((c.K||f.g==c)&&el(f),!Z(d))for(S=f.Da.g.parse(d),d=0;d<S.length;d++){let Te=S[d];if(f.T=Te[0],Te=Te[1],f.G==2)if(Te[0]=="c"){f.K=Te[1],f.ia=Te[2];let Pt=Te[3];Pt!=null&&(f.la=Pt,f.j.info("VER="+f.la));let Rt=Te[4];Rt!=null&&(f.Aa=Rt,f.j.info("SVER="+f.Aa));let Zo=Te[5];Zo!=null&&typeof Zo=="number"&&0<Zo&&(g=1.5*Zo,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let In=c.g;if(In){let nl=In.g?In.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(nl){var P=g.h;P.g||nl.indexOf("spdy")==-1&&nl.indexOf("quic")==-1&&nl.indexOf("h2")==-1||(P.j=P.l,P.g=new Set,P.h&&(_p(P,P.h),P.h=null))}if(g.D){let bp=In.g?In.g.getResponseHeader("X-HTTP-Session-Id"):null;bp&&(g.ya=bp,ze(g.I,g.D,bp))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var j=c;if(g.qa=tI(g,g.J?g.ia:null,g.W),j.K){xE(g.h,j);var Le=j,bt=g.L;bt&&(Le.I=bt),Le.B&&(mp(Le),Gu(Le)),g.g=j}else YE(g);0<f.i.length&&Xu(f)}else Te[0]!="stop"&&Te[0]!="close"||to(f,7);else f.G==3&&(Te[0]=="stop"||Te[0]=="close"?Te[0]=="stop"?to(f,7):Ep(f):Te[0]!="noop"&&f.l&&f.l.ta(Te),f.v=0)}}Ba(4)}catch{}}var jR=class{constructor(c,d){this.g=c,this.map=d}};function SE(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function AE(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ME(c){return c.h?1:c.g?c.g.size:0}function vp(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function _p(c,d){c.g?c.g.add(d):c.h=d}function xE(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}SE.prototype.cancel=function(){if(this.i=PE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function PE(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return N(c.i)}function BR(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,g=0;g<f;g++)d.push(c[g]);return d}d=[],f=0;for(g in c)d[f++]=c[g];return d}function $R(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let g in c)d[f++]=g;return d}}}function RE(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=$R(c),g=BR(c),S=g.length,P=0;P<S;P++)d.call(void 0,g[P],f&&f[P],c)}var NE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function HR(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var g=c[f].indexOf("="),S=null;if(0<=g){var P=c[f].substring(0,g);S=c[f].substring(g+1)}else P=c[f];d(P,S?decodeURIComponent(S.replace(/\+/g," ")):"")}}}function eo(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof eo){this.h=c.h,Wu(this,c.j),this.o=c.o,this.g=c.g,Ku(this,c.s),this.l=c.l;var d=c.i,f=new Wa;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),OE(this,f),this.m=c.m}else c&&(d=String(c).match(NE))?(this.h=!1,Wu(this,d[1]||"",!0),this.o=qa(d[2]||""),this.g=qa(d[3]||"",!0),Ku(this,d[4]),this.l=qa(d[5]||"",!0),OE(this,d[6]||"",!0),this.m=qa(d[7]||"")):(this.h=!1,this.i=new Wa(null,this.h))}eo.prototype.toString=function(){var c=[],d=this.j;d&&c.push(Ga(d,kE,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(Ga(d,kE,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(Ga(f,f.charAt(0)=="/"?GR:qR,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",Ga(f,KR)),c.join("")};function wr(c){return new eo(c)}function Wu(c,d,f){c.j=f?qa(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function Ku(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function OE(c,d,f){d instanceof Wa?(c.i=d,QR(c.i,c.h)):(f||(d=Ga(d,WR)),c.i=new Wa(d,c.h))}function ze(c,d,f){c.i.set(d,f)}function Qu(c){return ze(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function qa(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ga(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,zR),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function zR(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var kE=/[#\/\?@]/g,qR=/[#\?:]/g,GR=/[#\?]/g,WR=/[#\?@]/g,KR=/#/g;function Wa(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function si(c){c.g||(c.g=new Map,c.h=0,c.i&&HR(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=Wa.prototype,t.add=function(c,d){si(this),this.i=null,c=Yo(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function FE(c,d){si(c),d=Yo(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function VE(c,d){return si(c),d=Yo(c,d),c.g.has(d)}t.forEach=function(c,d){si(this),this.g.forEach(function(f,g){f.forEach(function(S){c.call(d,S,g,this)},this)},this)},t.na=function(){si(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let S=c[g];for(let P=0;P<S.length;P++)f.push(d[g])}return f},t.V=function(c){si(this);let d=[];if(typeof c=="string")VE(this,c)&&(d=d.concat(this.g.get(Yo(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},t.set=function(c,d){return si(this),this.i=null,c=Yo(this,c),VE(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function LE(c,d,f){FE(c,d),0<f.length&&(c.i=null,c.g.set(Yo(c,d),N(f)),c.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let P=encodeURIComponent(String(g)),j=this.V(g);for(g=0;g<j.length;g++){var S=P;j[g]!==""&&(S+="="+encodeURIComponent(String(j[g]))),c.push(S)}}return this.i=c.join("&")};function Yo(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function QR(c,d){d&&!c.j&&(si(c),c.i=null,c.g.forEach(function(f,g){var S=g.toLowerCase();g!=S&&(FE(this,g),LE(this,S,f))},c)),c.j=d}function YR(c,d){let f=new Ha;if(a.Image){let g=new Image;g.onload=y(ai,f,"TestLoadImage: loaded",!0,d,g),g.onerror=y(ai,f,"TestLoadImage: error",!1,d,g),g.onabort=y(ai,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=y(ai,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function JR(c,d){let f=new Ha,g=new AbortController,S=setTimeout(()=>{g.abort(),ai(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(P=>{clearTimeout(S),P.ok?ai(f,"TestPingServer: ok",!0,d):ai(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(S),ai(f,"TestPingServer: error",!1,d)})}function ai(c,d,f,g,S){try{S&&(S.onload=null,S.onerror=null,S.onabort=null,S.ontimeout=null),g(f)}catch{}}function ZR(){this.g=new OR}function XR(c,d,f){let g=f||"";try{RE(c,function(S,P){let j=S;l(S)&&(j=up(S)),d.push(g+P+"="+encodeURIComponent(j))})}catch(S){throw d.push(g+"type="+encodeURIComponent("_badmap")),S}}function Ka(c){this.l=c.Ub||null,this.j=c.eb||!1}A(Ka,lp),Ka.prototype.g=function(){return new Yu(this.l,this.j)},Ka.prototype.i=function(c){return function(){return c}}({});function Yu(c,d){xt.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(Yu,xt),t=Yu.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,Ya(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Qa(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ya(this)),this.g&&(this.readyState=3,Ya(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;UE(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function UE(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?Qa(this):Ya(this),this.readyState==3&&UE(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Qa(this))},t.Qa=function(c){this.g&&(this.response=c,Qa(this))},t.ga=function(){this.g&&Qa(this)};function Qa(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Ya(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function Ya(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Yu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function jE(c){let d="";return oe(c,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function wp(c,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=jE(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):ze(c,d,f))}function Ke(c){xt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(Ke,xt);var e1=/^https?$/i,t1=["POST","PUT"];t=Ke.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():fp.g(),this.v=this.o?gE(this.o):gE(fp),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(P){BE(this,P);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var S in g)f.set(S,g[S]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let P of g.keys())f.set(P,g.get(P));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(P=>P.toLowerCase()=="content-type"),S=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(t1,d,void 0))||g||S||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[P,j]of f)this.g.setRequestHeader(P,j);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{zE(this),this.u=!0,this.g.send(c),this.u=!1}catch(P){BE(this,P)}};function BE(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,$E(c),Ju(c)}function $E(c){c.A||(c.A=!0,Ut(c,"complete"),Ut(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ut(this,"complete"),Ut(this,"abort"),Ju(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ju(this,!0)),Ke.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?HE(this):this.bb())},t.bb=function(){HE(this)};function HE(c){if(c.h&&typeof s<"u"&&(!c.v[1]||Er(c)!=4||c.Z()!=2)){if(c.u&&Er(c)==4)dE(c.Ea,0,c);else if(Ut(c,"readystatechange"),Er(c)==4){c.h=!1;try{let j=c.Z();e:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=j===0){var S=String(c.D).match(NE)[1]||null;!S&&a.self&&a.self.location&&(S=a.self.location.protocol.slice(0,-1)),g=!e1.test(S?S.toLowerCase():"")}f=g}if(f)Ut(c,"complete"),Ut(c,"success");else{c.m=6;try{var P=2<Er(c)?c.g.statusText:""}catch{P=""}c.l=P+" ["+c.Z()+"]",$E(c)}}finally{Ju(c)}}}}function Ju(c,d){if(c.g){zE(c);let f=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||Ut(c,"ready");try{f.onreadystatechange=g}catch{}}}function zE(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Er(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Er(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),NR(d)}};function qE(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function n1(c){let d={};c=(c.g&&2<=Er(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(Z(c[g]))continue;var f=T(c[g]);let S=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let P=d[S]||[];d[S]=P,P.push(f)}b(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ja(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function GE(c){this.Aa=0,this.i=[],this.j=new Ha,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ja("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ja("baseRetryDelayMs",5e3,c),this.cb=Ja("retryDelaySeedMs",1e4,c),this.Wa=Ja("forwardChannelMaxRetries",2,c),this.wa=Ja("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new SE(c&&c.concurrentRequestLimit),this.Da=new ZR,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=GE.prototype,t.la=8,t.G=1,t.connect=function(c,d,f,g){jt(0),this.W=c,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=tI(this,null,this.W),Xu(this)};function Ep(c){if(WE(c),c.G==3){var d=c.U++,f=wr(c.I);if(ze(f,"SID",c.K),ze(f,"RID",d),ze(f,"TYPE","terminate"),Za(c,f),d=new oi(c,c.j,d),d.L=2,d.v=Qu(wr(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=nI(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Gu(d)}eI(c)}function Zu(c){c.g&&(Cp(c),c.g.cancel(),c.g=null)}function WE(c){Zu(c),c.u&&(a.clearTimeout(c.u),c.u=null),el(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Xu(c){if(!AE(c.h)&&!c.s){c.s=!0;var d=c.Ga;ka||oE(),Fa||(ka(),Fa=!0),ep.add(d,c),c.B=0}}function r1(c,d){return ME(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=$a(m(c.Ga,c,d),XE(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let S=new oi(this,this.j,c),P=this.o;if(this.S&&(P?(P=v(P),D(P,this.S)):P=this.S),this.m!==null||this.O||(S.H=P,P=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=QE(this,S,d),f=wr(this.I),ze(f,"RID",c),ze(f,"CVER",22),this.D&&ze(f,"X-HTTP-Session-Id",this.D),Za(this,f),P&&(this.O?d="headers="+encodeURIComponent(String(jE(P)))+"&"+d:this.m&&wp(f,this.m,P)),_p(this.h,S),this.Ua&&ze(f,"TYPE","init"),this.P?(ze(f,"$req",d),ze(f,"SID","null"),S.T=!0,gp(S,f,null)):gp(S,f,d),this.G=2}}else this.G==3&&(c?KE(this,c):this.i.length==0||AE(this.h)||KE(this))};function KE(c,d){var f;d?f=d.l:f=c.U++;let g=wr(c.I);ze(g,"SID",c.K),ze(g,"RID",f),ze(g,"AID",c.T),Za(c,g),c.m&&c.o&&wp(g,c.m,c.o),f=new oi(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=QE(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),_p(c.h,f),gp(f,g,d)}function Za(c,d){c.H&&oe(c.H,function(f,g){ze(d,g,f)}),c.l&&RE({},function(f,g){ze(d,g,f)})}function QE(c,d,f){f=Math.min(c.i.length,f);var g=c.l?m(c.l.Na,c.l,c):null;e:{var S=c.i;let P=-1;for(;;){let j=["count="+f];P==-1?0<f?(P=S[0].g,j.push("ofs="+P)):P=0:j.push("ofs="+P);let Le=!0;for(let bt=0;bt<f;bt++){let Te=S[bt].g,Pt=S[bt].map;if(Te-=P,0>Te)P=Math.max(0,S[bt].g-100),Le=!1;else try{XR(Pt,j,"req"+Te+"_")}catch{g&&g(Pt)}}if(Le){g=j.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,g}function YE(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;ka||oE(),Fa||(ka(),Fa=!0),ep.add(d,c),c.v=0}}function Ip(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=$a(m(c.Fa,c),XE(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,JE(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=$a(m(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,jt(10),Zu(this),JE(this))};function Cp(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function JE(c){c.g=new oi(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=wr(c.qa);ze(d,"RID","rpc"),ze(d,"SID",c.K),ze(d,"AID",c.T),ze(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&ze(d,"TO",c.ja),ze(d,"TYPE","xmlhttp"),Za(c,d),c.m&&c.o&&wp(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=Qu(wr(d)),f.m=null,f.P=!0,bE(f,c)}t.Za=function(){this.C!=null&&(this.C=null,Zu(this),Ip(this),jt(19))};function el(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function ZE(c,d){var f=null;if(c.g==d){el(c),Cp(c),c.g=null;var g=2}else if(vp(c.h,d))f=d.D,xE(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var S=c.B;g=Hu(),Ut(g,new wE(g,f)),Xu(c)}else YE(c);else if(S=d.s,S==3||S==0&&0<d.X||!(g==1&&r1(c,d)||g==2&&Ip(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),S){case 1:to(c,5);break;case 4:to(c,10);break;case 3:to(c,6);break;default:to(c,2)}}}function XE(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function to(c,d){if(c.j.info("Error code "+d),d==2){var f=m(c.fb,c),g=c.Xa;let S=!g;g=new eo(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Wu(g,"https"),Qu(g),S?YR(g.toString(),f):JR(g.toString(),f)}else jt(2);c.G=0,c.l&&c.l.sa(d),eI(c),WE(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),jt(2)):(this.j.info("Failed to ping google.com"),jt(1))};function eI(c){if(c.G=0,c.ka=[],c.l){let d=PE(c.h);(d.length!=0||c.i.length!=0)&&(x(c.ka,d),x(c.ka,c.i),c.h.i.length=0,N(c.i),c.i.length=0),c.l.ra()}}function tI(c,d,f){var g=f instanceof eo?wr(f):new eo(f);if(g.g!="")d&&(g.g=d+"."+g.g),Ku(g,g.s);else{var S=a.location;g=S.protocol,d=d?d+"."+S.hostname:S.hostname,S=+S.port;var P=new eo(null);g&&Wu(P,g),d&&(P.g=d),S&&Ku(P,S),f&&(P.l=f),g=P}return f=c.D,d=c.ya,f&&d&&ze(g,f,d),ze(g,"VER",c.la),Za(c,g),g}function nI(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Ke(new Ka({eb:f})):new Ke(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function rI(){}t=rI.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function tl(){}tl.prototype.g=function(c,d){return new Zt(c,d)};function Zt(c,d){xt.call(this),this.g=new GE(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!Z(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!Z(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new Jo(this)}A(Zt,xt),Zt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Zt.prototype.close=function(){Ep(this.g)},Zt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=up(c),c=f);d.i.push(new jR(d.Ya++,c)),d.G==3&&Xu(d)},Zt.prototype.N=function(){this.g.l=null,delete this.j,Ep(this.g),delete this.g,Zt.aa.N.call(this)};function iI(c){dp.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}A(iI,dp);function oI(){hp.call(this),this.status=1}A(oI,hp);function Jo(c){this.g=c}A(Jo,rI),Jo.prototype.ua=function(){Ut(this.g,"a")},Jo.prototype.ta=function(c){Ut(this.g,new iI(c))},Jo.prototype.sa=function(c){Ut(this.g,new oI)},Jo.prototype.ra=function(){Ut(this.g,"b")},tl.prototype.createWebChannel=tl.prototype.g,Zt.prototype.send=Zt.prototype.o,Zt.prototype.open=Zt.prototype.m,Zt.prototype.close=Zt.prototype.close,P0=Zr.createWebChannelTransport=function(){return new tl},x0=Zr.getStatEventTarget=function(){return Hu()},M0=Zr.Event=Zi,qh=Zr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},zu.NO_ERROR=0,zu.TIMEOUT=8,zu.HTTP_ERROR=6,ou=Zr.ErrorCode=zu,EE.COMPLETE="complete",A0=Zr.EventType=EE,mE.EventType=ja,ja.OPEN="a",ja.CLOSE="b",ja.ERROR="c",ja.MESSAGE="d",xt.prototype.listen=xt.prototype.K,ea=Zr.WebChannel=mE,P$=Zr.FetchXmlHttpFactory=Ka,Ke.prototype.listenOnce=Ke.prototype.L,Ke.prototype.getLastError=Ke.prototype.Ka,Ke.prototype.getLastErrorCode=Ke.prototype.Ba,Ke.prototype.getStatus=Ke.prototype.Z,Ke.prototype.getResponseJson=Ke.prototype.Oa,Ke.prototype.getResponseText=Ke.prototype.oa,Ke.prototype.send=Ke.prototype.ea,Ke.prototype.setWithCredentials=Ke.prototype.Ha,S0=Zr.XhrIo=Ke}).apply(typeof zh<"u"?zh:typeof self<"u"?self:typeof window<"u"?window:{});var wM="@firebase/firestore";var Ct=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ct.UNAUTHENTICATED=new Ct(null),Ct.GOOGLE_CREDENTIALS=new Ct("google-credentials-uid"),Ct.FIRST_PARTY=new Ct("first-party-uid"),Ct.MOCK_USER=new Ct("mock-user");var Ea="10.14.0";var Vo=new or("@firebase/firestore");function su(){return Vo.logLevel}function G(t,...e){if(Vo.logLevel<=we.DEBUG){let n=e.map(fw);Vo.debug(`Firestore (${Ea}): ${t}`,...n)}}function ei(t,...e){if(Vo.logLevel<=we.ERROR){let n=e.map(fw);Vo.error(`Firestore (${Ea}): ${t}`,...n)}}function aa(t,...e){if(Vo.logLevel<=we.WARN){let n=e.map(fw);Vo.warn(`Firestore (${Ea}): ${t}`,...n)}}function fw(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function ae(t="Unexpected state"){let e=`FIRESTORE (${Ea}) INTERNAL ASSERTION FAILED: `+t;throw ei(e),new Error(e)}function Fe(t,e){t||ae()}function le(t,e){return t}var k={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},X=class extends ln{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Xr=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Yh=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},F0=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ct.UNAUTHENTICATED))}shutdown(){}},V0=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},L0=class{constructor(e){this.t=e,this.currentUser=Ct.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Fe(this.o===void 0);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new Xr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Xr,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>E(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{G("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(G("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Xr)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(G("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Fe(typeof r.accessToken=="string"),new Yh(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string"),new Ct(e)}},U0=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ct.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},j0=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new U0(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ct.FIRST_PARTY))}shutdown(){}invalidateToken(){}},B0=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},$0=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Fe(this.o===void 0);let r=o=>{o.error!=null&&G("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,G("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{G("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):G("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Fe(typeof n.token=="string"),this.R=n.token,new B0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function R$(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Jh=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=R$(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}};function Me(t,e){return t<e?-1:t>e?1:0}function ca(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var rt=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new X(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new X(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new X(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new X(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var fe=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new rt(0,0))}static max(){return new t(new rt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Zh=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&ae(),r===void 0?r=e.length-n:r>e.length-n&&ae(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Xe=class t extends Zh{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new X(k.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},N$=/^[_a-zA-Z][_a-zA-Z0-9]*$/,hn=class t extends Zh{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return N$.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new X(k.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new X(k.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new X(k.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new X(k.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var ie=class t{constructor(e){this.path=e}static fromPath(e){return new t(Xe.fromString(e))}static fromName(e){return new t(Xe.fromString(e).popFirst(5))}static empty(){return new t(Xe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Xe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Xe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Xe(e.slice()))}};var H0=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};H0.UNKNOWN_ID=-1;function O$(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=fe.fromTimestamp(r===1e9?new rt(n+1,0):new rt(n,r));return new Lo(i,ie.empty(),e)}function k$(t){return new Lo(t.readTime,t.key,-1)}var Lo=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(fe.min(),ie.empty(),-1)}static max(){return new t(fe.max(),ie.empty(),-1)}};function F$(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ie.comparator(t.documentKey,e.documentKey),n!==0?n:Me(t.largestBatchId,e.largestBatchId))}var V$="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",z0=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function bu(t){return E(this,null,function*(){if(t.code!==k.FAILED_PRECONDITION||t.message!==V$)throw t;G("LocalStore","Unexpectedly lost primary lease")})}var L=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ae(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;n(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function L$(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Du(t){return t.name==="IndexedDbTransactionError"}var XM=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function Af(t){return t==null}function hu(t){return t===0&&1/t==-1/0}function U$(t){return typeof t=="number"&&Number.isInteger(t)&&!hu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var j$=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],bJ=[...j$,"documentOverlays"],B$=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],$$=B$,H$=[...$$,"indexConfiguration","indexState","indexEntries"];var DJ=[...H$,"globals"];function EM(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ho(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ex(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var et=class t{constructor(e,n){this.comparator=e,this.root=n||ur.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ur.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ur.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ia(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ia(this.root,e,this.comparator,!1)}getReverseIterator(){return new ia(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ia(this.root,e,this.comparator,!0)}},ia=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},ur=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ae();let e=this.left.check();if(e!==this.right.check())throw ae();return e+(this.isRed()?0:1)}};ur.EMPTY=null,ur.RED=!0,ur.BLACK=!1;ur.EMPTY=new class{constructor(){this.size=0}get key(){throw ae()}get value(){throw ae()}get color(){throw ae()}get left(){throw ae()}get right(){throw ae()}copy(e,n,r,i,o){return this}insert(e,n,r){return new ur(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Vt=class t{constructor(e){this.comparator=e,this.data=new et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Xh(this.data.getIterator())}getIteratorFrom(e){return new Xh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Xh=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var wn=class t{constructor(e){this.fields=e,e.sort(hn.comparator)}static empty(){return new t([])}unionWith(e){let n=new Vt(hn.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ca(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var ef=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Lt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new ef("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Lt.EMPTY_BYTE_STRING=new Lt("");var z$=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ti(t){if(Fe(!!t),typeof t=="string"){let e=0,n=z$.exec(t);if(Fe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ge(t.seconds),nanos:Ge(t.nanos)}}function Ge(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ki(t){return typeof t=="string"?Lt.fromBase64String(t):Lt.fromUint8Array(t)}function pw(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function gw(t){let e=t.mapValue.fields.__previous_value__;return pw(e)?gw(e):e}function fu(t){let e=ti(t.mapValue.fields.__local_write_time__.timestampValue);return new rt(e.seconds,e.nanos)}var q0=class{constructor(e,n,r,i,o,s,a,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}},tf=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Gh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Uo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?pw(t)?4:nx(t)?9007199254740991:tx(t)?10:11:ae()}function pr(t,e){if(t===e)return!0;let n=Uo(t);if(n!==Uo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return fu(t).isEqual(fu(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=ti(i.timestampValue),a=ti(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Ki(i.bytesValue).isEqual(Ki(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Ge(i.geoPointValue.latitude)===Ge(o.geoPointValue.latitude)&&Ge(i.geoPointValue.longitude)===Ge(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ge(i.integerValue)===Ge(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Ge(i.doubleValue),a=Ge(o.doubleValue);return s===a?hu(s)===hu(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return ca(t.arrayValue.values||[],e.arrayValue.values||[],pr);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(EM(s)!==EM(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!pr(s[u],a[u])))return!1;return!0}(t,e);default:return ae()}}function pu(t,e){return(t.values||[]).find(n=>pr(n,e))!==void 0}function ua(t,e){if(t===e)return 0;let n=Uo(t),r=Uo(e);if(n!==r)return Me(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Me(t.booleanValue,e.booleanValue);case 2:return function(o,s){let a=Ge(o.integerValue||o.doubleValue),u=Ge(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return IM(t.timestampValue,e.timestampValue);case 4:return IM(fu(t),fu(e));case 5:return Me(t.stringValue,e.stringValue);case 6:return function(o,s){let a=Ki(o),u=Ki(s);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=Me(a[l],u[l]);if(h!==0)return h}return Me(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let a=Me(Ge(o.latitude),Ge(s.latitude));return a!==0?a:Me(Ge(o.longitude),Ge(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return CM(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,l,h;let p=o.fields||{},m=s.fields||{},y=(a=p.value)===null||a===void 0?void 0:a.arrayValue,A=(u=m.value)===null||u===void 0?void 0:u.arrayValue,N=Me(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((h=A?.values)===null||h===void 0?void 0:h.length)||0);return N!==0?N:CM(y,A)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Gh.mapValue&&s===Gh.mapValue)return 0;if(o===Gh.mapValue)return 1;if(s===Gh.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=Me(u[p],h[p]);if(m!==0)return m;let y=ua(a[u[p]],l[h[p]]);if(y!==0)return y}return Me(u.length,h.length)}(t.mapValue,e.mapValue);default:throw ae()}}function IM(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Me(t,e);let n=ti(t),r=ti(e),i=Me(n.seconds,r.seconds);return i!==0?i:Me(n.nanos,r.nanos)}function CM(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=ua(n[i],r[i]);if(o)return o}return Me(n.length,r.length)}function la(t){return G0(t)}function G0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=ti(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ki(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ie.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=G0(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${G0(n.fields[s])}`;return i+"}"}(t.mapValue):ae()}function W0(t){return!!t&&"integerValue"in t}function mw(t){return!!t&&"arrayValue"in t}function bM(t){return!!t&&"nullValue"in t}function DM(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Kh(t){return!!t&&"mapValue"in t}function tx(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function cu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Ho(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=cu(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=cu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function nx(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var dn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Kh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=cu(n)}setAll(e){let n=hn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=cu(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());Kh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return pr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Kh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ho(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(cu(this.value))}};function rx(t){let e=[];return Ho(t.fields,(n,r)=>{let i=new hn([n]);if(Kh(r)){let o=rx(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new wn(e)}var Bn=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,fe.min(),fe.min(),fe.min(),dn.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,fe.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,fe.min(),fe.min(),dn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,fe.min(),fe.min(),dn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var da=class{constructor(e,n){this.position=e,this.inclusive=n}};function TM(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=ie.comparator(ie.fromName(s.referenceValue),n.key):r=ua(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function SM(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!pr(t.position[n],e.position[n]))return!1;return!0}var ha=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function q$(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var nf=class{},mt=class t extends nf{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Q0(e,n,r):n==="array-contains"?new Z0(e,r):n==="in"?new X0(e,r):n==="not-in"?new e_(e,r):n==="array-contains-any"?new t_(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Y0(e,r):new J0(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ua(n,this.value)):n!==null&&Uo(this.value)===Uo(n)&&this.matchesComparison(ua(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ae()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},gr=class t extends nf{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return ix(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function ix(t){return t.op==="and"}function ox(t){return G$(t)&&ix(t)}function G$(t){for(let e of t.filters)if(e instanceof gr)return!1;return!0}function K0(t){if(t instanceof mt)return t.field.canonicalString()+t.op.toString()+la(t.value);if(ox(t))return t.filters.map(e=>K0(e)).join(",");{let e=t.filters.map(n=>K0(n)).join(",");return`${t.op}(${e})`}}function sx(t,e){return t instanceof mt?function(r,i){return i instanceof mt&&r.op===i.op&&r.field.isEqual(i.field)&&pr(r.value,i.value)}(t,e):t instanceof gr?function(r,i){return i instanceof gr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&sx(s,i.filters[a]),!0):!1}(t,e):void ae()}function ax(t){return t instanceof mt?function(n){return`${n.field.canonicalString()} ${n.op} ${la(n.value)}`}(t):t instanceof gr?function(n){return n.op.toString()+" {"+n.getFilters().map(ax).join(" ,")+"}"}(t):"Filter"}var Q0=class extends mt{constructor(e,n,r){super(e,n,r),this.key=ie.fromName(r.referenceValue)}matches(e){let n=ie.comparator(e.key,this.key);return this.matchesComparison(n)}},Y0=class extends mt{constructor(e,n){super(e,"in",n),this.keys=cx("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},J0=class extends mt{constructor(e,n){super(e,"not-in",n),this.keys=cx("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function cx(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ie.fromName(r.referenceValue))}var Z0=class extends mt{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return mw(n)&&pu(n.arrayValue,this.value)}},X0=class extends mt{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&pu(this.value.arrayValue,n)}},e_=class extends mt{constructor(e,n){super(e,"not-in",n)}matches(e){if(pu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!pu(this.value.arrayValue,n)}},t_=class extends mt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!mw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>pu(this.value.arrayValue,r))}};var n_=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}};function AM(t,e=null,n=[],r=[],i=null,o=null,s=null){return new n_(t,e,n,r,i,o,s)}function yw(t){let e=le(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>K0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Af(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>la(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>la(r)).join(",")),e.ue=n}return e.ue}function vw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!q$(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!sx(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!SM(t.startAt,e.startAt)&&SM(t.endAt,e.endAt)}function r_(t){return ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var fa=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function W$(t,e,n,r,i,o,s,a){return new fa(t,e,n,r,i,o,s,a)}function _w(t){return new fa(t)}function MM(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function K$(t){return t.collectionGroup!==null}function uu(t){let e=le(t);if(e.ce===null){e.ce=[];let n=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Vt(hn.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new ha(o,r))}),n.has(hn.keyField().canonicalString())||e.ce.push(new ha(hn.keyField(),r))}return e.ce}function lr(t){let e=le(t);return e.le||(e.le=Q$(e,uu(t))),e.le}function Q$(t,e){if(t.limitType==="F")return AM(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new ha(i.field,o)});let n=t.endAt?new da(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new da(t.startAt.position,t.startAt.inclusive):null;return AM(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function i_(t,e,n){return new fa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Mf(t,e){return vw(lr(t),lr(e))&&t.limitType===e.limitType}function ux(t){return`${yw(lr(t))}|lt:${t.limitType}`}function ta(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>ax(i)).join(", ")}]`),Af(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>la(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>la(i)).join(",")),`Target(${r})`}(lr(t))}; limitType=${t.limitType})`}function xf(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ie.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of uu(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){let l=TM(s,a,u);return s.inclusive?l<=0:l<0}(r.startAt,uu(r),i)||r.endAt&&!function(s,a,u){let l=TM(s,a,u);return s.inclusive?l>=0:l>0}(r.endAt,uu(r),i))}(t,e)}function Y$(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function lx(t){return(e,n)=>{let r=!1;for(let i of uu(t)){let o=J$(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function J$(t,e,n){let r=t.field.isKeyField()?ie.comparator(e.key,n.key):function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?ua(u,l):ae()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ae()}}var Qi=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ho(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return ex(this.inner)}size(){return this.innerSize}};var Z$=new et(ie.comparator);function ni(){return Z$}var dx=new et(ie.comparator);function au(...t){let e=dx;for(let n of t)e=e.insert(n.key,n);return e}function hx(t){let e=dx;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Oo(){return lu()}function fx(){return lu()}function lu(){return new Qi(t=>t.toString(),(t,e)=>t.isEqual(e))}var X$=new et(ie.comparator),e5=new Vt(ie.comparator);function Ee(...t){let e=e5;for(let n of t)e=e.add(n);return e}var t5=new Vt(Me);function n5(){return t5}function ww(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hu(e)?"-0":e}}function px(t){return{integerValue:""+t}}function r5(t,e){return U$(e)?px(e):ww(t,e)}var pa=class{constructor(){this._=void 0}};function i5(t,e,n){return t instanceof ga?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&pw(o)&&(o=gw(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof jo?mx(t,e):t instanceof Bo?yx(t,e):function(i,o){let s=gx(i,o),a=xM(s)+xM(i.Pe);return W0(s)&&W0(i.Pe)?px(a):ww(i.serializer,a)}(t,e)}function o5(t,e,n){return t instanceof jo?mx(t,e):t instanceof Bo?yx(t,e):n}function gx(t,e){return t instanceof ma?function(r){return W0(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var ga=class extends pa{},jo=class extends pa{constructor(e){super(),this.elements=e}};function mx(t,e){let n=vx(e);for(let r of t.elements)n.some(i=>pr(i,r))||n.push(r);return{arrayValue:{values:n}}}var Bo=class extends pa{constructor(e){super(),this.elements=e}};function yx(t,e){let n=vx(e);for(let r of t.elements)n=n.filter(i=>!pr(i,r));return{arrayValue:{values:n}}}var ma=class extends pa{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function xM(t){return Ge(t.integerValue||t.doubleValue)}function vx(t){return mw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function s5(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof jo&&i instanceof jo||r instanceof Bo&&i instanceof Bo?ca(r.elements,i.elements,pr):r instanceof ma&&i instanceof ma?pr(r.Pe,i.Pe):r instanceof ga&&i instanceof ga}(t.transform,e.transform)}var o_=class{constructor(e,n){this.version=e,this.transformResults=n}},dr=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Qh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var ya=class{};function _x(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new gu(t.key,dr.none()):new $o(t.key,t.data,dr.none());{let n=t.data,r=dn.empty(),i=new Vt(hn.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new mr(t.key,r,new wn(i.toArray()),dr.none())}}function a5(t,e,n){t instanceof $o?function(i,o,s){let a=i.value.clone(),u=RM(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof mr?function(i,o,s){if(!Qh(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=RM(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(wx(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function du(t,e,n,r){return t instanceof $o?function(o,s,a,u){if(!Qh(o.precondition,s))return a;let l=o.value.clone(),h=NM(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof mr?function(o,s,a,u){if(!Qh(o.precondition,s))return a;let l=NM(o.fieldTransforms,u,s),h=s.data;return h.setAll(wx(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(o,s,a){return Qh(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function c5(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=gx(r.transform,i||null);o!=null&&(n===null&&(n=dn.empty()),n.set(r.field,o))}return n||null}function PM(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ca(r,i,(o,s)=>s5(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var $o=class extends ya{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},mr=class extends ya{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function wx(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function RM(t,e,n){let r=new Map;Fe(t.length===n.length);for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,o5(s,a,n[i]))}return r}function NM(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,i5(o,s,e))}return r}var gu=class extends ya{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},s_=class extends ya{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var a_=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&a5(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=du(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=du(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=fx();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let u=_x(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(fe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ee())}isEqual(e){return this.batchId===e.batchId&&ca(this.mutations,e.mutations,(n,r)=>PM(n,r))&&ca(this.baseMutations,e.baseMutations,(n,r)=>PM(n,r))}},c_=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Fe(e.mutations.length===r.length);let i=function(){return X$}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var u_=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var l_=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var lt,De;function u5(t){switch(t){default:return ae();case k.CANCELLED:case k.UNKNOWN:case k.DEADLINE_EXCEEDED:case k.RESOURCE_EXHAUSTED:case k.INTERNAL:case k.UNAVAILABLE:case k.UNAUTHENTICATED:return!1;case k.INVALID_ARGUMENT:case k.NOT_FOUND:case k.ALREADY_EXISTS:case k.PERMISSION_DENIED:case k.FAILED_PRECONDITION:case k.ABORTED:case k.OUT_OF_RANGE:case k.UNIMPLEMENTED:case k.DATA_LOSS:return!0}}function Ex(t){if(t===void 0)return ei("GRPC error has no .code"),k.UNKNOWN;switch(t){case lt.OK:return k.OK;case lt.CANCELLED:return k.CANCELLED;case lt.UNKNOWN:return k.UNKNOWN;case lt.DEADLINE_EXCEEDED:return k.DEADLINE_EXCEEDED;case lt.RESOURCE_EXHAUSTED:return k.RESOURCE_EXHAUSTED;case lt.INTERNAL:return k.INTERNAL;case lt.UNAVAILABLE:return k.UNAVAILABLE;case lt.UNAUTHENTICATED:return k.UNAUTHENTICATED;case lt.INVALID_ARGUMENT:return k.INVALID_ARGUMENT;case lt.NOT_FOUND:return k.NOT_FOUND;case lt.ALREADY_EXISTS:return k.ALREADY_EXISTS;case lt.PERMISSION_DENIED:return k.PERMISSION_DENIED;case lt.FAILED_PRECONDITION:return k.FAILED_PRECONDITION;case lt.ABORTED:return k.ABORTED;case lt.OUT_OF_RANGE:return k.OUT_OF_RANGE;case lt.UNIMPLEMENTED:return k.UNIMPLEMENTED;case lt.DATA_LOSS:return k.DATA_LOSS;default:return ae()}}(De=lt||(lt={}))[De.OK=0]="OK",De[De.CANCELLED=1]="CANCELLED",De[De.UNKNOWN=2]="UNKNOWN",De[De.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",De[De.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",De[De.NOT_FOUND=5]="NOT_FOUND",De[De.ALREADY_EXISTS=6]="ALREADY_EXISTS",De[De.PERMISSION_DENIED=7]="PERMISSION_DENIED",De[De.UNAUTHENTICATED=16]="UNAUTHENTICATED",De[De.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",De[De.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",De[De.ABORTED=10]="ABORTED",De[De.OUT_OF_RANGE=11]="OUT_OF_RANGE",De[De.UNIMPLEMENTED=12]="UNIMPLEMENTED",De[De.INTERNAL=13]="INTERNAL",De[De.UNAVAILABLE=14]="UNAVAILABLE",De[De.DATA_LOSS=15]="DATA_LOSS";var OM=null;function l5(){return new TextEncoder}var d5=new Gi([4294967295,4294967295],0);function kM(t){let e=l5().encode(t),n=new T0;return n.update(e),new Uint8Array(n.digest())}function FM(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Gi([n,r],0),new Gi([i,o],0)]}var d_=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ko(`Invalid padding: ${n}`);if(r<0)throw new ko(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ko(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ko(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Gi.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Gi.fromNumber(r)));return i.compare(d5)===1&&(i=new Gi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=kM(e),[r,i]=FM(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;let n=kM(e),[r,i]=FM(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},ko=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var rf=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,mu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(fe.min(),i,new et(Me),ni(),Ee())}},mu=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,Ee(),Ee(),Ee())}};var oa=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},of=class{constructor(e,n){this.targetId=e,this.me=n}},sf=class{constructor(e,n,r=Lt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},af=class{constructor(){this.fe=0,this.ge=LM(),this.pe=Lt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ee(),n=Ee(),r=Ee();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ae()}}),new mu(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=LM()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Fe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},h_=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=ni(),this.qe=VM(),this.Qe=new et(Me)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ae()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let o=i.target;if(r_(o))if(r===0){let s=new ie(o.path);this.Ue(n,s,Bn.newNoDocument(s,fe.min()))}else Fe(r===1);else{let s=this.Ye(n);if(s!==r){let a=this.Ze(e),u=a?this.Xe(a,e,s):1;if(u!==0){this.je(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}OM?.et(function(h,p,m,y,A){var N,x,V,Z,W,ee;let Ve={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},oe=p.unchangedNames;return oe&&(Ve.bloomFilter={applied:A===0,hashCount:(N=oe?.hashCount)!==null&&N!==void 0?N:0,bitmapLength:(Z=(V=(x=oe?.bits)===null||x===void 0?void 0:x.bitmap)===null||V===void 0?void 0:V.length)!==null&&Z!==void 0?Z:0,padding:(ee=(W=oe?.bits)===null||W===void 0?void 0:W.padding)!==null&&ee!==void 0?ee:0,mightContain:b=>{var v;return(v=y?.mightContain(b))!==null&&v!==void 0&&v}}),Ve}(s,e.me,this.Le.tt(),a,u))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,a;try{s=Ki(r).toUint8Array()}catch(u){if(u instanceof ef)return aa("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new d_(s,i,o)}catch(u){return aa(u instanceof ko?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((o,s)=>{let a=this.Je(s);if(a){if(o.current&&r_(a.target)){let u=new ie(a.target.path);this.ke.get(u)!==null||this.it(s,u)||this.Ue(s,u,Bn.newNoDocument(u,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=Ee();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let i=new rf(e,n,this.Qe,this.ke,r);return this.ke=ni(),this.qe=VM(),this.Qe=new et(Me),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new af,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Vt(Me),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||G("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new af),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function VM(){return new et(ie.comparator)}function LM(){return new et(ie.comparator)}var h5={asc:"ASCENDING",desc:"DESCENDING"},f5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},p5={and:"AND",or:"OR"},f_=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function p_(t,e){return t.useProto3Json||Af(e)?e:{value:e}}function cf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ix(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function g5(t,e){return cf(t,e.toTimestamp())}function hr(t){return Fe(!!t),fe.fromTimestamp(function(n){let r=ti(n);return new rt(r.seconds,r.nanos)}(t))}function Ew(t,e){return g_(t,e).canonicalString()}function g_(t,e){let n=function(i){return new Xe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Cx(t){let e=Xe.fromString(t);return Fe(Ax(e)),e}function m_(t,e){return Ew(t.databaseId,e.path)}function R0(t,e){let n=Cx(e);if(n.get(1)!==t.databaseId.projectId)throw new X(k.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new X(k.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ie(Dx(n))}function bx(t,e){return Ew(t.databaseId,e)}function m5(t){let e=Cx(t);return e.length===4?Xe.emptyPath():Dx(e)}function y_(t){return new Xe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Dx(t){return Fe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function UM(t,e,n){return{name:m_(t,e),fields:n.value.mapValue.fields}}function y5(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:ae()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(Fe(h===void 0||typeof h=="string"),Lt.fromBase64String(h||"")):(Fe(h===void 0||h instanceof Buffer||h instanceof Uint8Array),Lt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let h=l.code===void 0?k.UNKNOWN:Ex(l.code);return new X(h,l.message||"")}(s);n=new sf(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=R0(t,r.document.name),o=hr(r.document.updateTime),s=r.document.createTime?hr(r.document.createTime):fe.min(),a=new dn({mapValue:{fields:r.document.fields}}),u=Bn.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];n=new oa(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=R0(t,r.document),o=r.readTime?hr(r.readTime):fe.min(),s=Bn.newNoDocument(i,o),a=r.removedTargetIds||[];n=new oa([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=R0(t,r.document),o=r.removedTargetIds||[];n=new oa([],o,i,null)}else{if(!("filter"in e))return ae();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new l_(i,o),a=r.targetId;n=new of(a,s)}}return n}function v5(t,e){let n;if(e instanceof $o)n={update:UM(t,e.key,e.value)};else if(e instanceof gu)n={delete:m_(t,e.key)};else if(e instanceof mr)n={update:UM(t,e.key,e.data),updateMask:S5(e.fieldMask)};else{if(!(e instanceof s_))return ae();n={verify:m_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof ga)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof jo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Bo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ma)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw ae()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:g5(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ae()}(t,e.precondition)),n}function _5(t,e){return t&&t.length>0?(Fe(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?hr(i.updateTime):hr(o);return s.isEqual(fe.min())&&(s=hr(o)),new o_(s,i.transformResults||[])}(n,e))):[]}function w5(t,e){return{documents:[bx(t,e.path)]}}function E5(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=bx(t,i);let o=function(l){if(l.length!==0)return Sx(gr.create(l,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(m){return{field:na(m.field),direction:b5(m.dir)}}(h))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=p_(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i}}function I5(t){let e=m5(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Fe(r===1);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(p){let m=Tx(p);return m instanceof gr&&ox(m)?m.getFilters():[m]}(n.where));let s=[];n.orderBy&&(s=function(p){return p.map(m=>function(A){return new ha(ra(A.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(p){let m;return m=typeof p=="object"?p.value:p,Af(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(p){let m=!!p.before,y=p.values||[];return new da(y,m)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let m=!p.before,y=p.values||[];return new da(y,m)}(n.endAt)),W$(e,i,s,o,a,"F",u,l)}function C5(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ae()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Tx(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=ra(n.unaryFilter.field);return mt.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=ra(n.unaryFilter.field);return mt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=ra(n.unaryFilter.field);return mt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=ra(n.unaryFilter.field);return mt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ae()}}(t):t.fieldFilter!==void 0?function(n){return mt.create(ra(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ae()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return gr.create(n.compositeFilter.filters.map(r=>Tx(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ae()}}(n.compositeFilter.op))}(t):ae()}function b5(t){return h5[t]}function D5(t){return f5[t]}function T5(t){return p5[t]}function na(t){return{fieldPath:t.canonicalString()}}function ra(t){return hn.fromServerFormat(t.fieldPath)}function Sx(t){return t instanceof mt?function(n){if(n.op==="=="){if(DM(n.value))return{unaryFilter:{field:na(n.field),op:"IS_NAN"}};if(bM(n.value))return{unaryFilter:{field:na(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(DM(n.value))return{unaryFilter:{field:na(n.field),op:"IS_NOT_NAN"}};if(bM(n.value))return{unaryFilter:{field:na(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:na(n.field),op:D5(n.op),value:n.value}}}(t):t instanceof gr?function(n){let r=n.getFilters().map(i=>Sx(i));return r.length===1?r[0]:{compositeFilter:{op:T5(n.op),filters:r}}}(t):ae()}function S5(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Ax(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var yu=class t{constructor(e,n,r,i,o=fe.min(),s=fe.min(),a=Lt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var v_=class{constructor(e){this.ct=e}};function A5(t){let e=I5({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?i_(e,e.limit,"L"):e}var uf=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Ge(e.integerValue));else if("doubleValue"in e){let r=Ge(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),hu(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=ti(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(Ki(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?nx(e)?this.dt(n,Number.MAX_SAFE_INTEGER):tx(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):ae()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let o=e.fields||{};this.dt(n,53);let s="value",a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(Ge(a)),this.Vt(s,n),this.Tt(o[s],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),ie.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};uf.vt=new uf;var __=class{constructor(){this.un=new w_}addToCollectionParentIndex(e,n){return this.un.add(n),L.resolve()}getCollectionParents(e,n){return L.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return L.resolve()}deleteFieldIndex(e,n){return L.resolve()}deleteAllFieldIndexes(e){return L.resolve()}createTargetIndexes(e,n){return L.resolve()}getDocumentsMatchingTarget(e,n){return L.resolve(null)}getIndexType(e,n){return L.resolve(0)}getFieldIndexes(e,n){return L.resolve([])}getNextCollectionGroupToUpdate(e){return L.resolve(null)}getMinOffset(e,n){return L.resolve(Lo.min())}getMinOffsetFromCollectionGroup(e,n){return L.resolve(Lo.min())}updateCollectionGroup(e,n,r){return L.resolve()}updateIndexEntries(e,n){return L.resolve()}},w_=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Vt(Xe.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Vt(Xe.comparator)).toArray()}};var SJ=new Uint8Array(0);var cr=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};cr.DEFAULT_COLLECTION_PERCENTILE=10,cr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cr.DEFAULT=new cr(41943040,cr.DEFAULT_COLLECTION_PERCENTILE,cr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cr.DISABLED=new cr(-1,0,0);var vu=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var E_=class{constructor(){this.changes=new Qi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Bn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?L.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var I_=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var C_=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&du(r.mutation,i,wn.empty(),rt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ee()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ee()){let i=Oo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=au();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=Oo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ee()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=ni(),s=lu(),a=function(){return lu()}();return n.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof mr)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),du(h.mutation,l,h.mutation.getFieldMask(),rt.now())):s.set(l.key,wn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),n.forEach((l,h)=>{var p;return a.set(l,new I_(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let r=lu(),i=new et((s,a)=>s-a),o=Ee();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let h=r.get(u)||wn.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||Ee()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=fx();h.forEach(m=>{if(!o.has(m)){let y=_x(n.get(m),r.get(m));y!==null&&p.set(m,y),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return L.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return ie.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):K$(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):L.resolve(Oo()),a=-1,u=o;return s.next(l=>L.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?L.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,Ee())).next(h=>({batchId:a,changes:hx(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ie(n)).next(r=>{let i=au();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=au();return this.indexManager.getCollectionParents(e,o).next(a=>L.forEach(a,u=>{let l=function(p,m){return new fa(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,Bn.newInvalidDocument(h)))});let a=au();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&du(h.mutation,l,wn.empty(),rt.now()),xf(n,l)&&(a=a.insert(u,l))}),a})}};var b_=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return L.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:hr(i.createTime)}}(n)),L.resolve()}getNamedQuery(e,n){return L.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:A5(i.bundledQuery),readTime:hr(i.readTime)}}(n)),L.resolve()}};var D_=class{constructor(){this.overlays=new et(ie.comparator),this.Ir=new Map}getOverlay(e,n){return L.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Oo();return L.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),L.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),L.resolve()}getOverlaysForCollection(e,n,r){let i=Oo(),o=n.length+1,s=new ie(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return L.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new et((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=Oo(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=Oo(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return L.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new u_(n,r));let o=this.Ir.get(n);o===void 0&&(o=Ee(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}};var T_=class{constructor(){this.sessionToken=Lt.EMPTY_BYTE_STRING}getSessionToken(e){return L.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,L.resolve()}};var _u=class{constructor(){this.Tr=new Vt(dt.Er),this.dr=new Vt(dt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new dt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new dt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new ie(new Xe([])),r=new dt(n,e),i=new dt(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new ie(new Xe([])),r=new dt(n,e),i=new dt(n,e+1),o=Ee();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new dt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},dt=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ie.comparator(e.key,n.key)||Me(e.wr,n.wr)}static Ar(e,n){return Me(e.wr,n.wr)||ie.comparator(e.key,n.key)}};var S_=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Vt(dt.Er)}checkEmpty(e){return L.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new a_(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.br=this.br.add(new dt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return L.resolve(s)}lookupMutationBatch(e,n){return L.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),o=i<0?0:i;return L.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new dt(n,0),i=new dt(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{let a=this.Dr(s.wr);o.push(a)}),L.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Vt(Me);return n.forEach(i=>{let o=new dt(i,0),s=new dt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),L.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;ie.isDocumentKey(o)||(o=o.child(""));let s=new dt(new ie(o),0),a=new Vt(Me);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.wr)),!0)},s),L.resolve(this.Cr(a))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Fe(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return L.forEach(n.mutations,i=>{let o=new dt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new dt(n,0),i=this.br.firstAfterOrEqual(r);return L.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,L.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var A_=class{constructor(e){this.Mr=e,this.docs=function(){return new et(ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return L.resolve(r?r.document.mutableCopy():Bn.newInvalidDocument(n))}getEntries(e,n){let r=ni();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Bn.newInvalidDocument(i))}),L.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=ni(),s=n.path,a=new ie(s.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||F$(k$(h),r)<=0||(i.has(h.key)||xf(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return L.resolve(o)}getAllFromCollectionGroup(e,n,r,i){ae()}Or(e,n){return L.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new M_(this)}getSize(e){return L.resolve(this.size)}},M_=class extends E_{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),L.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var x_=class{constructor(e){this.persistence=e,this.Nr=new Qi(n=>yw(n),vw),this.lastRemoteSnapshotVersion=fe.min(),this.highestTargetId=0,this.Lr=0,this.Br=new _u,this.targetCount=0,this.kr=vu.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),L.resolve()}getLastRemoteSnapshotVersion(e){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return L.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),L.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new vu(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,L.resolve()}updateTargetData(e,n){return this.Kn(n),L.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,L.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),L.waitFor(o).next(()=>i)}getTargetCount(e){return L.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return L.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),L.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),L.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),L.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return L.resolve(r)}containsKey(e,n){return L.resolve(this.Br.containsKey(n))}};var P_=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new XM(0),this.Kr=!1,this.Kr=!0,this.$r=new T_,this.referenceDelegate=e(this),this.Ur=new x_(this),this.indexManager=new __,this.remoteDocumentCache=function(i){return new A_(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new v_(n),this.Gr=new b_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new D_,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new S_(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){G("MemoryPersistence","Starting transaction:",e);let i=new R_(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return L.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},R_=class extends z0{constructor(e){super(),this.currentSequenceNumber=e}},N_=class t{constructor(e){this.persistence=e,this.Jr=new _u,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw ae()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),L.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),L.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),L.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.Xr,r=>{let i=ie.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,fe.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return L.or([()=>L.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var O_=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Ee(),i=Ee();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var k_=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var F_=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return oA()?8:L$(It())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new k_;return this.Xi(e,n,s).next(a=>{if(o.result=a,this.zi)return this.es(e,n,s,a.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(su()<=we.DEBUG&&G("QueryEngine","SDK will not create cache indexes for query:",ta(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),L.resolve()):(su()<=we.DEBUG&&G("QueryEngine","Query:",ta(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(su()<=we.DEBUG&&G("QueryEngine","The SDK decides to create cache indexes for query:",ta(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,lr(n))):L.resolve())}Yi(e,n){if(MM(n))return L.resolve(null);let r=lr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=i_(n,null,"F"),r=lr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=Ee(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(n,a);return this.ns(n,l,s,u.readTime)?this.Yi(e,i_(n,null,"F")):this.rs(e,l,n,u)}))})))}Zi(e,n,r,i){return MM(n)||i.isEqual(fe.min())?L.resolve(null):this.Ji.getDocuments(e,r).next(o=>{let s=this.ts(n,o);return this.ns(n,s,r,i)?L.resolve(null):(su()<=we.DEBUG&&G("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ta(n)),this.rs(e,s,n,O$(i,-1)).next(a=>a))})}ts(e,n){let r=new Vt(lx(e));return n.forEach((i,o)=>{xf(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return su()<=we.DEBUG&&G("QueryEngine","Using full collection scan to execute query:",ta(n)),this.Ji.getDocumentsMatchingQuery(e,n,Lo.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var V_=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new et(Me),this._s=new Qi(o=>yw(o),vw),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new C_(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function M5(t,e,n,r){return new V_(t,e,n,r)}function Mx(t,e){return E(this,null,function*(){let n=le(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=Ee();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:s,addedBatchIds:a}))})})})}function x5(t,e){let n=le(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,m=p.keys(),y=L.resolve();return m.forEach(A=>{y=y.next(()=>h.getEntry(u,A)).next(N=>{let x=l.docVersions.get(A);Fe(x!==null),N.version.compareTo(x)<0&&(p.applyToRemoteDocument(N,l),N.isValidDocument()&&(N.setReadTime(l.commitVersion),h.addEntry(N)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=Ee();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function xx(t){let e=le(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function P5(t,e){let n=le(t),r=e.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let a=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;a.push(n.Ur.removeMatchingKeys(o,h.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(o,h.addedDocuments,p)));let y=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(Lt.EMPTY_BYTE_STRING,fe.min()).withLastLimboFreeSnapshotVersion(fe.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),function(N,x,V){return N.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=3e8?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0}(m,y,h)&&a.push(n.Ur.updateTargetData(o,y))});let u=ni(),l=Ee();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(R5(o,s,e.documentUpdates).next(h=>{u=h.Ps,l=h.Is})),!r.isEqual(fe.min())){let h=n.Ur.getLastRemoteSnapshotVersion(o).next(p=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return L.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(n.os=i,o))}function R5(t,e,n){let r=Ee(),i=Ee();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=ni();return n.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(fe.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):G("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ps:s,Is:i}})}function N5(t,e){let n=le(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function O5(t,e){let n=le(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,L.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new yu(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}function L_(t,e,n){return E(this,null,function*(){let r=le(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Du(s))throw s;G("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function jM(t,e,n){let r=le(t),i=fe.min(),o=Ee();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,h){let p=le(u),m=p._s.get(h);return m!==void 0?L.resolve(p.os.get(m)):p.Ur.getTargetData(l,h)}(r,s,lr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:fe.min(),n?o:Ee())).next(a=>(k5(r,Y$(e),a),{documents:a,Ts:o})))}function k5(t,e,n){let r=t.us.get(e)||fe.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}var lf=class{constructor(){this.activeTargetIds=n5()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var U_=class{constructor(){this.so=new lf,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new lf,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var j_=class{_o(e){}shutdown(){}};var df=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){G("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){G("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Wh=null;function N0(){return Wh===null?Wh=function(){return 268435456+Math.round(2147483648*Math.random())}():Wh++,"0x"+Wh.toString(16)}var F5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var B_=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var Ft="WebChannelConnection",$_=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){let a=N0(),u=this.xo(n,r.toUriEncodedString());G("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,o,s),this.No(n,u,l,i).then(h=>(G("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw aa("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",u,"request:",i),h})}Lo(n,r,i,o,s,a){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ea}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){let i=F5[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let o=N0();return new Promise((s,a)=>{let u=new S0;u.setWithCredentials(!0),u.listenOnce(A0.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case ou.NO_ERROR:let h=u.getResponseJson();G(Ft,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case ou.TIMEOUT:G(Ft,`RPC '${e}' ${o} timed out`),a(new X(k.DEADLINE_EXCEEDED,"Request time out"));break;case ou.HTTP_ERROR:let p=u.getStatus();if(G(Ft,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);let y=m?.error;if(y&&y.status&&y.message){let A=function(x){let V=x.toLowerCase().replace(/_/g,"-");return Object.values(k).indexOf(V)>=0?V:k.UNKNOWN}(y.status);a(new X(A,y.message))}else a(new X(k.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new X(k.UNAVAILABLE,"Connection failed."));break;default:ae()}}finally{G(Ft,`RPC '${e}' ${o} completed.`)}});let l=JSON.stringify(i);G(Ft,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",l,r,15)})}Bo(e,n,r){let i=N0(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=P0(),a=x0(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let h=o.join("");G(Ft,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u),m=!1,y=!1,A=new B_({Io:x=>{y?G(Ft,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(m||(G(Ft,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),G(Ft,`RPC '${e}' stream ${i} sending:`,x),p.send(x))},To:()=>p.close()}),N=(x,V,Z)=>{x.listen(V,W=>{try{Z(W)}catch(ee){setTimeout(()=>{throw ee},0)}})};return N(p,ea.EventType.OPEN,()=>{y||(G(Ft,`RPC '${e}' stream ${i} transport opened.`),A.yo())}),N(p,ea.EventType.CLOSE,()=>{y||(y=!0,G(Ft,`RPC '${e}' stream ${i} transport closed`),A.So())}),N(p,ea.EventType.ERROR,x=>{y||(y=!0,aa(Ft,`RPC '${e}' stream ${i} transport errored:`,x),A.So(new X(k.UNAVAILABLE,"The operation could not be completed")))}),N(p,ea.EventType.MESSAGE,x=>{var V;if(!y){let Z=x.data[0];Fe(!!Z);let W=Z,ee=W.error||((V=W[0])===null||V===void 0?void 0:V.error);if(ee){G(Ft,`RPC '${e}' stream ${i} received error:`,ee);let Ve=ee.status,oe=function(_){let D=lt[_];if(D!==void 0)return Ex(D)}(Ve),b=ee.message;oe===void 0&&(oe=k.INTERNAL,b="Unknown error status: "+Ve+" with message "+ee.message),y=!0,A.So(new X(oe,b)),p.close()}else G(Ft,`RPC '${e}' stream ${i} received:`,Z),A.bo(Z)}}),N(a,M0.STAT_EVENT,x=>{x.stat===qh.PROXY?G(Ft,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===qh.NOPROXY&&G(Ft,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{A.wo()},0),A}};function O0(){return typeof document<"u"?document:null}function Pf(t){return new f_(t,!0)}var hf=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&G("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var ff=class{constructor(e,n,r,i,o,s,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new hf(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return E(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return E(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return E(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===k.RESOURCE_EXHAUSTED?(ei(n.toString()),ei("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===k.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new X(k.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>E(this,null,function*(){this.state=0,this.start()}))}I_(e){return G("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(G("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},H_=class extends ff{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=y5(this.serializer,e),r=function(o){if(!("targetChange"in o))return fe.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?fe.min():s.readTime?hr(s.readTime):fe.min()}(e);return this.listener.d_(n,r)}A_(e){let n={};n.database=y_(this.serializer),n.addTarget=function(o,s){let a,u=s.target;if(a=r_(u)?{documents:w5(o,u)}:{query:E5(o,u)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=Ix(o,s.resumeToken);let l=p_(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(fe.min())>0){a.readTime=cf(o,s.snapshotVersion.toTimestamp());let l=p_(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=C5(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){let n={};n.database=y_(this.serializer),n.removeTarget=e,this.a_(n)}},z_=class extends ff{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Fe(!!e.streamToken),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Fe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=_5(e.writeResults,e.commitTime),r=hr(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=y_(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>v5(this.serializer,r))};this.a_(n)}};var q_=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new X(k.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,g_(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new X(k.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,g_(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new X(k.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},G_=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ei(n),this.D_=!1):G("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var W_=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(()=>E(this,null,function*(){zo(this)&&(G("RemoteStore","Restarting streams for network reachability change."),yield function(u){return E(this,null,function*(){let l=le(u);l.L_.add(4),yield Tu(l),l.q_.set("Unknown"),l.L_.delete(4),yield Rf(l)})}(this))}))}),this.q_=new G_(r,i)}};function Rf(t){return E(this,null,function*(){if(zo(t))for(let e of t.B_)yield e(!0)})}function Tu(t){return E(this,null,function*(){for(let e of t.B_)yield e(!1)})}function Px(t,e){let n=le(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Dw(n)?bw(n):Ia(n).r_()&&Cw(n,e))}function Iw(t,e){let n=le(t),r=Ia(n);n.N_.delete(e),r.r_()&&Rx(n,e),n.N_.size===0&&(r.r_()?r.o_():zo(n)&&n.q_.set("Unknown"))}function Cw(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(fe.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ia(t).A_(e)}function Rx(t,e){t.Q_.xe(e),Ia(t).R_(e)}function bw(t){t.Q_=new h_({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Ia(t).start(),t.q_.v_()}function Dw(t){return zo(t)&&!Ia(t).n_()&&t.N_.size>0}function zo(t){return le(t).L_.size===0}function Nx(t){t.Q_=void 0}function V5(t){return E(this,null,function*(){t.q_.set("Online")})}function L5(t){return E(this,null,function*(){t.N_.forEach((e,n)=>{Cw(t,e)})})}function U5(t,e){return E(this,null,function*(){Nx(t),Dw(t)?(t.q_.M_(e),bw(t)):t.q_.set("Unknown")})}function j5(t,e,n){return E(this,null,function*(){if(t.q_.set("Online"),e instanceof sf&&e.state===2&&e.cause)try{yield function(i,o){return E(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))})}(t,e)}catch(r){G("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield pf(t,r)}else if(e instanceof oa?t.Q_.Ke(e):e instanceof of?t.Q_.He(e):t.Q_.We(e),!n.isEqual(fe.min()))try{let r=yield xx(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){let a=o.Q_.rt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.N_.get(l);h&&o.N_.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.N_.get(u);if(!h)return;o.N_.set(u,h.withResumeToken(Lt.EMPTY_BYTE_STRING,h.snapshotVersion)),Rx(o,u);let p=new yu(h.target,u,l,h.sequenceNumber);Cw(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){G("RemoteStore","Failed to raise snapshot:",r),yield pf(t,r)}})}function pf(t,e,n){return E(this,null,function*(){if(!Du(e))throw e;t.L_.add(1),yield Tu(t),t.q_.set("Offline"),n||(n=()=>xx(t.localStore)),t.asyncQueue.enqueueRetryable(()=>E(this,null,function*(){G("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield Rf(t)}))})}function Ox(t,e){return e().catch(n=>pf(t,n,e))}function Nf(t){return E(this,null,function*(){let e=le(t),n=Yi(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;B5(e);)try{let i=yield N5(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,$5(e,i)}catch(i){yield pf(e,i)}kx(e)&&Fx(e)})}function B5(t){return zo(t)&&t.O_.length<10}function $5(t,e){t.O_.push(e);let n=Yi(t);n.r_()&&n.V_&&n.m_(e.mutations)}function kx(t){return zo(t)&&!Yi(t).n_()&&t.O_.length>0}function Fx(t){Yi(t).start()}function H5(t){return E(this,null,function*(){Yi(t).p_()})}function z5(t){return E(this,null,function*(){let e=Yi(t);for(let n of t.O_)e.m_(n.mutations)})}function q5(t,e,n){return E(this,null,function*(){let r=t.O_.shift(),i=c_.from(r,e,n);yield Ox(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Nf(t)})}function G5(t,e){return E(this,null,function*(){e&&Yi(t).V_&&(yield function(r,i){return E(this,null,function*(){if(function(s){return u5(s)&&s!==k.ABORTED}(i.code)){let o=r.O_.shift();Yi(r).s_(),yield Ox(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Nf(r)}})}(t,e)),kx(t)&&Fx(t)})}function BM(t,e){return E(this,null,function*(){let n=le(t);n.asyncQueue.verifyOperationInProgress(),G("RemoteStore","RemoteStore received new credentials");let r=zo(n);n.L_.add(3),yield Tu(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield Rf(n)})}function W5(t,e){return E(this,null,function*(){let n=le(t);e?(n.L_.delete(2),yield Rf(n)):e||(n.L_.add(2),yield Tu(n),n.q_.set("Unknown"))})}function Ia(t){return t.K_||(t.K_=function(n,r,i){let o=le(n);return o.w_(),new H_(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:V5.bind(null,t),Ro:L5.bind(null,t),mo:U5.bind(null,t),d_:j5.bind(null,t)}),t.B_.push(e=>E(this,null,function*(){e?(t.K_.s_(),Dw(t)?bw(t):t.q_.set("Unknown")):(yield t.K_.stop(),Nx(t))}))),t.K_}function Yi(t){return t.U_||(t.U_=function(n,r,i){let o=le(n);return o.w_(),new z_(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:H5.bind(null,t),mo:G5.bind(null,t),f_:z5.bind(null,t),g_:q5.bind(null,t)}),t.B_.push(e=>E(this,null,function*(){e?(t.U_.s_(),yield Nf(t)):(yield t.U_.stop(),t.O_.length>0&&(G("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var K_=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Xr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new X(k.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Tw(t,e){if(ei("AsyncQueue",`${e}: ${t}`),Du(t))return new X(k.UNAVAILABLE,`${e}: ${t}`);throw t}var gf=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ie.comparator(n.key,r.key):(n,r)=>ie.comparator(n.key,r.key),this.keyedMap=au(),this.sortedSet=new et(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var mf=class{constructor(){this.W_=new et(ie.comparator)}track(e){let n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ae():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}},va=class t{constructor(e,n,r,i,o,s,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,gf.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Mf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var Q_=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},Y_=class{constructor(){this.queries=$M(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=le(n),o=i.queries;i.queries=$M(),o.forEach((s,a)=>{for(let u of a.j_)u.onError(r)})})(this,new X(k.ABORTED,"Firestore shutting down"))}};function $M(){return new Qi(t=>ux(t),Mf)}function K5(t,e){return E(this,null,function*(){let n=le(t),r=3,i=e.query,o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new Q_,r=e.J_()?0:1);try{switch(r){case 0:o.z_=yield n.onListen(i,!0);break;case 1:o.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){let a=Tw(s,`Initialization of query '${ta(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&Sw(n)})}function Q5(t,e){return E(this,null,function*(){let n=le(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function Y5(t,e){let n=le(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&Sw(n)}function J5(t,e,n){let r=le(t),i=r.queries.get(e);if(i)for(let o of i.j_)o.onError(n);r.queries.delete(e)}function Sw(t){t.Y_.forEach(e=>{e.next()})}var J_,HM;(HM=J_||(J_={})).ea="default",HM.Cache="cache";var Z_=class{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new va(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=va.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==J_.Cache}};var yf=class{constructor(e){this.key=e}},vf=class{constructor(e){this.key=e}},X_=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ee(),this.mutatedKeys=Ee(),this.Aa=lx(e),this.Ra=new gf(this.Aa)}get Va(){return this.Ta}ma(e,n){let r=n?n.fa:new mf,i=n?n.Ra:this.Ra,o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),y=xf(this.query,p)?p:null,A=!!m&&this.mutatedKeys.has(m.key),N=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),x=!1;m&&y?m.data.isEqual(y.data)?A!==N&&(r.track({type:3,doc:y}),x=!0):this.ga(m,y)||(r.track({type:2,doc:y}),x=!0,(u&&this.Aa(y,u)>0||l&&this.Aa(y,l)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),x=!0):m&&!y&&(r.track({type:1,doc:m}),x=!0,(u||l)&&(a=!0)),x&&(y?(s=s.add(y),o=N?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let s=e.fa.G_();s.sort((h,p)=>function(y,A){let N=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ae()}};return N(y)-N(A)}(h.type,p.type)||this.Aa(h.doc,p.doc)),this.pa(r),i=i!=null&&i;let a=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,s.length!==0||l?{snapshot:new va(this.query,e.Ra,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new mf,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=Ee(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let n=[];return e.forEach(r=>{this.da.has(r)||n.push(new vf(r))}),this.da.forEach(r=>{e.has(r)||n.push(new yf(r))}),n}ba(e){this.Ta=e.Ts,this.da=Ee();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return va.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},ew=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},tw=class{constructor(e){this.key=e,this.va=!1}},nw=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Qi(a=>ux(a),Mf),this.Ma=new Map,this.xa=new Set,this.Oa=new et(ie.comparator),this.Na=new Map,this.La=new _u,this.Ba={},this.ka=new Map,this.qa=vu.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function Z5(t,e,n=!0){return E(this,null,function*(){let r=$x(t),i,o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=yield Vx(r,e,n,!0),i})}function X5(t,e){return E(this,null,function*(){let n=$x(t);yield Vx(n,e,!0,!1)})}function Vx(t,e,n,r){return E(this,null,function*(){let i=yield O5(t.localStore,lr(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n),a;return r&&(a=yield eH(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&Px(t.remoteStore,i),a})}function eH(t,e,n,r,i){return E(this,null,function*(){t.Ka=(p,m,y)=>function(N,x,V,Z){return E(this,null,function*(){let W=x.view.ma(V);W.ns&&(W=yield jM(N.localStore,x.query,!1).then(({documents:b})=>x.view.ma(b,W)));let ee=Z&&Z.targetChanges.get(x.targetId),Ve=Z&&Z.targetMismatches.get(x.targetId)!=null,oe=x.view.applyChanges(W,N.isPrimaryClient,ee,Ve);return qM(N,x.targetId,oe.wa),oe.snapshot})}(t,p,m,y);let o=yield jM(t.localStore,e,!0),s=new X_(e,o.Ts),a=s.ma(o.documents),u=mu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(a,t.isPrimaryClient,u);qM(t,n,l.wa);let h=new ew(e,n,s);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),l.snapshot})}function tH(t,e,n){return E(this,null,function*(){let r=le(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!Mf(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield L_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Iw(r.remoteStore,i.targetId),rw(r,i.targetId)}).catch(bu))):(rw(r,i.targetId),yield L_(r.localStore,i.targetId,!0))})}function nH(t,e){return E(this,null,function*(){let n=le(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Iw(n.remoteStore,r.targetId))})}function rH(t,e,n){return E(this,null,function*(){let r=lH(t);try{let i=yield function(s,a){let u=le(s),l=rt.now(),h=a.reduce((y,A)=>y.add(A.key),Ee()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let A=ni(),N=Ee();return u.cs.getEntries(y,h).next(x=>{A=x,A.forEach((V,Z)=>{Z.isValidDocument()||(N=N.add(V))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,A)).next(x=>{p=x;let V=[];for(let Z of a){let W=c5(Z,p.get(Z.key).overlayedDocument);W!=null&&V.push(new mr(Z.key,W,rx(W.value.mapValue),dr.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,V,a)}).next(x=>{m=x;let V=x.applyToLocalDocumentSet(p,N);return u.documentOverlayCache.saveOverlays(y,x.batchId,V)})}).then(()=>({batchId:m.batchId,changes:hx(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let l=s.Ba[s.currentUser.toKey()];l||(l=new et(Me)),l=l.insert(a,u),s.Ba[s.currentUser.toKey()]=l}(r,i.batchId,n),yield Su(r,i.changes),yield Nf(r.remoteStore)}catch(i){let o=Tw(i,"Failed to persist write");n.reject(o)}})}function Lx(t,e){return E(this,null,function*(){let n=le(t);try{let r=yield P5(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Na.get(o);s&&(Fe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?Fe(s.va):i.removedDocuments.size>0&&(Fe(s.va),s.va=!1))}),yield Su(n,r,e)}catch(r){yield bu(r)}})}function zM(t,e,n){let r=le(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((o,s)=>{let a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let u=le(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.j_)m.Z_(a)&&(l=!0)}),l&&Sw(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function iH(t,e,n){return E(this,null,function*(){let r=le(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Na.get(e),o=i&&i.key;if(o){let s=new et(ie.comparator);s=s.insert(o,Bn.newNoDocument(o,fe.min()));let a=Ee().add(o),u=new rf(fe.min(),new Map,new et(Me),s,a);yield Lx(r,u),r.Oa=r.Oa.remove(o),r.Na.delete(e),Aw(r)}else yield L_(r.localStore,e,!1).then(()=>rw(r,e,n)).catch(bu)})}function oH(t,e){return E(this,null,function*(){let n=le(t),r=e.batch.batchId;try{let i=yield x5(n.localStore,e);jx(n,r,null),Ux(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Su(n,i)}catch(i){yield bu(i)}})}function sH(t,e,n){return E(this,null,function*(){let r=le(t);try{let i=yield function(s,a){let u=le(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(Fe(p!==null),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);jx(r,e,n),Ux(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Su(r,i)}catch(i){yield bu(i)}})}function Ux(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function jx(t,e,n){let r=le(t),i=r.Ba[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function rw(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||Bx(t,r)})}function Bx(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(Iw(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Aw(t))}function qM(t,e,n){for(let r of n)r instanceof yf?(t.La.addReference(r.key,e),aH(t,r)):r instanceof vf?(G("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||Bx(t,r.key)):ae()}function aH(t,e){let n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(G("SyncEngine","New document in limbo: "+n),t.xa.add(r),Aw(t))}function Aw(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new ie(Xe.fromString(e)),r=t.qa.next();t.Na.set(r,new tw(n)),t.Oa=t.Oa.insert(n,r),Px(t.remoteStore,new yu(lr(_w(n.path)),r,"TargetPurposeLimboResolution",XM.oe))}}function Su(t,e,n){return E(this,null,function*(){let r=le(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{s.push(r.Ka(u,e,n).then(l=>{var h;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=n?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=O_.Wi(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.Ca.d_(i),yield function(u,l){return E(this,null,function*(){let h=le(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>L.forEach(l,m=>L.forEach(m.$i,y=>h.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>L.forEach(m.Ui,y=>h.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!Du(p))throw p;G("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let y=h.os.get(m),A=y.snapshotVersion,N=y.withLastLimboFreeSnapshotVersion(A);h.os=h.os.insert(m,N)}}})}(r.localStore,o))})}function cH(t,e){return E(this,null,function*(){let n=le(t);if(!n.currentUser.isEqual(e)){G("SyncEngine","User change. New user:",e.toKey());let r=yield Mx(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(u=>{u.reject(new X(k.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Su(n,r.hs)}})}function uH(t,e){let n=le(t),r=n.Na.get(e);if(r&&r.va)return Ee().add(r.key);{let i=Ee(),o=n.Ma.get(e);if(!o)return i;for(let s of o){let a=n.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function $x(t){let e=le(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Lx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=uH.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=iH.bind(null,e),e.Ca.d_=Y5.bind(null,e.eventManager),e.Ca.$a=J5.bind(null,e.eventManager),e}function lH(t){let e=le(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=oH.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=sH.bind(null,e),e}var GM=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return E(this,null,function*(){this.serializer=Pf(n.databaseInfo.databaseId),this.sharedClientState=this.Wa(n),this.persistence=this.Ga(n),yield this.persistence.start(),this.localStore=this.za(n),this.gcScheduler=this.ja(n,this.localStore),this.indexBackfillerScheduler=this.Ha(n,this.localStore)})}ja(n,r){return null}Ha(n,r){return null}za(n){return M5(this.persistence,new F_,n.initialUser,this.serializer)}Ga(n){return new P_(N_.Zr,this.serializer)}Wa(n){return new U_}terminate(){return E(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})();var dH=(()=>{class t{initialize(n,r){return E(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>zM(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=cH.bind(null,this.syncEngine),yield W5(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new Y_}()}createDatastore(n){let r=Pf(n.databaseInfo.databaseId),i=function(s){return new $_(s)}(n.databaseInfo);return function(s,a,u,l){return new q_(s,a,u,l)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,o,s,a,u){return new W_(i,o,s,a,u)}(this.localStore,this.datastore,n.asyncQueue,r=>zM(this.syncEngine,r,0),function(){return df.D()?new df:new j_}())}createSyncEngine(n,r){return function(o,s,a,u,l,h,p){let m=new nw(o,s,a,u,l,h);return p&&(m.Qa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return E(this,null,function*(){var n,r;yield function(o){return E(this,null,function*(){let s=le(o);G("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield Tu(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var iw=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):ei("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var ow=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ct.UNAUTHENTICATED,this.clientId=Jh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>E(this,null,function*(){G("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(G("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Xr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>E(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=Tw(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function k0(t,e){return E(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),G("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>E(this,null,function*(){r.isEqual(i)||(yield Mx(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function WM(t,e){return E(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield hH(t);G("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>BM(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>BM(e.remoteStore,i)),t._onlineComponents=e})}function hH(t){return E(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){G("FirestoreClient","Using user provided OfflineComponentProvider");try{yield k0(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===k.FAILED_PRECONDITION||i.code===k.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;aa("Error using user provided cache. Falling back to memory cache: "+n),yield k0(t,new GM)}}else G("FirestoreClient","Using default OfflineComponentProvider"),yield k0(t,new GM);return t._offlineComponents})}function Hx(t){return E(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(G("FirestoreClient","Using user provided OnlineComponentProvider"),yield WM(t,t._uninitializedComponentsProvider._online)):(G("FirestoreClient","Using default OnlineComponentProvider"),yield WM(t,new dH))),t._onlineComponents})}function fH(t){return Hx(t).then(e=>e.syncEngine)}function KM(t){return E(this,null,function*(){let e=yield Hx(t),n=e.eventManager;return n.onListen=Z5.bind(null,e.syncEngine),n.onUnlisten=tH.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=X5.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=nH.bind(null,e.syncEngine),n})}function zx(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var QM=new Map;function qx(t,e,n){if(!n)throw new X(k.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function pH(t,e,n,r){if(e===!0&&r===!0)throw new X(k.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function YM(t){if(!ie.isDocumentKey(t))throw new X(k.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function JM(t){if(ie.isDocumentKey(t))throw new X(k.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Mw(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ae()}function fr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new X(k.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Mw(t);throw new X(k.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var _f=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new X(k.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new X(k.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}pH("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zx((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new X(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new X(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new X(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},_a=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _f({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new X(k.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new X(k.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _f(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new F0;switch(r.type){case"firstParty":return new j0(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new X(k.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return E(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=QM.get(n);r&&(G("ComponentProvider","Removing Datastore"),QM.delete(n),r.terminate())}(this),Promise.resolve()}};function Gx(t,e,n,r={}){var i;let o=(t=fr(t,_a))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&aa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=Ct.MOCK_USER;else{a=XS(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new X(k.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Ct(l)}t._authCredentials=new V0(new Yh(a,u))}}var wf=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Yt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Wi=class t extends wf{constructor(e,n,r){super(e,n,_w(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Yt(this.firestore,null,new ie(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function Wx(t,e,...n){if(t=gt(t),qx("collection","path",e),t instanceof _a){let r=Xe.fromString(e,...n);return JM(r),new Wi(t,null,r)}{if(!(t instanceof Yt||t instanceof Wi))throw new X(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Xe.fromString(e,...n));return JM(r),new Wi(t.firestore,null,r)}}function xw(t,e,...n){if(t=gt(t),arguments.length===1&&(e=Jh.newId()),qx("doc","path",e),t instanceof _a){let r=Xe.fromString(e,...n);return YM(r),new Yt(t,null,new ie(r))}{if(!(t instanceof Yt||t instanceof Wi))throw new X(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Xe.fromString(e,...n));return YM(r),new Yt(t.firestore,t instanceof Wi?t.converter:null,new ie(r))}}var Ef=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new hf(this,"async_queue_retry"),this.Vu=()=>{let r=O0();r&&G("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let n=O0();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let n=O0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let n=new Xr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return E(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Du(e))throw e;G("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw ei("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);let i=K_.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&ae()}verifyOperationInProgress(){}wu(){return E(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let n=this.Tu.indexOf(e);this.Tu.splice(n,1)}};function ZM(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}var ri=class extends _a{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Ef,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return E(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Ef(e),this._firestoreClient=void 0,yield e}})}};function Kx(t,e){let n=typeof t=="object"?t:ji(),r=typeof t=="string"?t:e||"(default)",i=Li(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=ZS("firestore");o&&Gx(i,...o)}return i}function Qx(t){if(t._terminated)throw new X(k.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||gH(t),t._firestoreClient}function gH(t){var e,n,r;let i=t._freezeSettings(),o=function(a,u,l,h){return new q0(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,zx(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new ow(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(t._componentsProvider))}var wu=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Lt.fromBase64String(e))}catch(n){throw new X(k.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Lt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var wa=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new X(k.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Eu=class{constructor(e){this._methodName=e}};var Iu=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new X(k.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new X(k.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}};var Cu=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var mH=/^__.*__$/,sw=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new mr(e,this.data,this.fieldMask,n,this.fieldTransforms):new $o(e,this.data,n,this.fieldTransforms)}},If=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new mr(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function Yx(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ae()}}var aw=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return bf(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(Yx(this.Cu)&&mH.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},cw=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Pf(e)}Qu(e,n,r,i=!1){return new aw({Cu:e,methodName:n,qu:r,path:hn.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Pw(t){let e=t._freezeSettings(),n=Pf(t._databaseId);return new cw(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Jx(t,e,n,r,i,o={}){let s=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);Rw("Data must be an object, but it was:",s,r);let a=Zx(r,s),u,l;if(o.merge)u=new wn(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let m=uw(e,p,n);if(!s.contains(m))throw new X(k.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);eP(h,m)||h.push(m)}u=new wn(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new sw(new dn(a),u,l)}var Cf=class t extends Eu{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function yH(t,e,n,r){let i=t.Qu(1,e,n);Rw("Data must be an object, but it was:",i,r);let o=[],s=dn.empty();Ho(r,(u,l)=>{let h=Nw(e,u,n);l=gt(l);let p=i.Nu(h);if(l instanceof Cf)o.push(h);else{let m=Of(l,p);m!=null&&(o.push(h),s.set(h,m))}});let a=new wn(o);return new If(s,a,i.fieldTransforms)}function vH(t,e,n,r,i,o){let s=t.Qu(1,e,n),a=[uw(e,r,n)],u=[i];if(o.length%2!=0)throw new X(k.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<o.length;m+=2)a.push(uw(e,o[m])),u.push(o[m+1]);let l=[],h=dn.empty();for(let m=a.length-1;m>=0;--m)if(!eP(l,a[m])){let y=a[m],A=u[m];A=gt(A);let N=s.Nu(y);if(A instanceof Cf)l.push(y);else{let x=Of(A,N);x!=null&&(l.push(y),h.set(y,x))}}let p=new wn(l);return new If(h,p,s.fieldTransforms)}function Of(t,e){if(Xx(t=gt(t)))return Rw("Unsupported field value:",e,t),Zx(t,e);if(t instanceof Eu)return function(r,i){if(!Yx(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let u=Of(a,i.Lu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=gt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return r5(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=rt.fromDate(r);return{timestampValue:cf(i.serializer,o)}}if(r instanceof rt){let o=new rt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:cf(i.serializer,o)}}if(r instanceof Iu)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof wu)return{bytesValue:Ix(i.serializer,r._byteString)};if(r instanceof Yt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Ew(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Cu)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.Bu("VectorValues must only contain numeric values.");return ww(a.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Mw(r)}`)}(t,e)}function Zx(t,e){let n={};return ex(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ho(t,(r,i)=>{let o=Of(i,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function Xx(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof rt||t instanceof Iu||t instanceof wu||t instanceof Yt||t instanceof Eu||t instanceof Cu)}function Rw(t,e,n){if(!Xx(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=Mw(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function uw(t,e,n){if((e=gt(e))instanceof wa)return e._internalPath;if(typeof e=="string")return Nw(t,e);throw bf("Field path arguments must be of type string or ",t,!1,void 0,n)}var _H=new RegExp("[~\\*/\\[\\]]");function Nw(t,e,n){if(e.search(_H)>=0)throw bf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new wa(...e.split("."))._internalPath}catch{throw bf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function bf(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new X(k.INVALID_ARGUMENT,a+t+u)}function eP(t,e){return t.some(n=>n.isEqual(e))}var Df=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new lw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(tP("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},lw=class extends Df{data(){return super.data()}};function tP(t,e){return typeof e=="string"?Nw(t,e):e instanceof wa?e._internalPath:e._delegate._internalPath}function wH(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new X(k.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var dw=class{convertValue(e,n="none"){switch(Uo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ge(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ki(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ae()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Ho(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;let o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Ge(s.doubleValue));return new Cu(o)}convertGeoPoint(e){return new Iu(Ge(e.latitude),Ge(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=gw(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(fu(e));default:return null}}convertTimestamp(e){let n=ti(e);return new rt(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Xe.fromString(e);Fe(Ax(r));let i=new tf(r.get(1),r.get(3)),o=new ie(r.popFirst(5));return i.isEqual(n)||ei(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function nP(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var Fo=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Tf=class extends Df{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new sa(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(tP("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},sa=class extends Tf{data(e={}){return super.data(e)}},hw=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Fo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new sa(this._firestore,this._userDataWriter,r.key,r,new Fo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new X(k.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new sa(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Fo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new sa(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Fo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:EH(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function EH(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ae()}}var Sf=class extends dw{constructor(e){super(),this.firestore=e}convertBytes(e){return new wu(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Yt(this.firestore,null,n)}};function rP(t,e,n){t=fr(t,Yt);let r=fr(t.firestore,ri),i=nP(t.converter,e,n);return kf(r,[Jx(Pw(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,dr.none())])}function iP(t,e,n,...r){t=fr(t,Yt);let i=fr(t.firestore,ri),o=Pw(i),s;return s=typeof(e=gt(e))=="string"||e instanceof wa?vH(o,"updateDoc",t._key,e,n,r):yH(o,"updateDoc",t._key,e),kf(i,[s.toMutation(t._key,dr.exists(!0))])}function oP(t){return kf(fr(t.firestore,ri),[new gu(t._key,dr.none())])}function sP(t,e){let n=fr(t.firestore,ri),r=xw(t),i=nP(t.converter,e);return kf(n,[Jx(Pw(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,dr.exists(!1))]).then(()=>r)}function Ow(t,...e){var n,r,i;t=gt(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||ZM(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(ZM(e[s])){let p=e[s];e[s]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(t instanceof Yt)l=fr(t.firestore,ri),h=_w(t._key.path),u={next:p=>{e[s]&&e[s](IH(l,t,p))},error:e[s+1],complete:e[s+2]};else{let p=fr(t,wf);l=fr(p.firestore,ri),h=p._query;let m=new Sf(l);u={next:y=>{e[s]&&e[s](new hw(l,m,p,y))},error:e[s+1],complete:e[s+2]},wH(t._query)}return function(m,y,A,N){let x=new iw(N),V=new Z_(y,x,A);return m.asyncQueue.enqueueAndForget(()=>E(this,null,function*(){return K5(yield KM(m),V)})),()=>{x.Za(),m.asyncQueue.enqueueAndForget(()=>E(this,null,function*(){return Q5(yield KM(m),V)}))}}(Qx(l),h,a,u)}function kf(t,e){return function(r,i){let o=new Xr;return r.asyncQueue.enqueueAndForget(()=>E(this,null,function*(){return rH(yield fH(r),i,o)})),o.promise}(Qx(t),e)}function IH(t,e,n){let r=n.docs.get(e._key),i=new Sf(t);return new Tf(t,i,e._key,r,new Fo(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Ea=i})(Ui),Un(new Gt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new ri(new L0(r.getProvider("auth-internal")),new $0(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new X(k.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tf(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),We(wM,"4.7.3",e),We(wM,"4.7.3","esm2017")})();var Ff=function(){return Ff=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Ff.apply(this,arguments)};var DH={includeMetadataChanges:!1};function kw(t,e){return e===void 0&&(e=DH),new pe(function(n){var r=Ow(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function aP(t){return kw(t,{includeMetadataChanges:!0})}function cP(t,e){return e===void 0&&(e={}),aP(t).pipe(re(function(n){return Fw(n,e)}))}function Fw(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:Ff(Ff({},r),(n={},n[e.idField]=t.id,n))}function uP(t){return kw(t,{includeMetadataChanges:!0}).pipe(re(function(e){return e.docs}))}function lP(t,e){return e===void 0&&(e={}),uP(t).pipe(re(function(n){return n.map(function(r){return Fw(r,e)})}))}var $n=class{constructor(e){return e}},dP="firestore",Vw=class{constructor(){return Js(dP)}};var Lw=new H("angularfire2.firestore-instances");function TH(t,e){let n=Ys(dP,t,e);return n&&new $n(n)}function SH(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new $n(r)}}var AH={provide:Vw,deps:[[new pt,Lw]]},MH={provide:$n,useFactory:TH,deps:[[new pt,Lw],jn]};function hP(t,...e){return We("angularfire",Kr.full,"fst"),nn([MH,AH,{provide:Lw,useFactory:SH(t),multi:!0,deps:[be,ft,$i,Qr,[new pt,iu],[new pt,Bi],...e]}])}var Au=At(lP,!0);var fP=At(cP,!0);var pP=At(sP,!0);var Ji=At(Wx,!0);var gP=At(oP,!0);var qo=At(xw,!0);var mP=At(Kx,!0);var Vf=At(rP,!0);var yP=At(iP,!0);var Ca=(()=>{let e=class e{constructor(r){this.firestore=r,this.cartSubject=new ht(this.loadCart()),this.cart$=this.cartSubject.asObservable()}loadCart(){let r=localStorage.getItem("cart");return r?JSON.parse(r):[]}saveCart(r){localStorage.setItem("cart",JSON.stringify(r)),this.cartSubject.next(r)}calculateTotal(r){return r.reduce((i,o)=>i+o.product.price*o.quantity,0)}getTotalAmount(){return this.cart$.pipe(re(r=>this.calculateTotal(r)))}getCartItems(){return this.cart$}clearCart(){this.saveCart([])}submitOrder(r){return E(this,null,function*(){let i=Ji(this.firestore,"orders");yield pP(i,ye(U({},r),{createdAt:rt.now()})),this.clearCart()})}getCartItemCount(){return this.cart$.pipe(re(r=>r.reduce((i,o)=>i+o.quantity,0)))}addToCart(r,i){let o=this.loadCart(),s=o.findIndex(a=>a.product.id===r.id);s===-1?o.push({product:r,quantity:i}):o[s].quantity+=i,this.saveCart(o)}increaseQuantity(r){let i=this.loadCart(),o=i.findIndex(s=>s.product.id===r);o!==-1&&(i[o].quantity+=1,this.saveCart(i))}decreaseQuantity(r){let i=this.loadCart(),o=i.findIndex(s=>s.product.id===r);o!==-1&&i[o].quantity>1&&(i[o].quantity-=1,this.saveCart(i))}removeFromCart(r){let i=this.loadCart();i=i.filter(o=>o.product.id!==r),this.saveCart(i)}checkout(){return te(this.saveCart([])).pipe(re(()=>{}))}};e.\u0275fac=function(i){return new(i||e)(q($n))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Lf=(()=>{let e=class e{constructor(r,i){this.router=r,this.cartService=i,this.cartItemCount=0,this.isDarkMode=!1}ngOnInit(){this.cartService.getCartItemCount().subscribe(r=>this.cartItemCount=r),this.loadTheme()}goToCart(){this.router.navigate(["/cart"])}toggleDarkMode(){this.isDarkMode=!this.isDarkMode,document.body.classList.toggle("dark-mode",this.isDarkMode),localStorage.setItem("darkMode",this.isDarkMode?"true":"false")}loadTheme(){localStorage.getItem("darkMode")==="true"&&(this.isDarkMode=!0,document.body.classList.add("dark-mode"))}};e.\u0275fac=function(i){return new(i||e)($(wt),$(Ca))},e.\u0275cmp=Je({type:e,selectors:[["app-header"]],standalone:!0,features:[Ze],decls:23,vars:2,consts:[[1,"navbar","navbar-expand-lg","navbar-light","bg-light"],["routerLink","/","routerLinkActive","active",1,"navbar-brand"],["src","./icons/logo.png","alt","Logo",1,"logo"],["type","button","data-toggle","collapse","data-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse"],[1,"navbar-nav","ml-auto"],[1,"nav-item"],["routerLink","/","routerLinkActive","active",1,"nav-link"],[1,"nav-link",3,"click"],["src","./icons/shopping-cart.svg","alt","Cart",1,"cart-icon"],[1,"custom-badge"],["routerLink","/admin-login","routerLinkActive","active",1,"nav-link"],["id","switch",1,"switch"],["type","checkbox","id","slider",3,"change","checked"],[1,"slider","round"]],template:function(i,o){i&1&&(I(0,"nav",0)(1,"a",1),se(2,"img",2),C(),I(3,"button",3),se(4,"span",4),C(),I(5,"div",5)(6,"ul",6)(7,"li",7)(8,"a",8),R(9,"\u0413\u043E\u043B\u043E\u0432\u043D\u0430"),C()(),I(10,"li",7)(11,"a",9),B("click",function(){return o.goToCart()}),se(12,"img",10),R(13," \u041A\u043E\u0448\u0438\u043A "),I(14,"span",11),R(15),C()()(),I(16,"li",7)(17,"a",12),R(18,"\u0410\u0434\u043C\u0456\u043D"),C()(),I(19,"li",7)(20,"label",13)(21,"input",14),B("change",function(){return o.toggleDarkMode()}),C(),se(22,"span",15),C()()()()()),i&2&&(O(15),$e(o.cartItemCount),O(6),ne("checked",o.isDarkMode))},dependencies:[Gs,zs,HS],styles:[`.navbar[_ngcontent-%COMP%]{position:fixed;top:0;width:100%;z-index:1000;margin-bottom:0;padding:.5rem 1rem;background-color:#f8f9fa;box-shadow:0 2px 4px #0000001a}body[_ngcontent-%COMP%]{padding-top:70px}.logo[_ngcontent-%COMP%]{height:40px;margin-right:1rem}.navbar-toggler[_ngcontent-%COMP%]{border:none}.navbar-toggler-icon[_ngcontent-%COMP%]{background-image:url("data:image/svg+xml;charset=utf8,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'%3e%3cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M4 6h16M4 12h16M4 18h16' /%3e%3c/svg%3e")}.navbar-nav[_ngcontent-%COMP%]{flex-direction:row;margin-left:auto}.nav-item[_ngcontent-%COMP%]{margin-left:1rem}.nav-link[_ngcontent-%COMP%]{font-weight:700;color:#333;font-size:1rem;padding:.5rem 1rem;transition:color .3s ease}.nav-link[_ngcontent-%COMP%]:hover{color:#007bff;cursor:pointer}.nav-link[_ngcontent-%COMP%]:hover   .cart-icon[_ngcontent-%COMP%]{transform:scale(1.1)}.custom-badge[_ngcontent-%COMP%]{display:inline-block;padding:.25em .4em;font-size:75%;font-weight:700;line-height:1;color:#fff;text-align:center;white-space:nowrap;vertical-align:baseline;border-radius:.2rem;background-color:#dc3545}.cart-icon[_ngcontent-%COMP%]{height:20px;margin-right:.5rem;transition:transform .3s ease}@media (max-width: 992px){.navbar-nav[_ngcontent-%COMP%]{flex-direction:column;text-align:center;padding-top:1rem;margin-top:1rem}.nav-item[_ngcontent-%COMP%]{margin-left:0;margin-bottom:.5rem}.navbar-brand[_ngcontent-%COMP%]{margin-right:auto}}.navbar-collapse[_ngcontent-%COMP%]{max-height:0;transition:max-height .3s ease}.navbar-collapse.collapse.show[_ngcontent-%COMP%]{max-height:500px;transition:max-height .3s ease-in}.navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:1rem;border-bottom:1px solid #ddd}.navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:last-child{border-bottom:none}.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:50px;height:33px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.slider[_ngcontent-%COMP%]{cursor:pointer;inset:0;background-color:#ccc;transition:.4s;border-radius:34px}.slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:26px;width:26px;left:4px;bottom:4px;background:#fff url(https://i.ibb.co/7JfqXxB/sunny.png) no-repeat center;background-size:20px;transition:.4s;border-radius:50%;box-shadow:0 0 15px #2020203d}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:var(--color-primary)}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(26px);background:#fff url(https://i.ibb.co/FxzBYR9/night.png) no-repeat center;background-size:20px}`]});let t=e;return t})();var vP=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Je({type:e,selectors:[["app-footer"]],standalone:!0,features:[Ze],decls:37,vars:0,consts:[[1,"container","footer-container"],[1,"row","footer-row"],[1,"col-xs-12","col-sm-6","col-md-6","text-center"],[1,"fas","fa-location-arrow"],["href","tel: 04737875657","type","tel",1,"tel"],[1,"fas","fa-mobile-alt"],[1,"col-xs-12","col-md-6","col-sm-6","social-section"],[1,"text-center"],[1,"text-center","social-buttons"],["href","https://www.facebook.com/?locale=uk_UA",1,"btn","btn-default","btn-lg","social-button","link-facebook"],[1,"fab","fa-facebook"],["href","https://x.com/?lang=uk",1,"btn","btn-default","btn-lg","social-button","link-twitter"],[1,"fab","fa-twitter"],["href","https://www.linkedin.com/",1,"btn","btn-default","btn-lg","social-button","link-linkedin"],[1,"fab","fa-linkedin"],["href","https://instagram.com/",1,"btn","btn-default","btn-lg","social-button","link-instagram"],[1,"fab","fa-instagram"],[1,"footer-hr"],[1,"author"],[1,"fas","fa-heart"]],template:function(i,o){i&1&&(I(0,"footer")(1,"div",0)(2,"div",1)(3,"div",2)(4,"address")(5,"strong"),se(6,"i",3),R(7," TERRA"),C(),se(8,"br"),R(9," \u0406\u043D\u0442\u0435\u0440\u043D\u0435\u0442-\u043C\u0430\u0433\u0430\u0437\u0438\u043D \u0442\u0443\u0440\u0438\u0441\u0442\u0438\u0447\u043D\u043E\u0433\u043E \u0441\u043F\u043E\u0440\u044F\u0434\u0436\u0435\u043D\u043D\u044F,"),se(10,"br"),R(11," \u043C. \u0427\u0435\u0440\u043A\u0430\u0441\u0438, \u0432\u0443\u043B. \u0411\u0430\u0439\u0434\u0438 \u0412\u0438\u0448\u043D\u0435\u0432\u0435\u0446\u044C\u043A\u043E\u0433\u043E, 39"),se(12,"br")(13,"br"),I(14,"a",4),se(15,"i",5),I(16,"span"),R(17," 04737875657"),C()()()(),I(18,"div",6)(19,"div",7)(20,"h4",7),R(21,"\u0412\u0438 \u043D\u0430\u0441 \u0437\u043D\u0430\u0439\u0434\u0438\u0442\u0435 \u0443 \u0441\u043E\u0446\u043C\u0435\u0440\u0435\u0436\u0430\u0445"),C(),I(22,"div",8)(23,"a",9),se(24,"i",10),C(),I(25,"a",11),se(26,"i",12),C(),I(27,"a",13),se(28,"i",14),C(),I(29,"a",15),se(30,"i",16),C()(),se(31,"hr",17),I(32,"h4",18),R(33,"\u0417\u0440\u043E\u0431\u043B\u0435\u043D\u043E \u0437\u0430 \u0434\u043E\u043F\u043E\u043C\u043E\u0433\u043E\u044E "),se(34,"i",19),I(35,"strong"),R(36,"Angular"),C()()()()()()())},styles:["footer[_ngcontent-%COMP%]{background-color:#2c3e50;color:#fff;font-size:1.5em;text-align:center;padding:2%;margin-top:40px}a.tel[_ngcontent-%COMP%], a.tel[_ngcontent-%COMP%]:hover{text-decoration:none;color:#fff}a.social-button[_ngcontent-%COMP%]{background:#fff;font-size:20px;border-radius:50%;margin:5px}.address-container[_ngcontent-%COMP%]{display:inline-block;margin:0 auto}a.link-facebook[_ngcontent-%COMP%], a.link-twitter[_ngcontent-%COMP%], a.link-codepen[_ngcontent-%COMP%], a.link-linkedin[_ngcontent-%COMP%], a.link-instagram[_ngcontent-%COMP%]{transition:.4s ease}a.link-twitter[_ngcontent-%COMP%]{color:#1da1f2}a.link-facebook[_ngcontent-%COMP%]{color:#3b5998}a.link-linkedin[_ngcontent-%COMP%]{color:#007bb6}a.link-instagram[_ngcontent-%COMP%]{color:#e95950}a.link-facebook[_ngcontent-%COMP%]:hover{background-color:#3b5998;color:#fff}a.link-twitter[_ngcontent-%COMP%]:hover{background-color:#1da1f2;color:#fff}a.link-codepen[_ngcontent-%COMP%]:hover{background-color:#000;color:#fff}a.link-linkedin[_ngcontent-%COMP%]:hover{background-color:#007bb6;color:#fff}a.link-instagram[_ngcontent-%COMP%]:hover{background-color:#e95950;color:#fff}.btn-default[_ngcontent-%COMP%]{color:#333;background-color:#fff;border-color:transparent!important}.fa-heart[_ngcontent-%COMP%]{color:#f32323}h4.author[_ngcontent-%COMP%]{letter-spacing:4px}hr.copyright[_ngcontent-%COMP%]{opacity:.4}"]});let t=e;return t})();var $w=new Map,DP={activated:!1,tokenObservers:[]},xH={initialized:!1,enabled:!1};function yt(t){return $w.get(t)||Object.assign({},DP)}function PH(t,e){return $w.set(t,e),$w.get(t)}function Hf(){return xH}var TP="https://content-firebaseappcheck.googleapis.com/v1",RH="exchangeRecaptchaV3Token";var NH="exchangeDebugToken",_P={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},OH=24*60*60*1e3;var Hw=class{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return E(this,null,function*(){this.stop();try{this.pending=new qr,this.pending.promise.catch(n=>{}),yield kH(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new qr,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function kH(t){return new Promise(e=>{setTimeout(e,t)})}var FH={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},Jt=new Ln("appCheck","AppCheck",FH);function wP(t=!1){var e;return t?(e=self.grecaptcha)===null||e===void 0?void 0:e.enterprise:self.grecaptcha}function qw(t){if(!yt(t).activated)throw Jt.create("use-before-activation",{appName:t.name})}function SP(t){let e=Math.round(t/1e3),n=Math.floor(e/(3600*24)),r=Math.floor((e-n*3600*24)/3600),i=Math.floor((e-n*3600*24-r*3600)/60),o=e-n*3600*24-r*3600-i*60,s="";return n&&(s+=Uf(n)+"d:"),r&&(s+=Uf(r)+"h:"),s+=Uf(i)+"m:"+Uf(o)+"s",s}function Uf(t){return t===0?"00":t>=10?t.toString():"0"+t}function Gw(r,i){return E(this,arguments,function*({url:t,body:e},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let y=yield s.getHeartbeatsHeader();y&&(o["X-Firebase-Client"]=y)}let a={method:"POST",body:JSON.stringify(e),headers:o},u;try{u=yield fetch(t,a)}catch(y){throw Jt.create("fetch-network-error",{originalErrorMessage:y?.message})}if(u.status!==200)throw Jt.create("fetch-status-error",{httpStatus:u.status});let l;try{l=yield u.json()}catch(y){throw Jt.create("fetch-parse-error",{originalErrorMessage:y?.message})}let h=l.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw Jt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let p=Number(h[1])*1e3,m=Date.now();return{token:l.token,expireTimeMillis:m+p,issuedAtTimeMillis:m}})}function VH(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${TP}/projects/${n}/apps/${r}:${RH}?key=${i}`,body:{recaptcha_v3_token:e}}}function AP(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${TP}/projects/${n}/apps/${r}:${NH}?key=${i}`,body:{debug_token:e}}}var LH="firebase-app-check-database",UH=1,Mu="firebase-app-check-store",MP="debug-token",jf=null;function xP(){return jf||(jf=new Promise((t,e)=>{try{let n=indexedDB.open(LH,UH);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Jt.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Mu,{keyPath:"compositeKey"})}}}catch(n){e(Jt.create("storage-open",{originalErrorMessage:n?.message}))}}),jf)}function jH(t){return RP(NP(t))}function BH(t,e){return PP(NP(t),e)}function $H(t){return PP(MP,t)}function HH(){return RP(MP)}function PP(t,e){return E(this,null,function*(){let r=(yield xP()).transaction(Mu,"readwrite"),o=r.objectStore(Mu).put({compositeKey:t,value:e});return new Promise((s,a)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;a(Jt.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})})}function RP(t){return E(this,null,function*(){let n=(yield xP()).transaction(Mu,"readonly"),i=n.objectStore(Mu).get(t);return new Promise((o,s)=>{i.onsuccess=a=>{let u=a.target.result;o(u?u.value:void 0)},n.onerror=a=>{var u;s(Jt.create("storage-get",{originalErrorMessage:(u=a.target.error)===null||u===void 0?void 0:u.message}))}})})}function NP(t){return`${t.options.appId}-${t.name}`}var xu=new or("@firebase/app-check");function zH(t){return E(this,null,function*(){if(Ks()){let e;try{e=yield jH(t)}catch(n){xu.warn(`Failed to read token from IndexedDB. Error: ${n}`)}return e}})}function Bw(t,e){return Ks()?BH(t,e).catch(n=>{xu.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function qH(){return E(this,null,function*(){let t;try{t=yield HH()}catch{}if(t)return t;{let e=uA();return $H(e).catch(n=>xu.warn(`Failed to persist debug token to IndexedDB. Error: ${n}`)),e}})}function Ww(){return Hf().enabled}function Kw(){return E(this,null,function*(){let t=Hf();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}function GH(){let t=Cv(),e=Hf();if(e.initialized=!0,typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN!="string"&&t.FIREBASE_APPCHECK_DEBUG_TOKEN!==!0)return;e.enabled=!0;let n=new qr;e.token=n,typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN=="string"?n.resolve(t.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(qH())}var WH={error:"UNKNOWN_ERROR"};function KH(t){return wh.encodeString(JSON.stringify(t),!1)}function Bf(t,e=!1){return E(this,null,function*(){let n=t.app;qw(n);let r=yt(n),i=r.token,o;if(i&&!ba(i)&&(r.token=void 0,i=void 0),!i){let u=yield r.cachedTokenPromise;u&&(ba(u)?i=u:yield Bw(n,void 0))}if(!e&&i&&ba(i))return{token:i.token};let s=!1;if(Ww()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Gw(AP(n,yield Kw()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),s=!0);let u=yield r.exchangeTokenPromise;return yield Bw(n,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),s=!0),i=yield yt(n).exchangeTokenPromise}catch(u){u.code==="appCheck/throttled"?xu.warn(u.message):xu.error(u),o=u}let a;return i?o?ba(i)?a={token:i.token,internalError:o}:a=IP(o):(a={token:i.token},r.token=i,yield Bw(n,i)):a=IP(o),s&&FP(n,a),a})}function QH(t){return E(this,null,function*(){let e=t.app;qw(e);let{provider:n}=yt(e);if(Ww()){let r=yield Kw(),{token:i}=yield Gw(AP(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield n.getToken();return{token:r}}})}function OP(t,e,n,r){let{app:i}=t,o=yt(i),s={next:n,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&ba(o.token)){let a=o.token;Promise.resolve().then(()=>{n({token:a.token}),EP(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>EP(t))}function kP(t,e){let n=yt(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function EP(t){let{app:e}=t,n=yt(e),r=n.tokenRefresher;r||(r=YH(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function YH(t){let{app:e}=t;return new Hw(()=>E(this,null,function*(){let n=yt(e),r;if(n.token?r=yield Bf(t,!0):r=yield Bf(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=yt(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},_P.RETRIAL_MIN_WAIT,_P.RETRIAL_MAX_WAIT)}function FP(t,e){let n=yt(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function ba(t){return t.expireTimeMillis-Date.now()>0}function IP(t){return{token:KH(WH),error:t}}var zw=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=yt(this.app);for(let n of e)kP(this.app,n.next);return Promise.resolve()}};function JH(t,e){return new zw(t,e)}function ZH(t){return{getToken:e=>Bf(t,e),getLimitedUseToken:()=>QH(t),addTokenListener:e=>OP(t,"INTERNAL",e),removeTokenListener:e=>kP(t.app,e)}}var XH="@firebase/app-check",ez="0.8.8";var tz="https://www.google.com/recaptcha/api.js";function nz(t,e){let n=new qr,r=yt(t);r.reCAPTCHAState={initialized:n};let i=rz(t),o=wP(!1);return o?CP(t,e,o,i,n):sz(()=>{let s=wP(!1);if(!s)throw new Error("no recaptcha");CP(t,e,s,i,n)}),n.promise}function CP(t,e,n,r,i){n.ready(()=>{oz(t,e,n,r),i.resolve(n)})}function rz(t){let e=`fire_app_check_${t.name}`,n=document.createElement("div");return n.id=e,n.style.display="none",document.body.appendChild(n),e}function iz(t){return E(this,null,function*(){qw(t);let n=yield yt(t).reCAPTCHAState.initialized.promise;return new Promise((r,i)=>{let o=yt(t).reCAPTCHAState;n.ready(()=>{r(n.execute(o.widgetId,{action:"fire_app_check"}))})})})}function oz(t,e,n,r){let i=n.render(r,{sitekey:e,size:"invisible",callback:()=>{yt(t).reCAPTCHAState.succeeded=!0},"error-callback":()=>{yt(t).reCAPTCHAState.succeeded=!1}}),o=yt(t);o.reCAPTCHAState=Object.assign(Object.assign({},o.reCAPTCHAState),{widgetId:i})}function sz(t){let e=document.createElement("script");e.src=tz,e.onload=t,document.head.appendChild(e)}var $f=class t{constructor(e){this._siteKey=e,this._throttleData=null}getToken(){return E(this,null,function*(){var e,n,r;cz(this._throttleData);let i=yield iz(this._app).catch(s=>{throw Jt.create("recaptcha-error")});if(!(!((e=yt(this._app).reCAPTCHAState)===null||e===void 0)&&e.succeeded))throw Jt.create("recaptcha-error");let o;try{o=yield Gw(VH(this._app,i),this._heartbeatServiceProvider)}catch(s){throw!((n=s.code)===null||n===void 0)&&n.includes("fetch-status-error")?(this._throttleData=az(Number((r=s.customData)===null||r===void 0?void 0:r.httpStatus),this._throttleData),Jt.create("throttled",{time:SP(this._throttleData.allowRequestsAfter-Date.now()),httpStatus:this._throttleData.httpStatus})):s}return this._throttleData=null,o})}initialize(e){this._app=e,this._heartbeatServiceProvider=Li(e,"heartbeat"),nz(e,this._siteKey).catch(()=>{})}isEqual(e){return e instanceof t?this._siteKey===e._siteKey:!1}};function az(t,e){if(t===404||t===403)return{backoffCount:1,allowRequestsAfter:Date.now()+OH,httpStatus:t};{let n=e?e.backoffCount:0,r=lA(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+r,httpStatus:t}}}function cz(t){if(t&&Date.now()-t.allowRequestsAfter<=0)throw Jt.create("throttled",{time:SP(t.allowRequestsAfter-Date.now()),httpStatus:t.httpStatus})}function VP(t=ji(),e){t=gt(t);let n=Li(t,"app-check");if(Hf().initialized||GH(),Ww()&&Kw().then(i=>console.log(`App Check debug token: ${i}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(o.isTokenAutoRefreshEnabled===e.isTokenAutoRefreshEnabled&&o.provider.isEqual(e.provider))return i;throw Jt.create("already-initialized",{appName:t.name})}let r=n.initialize({options:e});return uz(t,e.provider,e.isTokenAutoRefreshEnabled),yt(t).isTokenAutoRefreshEnabled&&OP(r,"INTERNAL",()=>{}),r}function uz(t,e,n){let r=PH(t,Object.assign({},DP));r.activated=!0,r.provider=e,r.cachedTokenPromise=zH(t).then(i=>(i&&ba(i)&&(r.token=i,FP(t,{token:i.token})),i)),r.isTokenAutoRefreshEnabled=n===void 0?t.automaticDataCollectionEnabled:n,r.provider.initialize(t)}function LP(t,e){return E(this,null,function*(){let n=yield Bf(t,e);if(n.error)throw n.error;return{token:n.token}})}var lz="app-check",bP="app-check-internal";function dz(){Un(new Gt(lz,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return JH(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(bP).initialize()})),Un(new Gt(bP,t=>{let e=t.getProvider("app-check").getImmediate();return ZH(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),We(XH,ez)}dz();var Go=class{constructor(e){return e}};var Qw=new H("angularfire2.app-check-instances");function hz(t,e){let n=Ys(Hv,t,e);return n&&new Go(n)}var fz=["localhost","0.0.0.0","127.0.0.1"],pz=typeof window<"u"&&fz.includes(window.location.hostname);function gz(t){return(e,n,r)=>{!Ns(r)&&(fT()||pz)&&(globalThis.FIREBASE_APPCHECK_DEBUG_TOKEN??=!0);let i=e.runOutsideAngular(()=>t(n));return new Go(i)}}var mz={provide:Bi,deps:[[new pt,Qw]]},yz={provide:Go,useFactory:hz,deps:[[new pt,Qw],jn,Dt]};function UP(t,...e){return We("angularfire",Kr.full,"app-check"),nn([yz,mz,{provide:Qw,useFactory:gz(t),multi:!0,deps:[be,ft,Dt,$i,Qr,...e]}])}var jP=At(LP,!0),BP=At(VP,!0);var $P=(()=>{let e=class e{constructor(r){this.appCheck=r}ngOnInit(){this.logAppCheckToken()}logAppCheckToken(){jP(this.appCheck).then(r=>{}).catch(r=>{console.error("Error getting App Check Token:",r)})}};e.\u0275fac=function(i){return new(i||e)($(Go))},e.\u0275cmp=Je({type:e,selectors:[["app-root"]],standalone:!0,features:[Ze],decls:3,vars:0,template:function(i,o){i&1&&se(0,"app-header")(1,"router-outlet")(2,"app-footer")},dependencies:[Gs,hv,St,Lf,vP,GT]});let t=e;return t})();var ZP=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)($(Nn),$(zt))},e.\u0275dir=qe({type:e});let t=e;return t})(),Vu=(()=>{let e=class e extends ZP{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=er(e)))(o||e)}})(),e.\u0275dir=qe({type:e,features:[on]});let t=e;return t})(),Ma=new H(""),_z={provide:Ma,useExisting:An(()=>Lu),multi:!0},Lu=(()=>{let e=class e extends Vu{writeValue(r){this.setProperty("checked",r)}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=er(e)))(o||e)}})(),e.\u0275dir=qe({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,o){i&1&&B("change",function(a){return o.onChange(a.target.checked)})("blur",function(){return o.onTouched()})},features:[Vr([_z]),on]});let t=e;return t})(),wz={provide:Ma,useExisting:An(()=>En),multi:!0};function Ez(){let t=Br()?Br().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var Iz=new H(""),En=(()=>{let e=class e extends ZP{constructor(r,i,o){super(r,i),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Ez())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)($(Nn),$(zt),$(Iz,8))},e.\u0275dir=qe({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&B("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[Vr([wz]),on]});let t=e;return t})();function Cz(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}var Jw=new H(""),XP=new H("");function bz(t){return Cz(t.value)?{required:!0}:null}function HP(t){return null}function eR(t){return t!=null}function tR(t){return Co(t)?Ue(t):t}function nR(t){let e={};return t.forEach(n=>{e=n!=null?U(U({},e),n):e}),Object.keys(e).length===0?null:e}function rR(t,e){return e.map(n=>n(t))}function Dz(t){return!t.validate}function iR(t){return t.map(e=>Dz(e)?e:n=>e.validate(n))}function Tz(t){if(!t)return null;let e=t.filter(eR);return e.length==0?null:function(n){return nR(rR(n,e))}}function Zw(t){return t!=null?Tz(iR(t)):null}function Sz(t){if(!t)return null;let e=t.filter(eR);return e.length==0?null:function(n){let r=rR(n,e).map(tR);return Kp(r).pipe(re(nR))}}function Xw(t){return t!=null?Sz(iR(t)):null}function zP(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Az(t){return t._rawValidators}function Mz(t){return t._rawAsyncValidators}function Yw(t){return t?Array.isArray(t)?t:[t]:[]}function qf(t,e){return Array.isArray(t)?t.includes(e):t===e}function qP(t,e){let n=Yw(e);return Yw(t).forEach(i=>{qf(n,i)||n.push(i)}),n}function GP(t,e){return Yw(e).filter(n=>!qf(t,n))}var Gf=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Zw(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Xw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Sa=class extends Gf{get formDirective(){return null}get path(){return null}},Fu=class extends Gf{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Wf=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},xz={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},ZX=ye(U({},xz),{"[class.ng-submitted]":"isSubmitted"}),yr=(()=>{let e=class e extends Wf{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)($(Fu,2))},e.\u0275dir=qe({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&sn("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[on]});let t=e;return t})(),xa=(()=>{let e=class e extends Wf{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)($(Sa,10))},e.\u0275dir=qe({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,o){i&2&&sn("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[on]});let t=e;return t})();var Pu="VALID",zf="INVALID",Da="PENDING",Ru="DISABLED",Aa=class{},Kf=class extends Aa{constructor(e,n){super(),this.value=e,this.source=n}},Ou=class extends Aa{constructor(e,n){super(),this.pristine=e,this.source=n}},ku=class extends Aa{constructor(e,n){super(),this.touched=e,this.source=n}},Ta=class extends Aa{constructor(e,n){super(),this.status=e,this.source=n}};function oR(t){return(Jf(t)?t.validators:t)||null}function Pz(t){return Array.isArray(t)?Zw(t):t||null}function sR(t,e){return(Jf(e)?e.asyncValidators:t)||null}function Rz(t){return Array.isArray(t)?Xw(t):t||null}function Jf(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function Nz(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new K(1e3,"");if(!r[n])throw new K(1001,"")}function Oz(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new K(1002,"")})}var Qf=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._events=new vt,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Pu}get invalid(){return this.status===zf}get pending(){return this.status==Da}get disabled(){return this.status===Ru}get enabled(){return this.status!==Ru}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(qP(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(qP(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(GP(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(GP(e,this._rawAsyncValidators))}hasValidator(e){return qf(this._rawValidators,e)}hasAsyncValidator(e){return qf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ye(U({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new ku(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new ku(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ye(U({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Ou(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new Ou(!0,r))}markAsPending(e={}){this.status=Da;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ta(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ye(U({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Ru,this.errors=null,this._forEachChild(i=>{i.disable(ye(U({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Kf(this.value,r)),this._events.next(new Ta(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ye(U({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Pu,this._forEachChild(r=>{r.enable(ye(U({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ye(U({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Pu||this.status===Da)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Kf(this.value,n)),this._events.next(new Ta(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ye(U({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ru:Pu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Da,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=tR(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Ta(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new Ye,this.statusChanges=new Ye}_calculateStatus(){return this._allControlsDisabled()?Ru:this.errors?zf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Da)?Da:this._anyControlsHaveStatus(zf)?zf:Pu}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new Ou(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new ku(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Jf(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Pz(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Rz(this._rawAsyncValidators)}},Yf=class extends Qf{constructor(e,n,r){super(oR(n),sR(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){Oz(this,!0,e),Object.keys(e).forEach(r=>{Nz(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var eE=new H("CallSetDisabledState",{providedIn:"root",factory:()=>tE}),tE="always";function kz(t,e){return[...e.path,t]}function aR(t,e,n=tE){cR(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),Vz(t,e),Uz(t,e),Lz(t,e),Fz(t,e)}function WP(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function Fz(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function cR(t,e){let n=Az(t);e.validator!==null?t.setValidators(zP(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=Mz(t);e.asyncValidator!==null?t.setAsyncValidators(zP(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();WP(e._rawValidators,i),WP(e._rawAsyncValidators,i)}function Vz(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&uR(t,e)})}function Lz(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&uR(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function uR(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Uz(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function jz(t,e){t==null,cR(t,e)}function Bz(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function $z(t){return Object.getPrototypeOf(t.constructor)===Vu}function Hz(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function zz(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===En?n=o:$z(o)?r=o:i=o}),i||r||n||null}var qz={provide:Sa,useExisting:An(()=>Wo)},Nu=Promise.resolve(),Wo=(()=>{let e=class e extends Sa{constructor(r,i,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Ye,this.form=new Yf({},Zw(r),Xw(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){Nu.then(()=>{let i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),aR(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){Nu.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){Nu.then(()=>{let i=this._findContainer(r.path),o=new Yf({});jz(o,r),i.registerControl(r.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){Nu.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){Nu.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submitted=!0,Hz(this.form,this._directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}};e.\u0275fac=function(i){return new(i||e)($(Jw,10),$(XP,10),$(eE,8))},e.\u0275dir=qe({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,o){i&1&&B("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Vr([qz]),on]});let t=e;return t})();function KP(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function QP(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Gz=class extends Qf{constructor(e=null,n,r){super(oR(n),sR(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Jf(n)&&(n.nonNullable||n.initialValueIsDefault)&&(QP(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){KP(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){KP(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){QP(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Wz={provide:Fu,useExisting:An(()=>Hn)},YP=Promise.resolve(),Hn=(()=>{let e=class e extends Fu{constructor(r,i,o,s,a,u){super(),this._changeDetectorRef=a,this.callSetDisabledState=u,this.control=new Gz,this._registered=!1,this.name="",this.update=new Ye,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=zz(this,s)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),Bz(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){aR(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){YP.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,o=i!==0&&Si(i);YP.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?kz(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)($(Sa,9),$(Jw,10),$(XP,10),$(Ma,10),$(Ti,8),$(eE,8))},e.\u0275dir=qe({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Vr([Wz]),on,Pr]});let t=e;return t})(),Pa=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=qe({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})(),Kz={provide:Ma,useExisting:An(()=>nE),multi:!0},nE=(()=>{let e=class e extends Vu{writeValue(r){let i=r??"";this.setProperty("value",i)}registerOnChange(r){this.onChange=i=>{r(i==""?null:parseFloat(i))}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=er(e)))(o||e)}})(),e.\u0275dir=qe({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,o){i&1&&B("input",function(a){return o.onChange(a.target.value)})("blur",function(){return o.onTouched()})},features:[Vr([Kz]),on]});let t=e;return t})();var Qz={provide:Ma,useExisting:An(()=>Ra),multi:!0};function lR(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function Yz(t){return t.split(":")[0]}var Ra=(()=>{let e=class e extends Vu{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i=this._getOptionId(r),o=lR(i,r);this.setProperty("value",o)}registerOnChange(r){this.onChange=i=>{this.value=this._getOptionValue(i),r(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),r))return i;return null}_getOptionValue(r){let i=Yz(r);return this._optionMap.has(i)?this._optionMap.get(i):r}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=er(e)))(o||e)}})(),e.\u0275dir=qe({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,o){i&1&&B("change",function(a){return o.onChange(a.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[Vr([Qz]),on]});let t=e;return t})(),Zf=(()=>{let e=class e{constructor(r,i,o){this._element=r,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(r){this._select!=null&&(this._select._optionMap.set(this.id,r),this._setElementValue(lR(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._setElementValue(r),this._select&&this._select.writeValue(this._select.value)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)($(zt),$(Nn),$(Ra,9))},e.\u0275dir=qe({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})(),Jz={provide:Ma,useExisting:An(()=>dR),multi:!0};function JP(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function Zz(t){return t.split(":")[0]}var dR=(()=>{let e=class e extends Vu{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i;if(Array.isArray(r)){let o=r.map(s=>this._getOptionId(s));i=(s,a)=>{s._setSelected(o.indexOf(a.toString())>-1)}}else i=(o,s)=>{o._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(r){this.onChange=i=>{let o=[],s=i.selectedOptions;if(s!==void 0){let a=s;for(let u=0;u<a.length;u++){let l=a[u],h=this._getOptionValue(l.value);o.push(h)}}else{let a=i.options;for(let u=0;u<a.length;u++){let l=a[u];if(l.selected){let h=this._getOptionValue(l.value);o.push(h)}}}this.value=o,r(o)}}_registerOption(r){let i=(this._idCounter++).toString();return this._optionMap.set(i,r),i}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,r))return i;return null}_getOptionValue(r){let i=Zz(r);return this._optionMap.has(i)?this._optionMap.get(i)._value:r}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=er(e)))(o||e)}})(),e.\u0275dir=qe({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,o){i&1&&B("change",function(a){return o.onChange(a.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[Vr([Jz]),on]});let t=e;return t})(),Xf=(()=>{let e=class e{constructor(r,i,o){this._element=r,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(r){this._select!=null&&(this._value=r,this._setElementValue(JP(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._select?(this._value=r,this._setElementValue(JP(this.id,r)),this._select.writeValue(this._select.value)):this._setElementValue(r)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}_setSelected(r){this._renderer.setProperty(this._element.nativeElement,"selected",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)($(zt),$(Nn),$(dR,9))},e.\u0275dir=qe({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})();var Xz=(()=>{let e=class e{constructor(){this._validator=HP}ngOnChanges(r){if(this.inputName in r){let i=this.normalizeInput(r[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):HP,this._onChange&&this._onChange()}}validate(r){return this._validator(r)}registerOnValidatorChange(r){this._onChange=r}enabled(r){return r!=null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=qe({type:e,features:[Pr]});let t=e;return t})();var eq={provide:Jw,useExisting:An(()=>Ko),multi:!0};var Ko=(()=>{let e=class e extends Xz{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Si,this.createValidator=r=>bz}enabled(r){return r}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=er(e)))(o||e)}})(),e.\u0275dir=qe({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,o){i&2&&gc("required",o._enabled?"":null)},inputs:{required:"required"},features:[Vr([eq]),on]});let t=e;return t})();var tq=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Xn({type:e}),e.\u0275inj=Zn({});let t=e;return t})();var vr=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:eE,useValue:r.callSetDisabledState??tE}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Xn({type:e}),e.\u0275inj=Zn({imports:[tq]});let t=e;return t})();var nq=["slides"];function rq(t,e){if(t&1){let n=ct();I(0,"a",10),B("click",function(){Q(n);let i=J();return Y(i.onClickLeft())}),se(1,"span",11),C()}}function iq(t,e){if(t&1){let n=ct();I(0,"a",12),B("click",function(){Q(n);let i=J();return Y(i.onClickRight())}),se(1,"span",13),C()}}var hR=(()=>{let e=class e{constructor(r){this.platformId=r,this.intervalForSlider=5e3,this.withBackground=!1,this.showArrows=!0,this.currentIndex=0}ngAfterViewInit(){vy(this.platformId)&&(this.autoSlideSub=Qp(this.intervalForSlider).subscribe(()=>this.autoSlide()))}autoSlide(){let i=this.slides.nativeElement.querySelectorAll(".carousel-item");i[this.currentIndex].classList.remove("active"),this.currentIndex=(this.currentIndex+1)%i.length,i[this.currentIndex].classList.add("active")}onClickLeft(){let i=this.slides.nativeElement.querySelectorAll(".carousel-item");i[this.currentIndex].classList.remove("active"),this.currentIndex=(this.currentIndex-1+i.length)%i.length,i[this.currentIndex].classList.add("active")}onClickRight(){this.autoSlide()}ngOnDestroy(){this.autoSlideSub&&this.autoSlideSub.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)($(Dt))},e.\u0275cmp=Je({type:e,selectors:[["app-carousel"]],viewQuery:function(i,o){if(i&1&&tT(nq,5),i&2){let s;xd(s=Pd())&&(o.slides=s.first)}},inputs:{intervalForSlider:"intervalForSlider",withBackground:"withBackground",showArrows:"showArrows"},standalone:!0,features:[Ze],decls:11,vars:2,consts:[["slides",""],["id","carouselExampleIndicators",1,"carousel","slide"],[1,"carousel-inner"],[1,"carousel-item","active"],["src","./slide/slide1.jpg","alt","Slide 1",1,"d-block","w-100"],[1,"carousel-item"],["src","./slide/slide2.jpg","alt","Slide 2",1,"d-block","w-100"],["src","./slide/slide3.jpg","alt","Slide 3",1,"d-block","w-100"],["class","carousel-control-prev","role","button",3,"click",4,"ngIf"],["class","carousel-control-next","role","button",3,"click",4,"ngIf"],["role","button",1,"carousel-control-prev",3,"click"],["aria-hidden","true",1,"carousel-control-prev-icon"],["role","button",1,"carousel-control-next",3,"click"],["aria-hidden","true",1,"carousel-control-next-icon"]],template:function(i,o){i&1&&(I(0,"div",1)(1,"div",2,0)(3,"div",3),se(4,"img",4),C(),I(5,"div",5),se(6,"img",6),C(),I(7,"div",5),se(8,"img",7),C()(),ke(9,rq,2,0,"a",8)(10,iq,2,0,"a",9),C()),i&2&&(O(9),ne("ngIf",o.showArrows),O(),ne("ngIf",o.showArrows))},dependencies:[St,nr],styles:[".carousel-inner[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;overflow:hidden}.carousel-item[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0;opacity:0;transition:transform 1s ease-in}.carousel-item.active[_ngcontent-%COMP%]{opacity:1;position:relative}.carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:50vh;width:100%;object-fit:cover}@media (max-width: 992px){.carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:calc(100vh - 56px)}}@media (max-width: 576px){.carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:calc(50vh - 56px)}}"]});let t=e;return t})();var Na=(()=>{let e=class e{constructor(r){this.firestore=r,this.collectionName="products",this.commentsCollectionName="comments"}getProducts(){let r=Ji(this.firestore,this.collectionName);return Au(r,{idField:"id"})}getProductById(r){let i=qo(this.firestore,`${this.collectionName}/${r}`);return fP(i,{idField:"id"})}getComments(r){let i=Ji(this.firestore,`${this.collectionName}/${r}/${this.commentsCollectionName}`);return Au(i,{idField:"id"})}addComment(r,i){let o=["\u043A\u043E\u043A\u043E\u0441","\u0431\u0430\u043D\u0430\u043D","\u043F\u043E\u0433\u0430\u043D\u0438\u0439","@"],s=i.replace(new RegExp(`(${o.map(l=>l.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")).join("|")})`,"gi"),l=>"*".repeat(l.length)),a=Ji(this.firestore,`${this.collectionName}/${r}/${this.commentsCollectionName}`),u=qo(a);return Vf(u,{text:s,timestamp:new Date().toISOString()})}};e.\u0275fac=function(i){return new(i||e)(q($n))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var fR=t=>({disabled:t}),oq=t=>({active:t});function sq(t,e){if(t&1){let n=ct();I(0,"div",39)(1,"div",40),se(2,"img",41),I(3,"div",42)(4,"h5",43),R(5),C(),I(6,"p",44),R(7),C(),I(8,"button",45),B("click",function(){let i=Q(n).$implicit,o=J();return Y(o.viewProduct(i.id))}),R(9,"\u041F\u0435\u0440\u0435\u0439\u0442\u0438 \u0434\u043E \u0442\u043E\u0432\u0430\u0440\u0443"),C()()()()}if(t&2){let n=e.$implicit,r=J();O(2),kr("alt",n.name),ne("src",n.imageUrl,Rn),O(3),$e(n.name),O(2),Fr("",n.price," ",r.currency,"")}}function aq(t,e){if(t&1){let n=ct();I(0,"li",34)(1,"a",46),B("click",function(){let i=Q(n).$implicit,o=J();return Y(o.changePage(i))}),R(2),C()()}if(t&2){let n=e.$implicit,r=J();ne("ngClass",Rd(2,oq,n===r.currentPage)),O(2),$e(n)}}var pR=(()=>{let e=class e{constructor(r,i){this.productService=r,this.router=i,this.products=[],this.filteredProducts=[],this.searchText="",this.currency="$",this.itemsPerPage=5,this.currentPage=1,this.totalPages=1,this.pages=[],this.categories=["\u041B\u0456\u0445\u0442\u0430\u0440\u0438\u043A\u0438","\u0420\u043E\u0437\u0443\u043C\u043D\u0456 \u0433\u043E\u0434\u0438\u043D\u043D\u0438\u043A\u0438","\u041D\u0430\u0432\u0443\u0448\u043D\u0438\u043A\u0438","\u0422\u0443\u0440\u0438\u0441\u0442\u0438\u0447\u043D\u0456 \u041A\u0430\u043C\u0435\u0440\u0438","\u041D\u0430\u043C\u0435\u0442\u0438"],this.selectedCategory="all",this.isSidebarVisible=!1,this.isSidebarPinned=!1}ngOnInit(){this.loadProducts(),this.adjustItemsPerPage(),window.addEventListener("resize",()=>this.adjustItemsPerPage())}adjustItemsPerPage(){let r=window.innerWidth;r<576?this.itemsPerPage=2:r<768?this.itemsPerPage=4:this.itemsPerPage=5,this.updatePagination()}toggleSidebar(){this.isSidebarVisible=!this.isSidebarVisible,(this.isSidebarPinned||window.innerWidth<576)&&(this.isSidebarPinned=!1)}updateSidebarMode(){this.isSidebarPinned?this.isSidebarVisible=!0:this.isSidebarVisible=!1}loadProducts(){this.productService.getProducts().subscribe(r=>{console.log("\u041E\u0442\u0440\u0438\u043C\u0430\u043D\u0456 \u043F\u0440\u043E\u0434\u0443\u043A\u0442\u0438:",r),this.products=r,this.applyFilters()})}getPaginatedProducts(){if(window.innerWidth<576)return this.filteredProducts;{let r=(this.currentPage-1)*this.itemsPerPage,i=this.currentPage*this.itemsPerPage;return this.filteredProducts.slice(r,i)}}updatePagination(){this.totalPages=Math.ceil(this.filteredProducts.length/this.itemsPerPage),this.pages=Array.from({length:this.totalPages},(r,i)=>i+1)}onSearchTextChange(){this.applyFilters(),this.updatePagination(),this.currentPage=1}filterByCategory(r){this.selectedCategory=r,this.applyFilters(),this.updatePagination(),this.currentPage=1}applyFilters(){let r=this.products;this.selectedCategory!=="all"&&(r=r.filter(i=>i.category===this.selectedCategory)),this.searchText&&(r=r.filter(i=>i.name.toLowerCase().includes(this.searchText.toLowerCase()))),this.filteredProducts=r,this.updatePagination()}changePage(r){r>=1&&r<=this.totalPages&&(this.currentPage=r)}viewProduct(r){this.router.navigate([`/product/${r}`])}};e.\u0275fac=function(i){return new(i||e)($(Na),$(wt))},e.\u0275cmp=Je({type:e,selectors:[["app-home"]],standalone:!0,features:[Ze],decls:71,vars:18,consts:[[1,"container-fluid","mt-4"],["type","search","placeholder","\u0424\u0456\u043B\u044C\u0442\u0440 \u0437\u0430 \u043D\u0430\u0437\u0432\u043E\u044E","aria-label","Search",1,"form-control","mb-4","mt-4",3,"ngModelChange","ngModel"],[1,"sidebar-toggle",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","50","height","50","viewBox","0 0 100 100"],["x","0","y","0","width","100","height","100","rx","15","fill","#f0f0f0"],["x","15","y","15","width","25","height","70","rx","8","fill","#ffffff"],["cx","27.5","cy","30","r","4","fill","#ff6347"],["cx","27.5","cy","50","r","4","fill","#4682b4"],["cx","27.5","cy","70","r","4","fill","#32cd32"],["x","45","y","15","width","40","height","70","rx","8","fill","#ffffff"],["x","50","y","25","width","30","height","6","rx","2","fill","#d3d3d3"],["x","50","y","45","width","30","height","6","rx","2","fill","#d3d3d3"],["x","50","y","65","width","30","height","6","rx","2","fill","#d3d3d3"],[1,"sidebar"],[1,"sidebar-header"],[1,"pin-sidebar-option"],["type","checkbox","id","pinSidebar",2,"display","none",3,"ngModelChange","change","ngModel"],["for","pinSidebar"],["version","1.1","id","Layer_1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","viewBox","0 0 512.007 512.007",0,"xml","space","preserve","width","20px","height","20px","fill","#000000"],["id","SVGRepo_bgCarrier","stroke-width","0"],["id","SVGRepo_tracerCarrier","stroke-linecap","round","stroke-linejoin","round","stroke","#CCCCCC","stroke-width","1.0240139999999998"],["id","SVGRepo_iconCarrier"],["x","97.107","y","255.03","transform","matrix(-0.7071 -0.7071 0.7071 -0.7071 -89.086 761.0052)","width","31.919","height","287.846",2,"fill","#6DA8D6"],["d","M313.839,446.446L189.701,322.31l103.357-133.452l63.385,78.432 C376.502,328.231,362.305,397.981,313.839,446.446z",2,"fill","#D82F30"],["points","458.778,149.909 356.444,267.29 300.583,211.428 325.417,126.406 410.439,101.571 ",2,"fill","#BD1515"],["d","M308.106,203.905L189.701,322.31L65.565,198.172c48.466-48.466,118.216-62.663,179.156-42.605 L308.106,203.905z",2,"fill","#F2484B"],["points","410.439,101.571 300.583,211.428 244.721,155.567 362.102,53.233 ",2,"fill","#D82F30"],["x","282.753","y","85.606","transform","matrix(-0.7071 -0.7071 0.7071 -0.7071 628.8279 463.6005)","width","255.352","height","31.919",2,"fill","#BD1515"],[1,"btn","btn-outline-primary",3,"click"],[1,"text-center","mb-4"],[1,"row","product-list"],["class","col-12 col-sm-6 col-md-4 col-lg-3 mb-4",4,"ngFor","ngForOf"],["aria-label","Page navigation"],[1,"pagination","justify-content-center"],[1,"page-item",3,"ngClass"],["aria-label","Previous",1,"page-link",3,"click"],["aria-hidden","true"],["class","page-item",3,"ngClass",4,"ngFor","ngForOf"],["aria-label","Next",1,"page-link",3,"click"],[1,"col-12","col-sm-6","col-md-4","col-lg-3","mb-4"],[1,"card"],[1,"card-img-top",3,"src","alt"],[1,"card-body","text-center"],[1,"card-title"],[1,"card-text"],[1,"btn","btn-primary",3,"click"],[1,"page-link",3,"click"]],template:function(i,o){i&1&&(I(0,"div",0),se(1,"app-carousel"),I(2,"input",1),Ae("ngModelChange",function(a){return Pe(o.searchText,a)||(o.searchText=a),a}),B("ngModelChange",function(){return o.onSearchTextChange()}),C(),I(3,"button",2),B("click",function(){return o.toggleSidebar()}),fc(),I(4,"svg",3),se(5,"rect",4)(6,"rect",5)(7,"circle",6)(8,"circle",7)(9,"circle",8)(10,"rect",9)(11,"rect",10)(12,"rect",11)(13,"rect",12),C()(),Mm(),I(14,"div",0)(15,"div",13)(16,"div",14)(17,"h4"),R(18,"\u0424\u0456\u043B\u044C\u0442\u0440\u0438"),C()(),I(19,"div",14)(20,"div",15)(21,"input",16),Ae("ngModelChange",function(a){return Pe(o.isSidebarPinned,a)||(o.isSidebarPinned=a),a}),B("change",function(){return o.updateSidebarMode()}),C(),I(22,"label",17),fc(),I(23,"svg",18),se(24,"g",19)(25,"g",20),I(26,"g",21),se(27,"rect",22)(28,"path",23)(29,"polygon",24)(30,"path",25)(31,"polygon",26)(32,"rect",27),C()()()()(),Mm(),I(33,"button",28),B("click",function(){return o.filterByCategory("all")}),R(34,"\u0423\u0441\u0456"),C(),I(35,"button",28),B("click",function(){return o.filterByCategory("\u041B\u0456\u0445\u0442\u0430\u0440\u0438\u043A\u0438")}),R(36,"\u041B\u0456\u0445\u0442\u0430\u0440\u0438\u043A\u0438"),C(),I(37,"button",28),B("click",function(){return o.filterByCategory("\u0420\u043E\u0437\u0443\u043C\u043D\u0456 \u0413\u043E\u0434\u0438\u043D\u043D\u0438\u043A\u0438")}),R(38,"\u0420\u043E\u0437\u0443\u043C\u043D\u0456 \u0413\u043E\u0434\u0438\u043D\u043D\u0438\u043A\u0438"),C(),I(39,"button",28),B("click",function(){return o.filterByCategory("\u041D\u0430\u0432\u0443\u0448\u043D\u0438\u043A\u0438")}),R(40,"\u041D\u0430\u0432\u0443\u0448\u043D\u0438\u043A\u0438"),C(),I(41,"button",28),B("click",function(){return o.filterByCategory("\u0422\u0443\u0440\u0438\u0441\u0442\u0438\u0447\u043D\u0456 \u041A\u0430\u043C\u0435\u0440\u0438")}),R(42,"\u0422\u0443\u0440\u0438\u0441\u0442\u0438\u0447\u043D\u0456 \u041A\u0430\u043C\u0435\u0440\u0438"),C(),I(43,"button",28),B("click",function(){return o.filterByCategory("\u041D\u0430\u043C\u0435\u0442\u0438")}),R(44,"\u041D\u0430\u043C\u0435\u0442\u0438"),C()(),I(45,"div",29)(46,"button",28),B("click",function(){return o.filterByCategory("all")}),R(47,"\u0423\u0441\u0456"),C(),I(48,"button",28),B("click",function(){return o.filterByCategory("\u041B\u0456\u0445\u0442\u0430\u0440\u0438\u043A\u0438")}),R(49,"\u041B\u0456\u0445\u0442\u0430\u0440\u0438\u043A\u0438"),C(),I(50,"button",28),B("click",function(){return o.filterByCategory("\u0420\u043E\u0437\u0443\u043C\u043D\u0456 \u0413\u043E\u0434\u0438\u043D\u043D\u0438\u043A\u0438")}),R(51,"\u0420\u043E\u0437\u0443\u043C\u043D\u0456 \u0413\u043E\u0434\u0438\u043D\u043D\u0438\u043A\u0438"),C(),I(52,"button",28),B("click",function(){return o.filterByCategory("\u041D\u0430\u0432\u0443\u0448\u043D\u0438\u043A\u0438")}),R(53,"\u041D\u0430\u0432\u0443\u0448\u043D\u0438\u043A\u0438"),C(),I(54,"button",28),B("click",function(){return o.filterByCategory("\u0422\u0443\u0440\u0438\u0441\u0442\u0438\u0447\u043D\u0456 \u041A\u0430\u043C\u0435\u0440\u0438")}),R(55,"\u0422\u0443\u0440\u0438\u0441\u0442\u0438\u0447\u043D\u0456 \u041A\u0430\u043C\u0435\u0440\u0438"),C(),I(56,"button",28),B("click",function(){return o.filterByCategory("\u041D\u0430\u043C\u0435\u0442\u0438")}),R(57,"\u041D\u0430\u043C\u0435\u0442\u0438"),C()(),I(58,"div",30),ke(59,sq,10,5,"div",31),C(),I(60,"nav",32)(61,"ul",33)(62,"li",34)(63,"a",35),B("click",function(){return o.changePage(o.currentPage-1)}),I(64,"span",36),R(65,"\xAB"),C()()(),ke(66,aq,3,4,"li",37),I(67,"li",34)(68,"a",38),B("click",function(){return o.changePage(o.currentPage+1)}),I(69,"span",36),R(70,"\xBB"),C()()()()()()()),i&2&&(O(2),Se("ngModel",o.searchText),O(12),sn("sidebar-pinned",o.isSidebarPinned),O(),sn("visible",o.isSidebarVisible||o.isSidebarPinned)("pinned",o.isSidebarPinned),O(6),Se("ngModel",o.isSidebarPinned),O(37),sn("sidebar-pinned",o.isSidebarPinned),O(),ne("ngForOf",o.getPaginatedProducts()),O(3),ne("ngClass",Rd(14,fR,o.currentPage===1)),O(4),ne("ngForOf",o.pages),O(),ne("ngClass",Rd(16,fR,o.currentPage===o.totalPages)))},dependencies:[St,xT,Mi,vr,En,Lu,yr,Hn,hR],styles:[".card[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;height:100%;overflow:hidden;background-color:#fff;color:#333;border:1px solid #ddd;border-radius:.375rem;transition:all .3s ease}.card-img-top[_ngcontent-%COMP%]{height:150px;object-fit:cover}.card-body[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center;text-align:center}.card-title[_ngcontent-%COMP%]{font-size:1rem}.card-text[_ngcontent-%COMP%]{font-size:.875rem}.carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:50vh;object-fit:cover}.btn-outline-primary[_ngcontent-%COMP%]{margin:.25rem}.pagination[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{padding:.4rem .8rem}.page-link[_ngcontent-%COMP%]{cursor:pointer}@media (max-width: 576px){.card-img-top[_ngcontent-%COMP%]{height:120px}.carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:40vh}.card-body[_ngcontent-%COMP%]{padding:.5rem}.card-title[_ngcontent-%COMP%]{font-size:.9rem}.card-text[_ngcontent-%COMP%]{font-size:.8rem}.row.product-list[_ngcontent-%COMP%]   .col-12[_ngcontent-%COMP%]{flex:0 0 100%;max-width:100%}}@media (max-width: 768px){.row.product-list[_ngcontent-%COMP%]   .col-12[_ngcontent-%COMP%]{flex:0 0 50%;max-width:50%}}@media (max-width: 576px){.sidebar[_ngcontent-%COMP%]{width:160px;font-size:.8rem}.sidebar[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem}.sidebar[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-size:.8rem;padding:.3rem .6rem}.product-list.sidebar-pinned[_ngcontent-%COMP%]{margin-right:180px}.container-fluid.sidebar-pinned[_ngcontent-%COMP%]{margin-left:180px}}@media (min-width: 992px){.col-md-2[_ngcontent-%COMP%]{flex:0 0 20%;max-width:20%}}@media (orientation: portrait){.carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:30vh}}@media (orientation: landscape){.carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:50vh}}.sidebar-toggle.left-toggle[_ngcontent-%COMP%]{left:20px;top:76px}.sidebar-toggle[_ngcontent-%COMP%]{position:fixed;top:76px;left:20px;z-index:1000;color:#fff;border:none;border-radius:50%;width:50px;height:50px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .3s ease}.sidebar-header[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.pin-sidebar-option[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer}.sidebar-toggle[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.sidebar-toggle[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{fill:#fff;transition:transform .3s ease}.sidebar-toggle[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{transform:scale(1.1)}.sidebar[_ngcontent-%COMP%]{position:fixed;top:66px;left:-100%;width:300px;height:calc(100% - 69px);background:#fff;box-shadow:4px 0 8px #0003;padding:20px;transition:left .3s ease;overflow-y:auto;overflow-x:hidden;z-index:999}.sidebar.visible[_ngcontent-%COMP%]{left:0}.sidebar[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:15px;font-size:1.2rem;color:#333}.sidebar[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{display:block;width:100%;margin-bottom:10px}.sidebar.pinned[_ngcontent-%COMP%]{position:fixed;left:0;top:66px;height:calc(100% - 66px)}.product-list.sidebar-pinned[_ngcontent-%COMP%]{margin-right:320px}.pin-sidebar-option[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-left:5px;font-size:.9rem}.container-fluid.sidebar-pinned[_ngcontent-%COMP%]{margin-left:320px}.container-fluid[_ngcontent-%COMP%]{padding:0 15px}.row[_ngcontent-%COMP%]{margin:0 -15px}"]});let t=e;return t})();var gR=(()=>{let e=class e{constructor(r){this.http=r,this.apiUrl="https://api.novaposhta.ua/v2.0/json/",this.apiKey="86dfb7dfe2f6e8659419fc64edcc4814"}getRegions(){let r={apiKey:this.apiKey,modelName:"Address",calledMethod:"getAreas",methodProperties:{}};return this.http.post(this.apiUrl,r)}getCities(r){let i={apiKey:this.apiKey,modelName:"Address",calledMethod:"getCities",methodProperties:{AreaRef:r}};return this.http.post(this.apiUrl,i)}getWarehouses(r){let i={apiKey:this.apiKey,modelName:"AddressGeneral",calledMethod:"getWarehouses",methodProperties:{CityRef:r}};return this.http.post(this.apiUrl,i)}};e.\u0275fac=function(i){return new(i||e)(q(by))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function uq(t,e){if(t&1){let n=ct();I(0,"div",30),se(1,"img",31),I(2,"h4",32),R(3),C(),I(4,"p",33),R(5),C(),I(6,"div",34)(7,"button",35),B("click",function(){let i=Q(n).$implicit,o=J();return Y(o.increaseQuantity(i.product.id))}),R(8,"+"),C(),I(9,"span",36),R(10),C(),I(11,"button",35),B("click",function(){let i=Q(n).$implicit,o=J();return Y(o.decreaseQuantity(i.product.id))}),R(12,"-"),C()(),I(13,"div",37)(14,"p",7),R(15),C()(),I(16,"button",38),B("click",function(){let i=Q(n).$implicit,o=J();return Y(o.removeFromCart(i.product.id))}),R(17,"\u041F\u0440\u0438\u0431\u0440\u0430\u0442\u0438"),C()()}if(t&2){let n=e.$implicit,r=J();O(),kr("alt",n.product.name),ne("src",n.product.imageUrl,Rn),O(2),$e(n.product.name),O(2),Fr("",n.product.price," ",r.currency,""),O(5),$e(n.quantity),O(5),Fr("\u0417\u0430\u0433\u0430\u043B\u044C\u043D\u0430 \u0441\u0443\u043C\u0430 \u0442\u043E\u0432\u0430\u0440\u0443: ",n.product.price*n.quantity," ",r.currency,"")}}function lq(t,e){t&1&&(I(0,"small",39),R(1,"\u041D\u0435\u043A\u043E\u0440\u0435\u043A\u0442\u043D\u0438\u0439 \u0444\u043E\u0440\u043C\u0430\u0442. \u0412\u0438\u043A\u043E\u0440\u0438\u0441\u0442\u043E\u0432\u0443\u0439\u0442\u0435 \u0442\u0456\u043B\u044C\u043A\u0438 \u0431\u0443\u043A\u0432\u0438."),C())}function dq(t,e){if(t&1&&(I(0,"small",39),R(1),C()),t&2){J();let n=mc(18);O(),$e(n.errors==null?null:n.errors.customError)}}function hq(t,e){if(t&1&&(I(0,"option",40),R(1),C()),t&2){let n=e.$implicit;ne("value",n.Ref),O(),On(" ",n.Description," ")}}function fq(t,e){if(t&1&&(I(0,"option",40),R(1),C()),t&2){let n=e.$implicit;ne("value",n.Ref),O(),On(" ",n.Description," ")}}function pq(t,e){if(t&1&&(I(0,"option",40),R(1),C()),t&2){let n=e.$implicit;ne("value",n.Ref),O(),On(" ",n.Description," ")}}function gq(t,e){if(t&1){let n=ct();I(0,"div",41),B("click",function(){Q(n);let i=J();return Y(i.closeConfirmation())}),I(1,"div",42),B("click",function(i){return Q(n),Y(i.stopPropagation())}),I(2,"p",43),R(3,"\u0412\u0430\u0448 \u0442\u043E\u0432\u0430\u0440 \u043E\u0444\u043E\u0440\u043C\u043B\u0435\u043D\u0438\u0439, \u0434\u044F\u043A\u0443\u0454\u043C\u043E \u0437\u0430 \u043F\u043E\u043A\u0443\u043F\u043A\u0443!"),C(),I(4,"button",44),B("click",function(){Q(n);let i=J();return Y(i.closeConfirmation())}),R(5,"\u0417\u0430\u043A\u0440\u0438\u0442\u0438"),C()()()}}var mR=(()=>{let e=class e{constructor(r,i){this.cartService=r,this.novaposhtaService=i,this.cartItems=[],this.totalAmount=0,this.currency="$",this.showConfirmation=!1,this.order={recipientName:"",phone:"",region:"",city:"",delivery:"",payment:""},this.regions=[],this.cities=[],this.warehouses=[],this.filteredRegions=[],this.filteredCities=[]}ngOnInit(){this.cartService.getCartItems().subscribe(r=>{this.cartItems=r,this.updateTotalAmount()}),this.loadRegions()}loadRegions(){this.novaposhtaService.getRegions().subscribe({next:r=>{this.regions=r.data||[],this.filteredRegions=[...this.regions]},error:r=>console.error("\u041F\u043E\u043C\u0438\u043B\u043A\u0430 \u0437\u0430\u0432\u0430\u043D\u0442\u0430\u0436\u0435\u043D\u043D\u044F \u0440\u0435\u0433\u0456\u043E\u043D\u0456\u0432:",r)})}onRegionChange(r){r&&(this.order.region=r,this.cities=[],this.warehouses=[],this.novaposhtaService.getCities(r).subscribe({next:i=>{this.cities=i.data||[],this.filteredCities=[...this.cities]},error:i=>console.error("\u041F\u043E\u043C\u0438\u043B\u043A\u0430 \u0437\u0430\u0432\u0430\u043D\u0442\u0430\u0436\u0435\u043D\u043D\u044F \u043C\u0456\u0441\u0442:",i)}))}loadCities(){this.novaposhtaService.getCities("").subscribe(r=>{this.cities=r.data})}onCityChange(r){let o=r.target?.value;o&&(this.order.city=o,this.warehouses=[],this.novaposhtaService.getWarehouses(o).subscribe({next:s=>{this.warehouses=s.data.map(a=>({Ref:a.Ref,Description:a.Description}))||[]},error:s=>console.error("\u041F\u043E\u043C\u0438\u043B\u043A\u0430 \u0437\u0430\u0432\u0430\u043D\u0442\u0430\u0436\u0435\u043D\u043D\u044F \u0432\u0456\u0434\u0434\u0456\u043B\u0435\u043D\u044C:",s)}))}filterRegions(r){this.filteredRegions=this.regions.filter(i=>i.Description.toLowerCase().includes(r.toLowerCase()))}filterCities(r){this.filteredCities=this.cities.filter(i=>i.Description.toLowerCase().includes(r.toLowerCase()))}updateTotalAmount(){this.cartService.getTotalAmount().subscribe(r=>this.totalAmount=r)}increaseQuantity(r){this.cartService.increaseQuantity(r),this.updateTotalAmount()}decreaseQuantity(r){this.cartService.decreaseQuantity(r),this.updateTotalAmount()}removeFromCart(r){this.cartService.removeFromCart(r),this.updateTotalAmount()}checkout(){this.cartService.checkout().subscribe(()=>{this.cartItems=[],this.totalAmount=0},r=>{console.error("Checkout error",r)})}submitOrder(){if(this.validateOrder()){let r=ye(U({},this.order),{region:this.regions.find(i=>i.Ref===this.order.region)?.Description||"",city:this.cities.find(i=>i.Ref===this.order.city)?.Description||"",delivery:this.warehouses.find(i=>i.Ref===this.order.delivery)?.Description||"",items:this.cartItems,totalAmount:this.totalAmount,createdAt:rt.now()});this.cartService.submitOrder(r).then(()=>{this.showConfirmation=!0,this.cartItems=[],this.totalAmount=0,this.order={recipientName:"",phone:"",region:"",city:"",delivery:"",payment:""}}).catch(i=>{console.error("Error submitting order:",i),alert("\u041D\u0435 \u0432\u0434\u0430\u043B\u043E\u0441\u044F \u043E\u0444\u043E\u0440\u043C\u0438\u0442\u0438 \u0437\u0430\u043C\u043E\u0432\u043B\u0435\u043D\u043D\u044F. \u0421\u043F\u0440\u043E\u0431\u0443\u0439\u0442\u0435 \u043F\u0456\u0437\u043D\u0456\u0448\u0435.")})}}closeConfirmation(){this.showConfirmation=!1}formatPhone(r){let i=r.replace(/[^\d]/g,"");return i.length===12?`+${i}`:i}onPhoneInput(r){let i=r.target,o=i.value,s=o.replace(/[^\d]/g,"");s.length>12&&(o=s.slice(0,12)),i.value=this.formatPhone(o),this.order.phone=i.value}validatePhone(){let r=/^\+\d{12}$/;return this.order.phone.replace(/[^\d]/g,"").length!==12?"\u041D\u0435\u043A\u043E\u0440\u0435\u043A\u0442\u043D\u0438\u0439 \u0444\u043E\u0440\u043C\u0430\u0442 \u0442\u0435\u043B\u0435\u0444\u043E\u043D\u0443. \u0412\u0432\u0435\u0434\u0456\u0442\u044C 12 \u0446\u0438\u0444\u0440.":r.test(this.order.phone)?null:"\u041D\u0435\u043A\u043E\u0440\u0435\u043A\u0442\u043D\u0438\u0439 \u0444\u043E\u0440\u043C\u0430\u0442 \u0442\u0435\u043B\u0435\u0444\u043E\u043D\u0443. \u0412\u0438\u043A\u043E\u0440\u0438\u0441\u0442\u043E\u0432\u0443\u0439\u0442\u0435 \u0444\u043E\u0440\u043C\u0430\u0442: +380000000000."}validateRecipientName(r){let i=r.target;/^[a-zA-Z--\s]*$/.test(i.value)||(i.value=i.value.replace(/[^a-zA-Z--\s]/g,""))}updateCart(){this.cartService.getCartItems().subscribe(r=>{this.cartItems=r,this.calculateTotal()})}calculateTotal(){this.totalAmount=this.cartItems.reduce((r,i)=>r+i.product.price*i.quantity,0)}validateOrder(){return!this.order.region||!this.order.city||!this.order.delivery?(alert("\u0411\u0443\u0434\u044C \u043B\u0430\u0441\u043A\u0430, \u0437\u0430\u043F\u043E\u0432\u043D\u0456\u0442\u044C \u0432\u0441\u0456 \u043F\u043E\u043B\u044F!"),!1):!0}};e.\u0275fac=function(i){return new(i||e)($(Ca),$(gR))},e.\u0275cmp=Je({type:e,selectors:[["app-cart"]],standalone:!0,features:[Ze],decls:51,vars:14,consts:[["orderForm","ngForm"],["recipientName","ngModel"],["phone","ngModel"],["payment","ngModel"],[1,"container"],["class","cart-item d-flex align-items-center justify-content-between border rounded mb-3 p-3",4,"ngFor","ngForOf"],[1,"text-center","mt-4"],[1,"font-weight-bold"],[1,"mt-4",3,"ngSubmit"],[1,"form-group"],["for","recipientName"],["type","text","id","recipientName","name","recipientName","required","","placeholder","\u041F\u0440\u0456\u0437\u0432\u0438\u0449\u0435 \u0406\u043C'\u044F \u041F\u043E\u0431\u0430\u0442\u044C\u043A\u043E\u0432\u0456",1,"form-control",3,"ngModelChange","input","ngModel"],["class","text-danger",4,"ngIf"],["for","phone"],["type","tel","id","phone","name","phone","required","","placeholder","+380000000000",1,"form-control",3,"ngModelChange","input","ngModel"],["for","region"],["id","region","name","region",1,"form-control",3,"ngModelChange","change","ngModel"],[3,"value",4,"ngFor","ngForOf"],["for","city"],["id","city","name","city",1,"form-control",3,"ngModelChange","change","ngModel"],["for","warehouse"],["id","warehouse","name","warehouse",1,"form-control",3,"ngModelChange","ngModel"],["for","payment"],["id","payment","name","payment","required","",1,"form-control",3,"ngModelChange","ngModel"],["value","","disabled","","selected",""],["value","pay-now"],["value","invoice"],["value","installments"],["type","submit",1,"btn","btn-success","btn-block",3,"disabled"],["class","confirmation-overlay",3,"click",4,"ngIf"],[1,"cart-item","d-flex","align-items-center","justify-content-between","border","rounded","mb-3","p-3"],[1,"cart-item-image",3,"src","alt"],[1,"cart-item-name","font-weight-bold"],[1,"cart-item-price"],[1,"quantity-control","d-flex","align-items-center"],[1,"btn","btn-outline-primary","btn-sm",3,"click"],[1,"mx-2"],[1,"total-row"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"text-danger"],[3,"value"],[1,"confirmation-overlay",3,"click"],[1,"confirmation-content",3,"click"],[1,"confirmation-text"],[1,"btn","btn-success",3,"click"]],template:function(i,o){if(i&1){let s=ct();I(0,"div",4)(1,"div",4),ke(2,uq,18,8,"div",5),C(),I(3,"div",6)(4,"h2",7),R(5,"\u0417\u0430\u043C\u043E\u0432\u043B\u0435\u043D\u043D\u044F"),C(),I(6,"form",8,0),B("ngSubmit",function(){return Q(s),Y(o.submitOrder())}),I(8,"div",9)(9,"label",10),R(10,"\u041E\u0442\u0440\u0438\u043C\u0443\u0432\u0430\u0447:"),C(),I(11,"input",11,1),Ae("ngModelChange",function(u){return Q(s),Pe(o.order.recipientName,u)||(o.order.recipientName=u),Y(u)}),B("input",function(u){return Q(s),Y(o.validateRecipientName(u))}),C(),ke(13,lq,2,0,"small",12),C(),I(14,"div",9)(15,"label",13),R(16,"\u041C\u043E\u0431\u0456\u043B\u044C\u043D\u0438\u0439 \u0442\u0435\u043B\u0435\u0444\u043E\u043D:"),C(),I(17,"input",14,2),Ae("ngModelChange",function(u){return Q(s),Pe(o.order.phone,u)||(o.order.phone=u),Y(u)}),B("input",function(u){return Q(s),Y(o.onPhoneInput(u))}),C(),ke(19,dq,2,1,"small",12),C(),I(20,"div",9)(21,"label",15),R(22,"\u041E\u0431\u0435\u0440\u0456\u0442\u044C \u0440\u0435\u0433\u0456\u043E\u043D:"),C(),I(23,"select",16),Ae("ngModelChange",function(u){return Q(s),Pe(o.order.region,u)||(o.order.region=u),Y(u)}),B("change",function(){return Q(s),Y(o.onRegionChange(o.order.region))}),ke(24,hq,2,2,"option",17),C()(),I(25,"div",9)(26,"label",18),R(27,"\u041E\u0431\u0435\u0440\u0456\u0442\u044C \u043C\u0456\u0441\u0442\u043E:"),C(),I(28,"select",19),Ae("ngModelChange",function(u){return Q(s),Pe(o.order.city,u)||(o.order.city=u),Y(u)}),B("change",function(u){return Q(s),Y(o.onCityChange(u))}),ke(29,fq,2,2,"option",17),C()(),I(30,"div",9)(31,"label",20),R(32,"\u041E\u0431\u0435\u0440\u0456\u0442\u044C \u0432\u0456\u0434\u0434\u0456\u043B\u0435\u043D\u043D\u044F:"),C(),I(33,"select",21),Ae("ngModelChange",function(u){return Q(s),Pe(o.order.delivery,u)||(o.order.delivery=u),Y(u)}),ke(34,pq,2,2,"option",17),C()(),I(35,"div",9)(36,"label",22),R(37,"\u041E\u043F\u043B\u0430\u0442\u0430:"),C(),I(38,"select",23,3),Ae("ngModelChange",function(u){return Q(s),Pe(o.order.payment,u)||(o.order.payment=u),Y(u)}),I(40,"option",24),R(41,"\u041E\u0431\u0435\u0440\u0456\u0442\u044C \u0441\u043F\u043E\u0441\u0456\u0431 \u043E\u043F\u043B\u0430\u0442\u0438"),C(),I(42,"option",25),R(43,"\u041E\u043F\u043B\u0430\u0442\u0438\u0442\u0438 \u0437\u0430\u0440\u0430\u0437"),C(),I(44,"option",26),R(45,"\u0411\u0435\u0437\u0433\u043E\u0442\u0456\u0432\u043A\u043E\u0432\u0438\u0439 \u0440\u0430\u0445\u0443\u043D\u043E\u043A"),C(),I(46,"option",27),R(47,"\u041E\u043F\u043B\u0430\u0442\u0430 \u0447\u0430\u0441\u0442\u0438\u043D\u0430\u043C\u0438"),C()()(),I(48,"button",28),R(49," \u041E\u0444\u043E\u0440\u043C\u0438\u0442\u0438 \u043F\u043E\u043A\u0443\u043F\u043A\u0443 "),C()()(),ke(50,gq,6,0,"div",29),C()}if(i&2){let s=mc(7),a=mc(12),u=mc(18);O(2),ne("ngForOf",o.cartItems),O(9),Se("ngModel",o.order.recipientName),O(2),ne("ngIf",a.invalid&&a.touched),O(4),Se("ngModel",o.order.phone),O(2),ne("ngIf",u.errors==null?null:u.errors.customError),O(4),Se("ngModel",o.order.region),O(),ne("ngForOf",o.filteredRegions),O(4),Se("ngModel",o.order.city),O(),ne("ngForOf",o.filteredCities),O(4),Se("ngModel",o.order.delivery),O(),ne("ngForOf",o.warehouses),O(4),Se("ngModel",o.order.payment),O(10),ne("disabled",!s.valid),O(2),ne("ngIf",o.showConfirmation)}},dependencies:[St,Mi,nr,vr,Pa,Zf,Xf,En,Ra,yr,xa,Ko,Hn,Wo],styles:[".form-control[_ngcontent-%COMP%]{border-radius:.25rem;border:1px solid #ced4da}label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:.5rem;display:block}select[_ngcontent-%COMP%]:invalid{color:gray}select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]:first-child{display:none}.btn-success[_ngcontent-%COMP%]:hover{background-color:#218838}#city[_ngcontent-%COMP%], #warehouse[_ngcontent-%COMP%]{text-transform:capitalize}.total-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;width:100%}.total-row[_ngcontent-%COMP%]   .font-weight-bold[_ngcontent-%COMP%]{margin:0;text-align:left;flex:1}.cart-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;background-color:#f9f9f9;padding:15px}.cart-item[_ngcontent-%COMP%]   .btn-danger[_ngcontent-%COMP%]{margin-left:auto}.cart-item-image[_ngcontent-%COMP%]{width:60px;height:60px;object-fit:cover;margin-right:15px}.cart-item-name[_ngcontent-%COMP%]{font-size:1rem;flex:1;margin:0 15px}.quantity-control[_ngcontent-%COMP%]{display:flex;align-items:center;margin-right:15px}.font-weight-bold[_ngcontent-%COMP%]{margin-right:15px}.btn-danger[_ngcontent-%COMP%]{margin-left:15px}@media (max-width: 768px){.cart-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.cart-item-image[_ngcontent-%COMP%]{margin-bottom:10px}.cart-item-name[_ngcontent-%COMP%], .font-weight-bold[_ngcontent-%COMP%], .quantity-control[_ngcontent-%COMP%]{margin:10px 0}.btn-danger[_ngcontent-%COMP%]{margin-top:10px}}.cart-item-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.cart-item-details[_ngcontent-%COMP%]   .font-weight-bold[_ngcontent-%COMP%]{margin-top:10px}.cart-item[_ngcontent-%COMP%]{background-color:#f9f9f9}#btn[_ngcontent-%COMP%]{width:90px}#img[_ngcontent-%COMP%]{margin:15px}#total[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px}.cart-item-image[_ngcontent-%COMP%]{width:80px;height:80px;object-fit:cover}.cart-item-name[_ngcontent-%COMP%]{font-size:1.2rem}.cart-item-price[_ngcontent-%COMP%]{font-size:1rem;color:#333}.quantity-control[_ngcontent-%COMP%]{margin-top:.5rem}.quantity-control[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:30px;height:30px}.btn-danger[_ngcontent-%COMP%]{background-color:#dc3545;border-color:#dc3545}.btn-danger[_ngcontent-%COMP%]:hover{background-color:#c82333;border-color:#bd2130}.confirmation-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center}.confirmation-content[_ngcontent-%COMP%]{background-color:#fff;padding:2rem;border-radius:5px;text-align:center;animation:_ngcontent-%COMP%_fadeIn .3s ease-in}.confirmation-text[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:1rem}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.form-control[_ngcontent-%COMP%]{border-radius:.25rem;border-color:#ced4da}.btn-success[_ngcontent-%COMP%]{background-color:#28a745;border-color:#28a745}.btn-success[_ngcontent-%COMP%]:hover{background-color:#218838;border-color:#1e7e34}.confirmation-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.confirmation-content[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:8px;text-align:center}.confirmation-text[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:20px}.container[_ngcontent-%COMP%]{padding:1rem}.cart-item[_ngcontent-%COMP%]{margin-bottom:1rem}.btn[_ngcontent-%COMP%]{width:auto}@media (max-width: 768px){.cart-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.cart-item-image[_ngcontent-%COMP%]{width:100px;height:100px}.cart-item-name[_ngcontent-%COMP%]{font-size:1rem}.cart-item-price[_ngcontent-%COMP%]{font-size:.9rem}.quantity-control[_ngcontent-%COMP%]{margin-top:1rem;flex-direction:column}.quantity-control[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:40px;height:40px}.btn-danger[_ngcontent-%COMP%], .btn-success[_ngcontent-%COMP%]{width:100%}#btn[_ngcontent-%COMP%]{width:100%;margin-top:.5rem}#img[_ngcontent-%COMP%], #total[_ngcontent-%COMP%]{margin:10px 0}.confirmation-content[_ngcontent-%COMP%]{width:90%;max-width:400px;padding:1rem}}@media (min-width: 769px) and (max-width: 1024px){.cart-item[_ngcontent-%COMP%]{flex-direction:row}.cart-item-image[_ngcontent-%COMP%]{width:100px;height:100px}.cart-item-name[_ngcontent-%COMP%]{font-size:1.1rem}.cart-item-price[_ngcontent-%COMP%]{font-size:.95rem}.quantity-control[_ngcontent-%COMP%]{margin-top:.5rem;flex-direction:row}.quantity-control[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:35px;height:35px}}"]});let t=e;return t})();var yR=(()=>{let e=class e{constructor(r){this.sanitizer=r}transform(r){return this.sanitizer.bypassSecurityTrustHtml(r)}};e.\u0275fac=function(i){return new(i||e)($(Oy,16))},e.\u0275pipe=pd({name:"sanitizeHtml",type:e,pure:!0,standalone:!0});let t=e;return t})();function mq(t,e){if(t&1&&se(0,"img",24),t&2){let n=J(2);ne("src",n.selectedImage,Rn)}}function yq(t,e){if(t&1){let n=ct();I(0,"img",25),B("click",function(){let i=Q(n).index,o=J(2);return Y(o.selectImageByIndex(i))}),C()}if(t&2){let n=e.$implicit,r=e.index,i=J(2);sn("active",r===i.currentImageIndex),ne("src",n,Rn)}}function vq(t,e){if(t&1&&(I(0,"div",26)(1,"p",27),R(2),C(),I(3,"small",28),R(4),ry(5,"date"),C()()),t&2){let n=e.$implicit;O(2),$e(n.text),O(2),$e(sT(5,2,n.timestamp,"dd.MM.yyyy HH:mm"))}}function _q(t,e){if(t&1){let n=ct();I(0,"div",29),B("click",function(){Q(n);let i=J(2);return Y(i.closeModal())}),I(1,"div",30),B("click",function(i){return Q(n),Y(i.stopPropagation())}),I(2,"div",31)(3,"h4",32),R(4,"\u041A\u043E\u0448\u0438\u043A"),C(),I(5,"button",33),B("click",function(){Q(n);let i=J(2);return Y(i.closeModal())}),R(6,"\xD7"),C()(),I(7,"div",34)(8,"div",35),se(9,"img",36),I(10,"div",37)(11,"h5"),R(12),C(),I(13,"p",38),R(14),C(),I(15,"div",39)(16,"button",40),B("click",function(){Q(n);let i=J(2);return Y(i.decreaseQuantity())}),R(17,"-"),C(),I(18,"span",41),R(19),C(),I(20,"button",40),B("click",function(){Q(n);let i=J(2);return Y(i.increaseQuantity())}),R(21,"+"),C()()()(),I(22,"div",42)(23,"button",43),B("click",function(){Q(n);let i=J(2);return Y(i.addToCart())}),R(24,"\u041E\u0444\u043E\u0440\u043C\u0438\u0442\u0438 \u0437\u0430\u043C\u043E\u0432\u043B\u0435\u043D\u043D\u044F"),C()()()()()}if(t&2){let n=J(2);O(9),kr("alt",n.product.name),ne("src",n.product.imageUrl,Rn),O(3),$e(n.product.name),O(2),Fr("\u0417\u0430\u0433\u0430\u043B\u044C\u043D\u0430 \u0441\u0443\u043C\u0430: ",n.totalPrice," ",n.currency,""),O(5),$e(n.quantity)}}function wq(t,e){if(t&1){let n=ct();I(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"button",5),B("click",function(){Q(n);let i=J();return Y(i.previousImage())}),R(5,"<"),C(),ke(6,mq,1,1,"img",6),I(7,"button",7),B("click",function(){Q(n);let i=J();return Y(i.nextImage())}),R(8,">"),C(),I(9,"div",8),ke(10,yq,1,3,"img",9),C()()(),I(11,"div",3)(12,"h3",10),R(13),C(),I(14,"p",11),R(15,"\u0404 \u0432 \u043D\u0430\u044F\u0432\u043D\u043E\u0441\u0442\u0456"),C(),I(16,"p",12),R(17),C(),I(18,"button",13),B("click",function(){Q(n);let i=J();return Y(i.openModal())}),R(19,"\u041A\u0443\u043F\u0438\u0442\u0438"),C(),I(20,"button",14),B("click",function(){Q(n);let i=J();return Y(i.goBack())}),R(21,"\u041D\u0430\u0437\u0430\u0434"),C(),I(22,"h4",15),R(23,"\u041E\u043F\u0438\u0441 \u0442\u043E\u0432\u0430\u0440\u0443"),C(),I(24,"p",16),R(25),C(),I(26,"div",17)(27,"h4"),R(28,"\u041F\u043E\u0432\u043D\u0430 \u0445\u0430\u0440\u0430\u043A\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043A\u0430:"),C(),se(29,"div",18),ry(30,"sanitizeHtml"),C(),I(31,"h4",19),R(32,"\u041A\u043E\u043C\u0435\u043D\u0442\u0430\u0440\u0456:"),C(),ke(33,vq,6,5,"div",20),I(34,"textarea",21),Ae("ngModelChange",function(i){Q(n);let o=J();return Pe(o.newComment,i)||(o.newComment=i),Y(i)}),C(),I(35,"button",22),B("click",function(){Q(n);let i=J();return Y(i.addComment())}),R(36,"\u0414\u043E\u0434\u0430\u0442\u0438 \u043A\u043E\u043C\u0435\u043D\u0442\u0430\u0440"),C()()(),ke(37,_q,25,6,"div",23),C()}if(t&2){let n=J();O(6),ne("ngIf",n.selectedImage),O(4),ne("ngForOf",n.getImageUrls()),O(3),$e(n.product.name),O(4),Fr("",n.product.price," ",n.currency,""),O(8),$e(n.product.description),O(4),ne("innerHTML",oT(30,10,n.product.fullDescription||""),rD),O(4),ne("ngForOf",n.comments),O(),Se("ngModel",n.newComment),O(3),ne("ngIf",n.showModal)}}var vR=(()=>{let e=class e{constructor(r,i,o,s){this.route=r,this.productService=i,this.cartService=o,this.router=s,this.comments=[],this.selectedImage=null,this.newComment="",this.currency="$",this.showModal=!1,this.quantity=1,this.isDarkMode=!1,this.currentImageIndex=0}ngOnInit(){let r=this.route.snapshot.paramMap.get("id");r&&this.productService.getProductById(r).subscribe(i=>{this.product=i,this.selectedImage=i.imageUrl,this.currentImageIndex=0,this.loadComments()})}selectImageByIndex(r){let i=this.getImageUrls();r>=0&&r<i.length&&(this.currentImageIndex=r,this.selectedImage=i[r])}previousImage(){let r=this.getImageUrls();this.currentImageIndex>0&&this.selectImageByIndex(this.currentImageIndex-1)}nextImage(){let r=this.getImageUrls();this.currentImageIndex<r.length-1&&this.selectImageByIndex(this.currentImageIndex+1)}selectImage(r){r&&(this.selectedImage=r)}getImageUrls(){if(!this.product)return[];let r=this.product.imageUrl?[this.product.imageUrl]:[],i=this.product.additionalImageUrls||[];return[...r,...i]}get totalPrice(){return this.product?this.product.price*this.quantity:0}openModal(){this.showModal=!0,this.isDarkMode&&document.querySelector(".modal-content")?.classList.add("dark-mode")}closeModal(){this.showModal=!1}addToCart(){this.product&&(this.cartService.addToCart(this.product,this.quantity),this.closeModal(),this.router.navigate(["/cart"]))}increaseQuantity(){this.quantity++}decreaseQuantity(){this.quantity>1&&this.quantity--}goBack(){this.router.navigate(["/"])}addComment(){if(this.newComment.trim()&&this.product&&this.product.id){let r=["\u043A\u043E\u043A\u043E\u0441","\u0431\u0430\u043D\u0430\u043D","\u043F\u043E\u0433\u0430\u043D\u0438\u0439","@"],i=this.newComment.replace(new RegExp(`(${r.map(o=>o.replace(/[.*+?^${}()|[\\]\\]/g,"\\$&")).join("|")})`,"gi"),o=>"*".repeat(o.length));this.productService.addComment(this.product.id,i).then(()=>{this.comments.push({text:i,timestamp:new Date().toISOString()}),this.newComment=""})}}loadComments(){this.product&&this.product.id&&this.productService.getComments(this.product.id).subscribe(r=>{this.comments=r.sort((i,o)=>new Date(o.timestamp).getTime()-new Date(i.timestamp).getTime())})}};e.\u0275fac=function(i){return new(i||e)($(ir),$(Na),$(Ca),$(wt))},e.\u0275cmp=Je({type:e,selectors:[["app-product"]],standalone:!0,features:[Ze],decls:1,vars:1,consts:[["class","product-container container",4,"ngIf"],[1,"product-container","container"],[1,"row"],[1,"col-md-6"],[1,"product-gallery"],[1,"gallery-button","prev-button",3,"click"],["alt","\u0417\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u043D\u044F \u043F\u0440\u043E\u0434\u0443\u043A\u0442\u0443","class","product-main-image",3,"src",4,"ngIf"],[1,"gallery-button","next-button",3,"click"],[1,"product-thumbnails"],["alt","\u041C\u0456\u043D\u0456\u0430\u0442\u044E\u0440\u0430","class","product-thumbnail",3,"src","active","click",4,"ngFor","ngForOf"],[1,"product-name"],[1,"product-stock"],[1,"product-price"],[1,"btn","btn-success","buy-button",3,"click"],[1,"btn","btn-secondary","back-button",3,"click"],[1,"product-description-title"],[1,"product-description"],[1,"product-details"],[1,"full-description",3,"innerHTML"],[1,"comments-title"],["class","comment",4,"ngFor","ngForOf"],["placeholder","\u041D\u0430\u043F\u0438\u0448\u0456\u0442\u044C \u0432\u0430\u0448 \u043A\u043E\u043C\u0435\u043D\u0442\u0430\u0440...",1,"form-control","comment-textarea",3,"ngModelChange","ngModel"],[1,"btn","btn-success","add-comment-button",3,"click"],["class","modal-overlay",3,"click",4,"ngIf"],["alt","\u0417\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u043D\u044F \u043F\u0440\u043E\u0434\u0443\u043A\u0442\u0443",1,"product-main-image",3,"src"],["alt","\u041C\u0456\u043D\u0456\u0430\u0442\u044E\u0440\u0430",1,"product-thumbnail",3,"click","src"],[1,"comment"],[1,"comment-text"],[1,"comment-timestamp"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"modal-title"],[1,"close-button",3,"click"],[1,"modal-body"],[1,"modal-product-info"],[1,"modal-product-image",3,"src","alt"],[1,"modal-product-details"],[1,"modal-product-total"],[1,"quantity-control"],[1,"quantity-button",3,"click"],[1,"quantity"],[1,"modal-footer"],[1,"btn","btn-success",3,"click"]],template:function(i,o){i&1&&ke(0,wq,38,12,"div",0),i&2&&ne("ngIf",o.product)},dependencies:[St,Mi,nr,PT,vr,En,yr,Hn,yR],styles:[".comment[_ngcontent-%COMP%]{margin-bottom:10px;padding:5px;border-bottom:1px solid #ddd}.comment-text[_ngcontent-%COMP%]{font-size:13px;line-height:1.4;margin:0;color:#333}.comment-timestamp[_ngcontent-%COMP%]{font-size:10px;color:#777;display:block;margin-top:2px;text-align:right;font-style:italic}.product-container[_ngcontent-%COMP%]{margin-top:20px}.product-name[_ngcontent-%COMP%]{font-weight:700;font-size:1.5rem;margin-bottom:10px}.product-stock[_ngcontent-%COMP%]{color:#28a745;font-size:.9rem;margin-bottom:15px}.product-price[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:20px}.buy-button[_ngcontent-%COMP%], .back-button[_ngcontent-%COMP%], .add-comment-button[_ngcontent-%COMP%]{margin-right:10px;transition:background-color .3s,transform .2s}.buy-button[_ngcontent-%COMP%]:hover{background-color:#218838;transform:scale(1.05)}.back-button[_ngcontent-%COMP%]:hover{background-color:#6c757d;transform:scale(1.05)}.product-description-title[_ngcontent-%COMP%], .comments-title[_ngcontent-%COMP%]{text-align:center;margin-top:20px}.product-description[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}.comment[_ngcontent-%COMP%]{border-bottom:1px solid #dee2e6;padding-bottom:10px;margin-bottom:10px}.comment-textarea[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:10px}.add-comment-button[_ngcontent-%COMP%]{margin-top:10px;transition:background-color .3s,transform .2s}.add-comment-button[_ngcontent-%COMP%]:hover{background-color:#218838;transform:scale(1.05)}.align-items-start[_ngcontent-%COMP%]{align-items:flex-start}.product-image[_ngcontent-%COMP%]{max-width:100%;border-radius:8px}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;align-items:center;justify-content:center;animation:_ngcontent-%COMP%_fadeIn .3s ease-in}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:8px;width:80%;max-width:500px;padding:20px;position:relative;animation:_ngcontent-%COMP%_scaleUp .3s ease-in-out}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.modal-title[_ngcontent-%COMP%]{font-size:1.5rem}.close-button[_ngcontent-%COMP%]{background:none;border:none;font-size:1.5rem;cursor:pointer;transition:color .3s ease}.close-button[_ngcontent-%COMP%]:hover{color:#dc3545}.modal-body[_ngcontent-%COMP%]{margin-top:15px}.modal-product-info[_ngcontent-%COMP%]{display:flex;align-items:center}.modal-product-image[_ngcontent-%COMP%]{width:80px;height:80px;object-fit:cover;margin-right:15px}.modal-product-details[_ngcontent-%COMP%]{flex:1}.modal-product-price[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700}.quantity-control[_ngcontent-%COMP%]{display:flex;align-items:center;margin-top:10px}.quantity-button[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none;padding:5px 10px;cursor:pointer}.quantity[_ngcontent-%COMP%]{margin:0 10px}.quantity-button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:20px}.btn-success[_ngcontent-%COMP%]{background-color:#28a745;border-color:#28a745}.btn-success[_ngcontent-%COMP%]:hover{background-color:#218838}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_scaleUp{0%{transform:scale(.9)}to{transform:scale(1)}}.product-gallery[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;align-items:center}.product-main-image[_ngcontent-%COMP%]{max-width:60%;margin-bottom:1rem}.product-thumbnails[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-top:10px}.product-thumbnail[_ngcontent-%COMP%]{width:60px;height:60px;object-fit:cover;cursor:pointer;border:2px solid transparent}.product-thumbnail.active[_ngcontent-%COMP%], .product-thumbnail[_ngcontent-%COMP%]:hover{border-color:#007bff}.gallery-button[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);background:#00000080;color:#fff;border:none;padding:10px;cursor:pointer;z-index:10;font-size:1.5rem;opacity:0;transition:opacity .3s ease;pointer-events:none}.prev-button[_ngcontent-%COMP%]{left:-20px}.next-button[_ngcontent-%COMP%]{right:-20px}.gallery-button[_ngcontent-%COMP%]:hover{background:#000000b3}.product-gallery[_ngcontent-%COMP%]:hover   .gallery-button[_ngcontent-%COMP%]{opacity:1;pointer-events:auto}.full-description[_ngcontent-%COMP%]{font-size:14px;line-height:1.6;color:#333;background:#f9f9f9;padding:10px;border-radius:8px;margin-top:15px;box-shadow:0 2px 4px #0000001a}.full-description[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px}.full-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:10px}.full-description[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:20px}.full-description[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:5px}.full-description[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:auto;margin-top:10px;border-radius:4px}"]});let t=e;return t})();var _R=(()=>{let e=class e{constructor(r){this.firestore=r,this.productsCollection=Ji(this.firestore,"products")}getProducts(){return Au(this.productsCollection,{idField:"id"})}addProduct(r){let i=qo(this.productsCollection);return Vf(i,ye(U({},r),{id:i.id}))}deleteProduct(r){let i=qo(this.firestore,`products/${r}`);return gP(i)}updateProduct(r){let i=qo(this.firestore,`products/${r.id}`);return yP(i,U({},r))}};e.\u0275fac=function(i){return new(i||e)(q($n))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Iq(t,e){if(t&1){let n=ct();I(0,"button",11),B("click",function(){Q(n);let i=J();return Y(i.toggleSidebar())}),fc(),I(1,"svg",12),se(2,"rect",13)(3,"rect",14)(4,"circle",15)(5,"circle",16)(6,"circle",17)(7,"rect",18)(8,"rect",19)(9,"rect",20)(10,"rect",21),C()()}}function Cq(t,e){if(t&1&&(I(0,"option",41),R(1),C()),t&2){let n=e.$implicit;ne("value",n),O(),On(" ",n," ")}}function bq(t,e){if(t&1){let n=ct();I(0,"div",22)(1,"h3"),R(2,"\u0414\u043E\u0434\u0430\u0442\u0438 \u0442\u043E\u0432\u0430\u0440"),C(),I(3,"form",23),B("ngSubmit",function(){Q(n);let i=J();return Y(i.addProduct())}),I(4,"div",24)(5,"label",25),R(6,"\u041D\u0430\u0437\u0432\u0430 \u0442\u043E\u0432\u0430\u0440\u0443"),C(),I(7,"input",26),Ae("ngModelChange",function(i){Q(n);let o=J();return Pe(o.productName,i)||(o.productName=i),Y(i)}),C()(),I(8,"div",24)(9,"label",27),R(10,"\u041E\u043F\u0438\u0441 \u0442\u043E\u0432\u0430\u0440\u0443"),C(),I(11,"textarea",28),Ae("ngModelChange",function(i){Q(n);let o=J();return Pe(o.productDescription,i)||(o.productDescription=i),Y(i)}),C()(),I(12,"div",24)(13,"label",29),R(14,"\u041F\u043E\u0432\u043D\u0430 \u0445\u0430\u0440\u0430\u043A\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043A\u0430 \u0442\u043E\u0432\u0430\u0440\u0443"),C(),I(15,"textarea",30),Ae("ngModelChange",function(i){Q(n);let o=J();return Pe(o.productFullDescription,i)||(o.productFullDescription=i),Y(i)}),C()(),I(16,"div",24)(17,"label",31),R(18,"URL \u043A\u0430\u0440\u0442\u0438\u043D\u043A\u0438 \u0442\u043E\u0432\u0430\u0440\u0443"),C(),I(19,"input",32),Ae("ngModelChange",function(i){Q(n);let o=J();return Pe(o.productImageUrl,i)||(o.productImageUrl=i),Y(i)}),C()(),I(20,"div",24)(21,"label",33),R(22,"\u0414\u043E\u0434\u0430\u0442\u043A\u043E\u0432\u0456 URL \u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u044C (\u0447\u0435\u0440\u0435\u0437 \u043A\u043E\u043C\u0443)"),C(),I(23,"input",34),Ae("ngModelChange",function(i){Q(n);let o=J();return Pe(o.productAdditionalImages,i)||(o.productAdditionalImages=i),Y(i)}),C()(),I(24,"div",24)(25,"label",35),R(26,"\u0426\u0456\u043D\u0430"),C(),I(27,"input",36),Ae("ngModelChange",function(i){Q(n);let o=J();return Pe(o.productPrice,i)||(o.productPrice=i),Y(i)}),C()(),I(28,"div",24)(29,"label",37),R(30,"\u041A\u0430\u0442\u0435\u0433\u043E\u0440\u0456\u044F \u0442\u043E\u0432\u0430\u0440\u0443"),C(),I(31,"select",38),Ae("ngModelChange",function(i){Q(n);let o=J();return Pe(o.productCategory,i)||(o.productCategory=i),Y(i)}),ke(32,Cq,2,2,"option",39),C()(),I(33,"button",40),R(34," \u0414\u043E\u0434\u0430\u0442\u0438 \u0442\u043E\u0432\u0430\u0440 "),C()()()}if(t&2){let n=J();O(7),Se("ngModel",n.productName),O(4),Se("ngModel",n.productDescription),O(4),Se("ngModel",n.productFullDescription),O(4),Se("ngModel",n.productImageUrl),O(4),Se("ngModel",n.productAdditionalImages),O(4),Se("ngModel",n.productPrice),O(4),Se("ngModel",n.productCategory),O(),ne("ngForOf",n.categories),O(),ne("disabled",!n.isFormValid())}}function Dq(t,e){if(t&1&&(I(0,"option",41),R(1),C()),t&2){let n=e.$implicit;ne("value",n),O(),On(" ",n," ")}}function Tq(t,e){if(t&1){let n=ct();I(0,"div",22)(1,"h3"),R(2,"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u0442\u043E\u0432\u0430\u0440"),C(),I(3,"form",23),B("ngSubmit",function(){Q(n);let i=J();return Y(i.updateProduct())}),I(4,"div",24)(5,"label",42),R(6,"\u041D\u0430\u0437\u0432\u0430 \u0442\u043E\u0432\u0430\u0440\u0443"),C(),I(7,"input",43),Ae("ngModelChange",function(i){Q(n);let o=J();return Pe(o.productName,i)||(o.productName=i),Y(i)}),C()(),I(8,"div",24)(9,"label",44),R(10,"\u041E\u043F\u0438\u0441 \u0442\u043E\u0432\u0430\u0440\u0443"),C(),I(11,"textarea",45),Ae("ngModelChange",function(i){Q(n);let o=J();return Pe(o.productDescription,i)||(o.productDescription=i),Y(i)}),C()(),I(12,"div",24)(13,"label",29),R(14,"\u041F\u043E\u0432\u043D\u0430 \u0445\u0430\u0440\u0430\u043A\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043A\u0430 \u0442\u043E\u0432\u0430\u0440\u0443"),C(),I(15,"textarea",30),Ae("ngModelChange",function(i){Q(n);let o=J();return Pe(o.productFullDescription,i)||(o.productFullDescription=i),Y(i)}),C()(),I(16,"div",24)(17,"label",46),R(18,"URL \u043A\u0430\u0440\u0442\u0438\u043D\u043A\u0438 \u0442\u043E\u0432\u0430\u0440\u0443"),C(),I(19,"input",47),Ae("ngModelChange",function(i){Q(n);let o=J();return Pe(o.productImageUrl,i)||(o.productImageUrl=i),Y(i)}),C()(),I(20,"div",24)(21,"label",33),R(22,"\u0414\u043E\u0434\u0430\u0442\u043A\u043E\u0432\u0456 URL \u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u044C (\u0447\u0435\u0440\u0435\u0437 \u043A\u043E\u043C\u0443)"),C(),I(23,"input",34),Ae("ngModelChange",function(i){Q(n);let o=J();return Pe(o.productAdditionalImages,i)||(o.productAdditionalImages=i),Y(i)}),C()(),I(24,"div",24)(25,"label",48),R(26,"\u0426\u0456\u043D\u0430"),C(),I(27,"input",49),Ae("ngModelChange",function(i){Q(n);let o=J();return Pe(o.productPrice,i)||(o.productPrice=i),Y(i)}),C()(),I(28,"div",24)(29,"label",50),R(30,"\u041A\u0430\u0442\u0435\u0433\u043E\u0440\u0456\u044F \u0442\u043E\u0432\u0430\u0440\u0443"),C(),I(31,"select",51),Ae("ngModelChange",function(i){Q(n);let o=J();return Pe(o.productCategory,i)||(o.productCategory=i),Y(i)}),ke(32,Dq,2,2,"option",39),C()(),I(33,"button",40),R(34,"\u041E\u043D\u043E\u0432\u0438\u0442\u0438 \u0442\u043E\u0432\u0430\u0440"),C(),I(35,"button",52),B("click",function(){Q(n);let i=J();return Y(i.resetForm())}),R(36,"\u0421\u043A\u0430\u0441\u0443\u0432\u0430\u0442\u0438"),C()()()}if(t&2){let n=J();O(7),Se("ngModel",n.productName),O(4),Se("ngModel",n.productDescription),O(4),Se("ngModel",n.productFullDescription),O(4),Se("ngModel",n.productImageUrl),O(4),Se("ngModel",n.productAdditionalImages),O(4),Se("ngModel",n.productPrice),O(4),Se("ngModel",n.productCategory),O(),ne("ngForOf",n.categories),O(),ne("disabled",!n.isFormValid())}}function Sq(t,e){if(t&1){let n=ct();I(0,"div",53),se(1,"img",54),I(2,"h4"),R(3),C(),I(4,"p"),R(5),C(),I(6,"p")(7,"strong"),R(8,"\u0426\u0456\u043D\u0430:"),C(),R(9),C(),I(10,"p")(11,"strong"),R(12,"\u041A\u0430\u0442\u0435\u0433\u043E\u0440\u0456\u044F:"),C(),R(13),C(),I(14,"button",55),B("click",function(){let i=Q(n).$implicit,o=J();return Y(o.openEditForm(i))}),R(15,"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438"),C(),I(16,"button",56),B("click",function(){let i=Q(n).$implicit,o=J();return Y(o.confirmDeleteProduct(i.id))}),R(17,"\u0412\u0438\u0434\u0430\u043B\u0438\u0442\u0438"),C()()}if(t&2){let n=e.$implicit;O(),kr("alt",n.name),ne("src",n.imageUrl,Rn),O(2),$e(n.name),O(2),$e(n.description),O(4),On(" ",n.price," $"),O(4),On(" ",n.category,"")}}function Aq(t,e){if(t&1){let n=ct();I(0,"div",57)(1,"div",58)(2,"h4"),R(3,"\u041F\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0436\u0435\u043D\u043D\u044F \u0432\u0438\u0434\u0430\u043B\u0435\u043D\u043D\u044F"),C(),I(4,"p"),R(5,"\u0412\u0438 \u0432\u043F\u0435\u0432\u043D\u0435\u043D\u0456, \u0449\u043E \u0445\u043E\u0447\u0435\u0442\u0435 \u0432\u0438\u0434\u0430\u043B\u0438\u0442\u0438 \u0446\u0435\u0439 \u0442\u043E\u0432\u0430\u0440?"),C(),I(6,"button",56),B("click",function(){Q(n);let i=J();return i.deleteProduct(),Y(i.closeModal())}),R(7,"\u0422\u0430\u043A"),C(),I(8,"button",59),B("click",function(){Q(n);let i=J();return Y(i.closeModal())}),R(9,"\u041D\u0456"),C()()()}}var wR=(()=>{let e=class e{constructor(r,i){this.adminService=r,this.productService=i,this.productName="",this.productDescription="",this.productImageUrl="",this.productPrice=null,this.productCategory="",this.products=[],this.filteredProducts=[],this.categories=["\u041B\u0456\u0445\u0442\u0430\u0440\u0438\u043A\u0438","\u0420\u043E\u0437\u0443\u043C\u043D\u0456 \u0413\u043E\u0434\u0438\u043D\u043D\u0438\u043A\u0438","\u041D\u0430\u0432\u0443\u0448\u043D\u0438\u043A\u0438","\u0422\u0443\u0440\u0438\u0441\u0442\u0438\u0447\u043D\u0456 \u041A\u0430\u043C\u0435\u0440\u0438","\u041D\u0430\u043C\u0435\u0442\u0438"],this.selectedCategory="all",this.showModal=!1,this.showEditForm=!1,this.productToDeleteId=null,this.productToEdit=null,this.errorMessage=null,this.productAdditionalImages="",this.isSidebarVisible=!1,this.isSidebarPinned=!1,this.productFullDescription=""}ngOnInit(){this.loadProducts()}loadProducts(){this.adminService.getProducts().subscribe(r=>{this.products=r,this.applyFilters()},r=>{console.error("Error loading products:",r),this.errorMessage="Failed to load products. Please try again later."})}toggleSidebar(){this.isSidebarVisible=!this.isSidebarVisible}updateSidebarMode(){this.isSidebarPinned?this.isSidebarVisible=!0:this.isSidebarVisible=!1}filterByCategory(r){this.selectedCategory=r,this.applyFilters()}applyFilters(){this.selectedCategory==="all"?this.filteredProducts=this.products:this.filteredProducts=this.products.filter(r=>r.category===this.selectedCategory)}addProduct(){if(this.isFormValid()){let r={id:"",name:this.productName,description:this.productDescription,fullDescription:this.productFullDescription,imageUrl:this.productImageUrl,price:this.productPrice,category:this.productCategory,additionalImageUrls:this.productAdditionalImages?this.productAdditionalImages.split(",").map(i=>i.trim()):[]};this.adminService.addProduct(r).then(()=>{this.loadProducts(),this.resetForm()}).catch(i=>{console.error("Error adding product:",i),this.errorMessage="Failed to add product. Please try again later."})}}deleteProduct(){this.productToDeleteId&&this.adminService.deleteProduct(this.productToDeleteId).then(()=>{this.loadProducts(),this.closeModal()}).catch(r=>{console.error("Error deleting product:",r),this.errorMessage="Failed to delete product. Please try again later."})}openEditForm(r){this.productToEdit=U({},r),this.productName=r.name,this.productDescription=r.description,this.productImageUrl=r.imageUrl,this.productPrice=r.price,this.productCategory=r.category,this.productFullDescription=r.fullDescription||"",this.productAdditionalImages=r.additionalImageUrls?r.additionalImageUrls.join(", "):"",this.showEditForm=!0}updateProduct(){if(this.productToEdit&&this.isFormValid()){let r={id:this.productToEdit.id,name:this.productName,description:this.productDescription,fullDescription:this.productFullDescription,imageUrl:this.productImageUrl,price:this.productPrice,category:this.productCategory,additionalImageUrls:this.productAdditionalImages?this.productAdditionalImages.split(",").map(i=>i.trim()):[]};this.adminService.updateProduct(r).then(()=>{this.loadProducts(),this.resetForm(),this.showEditForm=!1}).catch(i=>{console.error("Error updating product:",i),this.errorMessage="Failed to update product. Please try again later."})}}confirmDeleteProduct(r){this.productToDeleteId=r,this.showModal=!0}closeModal(){this.showModal=!1,this.productToDeleteId=null}resetForm(){this.productName="",this.productDescription="",this.productImageUrl="",this.productPrice=null,this.productCategory="",this.productToEdit=null,this.showEditForm=!1}isFormValid(){return this.productName.trim()!==""&&this.productDescription.trim()!==""&&this.productImageUrl.trim()!==""&&this.productPrice!==null&&this.productPrice>0&&this.productCategory.trim()!==""}};e.\u0275fac=function(i){return new(i||e)($(_R),$(Na))},e.\u0275cmp=Je({type:e,selectors:[["app-admin"]],standalone:!0,features:[Ze],decls:26,vars:12,consts:[[1,"container"],["class","sidebar-toggle",3,"click",4,"ngIf"],[1,"sidebar"],[1,"pin-sidebar-option"],["type","checkbox","id","pinSidebar",3,"ngModelChange","change","ngModel"],["for","pinSidebar"],[1,"btn","btn-outline-primary",3,"click"],["class","product-form",4,"ngIf"],[1,"product-list"],["class","product-item",4,"ngFor","ngForOf"],["class","modal",4,"ngIf"],[1,"sidebar-toggle",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","50","height","50","viewBox","0 0 100 100"],["x","0","y","0","width","100","height","100","rx","15","fill","#f0f0f0"],["x","15","y","15","width","25","height","70","rx","8","fill","#ffffff"],["cx","27.5","cy","30","r","4","fill","#ff6347"],["cx","27.5","cy","50","r","4","fill","#4682b4"],["cx","27.5","cy","70","r","4","fill","#32cd32"],["x","45","y","15","width","40","height","70","rx","8","fill","#ffffff"],["x","50","y","25","width","30","height","6","rx","2","fill","#d3d3d3"],["x","50","y","45","width","30","height","6","rx","2","fill","#d3d3d3"],["x","50","y","65","width","30","height","6","rx","2","fill","#d3d3d3"],[1,"product-form"],[3,"ngSubmit"],[1,"form-group"],["for","productName"],["id","productName","name","productName","placeholder","\u041D\u0430\u0437\u0432\u0430 \u0442\u043E\u0432\u0430\u0440\u0443","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","productDescription"],["id","productDescription","name","productDescription","placeholder","\u041E\u043F\u0438\u0441 \u0442\u043E\u0432\u0430\u0440\u0443","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","productFullDescription"],["id","productFullDescription","name","productFullDescription","placeholder","\u041F\u043E\u0432\u043D\u0430 \u0445\u0430\u0440\u0430\u043A\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043A\u0430 \u0442\u043E\u0432\u0430\u0440\u0443",1,"form-control",3,"ngModelChange","ngModel"],["for","productImageUrl"],["id","productImageUrl","name","productImageUrl","placeholder","URL \u043A\u0430\u0440\u0442\u0438\u043D\u043A\u0438 \u0442\u043E\u0432\u0430\u0440\u0443","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","productAdditionalImages"],["id","productAdditionalImages","name","productAdditionalImages","placeholder","URL1, URL2, URL3",1,"form-control",3,"ngModelChange","ngModel"],["for","productPrice"],["id","productPrice","type","number","name","productPrice","placeholder","\u0426\u0456\u043D\u0430","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","productCategory"],["id","productCategory","name","productCategory","required","",1,"form-control",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["type","submit",1,"btn","btn-success",3,"disabled"],[3,"value"],["for","editProductName"],["id","editProductName","name","editProductName","placeholder","\u041D\u0430\u0437\u0432\u0430 \u0442\u043E\u0432\u0430\u0440\u0443","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","editProductDescription"],["id","editProductDescription","name","editProductDescription","placeholder","\u041E\u043F\u0438\u0441 \u0442\u043E\u0432\u0430\u0440\u0443","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","editProductImageUrl"],["id","editProductImageUrl","name","editProductImageUrl","placeholder","URL \u043A\u0430\u0440\u0442\u0438\u043D\u043A\u0438 \u0442\u043E\u0432\u0430\u0440\u0443","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","editProductPrice"],["id","editProductPrice","type","number","name","editProductPrice","placeholder","\u0426\u0456\u043D\u0430","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","editProductCategory"],["id","editProductCategory","name","editProductCategory","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"product-item"],[3,"src","alt"],[1,"btn","btn-warning",3,"click"],[1,"btn","btn-danger",3,"click"],[1,"modal"],[1,"modal-content"],[1,"btn","btn-secondary",3,"click"]],template:function(i,o){i&1&&(I(0,"div",0),ke(1,Iq,11,0,"button",1),I(2,"div",2)(3,"h4"),R(4,"\u0424\u0456\u043B\u044C\u0442\u0440\u0438"),C(),I(5,"div",3)(6,"input",4),Ae("ngModelChange",function(a){return Pe(o.isSidebarPinned,a)||(o.isSidebarPinned=a),a}),B("change",function(){return o.updateSidebarMode()}),C(),I(7,"label",5),R(8,"\u0417\u0430\u043A\u0440\u0456\u043F\u0438\u0442\u0438"),C()(),I(9,"button",6),B("click",function(){return o.filterByCategory("all")}),R(10,"\u0423\u0441\u0456"),C(),I(11,"button",6),B("click",function(){return o.filterByCategory("\u041B\u0456\u0445\u0442\u0430\u0440\u0438\u043A\u0438")}),R(12,"\u041B\u0456\u0445\u0442\u0430\u0440\u0438\u043A\u0438"),C(),I(13,"button",6),B("click",function(){return o.filterByCategory("\u0420\u043E\u0437\u0443\u043C\u043D\u0456 \u0413\u043E\u0434\u0438\u043D\u043D\u0438\u043A\u0438")}),R(14,"\u0420\u043E\u0437\u0443\u043C\u043D\u0456 \u0413\u043E\u0434\u0438\u043D\u043D\u0438\u043A\u0438"),C(),I(15,"button",6),B("click",function(){return o.filterByCategory("\u041D\u0430\u0432\u0443\u0448\u043D\u0438\u043A\u0438")}),R(16,"\u041D\u0430\u0432\u0443\u0448\u043D\u0438\u043A\u0438"),C(),I(17,"button",6),B("click",function(){return o.filterByCategory("\u0422\u0443\u0440\u0438\u0441\u0442\u0438\u0447\u043D\u0456 \u041A\u0430\u043C\u0435\u0440\u0438")}),R(18,"\u0422\u0443\u0440\u0438\u0441\u0442\u0438\u0447\u043D\u0456 \u041A\u0430\u043C\u0435\u0440\u0438"),C(),I(19,"button",6),B("click",function(){return o.filterByCategory("\u041D\u0430\u043C\u0435\u0442\u0438")}),R(20,"\u041D\u0430\u043C\u0435\u0442\u0438"),C()(),ke(21,bq,35,9,"div",7)(22,Tq,37,9,"div",7),I(23,"div",8),ke(24,Sq,18,6,"div",9),C()(),ke(25,Aq,10,0,"div",10)),i&2&&(O(),ne("ngIf",!o.isSidebarPinned),O(),sn("visible",o.isSidebarVisible||o.isSidebarPinned)("pinned",o.isSidebarPinned),O(4),Se("ngModel",o.isSidebarPinned),O(15),ne("ngIf",!o.showEditForm),O(),ne("ngIf",o.showEditForm),O(),sn("sidebar-pinned",o.isSidebarPinned),O(),ne("ngForOf",o.filteredProducts),O(),ne("ngIf",o.showModal))},dependencies:[St,Mi,nr,vr,Pa,Zf,Xf,En,nE,Lu,Ra,yr,xa,Ko,Hn,Wo],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:20px;max-width:1200px;margin:0 auto;padding:20px}.sidebar-toggle[_ngcontent-%COMP%]{position:fixed;top:76px;right:20px;z-index:1000;color:#fff;border:none;border-radius:50%;width:50px;height:50px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .3s ease}.sidebar-toggle[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.sidebar-toggle[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{fill:#fff;transition:transform .3s ease}.sidebar-toggle[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{transform:scale(1.1)}.sidebar[_ngcontent-%COMP%]{position:fixed;top:66px;right:-100%;width:300px;height:calc(100% - 69px);background:#fff;box-shadow:-4px 0 8px #0003;padding:20px;transition:right .3s ease,opacity .3s ease;overflow-y:auto;z-index:999}.sidebar.visible[_ngcontent-%COMP%]{right:0}.sidebar[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:15px;font-size:1.2rem;color:#333}.sidebar[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{display:block;width:100%;margin-bottom:10px}.sidebar.pinned[_ngcontent-%COMP%]{position:fixed;right:0;top:69px;height:calc(100% - 69px)}.product-list.sidebar-pinned[_ngcontent-%COMP%]{margin-right:320px}.pin-sidebar-option[_ngcontent-%COMP%]{margin-bottom:10px;display:flex;align-items:center}.pin-sidebar-option[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-left:5px;font-size:.9rem}.filter-container[_ngcontent-%COMP%]{position:absolute;top:10px;right:20px;display:flex;flex-wrap:wrap;gap:10px}.filter-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:8px 16px;font-size:.9rem}.product-list[_ngcontent-%COMP%]{flex:1;display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px}.product-form[_ngcontent-%COMP%]{flex:1;max-width:300px}.product-form[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;color:#333}.product-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:15px}.product-form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:5px;display:block;font-size:.9rem}.product-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .product-form[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .product-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px;border-radius:5px;border:1px solid #ccc;box-sizing:border-box}.product-item[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:8px;padding:15px;background:#f9f9f9;box-shadow:0 4px 6px #0000001a;transition:transform .3s ease}.product-item[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.product-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:150px;object-fit:cover;border-radius:5px;margin-bottom:10px}.product-item[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.2rem;color:#444}.product-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;color:#666}.product-item[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin-top:10px;padding:8px 16px;font-size:.8rem}.btn[_ngcontent-%COMP%]{padding:10px 20px;width:auto}.btn-success[_ngcontent-%COMP%]{background-color:#5cb85c;border-color:#5cb85c}.btn-success[_ngcontent-%COMP%]:hover{background-color:#218838;border-color:#1e7e34}.btn-danger[_ngcontent-%COMP%]{background-color:#d9534f;border-color:#d9534f}.btn-danger[_ngcontent-%COMP%]:hover{background-color:#c82333;border-color:#bd2130}.btn-warning[_ngcontent-%COMP%]{background-color:#f0ad4e;border-color:#f0ad4e}.btn-warning[_ngcontent-%COMP%]:hover{background-color:#ec971f;border-color:#d58512}.modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;align-items:center;justify-content:center}.modal-content[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:5px;box-shadow:0 0 10px #0000001a;text-align:center;width:300px;animation:_ngcontent-%COMP%_zoomIn .3s ease-in}.modal-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-top:0}.modal-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:10px}@keyframes _ngcontent-%COMP%_zoomIn{0%{transform:scale(.7);opacity:0}to{transform:scale(1);opacity:1}}@media (max-width: 480px){.sidebar[_ngcontent-%COMP%]{width:100%}.product-list[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media (max-width: 768px){.container[_ngcontent-%COMP%]{flex-direction:column;padding:10px}.filter-container[_ngcontent-%COMP%]{position:static;justify-content:center;margin-top:20px}.product-form[_ngcontent-%COMP%]{max-width:100%}.product-item[_ngcontent-%COMP%]{text-align:center}.modal-content[_ngcontent-%COMP%]{width:90%}.sidebar[_ngcontent-%COMP%]{width:80%}.product-list.sidebar-pinned[_ngcontent-%COMP%]{margin-right:0}.product-list[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(200px,1fr))}}@media (max-width: 768px) and (orientation: landscape){.container[_ngcontent-%COMP%]{padding:5px}.filter-container[_ngcontent-%COMP%]{gap:5px;margin-top:20px}.product-item[_ngcontent-%COMP%]{flex-direction:row;align-items:center;text-align:left}.product-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px;margin-right:10px}.btn[_ngcontent-%COMP%]{font-size:.8rem;padding:5px 10px}}@media (min-width: 769px) and (max-width: 1024px){.container[_ngcontent-%COMP%]{padding:15px}.modal-content[_ngcontent-%COMP%]{width:80%}}@media (min-width: 1025px) and (max-width: 1920px){.container[_ngcontent-%COMP%]{padding:20px}.modal-content[_ngcontent-%COMP%]{width:50%}}@media (min-width: 1921px){.container[_ngcontent-%COMP%]{max-width:1600px;padding:20px}.modal-content[_ngcontent-%COMP%]{width:40%}}"]});let t=e;return t})();var ER=(()=>{let e=class e{constructor(){this.firstDigit="4",this.secondDigit="0",this.thirdDigit="4"}randomNum(){return Math.floor(Math.random()*9)+1}ngOnInit(){let r=0,i=30,o=setInterval(()=>{r>40?(clearInterval(o),this.thirdDigit="4"):(this.thirdDigit=this.randomNum().toString(),r++)},i),s=setInterval(()=>{r>80?(clearInterval(s),this.secondDigit="0"):(this.secondDigit=this.randomNum().toString(),r++)},i),a=setInterval(()=>{r>100?(clearInterval(a),this.firstDigit="4"):(this.firstDigit=this.randomNum().toString(),r++)},i)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Je({type:e,selectors:[["app-not-found"]],standalone:!0,features:[Ze],decls:22,vars:3,consts:[[1,"error","d-flex","justify-content-center","align-items-center","vh-50","bg-light"],[1,"container","text-center"],[1,"container-error-404"],[1,"clip"],[1,"shadow"],[1,"digit","thirdDigit"],[1,"digit","secondDigit"],[1,"digit","firstDigit"],[1,"msg"],[1,"triangle"],[1,"h1"],["routerLink","/",1,"btn","btn-primary"]],template:function(i,o){i&1&&(I(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"span",5),R(6),C()()(),I(7,"div",3)(8,"div",4)(9,"span",6),R(10),C()()(),I(11,"div",3)(12,"div",4)(13,"span",7),R(14),C()()(),I(15,"div",8),R(16,"OH!"),se(17,"span",9),C()(),I(18,"h2",10),R(19,"\u0412\u0438\u0431\u0430\u0447\u0442\u0435! \u0421\u0442\u043E\u0440\u0456\u043D\u043A\u0430 \u043D\u0435 \u0437\u043D\u0430\u0439\u0434\u0435\u043D\u0430."),C(),I(20,"a",11),R(21,"\u041F\u0435\u0440\u0435\u0439\u0442\u0438 \u043D\u0430 \u0433\u043E\u043B\u043E\u0432\u043D\u0443"),C()()()),i&2&&(O(6),$e(o.thirdDigit),O(4),$e(o.secondDigit),O(4),$e(o.firstDigit))},dependencies:[St,Gs,zs],styles:['*[_ngcontent-%COMP%]{font-family:PT Sans Caption,sans-serif,arial,Times New Roman;box-sizing:border-box}.error[_ngcontent-%COMP%]{background-color:#f8f9fa}.error[_ngcontent-%COMP%]   .container-error-404[_ngcontent-%COMP%]{position:relative;height:250px;padding-top:40px;text-align:center}.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]{display:inline-block;transform:skew(-45deg)}.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]   .shadow[_ngcontent-%COMP%]{height:180px;overflow:hidden}.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]:nth-of-type(2)   .shadow[_ngcontent-%COMP%]{width:130px;position:relative;box-shadow:inset 20px 0 20px -15px #969696cc,20px 0 20px -15px #969696cc}.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]:nth-of-type(3)   .shadow[_ngcontent-%COMP%]:after, .error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]:nth-of-type(1)   .shadow[_ngcontent-%COMP%]:after{content:"";position:absolute;right:-8px;bottom:0;z-index:9999;height:100%;width:10px;background:linear-gradient(90deg,transparent,rgba(173,173,173,.8),transparent);border-radius:50%}.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]:nth-of-type(3)   .shadow[_ngcontent-%COMP%]:after{left:-8px}.error[_ngcontent-%COMP%]   .digit[_ngcontent-%COMP%]{width:150px;height:150px;line-height:150px;font-size:120px;font-weight:700;color:#fff;background:#07b3f9;border-radius:50%;display:inline-block;transform:skew(45deg)}.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]:nth-of-type(2)   .digit[_ngcontent-%COMP%]{left:-10%}.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]:nth-of-type(1)   .digit[_ngcontent-%COMP%]{right:-20%}.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]:nth-of-type(3)   .digit[_ngcontent-%COMP%]{left:-20%}.error[_ngcontent-%COMP%]   .msg[_ngcontent-%COMP%]{position:relative;z-index:9999;background:#535353;color:#a2a2a2;border-radius:50%;font-style:italic;display:block;width:80px;height:80px;line-height:80px;font-size:32px;top:-190px;left:30%}.error[_ngcontent-%COMP%]   span.triangle[_ngcontent-%COMP%]{position:absolute;z-index:999;transform:rotate(45deg);content:"";width:0;height:0;border-left:20px solid #535353;border-top:15px solid transparent;border-bottom:15px solid transparent;top:70%;right:0}.error[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#a2a2a2;font-weight:700;padding-bottom:20px;font-size:32px}.error[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;font-weight:700}.error[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}@media (max-width: 767px){.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]   .shadow[_ngcontent-%COMP%]{height:100px}.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]:nth-of-type(2)   .shadow[_ngcontent-%COMP%]{width:80px}.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]:nth-of-type(1)   .shadow[_ngcontent-%COMP%], .error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]:nth-of-type(3)   .shadow[_ngcontent-%COMP%]{width:100px}.error[_ngcontent-%COMP%]   .digit[_ngcontent-%COMP%]{width:80px;height:80px;line-height:80px;font-size:52px}.error[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px}.error[_ngcontent-%COMP%]   .msg[_ngcontent-%COMP%]{top:-110px;left:15%;width:40px;height:40px;line-height:40px;font-size:18px}.error[_ngcontent-%COMP%]   span.triangle[_ngcontent-%COMP%]{border-left:10px solid #535353;border-top:8px solid transparent;border-bottom:8px solid transparent}.error[_ngcontent-%COMP%]   .container-error-404[_ngcontent-%COMP%]{height:150px}}']});let t=e;return t})();function Mq(t,e){if(t&1&&(I(0,"p",10),R(1),C()),t&2){let n=J();O(),$e(n.errorMessage)}}var IR=(()=>{let e=class e{constructor(r){this.router=r,this.username="",this.password="",this.errorMessage=""}login(){this.username==="admin"&&this.password==="Uthjtdlytghf73"?this.router.navigate(["/admin"]):this.errorMessage="\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u043B\u043E\u0433\u0456\u043D \u0430\u0431\u043E \u043F\u0430\u0440\u043E\u043B\u044C"}};e.\u0275fac=function(i){return new(i||e)($(wt))},e.\u0275cmp=Je({type:e,selectors:[["app-admin-login"]],standalone:!0,features:[Ze],decls:14,vars:3,consts:[[1,"login-container"],[1,"login-form",3,"ngSubmit"],["src","./icons/logo.png","alt","Logo",1,"logo"],[1,"form-group"],["for","username"],["id","username","name","username","placeholder","\u041B\u043E\u0433\u0456\u043D","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","password"],["id","password","type","password","name","password","placeholder","\u041F\u0430\u0440\u043E\u043B\u044C","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-success"],["class","text-danger",4,"ngIf"],[1,"text-danger"]],template:function(i,o){i&1&&(I(0,"div",0)(1,"form",1),B("ngSubmit",function(){return o.login()}),se(2,"img",2),I(3,"div",3)(4,"label",4),R(5,"\u041B\u043E\u0433\u0456\u043D"),C(),I(6,"input",5),Ae("ngModelChange",function(a){return Pe(o.username,a)||(o.username=a),a}),C()(),I(7,"div",3)(8,"label",6),R(9,"\u041F\u0430\u0440\u043E\u043B\u044C"),C(),I(10,"input",7),Ae("ngModelChange",function(a){return Pe(o.password,a)||(o.password=a),a}),C()(),I(11,"button",8),R(12,"\u0412\u0445\u0456\u0434"),C(),ke(13,Mq,2,1,"p",9),C()()),i&2&&(O(6),Se("ngModel",o.username),O(4),Se("ngModel",o.password),O(3),ne("ngIf",o.errorMessage))},dependencies:[St,nr,vr,Pa,En,yr,xa,Ko,Hn,Wo],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:70vh;background-color:#f8f9fa}.login-form[_ngcontent-%COMP%]{background:#fff;padding:2rem;border-radius:8px;box-shadow:0 0 10px #0000001a;text-align:center}.logo[_ngcontent-%COMP%]{max-width:100px;margin-bottom:1rem}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.btn-success[_ngcontent-%COMP%]{background-color:#28a745;border-color:#28a745}.btn-success[_ngcontent-%COMP%]:hover{background-color:#218838;border-color:#1e7e34}"]});let t=e;return t})();var CR=[{path:"",component:pR},{path:"header",component:Lf},{path:"cart",component:mR},{path:"product/:id",component:vR},{path:"admin-login",component:IR},{path:"admin",component:wR},{path:"**",component:ER}];var iE={production:!1,firebase:{apiKey:"AIzaSyCDXEjp5yiLttF-2eUZKNHH6z3Y755yws8",authDomain:"hiking-equipment-store.firebaseapp.com",databaseURL:"https://hiking-equipment-store-default-rtdb.europe-west1.firebasedatabase.app",projectId:"hiking-equipment-store",storageBucket:"hiking-equipment-store.appspot.com",messagingSenderId:"553591568312",appId:"1:553591568312:web:c4e43771d9e053d6d6814d",measurementId:"G-C3M4EFX3LH",firestore:{rules_version:"2"}},appCheck:{recaptchaSiteKey:"6LeykZMqAAAAAFddpBQyGNnkKElOUDDIMdroXsYV"}};eS($P,{providers:[qS(CR),Ty(),mM(()=>yM()),DA(()=>TA(iE.firebase)),hP(()=>mP()),UP(()=>BP(void 0,{provider:new $f(iE.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}).catch(t=>console.error(t));
