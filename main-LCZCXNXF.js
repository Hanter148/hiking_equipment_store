var _R=Object.defineProperty,wR=Object.defineProperties;var ER=Object.getOwnPropertyDescriptors;var HE=Object.getOwnPropertySymbols,IR=Object.getPrototypeOf,CR=Object.prototype.hasOwnProperty,bR=Object.prototype.propertyIsEnumerable,DR=Reflect.get;var zE=(t,e,n)=>e in t?_R(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,j=(t,e)=>{for(var n in e||={})CR.call(e,n)&&zE(t,n,e[n]);if(HE)for(var n of HE(e))bR.call(e,n)&&zE(t,n,e[n]);return t},ye=(t,e)=>wR(t,ER(e));var ti=(t,e,n)=>DR(IR(t),n,e);var E=(t,e,n)=>new Promise((r,i)=>{var o=u=>{try{a(n.next(u))}catch(l){i(l)}},s=u=>{try{a(n.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((n=n.apply(t,e)).next())});var yp=null;var mp=1,vp=Symbol("SIGNAL");function Ae(t){let e=yp;return yp=t,e}function qE(){return yp}var _p={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function TR(t){if(!(bp(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===mp)){if(!t.producerMustRecompute(t)&&!Ep(t)){t.dirty=!1,t.lastCleanEpoch=mp;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=mp}}function wp(t){return t&&(t.nextProducerIndex=0),Ae(t)}function GE(t,e){if(Ae(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(bp(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Cp(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Ep(t){Dp(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(TR(n),r!==n.version))return!0}return!1}function Ip(t){if(Dp(t),bp(t))for(let e=0;e<t.producerNode.length;e++)Cp(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Cp(t,e){if(SR(t),t.liveConsumerNode.length===1&&AR(t))for(let r=0;r<t.producerNode.length;r++)Cp(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Dp(i),i.producerIndexOfThis[r]=e}}function bp(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Dp(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function SR(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function AR(t){return t.producerNode!==void 0}function MR(){throw new Error}var xR=MR;function WE(t){xR=t}function le(t){return typeof t=="function"}function Go(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Wu=Go(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Qi(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Qe=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(le(r))try{r()}catch(o){e=o instanceof Wu?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{KE(o)}catch(s){e=e??[],s instanceof Wu?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Wu(e)}}add(e){var n;if(e&&e!==this)if(this.closed)KE(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Qi(n,e)}remove(e){let{_finalizers:n}=this;n&&Qi(n,e),e instanceof t&&e._removeParent(this)}};Qe.EMPTY=(()=>{let t=new Qe;return t.closed=!0,t})();var Tp=Qe.EMPTY;function Ku(t){return t instanceof Qe||t&&"closed"in t&&le(t.remove)&&le(t.add)&&le(t.unsubscribe)}function KE(t){le(t)?t():t.unsubscribe()}var In={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Wo={setTimeout(t,e,...n){let{delegate:r}=Wo;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Wo;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Qu(t){Wo.setTimeout(()=>{let{onUnhandledError:e}=In;if(e)e(t);else throw t})}function qa(){}var QE=Sp("C",void 0,void 0);function YE(t){return Sp("E",void 0,t)}function JE(t){return Sp("N",t,void 0)}function Sp(t,e,n){return{kind:t,value:e,error:n}}var Yi=null;function Ko(t){if(In.useDeprecatedSynchronousErrorHandling){let e=!Yi;if(e&&(Yi={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Yi;if(Yi=null,n)throw r}}else t()}function ZE(t){In.useDeprecatedSynchronousErrorHandling&&Yi&&(Yi.errorThrown=!0,Yi.error=t)}var Ji=class extends Qe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Ku(e)&&e.add(this)):this.destination=NR}static create(e,n,r){return new Qo(e,n,r)}next(e){this.isStopped?Mp(JE(e),this):this._next(e)}error(e){this.isStopped?Mp(YE(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Mp(QE,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},PR=Function.prototype.bind;function Ap(t,e){return PR.call(t,e)}var xp=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Yu(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Yu(r)}else Yu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Yu(n)}}},Qo=class extends Ji{constructor(e,n,r){super();let i;if(le(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&In.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Ap(e.next,o),error:e.error&&Ap(e.error,o),complete:e.complete&&Ap(e.complete,o)}):i=e}this.destination=new xp(i)}};function Yu(t){In.useDeprecatedSynchronousErrorHandling?ZE(t):Qu(t)}function RR(t){throw t}function Mp(t,e){let{onStoppedNotification:n}=In;n&&Wo.setTimeout(()=>n(t,e))}var NR={closed:!0,next:qa,error:RR,complete:qa};var Yo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Xt(t){return t}function Ju(...t){return Pp(t)}function Pp(t){return t.length===0?Xt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var fe=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=kR(n)?n:new Qo(n,r,i);return Ko(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=XE(r),new r((i,o)=>{let s=new Qo({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Yo](){return this}pipe(...n){return Pp(n)(this)}toPromise(n){return n=XE(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function XE(t){var e;return(e=t??In.Promise)!==null&&e!==void 0?e:Promise}function OR(t){return t&&le(t.next)&&le(t.error)&&le(t.complete)}function kR(t){return t&&t instanceof Ji||OR(t)&&Ku(t)}function Rp(t){return le(t?.lift)}function Ce(t){return e=>{if(Rp(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function _e(t,e,n,r,i){return new Np(t,e,n,r,i)}var Np=class extends Ji{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Jo(){return Ce((t,e)=>{let n=null;t._refCount++;let r=_e(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Zo=class extends fe{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Rp(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Qe;let n=this.getSubject();e.add(this.source.subscribe(_e(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Qe.EMPTY)}return e}refCount(){return Jo()(this)}};var eI=Go(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var yt=(()=>{class t extends fe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Zu(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new eI}next(n){Ko(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Ko(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Ko(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Tp:(this.currentObservers=null,o.push(n),new Qe(()=>{this.currentObservers=null,Qi(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new fe;return n.source=this,n}}return t.create=(e,n)=>new Zu(e,n),t})(),Zu=class extends yt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Tp}};var dt=class extends yt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Op={now(){return(Op.delegate||Date).now()},delegate:void 0};var Xu=class extends Qe{constructor(e,n){super()}schedule(e,n=0){return this}};var Ga={setInterval(t,e,...n){let{delegate:r}=Ga;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Ga;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Xo=class extends Xu{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return Ga.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Ga.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Qi(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var es=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};es.now=Op.now;var ts=class extends es{constructor(e,n=es.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var el=new ts(Xo),kp=el;var tl=class extends Xo{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var nl=class extends ts{};var Fp=new nl(tl);var en=new fe(t=>t.complete());function rl(t){return t&&le(t.schedule)}function tI(t){return t[t.length-1]}function il(t){return le(tI(t))?t.pop():void 0}function ni(t){return rl(tI(t))?t.pop():void 0}function Vp(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function rI(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function nI(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Zi(t){return this instanceof Zi?(this.v=t,this):new Zi(t)}function iI(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i={},a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(S){return Promise.resolve(S).then(y,p)}}function a(y,S){r[y]&&(i[y]=function(N){return new Promise(function(x,F){o.push([y,N,x,F])>1||u(y,N)})},S&&(i[y]=S(i[y])))}function u(y,S){try{l(r[y](S))}catch(N){m(o[0][3],N)}}function l(y){y.value instanceof Zi?Promise.resolve(y.value.v).then(h,p):m(o[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function m(y,S){y(S),o.shift(),o.length&&u(o[0][0],o[0][1])}}function oI(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof nI=="function"?nI(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var ol=t=>t&&typeof t.length=="number"&&typeof t!="function";function sl(t){return le(t?.then)}function al(t){return le(t[Yo])}function cl(t){return Symbol.asyncIterator&&le(t?.[Symbol.asyncIterator])}function ul(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function FR(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ll=FR();function dl(t){return le(t?.[ll])}function hl(t){return iI(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Zi(n.read());if(i)return yield Zi(void 0);yield yield Zi(r)}}finally{n.releaseLock()}})}function fl(t){return le(t?.getReader)}function rt(t){if(t instanceof fe)return t;if(t!=null){if(al(t))return VR(t);if(ol(t))return LR(t);if(sl(t))return jR(t);if(cl(t))return sI(t);if(dl(t))return UR(t);if(fl(t))return BR(t)}throw ul(t)}function VR(t){return new fe(e=>{let n=t[Yo]();if(le(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function LR(t){return new fe(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function jR(t){return new fe(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Qu)})}function UR(t){return new fe(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function sI(t){return new fe(e=>{$R(t,e).catch(n=>e.error(n))})}function BR(t){return sI(hl(t))}function $R(t,e){var n,r,i,o;return rI(this,void 0,void 0,function*(){try{for(n=oI(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function Wt(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function ri(t,e=0){return Ce((n,r)=>{n.subscribe(_e(r,i=>Wt(r,t,()=>r.next(i),e),()=>Wt(r,t,()=>r.complete(),e),i=>Wt(r,t,()=>r.error(i),e)))})}function ii(t,e=0){return Ce((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function aI(t,e){return rt(t).pipe(ii(e),ri(e))}function cI(t,e){return rt(t).pipe(ii(e),ri(e))}function uI(t,e){return new fe(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function lI(t,e){return new fe(n=>{let r;return Wt(n,e,()=>{r=t[ll](),Wt(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>le(r?.return)&&r.return()})}function pl(t,e){if(!t)throw new Error("Iterable cannot be null");return new fe(n=>{Wt(n,e,()=>{let r=t[Symbol.asyncIterator]();Wt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function dI(t,e){return pl(hl(t),e)}function hI(t,e){if(t!=null){if(al(t))return aI(t,e);if(ol(t))return uI(t,e);if(sl(t))return cI(t,e);if(cl(t))return pl(t,e);if(dl(t))return lI(t,e);if(fl(t))return dI(t,e)}throw ul(t)}function ke(t,e){return e?hI(t,e):rt(t)}function Z(...t){let e=ni(t);return ke(t,e)}function ns(t,e){let n=le(t)?t:()=>t,r=i=>i.error(n());return new fe(e?i=>e.schedule(r,0,i):r)}function Lp(t){return!!t&&(t instanceof fe||le(t.lift)&&le(t.subscribe))}var yr=Go(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function fI(t){return t instanceof Date&&!isNaN(t)}function X(t,e){return Ce((n,r)=>{let i=0;n.subscribe(_e(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:HR}=Array;function zR(t,e){return HR(e)?t(...e):t(e)}function gl(t){return X(e=>zR(t,e))}var{isArray:qR}=Array,{getPrototypeOf:GR,prototype:WR,keys:KR}=Object;function ml(t){if(t.length===1){let e=t[0];if(qR(e))return{args:e,keys:null};if(QR(e)){let n=KR(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function QR(t){return t&&typeof t=="object"&&GR(t)===WR}function yl(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Wa(...t){let e=ni(t),n=il(t),{args:r,keys:i}=ml(t);if(r.length===0)return ke([],e);let o=new fe(YR(r,e,i?s=>yl(i,s):Xt));return n?o.pipe(gl(n)):o}function YR(t,e,n=Xt){return r=>{pI(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)pI(e,()=>{let l=ke(t[u],e),h=!1;l.subscribe(_e(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function pI(t,e,n){t?Wt(n,t,e):e()}function gI(t,e,n,r,i,o,s,a){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},y=N=>l<r?S(N):u.push(N),S=N=>{o&&e.next(N),l++;let x=!1;rt(n(N,h++)).subscribe(_e(e,F=>{i?.(F),o?y(F):e.next(F)},()=>{x=!0},void 0,()=>{if(x)try{for(l--;u.length&&l<r;){let F=u.shift();s?Wt(e,s,()=>S(F)):S(F)}m()}catch(F){e.error(F)}}))};return t.subscribe(_e(e,y,()=>{p=!0,m()})),()=>{a?.()}}function it(t,e,n=1/0){return le(e)?it((r,i)=>X((o,s)=>e(r,o,i,s))(rt(t(r,i))),n):(typeof e=="number"&&(n=e),Ce((r,i)=>gI(r,i,t,n)))}function oi(t=1/0){return it(Xt,t)}function mI(){return oi(1)}function rs(...t){return mI()(ke(t,ni(t)))}function vl(t){return new fe(e=>{rt(t()).subscribe(e)})}function jp(...t){let e=il(t),{args:n,keys:r}=ml(t),i=new fe(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;rt(n[h]).subscribe(_e(o,m=>{p||(p=!0,l--),a[h]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?yl(r,a):a),o.complete())}))}});return e?i.pipe(gl(e)):i}function Up(t=0,e,n=kp){let r=-1;return e!=null&&(rl(e)?n=e:r=e),new fe(i=>{let o=fI(t)?+t-n.now():t;o<0&&(o=0);let s=0;return n.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function Ut(t,e){return Ce((n,r)=>{let i=0;n.subscribe(_e(r,o=>t.call(e,o,i++)&&r.next(o)))})}function si(t){return Ce((e,n)=>{let r=null,i=!1,o;r=e.subscribe(_e(n,void 0,void 0,s=>{o=rt(t(s,si(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function yI(t,e,n,r,i){return(o,s)=>{let a=n,u=e,l=0;o.subscribe(_e(s,h=>{let p=l++;u=a?t(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function vr(t,e){return le(e)?it(t,e,1):it(t,1)}function ai(t){return Ce((e,n)=>{let r=!1;e.subscribe(_e(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function _r(t){return t<=0?()=>en:Ce((e,n)=>{let r=0;e.subscribe(_e(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Bp(t){return X(()=>t)}function _l(t=JR){return Ce((e,n)=>{let r=!1;e.subscribe(_e(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function JR(){return new yr}function ci(t){return Ce((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Ln(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ut((i,o)=>t(i,o,r)):Xt,_r(1),n?ai(e):_l(()=>new yr))}function is(t){return t<=0?()=>en:Ce((e,n)=>{let r=[];e.subscribe(_e(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function $p(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ut((i,o)=>t(i,o,r)):Xt,is(1),n?ai(e):_l(()=>new yr))}function wl(t,e){return Ce(yI(t,e,arguments.length>=2,!0))}function El(...t){let e=ni(t);return Ce((n,r)=>{(e?rs(t,n,e):rs(t,n)).subscribe(r)})}function Kt(t,e){return Ce((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(_e(r,u=>{i?.unsubscribe();let l=0,h=o++;rt(t(u,h)).subscribe(i=_e(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Hp(t){return Ce((e,n)=>{rt(t).subscribe(_e(n,()=>n.complete(),qa)),!n.closed&&e.subscribe(n)})}function ot(t,e,n){let r=le(t)||e||n?{next:t,error:e,complete:n}:t;return r?Ce((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(_e(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Xt}var iC="https://g.co/ng/security#xss",K=class extends Error{constructor(e,n){super(td(e,n)),this.code=e}};function td(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function nc(t){return{toString:t}.toString()}var Il="__parameters__";function ZR(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function oC(t,e,n){return nc(()=>{let r=ZR(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(Il)?u[Il]:Object.defineProperty(u,Il,{value:[]})[Il];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var wr=globalThis;function Fe(t){for(let e in t)if(t[e]===Fe)return e;throw Error("Could not find renamed property on target object.")}function XR(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function $t(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map($t).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function vI(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var eN=Fe({__forward_ref__:Fe});function Gn(t){return t.__forward_ref__=Gn,t.toString=function(){return $t(this())},t}function Bt(t){return sC(t)?t():t}function sC(t){return typeof t=="function"&&t.hasOwnProperty(eN)&&t.__forward_ref__===Gn}function H(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Wn(t){return{providers:t.providers||[],imports:t.imports||[]}}function nd(t){return _I(t,cC)||_I(t,uC)}function aC(t){return nd(t)!==null}function _I(t,e){return t.hasOwnProperty(e)?t[e]:null}function tN(t){let e=t&&(t[cC]||t[uC]);return e||null}function wI(t){return t&&(t.hasOwnProperty(EI)||t.hasOwnProperty(nN))?t[EI]:null}var cC=Fe({\u0275prov:Fe}),EI=Fe({\u0275inj:Fe}),uC=Fe({ngInjectableDef:Fe}),nN=Fe({ngInjectorDef:Fe}),$=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=H({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function lC(t){return t&&!!t.\u0275providers}var rN=Fe({\u0275cmp:Fe}),iN=Fe({\u0275dir:Fe}),oN=Fe({\u0275pipe:Fe}),sN=Fe({\u0275mod:Fe}),Rl=Fe({\u0275fac:Fe}),Ka=Fe({__NG_ELEMENT_ID__:Fe}),II=Fe({__NG_ENV_ID__:Fe});function ls(t){return typeof t=="string"?t:t==null?"":String(t)}function aN(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():ls(t)}function cN(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new K(-200,t)}function Xg(t,e){throw new K(-201,!1)}var ve=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ve||{}),og;function dC(){return og}function Qt(t){let e=og;return og=t,e}function hC(t,e,n){let r=nd(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&ve.Optional)return null;if(e!==void 0)return e;Xg(t,"Injector")}var uN={},Qa=uN,sg="__NG_DI_FLAG__",Nl="ngTempTokenPath",lN="ngTokenPath",dN=/\n/gm,hN="\u0275",CI="__source",cs;function fN(){return cs}function ui(t){let e=cs;return cs=t,e}function pN(t,e=ve.Default){if(cs===void 0)throw new K(-203,!1);return cs===null?hC(t,void 0,e):cs.get(t,e&ve.Optional?null:void 0,e)}function W(t,e=ve.Default){return(dC()||pN)(Bt(t),e)}function k(t,e=ve.Default){return W(t,rd(e))}function rd(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function ag(t){let e=[];for(let n=0;n<t.length;n++){let r=Bt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new K(900,!1);let i,o=ve.Default;for(let s=0;s<r.length;s++){let a=r[s],u=gN(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(W(i,o))}else e.push(W(r))}return e}function fC(t,e){return t[sg]=e,t.prototype[sg]=e,t}function gN(t){return t[sg]}function mN(t,e,n,r){let i=t[Nl];throw e[CI]&&i.unshift(e[CI]),t.message=yN(`
`+t.message,i,n,r),t[lN]=i,t[Nl]=null,t}function yN(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==hN?t.slice(2):t;let i=$t(e);if(Array.isArray(e))i=e.map($t).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):$t(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(dN,`
  `)}`}var ft=fC(oC("Optional"),8);var em=fC(oC("SkipSelf"),4);function no(t,e){let n=t.hasOwnProperty(Rl);return n?t[Rl]:null}function vN(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function _N(t){return t.flat(Number.POSITIVE_INFINITY)}function tm(t,e){t.forEach(n=>Array.isArray(n)?tm(n,e):e(n))}function pC(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Ol(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function wN(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function EN(t,e,n){let r=rc(t,e);return r>=0?t[r|1]=n:(r=~r,wN(t,r,e,n)),r}function zp(t,e){let n=rc(t,e);if(n>=0)return t[n|1]}function rc(t,e){return IN(t,e,1)}function IN(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var ds={},dn=[],hs=new $(""),gC=new $("",-1),mC=new $(""),kl=class{get(e,n=Qa){if(n===Qa){let r=new Error(`NullInjectorError: No provider for ${$t(e)}!`);throw r.name="NullInjectorError",r}return n}},yC=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(yC||{}),Bn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Bn||{}),fs=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(fs||{});function CN(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function cg(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];bN(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function vC(t){return t===3||t===4||t===6}function bN(t){return t.charCodeAt(0)===64}function Ya(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?bI(t,n,i,null,e[++r]):bI(t,n,i,null,null))}}return t}function bI(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var _C="ng-template";function DN(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&CN(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(nm(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function nm(t){return t.type===4&&t.value!==_C}function TN(t,e,n){let r=t.type===4&&!n?_C:t.value;return e===r}function SN(t,e,n){let r=4,i=t.attrs,o=i!==null?xN(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!Cn(r)&&!Cn(u))return!1;if(s&&Cn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!TN(t,u,n)||u===""&&e.length===1){if(Cn(r))return!1;s=!0}}else if(r&8){if(i===null||!DN(t,i,u,n)){if(Cn(r))return!1;s=!0}}else{let l=e[++a],h=AN(u,i,nm(t),n);if(h===-1){if(Cn(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(Cn(r))return!1;s=!0}}}}return Cn(r)||s}function Cn(t){return(t&1)===0}function AN(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return PN(e,t)}function MN(t,e,n=!1){for(let r=0;r<e.length;r++)if(SN(t,e[r],n))return!0;return!1}function xN(t){for(let e=0;e<t.length;e++){let n=t[e];if(vC(n))return e}return t.length}function PN(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function DI(t,e){return t?":not("+e.trim()+")":e}function RN(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Cn(s)&&(e+=DI(o,i),i=""),r=s,o=o||!Cn(r);n++}return i!==""&&(e+=DI(o,i)),e}function NN(t){return t.map(RN).join(",")}function ON(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!Cn(i))break;i=o}r++}return{attrs:e,classes:n}}function Je(t){return nc(()=>{let e=bC(t),n=ye(j({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===yC.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Bn.Emulated,styles:t.styles||dn,_:null,schemas:t.schemas||null,tView:null,id:""});DC(n);let r=t.dependencies;return n.directiveDefs=SI(r,!1),n.pipeDefs=SI(r,!0),n.id=VN(n),n})}function kN(t){return fi(t)||wC(t)}function FN(t){return t!==null}function Kn(t){return nc(()=>({type:t.type,bootstrap:t.bootstrap||dn,declarations:t.declarations||dn,imports:t.imports||dn,exports:t.exports||dn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function TI(t,e){if(t==null)return ds;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=fs.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==fs.None?[r,a]:r,e[o]=s):n[o]=r}return n}function ze(t){return nc(()=>{let e=bC(t);return DC(e),e})}function rm(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function fi(t){return t[rN]||null}function wC(t){return t[iN]||null}function EC(t){return t[oN]||null}function IC(t){let e=fi(t)||wC(t)||EC(t);return e!==null?e.standalone:!1}function CC(t,e){let n=t[sN]||null;if(!n&&e===!0)throw new Error(`Type ${$t(t)} does not have '\u0275mod' property.`);return n}function bC(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||ds,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||dn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:TI(t.inputs,e),outputs:TI(t.outputs),debugInfo:null}}function DC(t){t.features?.forEach(e=>e(t))}function SI(t,e){if(!t)return null;let n=e?EC:kN;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(FN)}function VN(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function nn(t){return{\u0275providers:t}}function LN(...t){return{\u0275providers:TC(!0,t),\u0275fromNgModule:!0}}function TC(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return tm(e,s=>{let a=s;ug(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&SC(i,o),n}function SC(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];im(i,o=>{e(o,r)})}}function ug(t,e,n,r){if(t=Bt(t),!t)return!1;let i=null,o=wI(t),s=!o&&fi(t);if(!o&&!s){let u=t.ngModule;if(o=wI(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)ug(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{tm(o.imports,h=>{ug(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&SC(l,e)}if(!a){let l=no(i)||(()=>new i);e({provide:i,useFactory:l,deps:dn},i),e({provide:mC,useValue:i,multi:!0},i),e({provide:hs,useValue:()=>W(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=t;im(u,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function im(t,e){for(let n of t)lC(n)&&(n=n.\u0275providers),Array.isArray(n)?im(n,e):e(n)}var jN=Fe({provide:String,useValue:Fe});function AC(t){return t!==null&&typeof t=="object"&&jN in t}function UN(t){return!!(t&&t.useExisting)}function BN(t){return!!(t&&t.useFactory)}function ps(t){return typeof t=="function"}function $N(t){return!!t.useClass}var id=new $(""),Tl={},HN={},qp;function om(){return qp===void 0&&(qp=new kl),qp}var Pt=class{},Ja=class extends Pt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,dg(e,s=>this.processProvider(s)),this.records.set(gC,os(void 0,this)),i.has("environment")&&this.records.set(Pt,os(void 0,this));let o=this.records.get(id);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(mC,dn,ve.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Ae(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ae(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=ui(this),r=Qt(void 0),i;try{return e()}finally{ui(n),Qt(r)}}get(e,n=Qa,r=ve.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(II))return e[II](this);r=rd(r);let i,o=ui(this),s=Qt(void 0);try{if(!(r&ve.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=KN(e)&&nd(e);l&&this.injectableDefInScope(l)?u=os(lg(e),Tl):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&ve.Self?om():this.parent;return n=r&ve.Optional&&n===Qa?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Nl]=a[Nl]||[]).unshift($t(e)),o)throw a;return mN(a,e,"R3InjectorError",this.source)}else throw a}finally{Qt(s),ui(o)}}resolveInjectorInitializers(){let e=Ae(null),n=ui(this),r=Qt(void 0),i;try{let o=this.get(hs,dn,ve.Self);for(let s of o)s()}finally{ui(n),Qt(r),Ae(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push($t(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new K(205,!1)}processProvider(e){e=Bt(e);let n=ps(e)?e:Bt(e&&e.provide),r=qN(e);if(!ps(e)&&e.multi===!0){let i=this.records.get(n);i||(i=os(void 0,Tl,!0),i.factory=()=>ag(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=Ae(null);try{return n.value===Tl&&(n.value=HN,n.value=n.factory()),typeof n.value=="object"&&n.value&&WN(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Ae(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Bt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function lg(t){let e=nd(t),n=e!==null?e.factory:no(t);if(n!==null)return n;if(t instanceof $)throw new K(204,!1);if(t instanceof Function)return zN(t);throw new K(204,!1)}function zN(t){if(t.length>0)throw new K(204,!1);let n=tN(t);return n!==null?()=>n.factory(t):()=>new t}function qN(t){if(AC(t))return os(void 0,t.useValue);{let e=MC(t);return os(e,Tl)}}function MC(t,e,n){let r;if(ps(t)){let i=Bt(t);return no(i)||lg(i)}else if(AC(t))r=()=>Bt(t.useValue);else if(BN(t))r=()=>t.useFactory(...ag(t.deps||[]));else if(UN(t))r=()=>W(Bt(t.useExisting));else{let i=Bt(t&&(t.useClass||t.provide));if(GN(t))r=()=>new i(...ag(t.deps));else return no(i)||lg(i)}return r}function os(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function GN(t){return!!t.deps}function WN(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function KN(t){return typeof t=="function"||typeof t=="object"&&t instanceof $}function dg(t,e){for(let n of t)Array.isArray(n)?dg(n,e):n&&lC(n)?dg(n.\u0275providers,e):e(n)}function rn(t,e){t instanceof Ja&&t.assertNotDestroyed();let n,r=ui(t),i=Qt(void 0);try{return e()}finally{ui(r),Qt(i)}}function xC(){return dC()!==void 0||fN()!=null}function QN(t){if(!xC())throw new K(-203,!1)}function YN(t){return typeof t=="function"}var Dr=0,pe=1,se=2,Rt=3,bn=4,Tn=5,Fl=6,Vl=7,Dn=8,gs=9,$n=10,st=11,Za=12,AI=13,Is=14,Hn=15,ro=16,ss=17,Er=18,od=19,PC=20,di=21,Gp=22,hn=23,fn=25,RC=1;var io=7,Ll=8,ms=9,tn=10,jl=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(jl||{});function hi(t){return Array.isArray(t)&&typeof t[RC]=="object"}function Tr(t){return Array.isArray(t)&&t[RC]===!0}function NC(t){return(t.flags&4)!==0}function sd(t){return t.componentOffset>-1}function sm(t){return(t.flags&1)===1}function pi(t){return!!t.template}function hg(t){return(t[se]&512)!==0}var fg=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function OC(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Sr(){return kC}function kC(t){return t.type.prototype.ngOnChanges&&(t.setInput=ZN),JN}Sr.ngInherit=!0;function JN(){let t=VC(this),e=t?.current;if(e){let n=t.previous;if(n===ds)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function ZN(t,e,n,r,i){let o=this.declaredInputs[r],s=VC(t)||XN(t,{previous:ds,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new fg(l&&l.currentValue,n,u===ds),OC(t,e,i,n)}var FC="__ngSimpleChanges__";function VC(t){return t[FC]||null}function XN(t,e){return t[FC]=e}var MI=null;var jn=function(t,e,n){MI?.(t,e,n)},e1="svg",t1="math";function zn(t){for(;Array.isArray(t);)t=t[Dr];return t}function LC(t,e){return zn(e[t])}function pn(t,e){return zn(e[t.index])}function jC(t,e){return t.data[e]}function am(t,e){return t[e]}function mi(t,e){let n=e[t];return hi(n)?n:n[Dr]}function n1(t){return(t[se]&4)===4}function cm(t){return(t[se]&128)===128}function r1(t){return Tr(t[Rt])}function Ul(t,e){return e==null?null:t[e]}function UC(t){t[ss]=0}function BC(t){t[se]&1024||(t[se]|=1024,cm(t)&&ad(t))}function i1(t,e){for(;t>0;)e=e[Is],t--;return e}function Xa(t){return!!(t[se]&9216||t[hn]?.dirty)}function pg(t){t[$n].changeDetectionScheduler?.notify(7),t[se]&64&&(t[se]|=1024),Xa(t)&&ad(t)}function ad(t){t[$n].changeDetectionScheduler?.notify(0);let e=oo(t);for(;e!==null&&!(e[se]&8192||(e[se]|=8192,!cm(e)));)e=oo(e)}function $C(t,e){if((t[se]&256)===256)throw new K(911,!1);t[di]===null&&(t[di]=[]),t[di].push(e)}function o1(t,e){if(t[di]===null)return;let n=t[di].indexOf(e);n!==-1&&t[di].splice(n,1)}function oo(t){let e=t[Rt];return Tr(e)?e[Rt]:e}var me={lFrame:ZC(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var HC=!1;function s1(){return me.lFrame.elementDepthCount}function a1(){me.lFrame.elementDepthCount++}function c1(){me.lFrame.elementDepthCount--}function zC(){return me.bindingsEnabled}function u1(){return me.skipHydrationRootTNode!==null}function l1(t){return me.skipHydrationRootTNode===t}function d1(){me.skipHydrationRootTNode=null}function Ie(){return me.lFrame.lView}function vt(){return me.lFrame.tView}function ee(t){return me.lFrame.contextLView=t,t[Dn]}function te(t){return me.lFrame.contextLView=null,t}function Nt(){let t=qC();for(;t!==null&&t.type===64;)t=t.parent;return t}function qC(){return me.lFrame.currentTNode}function h1(){let t=me.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function ic(t,e){let n=me.lFrame;n.currentTNode=t,n.isParent=e}function GC(){return me.lFrame.isParent}function f1(){me.lFrame.isParent=!1}function p1(){return me.lFrame.contextLView}function WC(){return HC}function xI(t){HC=t}function um(){let t=me.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function g1(){return me.lFrame.bindingIndex}function m1(t){return me.lFrame.bindingIndex=t}function cd(){return me.lFrame.bindingIndex++}function KC(t){let e=me.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function y1(){return me.lFrame.inI18n}function v1(t,e){let n=me.lFrame;n.bindingIndex=n.bindingRootIndex=t,gg(e)}function _1(){return me.lFrame.currentDirectiveIndex}function gg(t){me.lFrame.currentDirectiveIndex=t}function w1(t){let e=me.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function QC(){return me.lFrame.currentQueryIndex}function lm(t){me.lFrame.currentQueryIndex=t}function E1(t){let e=t[pe];return e.type===2?e.declTNode:e.type===1?t[Tn]:null}function YC(t,e,n){if(n&ve.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&ve.Host);)if(i=E1(o),i===null||(o=o[Is],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=me.lFrame=JC();return r.currentTNode=e,r.lView=t,!0}function dm(t){let e=JC(),n=t[pe];me.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function JC(){let t=me.lFrame,e=t===null?null:t.child;return e===null?ZC(t):e}function ZC(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function XC(){let t=me.lFrame;return me.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var eb=XC;function hm(){let t=XC();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function I1(t){return(me.lFrame.contextLView=i1(t,me.lFrame.contextLView))[Dn]}function po(){return me.lFrame.selectedIndex}function so(t){me.lFrame.selectedIndex=t}function ud(){let t=me.lFrame;return jC(t.tView,t.selectedIndex)}function C1(){return me.lFrame.currentNamespace}var tb=!0;function fm(){return tb}function pm(t){tb=t}function b1(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=kC(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function gm(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function Sl(t,e,n){nb(t,e,3,n)}function Al(t,e,n,r){(t[se]&3)===n&&nb(t,e,n,r)}function Wp(t,e){let n=t[se];(n&3)===e&&(n&=16383,n+=1,t[se]=n)}function nb(t,e,n,r){let i=r!==void 0?t[ss]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[ss]+=65536),(a<o||o==-1)&&(D1(t,n,e,u),t[ss]=(t[ss]&4294901760)+u+2),u++}function PI(t,e){jn(4,t,e);let n=Ae(null);try{e.call(t)}finally{Ae(n),jn(5,t,e)}}function D1(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[se]>>14<t[ss]>>16&&(t[se]&3)===e&&(t[se]+=16384,PI(a,o)):PI(a,o)}var us=-1,ao=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function T1(t){return t instanceof ao}function S1(t){return(t.flags&8)!==0}function A1(t){return(t.flags&16)!==0}var Kp={},mg=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=rd(r);let i=this.injector.get(e,Kp,r);return i!==Kp||n===Kp?i:this.parentInjector.get(e,n,r)}};function rb(t){return t!==us}function Bl(t){return t&32767}function M1(t){return t>>16}function $l(t,e){let n=M1(t),r=e;for(;n>0;)r=r[Is],n--;return r}var yg=!0;function Hl(t){let e=yg;return yg=t,e}var x1=256,ib=x1-1,ob=5,P1=0,Un={};function R1(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ka)&&(r=n[Ka]),r==null&&(r=n[Ka]=P1++);let i=r&ib,o=1<<i;e.data[t+(i>>ob)]|=o}function zl(t,e){let n=sb(t,e);if(n!==-1)return n;let r=e[pe];r.firstCreatePass&&(t.injectorIndex=e.length,Qp(r.data,t),Qp(e,null),Qp(r.blueprint,null));let i=mm(t,e),o=t.injectorIndex;if(rb(i)){let s=Bl(i),a=$l(i,e),u=a[pe].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function Qp(t,e){t.push(0,0,0,0,0,0,0,0,e)}function sb(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function mm(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=db(i),r===null)return us;if(n++,i=i[Is],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return us}function vg(t,e,n){R1(t,e,n)}function N1(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(vC(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function ab(t,e,n){if(n&ve.Optional||t!==void 0)return t;Xg(e,"NodeInjector")}function cb(t,e,n,r){if(n&ve.Optional&&r===void 0&&(r=null),!(n&(ve.Self|ve.Host))){let i=t[gs],o=Qt(void 0);try{return i?i.get(e,r,n&ve.Optional):hC(e,r,n&ve.Optional)}finally{Qt(o)}}return ab(r,e,n)}function ub(t,e,n,r=ve.Default,i){if(t!==null){if(e[se]&2048&&!(r&ve.Self)){let s=V1(t,e,n,r,Un);if(s!==Un)return s}let o=lb(t,e,n,r,Un);if(o!==Un)return o}return cb(e,n,r,i)}function lb(t,e,n,r,i){let o=k1(n);if(typeof o=="function"){if(!YC(e,t,r))return r&ve.Host?ab(i,n,r):cb(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&ve.Optional))Xg(n);else return s}finally{eb()}}else if(typeof o=="number"){let s=null,a=sb(t,e),u=us,l=r&ve.Host?e[Hn][Tn]:null;for((a===-1||r&ve.SkipSelf)&&(u=a===-1?mm(t,e):e[a+8],u===us||!NI(r,!1)?a=-1:(s=e[pe],a=Bl(u),e=$l(u,e)));a!==-1;){let h=e[pe];if(RI(o,a,h.data)){let p=O1(a,e,n,s,r,l);if(p!==Un)return p}u=e[a+8],u!==us&&NI(r,e[pe].data[a+8]===l)&&RI(o,a,e)?(s=h,a=Bl(u),e=$l(u,e)):a=-1}}return i}function O1(t,e,n,r,i,o){let s=e[pe],a=s.data[t+8],u=r==null?sd(a)&&yg:r!=s&&(a.type&3)!==0,l=i&ve.Host&&o===a,h=Ml(a,s,n,u,l);return h!==null?co(e,s,h,a):Un}function Ml(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,u=t.directiveStart,l=t.directiveEnd,h=o>>20,p=r?a:a+h,m=i?a+h:l;for(let y=p;y<m;y++){let S=s[y];if(y<u&&n===S||y>=u&&S.type===n)return y}if(i){let y=s[u];if(y&&pi(y)&&y.type===n)return u}return null}function co(t,e,n,r){let i=t[n],o=e.data;if(T1(i)){let s=i;s.resolving&&cN(aN(o[n]));let a=Hl(s.canSeeViewProviders);s.resolving=!0;let u,l=s.injectImpl?Qt(s.injectImpl):null,h=YC(t,r,ve.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&b1(n,o[n],e)}finally{l!==null&&Qt(l),Hl(a),s.resolving=!1,eb()}}return i}function k1(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Ka)?t[Ka]:void 0;return typeof e=="number"?e>=0?e&ib:F1:e}function RI(t,e,n){let r=1<<t;return!!(n[e+(t>>ob)]&r)}function NI(t,e){return!(t&ve.Self)&&!(t&ve.Host&&e)}var to=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return ub(this._tNode,this._lView,e,rd(r),n)}};function F1(){return new to(Nt(),Ie())}function Ar(t){return nc(()=>{let e=t.prototype.constructor,n=e[Rl]||_g(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Rl]||_g(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function _g(t){return sC(t)?()=>{let e=_g(Bt(t));return e&&e()}:no(t)}function V1(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[se]&2048&&!(s[se]&512);){let a=lb(o,s,n,r|ve.Self,Un);if(a!==Un)return a;let u=o.parent;if(!u){let l=s[PC];if(l){let h=l.get(n,Un,r);if(h!==Un)return h}u=db(s),s=s[Is]}o=u}return i}function db(t){let e=t[pe],n=e.type;return n===2?e.declTNode:n===1?t[Tn]:null}function ym(t){return N1(Nt(),t)}function OI(t,e=null,n=null,r){let i=hb(t,e,n,r);return i.resolveInjectorInitializers(),i}function hb(t,e=null,n=null,r,i=new Set){let o=[n||dn,LN(t)];return r=r||(typeof t=="object"?void 0:$t(t)),new Ja(o,e||om(),r||null,i)}var eo=class eo{static create(e,n){if(Array.isArray(e))return OI({name:""},n,e,"");{let r=e.name??"";return OI({name:r},e.parent,e.providers,r)}}};eo.THROW_IF_NOT_FOUND=Qa,eo.NULL=new kl,eo.\u0275prov=H({token:eo,providedIn:"any",factory:()=>W(gC)}),eo.__NG_ELEMENT_ID__=-1;var ht=eo;var L1=new $("");L1.__NG_ELEMENT_ID__=t=>{let e=Nt();if(e===null)throw new K(204,!1);if(e.type&2)return e.value;if(t&ve.Optional)return null;throw new K(204,!1)};var j1="ngOriginalError";function Yp(t){return t[j1]}var qn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Yp(e);for(;n&&Yp(n);)n=Yp(n);return n||null}},fb=new $("",{providedIn:"root",factory:()=>k(qn).handleError.bind(void 0)}),vm=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=U1,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),wg=class extends vm{constructor(e){super(),this._lView=e}onDestroy(e){return $C(this._lView,e),()=>o1(this._lView,e)}};function U1(){return new wg(Ie())}function B1(){return Cs(Nt(),Ie())}function Cs(t,e){return new Ht(pn(t,e))}var Ht=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=B1;let t=e;return t})();function $1(t){return t instanceof Ht?t.nativeElement:t}var Mr=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new dt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275prov=H({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();var Eg=class extends yt{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,xC()&&(this.destroyRef=k(vm,{optional:!0})??void 0,this.pendingTasks=k(Mr,{optional:!0})??void 0)}emit(e){let n=Ae(null);try{super.next(e)}finally{Ae(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Qe&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},Ye=Eg;function H1(){return this._results[Symbol.iterator]()}var Ig=class t{get changes(){return this._changes??=new Ye}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=H1)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=_N(e);(this._changesDetected=!vN(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function pb(t){return(t.flags&128)===128}var gb=new Map,z1=0;function q1(){return z1++}function G1(t){gb.set(t[od],t)}function W1(t){gb.delete(t[od])}var kI="__ngContext__";function uo(t,e){hi(e)?(t[kI]=e[od],G1(e)):t[kI]=e}function mb(t){return vb(t[Za])}function yb(t){return vb(t[bn])}function vb(t){for(;t!==null&&!Tr(t);)t=t[bn];return t}var Cg;function _b(t){Cg=t}function K1(){if(Cg!==void 0)return Cg;if(typeof document<"u")return document;throw new K(210,!1)}var _m=new $("",{providedIn:"root",factory:()=>Q1}),Q1="ng",wm=new $(""),bt=new $("",{providedIn:"platform",factory:()=>"unknown"});var Em=new $("",{providedIn:"root",factory:()=>K1().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Y1="h",J1="b";var Z1=()=>null;function Im(t,e,n=!1){return Z1(t,e,n)}var wb=!1,X1=new $("",{providedIn:"root",factory:()=>wb});var Cl;function eO(){if(Cl===void 0&&(Cl=null,wr.trustedTypes))try{Cl=wr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Cl}function FI(t){return eO()?.createScriptURL(t)||t}var ql=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${iC})`}};function oc(t){return t instanceof ql?t.changingThisBreaksApplicationSecurity:t}function Cm(t,e){let n=tO(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${iC})`)}return n===e}function tO(t){return t instanceof ql&&t.getTypeName()||null}var nO=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Eb(t){return t=String(t),t.match(nO)?t:"unsafe:"+t}var ld=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(ld||{});function Qn(t){let e=Cb();return e?e.sanitize(ld.URL,t)||"":Cm(t,"URL")?oc(t):Eb(ls(t))}function rO(t){let e=Cb();if(e)return FI(e.sanitize(ld.RESOURCE_URL,t)||"");if(Cm(t,"ResourceURL"))return FI(oc(t));throw new K(904,!1)}function iO(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?rO:Qn}function Ib(t,e,n){return iO(e,n)(t)}function Cb(){let t=Ie();return t&&t[$n].sanitizer}function bb(t){return t instanceof Function?t():t}function oO(t){return(t??k(ht)).get(bt)==="browser"}var Ir=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Ir||{}),sO;function bm(t,e){return sO(t,e)}function as(t,e,n,r,i){if(r!=null){let o,s=!1;Tr(r)?o=r:hi(r)&&(s=!0,r=r[Dr]);let a=zn(r);t===0&&n!==null?i==null?Mb(e,n,a):Gl(e,n,a,i||null,!0):t===1&&n!==null?Gl(e,n,a,i||null,!0):t===2?IO(e,a,s):t===3&&e.destroyNode(a),o!=null&&bO(e,t,o,n,i)}}function aO(t,e){return t.createText(e)}function cO(t,e,n){t.setValue(e,n)}function Db(t,e,n){return t.createElement(e,n)}function uO(t,e){Tb(t,e),e[Dr]=null,e[Tn]=null}function lO(t,e,n,r,i,o){r[Dr]=i,r[Tn]=e,dd(t,r,n,1,i,o)}function Tb(t,e){e[$n].changeDetectionScheduler?.notify(8),dd(t,e,e[st],2,null,null)}function dO(t){let e=t[Za];if(!e)return Jp(t[pe],t);for(;e;){let n=null;if(hi(e))n=e[Za];else{let r=e[tn];r&&(n=r)}if(!n){for(;e&&!e[bn]&&e!==t;)hi(e)&&Jp(e[pe],e),e=e[Rt];e===null&&(e=t),hi(e)&&Jp(e[pe],e),n=e&&e[bn]}e=n}}function hO(t,e,n,r){let i=tn+r,o=n.length;r>0&&(n[i-1][bn]=e),r<o-tn?(e[bn]=n[i],pC(n,tn+r,e)):(n.push(e),e[bn]=null),e[Rt]=n;let s=e[ro];s!==null&&n!==s&&Sb(s,e);let a=e[Er];a!==null&&a.insertView(t),pg(e),e[se]|=128}function Sb(t,e){let n=t[ms],r=e[Rt];if(hi(r))t[se]|=jl.HasTransplantedViews;else{let i=r[Rt][Hn];e[Hn]!==i&&(t[se]|=jl.HasTransplantedViews)}n===null?t[ms]=[e]:n.push(e)}function Dm(t,e){let n=t[ms],r=n.indexOf(e);n.splice(r,1)}function bg(t,e){if(t.length<=tn)return;let n=tn+e,r=t[n];if(r){let i=r[ro];i!==null&&i!==t&&Dm(i,r),e>0&&(t[n-1][bn]=r[bn]);let o=Ol(t,tn+e);uO(r[pe],r);let s=o[Er];s!==null&&s.detachView(o[pe]),r[Rt]=null,r[bn]=null,r[se]&=-129}return r}function Ab(t,e){if(!(e[se]&256)){let n=e[st];n.destroyNode&&dd(t,e,n,3,null,null),dO(e)}}function Jp(t,e){if(e[se]&256)return;let n=Ae(null);try{e[se]&=-129,e[se]|=256,e[hn]&&Ip(e[hn]),pO(t,e),fO(t,e),e[pe].type===1&&e[st].destroy();let r=e[ro];if(r!==null&&Tr(e[Rt])){r!==e[Rt]&&Dm(r,e);let i=e[Er];i!==null&&i.detachView(t)}W1(e)}finally{Ae(n)}}function fO(t,e){let n=t.cleanup,r=e[Vl];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[Vl]=null);let i=e[di];if(i!==null){e[di]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function pO(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof ao)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];jn(4,a,u);try{u.call(a)}finally{jn(5,a,u)}}else{jn(4,i,o);try{o.call(i)}finally{jn(5,i,o)}}}}}function gO(t,e,n){return mO(t,e.parent,n)}function mO(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[Dr];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===Bn.None||o===Bn.Emulated)return null}return pn(r,n)}}function Gl(t,e,n,r,i){t.insertBefore(e,n,r,i)}function Mb(t,e,n){t.appendChild(e,n)}function VI(t,e,n,r,i){r!==null?Gl(t,e,n,r,i):Mb(t,e,n)}function yO(t,e,n,r){t.removeChild(e,n,r)}function Tm(t,e){return t.parentNode(e)}function vO(t,e){return t.nextSibling(e)}function _O(t,e,n){return EO(t,e,n)}function wO(t,e,n){return t.type&40?pn(t,n):null}var EO=wO,LI;function Sm(t,e,n,r){let i=gO(t,r,e),o=e[st],s=r.parent||e[Tn],a=_O(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)VI(o,i,n[u],a,!1);else VI(o,i,n,a,!1);LI!==void 0&&LI(o,r,e,n,i)}function xl(t,e){if(e!==null){let n=e.type;if(n&3)return pn(e,t);if(n&4)return Dg(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return xl(t,r);{let i=t[e.index];return Tr(i)?Dg(-1,i):zn(i)}}else{if(n&32)return bm(e,t)()||zn(t[e.index]);{let r=xb(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=oo(t[Hn]);return xl(i,r)}else return xl(t,e.next)}}}return null}function xb(t,e){if(e!==null){let r=t[Hn][Tn],i=e.projection;return r.projection[i]}return null}function Dg(t,e){let n=tn+t+1;if(n<e.length){let r=e[n],i=r[pe].firstChild;if(i!==null)return xl(r,i)}return e[io]}function IO(t,e,n){let r=Tm(t,e);r&&yO(t,r,e,n)}function Am(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],u=n.type;if(s&&e===0&&(a&&uo(zn(a),r),n.flags|=2),(n.flags&32)!==32)if(u&8)Am(t,e,n.child,r,i,o,!1),as(e,t,i,a,o);else if(u&32){let l=bm(n,r),h;for(;h=l();)as(e,t,i,h,o);as(e,t,i,a,o)}else u&16?CO(t,e,r,n,i,o):as(e,t,i,a,o);n=s?n.projectionNext:n.next}}function dd(t,e,n,r,i,o){Am(n,r,t.firstChild,e,i,o,!1)}function CO(t,e,n,r,i,o){let s=n[Hn],u=s[Tn].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];as(e,t,i,h,o)}else{let l=u,h=s[Rt];pb(r)&&(l.flags|=128),Am(t,e,l,h,i,o,!0)}}function bO(t,e,n,r,i){let o=n[io],s=zn(n);o!==s&&as(e,t,r,o,i);for(let a=tn;a<n.length;a++){let u=n[a];dd(u[pe],u,t,e,r,o)}}function DO(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Ir.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Ir.Important),t.setStyle(n,r,i,o))}}function TO(t,e,n){t.setAttribute(e,"style",n)}function Pb(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function Rb(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&cg(t,e,r),i!==null&&Pb(t,e,i),o!==null&&TO(t,e,o)}var Yn={};function V(t=1){Nb(vt(),Ie(),po()+t,!1)}function Nb(t,e,n,r){if(!r)if((e[se]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Sl(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Al(e,o,0,n)}so(n)}function B(t,e=ve.Default){let n=Ie();if(n===null)return W(t,e);let r=Nt();return ub(r,n,Bt(t),e)}function Ob(){let t="invalid";throw new Error(t)}function kb(t,e,n,r,i,o){let s=Ae(null);try{let a=null;i&fs.SignalBased&&(a=e[r][vp]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&fs.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):OC(e,a,r,o)}finally{Ae(s)}}function SO(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)so(~i);else{let o=i,s=n[++r],a=n[++r];v1(s,o);let u=e[o];a(2,u)}}}finally{so(-1)}}function hd(t,e,n,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[Dr]=i,p[se]=r|4|128|8|64,(l!==null||t&&t[se]&2048)&&(p[se]|=2048),UC(p),p[Rt]=p[Is]=t,p[Dn]=n,p[$n]=s||t&&t[$n],p[st]=a||t&&t[st],p[gs]=u||t&&t[gs]||null,p[Tn]=o,p[od]=q1(),p[Fl]=h,p[PC]=l,p[Hn]=e.type==2?t[Hn]:p,p}function fd(t,e,n,r,i){let o=t.data[e];if(o===null)o=AO(t,e,n,r,i),y1()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=h1();o.injectorIndex=s===null?-1:s.injectorIndex}return ic(o,!0),o}function AO(t,e,n,r,i){let o=qC(),s=GC(),a=s?o:o&&o.parent,u=t.data[e]=OO(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),o!==null&&(s?o.child==null&&u.parent!==null&&(o.child=u):o.next===null&&(o.next=u,u.prev=o)),u}function Fb(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Vb(t,e,n,r,i){let o=po(),s=r&2;try{so(-1),s&&e.length>fn&&Nb(t,e,fn,!1),jn(s?2:0,i),n(r,i)}finally{so(o),jn(s?3:1,i)}}function Lb(t,e,n){if(NC(e)){let r=Ae(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let u=n[s];a.contentQueries(1,u,s)}}}finally{Ae(r)}}}function jb(t,e,n){zC()&&(UO(t,e,n,pn(n,e)),(n.flags&64)===64&&zb(t,e,n))}function Ub(t,e,n=pn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function Bb(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Mm(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Mm(t,e,n,r,i,o,s,a,u,l,h){let p=fn+r,m=p+i,y=MO(p,m),S=typeof l=="function"?l():l;return y[pe]={type:t,blueprint:y,template:n,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:S,incompleteFirstPass:!1,ssrId:h}}function MO(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Yn);return n}function xO(t,e,n,r){let o=r.get(X1,wb)||n===Bn.ShadowDom,s=t.selectRootElement(e,o);return PO(s),s}function PO(t){RO(t)}var RO=()=>null;function NO(t,e,n,r){let i=Wb(e);i.push(n),t.firstCreatePass&&Kb(t).push(r,i.length-1)}function OO(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return u1()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function jI(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,u=fs.None;Array.isArray(s)?(a=s[0],u=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}t===0?UI(r,n,l,a,u):UI(r,n,l,a)}return r}function UI(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function kO(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],u=null,l=null;for(let h=r;h<i;h++){let p=o[h],m=n?n.get(p):null,y=m?m.inputs:null,S=m?m.outputs:null;u=jI(0,p.inputs,h,u,y),l=jI(1,p.outputs,h,l,S);let N=u!==null&&s!==null&&!nm(e)?JO(u,h,s):null;a.push(N)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}function FO(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function xm(t,e,n,r,i,o,s,a){let u=pn(e,n),l=e.inputs,h;!a&&l!=null&&(h=l[r])?(Pm(t,n,h,r,i),sd(e)&&VO(n,e.index)):e.type&3?(r=FO(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)):e.type&12}function VO(t,e){let n=mi(e,t);n[se]&16||(n[se]|=64)}function $b(t,e,n,r){if(zC()){let i=r===null?null:{"":-1},o=$O(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&Hb(t,e,n,s,i,a),i&&HO(n,r,i)}n.mergedAttrs=Ya(n.mergedAttrs,n.attrs)}function Hb(t,e,n,r,i,o){for(let l=0;l<r.length;l++)vg(zl(n,e),t,r[l].type);qO(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let h=r[l];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,u=Fb(t,e,r.length,null);for(let l=0;l<r.length;l++){let h=r[l];n.mergedAttrs=Ya(n.mergedAttrs,h.hostAttrs),GO(t,n,e,u,h),zO(u,h,i),h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let p=h.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}kO(t,n,o)}function LO(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;jO(s)!=a&&s.push(a),s.push(n,r,o)}}function jO(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function UO(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;sd(n)&&WO(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||zl(n,e),uo(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let u=t.data[a],l=co(e,t,a,n);if(uo(l,e),s!==null&&YO(e,a-i,l,u,n,s),pi(u)){let h=mi(n.index,e);h[Dn]=co(e,t,a,n)}}}function zb(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=_1();try{so(o);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];gg(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&BO(u,l)}}finally{so(-1),gg(s)}}function BO(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function $O(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(MN(e,s.selectors,!1))if(r||(r=[]),pi(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let u=a.length;Tg(t,e,u)}else r.unshift(s),Tg(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Tg(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function HO(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new K(-301,!1);r.push(e[i],o)}}}function zO(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;pi(e)&&(n[""]=t)}}function qO(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function GO(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=no(i.type,!0)),s=new ao(o,pi(i),B);t.blueprint[r]=s,n[r]=s,LO(t,e,r,Fb(t,n,i.hostVars,Yn),i)}function WO(t,e,n){let r=pn(e,t),i=Bb(n),o=t[$n].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=pd(t,hd(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function KO(t,e,n,r,i,o){let s=pn(t,e);QO(e[st],s,o,t.value,n,r,i)}function QO(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?ls(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function YO(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let u=s[a++],l=s[a++],h=s[a++],p=s[a++];kb(r,n,u,l,h,p)}}function JO(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function qb(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function Gb(t,e){let n=t.contentQueries;if(n!==null){let r=Ae(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];lm(o),a.contentQueries(2,e[s],s)}}}finally{Ae(r)}}}function pd(t,e){return t[Za]?t[AI][bn]=e:t[Za]=e,t[AI]=e,e}function Sg(t,e,n){lm(0);let r=Ae(null);try{e(t,n)}finally{Ae(r)}}function Wb(t){return t[Vl]??=[]}function Kb(t){return t.cleanup??=[]}function Qb(t,e){let n=t[gs],r=n?n.get(qn,null):null;r&&r.handleError(e)}function Pm(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],u=n[o++],l=e[s],h=t.data[s];kb(h,l,r,a,u,i)}}function Yb(t,e,n){let r=LC(e,t);cO(t[st],r,n)}function ZO(t,e){let n=mi(e,t),r=n[pe];XO(r,n);let i=n[Dr];i!==null&&n[Fl]===null&&(n[Fl]=Im(i,n[gs])),Rm(r,n,n[Dn])}function XO(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Rm(t,e,n){dm(e);try{let r=t.viewQuery;r!==null&&Sg(1,r,n);let i=t.template;i!==null&&Vb(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Er]?.finishViewCreation(t),t.staticContentQueries&&Gb(t,e),t.staticViewQueries&&Sg(2,t.viewQuery,n);let o=t.components;o!==null&&ek(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[se]&=-5,hm()}}function ek(t,e){for(let n=0;n<e.length;n++)ZO(t,e[n])}function tk(t,e,n,r){let i=Ae(null);try{let o=e.tView,a=t[se]&4096?4096:16,u=hd(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[ro]=l;let h=t[Er];return h!==null&&(u[Er]=h.createEmbeddedView(o)),Rm(o,u,n),u}finally{Ae(i)}}function BI(t,e){return!e||e.firstChild===null||pb(t)}function nk(t,e,n,r=!0){let i=e[pe];if(hO(i,e,t,n),r){let s=Dg(n,t),a=e[st],u=Tm(a,t[io]);u!==null&&lO(i,t[Tn],a,e,u,s)}let o=e[Fl];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Wl(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(zn(o)),Tr(o)&&rk(o,r);let s=n.type;if(s&8)Wl(t,e,n.child,r);else if(s&32){let a=bm(n,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=xb(e,n);if(Array.isArray(a))r.push(...a);else{let u=oo(e[Hn]);Wl(u[pe],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function rk(t,e){for(let n=tn;n<t.length;n++){let r=t[n],i=r[pe].firstChild;i!==null&&Wl(r[pe],r,i,e)}t[io]!==t[Dr]&&e.push(t[io])}var Jb=[];function ik(t){return t[hn]??ok(t)}function ok(t){let e=Jb.pop()??Object.create(ak);return e.lView=t,e}function sk(t){t.lView[hn]!==t&&(t.lView=null,Jb.push(t))}var ak=ye(j({},_p),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{ad(t.lView)},consumerOnSignalRead(){this.lView[hn]=this}});function ck(t){let e=t[hn]??Object.create(uk);return e.lView=t,e}var uk=ye(j({},_p),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=oo(t.lView);for(;e&&!Zb(e[pe]);)e=oo(e);e&&BC(e)},consumerOnSignalRead(){this.lView[hn]=this}});function Zb(t){return t.type!==2}var lk=100;function Xb(t,e=!0,n=0){let r=t[$n],i=r.rendererFactory,o=!1;o||i.begin?.();try{dk(t,n)}catch(s){throw e&&Qb(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function dk(t,e){let n=WC();try{xI(!0),Ag(t,e);let r=0;for(;Xa(t);){if(r===lk)throw new K(103,!1);r++,Ag(t,1)}}finally{xI(n)}}function hk(t,e,n,r){let i=e[se];if((i&256)===256)return;let o=!1,s=!1;!o&&e[$n].inlineEffectRunner?.flush(),dm(e);let a=!0,u=null,l=null;o||(Zb(t)?(l=ik(e),u=wp(l)):qE()===null?(a=!1,l=ck(e),u=wp(l)):e[hn]&&(Ip(e[hn]),e[hn]=null));try{UC(e),m1(t.bindingStartIndex),n!==null&&Vb(t,e,n,2,r);let h=(i&3)===3;if(!o)if(h){let y=t.preOrderCheckHooks;y!==null&&Sl(e,y,null)}else{let y=t.preOrderHooks;y!==null&&Al(e,y,0,null),Wp(e,0)}if(s||fk(e),eD(e,0),t.contentQueries!==null&&Gb(t,e),!o)if(h){let y=t.contentCheckHooks;y!==null&&Sl(e,y)}else{let y=t.contentHooks;y!==null&&Al(e,y,1),Wp(e,1)}SO(t,e);let p=t.components;p!==null&&nD(e,p,0);let m=t.viewQuery;if(m!==null&&Sg(2,m,r),!o)if(h){let y=t.viewCheckHooks;y!==null&&Sl(e,y)}else{let y=t.viewHooks;y!==null&&Al(e,y,2),Wp(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Gp]){for(let y of e[Gp])y();e[Gp]=null}o||(e[se]&=-73)}catch(h){throw o||ad(e),h}finally{l!==null&&(GE(l,u),a&&sk(l)),hm()}}function eD(t,e){for(let n=mb(t);n!==null;n=yb(n))for(let r=tn;r<n.length;r++){let i=n[r];tD(i,e)}}function fk(t){for(let e=mb(t);e!==null;e=yb(e)){if(!(e[se]&jl.HasTransplantedViews))continue;let n=e[ms];for(let r=0;r<n.length;r++){let i=n[r];BC(i)}}}function pk(t,e,n){let r=mi(e,t);tD(r,n)}function tD(t,e){cm(t)&&Ag(t,e)}function Ag(t,e){let r=t[pe],i=t[se],o=t[hn],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Ep(o)),s||=!1,o&&(o.dirty=!1),t[se]&=-9217,s)hk(r,t,r.template,t[Dn]);else if(i&8192){eD(t,1);let a=r.components;a!==null&&nD(t,a,1)}}function nD(t,e,n){for(let r=0;r<e.length;r++)pk(t,e[r],n)}function Nm(t,e){let n=WC()?64:1088;for(t[$n].changeDetectionScheduler?.notify(e);t;){t[se]|=n;let r=oo(t);if(hg(t)&&!r)return t;t=r}return null}var lo=class{get rootNodes(){let e=this._lView,n=e[pe];return Wl(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Dn]}set context(e){this._lView[Dn]=e}get destroyed(){return(this._lView[se]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Rt];if(Tr(e)){let n=e[Ll],r=n?n.indexOf(this):-1;r>-1&&(bg(e,r),Ol(n,r))}this._attachedToViewContainer=!1}Ab(this._lView[pe],this._lView)}onDestroy(e){$C(this._lView,e)}markForCheck(){Nm(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[se]&=-129}reattach(){pg(this._lView),this._lView[se]|=128}detectChanges(){this._lView[se]|=1024,Xb(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new K(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=hg(this._lView),n=this._lView[ro];n!==null&&!e&&Dm(n,this._lView),Tb(this._lView[pe],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new K(902,!1);this._appRef=e;let n=hg(this._lView),r=this._lView[ro];r!==null&&!n&&Sb(r,this._lView),pg(this._lView)}},ho=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=yk;let t=e;return t})(),gk=ho,mk=class extends gk{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=tk(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new lo(i)}};function yk(){return Om(Nt(),Ie())}function Om(t,e){return t.type&4?new mk(e,t,Cs(t,e)):null}var r7=new RegExp(`^(\\d+)*(${J1}|${Y1})*(.*)`);var vk=()=>null;function $I(t,e){return vk(t,e)}var ys=class{},rD=new $("",{providedIn:"root",factory:()=>!1});var iD=new $(""),Mg=class{},Kl=class{};function _k(t){let e=Error(`No component factory found for ${$t(t)}.`);return e[wk]=t,e}var wk="ngComponent";var xg=class{resolveComponentFactory(e){throw _k(e)}},Hm=class Hm{};Hm.NULL=new xg;var vs=Hm,_s=class{},Sn=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>Ek();let t=e;return t})();function Ek(){let t=Ie(),e=Nt(),n=mi(e.index,t);return(hi(n)?n:t)[st]}var Ik=(()=>{let e=class e{};e.\u0275prov=H({token:e,providedIn:"root",factory:()=>null});let t=e;return t})();var HI=new Set;function gd(t){HI.has(t)||(HI.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function oD(t){let e=!0;return setTimeout(()=>{e&&(e=!1,t())}),typeof wr.requestAnimationFrame=="function"&&wr.requestAnimationFrame(()=>{e&&(e=!1,t())}),()=>{e=!1}}function zI(t){let e=!0;return queueMicrotask(()=>{e&&t()}),()=>{e=!1}}function qI(...t){}var be=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ye(!1),this.onMicrotaskEmpty=new Ye(!1),this.onStable=new Ye(!1),this.onError=new Ye(!1),typeof Zone>"u")throw new K(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.callbackScheduled=!1,Dk(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new K(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new K(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,Ck,qI,qI);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},Ck={};function km(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function bk(t){t.isCheckStableRunning||t.callbackScheduled||(t.callbackScheduled=!0,Zone.root.run(()=>{oD(()=>{t.callbackScheduled=!1,Pg(t),t.isCheckStableRunning=!0,km(t),t.isCheckStableRunning=!1})}),Pg(t))}function Dk(t){let e=()=>{bk(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(Tk(a))return n.invokeTask(i,o,s,a);try{return GI(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),WI(t)}},onInvoke:(n,r,i,o,s,a,u)=>{try{return GI(t),n.invoke(i,o,s,a,u)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!Sk(a)&&e(),WI(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,Pg(t),km(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function Pg(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function GI(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function WI(t){t._nesting--,km(t)}var Rg=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ye,this.onMicrotaskEmpty=new Ye,this.onStable=new Ye,this.onError=new Ye}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function Tk(t){return sD(t,"__ignore_ng_zone__")}function Sk(t){return sD(t,"__scheduler_tick__")}function sD(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var li=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(li||{}),Ak={destroy(){}};function md(t,e){!e&&QN(md);let n=e?.injector??k(ht);if(!oO(n))return Ak;gd("NgAfterNextRender");let r=n.get(Fm),i=r.handler??=new Og,o=e?.phase??li.MixedReadWrite,s=()=>{i.unregister(u),a()},a=n.get(vm).onDestroy(s),u=rn(n,()=>new Ng(o,()=>{s(),t()}));return i.register(u),{destroy:s}}var Ng=class{constructor(e,n){this.phase=e,this.callbackFn=n,this.zone=k(be),this.errorHandler=k(qn,{optional:!0}),k(ys,{optional:!0})?.notify(6)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},Og=class{constructor(){this.executingCallbacks=!1,this.buckets={[li.EarlyRead]:new Set,[li.Write]:new Set,[li.MixedReadWrite]:new Set,[li.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let n of e)n.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},Fm=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=H({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function kg(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=vI(i,a);else if(o==2){let u=a,l=e[++s];r=vI(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Ql=class extends vs{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=fi(e);return new ws(n,this.ngModule)}};function KI(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function Mk(t){let e=t.toLowerCase();return e==="svg"?e1:e==="math"?t1:null}var ws=class extends Kl{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=KI(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return KI(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=NN(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=Ae(null);try{i=i||this.ngModule;let s=i instanceof Pt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new mg(e,s):e,u=a.get(_s,null);if(u===null)throw new K(407,!1);let l=a.get(Ik,null),h=a.get(Fm,null),p=a.get(ys,null),m={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:h,changeDetectionScheduler:p},y=u.createRenderer(null,this.componentDef),S=this.componentDef.selectors[0][0]||"div",N=r?xO(y,r,this.componentDef.encapsulation,a):Db(y,S,Mk(S)),x=512;this.componentDef.signals?x|=4096:this.componentDef.onPush||(x|=16);let F=null;N!==null&&(F=Im(N,a,!0));let Q=Mm(0,null,null,1,0,null,null,null,null,null,null),G=hd(null,Q,null,x,null,null,m,y,a,null,F);dm(G);let J,Ne;try{let re=this.componentDef,I,v=null;re.findHostDirectiveDefs?(I=[],v=new Map,re.findHostDirectiveDefs(re,I,v),I.push(re)):I=[re];let _=xk(G,N),C=Pk(_,N,re,I,G,m,y);Ne=jC(Q,fn),N&&Ok(y,re,N,r),n!==void 0&&kk(Ne,this.ngContentSelectors,n),J=Nk(C,re,I,v,G,[Fk]),Rm(Q,G,null)}finally{hm()}return new Fg(this.componentType,J,Cs(Ne,G),G,Ne)}finally{Ae(o)}}},Fg=class extends Mg{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new lo(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;Pm(o[pe],o,i,e,n),this.previousInputValues.set(e,n);let s=mi(this._tNode.index,o);Nm(s,1)}}get injector(){return new to(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function xk(t,e){let n=t[pe],r=fn;return t[r]=e,fd(n,r,2,"#host",null)}function Pk(t,e,n,r,i,o,s){let a=i[pe];Rk(r,t,e,s);let u=null;e!==null&&(u=Im(e,i[gs]));let l=o.rendererFactory.createRenderer(e,n),h=16;n.signals?h=4096:n.onPush&&(h=64);let p=hd(i,Bb(n),null,h,i[t.index],t,o,l,null,null,u);return a.firstCreatePass&&Tg(a,t,r.length-1),pd(i,p),i[t.index]=p}function Rk(t,e,n,r){for(let i of t)e.mergedAttrs=Ya(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(kg(e,e.mergedAttrs,!0),n!==null&&Rb(r,n,e))}function Nk(t,e,n,r,i,o){let s=Nt(),a=i[pe],u=pn(s,i);Hb(a,i,s,n,null,r);for(let h=0;h<n.length;h++){let p=s.directiveStart+h,m=co(i,a,p,s);uo(m,i)}zb(a,i,s),u&&uo(u,i);let l=co(i,a,s.directiveStart+s.componentOffset,s);if(t[Dn]=i[Dn]=l,o!==null)for(let h of o)h(l,e);return Lb(a,s,i),l}function Ok(t,e,n,r){if(r)cg(t,n,["ng-version","18.0.5"]);else{let{attrs:i,classes:o}=ON(e.selectors[0]);i&&cg(t,n,i),o&&o.length>0&&Pb(t,n,o.join(" "))}}function kk(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function Fk(){let t=Nt();gm(Ie()[pe],t)}var yi=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Vk;let t=e;return t})();function Vk(){let t=Nt();return cD(t,Ie())}var Lk=yi,aD=class extends Lk{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Cs(this._hostTNode,this._hostLView)}get injector(){return new to(this._hostTNode,this._hostLView)}get parentInjector(){let e=mm(this._hostTNode,this._hostLView);if(rb(e)){let n=$l(e,this._hostLView),r=Bl(e),i=n[pe].data[r+8];return new to(i,n)}else return new to(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=QI(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-tn}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=$I(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,BI(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!YN(e),a;if(s)a=n;else{let S=n||{};a=S.index,r=S.injector,i=S.projectableNodes,o=S.environmentInjector||S.ngModuleRef}let u=s?e:new ws(fi(e)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let N=(s?l:this.parentInjector).get(Pt,null);N&&(o=N)}let h=fi(u.componentType??{}),p=$I(this._lContainer,h?.id??null),m=p?.firstChild??null,y=u.create(l,i,m,o);return this.insertImpl(y.hostView,a,BI(this._hostTNode,p)),y}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(r1(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[Rt],l=new aD(u,u[Tn],u[Rt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return nk(s,i,o,r),e.attachToViewContainerRef(),pC(Zp(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=QI(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=bg(this._lContainer,n);r&&(Ol(Zp(this._lContainer),n),Ab(r[pe],r))}detach(e){let n=this._adjustIndex(e,-1),r=bg(this._lContainer,n);return r&&Ol(Zp(this._lContainer),n)!=null?new lo(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function QI(t){return t[Ll]}function Zp(t){return t[Ll]||(t[Ll]=[])}function cD(t,e){let n,r=e[t.index];return Tr(r)?n=r:(n=qb(r,e,null,t),e[t.index]=n,pd(e,n)),Uk(n,e,t,r),new aD(n,t,e)}function jk(t,e){let n=t[st],r=n.createComment(""),i=pn(e,t),o=Tm(n,i);return Gl(n,o,r,vO(n,i),!1),r}var Uk=Hk,Bk=()=>!1;function $k(t,e,n){return Bk(t,e,n)}function Hk(t,e,n,r){if(t[io])return;let i;n.type&8?i=zn(r):i=jk(e,n),t[io]=i}var Vg=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Lg=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)Vm(e,n).matches!==null&&this.queries[n].setDirty()}},Yl=class{constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=Jk(e):this.predicate=e}},jg=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Ug=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,n,zk(n,o)),this.matchTNodeWithReadOption(e,n,Ml(n,e,o,!1,!1))}else r===ho?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Ml(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Ht||i===yi||i===ho&&n.type&4)this.addMatch(n.index,-2);else{let o=Ml(n,e,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function zk(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function qk(t,e){return t.type&11?Cs(t,e):t.type&4?Om(t,e):null}function Gk(t,e,n,r){return n===-1?qk(e,t):n===-2?Wk(t,e,r):co(t,t[pe],n,e)}function Wk(t,e,n){if(n===Ht)return Cs(e,t);if(n===ho)return Om(e,t);if(n===yi)return cD(e,t)}function uD(t,e,n,r){let i=e[Er].queries[r];if(i.matches===null){let o=t.data,s=n.matches,a=[];for(let u=0;s!==null&&u<s.length;u+=2){let l=s[u];if(l<0)a.push(null);else{let h=o[l];a.push(Gk(e,h,s[u+1],n.metadata.read))}}i.matches=a}return i.matches}function Bg(t,e,n,r){let i=t.queries.getByIndex(n),o=i.matches;if(o!==null){let s=uD(t,e,i,n);for(let a=0;a<o.length;a+=2){let u=o[a];if(u>0)r.push(s[a/2]);else{let l=o[a+1],h=e[-u];for(let p=tn;p<h.length;p++){let m=h[p];m[ro]===m[Rt]&&Bg(m[pe],m,l,r)}if(h[ms]!==null){let p=h[ms];for(let m=0;m<p.length;m++){let y=p[m];Bg(y[pe],y,l,r)}}}}}return r}function Kk(t,e){return t[Er].queries[e].queryList}function lD(t,e,n){let r=new Ig((n&4)===4);return NO(t,e,r,r.destroy),(e[Er]??=new Lg).queries.push(new Vg(r))-1}function Qk(t,e,n){let r=vt();return r.firstCreatePass&&(dD(r,new Yl(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),lD(r,Ie(),e)}function Yk(t,e,n,r){let i=vt();if(i.firstCreatePass){let o=Nt();dD(i,new Yl(e,n,r),o.index),Zk(i,t),(n&2)===2&&(i.staticContentQueries=!0)}return lD(i,Ie(),n)}function Jk(t){return t.split(",").map(e=>e.trim())}function dD(t,e,n){t.queries===null&&(t.queries=new jg),t.queries.track(new Ug(e,n))}function Zk(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function Vm(t,e){return t.queries.getByIndex(e)}function Xk(t,e){let n=t[pe],r=Vm(n,e);return r.crossesNgTemplate?Bg(n,t,e,[]):uD(n,t,r,e)}function eF(t){return typeof t=="function"&&t[vp]!==void 0}function hD(t){return eF(t)&&typeof t.set=="function"}function tF(t){return Object.getPrototypeOf(t.prototype).constructor}function gn(t){let e=tF(t.type),n=!0,r=[t];for(;e;){let i;if(pi(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new K(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=bl(t.inputs),s.inputTransforms=bl(t.inputTransforms),s.declaredInputs=bl(t.declaredInputs),s.outputs=bl(t.outputs);let a=i.hostBindings;a&&sF(t,a);let u=i.viewQuery,l=i.contentQueries;if(u&&iF(t,u),l&&oF(t,l),nF(t,i),XR(t.outputs,i.outputs),pi(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===gn&&(n=!1)}}e=Object.getPrototypeOf(e)}rF(r)}function nF(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function rF(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ya(i.hostAttrs,n=Ya(n,i.hostAttrs))}}function bl(t){return t===ds?{}:t===dn?[]:t}function iF(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function oF(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function sF(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function Lm(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var gi=class{},ec=class{};var $g=class extends gi{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ql(this);let i=CC(e);this._bootstrapComponents=bb(i.bootstrap),this._r3Injector=hb(e,n,[{provide:gi,useValue:this},{provide:vs,useValue:this.componentFactoryResolver},...r],$t(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Hg=class extends ec{constructor(e){super(),this.moduleType=e}create(e){return new $g(this.moduleType,e,[])}};var Jl=class extends gi{constructor(e){super(),this.componentFactoryResolver=new Ql(this),this.instance=null;let n=new Ja([...e.providers,{provide:gi,useValue:this},{provide:vs,useValue:this.componentFactoryResolver}],e.parent||om(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function yd(t,e,n=null){return new Jl({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function fD(t){return cF(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function aF(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function cF(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function jm(t,e,n){return t[e]=n}function Cr(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function Um(t,e,n,r){let i=Cr(t,e,n);return Cr(t,e+1,r)||i}function uF(t,e,n,r,i){let o=Um(t,e,n,r);return Cr(t,e+2,i)||o}function lF(t){return(t.flags&32)===32}function dF(t,e,n,r,i,o,s,a,u){let l=e.consts,h=fd(e,t,4,s||null,a||null);$b(e,n,h,Ul(l,u)),gm(e,h);let p=h.tView=Mm(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function hF(t,e,n,r,i,o,s,a,u,l){let h=n+fn,p=e.firstCreatePass?dF(h,e,t,r,i,o,s,a,u):e.data[h];ic(p,!1);let m=fF(e,t,p,n);fm()&&Sm(e,t,m,p),uo(m,t);let y=qb(m,t,m,p);return t[h]=y,pd(t,y),$k(y,p,t),sm(p)&&jb(e,t,p),u!=null&&Ub(t,p,l),p}function qe(t,e,n,r,i,o,s,a){let u=Ie(),l=vt(),h=Ul(l.consts,o);return hF(u,l,t,e,n,r,i,h,s,a),qe}var fF=pF;function pF(t,e,n,r){return pm(!0),e[st].createComment("")}function sc(t,e,n,r){let i=Ie(),o=cd();if(Cr(i,o,e)){let s=vt(),a=ud();KO(a,i,t,e,n,r)}return sc}function pD(t,e,n,r){return Cr(t,cd(),n)?e+ls(n)+r:Yn}function gF(t,e,n,r,i,o){let s=g1(),a=Um(t,s,n,i);return KC(2),a?e+ls(n)+r+ls(i)+o:Yn}function Dl(t,e){return t<<17|e<<2}function fo(t){return t>>17&32767}function mF(t){return(t&2)==2}function yF(t,e){return t&131071|e<<17}function zg(t){return t|2}function Es(t){return(t&131068)>>2}function Xp(t,e){return t&-131069|e<<2}function vF(t){return(t&1)===1}function qg(t){return t|1}function _F(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=fo(s),u=Es(s);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||rc(p,h)>0)&&(l=!0)}else h=n;if(i)if(u!==0){let m=fo(t[a+1]);t[r+1]=Dl(m,a),m!==0&&(t[m+1]=Xp(t[m+1],r)),t[a+1]=yF(t[a+1],r)}else t[r+1]=Dl(a,0),a!==0&&(t[a+1]=Xp(t[a+1],r)),a=r;else t[r+1]=Dl(u,0),a===0?a=r:t[u+1]=Xp(t[u+1],r),u=r;l&&(t[r+1]=zg(t[r+1])),YI(t,h,r,!0),YI(t,h,r,!1),wF(e,h,t,r,o),s=Dl(a,u),o?e.classBindings=s:e.styleBindings=s}function wF(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&rc(o,e)>=0&&(n[r+1]=qg(n[r+1]))}function YI(t,e,n,r){let i=t[n+1],o=e===null,s=r?fo(i):Es(i),a=!1;for(;s!==0&&(a===!1||o);){let u=t[s],l=t[s+1];EF(u,e)&&(a=!0,t[s+1]=r?qg(l):zg(l)),s=r?fo(l):Es(l)}a&&(t[n+1]=r?zg(i):qg(i))}function EF(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?rc(t,e)>=0:!1}function de(t,e,n){let r=Ie(),i=cd();if(Cr(r,i,e)){let o=vt(),s=ud();xm(o,s,r,t,e,r[st],n,!1)}return de}function JI(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";Pm(t,n,o[s],s,r)}function vd(t,e){return IF(t,e,null,!0),vd}function IF(t,e,n,r){let i=Ie(),o=vt(),s=KC(2);if(o.firstUpdatePass&&bF(o,t,s,r),e!==Yn&&Cr(i,s,e)){let a=o.data[po()];MF(o,a,i,i[st],t,i[s+1]=xF(e,n),r,s)}}function CF(t,e){return e>=t.expandoStartIndex}function bF(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[po()],s=CF(t,n);PF(o,r)&&e===null&&!s&&(e=!1),e=DF(i,o,e,r),_F(i,o,e,n,s,r)}}function DF(t,e,n,r){let i=w1(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=eg(null,t,e,n,r),n=tc(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=eg(i,t,e,n,r),o===null){let u=TF(t,e,r);u!==void 0&&Array.isArray(u)&&(u=eg(null,t,e,u[1],r),u=tc(u,e.attrs,r),SF(t,e,r,u))}else o=AF(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function TF(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Es(r)!==0)return t[fo(r)]}function SF(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[fo(i)]=r}function AF(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=tc(r,s,n)}return tc(r,e.attrs,n)}function eg(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=tc(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function tc(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),EN(t,s,n?!0:e[++o]))}return t===void 0?null:t}function MF(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],h=vF(l)?ZI(u,e,n,i,Es(l),s):void 0;if(!Zl(h)){Zl(o)||mF(l)&&(o=ZI(u,null,n,i,a,s));let p=LC(po(),n);DO(r,s,p,i,o)}}function ZI(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,m=n[i+1];m===Yn&&(m=p?dn:void 0);let y=p?zp(m,r):h===r?m:void 0;if(l&&!Zl(y)&&(y=zp(u,r)),Zl(y)&&(a=y,s))return a;let S=t[i+1];i=s?fo(S):Es(S)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=zp(u,r))}return a}function Zl(t){return t!==void 0}function xF(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=$t(oc(t)))),t}function PF(t,e){return(t.flags&(e?8:16))!==0}function RF(t,e,n,r,i,o){let s=e.consts,a=Ul(s,i),u=fd(e,t,2,r,a);return $b(e,n,u,Ul(s,o)),u.attrs!==null&&kg(u,u.attrs,!1),u.mergedAttrs!==null&&kg(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function b(t,e,n,r){let i=Ie(),o=vt(),s=fn+t,a=i[st],u=o.firstCreatePass?RF(s,o,i,e,n,r):o.data[s],l=NF(o,i,u,a,e,t);i[s]=l;let h=sm(u);return ic(u,!0),Rb(a,l,u),!lF(u)&&fm()&&Sm(o,i,l,u),s1()===0&&uo(l,i),a1(),h&&(jb(o,i,u),Lb(o,u,i)),r!==null&&Ub(i,u),b}function A(){let t=Nt();GC()?f1():(t=t.parent,ic(t,!1));let e=t;l1(e)&&d1(),c1();let n=vt();return n.firstCreatePass&&(gm(n,t),NC(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&S1(e)&&JI(n,e,Ie(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&A1(e)&&JI(n,e,Ie(),e.stylesWithoutHost,!1),A}function ce(t,e,n,r){return b(t,e,n,r),A(),ce}var NF=(t,e,n,r,i,o)=>(pm(!0),Db(r,i,C1()));function zt(){return Ie()}var Xi=void 0;function OF(t){let e=t,n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&r===0?1:5}var kF=["en",[["a","p"],["AM","PM"],Xi],[["AM","PM"],Xi,Xi],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Xi,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Xi,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Xi,"{1} 'at' {0}",Xi],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",OF],tg={};function mn(t){let e=FF(t),n=XI(e);if(n)return n;let r=e.split("-")[0];if(n=XI(r),n)return n;if(r==="en")return kF;throw new K(701,!1)}function XI(t){return t in tg||(tg[t]=wr.ng&&wr.ng.common&&wr.ng.common.locales&&wr.ng.common.locales[t]),tg[t]}var tt=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(tt||{});function FF(t){return t.toLowerCase().replace(/_/g,"-")}var Xl="en-US";var VF=Xl;function LF(t){typeof t=="string"&&(VF=t.toLowerCase().replace(/_/g,"-"))}var jF=(t,e,n)=>{};function z(t,e,n,r){let i=Ie(),o=vt(),s=Nt();return gD(o,i,i[st],s,t,e,r),z}function UF(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[Vl],u=i[o+2];return a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function gD(t,e,n,r,i,o,s){let a=sm(r),l=t.firstCreatePass&&Kb(t),h=e[Dn],p=Wb(e),m=!0;if(r.type&3||s){let N=pn(r,e),x=s?s(N):N,F=p.length,Q=s?J=>s(zn(J[r.index])):r.index,G=null;if(!s&&a&&(G=UF(t,e,i,r.index)),G!==null){let J=G.__ngLastListenerFn__||G;J.__ngNextListenerFn__=o,G.__ngLastListenerFn__=o,m=!1}else{o=tC(r,e,h,o),jF(N,i,o);let J=n.listen(x,i,o);p.push(o,J),l&&l.push(i,Q,F,F+1)}}else o=tC(r,e,h,o);let y=r.outputs,S;if(m&&y!==null&&(S=y[i])){let N=S.length;if(N)for(let x=0;x<N;x+=2){let F=S[x],Q=S[x+1],Ne=e[F][Q].subscribe(o),re=p.length;p.push(o,Ne),l&&l.push(i,r.index,re,-(re+1))}}}function eC(t,e,n,r){let i=Ae(null);try{return jn(6,e,n),n(r)!==!1}catch(o){return Qb(t,o),!1}finally{jn(7,e,n),Ae(i)}}function tC(t,e,n,r){return function i(o){if(o===Function)return r;let s=t.componentOffset>-1?mi(t.index,e):e;Nm(s,5);let a=eC(e,n,r,o),u=i.__ngNextListenerFn__;for(;u;)a=eC(e,n,u,o)&&a,u=u.__ngNextListenerFn__;return a}}function ie(t=1){return I1(t)}function Jn(t,e,n){return mD(t,"",e,"",n),Jn}function mD(t,e,n,r,i){let o=Ie(),s=pD(o,e,n,r);if(s!==Yn){let a=vt(),u=ud();xm(a,u,o,t,s,o[st],i,!1)}return mD}function yD(t,e,n,r){Yk(t,e,n,r)}function vD(t,e,n){Qk(t,e,n)}function _d(t){let e=Ie(),n=vt(),r=QC();lm(r+1);let i=Vm(n,r);if(t.dirty&&n1(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let o=Xk(e,r);t.reset(o,$1),t.notifyOnChanges()}return!0}return!1}function wd(){return Kk(Ie(),QC())}function BF(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function ac(t){let e=p1();return am(e,fn+t)}function R(t,e=""){let n=Ie(),r=vt(),i=t+fn,o=r.firstCreatePass?fd(r,i,1,e,null):r.data[i],s=$F(r,n,o,e,t);n[i]=s,fm()&&Sm(r,n,s,o),ic(o,!1)}var $F=(t,e,n,r,i)=>(pm(!0),aO(e[st],r));function Le(t){return An("",t,""),Le}function An(t,e,n){let r=Ie(),i=pD(r,t,e,n);return i!==Yn&&Yb(r,po(),i),An}function xr(t,e,n,r,i){let o=Ie(),s=gF(o,t,e,n,r,i);return s!==Yn&&Yb(o,po(),s),xr}function je(t,e,n){hD(e)&&(e=e());let r=Ie(),i=cd();if(Cr(r,i,e)){let o=vt(),s=ud();xm(o,s,r,t,e,r[st],n,!1)}return je}function He(t,e){let n=hD(t);return n&&t.set(e),n}function Ue(t,e){let n=Ie(),r=vt(),i=Nt();return gD(r,n,n[st],i,t,e),Ue}function HF(t,e,n){let r=vt();if(r.firstCreatePass){let i=pi(t);Gg(n,r.data,r.blueprint,i,!0),Gg(e,r.data,r.blueprint,i,!1)}}function Gg(t,e,n,r,i){if(t=Bt(t),Array.isArray(t))for(let o=0;o<t.length;o++)Gg(t[o],e,n,r,i);else{let o=vt(),s=Ie(),a=Nt(),u=ps(t)?t:Bt(t.provide),l=MC(t),h=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if(ps(t)||!t.multi){let y=new ao(l,i,B),S=rg(u,e,i?h:h+m,p);S===-1?(vg(zl(a,s),o,u),ng(o,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(y),s.push(y)):(n[S]=y,s[S]=y)}else{let y=rg(u,e,h+m,p),S=rg(u,e,h,h+m),N=y>=0&&n[y],x=S>=0&&n[S];if(i&&!x||!i&&!N){vg(zl(a,s),o,u);let F=GF(i?qF:zF,n.length,i,r,l);!i&&x&&(n[S].providerFactory=F),ng(o,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(F),s.push(F)}else{let F=_D(n[i?S:y],l,!i&&r);ng(o,t,y>-1?y:S,F)}!i&&r&&x&&n[S].componentProviders++}}}function ng(t,e,n,r){let i=ps(e),o=$N(e);if(i||o){let u=(o?Bt(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[r,u]):l[h+1].push(r,u)}else l.push(n,u)}}}function _D(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function rg(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function zF(t,e,n,r){return Wg(this.multi,[])}function qF(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=co(n,n[pe],this.providerFactory.index,r);o=a.slice(0,s),Wg(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],Wg(i,o);return o}function Wg(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function GF(t,e,n,r,i){let o=new ao(t,n,B);return o.multi=[],o.index=e,o.componentProviders=0,_D(o,i,r&&!n),o}function vi(t,e=[]){return n=>{n.providersResolver=(r,i)=>HF(r,i?i(t):t,e)}}var WF=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=TC(!1,r.type),o=i.length>0?yd([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=H({token:e,providedIn:"environment",factory:()=>new e(W(Pt))});let t=e;return t})();function Ze(t){gd("NgStandalone"),t.getStandaloneInjector=e=>e.get(WF).getOrCreateStandaloneInjector(t)}function Ed(t,e,n,r){return KF(Ie(),um(),t,e,n,r)}function Bm(t,e){let n=t[e];return n===Yn?void 0:n}function KF(t,e,n,r,i,o){let s=e+n;return Cr(t,s,i)?jm(t,s+1,o?r.call(o,i):r(i)):Bm(t,s+1)}function QF(t,e,n,r,i,o,s){let a=e+n;return Um(t,a,i,o)?jm(t,a+2,s?r.call(s,i,o):r(i,o)):Bm(t,a+2)}function YF(t,e,n,r,i,o,s,a){let u=e+n;return uF(t,u,i,o,s)?jm(t,u+3,a?r.call(a,i,o,s):r(i,o,s)):Bm(t,u+3)}function Id(t,e){let n=vt(),r,i=t+fn;n.firstCreatePass?(r=JF(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=no(r.type,!0)),s,a=Qt(B);try{let u=Hl(!1),l=o();return Hl(u),BF(n,Ie(),i,l),l}finally{Qt(a)}}function JF(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function wD(t,e,n,r){let i=t+fn,o=Ie(),s=am(o,i);return ID(o,i)?QF(o,um(),e,s.transform,n,r,s):s.transform(n,r)}function ED(t,e,n,r,i){let o=t+fn,s=Ie(),a=am(s,o);return ID(s,o)?YF(s,um(),e,a.transform,n,r,i,a):a.transform(n,r,i)}function ID(t,e){return t[pe].data[e].pure}var br=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},CD=new br("18.0.5");var Cd=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var bD=new $("");function go(t){return!!t&&typeof t.then=="function"}function DD(t){return!!t&&typeof t.subscribe=="function"}var bd=new $(""),TD=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=k(bd,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let o of this.appInits){let s=o();if(go(s))r.push(s);else if(DD(s)){let a=new Promise((u,l)=>{s.subscribe({complete:u,error:l})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),cc=new $("");function ZF(){WE(()=>{throw new K(600,!1)})}function XF(t){return t.isBoundToModule}var eV=10;function tV(t,e,n){try{let r=n();return go(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var mo=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=k(fb),this.afterRenderEffectManager=k(Fm),this.zonelessEnabled=k(rD),this.externalTestViews=new Set,this.beforeRender=new yt,this.afterTick=new yt,this.componentTypes=[],this.components=[],this.isStable=k(Mr).hasPendingTasks.pipe(X(r=>!r)),this._injector=k(Pt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let o=r instanceof Kl;if(!this._injector.get(TD).done){let y=!o&&IC(r),S=!1;throw new K(405,S)}let a;o?a=r:a=this._injector.get(vs).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let u=XF(a)?void 0:this._injector.get(gi),l=i||a.selector,h=a.create(ht.NULL,[],l,u),p=h.location.nativeElement,m=h.injector.get(bD,null);return m?.registerApplication(p),h.onDestroy(()=>{this.detachView(h.hostView),ig(this.components,h),m?.unregisterApplication(p)}),this._loadComponent(h),h}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new K(101,!1);let i=Ae(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(o){this.internalErrorHandler(o)}finally{this._runningTick=!1,Ae(i),this.afterTick.next()}}detectChangesInAttachedViews(r){let i=null;this._injector.destroyed||(i=this._injector.get(_s,null,{optional:!0}));let o=0,s=this.afterRenderEffectManager;for(;o<eV;){let a=o===0;if(r||!a){this.beforeRender.next(a);for(let{_lView:u,notifyErrorHandler:l}of this._views)nV(u,l,a,this.zonelessEnabled)}else i?.begin?.(),i?.end?.();if(o++,s.executeInternalCallbacks(),!this.allViews.some(({_lView:u})=>Xa(u))&&(s.execute(),!this.allViews.some(({_lView:u})=>Xa(u))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;ig(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(cc,[]);[...this._bootstrapListeners,...i].forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>ig(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new K(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function ig(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function nV(t,e,n,r){if(!n&&!Xa(t))return;Xb(t,e,n&&!r?0:1)}var Kg=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Dd=(()=>{let e=class e{compileModuleSync(r){return new Hg(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),o=CC(r),s=bb(o.declarations).reduce((a,u)=>{let l=fi(u);return l&&a.push(new ws(l)),a},[]);return new Kg(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var rV=(()=>{let e=class e{constructor(){this.zone=k(be),this.changeDetectionScheduler=k(ys),this.applicationRef=k(mo)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function iV({ngZoneFactory:t,ignoreChangesOutsideZone:e}){return t??=()=>new be(sV()),[{provide:be,useFactory:t},{provide:hs,multi:!0,useFactory:()=>{let n=k(rV,{optional:!0});return()=>n.initialize()}},{provide:hs,multi:!0,useFactory:()=>{let n=k(aV);return()=>{n.initialize()}}},{provide:fb,useFactory:oV},e===!0?{provide:iD,useValue:!0}:[]]}function oV(){let t=k(be),e=k(qn);return n=>t.runOutsideAngular(()=>e.handleError(n))}function sV(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var aV=(()=>{let e=class e{constructor(){this.subscription=new Qe,this.initialized=!1,this.zone=k(be),this.pendingTasks=k(Mr)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{be.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{be.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var cV=(()=>{let e=class e{constructor(){this.appRef=k(mo),this.taskService=k(Mr),this.ngZone=k(be),this.zonelessEnabled=k(rD),this.disableScheduling=k(iD,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Qe,this.cancelScheduledCallback=null,this.shouldRefreshViews=!1,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Rg||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&r===5)return;switch(r){case 3:case 2:case 0:case 4:case 5:case 1:{this.shouldRefreshViews=!0;break}case 8:case 7:case 6:case 9:default:}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?zI:oD;this.pendingRenderTaskId=this.taskService.add(),this.zoneIsDefined?Zone.root.run(()=>{this.cancelScheduledCallback=i(()=>{this.tick(this.shouldRefreshViews)})}):this.cancelScheduledCallback=i(()=>{this.tick(this.shouldRefreshViews)})}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&be.isInAngularZone())}tick(r){if(this.runningTick||this.appRef.destroyed)return;let i=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick(r)},void 0,this.schedulerTickApplyArgs)}catch(o){throw this.taskService.remove(i),o}finally{this.cleanup()}this.useMicrotaskScheduler=!0,zI(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(i)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.shouldRefreshViews=!1,this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function uV(){return typeof $localize<"u"&&$localize.locale||Xl}var Td=new $("",{providedIn:"root",factory:()=>k(Td,ve.Optional|ve.SkipSelf)||uV()});var SD=new $("");var Pl=null;function lV(t=[],e){return ht.create({name:e,providers:[{provide:id,useValue:"platform"},{provide:SD,useValue:new Set([()=>Pl=null])},...t]})}function dV(t=[]){if(Pl)return Pl;let e=lV(t);return Pl=e,ZF(),hV(e),e}function hV(t){t.get(wm,null)?.forEach(n=>n())}function AD(){return!1}var _i=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=fV;let t=e;return t})();function fV(t){return pV(Nt(),Ie(),(t&16)===16)}function pV(t,e,n){if(sd(t)&&!n){let r=mi(t.index,e);return new lo(r,r)}else if(t.type&175){let r=e[Hn];return new lo(r,e)}return null}var Qg=class{constructor(){}supports(e){return fD(e)}create(e){return new Yg(e)}},gV=(t,e)=>e,Yg=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||gV}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<nC(r,i,o)?n:r,a=nC(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=u-i;if(l!=h){for(let m=0;m<l;m++){let y=m<o.length?o[m]:o[m]=0,S=y+m;h<=S&&S<l&&(o[m]=y+1)}let p=s.previousIndex;o[p]=h-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!fD(e))throw new K(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,aF(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new Jg(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new ed),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new ed),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Jg=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Zg=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},ed=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new Zg,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function nC(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function rC(){return new $m([new Qg])}var $m=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let o=i.factories.slice();r=r.concat(o)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||rC()),deps:[[e,new em,new ft]]}}find(r){let i=this.factories.find(o=>o.supports(r));if(i!=null)return i;throw new K(901,!1)}};e.\u0275prov=H({token:e,providedIn:"root",factory:rC});let t=e;return t})();function MD(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=dV(r),o=[iV({}),{provide:ys,useExisting:cV},...n||[]],a=new Jl({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,u=a.get(be);return u.run(()=>{a.resolveInjectorInitializers();let l=a.get(qn,null),h;u.runOutsideAngular(()=>{h=u.onError.subscribe({next:y=>{l.handleError(y)}})});let p=()=>a.destroy(),m=i.get(SD);return m.add(p),a.onDestroy(()=>{h.unsubscribe(),m.delete(p)}),tV(l,u,()=>{let y=a.get(TD);return y.runInitializers(),y.donePromise.then(()=>{let S=a.get(Td,Xl);LF(S||Xl);let N=a.get(mo);return e!==void 0&&N.bootstrap(e),N})})})}catch(e){return Promise.reject(e)}}function wi(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function xD(t){let e=fi(t);if(!e)return null;let n=new ws(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var VD=null;function Or(){return VD}function LD(t){VD??=t}var kd=class{};var Ot=new $(""),Zm=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:()=>k(mV),providedIn:"platform"});let t=e;return t})(),jD=new $(""),mV=(()=>{let e=class e extends Zm{constructor(){super(),this._doc=k(Ot),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Or().getBaseHref(this._doc)}onPopState(r){let i=Or().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=Or().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function Xm(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function PD(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Rr(t){return t&&t[0]!=="?"?"?"+t:t}var kr=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:()=>k(ey),providedIn:"root"});let t=e;return t})(),UD=new $(""),ey=(()=>{let e=class e extends kr{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??k(Ot).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return Xm(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+Rr(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+Rr(s));this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+Rr(s));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(W(Zm),W(UD,8))},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),BD=(()=>{let e=class e extends kr{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=Xm(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+Rr(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+Rr(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(W(Zm),W(UD,8))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})(),Ds=(()=>{let e=class e{constructor(r){this._subject=new Ye,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=_V(PD(RD(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Rr(i))}normalize(r){return e.stripTrailingSlash(vV(this._basePath,RD(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Rr(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Rr(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}};e.normalizeQueryParams=Rr,e.joinWithSlash=Xm,e.stripTrailingSlash=PD,e.\u0275fac=function(i){return new(i||e)(W(kr))},e.\u0275prov=H({token:e,factory:()=>yV(),providedIn:"root"});let t=e;return t})();function yV(){return new Ds(W(kr))}function vV(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function RD(t){return t.replace(/\/index.html$/,"")}function _V(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var qt=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(qt||{}),Ve=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(Ve||{}),on=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(on||{}),Ei={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function wV(t){return mn(t)[tt.LocaleId]}function EV(t,e,n){let r=mn(t),i=[r[tt.DayPeriodsFormat],r[tt.DayPeriodsStandalone]],o=yn(i,e);return yn(o,n)}function IV(t,e,n){let r=mn(t),i=[r[tt.DaysFormat],r[tt.DaysStandalone]],o=yn(i,e);return yn(o,n)}function CV(t,e,n){let r=mn(t),i=[r[tt.MonthsFormat],r[tt.MonthsStandalone]],o=yn(i,e);return yn(o,n)}function bV(t,e){let r=mn(t)[tt.Eras];return yn(r,e)}function Sd(t,e){let n=mn(t);return yn(n[tt.DateFormat],e)}function Ad(t,e){let n=mn(t);return yn(n[tt.TimeFormat],e)}function Md(t,e){let r=mn(t)[tt.DateTimeFormat];return yn(r,e)}function Vd(t,e){let n=mn(t),r=n[tt.NumberSymbols][e];if(typeof r>"u"){if(e===Ei.CurrencyDecimal)return n[tt.NumberSymbols][Ei.Decimal];if(e===Ei.CurrencyGroup)return n[tt.NumberSymbols][Ei.Group]}return r}function $D(t){if(!t[tt.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[tt.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function DV(t){let e=mn(t);return $D(e),(e[tt.ExtraData][2]||[]).map(r=>typeof r=="string"?zm(r):[zm(r[0]),zm(r[1])])}function TV(t,e,n){let r=mn(t);$D(r);let i=[r[tt.ExtraData][0],r[tt.ExtraData][1]],o=yn(i,e)||[];return yn(o,n)||[]}function yn(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function zm(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var SV=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,xd={},AV=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,Nr=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(Nr||{}),xe=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(xe||{}),Me=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(Me||{});function MV(t,e,n,r){let i=LV(t);e=Pr(n,e)||e;let s=[],a;for(;e;)if(a=AV.exec(e),a){s=s.concat(a.slice(1));let h=s.pop();if(!h)break;e=h}else{s.push(e);break}let u=i.getTimezoneOffset();r&&(u=zD(r,u),i=VV(i,r,!0));let l="";return s.forEach(h=>{let p=kV(h);l+=p?p(i,n,u):h==="''"?"'":h.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function Fd(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function Pr(t,e){let n=wV(t);if(xd[n]??={},xd[n][e])return xd[n][e];let r="";switch(e){case"shortDate":r=Sd(t,on.Short);break;case"mediumDate":r=Sd(t,on.Medium);break;case"longDate":r=Sd(t,on.Long);break;case"fullDate":r=Sd(t,on.Full);break;case"shortTime":r=Ad(t,on.Short);break;case"mediumTime":r=Ad(t,on.Medium);break;case"longTime":r=Ad(t,on.Long);break;case"fullTime":r=Ad(t,on.Full);break;case"short":let i=Pr(t,"shortTime"),o=Pr(t,"shortDate");r=Pd(Md(t,on.Short),[i,o]);break;case"medium":let s=Pr(t,"mediumTime"),a=Pr(t,"mediumDate");r=Pd(Md(t,on.Medium),[s,a]);break;case"long":let u=Pr(t,"longTime"),l=Pr(t,"longDate");r=Pd(Md(t,on.Long),[u,l]);break;case"full":let h=Pr(t,"fullTime"),p=Pr(t,"fullDate");r=Pd(Md(t,on.Full),[h,p]);break}return r&&(xd[n][e]=r),r}function Pd(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function Mn(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function xV(t,e){return Mn(t,3).substring(0,e)}function ct(t,e,n=0,r=!1,i=!1){return function(o,s){let a=PV(t,o);if((n>0||a>-n)&&(a+=n),t===xe.Hours)a===0&&n===-12&&(a=12);else if(t===xe.FractionalSeconds)return xV(a,e);let u=Vd(s,Ei.MinusSign);return Mn(a,e,u,r,i)}}function PV(t,e){switch(t){case xe.FullYear:return e.getFullYear();case xe.Month:return e.getMonth();case xe.Date:return e.getDate();case xe.Hours:return e.getHours();case xe.Minutes:return e.getMinutes();case xe.Seconds:return e.getSeconds();case xe.FractionalSeconds:return e.getMilliseconds();case xe.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function Be(t,e,n=qt.Format,r=!1){return function(i,o){return RV(i,o,t,e,n,r)}}function RV(t,e,n,r,i,o){switch(n){case Me.Months:return CV(e,i,r)[t.getMonth()];case Me.Days:return IV(e,i,r)[t.getDay()];case Me.DayPeriods:let s=t.getHours(),a=t.getMinutes();if(o){let l=DV(e),h=TV(e,i,r),p=l.findIndex(m=>{if(Array.isArray(m)){let[y,S]=m,N=s>=y.hours&&a>=y.minutes,x=s<S.hours||s===S.hours&&a<S.minutes;if(y.hours<S.hours){if(N&&x)return!0}else if(N||x)return!0}else if(m.hours===s&&m.minutes===a)return!0;return!1});if(p!==-1)return h[p]}return EV(e,i,r)[s<12?0:1];case Me.Eras:return bV(e,r)[t.getFullYear()<=0?0:1];default:let u=n;throw new Error(`unexpected translation type ${u}`)}}function Rd(t){return function(e,n,r){let i=-1*r,o=Vd(n,Ei.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case Nr.Short:return(i>=0?"+":"")+Mn(s,2,o)+Mn(Math.abs(i%60),2,o);case Nr.ShortGMT:return"GMT"+(i>=0?"+":"")+Mn(s,1,o);case Nr.Long:return"GMT"+(i>=0?"+":"")+Mn(s,2,o)+":"+Mn(Math.abs(i%60),2,o);case Nr.Extended:return r===0?"Z":(i>=0?"+":"")+Mn(s,2,o)+":"+Mn(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}var NV=0,Od=4;function OV(t){let e=Fd(t,NV,1).getDay();return Fd(t,0,1+(e<=Od?Od:Od+7)-e)}function HD(t){let e=t.getDay(),n=e===0?-3:Od-e;return Fd(t.getFullYear(),t.getMonth(),t.getDate()+n)}function qm(t,e=!1){return function(n,r){let i;if(e){let o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();i=1+Math.floor((s+o)/7)}else{let o=HD(n),s=OV(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return Mn(i,t,Vd(r,Ei.MinusSign))}}function Nd(t,e=!1){return function(n,r){let o=HD(n).getFullYear();return Mn(o,t,Vd(r,Ei.MinusSign),e)}}var Gm={};function kV(t){if(Gm[t])return Gm[t];let e;switch(t){case"G":case"GG":case"GGG":e=Be(Me.Eras,Ve.Abbreviated);break;case"GGGG":e=Be(Me.Eras,Ve.Wide);break;case"GGGGG":e=Be(Me.Eras,Ve.Narrow);break;case"y":e=ct(xe.FullYear,1,0,!1,!0);break;case"yy":e=ct(xe.FullYear,2,0,!0,!0);break;case"yyy":e=ct(xe.FullYear,3,0,!1,!0);break;case"yyyy":e=ct(xe.FullYear,4,0,!1,!0);break;case"Y":e=Nd(1);break;case"YY":e=Nd(2,!0);break;case"YYY":e=Nd(3);break;case"YYYY":e=Nd(4);break;case"M":case"L":e=ct(xe.Month,1,1);break;case"MM":case"LL":e=ct(xe.Month,2,1);break;case"MMM":e=Be(Me.Months,Ve.Abbreviated);break;case"MMMM":e=Be(Me.Months,Ve.Wide);break;case"MMMMM":e=Be(Me.Months,Ve.Narrow);break;case"LLL":e=Be(Me.Months,Ve.Abbreviated,qt.Standalone);break;case"LLLL":e=Be(Me.Months,Ve.Wide,qt.Standalone);break;case"LLLLL":e=Be(Me.Months,Ve.Narrow,qt.Standalone);break;case"w":e=qm(1);break;case"ww":e=qm(2);break;case"W":e=qm(1,!0);break;case"d":e=ct(xe.Date,1);break;case"dd":e=ct(xe.Date,2);break;case"c":case"cc":e=ct(xe.Day,1);break;case"ccc":e=Be(Me.Days,Ve.Abbreviated,qt.Standalone);break;case"cccc":e=Be(Me.Days,Ve.Wide,qt.Standalone);break;case"ccccc":e=Be(Me.Days,Ve.Narrow,qt.Standalone);break;case"cccccc":e=Be(Me.Days,Ve.Short,qt.Standalone);break;case"E":case"EE":case"EEE":e=Be(Me.Days,Ve.Abbreviated);break;case"EEEE":e=Be(Me.Days,Ve.Wide);break;case"EEEEE":e=Be(Me.Days,Ve.Narrow);break;case"EEEEEE":e=Be(Me.Days,Ve.Short);break;case"a":case"aa":case"aaa":e=Be(Me.DayPeriods,Ve.Abbreviated);break;case"aaaa":e=Be(Me.DayPeriods,Ve.Wide);break;case"aaaaa":e=Be(Me.DayPeriods,Ve.Narrow);break;case"b":case"bb":case"bbb":e=Be(Me.DayPeriods,Ve.Abbreviated,qt.Standalone,!0);break;case"bbbb":e=Be(Me.DayPeriods,Ve.Wide,qt.Standalone,!0);break;case"bbbbb":e=Be(Me.DayPeriods,Ve.Narrow,qt.Standalone,!0);break;case"B":case"BB":case"BBB":e=Be(Me.DayPeriods,Ve.Abbreviated,qt.Format,!0);break;case"BBBB":e=Be(Me.DayPeriods,Ve.Wide,qt.Format,!0);break;case"BBBBB":e=Be(Me.DayPeriods,Ve.Narrow,qt.Format,!0);break;case"h":e=ct(xe.Hours,1,-12);break;case"hh":e=ct(xe.Hours,2,-12);break;case"H":e=ct(xe.Hours,1);break;case"HH":e=ct(xe.Hours,2);break;case"m":e=ct(xe.Minutes,1);break;case"mm":e=ct(xe.Minutes,2);break;case"s":e=ct(xe.Seconds,1);break;case"ss":e=ct(xe.Seconds,2);break;case"S":e=ct(xe.FractionalSeconds,1);break;case"SS":e=ct(xe.FractionalSeconds,2);break;case"SSS":e=ct(xe.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Rd(Nr.Short);break;case"ZZZZZ":e=Rd(Nr.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Rd(Nr.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Rd(Nr.Long);break;default:return null}return Gm[t]=e,e}function zD(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function FV(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function VV(t,e,n){let r=n?-1:1,i=t.getTimezoneOffset(),o=zD(e,i);return FV(t,r*(o-i))}function LV(t){if(ND(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,o=1,s=1]=t.split("-").map(a=>+a);return Fd(i,o-1,s)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(SV))return jV(r)}let e=new Date(t);if(!ND(e))throw new Error(`Unable to convert "${t}" into a date`);return e}function jV(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,u=Number(t[6]||0),l=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return o.call(e,s,a,u,l),e}function ND(t){return t instanceof Date&&!isNaN(t.valueOf())}function Ld(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Wm=/\s+/,OD=[],qD=(()=>{let e=class e{constructor(r,i){this._ngEl=r,this._renderer=i,this.initialClasses=OD,this.stateMap=new Map}set klass(r){this.initialClasses=r!=null?r.trim().split(Wm):OD}set ngClass(r){this.rawClass=typeof r=="string"?r.trim().split(Wm):r}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(let i of r)this._updateState(i,!0);else if(r!=null)for(let i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){let o=this.stateMap.get(r);o!==void 0?(o.enabled!==i&&(o.changed=!0,o.enabled=i),o.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let r of this.stateMap){let i=r[0],o=r[1];o.changed?(this._toggleClass(i,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),o.touched=!1}}_toggleClass(r,i){r=r.trim(),r.length>0&&r.split(Wm).forEach(o=>{i?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}};e.\u0275fac=function(i){return new(i||e)(B(Ht),B(Sn))},e.\u0275dir=ze({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var Km=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Ii=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,o){this._viewContainer=r,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((o,s,a)=>{if(o.previousIndex==null)i.createEmbeddedView(this._template,new Km(o.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(s===null?void 0:s);else if(s!==null){let u=i.get(s);i.move(u,a),kD(u,o)}});for(let o=0,s=i.length;o<s;o++){let u=i.get(o).context;u.index=o,u.count=s,u.ngForOf=this._ngForOf}r.forEachIdentityChange(o=>{let s=i.get(o.currentIndex);kD(s,o)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(B(yi),B(ho),B($m))},e.\u0275dir=ze({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function kD(t,e){t.context.$implicit=e.item}var Ci=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new Qm,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){FD("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){FD("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(B(yi),B(ho))},e.\u0275dir=ze({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),Qm=class{constructor(){this.$implicit=null,this.ngIf=null}};function FD(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${$t(e)}'.`)}function GD(t,e){return new K(2100,!1)}var UV="mediumDate",BV=new $(""),$V=new $(""),WD=(()=>{let e=class e{constructor(r,i,o){this.locale=r,this.defaultTimezone=i,this.defaultOptions=o}transform(r,i,o,s){if(r==null||r===""||r!==r)return null;try{let a=i??this.defaultOptions?.dateFormat??UV,u=o??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return MV(r,a,s||this.locale,u)}catch(a){throw GD(e,a.message)}}};e.\u0275fac=function(i){return new(i||e)(B(Td,16),B(BV,24),B($V,24))},e.\u0275pipe=rm({name:"date",type:e,pure:!0,standalone:!0});let t=e;return t})();var KD=(()=>{let e=class e{transform(r,i,o){if(r==null)return null;if(!this.supports(r))throw GD(e,r);return r.slice(i,o)}supports(r){return typeof r=="string"||Array.isArray(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275pipe=rm({name:"slice",type:e,pure:!1,standalone:!0});let t=e;return t})();var Dt=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Kn({type:e}),e.\u0275inj=Wn({});let t=e;return t})(),ty="browser",HV="server";function ny(t){return t===ty}function Ts(t){return t===HV}var QD=(()=>{let e=class e{};e.\u0275prov=H({token:e,providedIn:"root",factory:()=>ny(k(bt))?new Ym(k(Ot),window):new Jm});let t=e;return t})(),Ym=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=zV(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function zV(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var Jm=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},bs=class{};var lc=class{},Ud=class{},Fr=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=i.toLowerCase(),s=n.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var iy=class{encodeKey(e){return YD(e)}encodeValue(e){return YD(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function qV(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],u=n.get(s)||[];u.push(a),n.set(s,u)}),n}var GV=/%(\d[a-f0-9])/gi,WV={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function YD(t){return encodeURIComponent(t).replace(GV,(e,n)=>WV[n]??e)}function jd(t){return`${t}`}var Di=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new iy,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=qV(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(jd):[jd(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(jd(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(jd(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var oy=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function KV(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function JD(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function ZD(t){return typeof Blob<"u"&&t instanceof Blob}function XD(t){return typeof FormData<"u"&&t instanceof FormData}function QV(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var uc=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(KV(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Fr,this.context??=new oy,!this.params)this.params=new Di,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),u=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+u+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||JD(this.body)||ZD(this.body)||XD(this.body)||QV(this.body)?this.body:this.body instanceof Di?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||XD(this.body)?null:ZD(this.body)?this.body.type||null:JD(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Di?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,u=e.reportProgress??this.reportProgress,l=e.headers||this.headers,h=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((m,y)=>m.set(y,e.setHeaders[y]),l)),e.setParams&&(h=Object.keys(e.setParams).reduce((m,y)=>m.set(y,e.setParams[y]),h)),new t(n,r,s,{params:h,headers:l,context:p,reportProgress:u,responseType:i,withCredentials:a,transferCache:o})}},Ti=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Ti||{}),dc=class{constructor(e,n=200,r="OK"){this.headers=e.headers||new Fr,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Bd=class t extends dc{constructor(e={}){super(e),this.type=Ti.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},hc=class t extends dc{constructor(e={}){super(e),this.type=Ti.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},bi=class extends dc{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},iT=200,YV=204;function ry(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var cy=(()=>{let e=class e{constructor(r){this.handler=r}request(r,i,o={}){let s;if(r instanceof uc)s=r;else{let l;o.headers instanceof Fr?l=o.headers:l=new Fr(o.headers);let h;o.params&&(o.params instanceof Di?h=o.params:h=new Di({fromObject:o.params})),s=new uc(r,i,o.body!==void 0?o.body:null,{headers:l,context:o.context,params:h,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let a=Z(s).pipe(vr(l=>this.handler.handle(l)));if(r instanceof uc||o.observe==="events")return a;let u=a.pipe(Ut(l=>l instanceof hc));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return u.pipe(X(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return u.pipe(X(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return u.pipe(X(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return u.pipe(X(l=>l.body))}case"response":return u;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:new Di().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,o={}){return this.request("PATCH",r,ry(o,i))}post(r,i,o={}){return this.request("POST",r,ry(o,i))}put(r,i,o={}){return this.request("PUT",r,ry(o,i))}};e.\u0275fac=function(i){return new(i||e)(W(lc))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})(),JV=/^\)\]\}',?\n/,ZV="X-Request-URL";function eT(t){if(t.url)return t.url;let e=ZV.toLocaleLowerCase();return t.headers.get(e)}var XV=(()=>{let e=class e{constructor(){this.fetchImpl=k(sy,{optional:!0})?.fetch??fetch.bind(globalThis),this.ngZone=k(be)}handle(r){return new fe(i=>{let o=new AbortController;return this.doRequest(r,o.signal,i).then(ay,s=>i.error(new bi({error:s}))),()=>o.abort()})}doRequest(r,i,o){return E(this,null,function*(){let s=this.createRequestInit(r),a;try{let S=this.fetchImpl(r.urlWithParams,j({signal:i},s));eL(S),o.next({type:Ti.Sent}),a=yield S}catch(S){o.error(new bi({error:S,status:S.status??0,statusText:S.statusText,url:r.urlWithParams,headers:S.headers}));return}let u=new Fr(a.headers),l=a.statusText,h=eT(a)??r.urlWithParams,p=a.status,m=null;if(r.reportProgress&&o.next(new Bd({headers:u,status:p,statusText:l,url:h})),a.body){let S=a.headers.get("content-length"),N=[],x=a.body.getReader(),F=0,Q,G,J=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>E(this,null,function*(){for(;;){let{done:re,value:I}=yield x.read();if(re)break;if(N.push(I),F+=I.length,r.reportProgress){G=r.responseType==="text"?(G??"")+(Q??=new TextDecoder).decode(I,{stream:!0}):void 0;let v=()=>o.next({type:Ti.DownloadProgress,total:S?+S:void 0,loaded:F,partialText:G});J?J.run(v):v()}}}));let Ne=this.concatChunks(N,F);try{let re=a.headers.get("Content-Type")??"";m=this.parseBody(r,Ne,re)}catch(re){o.error(new bi({error:re,headers:new Fr(a.headers),status:a.status,statusText:a.statusText,url:eT(a)??r.urlWithParams}));return}}p===0&&(p=m?iT:0),p>=200&&p<300?(o.next(new hc({body:m,headers:u,status:p,statusText:l,url:h})),o.complete()):o.error(new bi({error:m,headers:u,status:p,statusText:l,url:h}))})}parseBody(r,i,o){switch(r.responseType){case"json":let s=new TextDecoder().decode(i).replace(JV,"");return s===""?null:JSON.parse(s);case"text":return new TextDecoder().decode(i);case"blob":return new Blob([i],{type:o});case"arraybuffer":return i.buffer}}createRequestInit(r){let i={},o=r.withCredentials?"include":void 0;if(r.headers.forEach((s,a)=>i[s]=a.join(",")),i.Accept??="application/json, text/plain, */*",!i["Content-Type"]){let s=r.detectContentTypeHeader();s!==null&&(i["Content-Type"]=s)}return{body:r.serializeBody(),method:r.method,headers:i,credentials:o}}concatChunks(r,i){let o=new Uint8Array(i),s=0;for(let a of r)o.set(a,s),s+=a.length;return o}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})(),sy=class{};function ay(){}function eL(t){t.then(ay,ay)}function oT(t,e){return e(t)}function tL(t,e){return(n,r)=>e.intercept(n,{handle:i=>t(i,r)})}function nL(t,e,n){return(r,i)=>rn(n,()=>e(r,o=>t(o,i)))}var rL=new $(""),uy=new $(""),iL=new $(""),sT=new $("",{providedIn:"root",factory:()=>!0});function oL(){let t=null;return(e,n)=>{t===null&&(t=(k(rL,{optional:!0})??[]).reduceRight(tL,oT));let r=k(Mr);if(k(sT)){let o=r.add();return t(e,n).pipe(ci(()=>r.remove(o)))}else return t(e,n)}}var tT=(()=>{let e=class e extends lc{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=k(Mr),this.contributeToStability=k(sT)}handle(r){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(uy),...this.injector.get(iL,[])]));this.chain=i.reduceRight((o,s)=>nL(o,s,this.injector),oT)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(r,o=>this.backend.handle(o)).pipe(ci(()=>this.pendingTasks.remove(i)))}else return this.chain(r,i=>this.backend.handle(i))}};e.\u0275fac=function(i){return new(i||e)(W(Ud),W(Pt))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})();var sL=/^\)\]\}',?\n/;function aL(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var nT=(()=>{let e=class e{constructor(r){this.xhrFactory=r}handle(r){if(r.method==="JSONP")throw new K(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?ke(i.\u0275loadImpl()):Z(null)).pipe(Kt(()=>new fe(s=>{let a=i.build();if(a.open(r.method,r.urlWithParams),r.withCredentials&&(a.withCredentials=!0),r.headers.forEach((x,F)=>a.setRequestHeader(x,F.join(","))),r.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){let x=r.detectContentTypeHeader();x!==null&&a.setRequestHeader("Content-Type",x)}if(r.responseType){let x=r.responseType.toLowerCase();a.responseType=x!=="json"?x:"text"}let u=r.serializeBody(),l=null,h=()=>{if(l!==null)return l;let x=a.statusText||"OK",F=new Fr(a.getAllResponseHeaders()),Q=aL(a)||r.url;return l=new Bd({headers:F,status:a.status,statusText:x,url:Q}),l},p=()=>{let{headers:x,status:F,statusText:Q,url:G}=h(),J=null;F!==YV&&(J=typeof a.response>"u"?a.responseText:a.response),F===0&&(F=J?iT:0);let Ne=F>=200&&F<300;if(r.responseType==="json"&&typeof J=="string"){let re=J;J=J.replace(sL,"");try{J=J!==""?JSON.parse(J):null}catch(I){J=re,Ne&&(Ne=!1,J={error:I,text:J})}}Ne?(s.next(new hc({body:J,headers:x,status:F,statusText:Q,url:G||void 0})),s.complete()):s.error(new bi({error:J,headers:x,status:F,statusText:Q,url:G||void 0}))},m=x=>{let{url:F}=h(),Q=new bi({error:x,status:a.status||0,statusText:a.statusText||"Unknown Error",url:F||void 0});s.error(Q)},y=!1,S=x=>{y||(s.next(h()),y=!0);let F={type:Ti.DownloadProgress,loaded:x.loaded};x.lengthComputable&&(F.total=x.total),r.responseType==="text"&&a.responseText&&(F.partialText=a.responseText),s.next(F)},N=x=>{let F={type:Ti.UploadProgress,loaded:x.loaded};x.lengthComputable&&(F.total=x.total),s.next(F)};return a.addEventListener("load",p),a.addEventListener("error",m),a.addEventListener("timeout",m),a.addEventListener("abort",m),r.reportProgress&&(a.addEventListener("progress",S),u!==null&&a.upload&&a.upload.addEventListener("progress",N)),a.send(u),s.next({type:Ti.Sent}),()=>{a.removeEventListener("error",m),a.removeEventListener("abort",m),a.removeEventListener("load",p),a.removeEventListener("timeout",m),r.reportProgress&&(a.removeEventListener("progress",S),u!==null&&a.upload&&a.upload.removeEventListener("progress",N)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(i){return new(i||e)(W(bs))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})(),aT=new $(""),cL="XSRF-TOKEN",uL=new $("",{providedIn:"root",factory:()=>cL}),lL="X-XSRF-TOKEN",dL=new $("",{providedIn:"root",factory:()=>lL}),$d=class{},hL=(()=>{let e=class e{constructor(r,i,o){this.doc=r,this.platform=i,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ld(r,this.cookieName),this.lastCookieString=r),this.lastToken}};e.\u0275fac=function(i){return new(i||e)(W(Ot),W(bt),W(uL))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})();function fL(t,e){let n=t.url.toLowerCase();if(!k(aT)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=k($d).getToken(),i=k(dL);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var cT=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(cT||{});function pL(t,e){return{\u0275kind:t,\u0275providers:e}}function ly(...t){let e=[cy,nT,tT,{provide:lc,useExisting:tT},{provide:Ud,useFactory:()=>k(XV,{optional:!0})??k(nT)},{provide:uy,useValue:fL,multi:!0},{provide:aT,useValue:!0},{provide:$d,useClass:hL}];for(let n of t)e.push(...n.\u0275providers);return nn(e)}var rT=new $("");function gL(){return pL(cT.LegacyInterceptors,[{provide:rT,useFactory:oL},{provide:uy,useExisting:rT,multi:!0}])}var uT=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Kn({type:e}),e.\u0275inj=Wn({providers:[ly(gL())]});let t=e;return t})();var fy=class extends kd{constructor(){super(...arguments),this.supportsDOMEvents=!0}},py=class t extends fy{static makeCurrent(){LD(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=yL();return n==null?null:vL(n)}resetBaseElement(){fc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Ld(document.cookie,e)}},fc=null;function yL(){return fc=fc||document.querySelector("base"),fc?fc.getAttribute("href"):null}function vL(t){return new URL(t,document.baseURI).pathname}var _L=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})(),gy=new $(""),fT=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new K(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(W(gy),W(be))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})(),Hd=class{constructor(e){this._doc=e}},dy="ng-app-id",pT=(()=>{let e=class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Ts(s),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(o=>o.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${dy}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(o=>{o.textContent!=null&&i.set(o.textContent,o)}),i}return null}changeUsageCount(r,i){let o=this.styleRef;if(o.has(r)){let s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===r)return o.delete(i),s.removeAttribute(dy),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(dy,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let o=this.getStyleElement(r,i),s=this.styleRef,a=s.get(i)?.elements;a?a.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(W(Ot),W(_m),W(Em,8),W(bt))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})(),hy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},yy=/%COMP%/g,gT="%COMP%",wL=`_nghost-${gT}`,EL=`_ngcontent-${gT}`,IL=!0,CL=new $("",{providedIn:"root",factory:()=>IL});function bL(t){return EL.replace(yy,t)}function DL(t){return wL.replace(yy,t)}function mT(t,e){return e.map(n=>n.replace(yy,t))}var lT=(()=>{let e=class e{constructor(r,i,o,s,a,u,l,h=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=u,this.ngZone=l,this.nonce=h,this.rendererByCompId=new Map,this.platformIsServer=Ts(u),this.defaultRenderer=new pc(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Bn.ShadowDom&&(i=ye(j({},i),{encapsulation:Bn.Emulated}));let o=this.getOrCreateRenderer(r,i);return o instanceof zd?o.applyToHost(r):o instanceof gc&&o.applyStyles(),o}getOrCreateRenderer(r,i){let o=this.rendererByCompId,s=o.get(i.id);if(!s){let a=this.doc,u=this.ngZone,l=this.eventManager,h=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(i.encapsulation){case Bn.Emulated:s=new zd(l,h,i,this.appId,p,a,u,m);break;case Bn.ShadowDom:return new my(l,h,r,i,a,u,this.nonce,m);default:s=new gc(l,h,i,p,a,u,m);break}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(W(fT),W(pT),W(_m),W(CL),W(Ot),W(bt),W(be),W(Em))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})(),pc=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(hy[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(dT(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(dT(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new K(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=hy[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=hy[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Ir.DashCase|Ir.Important)?e.style.setProperty(n,r,i&Ir.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Ir.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Or().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function dT(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var my=class extends pc{constructor(e,n,r,i,o,s,a,u){super(e,o,s,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=mT(i.id,i.styles);for(let h of l){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},gc=class extends pc{constructor(e,n,r,i,o,s,a,u){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?mT(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},zd=class extends gc{constructor(e,n,r,i,o,s,a,u){let l=i+"-"+r.id;super(e,n,r,o,s,a,u,l),this.contentAttr=bL(l),this.hostAttr=DL(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},TL=(()=>{let e=class e extends Hd{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}};e.\u0275fac=function(i){return new(i||e)(W(Ot))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})(),hT=["alt","control","meta","shift"],SL={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},AL={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},ML=(()=>{let e=class e extends Hd{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,o){let s=e.parseEventName(i),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Or().onAndCancel(r,s.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(i.pop()),a="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),a="code."),hT.forEach(h=>{let p=i.indexOf(h);p>-1&&(i.splice(p,1),a+=h+".")}),a+=s,i.length!=0||s.length===0)return null;let l={};return l.domEventName=o,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let o=SL[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),hT.forEach(a=>{if(a!==o){let u=AL[a];u(r)&&(s+=a+".")}}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(W(Ot))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})();function yT(t,e){return MD(j({rootComponent:t},xL(e)))}function xL(t){return{appProviders:[...kL,...t?.providers??[]],platformProviders:OL}}function PL(){py.makeCurrent()}function RL(){return new qn}function NL(){return _b(document),document}var OL=[{provide:bt,useValue:ty},{provide:wm,useValue:PL,multi:!0},{provide:Ot,useFactory:NL,deps:[]}];var kL=[{provide:id,useValue:"root"},{provide:qn,useFactory:RL,deps:[]},{provide:gy,useClass:TL,multi:!0,deps:[Ot,be,bt]},{provide:gy,useClass:ML,multi:!0,deps:[Ot]},lT,pT,fT,{provide:_s,useExisting:lT},{provide:bs,useClass:_L,deps:[]},[]];var vT=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(W(Ot))},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ge="primary",Pc=Symbol("RouteTitle"),Iy=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Rs(t){return new Iy(t)}function VL(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function LL(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Zn(t[n],e[n]))return!1;return!0}function Zn(t,e){let n=t?Cy(t):void 0,r=e?Cy(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!MT(t[i],e[i]))return!1;return!0}function Cy(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function MT(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function xT(t){return t.length>0?t[t.length-1]:null}function Mi(t){return Lp(t)?t:go(t)?ke(Promise.resolve(t)):Z(t)}var jL={exact:RT,subset:NT},PT={exact:UL,subset:BL,ignored:()=>!0};function _T(t,e,n){return jL[n.paths](t.root,e.root,n.matrixParams)&&PT[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function UL(t,e){return Zn(t,e)}function RT(t,e,n){if(!_o(t.segments,e.segments)||!Wd(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!RT(t.children[r],e.children[r],n))return!1;return!0}function BL(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>MT(t[n],e[n]))}function NT(t,e,n){return OT(t,e,e.segments,n)}function OT(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!_o(i,n)||e.hasChildren()||!Wd(i,n,r))}else if(t.segments.length===n.length){if(!_o(t.segments,n)||!Wd(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!NT(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!_o(t.segments,i)||!Wd(t.segments,i,r)||!t.children[ge]?!1:OT(t.children[ge],e,o,r)}}function Wd(t,e,n){return e.every((r,i)=>PT[n](t[i].parameters,r.parameters))}var Si=class{constructor(e=new Pe([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Rs(this.queryParams),this._queryParamMap}toString(){return zL.serialize(this)}},Pe=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Kd(this)}},vo=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Rs(this.parameters),this._parameterMap}toString(){return FT(this)}};function $L(t,e){return _o(t,e)&&t.every((n,r)=>Zn(n.parameters,e[r].parameters))}function _o(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function HL(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ge&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ge&&(n=n.concat(e(i,r)))}),n}var Rc=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:()=>new Ns,providedIn:"root"});let t=e;return t})(),Ns=class{parse(e){let n=new Dy(e);return new Si(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${mc(e.root,!0)}`,r=WL(e.queryParams),i=typeof e.fragment=="string"?`#${qL(e.fragment)}`:"";return`${n}${r}${i}`}},zL=new Ns;function Kd(t){return t.segments.map(e=>FT(e)).join("/")}function mc(t,e){if(!t.hasChildren())return Kd(t);if(e){let n=t.children[ge]?mc(t.children[ge],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==ge&&r.push(`${i}:${mc(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=HL(t,(r,i)=>i===ge?[mc(t.children[ge],!1)]:[`${i}:${mc(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[ge]!=null?`${Kd(t)}/${n[0]}`:`${Kd(t)}/(${n.join("//")})`}}function kT(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function qd(t){return kT(t).replace(/%3B/gi,";")}function qL(t){return encodeURI(t)}function by(t){return kT(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Qd(t){return decodeURIComponent(t)}function wT(t){return Qd(t.replace(/\+/g,"%20"))}function FT(t){return`${by(t.path)}${GL(t.parameters)}`}function GL(t){return Object.entries(t).map(([e,n])=>`;${by(e)}=${by(n)}`).join("")}function WL(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${qd(n)}=${qd(i)}`).join("&"):`${qd(n)}=${qd(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var KL=/^[^\/()?;#]+/;function vy(t){let e=t.match(KL);return e?e[0]:""}var QL=/^[^\/()?;=#]+/;function YL(t){let e=t.match(QL);return e?e[0]:""}var JL=/^[^=?&#]+/;function ZL(t){let e=t.match(JL);return e?e[0]:""}var XL=/^[^&#]+/;function e4(t){let e=t.match(XL);return e?e[0]:""}var Dy=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Pe([],{}):new Pe([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ge]=new Pe(e,n)),r}parseSegment(){let e=vy(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new K(4009,!1);return this.capture(e),new vo(Qd(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=YL(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=vy(this.remaining);i&&(r=i,this.capture(r))}e[Qd(n)]=Qd(r)}parseQueryParam(e){let n=ZL(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=e4(this.remaining);s&&(r=s,this.capture(r))}let i=wT(n),o=wT(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=vy(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new K(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ge);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[ge]:new Pe([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new K(4011,!1)}};function VT(t){return t.segments.length>0?new Pe([],{[ge]:t}):t}function LT(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=LT(i);if(r===ge&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new Pe(t.segments,e);return t4(n)}function t4(t){if(t.numberOfChildren===1&&t.children[ge]){let e=t.children[ge];return new Pe(t.segments.concat(e.segments),e.children)}return t}function Ic(t){return t instanceof Si}function n4(t,e,n=null,r=null){let i=jT(t);return UT(i,e,n,r)}function jT(t){let e;function n(o){let s={};for(let u of o.children){let l=n(u);s[u.outlet]=l}let a=new Pe(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=VT(r);return e??i}function UT(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return _y(i,i,i,n,r);let o=r4(e);if(o.toRoot())return _y(i,i,new Pe([],{}),n,r);let s=i4(o,i,t),a=s.processChildren?_c(s.segmentGroup,s.index,o.commands):$T(s.segmentGroup,s.index,o.commands);return _y(i,s.segmentGroup,a,n,r)}function Yd(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Cc(t){return typeof t=="object"&&t!=null&&t.outlets}function _y(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;t===e?s=n:s=BT(t,e,n);let a=VT(LT(s));return new Si(a,o,i)}function BT(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=BT(o,e,n)}),new Pe(t.segments,r)}var Jd=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Yd(r[0]))throw new K(4003,!1);let i=r.find(Cc);if(i&&i!==xT(r))throw new K(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function r4(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Jd(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Jd(n,e,r)}var Ms=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function i4(t,e,n){if(t.isAbsolute)return new Ms(e,!0,0);if(!n)return new Ms(e,!1,NaN);if(n.parent===null)return new Ms(n,!0,0);let r=Yd(t.commands[0])?0:1,i=n.segments.length-1+r;return o4(n,i,t.numberOfDoubleDots)}function o4(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new K(4005,!1);i=r.segments.length}return new Ms(r,!1,i-o)}function s4(t){return Cc(t[0])?t[0].outlets:{[ge]:t}}function $T(t,e,n){if(t??=new Pe([],{}),t.segments.length===0&&t.hasChildren())return _c(t,e,n);let r=a4(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new Pe(t.segments.slice(0,r.pathIndex),{});return o.children[ge]=new Pe(t.segments.slice(r.pathIndex),t.children),_c(o,0,i)}else return r.match&&i.length===0?new Pe(t.segments,{}):r.match&&!t.hasChildren()?Ty(t,e,n):r.match?_c(t,0,i):Ty(t,e,n)}function _c(t,e,n){if(n.length===0)return new Pe(t.segments,{});{let r=s4(n),i={};if(Object.keys(r).some(o=>o!==ge)&&t.children[ge]&&t.numberOfChildren===1&&t.children[ge].segments.length===0){let o=_c(t.children[ge],e,n);return new Pe(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=$T(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Pe(t.segments,i)}}function a4(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(Cc(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!IT(u,l,s))return o;r+=2}else{if(!IT(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Ty(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(Cc(o)){let u=c4(o.outlets);return new Pe(r,u)}if(i===0&&Yd(n[0])){let u=t.segments[e];r.push(new vo(u.path,ET(n[0]))),i++;continue}let s=Cc(o)?o.outlets[ge]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Yd(a)?(r.push(new vo(s,ET(a))),i+=2):(r.push(new vo(s,{})),i++)}return new Pe(r,{})}function c4(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Ty(new Pe([],{}),0,r))}),e}function ET(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function IT(t,e,n){return t==n.path&&Zn(e,n.parameters)}var wc="imperative",wt=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(wt||{}),vn=class{constructor(e,n){this.id=e,this.url=n}},Os=class extends vn{constructor(e,n,r="imperative",i=null){super(e,n),this.type=wt.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Pn=class extends vn{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=wt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},an=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(an||{}),Zd=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Zd||{}),Vr=class extends vn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=wt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Ai=class extends vn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=wt.NavigationSkipped}},bc=class extends vn{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=wt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Xd=class extends vn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=wt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Sy=class extends vn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=wt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ay=class extends vn{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=wt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},My=class extends vn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=wt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},xy=class extends vn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=wt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Py=class{constructor(e){this.route=e,this.type=wt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Ry=class{constructor(e){this.route=e,this.type=wt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Ny=class{constructor(e){this.snapshot=e,this.type=wt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Oy=class{constructor(e){this.snapshot=e,this.type=wt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ky=class{constructor(e){this.snapshot=e,this.type=wt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Fy=class{constructor(e){this.snapshot=e,this.type=wt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},eh=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=wt.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Dc=class{},ks=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};var Vy=class{constructor(e){this.injector=e,this.outlet=null,this.route=null,this.children=new Nc(this.injector),this.attachRef=null}},Nc=(()=>{let e=class e{constructor(r){this.parentInjector=r,this.contexts=new Map}onChildOutletCreated(r,i){let o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Vy(this.parentInjector),this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)(W(Pt))},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),th=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Ly(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Ly(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=jy(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return jy(e,this._root).map(n=>n.value)}};function Ly(t,e){if(t===e.value)return e;for(let n of e.children){let r=Ly(t,n);if(r)return r}return null}function jy(t,e){if(t===e.value)return[e];for(let n of e.children){let r=jy(t,n);if(r.length)return r.unshift(e),r}return[]}var sn=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function As(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var nh=class extends th{constructor(e,n){super(e),this.snapshot=n,Ky(this,e)}toString(){return this.snapshot.toString()}};function HT(t){let e=u4(t),n=new dt([new vo("",{})]),r=new dt({}),i=new dt({}),o=new dt({}),s=new dt(""),a=new Xn(n,r,o,s,i,ge,t,e.root);return a.snapshot=e.root,new nh(new sn(a,[]),e)}function u4(t){let e={},n={},r={},i="",o=new xs([],e,r,i,n,ge,t,null,{});return new ih("",new sn(o,[]))}var Xn=class{constructor(e,n,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(X(l=>l[Pc]))??Z(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(X(e=>Rs(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(X(e=>Rs(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function rh(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:j(j({},e.params),t.params),data:j(j({},e.data),t.data),resolve:j(j(j(j({},t.data),e.data),i?.data),t._resolvedData)}:r={params:j({},t.params),data:j({},t.data),resolve:j(j({},t.data),t._resolvedData??{})},i&&qT(i)&&(r.resolve[Pc]=i.title),r}var xs=class{get title(){return this.data?.[Pc]}constructor(e,n,r,i,o,s,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Rs(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Rs(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},ih=class extends th{constructor(e,n){super(n),this.url=e,Ky(this,n)}toString(){return zT(this._root)}};function Ky(t,e){e.value._routerState=t,e.children.forEach(n=>Ky(t,n))}function zT(t){let e=t.children.length>0?` { ${t.children.map(zT).join(", ")} } `:"";return`${t.value}${e}`}function wy(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Zn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Zn(e.params,n.params)||t.paramsSubject.next(n.params),LL(e.url,n.url)||t.urlSubject.next(n.url),Zn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Uy(t,e){let n=Zn(t.params,e.params)&&$L(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Uy(t.parent,e.parent))}function qT(t){return typeof t.title=="string"||t.title===null}var Qy=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=ge,this.activateEvents=new Ye,this.deactivateEvents=new Ye,this.attachEvents=new Ye,this.detachEvents=new Ye,this.parentContexts=k(Nc),this.location=k(yi),this.changeDetector=k(_i),this.inputBinder=k(ch,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new K(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new K(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new K(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new K(4013,!1);this._activatedRoute=r;let o=this.location,a=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,l=new By(r,u,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=ze({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Sr]});let t=e;return t})(),By=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Xn?this.route:e===Nc?this.childContexts:this.parent.get(e,n)}},ch=new $(""),CT=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:i}=r,o=Wa([i.queryParams,i.params,i.data]).pipe(Kt(([s,a,u],l)=>(u=j(j(j({},s),a),u),l===0?Z(u):Promise.resolve(u)))).subscribe(s=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(r);return}let a=xD(i.component);if(!a){this.unsubscribeFromRouteData(r);return}for(let{templateName:u}of a.inputs)r.activatedComponentRef.setInput(u,s[u])});this.outletDataSubscriptions.set(r,o)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})();function l4(t,e,n){let r=Tc(t,e._root,n?n._root:void 0);return new nh(r,e)}function Tc(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=d4(t,e,n);return new sn(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Tc(t,a)),s}}let r=h4(e.value),i=e.children.map(o=>Tc(t,o));return new sn(r,i)}}function d4(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Tc(t,r,i);return Tc(t,r)})}function h4(t){return new Xn(new dt(t.url),new dt(t.params),new dt(t.queryParams),new dt(t.fragment),new dt(t.data),t.outlet,t.component,t)}var Sc=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},GT="ngNavigationCancelingError";function oh(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Ic(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=WT(!1,an.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function WT(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[GT]=!0,n.cancellationCode=e,n}function f4(t){return KT(t)&&Ic(t.url)}function KT(t){return!!t&&t[GT]}var p4=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Je({type:e,selectors:[["ng-component"]],standalone:!0,features:[Ze],decls:1,vars:0,template:function(i,o){i&1&&ce(0,"router-outlet")},dependencies:[Qy],encapsulation:2});let t=e;return t})();function g4(t,e){return t.providers&&!t._injector&&(t._injector=yd(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Yy(t){let e=t.children&&t.children.map(Yy),n=e?ye(j({},t),{children:e}):j({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ge&&(n.component=p4),n}function xn(t){return t.outlet||ge}function m4(t,e){let n=t.filter(r=>xn(r)===e);return n.push(...t.filter(r=>xn(r)!==e)),n}function Oc(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var y4=(t,e,n,r)=>X(i=>(new $y(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),$y=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),wy(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=As(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=As(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=As(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=As(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Fy(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Oy(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(wy(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),wy(a.route.value),this.activateChildRoutes(e,null,s.children)}else{let a=Oc(i.snapshot);s.attachRef=null,s.route=i,s.injector=a??s.injector,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}},sh=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ps=class{constructor(e,n){this.component=e,this.route=n}};function v4(t,e,n){let r=t._root,i=e?e._root:null;return yc(r,i,n,[r.value])}function _4(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Ls(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!aC(t)?t:e.get(t):r}function yc(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=As(e);return t.children.forEach(s=>{w4(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Ec(a,n.getContext(s),i)),i}function w4(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=E4(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new sh(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?yc(t,e,a?a.children:null,r,i):yc(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ps(a.outlet.component,s))}else s&&Ec(e,a,i),i.canActivateChecks.push(new sh(r)),o.component?yc(t,null,a?a.children:null,r,i):yc(t,null,n,r,i);return i}function E4(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!_o(t.url,e.url);case"pathParamsOrQueryParamsChange":return!_o(t.url,e.url)||!Zn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Uy(t,e)||!Zn(t.queryParams,e.queryParams);case"paramsChange":default:return!Uy(t,e)}}function Ec(t,e,n){let r=As(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Ec(s,e.children.getContext(o),n):Ec(s,null,n):Ec(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Ps(e.outlet.component,i)):n.canDeactivateChecks.push(new Ps(null,i)):n.canDeactivateChecks.push(new Ps(null,i))}function kc(t){return typeof t=="function"}function I4(t){return typeof t=="boolean"}function C4(t){return t&&kc(t.canLoad)}function b4(t){return t&&kc(t.canActivate)}function D4(t){return t&&kc(t.canActivateChild)}function T4(t){return t&&kc(t.canDeactivate)}function S4(t){return t&&kc(t.canMatch)}function QT(t){return t instanceof yr||t?.name==="EmptyError"}var Gd=Symbol("INITIAL_VALUE");function Fs(){return Kt(t=>Wa(t.map(e=>e.pipe(_r(1),El(Gd)))).pipe(X(e=>{for(let n of e)if(n!==!0){if(n===Gd)return Gd;if(n===!1||A4(n))return n}return!0}),Ut(e=>e!==Gd),_r(1)))}function A4(t){return Ic(t)||t instanceof Sc}function M4(t,e){return it(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?Z(ye(j({},n),{guardsResult:!0})):x4(s,r,i,t).pipe(it(a=>a&&I4(a)?P4(r,o,t,e):Z(a)),X(a=>ye(j({},n),{guardsResult:a})))})}function x4(t,e,n,r){return ke(t).pipe(it(i=>F4(i.component,i.route,n,e,r)),Ln(i=>i!==!0,!0))}function P4(t,e,n,r){return ke(e).pipe(vr(i=>rs(N4(i.route.parent,r),R4(i.route,r),k4(t,i.path,n),O4(t,i.route,n))),Ln(i=>i!==!0,!0))}function R4(t,e){return t!==null&&e&&e(new ky(t)),Z(!0)}function N4(t,e){return t!==null&&e&&e(new Ny(t)),Z(!0)}function O4(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return Z(!0);let i=r.map(o=>vl(()=>{let s=Oc(e)??n,a=Ls(o,s),u=b4(a)?a.canActivate(e,t):rn(s,()=>a(e,t));return Mi(u).pipe(Ln())}));return Z(i).pipe(Fs())}function k4(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>_4(s)).filter(s=>s!==null).map(s=>vl(()=>{let a=s.guards.map(u=>{let l=Oc(s.node)??n,h=Ls(u,l),p=D4(h)?h.canActivateChild(r,t):rn(l,()=>h(r,t));return Mi(p).pipe(Ln())});return Z(a).pipe(Fs())}));return Z(o).pipe(Fs())}function F4(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return Z(!0);let s=o.map(a=>{let u=Oc(e)??i,l=Ls(a,u),h=T4(l)?l.canDeactivate(t,e,n,r):rn(u,()=>l(t,e,n,r));return Mi(h).pipe(Ln())});return Z(s).pipe(Fs())}function V4(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return Z(!0);let o=i.map(s=>{let a=Ls(s,t),u=C4(a)?a.canLoad(e,n):rn(t,()=>a(e,n));return Mi(u)});return Z(o).pipe(Fs(),YT(r))}function YT(t){return Ju(ot(e=>{if(typeof e!="boolean")throw oh(t,e)}),X(e=>e===!0))}function L4(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return Z(!0);let o=i.map(s=>{let a=Ls(s,t),u=S4(a)?a.canMatch(e,n):rn(t,()=>a(e,n));return Mi(u)});return Z(o).pipe(Fs(),YT(r))}var Ac=class{constructor(e){this.segmentGroup=e||null}},Mc=class extends Error{constructor(e){super(),this.urlTree=e}};function Ss(t){return ns(new Ac(t))}function j4(t){return ns(new K(4e3,!1))}function U4(t){return ns(WT(!1,an.GuardRejected))}var Hy=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return Z(r);if(i.numberOfChildren>1||!i.children[ge])return j4(`${e.redirectTo}`);i=i.children[ge]}}applyRedirectCommands(e,n,r,i,o){if(typeof n!="string"){let a=n,{queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,params:y,data:S,title:N}=i,x=rn(o,()=>a({params:y,data:S,queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,title:N}));if(x instanceof Si)throw new Mc(x);n=x}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new Mc(s);return s}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new Si(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new Pe(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new K(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},zy={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function B4(t,e,n,r,i){let o=Jy(t,e,n);return o.matched?(r=g4(e,r),L4(r,e,n,i).pipe(X(s=>s===!0?o:j({},zy)))):Z(o)}function Jy(t,e,n){if(e.path==="**")return $4(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?j({},zy):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||VL)(n,t,e);if(!i)return j({},zy);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?j(j({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function $4(t){return{matched:!0,parameters:t.length>0?xT(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function bT(t,e,n,r){return n.length>0&&q4(t,n,r)?{segmentGroup:new Pe(e,z4(r,new Pe(n,t.children))),slicedSegments:[]}:n.length===0&&G4(t,n,r)?{segmentGroup:new Pe(t.segments,H4(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Pe(t.segments,t.children),slicedSegments:n}}function H4(t,e,n,r){let i={};for(let o of n)if(uh(t,e,o)&&!r[xn(o)]){let s=new Pe([],{});i[xn(o)]=s}return j(j({},r),i)}function z4(t,e){let n={};n[ge]=e;for(let r of t)if(r.path===""&&xn(r)!==ge){let i=new Pe([],{});n[xn(r)]=i}return n}function q4(t,e,n){return n.some(r=>uh(t,e,r)&&xn(r)!==ge)}function G4(t,e,n){return n.some(r=>uh(t,e,r))}function uh(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function W4(t,e,n,r){return xn(t)!==r&&(r===ge||!uh(e,n,t))?!1:Jy(e,t,n).matched}function K4(t,e,n){return e.length===0&&!t.children[n]}var qy=class{};function Q4(t,e,n,r,i,o,s="emptyOnly"){return new Gy(t,e,n,r,i,s,o).recognize()}var Y4=31,Gy=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Hy(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new K(4002,`'${e.segmentGroup}'`)}recognize(){let e=bT(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(X(({children:n,rootSnapshot:r})=>{let i=new sn(r,n),o=new ih("",i),s=n4(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new xs([],Object.freeze({}),Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ge,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ge,n).pipe(X(r=>({children:r,rootSnapshot:n})),si(r=>{if(r instanceof Mc)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Ac?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(X(s=>s instanceof sn?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return ke(o).pipe(vr(s=>{let a=r.children[s],u=m4(n,s);return this.processSegmentGroup(e,u,a,s,i)}),wl((s,a)=>(s.push(...a),s)),ai(null),$p(),it(s=>{if(s===null)return Ss(r);let a=JT(s);return J4(a),Z(a)}))}processSegment(e,n,r,i,o,s,a){return ke(n).pipe(vr(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,o,s,a).pipe(si(l=>{if(l instanceof Ac)return Z(null);throw l}))),Ln(u=>!!u),si(u=>{if(QT(u))return K4(r,i,o)?Z(new qy):Ss(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,o,s,a,u){return W4(r,i,o,s)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,u):Ss(i):Ss(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:m}=Jy(n,i,o);if(!u)return Ss(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Y4&&(this.allowRedirects=!1));let y=new xs(o,l,Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,DT(i),xn(i),i.component??i._loadedComponent??null,i,TT(i)),S=rh(y,a,this.paramsInheritanceStrategy);y.params=Object.freeze(S.params),y.data=Object.freeze(S.data);let N=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,y,e);return this.applyRedirects.lineralizeSegments(i,N).pipe(it(x=>this.processSegment(e,r,n,x.concat(m),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a=B4(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(Kt(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Kt(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:y}=u,S=new xs(m,p,Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,DT(r),xn(r),r.component??r._loadedComponent??null,r,TT(r)),N=rh(S,s,this.paramsInheritanceStrategy);S.params=Object.freeze(N.params),S.data=Object.freeze(N.data);let{segmentGroup:x,slicedSegments:F}=bT(n,m,y,l);if(F.length===0&&x.hasChildren())return this.processChildren(h,l,x,S).pipe(X(G=>new sn(S,G)));if(l.length===0&&F.length===0)return Z(new sn(S,[]));let Q=xn(r)===o;return this.processSegment(h,l,x,F,Q?ge:o,!0,S).pipe(X(G=>new sn(S,G instanceof sn?[G]:[])))}))):Ss(n)))}getChildConfig(e,n,r){return n.children?Z({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?Z({routes:n._loadedRoutes,injector:n._loadedInjector}):V4(e,n,r,this.urlSerializer).pipe(it(i=>i?this.configLoader.loadChildren(e,n).pipe(ot(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):U4(n))):Z({routes:[],injector:e})}};function J4(t){t.sort((e,n)=>e.value.outlet===ge?-1:n.value.outlet===ge?1:e.value.outlet.localeCompare(n.value.outlet))}function Z4(t){let e=t.value.routeConfig;return e&&e.path===""}function JT(t){let e=[],n=new Set;for(let r of t){if(!Z4(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=JT(r.children);e.push(new sn(r.value,i))}return e.filter(r=>!n.has(r))}function DT(t){return t.data||{}}function TT(t){return t.resolve||{}}function X4(t,e,n,r,i,o){return it(s=>Q4(t,e,n,r,s.extractedUrl,i,o).pipe(X(({state:a,tree:u})=>ye(j({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function e2(t,e){return it(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Z(n);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of ZT(u))s.add(l);let a=0;return ke(s).pipe(vr(u=>o.has(u)?t2(u,r,t,e):(u.data=rh(u,u.parent,t).resolve,Z(void 0))),ot(()=>a++),is(1),it(u=>a===s.size?Z(n):en))})}function ZT(t){let e=t.children.map(n=>ZT(n)).flat();return[t,...e]}function t2(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!qT(i)&&(o[Pc]=i.title),n2(o,t,e,r).pipe(X(s=>(t._resolvedData=s,t.data=rh(t,t.parent,n).resolve,null)))}function n2(t,e,n,r){let i=Cy(t);if(i.length===0)return Z({});let o={};return ke(i).pipe(it(s=>r2(t[s],e,n,r).pipe(Ln(),ot(a=>{if(a instanceof Sc)throw oh(new Ns,a);o[s]=a}))),is(1),Bp(o),si(s=>QT(s)?en:ns(s)))}function r2(t,e,n,r){let i=Oc(e)??r,o=Ls(t,i),s=o.resolve?o.resolve(e,n):rn(i,()=>o(e,n));return Mi(s)}function Ey(t){return Kt(e=>{let n=t(e);return n?ke(n).pipe(X(()=>e)):Z(e)})}var XT=(()=>{let e=class e{buildTitle(r){let i,o=r.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===ge);return i}getResolvedTitleForRoute(r){return r.data[Pc]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:()=>k(i2),providedIn:"root"});let t=e;return t})(),i2=(()=>{let e=class e extends XT{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(W(vT))},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Fc=new $("",{providedIn:"root",factory:()=>({})}),xc=new $(""),Zy=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=k(Dd)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Z(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Mi(r.loadComponent()).pipe(X(eS),ot(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),ci(()=>{this.componentLoaders.delete(r)})),o=new Zo(i,()=>new yt).pipe(Jo());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Z({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=o2(i,this.compiler,r,this.onLoadEndListener).pipe(ci(()=>{this.childrenLoaders.delete(i)})),a=new Zo(s,()=>new yt).pipe(Jo());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function o2(t,e,n,r){return Mi(t.loadChildren()).pipe(X(eS),it(i=>i instanceof ec||Array.isArray(i)?Z(i):ke(e.compileModuleAsync(i))),X(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(xc,[],{optional:!0,self:!0}).flat()),{routes:s.map(Yy),injector:o}}))}function s2(t){return t&&typeof t=="object"&&"default"in t}function eS(t){return s2(t)?t.default:t}var Xy=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:()=>k(a2),providedIn:"root"});let t=e;return t})(),a2=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),tS=new $(""),nS=new $("");function c2(t,e,n){let r=t.get(nS),i=t.get(Ot);return t.get(be).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),u2(t))),{onViewTransitionCreated:u}=r;return u&&rn(t,()=>u({transition:a,from:e,to:n})),s})}function u2(t){return new Promise(e=>{md(()=>setTimeout(e),{injector:t,phase:li.Read})})}var l2=new $(""),ev=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new yt,this.transitionAbortSubject=new yt,this.configLoader=k(Zy),this.environmentInjector=k(Pt),this.urlSerializer=k(Rc),this.rootContexts=k(Nc),this.location=k(Ds),this.inputBindingEnabled=k(ch,{optional:!0})!==null,this.titleStrategy=k(XT),this.options=k(Fc,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=k(Xy),this.createViewTransition=k(tS,{optional:!0}),this.navigationErrorHandler=k(l2,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Z(void 0),this.rootComponentType=null;let r=o=>this.events.next(new Py(o)),i=o=>this.events.next(new Ry(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(ye(j(j({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,o){return this.transitions=new dt({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:wc,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ut(s=>s.id!==0),X(s=>ye(j({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Kt(s=>{let a=!1,u=!1;return Z(s).pipe(Kt(l=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",an.SupersededByNewNavigation),en;this.currentTransition=s,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?ye(j({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let h=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!h&&p!=="reload"){let m="";return this.events.next(new Ai(l.id,this.urlSerializer.serialize(l.rawUrl),m,Zd.IgnoredSameUrlNavigation)),l.resolve(!1),en}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return Z(l).pipe(Kt(m=>{let y=this.transitions?.getValue();return this.events.next(new Os(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),y!==this.transitions?.getValue()?en:Promise.resolve(m)}),X4(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),ot(m=>{s.targetSnapshot=m.targetSnapshot,s.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation=ye(j({},this.currentNavigation),{finalUrl:m.urlAfterRedirects});let y=new Xd(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(y)}));if(h&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:m,extractedUrl:y,source:S,restoredState:N,extras:x}=l,F=new Os(m,this.urlSerializer.serialize(y),S,N);this.events.next(F);let Q=HT(this.rootComponentType).snapshot;return this.currentTransition=s=ye(j({},l),{targetSnapshot:Q,urlAfterRedirects:y,extras:ye(j({},x),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=y,Z(s)}else{let m="";return this.events.next(new Ai(l.id,this.urlSerializer.serialize(l.extractedUrl),m,Zd.IgnoredByUrlHandlingStrategy)),l.resolve(!1),en}}),ot(l=>{let h=new Sy(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),X(l=>(this.currentTransition=s=ye(j({},l),{guards:v4(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),s)),M4(this.environmentInjector,l=>this.events.next(l)),ot(l=>{if(s.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw oh(this.urlSerializer,l.guardsResult);let h=new Ay(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(h)}),Ut(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",an.GuardRejected),!1)),Ey(l=>{if(l.guards.canActivateChecks.length)return Z(l).pipe(ot(h=>{let p=new My(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}),Kt(h=>{let p=!1;return Z(h).pipe(e2(this.paramsInheritanceStrategy,this.environmentInjector),ot({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(h,"",an.NoDataFromResolver)}}))}),ot(h=>{let p=new xy(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}))}),Ey(l=>{let h=p=>{let m=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(p.routeConfig).pipe(ot(y=>{p.component=y}),X(()=>{})));for(let y of p.children)m.push(...h(y));return m};return Wa(h(l.targetSnapshot.root)).pipe(ai(null),_r(1))}),Ey(()=>this.afterPreactivation()),Kt(()=>{let{currentSnapshot:l,targetSnapshot:h}=s,p=this.createViewTransition?.(this.environmentInjector,l.root,h.root);return p?ke(p).pipe(X(()=>s)):Z(s)}),X(l=>{let h=l4(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s=ye(j({},l),{targetRouterState:h}),this.currentNavigation.targetRouterState=h,s}),ot(()=>{this.events.next(new Dc)}),y4(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),_r(1),ot({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Pn(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),Hp(this.transitionAbortSubject.pipe(ot(l=>{throw l}))),ci(()=>{!a&&!u&&this.cancelNavigationTransition(s,"",an.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),si(l=>{if(u=!0,KT(l))this.events.next(new Vr(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),f4(l)?this.events.next(new ks(l.url,l.navigationBehaviorOptions)):s.resolve(!1);else{let h=new bc(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0);try{let p=rn(this.environmentInjector,()=>this.navigationErrorHandler?.(h));if(p instanceof Sc){let{message:m,cancellationCode:y}=oh(this.urlSerializer,p);this.events.next(new Vr(s.id,this.urlSerializer.serialize(s.extractedUrl),m,y)),this.events.next(new ks(p.redirectTo,p.navigationBehaviorOptions))}else{this.events.next(h);let m=r.errorHandler(l);s.resolve(!!m)}}catch(p){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(p)}}return en}))}))}cancelNavigationTransition(r,i,o){let s=new Vr(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function d2(t){return t!==wc}var h2=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:()=>k(f2),providedIn:"root"});let t=e;return t})(),Wy=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},f2=(()=>{let e=class e extends Wy{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Ar(e)))(o||e)}})(),e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),rS=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:()=>k(p2),providedIn:"root"});let t=e;return t})(),p2=(()=>{let e=class e extends rS{constructor(){super(...arguments),this.location=k(Ds),this.urlSerializer=k(Rc),this.options=k(Fc,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=k(Xy),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Si,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=HT(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof Os)this.stateMemento=this.createStateMemento();else if(r instanceof Ai)this.rawUrlTree=i.initialUrl;else if(r instanceof Xd){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(o,i)}}else r instanceof Dc?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof Vr&&(r.code===an.GuardRejected||r.code===an.NoDataFromResolver)?this.restoreHistory(i):r instanceof bc?this.restoreHistory(i,!0):r instanceof Pn&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let o=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let s=this.browserPageId,a=j(j({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(o,"",a)}else{let s=j(j({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===r.finalUrl&&s===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Ar(e)))(o||e)}})(),e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),vc=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(vc||{});function iS(t,e){t.events.pipe(Ut(n=>n instanceof Pn||n instanceof Vr||n instanceof bc||n instanceof Ai),X(n=>n instanceof Pn||n instanceof Ai?vc.COMPLETE:(n instanceof Vr?n.code===an.Redirect||n.code===an.SupersededByNewNavigation:!1)?vc.REDIRECTING:vc.FAILED),Ut(n=>n!==vc.REDIRECTING),_r(1)).subscribe(()=>{e()})}function g2(t){throw t}var m2={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},y2={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},_t=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=k(Cd),this.stateManager=k(rS),this.options=k(Fc,{optional:!0})||{},this.pendingTasks=k(Mr),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=k(ev),this.urlSerializer=k(Rc),this.location=k(Ds),this.urlHandlingStrategy=k(Xy),this._events=new yt,this.errorHandler=this.options.errorHandler||g2,this.navigated=!1,this.routeReuseStrategy=k(h2),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=k(xc,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!k(ch,{optional:!0}),this.eventsSubscription=new Qe,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof Vr&&i.code!==an.Redirect&&i.code!==an.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Pn)this.navigated=!0;else if(i instanceof ks){let a=i.navigationBehaviorOptions,u=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),l=j({info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||d2(o.source)},a);this.scheduleNavigation(u,wc,null,l,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}_2(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),wc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let l=j({},o);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let u=this.parseUrl(r);this.scheduleNavigation(u,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Yy),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:u,preserveFragment:l}=i,h=l?this.currentUrlTree.fragment:a,p=null;switch(u){case"merge":p=j(j({},this.currentUrlTree.queryParams),s);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=s||null}p!==null&&(p=this.removeEmptyProps(p));let m;try{let y=o?o.snapshot:this.routerState.snapshot.root;m=jT(y)}catch{(typeof r[0]!="string"||r[0][0]!=="/")&&(r=[]),m=this.currentUrlTree.root}return UT(m,r,p,h??null)}navigateByUrl(r,i={skipLocationChange:!1}){let o=Ic(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,wc,null,i)}navigate(r,i={skipLocationChange:!1}){return v2(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let o;if(i===!0?o=j({},m2):i===!1?o=j({},y2):o=i,Ic(r))return _T(this.currentUrlTree,r,o);let s=this.parseUrl(r);return _T(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.entries(r).reduce((i,[o,s])=>(s!=null&&(i[o]=s),i),{})}scheduleNavigation(r,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let u,l,h;a?(u=a.resolve,l=a.reject,h=a.promise):h=new Promise((m,y)=>{u=m,l=y});let p=this.pendingTasks.add();return iS(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:s,resolve:u,reject:l,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(m=>Promise.reject(m))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function v2(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new K(4008,!1)}function _2(t){return!(t instanceof Dc)&&!(t instanceof ks)}var Vs=(()=>{let e=class e{constructor(r,i,o,s,a,u){this.router=r,this.route=i,this.tabIndexAttribute=o,this.renderer=s,this.el=a,this.locationStrategy=u,this.href=null,this.commands=null,this.onChanges=new yt,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let l=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=r.events.subscribe(h=>{h instanceof Pn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,o,s,a){let u=this.urlTree;if(u===null||this.isAnchorElement&&(r!==0||i||o||s||a||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(u,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:Ib(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let o=this.renderer,s=this.el.nativeElement;i!==null?o.setAttribute(s,r,i):o.removeAttribute(s,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(B(_t),B(Xn),ym("tabindex"),B(Sn),B(Ht),B(kr))},e.\u0275dir=ze({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,o){i&1&&z("click",function(a){return o.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&sc("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",wi],skipLocationChange:[2,"skipLocationChange","skipLocationChange",wi],replaceUrl:[2,"replaceUrl","replaceUrl",wi],routerLink:"routerLink"},standalone:!0,features:[Lm,Sr]});let t=e;return t})(),oS=(()=>{let e=class e{get isActive(){return this._isActive}constructor(r,i,o,s,a){this.router=r,this.element=i,this.renderer=o,this.cdr=s,this.link=a,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Ye,this.routerEventsSubscription=r.events.subscribe(u=>{u instanceof Pn&&this.update()})}ngAfterContentInit(){Z(this.links.changes,Z(null)).pipe(oi()).subscribe(r=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let r=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=ke(r).pipe(oi()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(r){let i=Array.isArray(r)?r:r.split(" ");this.classes=i.filter(o=>!!o)}ngOnChanges(r){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let r=this.hasActiveLinks();this.classes.forEach(i=>{r?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),r&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==r&&(this._isActive=r,this.cdr.markForCheck(),this.isActiveChange.emit(r))})}isLinkActive(r){let i=w2(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return o=>{let s=o.urlTree;return s?r.isActive(s,i):!1}}hasActiveLinks(){let r=this.isLinkActive(this.router);return this.link&&r(this.link)||this.links.some(r)}};e.\u0275fac=function(i){return new(i||e)(B(_t),B(Ht),B(Sn),B(_i),B(Vs,8))},e.\u0275dir=ze({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(i,o,s){if(i&1&&yD(s,Vs,5),i&2){let a;_d(a=wd())&&(o.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Sr]});let t=e;return t})();function w2(t){return!!t.paths}var ah=class{};var E2=(()=>{let e=class e{constructor(r,i,o,s,a){this.router=r,this.injector=o,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Ut(r=>r instanceof Pn),vr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){let o=[];for(let s of i){s.providers&&!s._injector&&(s._injector=yd(s.providers,r,`Route: ${s.path}`));let a=s._injector??r,u=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&o.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&o.push(this.processRoutes(u,s.children??s._loadedRoutes))}return ke(o).pipe(oi())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let o;i.loadChildren&&i.canLoad===void 0?o=this.loader.loadChildren(r,i):o=Z(null);let s=o.pipe(it(a=>a===null?Z(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));if(i.loadComponent&&!i._loadedComponent){let a=this.loader.loadComponent(i);return ke([s,a]).pipe(oi())}else return s})}};e.\u0275fac=function(i){return new(i||e)(W(_t),W(Dd),W(Pt),W(ah),W(Zy))},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),sS=new $(""),I2=(()=>{let e=class e{constructor(r,i,o,s,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=o,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=k(Pt),a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Os?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof Pn?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof Ai&&r.code===Zd.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof eh&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>E(this,null,function*(){yield new Promise(o=>{setTimeout(()=>{o()}),md(()=>{o()},{injector:this.environmentInjector})}),this.zone.run(()=>{this.transitions.events.next(new eh(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(i){Ob()},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})();function aS(t,...e){return nn([{provide:xc,multi:!0,useValue:t},[],{provide:Xn,useFactory:cS,deps:[_t]},{provide:cc,multi:!0,useFactory:uS},e.map(n=>n.\u0275providers)])}function cS(t){return t.routerState.root}function Vc(t,e){return{\u0275kind:t,\u0275providers:e}}function uS(){let t=k(ht);return e=>{let n=t.get(mo);if(e!==n.components[0])return;let r=t.get(_t),i=t.get(lS);t.get(tv)===1&&r.initialNavigation(),t.get(dS,null,ve.Optional)?.setUpPreloading(),t.get(sS,null,ve.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var lS=new $("",{factory:()=>new yt}),tv=new $("",{providedIn:"root",factory:()=>1});function C2(){return Vc(2,[{provide:tv,useValue:0},{provide:bd,multi:!0,deps:[ht],useFactory:e=>{let n=e.get(jD,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(_t),o=e.get(lS);iS(i,()=>{r(!0)}),e.get(ev).afterPreactivation=()=>(r(!0),o.closed?Z(void 0):o),i.initialNavigation()}))}}])}function b2(){return Vc(3,[{provide:bd,multi:!0,useFactory:()=>{let e=k(_t);return()=>{e.setUpLocationChangeListener()}}},{provide:tv,useValue:2}])}var dS=new $("");function D2(t){return Vc(0,[{provide:dS,useExisting:E2},{provide:ah,useExisting:t}])}function T2(){return Vc(8,[CT,{provide:ch,useExisting:CT}])}function S2(t){let e=[{provide:tS,useValue:c2},{provide:nS,useValue:j({skipNextTransition:!!t?.skipInitialTransition},t)}];return Vc(9,e)}var ST=new $("ROUTER_FORROOT_GUARD"),A2=[Ds,{provide:Rc,useClass:Ns},_t,Nc,{provide:Xn,useFactory:cS,deps:[_t]},Zy,[]],js=(()=>{let e=class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[A2,[],{provide:xc,multi:!0,useValue:r},{provide:ST,useFactory:R2,deps:[[_t,new ft,new em]]},{provide:Fc,useValue:i||{}},i?.useHash?x2():P2(),M2(),i?.preloadingStrategy?D2(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?N2(i):[],i?.bindToComponentInputs?T2().\u0275providers:[],i?.enableViewTransitions?S2().\u0275providers:[],O2()]}}static forChild(r){return{ngModule:e,providers:[{provide:xc,multi:!0,useValue:r}]}}};e.\u0275fac=function(i){return new(i||e)(W(ST,8))},e.\u0275mod=Kn({type:e}),e.\u0275inj=Wn({});let t=e;return t})();function M2(){return{provide:sS,useFactory:()=>{let t=k(QD),e=k(be),n=k(Fc),r=k(ev),i=k(Rc);return n.scrollOffset&&t.setOffset(n.scrollOffset),new I2(i,r,t,e,n)}}}function x2(){return{provide:kr,useClass:BD}}function P2(){return{provide:kr,useClass:ey}}function R2(t){return"guarded"}function N2(t){return[t.initialNavigation==="disabled"?b2().\u0275providers:[],t.initialNavigation==="enabledBlocking"?C2().\u0275providers:[]]}var AT=new $("");function O2(){return[{provide:AT,useFactory:uS},{provide:cc,multi:!0,useExisting:AT}]}var fS=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},k2=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},lh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,m=(a&15)<<2|l>>6,y=l&63;u||(y=64,s||(m=64)),r.push(n[h],n[p],n[m],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(fS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):k2(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new rv;let m=o<<2|a>>4;if(r.push(m),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let S=l<<6&192|p;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},rv=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},F2=function(t){let e=fS(t);return lh.encodeByteArray(e,!0)},Lc=function(t){return F2(t).replace(/\./g,"")},ov=function(t){try{return lh.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function sv(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var V2=()=>sv().__FIREBASE_DEFAULTS__,L2=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},j2=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&ov(t[1]);return e&&JSON.parse(e)},dh=()=>{try{return V2()||L2()||j2()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},av=t=>{var e,n;return(n=(e=dh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},pS=t=>{let e=av(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},cv=()=>{var t;return(t=dh())===null||t===void 0?void 0:t.config},uv=t=>{var e;return(e=dh())===null||e===void 0?void 0:e[`_${t}`]};var Lr=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function gS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Lc(JSON.stringify(n)),Lc(JSON.stringify(s)),""].join(".")}function Et(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Et())}function U2(){var t;let e=(t=dh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function vS(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function _S(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function wS(){let t=Et();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function ES(){return!U2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Bs(){try{return typeof indexedDB=="object"}catch{return!1}}function IS(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var B2="FirebaseError",cn=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=B2,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Rn.prototype.create)}},Rn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?$2(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new cn(i,a,r)}};function $2(t,e){return t.replace(H2,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var H2=/\{\$([^}]+)}/g;function CS(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function wo(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(hS(o)&&hS(s)){if(!wo(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function hS(t){return t!==null&&typeof t=="object"}function jc(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function bS(t,e){let n=new iv(t,e);return n.subscribe.bind(n)}var iv=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");z2(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=nv),i.error===void 0&&(i.error=nv),i.complete===void 0&&(i.complete=nv);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function z2(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function nv(){}var DS=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{let e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})};var q2=1e3,G2=2,W2=4*60*60*1e3,K2=.5;function TS(t,e=q2,n=G2){let r=e*Math.pow(n,t),i=Math.round(K2*r*(Math.random()-.5)*2);return Math.min(W2,r+i)}function pt(t){return t&&t._delegate?t._delegate:t}var Gt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Eo="[DEFAULT]";var lv=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Lr;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Y2(e))try{this.getOrInitializeService({instanceIdentifier:Eo})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Eo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return E(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Eo){return this.instances.has(e)}getOptions(e=Eo){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Q2(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Eo){return this.component?this.component.multipleInstances?e:Eo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Q2(t){return t===Eo?void 0:t}function Y2(t){return t.instantiationMode==="EAGER"}var hh=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new lv(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var J2=[],we=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(we||{}),Z2={debug:we.DEBUG,verbose:we.VERBOSE,info:we.INFO,warn:we.WARN,error:we.ERROR,silent:we.SILENT},X2=we.INFO,e3={[we.DEBUG]:"log",[we.VERBOSE]:"log",[we.INFO]:"info",[we.WARN]:"warn",[we.ERROR]:"error"},t3=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=e3[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},er=class{constructor(e){this.name=e,this._logLevel=X2,this._logHandler=t3,this._userLogHandler=null,J2.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in we))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Z2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,we.DEBUG,...e),this._logHandler(this,we.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,we.VERBOSE,...e),this._logHandler(this,we.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,we.INFO,...e),this._logHandler(this,we.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,we.WARN,...e),this._logHandler(this,we.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,we.ERROR,...e),this._logHandler(this,we.ERROR,...e)}};var n3=(t,e)=>e.some(n=>t instanceof n),SS,AS;function r3(){return SS||(SS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function i3(){return AS||(AS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var MS=new WeakMap,hv=new WeakMap,xS=new WeakMap,dv=new WeakMap,pv=new WeakMap;function o3(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(tr(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&MS.set(n,t)}).catch(()=>{}),pv.set(e,t),e}function s3(t){if(hv.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});hv.set(t,e)}var fv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return hv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||xS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return tr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function PS(t){fv=t(fv)}function a3(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(fh(this),e,...n);return xS.set(r,e.sort?e.sort():[e]),tr(r)}:i3().includes(t)?function(...e){return t.apply(fh(this),e),tr(MS.get(this))}:function(...e){return tr(t.apply(fh(this),e))}}function c3(t){return typeof t=="function"?a3(t):(t instanceof IDBTransaction&&s3(t),n3(t,r3())?new Proxy(t,fv):t)}function tr(t){if(t instanceof IDBRequest)return o3(t);if(dv.has(t))return dv.get(t);let e=c3(t);return e!==t&&(dv.set(t,e),pv.set(e,t)),e}var fh=t=>pv.get(t);function NS(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=tr(s);return r&&s.addEventListener("upgradeneeded",u=>{r(tr(s.result),u.oldVersion,u.newVersion,tr(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var u3=["get","getKey","getAll","getAllKeys","count"],l3=["put","add","delete","clear"],gv=new Map;function RS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(gv.get(e))return gv.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=l3.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||u3.includes(n)))return;let o=function(s,...a){return E(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&u.done]))[0]})};return gv.set(e,o),o}PS(t=>ye(j({},t),{get:(e,n,r)=>RS(e,n)||t.get(e,n,r),has:(e,n)=>!!RS(e,n)||t.has(e,n)}));var yv=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(d3(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function d3(t){let e=t.getComponent();return e?.type==="VERSION"}var vv="@firebase/app",OS="0.10.13";var jr=new er("@firebase/app"),h3="@firebase/app-compat",f3="@firebase/analytics-compat",p3="@firebase/analytics",g3="@firebase/app-check-compat",m3="@firebase/app-check",y3="@firebase/auth",v3="@firebase/auth-compat",_3="@firebase/database",w3="@firebase/data-connect",E3="@firebase/database-compat",I3="@firebase/functions",C3="@firebase/functions-compat",b3="@firebase/installations",D3="@firebase/installations-compat",T3="@firebase/messaging",S3="@firebase/messaging-compat",A3="@firebase/performance",M3="@firebase/performance-compat",x3="@firebase/remote-config",P3="@firebase/remote-config-compat",R3="@firebase/storage",N3="@firebase/storage-compat",O3="@firebase/firestore",k3="@firebase/vertexai-preview",F3="@firebase/firestore-compat",V3="firebase",L3="10.14.1";var _v="[DEFAULT]",j3={[vv]:"fire-core",[h3]:"fire-core-compat",[p3]:"fire-analytics",[f3]:"fire-analytics-compat",[m3]:"fire-app-check",[g3]:"fire-app-check-compat",[y3]:"fire-auth",[v3]:"fire-auth-compat",[_3]:"fire-rtdb",[w3]:"fire-data-connect",[E3]:"fire-rtdb-compat",[I3]:"fire-fn",[C3]:"fire-fn-compat",[b3]:"fire-iid",[D3]:"fire-iid-compat",[T3]:"fire-fcm",[S3]:"fire-fcm-compat",[A3]:"fire-perf",[M3]:"fire-perf-compat",[x3]:"fire-rc",[P3]:"fire-rc-compat",[R3]:"fire-gcs",[N3]:"fire-gcs-compat",[O3]:"fire-fst",[F3]:"fire-fst-compat",[k3]:"fire-vertex","fire-js":"fire-js",[V3]:"fire-js-all"};var Uc=new Map,U3=new Map,wv=new Map;function kS(t,e){try{t.container.addComponent(e)}catch(n){jr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Nn(t){let e=t.name;if(wv.has(e))return jr.debug(`There were multiple attempts to register component ${e}.`),!1;wv.set(e,t);for(let n of Uc.values())kS(n,t);for(let n of U3.values())kS(n,t);return!0}function Pi(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ur(t){return t.settings!==void 0}var B3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xi=new Rn("app","Firebase",B3);var Ev=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Gt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xi.create("app-deleted",{appName:this._name})}};var Ri=L3;function bv(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:_v,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw xi.create("bad-app-name",{appName:String(i)});if(n||(n=cv()),!n)throw xi.create("no-options");let o=Uc.get(i);if(o){if(wo(n,o.options)&&wo(r,o.config))return o;throw xi.create("duplicate-app",{appName:i})}let s=new hh(i);for(let u of wv.values())s.addComponent(u);let a=new Ev(n,r,s);return Uc.set(i,a),a}function Ni(t=_v){let e=Uc.get(t);if(!e&&t===_v&&cv())return bv();if(!e)throw xi.create("no-app",{appName:t});return e}function ph(){return Array.from(Uc.values())}function We(t,e,n){var r;let i=(r=j3[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),jr.warn(a.join(" "));return}Nn(new Gt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var $3="firebase-heartbeat-database",H3=1,Bc="firebase-heartbeat-store",mv=null;function jS(){return mv||(mv=NS($3,H3,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Bc)}catch(n){console.warn(n)}}}}).catch(t=>{throw xi.create("idb-open",{originalErrorMessage:t.message})})),mv}function z3(t){return E(this,null,function*(){try{let n=(yield jS()).transaction(Bc),r=yield n.objectStore(Bc).get(US(t));return yield n.done,r}catch(e){if(e instanceof cn)jr.warn(e.message);else{let n=xi.create("idb-get",{originalErrorMessage:e?.message});jr.warn(n.message)}}})}function FS(t,e){return E(this,null,function*(){try{let r=(yield jS()).transaction(Bc,"readwrite");yield r.objectStore(Bc).put(e,US(t)),yield r.done}catch(n){if(n instanceof cn)jr.warn(n.message);else{let r=xi.create("idb-set",{originalErrorMessage:n?.message});jr.warn(r.message)}}})}function US(t){return`${t.name}!${t.options.appId}`}var q3=1024,G3=30*24*60*60*1e3,Iv=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Cv(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return E(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=VS();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=G3}),this._storage.overwrite(this._heartbeatsCache))}catch(r){jr.warn(r)}})}getHeartbeatsHeader(){return E(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=VS(),{heartbeatsToSend:r,unsentEntries:i}=W3(this._heartbeatsCache.heartbeats),o=Lc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return jr.warn(n),""}})}};function VS(){return new Date().toISOString().substring(0,10)}function W3(t,e=q3){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),LS(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),LS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Cv=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return E(this,null,function*(){return Bs()?IS().then(()=>!0).catch(()=>!1):!1})}read(){return E(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield z3(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return E(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return FS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return E(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return FS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function LS(t){return Lc(JSON.stringify({version:2,heartbeats:t})).length}function K3(t){Nn(new Gt("platform-logger",e=>new yv(e),"PRIVATE")),Nn(new Gt("heartbeat",e=>new Iv(e),"PRIVATE")),We(vv,OS,t),We(vv,OS,"esm2017"),We("fire-js","")}K3("");var Q3="firebase",Y3="10.14.1";We(Q3,Y3,"app");var Br=new br("ANGULARFIRE2_VERSION");function Hs(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var zs=(t,e)=>{let n=e?[e]:ph(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Oi=class{constructor(){return zs(Tv)}},Tv="app-check";function $s(){}var gh=class{zone;delegate;constructor(e,n=Fp){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,r)}},Dv=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",$s,{},$s,$s)),n.pipe(ot({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},ki=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new gh(Zone.current)),this.insideAngular=n.run(()=>new gh(Zone.current,el)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(W(be))};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function mh(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function J3(t){return mh().ngZone.runOutsideAngular(()=>t())}function Io(t){return mh().ngZone.run(()=>t())}function Z3(t){return X3(mh())(t)}function X3(t){return function(n){return n=n.lift(new Dv(t.ngZone)),n.pipe(ii(t.outsideAngular),ri(t.insideAngular))}}var ej=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Io(()=>t.apply(void 0,r))},Tt=(t,e)=>function(){let n,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(n||=Io(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",$s,{},$s,$s))),r[o]=ej(r[o],n));let i=J3(()=>t.apply(this,r));if(!e)if(i instanceof fe){let o=mh();return i.pipe(ii(o.outsideAngular),ri(o.insideAngular))}else return Io(()=>i);return i instanceof fe?i.pipe(Z3):i instanceof Promise?Io(()=>new Promise((o,s)=>i.then(a=>Io(()=>o(a)),a=>Io(()=>s(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Io(()=>i)};var On=class{constructor(e){return e}},$r=class{constructor(){return ph()}};function tj(t){return t&&t.length===1?t[0]:new On(Ni())}var Sv=new $("angularfire2._apps"),nj={provide:On,useFactory:tj,deps:[[new ft,Sv]]},rj={provide:$r,deps:[[new ft,Sv]]};function ij(t){return(e,n)=>{let r=n.get(bt);We("angularfire",Br.full,"core"),We("angularfire",Br.full,"app"),We("angular",CD.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new On(i)}}function BS(t,...e){return nn([nj,rj,{provide:Sv,useFactory:ij(t),multi:!0,deps:[be,ht,ki,...e]}])}var $S=Tt(bv,!0);function rA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var iA=rA,oA=new Rn("auth","Firebase",rA());var Ih=new er("@firebase/auth");function oj(t,...e){Ih.logLevel<=we.WARN&&Ih.warn(`Auth (${Ri}): ${t}`,...e)}function vh(t,...e){Ih.logLevel<=we.ERROR&&Ih.error(`Auth (${Ri}): ${t}`,...e)}function Vi(t,...e){throw Wv(t,...e)}function bo(t,...e){return Wv(t,...e)}function sA(t,e,n){let r=Object.assign(Object.assign({},iA()),{[e]:n});return new Rn("auth","Firebase",r).create(e,{appName:t.name})}function Co(t){return sA(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Wv(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return oA.create(t,...e)}function ae(t,e,...n){if(!t)throw Wv(e,...n)}function Hr(t){let e="INTERNAL ASSERTION FAILED: "+t;throw vh(e),new Error(e)}function Li(t,e){t||Hr(e)}function Pv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function sj(){return HS()==="http:"||HS()==="https:"}function HS(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function aj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(sj()||vS()||"connection"in navigator)?navigator.onLine:!0}function cj(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Do=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Li(n>e,"Short delay should be less than long delay!"),this.isMobile=mS()||_S()}get(){return aj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Kv(t,e){Li(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Ch=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Hr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Hr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Hr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var uj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var lj=new Do(3e4,6e4);function Qv(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Gs(o,s,a,u){return E(this,arguments,function*(t,e,n,r,i={}){return aA(t,i,()=>E(this,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=jc(Object.assign({key:t.config.apiKey},h)).slice(1),m=yield t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);let y=Object.assign({method:e,headers:m},l);return yS()||(y.referrerPolicy="no-referrer"),Ch.fetch()(cA(t,t.config.apiHost,n,p),y)}))})}function aA(t,e,n){return E(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},uj),e);try{let i=new Rv(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw yh(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw yh(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw yh(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw yh(t,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw sA(t,h,l);Vi(t,h)}}catch(i){if(i instanceof cn)throw i;Vi(t,"network-request-failed",{message:String(i)})}})}function dj(o,s,a,u){return E(this,arguments,function*(t,e,n,r,i={}){let l=yield Gs(t,e,n,r,i);return"mfaPendingCredential"in l&&Vi(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function cA(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?Kv(t.config,i):`${t.config.apiScheme}://${i}`}var Rv=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(bo(this.auth,"network-request-failed")),lj.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function yh(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=bo(t,e,r);return i.customData._tokenResponse=n,i}function hj(t,e){return E(this,null,function*(){return Gs(t,"POST","/v1/accounts:delete",e)})}function uA(t,e){return E(this,null,function*(){return Gs(t,"POST","/v1/accounts:lookup",e)})}function $c(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Yv(t,e=!1){return E(this,null,function*(){let n=pt(t),r=yield n.getIdToken(e),i=Jv(r);ae(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:$c(Av(i.auth_time)),issuedAtTime:$c(Av(i.iat)),expirationTime:$c(Av(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function Av(t){return Number(t)*1e3}function Jv(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return vh("JWT malformed, contained fewer than 3 sections"),null;try{let i=ov(n);return i?JSON.parse(i):(vh("Failed to decode base64 JWT payload"),null)}catch(i){return vh("Caught error parsing JWT payload as JSON",i?.toString()),null}}function zS(t){let e=Jv(t);return ae(e,"internal-error"),ae(typeof e.exp<"u","internal-error"),ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function zc(t,e,n=!1){return E(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof cn&&fj(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function fj({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Nv=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>E(this,null,function*(){yield this.iteration()}),n)}iteration(){return E(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var qc=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=$c(this.lastLoginAt),this.creationTime=$c(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function bh(t){return E(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield zc(t,uA(n,{idToken:r}));ae(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?lA(o.providerUserInfo):[],a=pj(t.providerData,s),u=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new qc(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,p)})}function Zv(t){return E(this,null,function*(){let e=pt(t);yield bh(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function pj(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function lA(t){return t.map(e=>{var{providerId:n}=e,r=Vp(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function gj(t,e){return E(this,null,function*(){let n=yield aA(t,{},()=>E(this,null,function*(){let r=jc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=cA(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Ch.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function mj(t,e){return E(this,null,function*(){return Gs(t,"POST","/v2/accounts:revokeToken",Qv(t,e))})}var Hc=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ae(e.idToken,"internal-error"),ae(typeof e.idToken<"u","internal-error"),ae(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):zS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ae(e.length!==0,"internal-error");let n=zS(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return E(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return E(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield gj(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(ae(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(ae(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(ae(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Hr("not implemented")}};function Fi(t,e){ae(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var qs=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Vp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Nv(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new qc(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return E(this,null,function*(){let n=yield zc(this,this.stsTokenManager.getToken(this.auth,e));return ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Yv(this,e)}reload(){return Zv(this)}_assign(e){this!==e&&(ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return E(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield bh(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return E(this,null,function*(){if(Ur(this.auth.app))return Promise.reject(Co(this.auth));let e=yield this.getIdToken();return yield zc(this,hj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,u,l,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,y=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,S=(s=n.photoURL)!==null&&s!==void 0?s:void 0,N=(a=n.tenantId)!==null&&a!==void 0?a:void 0,x=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,F=(l=n.createdAt)!==null&&l!==void 0?l:void 0,Q=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:G,emailVerified:J,isAnonymous:Ne,providerData:re,stsTokenManager:I}=n;ae(G&&I,e,"internal-error");let v=Hc.fromJSON(this.name,I);ae(typeof G=="string",e,"internal-error"),Fi(p,e.name),Fi(m,e.name),ae(typeof J=="boolean",e,"internal-error"),ae(typeof Ne=="boolean",e,"internal-error"),Fi(y,e.name),Fi(S,e.name),Fi(N,e.name),Fi(x,e.name),Fi(F,e.name),Fi(Q,e.name);let _=new t({uid:G,auth:e,email:m,emailVerified:J,displayName:p,isAnonymous:Ne,photoURL:S,phoneNumber:y,tenantId:N,stsTokenManager:v,createdAt:F,lastLoginAt:Q});return re&&Array.isArray(re)&&(_.providerData=re.map(C=>Object.assign({},C))),x&&(_._redirectEventId=x),_}static _fromIdTokenResponse(e,n,r=!1){return E(this,null,function*(){let i=new Hc;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield bh(o),o})}static _fromGetAccountInfoResponse(e,n,r){return E(this,null,function*(){let i=n.users[0];ae(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?lA(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Hc;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new qc(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var qS=new Map;function zr(t){Li(t instanceof Function,"Expected a class definition");let e=qS.get(t);return e?(Li(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,qS.set(t,e),e)}var yj=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return E(this,null,function*(){return!0})}_set(n,r){return E(this,null,function*(){this.storage[n]=r})}_get(n){return E(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return E(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Ov=yj;function _h(t,e,n){return`firebase:${t}:${e}:${n}`}var Dh=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=_h(this.userKey,i.apiKey,o),this.fullPersistenceKey=_h("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return E(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?qs._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return E(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return E(this,null,function*(){if(!n.length)return new t(zr(Ov),e,r);let i=(yield Promise.all(n.map(l=>E(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||zr(Ov),s=_h(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let h=yield l._get(s);if(h){let p=qs._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new t(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>E(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,r))})}};function GS(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(pA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(dA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(mA(e))return"Blackberry";if(yA(e))return"Webos";if(hA(e))return"Safari";if((e.includes("chrome/")||fA(e))&&!e.includes("edge/"))return"Chrome";if(gA(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function dA(t=Et()){return/firefox\//i.test(t)}function hA(t=Et()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function fA(t=Et()){return/crios\//i.test(t)}function pA(t=Et()){return/iemobile/i.test(t)}function gA(t=Et()){return/android/i.test(t)}function mA(t=Et()){return/blackberry/i.test(t)}function yA(t=Et()){return/webos/i.test(t)}function Xv(t=Et()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function vj(t=Et()){var e;return Xv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function _j(){return wS()&&document.documentMode===10}function vA(t=Et()){return Xv(t)||gA(t)||yA(t)||mA(t)||/windows phone/i.test(t)||pA(t)}function _A(t,e=[]){let n;switch(t){case"Browser":n=GS(Et());break;case"Worker":n=`${GS(Et())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ri}/${r}`}var kv=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return E(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function wj(n){return E(this,arguments,function*(t,e={}){return Gs(t,"GET","/v2/passwordPolicy",Qv(t,e))})}var Ej=6,Fv=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:Ej,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Vv=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Th(this),this.idTokenSubscription=new Th(this),this.beforeStateQueue=new kv(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=oA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=zr(n)),this._initializationPromise=this.queue(()=>E(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Dh.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return E(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return E(this,null,function*(){try{let n=yield uA(this,{idToken:e}),r=yield qs._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return E(this,null,function*(){var n;if(Ur(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ae(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return E(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return E(this,null,function*(){try{yield bh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=cj()}_delete(){return E(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return E(this,null,function*(){if(Ur(this.app))return Promise.reject(Co(this));let n=e?pt(e):null;return n&&ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return E(this,null,function*(){if(!this._deleted)return e&&ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>E(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return E(this,null,function*(){return Ur(this.app)?Promise.reject(Co(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Ur(this.app)?Promise.reject(Co(this)):this.queue(()=>E(this,null,function*(){yield this.assertedPersistence.setPersistence(zr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return E(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return E(this,null,function*(){let e=yield wj(this),n=new Fv(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Rn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return E(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield mj(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return E(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return E(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&zr(e)||this._popupRedirectResolver;ae(n,this,"argument-error"),this.redirectPersistenceManager=yield Dh.create(this,[zr(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return E(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>E(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return E(this,null,function*(){if(e===this.currentUser)return this.queue(()=>E(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ae(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(n);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return E(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_A(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return E(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return E(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&oj(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function e0(t){return pt(t)}var Th=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=bS(n=>this.observer=n)}get next(){return ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var t0={loadJS(){return E(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ij(t){t0=t}function Cj(t){return t0.loadJS(t)}function bj(){return t0.gapiScript}function wA(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function n0(t,e){let n=Pi(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(wo(o,e??{}))return i;Vi(i,"already-initialized")}return n.initialize({options:e})}function Dj(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(zr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function r0(t,e,n){let r=e0(t);ae(r._canInitEmulator,r,"emulator-config-failed"),ae(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=EA(e),{host:s,port:a}=Tj(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||Sj()}function EA(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Tj(t){let e=EA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:WS(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:WS(s)}}}function WS(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function Sj(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Sh=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Hr("not implemented")}_getIdTokenResponse(e){return Hr("not implemented")}_linkToIdToken(e,n){return Hr("not implemented")}_getReauthenticationResolver(e){return Hr("not implemented")}};function Mv(t,e){return E(this,null,function*(){return dj(t,"POST","/v1/accounts:signInWithIdp",Qv(t,e))})}var Ah=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Lv=class extends Ah{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var Gc=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return E(this,null,function*(){let o=yield qs._fromIdTokenResponse(e,r,i),s=KS(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return E(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=KS(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function KS(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var jv=class t extends cn{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function IA(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?jv._fromErrorAndOperation(t,o,e,r):o})}function Aj(t,e,n=!1){return E(this,null,function*(){let r=yield zc(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Gc._forOperation(t,"link",r)})}function Mj(t,e,n=!1){return E(this,null,function*(){let{auth:r}=t;if(Ur(r.app))return Promise.reject(Co(r));let i="reauthenticate";try{let o=yield zc(t,IA(r,i,e,t),n);ae(o.idToken,r,"internal-error");let s=Jv(o.idToken);ae(s,r,"internal-error");let{sub:a}=s;return ae(t.uid===a,r,"user-mismatch"),Gc._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Vi(r,"user-mismatch"),o}})}function xj(t,e,n=!1){return E(this,null,function*(){if(Ur(t.app))return Promise.reject(Co(t));let r="signIn",i=yield IA(t,r,e),o=yield Gc._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})}function i0(t,e,n,r){return pt(t).onIdTokenChanged(e,n,r)}function o0(t,e,n){return pt(t).beforeAuthStateChanged(e,n)}var Mh="__sak";var xh=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Mh,"1"),this.storage.removeItem(Mh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var Pj=1e3,Rj=10,Nj=(()=>{class t extends xh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=vA(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);_j()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,Rj):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},Pj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return E(this,null,function*(){yield ti(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return E(this,null,function*(){let r=yield ti(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return E(this,null,function*(){yield ti(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),CA=Nj;var Oj=(()=>{class t extends xh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),s0=Oj;function kj(t){return Promise.all(t.map(e=>E(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var Fj=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return E(this,null,function*(){let r=n,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(h=>E(this,null,function*(){return h(r.origin,s)})),l=yield kj(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function bA(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var Uv=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return E(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let l=bA("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let m=p;if(m.data.eventId===l)switch(m.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(m.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function nr(){return window}function Vj(t){nr().location.href=t}function DA(){return typeof nr().WorkerGlobalScope<"u"&&typeof nr().importScripts=="function"}function Lj(){return E(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function jj(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Uj(){return DA()?self:null}var TA="firebaseLocalStorageDb",Bj=1,Ph="firebaseLocalStorage",SA="fbase_key",To=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Nh(t,e){return t.transaction([Ph],e?"readwrite":"readonly").objectStore(Ph)}function $j(){let t=indexedDB.deleteDatabase(TA);return new To(t).toPromise()}function Bv(){let t=indexedDB.open(TA,Bj);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Ph,{keyPath:SA})}catch(i){n(i)}}),t.addEventListener("success",()=>E(this,null,function*(){let r=t.result;r.objectStoreNames.contains(Ph)?e(r):(r.close(),yield $j(),e(yield Bv()))}))})}function QS(t,e,n){return E(this,null,function*(){let r=Nh(t,!0).put({[SA]:e,value:n});return new To(r).toPromise()})}function Hj(t,e){return E(this,null,function*(){let n=Nh(t,!1).get(e),r=yield new To(n).toPromise();return r===void 0?null:r.value})}function YS(t,e){let n=Nh(t,!0).delete(e);return new To(n).toPromise()}var zj=800,qj=3,Gj=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return E(this,null,function*(){return this.db?this.db:(this.db=yield Bv(),this.db)})}_withRetries(n){return E(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>qj)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return E(this,null,function*(){return DA()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return E(this,null,function*(){this.receiver=Fj._getInstance(Uj()),this.receiver._subscribe("keyChanged",(n,r)=>E(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>E(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return E(this,null,function*(){var n,r;if(this.activeServiceWorker=yield Lj(),!this.activeServiceWorker)return;this.sender=new Uv(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return E(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||jj()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return E(this,null,function*(){try{if(!indexedDB)return!1;let n=yield Bv();return yield QS(n,Mh,"1"),yield YS(n,Mh),!0}catch{}return!1})}_withPendingWrite(n){return E(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return E(this,null,function*(){return this._withPendingWrite(()=>E(this,null,function*(){return yield this._withRetries(i=>QS(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return E(this,null,function*(){let r=yield this._withRetries(i=>Hj(i,n));return this.localCache[n]=r,r})}_remove(n){return E(this,null,function*(){return this._withPendingWrite(()=>E(this,null,function*(){return yield this._withRetries(r=>YS(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return E(this,null,function*(){let n=yield this._withRetries(o=>{let s=Nh(o,!1).getAll();return new To(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>E(this,null,function*(){return this._poll()}),zj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),AA=Gj;var CQ=wA("rcb"),bQ=new Do(3e4,6e4);function Wj(t,e){return e?zr(e):(ae(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Wc=class extends Sh{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Mv(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Mv(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Mv(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function Kj(t){return xj(t.auth,new Wc(t),t.bypassAuthState)}function Qj(t){let{auth:e,user:n}=t;return ae(n,e,"internal-error"),Mj(n,new Wc(t),t.bypassAuthState)}function Yj(t){return E(this,null,function*(){let{auth:e,user:n}=t;return ae(n,e,"internal-error"),Aj(n,new Wc(t),t.bypassAuthState)})}var $v=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>E(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return E(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Kj;case"linkViaPopup":case"linkViaRedirect":return Yj;case"reauthViaPopup":case"reauthViaRedirect":return Qj;default:Vi(this.auth,"internal-error")}}resolve(e){Li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var DQ=new Do(2e3,1e4);var Jj="pendingRedirect",wh=new Map,Hv=class t extends $v{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return E(this,null,function*(){let e=wh.get(this.auth._key());if(!e){try{let r=(yield Zj(this.resolver,this.auth))?yield ti(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}wh.set(this.auth._key(),e)}return this.bypassAuthState||wh.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return E(this,null,function*(){if(e.type==="signInViaRedirect")return ti(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,ti(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return E(this,null,function*(){})}cleanUp(){}};function Zj(t,e){return E(this,null,function*(){let n=tU(e),r=eU(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function Xj(t,e){wh.set(t._key(),e)}function eU(t){return zr(t._redirectPersistence)}function tU(t){return _h(Jj,t.config.apiKey,t.name)}function nU(t,e,n=!1){return E(this,null,function*(){if(Ur(t.app))return Promise.reject(Co(t));let r=e0(t),i=Wj(r,e),s=yield new Hv(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var rU=10*60*1e3,zv=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!iU(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!MA(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(bo(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=rU&&this.cachedEventUids.clear(),this.cachedEventUids.has(JS(e))}saveEventToCache(e){this.cachedEventUids.add(JS(e)),this.lastProcessedEventTime=Date.now()}};function JS(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function MA({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function iU(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return MA(t);default:return!1}}function oU(n){return E(this,arguments,function*(t,e={}){return Gs(t,"GET","/v1/projects",e)})}var sU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,aU=/^https?/;function cU(t){return E(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield oU(t);for(let n of e)try{if(uU(n))return}catch{}Vi(t,"unauthorized-domain")})}function uU(t){let e=Pv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!aU.test(n))return!1;if(sU.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var lU=new Do(3e4,6e4);function ZS(){let t=nr().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function dU(t){return new Promise((e,n)=>{var r,i,o;function s(){ZS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ZS(),n(bo(t,"network-request-failed"))},timeout:lU.get()})}if(!((i=(r=nr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=nr().gapi)===null||o===void 0)&&o.load)s();else{let a=wA("iframefcb");return nr()[a]=()=>{gapi.load?s():n(bo(t,"network-request-failed"))},Cj(`${bj()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw Eh=null,e})}var Eh=null;function hU(t){return Eh=Eh||dU(t),Eh}var fU=new Do(5e3,15e3),pU="__/auth/iframe",gU="emulator/auth/iframe",mU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vU(t){let e=t.config;ae(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?Kv(e,gU):`https://${t.config.authDomain}/${pU}`,r={apiKey:e.apiKey,appName:t.name,v:Ri},i=yU.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${jc(r).slice(1)}`}function _U(t){return E(this,null,function*(){let e=yield hU(t),n=nr().gapi;return ae(n,t,"internal-error"),e.open({where:document.body,url:vU(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:mU,dontclear:!0},r=>new Promise((i,o)=>E(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=bo(t,"network-request-failed"),a=nr().setTimeout(()=>{o(s)},fU.get());function u(){nr().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var wU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},EU=500,IU=600,CU="_blank",bU="http://localhost",Rh=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function DU(t,e,n,r=EU,i=IU){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},wU),{width:r.toString(),height:i.toString(),top:o,left:s}),l=Et().toLowerCase();n&&(a=fA(l)?CU:n),dA(l)&&(e=e||bU,u.scrollbars="yes");let h=Object.entries(u).reduce((m,[y,S])=>`${m}${y}=${S},`,"");if(vj(l)&&a!=="_self")return TU(e||"",a),new Rh(null);let p=window.open(e||"",a,h);ae(p,t,"popup-blocked");try{p.focus()}catch{}return new Rh(p)}function TU(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var SU="__/auth/handler",AU="emulator/auth/handler",MU=encodeURIComponent("fac");function XS(t,e,n,r,i,o){return E(this,null,function*(){ae(t.config.authDomain,t,"auth-domain-config-required"),ae(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ri,eventId:i};if(e instanceof Ah){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",CS(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof Lv){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield t._getAppCheckToken(),l=u?`#${MU}=${encodeURIComponent(u)}`:"";return`${xU(t)}?${jc(a).slice(1)}${l}`})}function xU({config:t}){return t.emulator?Kv(t,AU):`https://${t.authDomain}/${SU}`}var xv="webStorageSupport",qv=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=s0,this._completeRedirectFn=nU,this._overrideRedirectResult=Xj}_openPopup(e,n,r,i){return E(this,null,function*(){var o;Li((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield XS(e,n,r,Pv(),i);return DU(e,s,bA())})}_openRedirect(e,n,r,i){return E(this,null,function*(){yield this._originValidation(e);let o=yield XS(e,n,r,Pv(),i);return Vj(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Li(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return E(this,null,function*(){let n=yield _U(e),r=new zv(e);return n.register("authEvent",i=>(ae(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(xv,{type:xv},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[xv];s!==void 0&&n(!!s),Vi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=cU(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return vA()||hA()||Xv()}},xA=qv;var eA="@firebase/auth",tA="1.7.9";var Gv=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return E(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function PU(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function RU(t){Nn(new Gt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;ae(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_A(t)},l=new Vv(r,i,o,u);return Dj(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Nn(new Gt("auth-internal",e=>{let n=e0(e.getProvider("auth").getImmediate());return(r=>new Gv(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),We(eA,tA,PU(t)),We(eA,tA,"esm2017")}var NU=5*60,OU=uv("authIdTokenMaxAge")||NU,nA=null,kU=t=>e=>E(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>OU)return;let i=n?.token;nA!==i&&(nA=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function a0(t=Ni()){let e=Pi(t,"auth");if(e.isInitialized())return e.getImmediate();let n=n0(t,{popupRedirectResolver:xA,persistence:[AA,CA,s0]}),r=uv("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=kU(o.toString());o0(n,s,()=>s(n.currentUser)),i0(n,a=>s(a))}}let i=av("auth");return i&&r0(n,`http://${i}`),n}function FU(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Ij({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=bo("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",FU().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});RU("Browser");var PA="auth",Kc=class{constructor(e){return e}},Qc=class{constructor(){return zs(PA)}};var c0=new $("angularfire2.auth-instances");function xB(t,e){let n=Hs(PA,t,e);return n&&new Kc(n)}function PB(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Kc(r)}}var RB={provide:Qc,deps:[[new ft,c0]]},NB={provide:Kc,useFactory:xB,deps:[[new ft,c0],On]};function RA(t,...e){return We("angularfire",Br.full,"auth"),nn([NB,RB,{provide:c0,useFactory:PB(t),multi:!0,deps:[be,ht,ki,$r,[new ft,Oi],...e]}])}var NA=Tt(a0,!0);var OA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},kA={};var ji,u0;(function(){var t;function e(I,v){function _(){}_.prototype=v.prototype,I.D=v.prototype,I.prototype=new _,I.prototype.constructor=I,I.C=function(C,D,M){for(var w=Array(arguments.length-2),pr=2;pr<arguments.length;pr++)w[pr-2]=arguments[pr];return v.prototype[D].apply(C,w)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,v,_){_||(_=0);var C=Array(16);if(typeof v=="string")for(var D=0;16>D;++D)C[D]=v.charCodeAt(_++)|v.charCodeAt(_++)<<8|v.charCodeAt(_++)<<16|v.charCodeAt(_++)<<24;else for(D=0;16>D;++D)C[D]=v[_++]|v[_++]<<8|v[_++]<<16|v[_++]<<24;v=I.g[0],_=I.g[1],D=I.g[2];var M=I.g[3],w=v+(M^_&(D^M))+C[0]+3614090360&4294967295;v=_+(w<<7&4294967295|w>>>25),w=M+(D^v&(_^D))+C[1]+3905402710&4294967295,M=v+(w<<12&4294967295|w>>>20),w=D+(_^M&(v^_))+C[2]+606105819&4294967295,D=M+(w<<17&4294967295|w>>>15),w=_+(v^D&(M^v))+C[3]+3250441966&4294967295,_=D+(w<<22&4294967295|w>>>10),w=v+(M^_&(D^M))+C[4]+4118548399&4294967295,v=_+(w<<7&4294967295|w>>>25),w=M+(D^v&(_^D))+C[5]+1200080426&4294967295,M=v+(w<<12&4294967295|w>>>20),w=D+(_^M&(v^_))+C[6]+2821735955&4294967295,D=M+(w<<17&4294967295|w>>>15),w=_+(v^D&(M^v))+C[7]+4249261313&4294967295,_=D+(w<<22&4294967295|w>>>10),w=v+(M^_&(D^M))+C[8]+1770035416&4294967295,v=_+(w<<7&4294967295|w>>>25),w=M+(D^v&(_^D))+C[9]+2336552879&4294967295,M=v+(w<<12&4294967295|w>>>20),w=D+(_^M&(v^_))+C[10]+4294925233&4294967295,D=M+(w<<17&4294967295|w>>>15),w=_+(v^D&(M^v))+C[11]+2304563134&4294967295,_=D+(w<<22&4294967295|w>>>10),w=v+(M^_&(D^M))+C[12]+1804603682&4294967295,v=_+(w<<7&4294967295|w>>>25),w=M+(D^v&(_^D))+C[13]+4254626195&4294967295,M=v+(w<<12&4294967295|w>>>20),w=D+(_^M&(v^_))+C[14]+2792965006&4294967295,D=M+(w<<17&4294967295|w>>>15),w=_+(v^D&(M^v))+C[15]+1236535329&4294967295,_=D+(w<<22&4294967295|w>>>10),w=v+(D^M&(_^D))+C[1]+4129170786&4294967295,v=_+(w<<5&4294967295|w>>>27),w=M+(_^D&(v^_))+C[6]+3225465664&4294967295,M=v+(w<<9&4294967295|w>>>23),w=D+(v^_&(M^v))+C[11]+643717713&4294967295,D=M+(w<<14&4294967295|w>>>18),w=_+(M^v&(D^M))+C[0]+3921069994&4294967295,_=D+(w<<20&4294967295|w>>>12),w=v+(D^M&(_^D))+C[5]+3593408605&4294967295,v=_+(w<<5&4294967295|w>>>27),w=M+(_^D&(v^_))+C[10]+38016083&4294967295,M=v+(w<<9&4294967295|w>>>23),w=D+(v^_&(M^v))+C[15]+3634488961&4294967295,D=M+(w<<14&4294967295|w>>>18),w=_+(M^v&(D^M))+C[4]+3889429448&4294967295,_=D+(w<<20&4294967295|w>>>12),w=v+(D^M&(_^D))+C[9]+568446438&4294967295,v=_+(w<<5&4294967295|w>>>27),w=M+(_^D&(v^_))+C[14]+3275163606&4294967295,M=v+(w<<9&4294967295|w>>>23),w=D+(v^_&(M^v))+C[3]+4107603335&4294967295,D=M+(w<<14&4294967295|w>>>18),w=_+(M^v&(D^M))+C[8]+1163531501&4294967295,_=D+(w<<20&4294967295|w>>>12),w=v+(D^M&(_^D))+C[13]+2850285829&4294967295,v=_+(w<<5&4294967295|w>>>27),w=M+(_^D&(v^_))+C[2]+4243563512&4294967295,M=v+(w<<9&4294967295|w>>>23),w=D+(v^_&(M^v))+C[7]+1735328473&4294967295,D=M+(w<<14&4294967295|w>>>18),w=_+(M^v&(D^M))+C[12]+2368359562&4294967295,_=D+(w<<20&4294967295|w>>>12),w=v+(_^D^M)+C[5]+4294588738&4294967295,v=_+(w<<4&4294967295|w>>>28),w=M+(v^_^D)+C[8]+2272392833&4294967295,M=v+(w<<11&4294967295|w>>>21),w=D+(M^v^_)+C[11]+1839030562&4294967295,D=M+(w<<16&4294967295|w>>>16),w=_+(D^M^v)+C[14]+4259657740&4294967295,_=D+(w<<23&4294967295|w>>>9),w=v+(_^D^M)+C[1]+2763975236&4294967295,v=_+(w<<4&4294967295|w>>>28),w=M+(v^_^D)+C[4]+1272893353&4294967295,M=v+(w<<11&4294967295|w>>>21),w=D+(M^v^_)+C[7]+4139469664&4294967295,D=M+(w<<16&4294967295|w>>>16),w=_+(D^M^v)+C[10]+3200236656&4294967295,_=D+(w<<23&4294967295|w>>>9),w=v+(_^D^M)+C[13]+681279174&4294967295,v=_+(w<<4&4294967295|w>>>28),w=M+(v^_^D)+C[0]+3936430074&4294967295,M=v+(w<<11&4294967295|w>>>21),w=D+(M^v^_)+C[3]+3572445317&4294967295,D=M+(w<<16&4294967295|w>>>16),w=_+(D^M^v)+C[6]+76029189&4294967295,_=D+(w<<23&4294967295|w>>>9),w=v+(_^D^M)+C[9]+3654602809&4294967295,v=_+(w<<4&4294967295|w>>>28),w=M+(v^_^D)+C[12]+3873151461&4294967295,M=v+(w<<11&4294967295|w>>>21),w=D+(M^v^_)+C[15]+530742520&4294967295,D=M+(w<<16&4294967295|w>>>16),w=_+(D^M^v)+C[2]+3299628645&4294967295,_=D+(w<<23&4294967295|w>>>9),w=v+(D^(_|~M))+C[0]+4096336452&4294967295,v=_+(w<<6&4294967295|w>>>26),w=M+(_^(v|~D))+C[7]+1126891415&4294967295,M=v+(w<<10&4294967295|w>>>22),w=D+(v^(M|~_))+C[14]+2878612391&4294967295,D=M+(w<<15&4294967295|w>>>17),w=_+(M^(D|~v))+C[5]+4237533241&4294967295,_=D+(w<<21&4294967295|w>>>11),w=v+(D^(_|~M))+C[12]+1700485571&4294967295,v=_+(w<<6&4294967295|w>>>26),w=M+(_^(v|~D))+C[3]+2399980690&4294967295,M=v+(w<<10&4294967295|w>>>22),w=D+(v^(M|~_))+C[10]+4293915773&4294967295,D=M+(w<<15&4294967295|w>>>17),w=_+(M^(D|~v))+C[1]+2240044497&4294967295,_=D+(w<<21&4294967295|w>>>11),w=v+(D^(_|~M))+C[8]+1873313359&4294967295,v=_+(w<<6&4294967295|w>>>26),w=M+(_^(v|~D))+C[15]+4264355552&4294967295,M=v+(w<<10&4294967295|w>>>22),w=D+(v^(M|~_))+C[6]+2734768916&4294967295,D=M+(w<<15&4294967295|w>>>17),w=_+(M^(D|~v))+C[13]+1309151649&4294967295,_=D+(w<<21&4294967295|w>>>11),w=v+(D^(_|~M))+C[4]+4149444226&4294967295,v=_+(w<<6&4294967295|w>>>26),w=M+(_^(v|~D))+C[11]+3174756917&4294967295,M=v+(w<<10&4294967295|w>>>22),w=D+(v^(M|~_))+C[2]+718787259&4294967295,D=M+(w<<15&4294967295|w>>>17),w=_+(M^(D|~v))+C[9]+3951481745&4294967295,I.g[0]=I.g[0]+v&4294967295,I.g[1]=I.g[1]+(D+(w<<21&4294967295|w>>>11))&4294967295,I.g[2]=I.g[2]+D&4294967295,I.g[3]=I.g[3]+M&4294967295}r.prototype.u=function(I,v){v===void 0&&(v=I.length);for(var _=v-this.blockSize,C=this.B,D=this.h,M=0;M<v;){if(D==0)for(;M<=_;)i(this,I,M),M+=this.blockSize;if(typeof I=="string"){for(;M<v;)if(C[D++]=I.charCodeAt(M++),D==this.blockSize){i(this,C),D=0;break}}else for(;M<v;)if(C[D++]=I[M++],D==this.blockSize){i(this,C),D=0;break}}this.h=D,this.o+=v},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var v=1;v<I.length-8;++v)I[v]=0;var _=8*this.o;for(v=I.length-8;v<I.length;++v)I[v]=_&255,_/=256;for(this.u(I),I=Array(16),v=_=0;4>v;++v)for(var C=0;32>C;C+=8)I[_++]=this.g[v]>>>C&255;return I};function o(I,v){var _=a;return Object.prototype.hasOwnProperty.call(_,I)?_[I]:_[I]=v(I)}function s(I,v){this.h=v;for(var _=[],C=!0,D=I.length-1;0<=D;D--){var M=I[D]|0;C&&M==v||(_[D]=M,C=!1)}this.g=_}var a={};function u(I){return-128<=I&&128>I?o(I,function(v){return new s([v|0],0>v?-1:0)}):new s([I|0],0>I?-1:0)}function l(I){if(isNaN(I)||!isFinite(I))return p;if(0>I)return x(l(-I));for(var v=[],_=1,C=0;I>=_;C++)v[C]=I/_|0,_*=4294967296;return new s(v,0)}function h(I,v){if(I.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(I.charAt(0)=="-")return x(h(I.substring(1),v));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=l(Math.pow(v,8)),C=p,D=0;D<I.length;D+=8){var M=Math.min(8,I.length-D),w=parseInt(I.substring(D,D+M),v);8>M?(M=l(Math.pow(v,M)),C=C.j(M).add(l(w))):(C=C.j(_),C=C.add(l(w)))}return C}var p=u(0),m=u(1),y=u(16777216);t=s.prototype,t.m=function(){if(N(this))return-x(this).m();for(var I=0,v=1,_=0;_<this.g.length;_++){var C=this.i(_);I+=(0<=C?C:4294967296+C)*v,v*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(S(this))return"0";if(N(this))return"-"+x(this).toString(I);for(var v=l(Math.pow(I,6)),_=this,C="";;){var D=J(_,v).g;_=F(_,D.j(v));var M=((0<_.g.length?_.g[0]:_.h)>>>0).toString(I);if(_=D,S(_))return M+C;for(;6>M.length;)M="0"+M;C=M+C}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function S(I){if(I.h!=0)return!1;for(var v=0;v<I.g.length;v++)if(I.g[v]!=0)return!1;return!0}function N(I){return I.h==-1}t.l=function(I){return I=F(this,I),N(I)?-1:S(I)?0:1};function x(I){for(var v=I.g.length,_=[],C=0;C<v;C++)_[C]=~I.g[C];return new s(_,~I.h).add(m)}t.abs=function(){return N(this)?x(this):this},t.add=function(I){for(var v=Math.max(this.g.length,I.g.length),_=[],C=0,D=0;D<=v;D++){var M=C+(this.i(D)&65535)+(I.i(D)&65535),w=(M>>>16)+(this.i(D)>>>16)+(I.i(D)>>>16);C=w>>>16,M&=65535,w&=65535,_[D]=w<<16|M}return new s(_,_[_.length-1]&-2147483648?-1:0)};function F(I,v){return I.add(x(v))}t.j=function(I){if(S(this)||S(I))return p;if(N(this))return N(I)?x(this).j(x(I)):x(x(this).j(I));if(N(I))return x(this.j(x(I)));if(0>this.l(y)&&0>I.l(y))return l(this.m()*I.m());for(var v=this.g.length+I.g.length,_=[],C=0;C<2*v;C++)_[C]=0;for(C=0;C<this.g.length;C++)for(var D=0;D<I.g.length;D++){var M=this.i(C)>>>16,w=this.i(C)&65535,pr=I.i(D)>>>16,Ta=I.i(D)&65535;_[2*C+2*D]+=w*Ta,Q(_,2*C+2*D),_[2*C+2*D+1]+=M*Ta,Q(_,2*C+2*D+1),_[2*C+2*D+1]+=w*pr,Q(_,2*C+2*D+1),_[2*C+2*D+2]+=M*pr,Q(_,2*C+2*D+2)}for(C=0;C<v;C++)_[C]=_[2*C+1]<<16|_[2*C];for(C=v;C<2*v;C++)_[C]=0;return new s(_,0)};function Q(I,v){for(;(I[v]&65535)!=I[v];)I[v+1]+=I[v]>>>16,I[v]&=65535,v++}function G(I,v){this.g=I,this.h=v}function J(I,v){if(S(v))throw Error("division by zero");if(S(I))return new G(p,p);if(N(I))return v=J(x(I),v),new G(x(v.g),x(v.h));if(N(v))return v=J(I,x(v)),new G(x(v.g),v.h);if(30<I.g.length){if(N(I)||N(v))throw Error("slowDivide_ only works with positive integers.");for(var _=m,C=v;0>=C.l(I);)_=Ne(_),C=Ne(C);var D=re(_,1),M=re(C,1);for(C=re(C,2),_=re(_,2);!S(C);){var w=M.add(C);0>=w.l(I)&&(D=D.add(_),M=w),C=re(C,1),_=re(_,1)}return v=F(I,D.j(v)),new G(D,v)}for(D=p;0<=I.l(v);){for(_=Math.max(1,Math.floor(I.m()/v.m())),C=Math.ceil(Math.log(_)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),M=l(_),w=M.j(v);N(w)||0<w.l(I);)_-=C,M=l(_),w=M.j(v);S(M)&&(M=m),D=D.add(M),I=F(I,w)}return new G(D,I)}t.A=function(I){return J(this,I).h},t.and=function(I){for(var v=Math.max(this.g.length,I.g.length),_=[],C=0;C<v;C++)_[C]=this.i(C)&I.i(C);return new s(_,this.h&I.h)},t.or=function(I){for(var v=Math.max(this.g.length,I.g.length),_=[],C=0;C<v;C++)_[C]=this.i(C)|I.i(C);return new s(_,this.h|I.h)},t.xor=function(I){for(var v=Math.max(this.g.length,I.g.length),_=[],C=0;C<v;C++)_[C]=this.i(C)^I.i(C);return new s(_,this.h^I.h)};function Ne(I){for(var v=I.g.length+1,_=[],C=0;C<v;C++)_[C]=I.i(C)<<1|I.i(C-1)>>>31;return new s(_,I.h)}function re(I,v){var _=v>>5;v%=32;for(var C=I.g.length-_,D=[],M=0;M<C;M++)D[M]=0<v?I.i(M+_)>>>v|I.i(M+_+1)<<32-v:I.i(M+_);return new s(D,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,u0=kA.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,ji=kA.Integer=s}).apply(typeof OA<"u"?OA:typeof self<"u"?self:typeof window<"u"?window:{});var Oh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},qr={};var l0,OB,Ws,d0,Yc,kh,h0,f0,p0;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Oh=="object"&&Oh];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var T=c[g];if(!(T in f))break e;f=f[T]}c=c[c.length-1],g=f[c],d=d(g),d!=g&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,g=!1,T={next:function(){if(!g&&f<c.length){var P=f++;return{value:d(P,c[P]),done:!1}}return g=!0,{done:!0,value:void 0}}};return T[Symbol.iterator]=function(){return T},T}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var T=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(T,g),c.apply(d,T)}}return function(){return c.apply(d,arguments)}}function m(c,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function y(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function S(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(g,T,P){for(var U=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)U[Oe-2]=arguments[Oe];return d.prototype[T].apply(g,U)}}function N(c){let d=c.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=c[g];return f}return[]}function x(c,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let T=c.length||0,P=g.length||0;c.length=T+P;for(let U=0;U<P;U++)c[T+U]=g[U]}else c.push(g)}}class F{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function Q(c){return/^[\s\xa0]*$/.test(c)}function G(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function J(c){return J[" "](c),c}J[" "]=function(){};var Ne=G().indexOf("Gecko")!=-1&&!(G().toLowerCase().indexOf("webkit")!=-1&&G().indexOf("Edge")==-1)&&!(G().indexOf("Trident")!=-1||G().indexOf("MSIE")!=-1)&&G().indexOf("Edge")==-1;function re(c,d,f){for(let g in c)d.call(f,c[g],g,c)}function I(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function v(c){let d={};for(let f in c)d[f]=c[f];return d}let _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(c,d){let f,g;for(let T=1;T<arguments.length;T++){g=arguments[T];for(f in g)c[f]=g[f];for(let P=0;P<_.length;P++)f=_[P],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function D(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function M(c){a.setTimeout(()=>{throw c},0)}function w(){var c=qf;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class pr{constructor(){this.h=this.g=null}add(d,f){let g=Ta.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var Ta=new F(()=>new jP,c=>c.reset());class jP{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Sa,Aa=!1,qf=new pr,$w=()=>{let c=a.Promise.resolve(void 0);Sa=()=>{c.then(UP)}};var UP=()=>{for(var c;c=w();){try{c.h.call(c.g)}catch(f){M(f)}var d=Ta;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}Aa=!1};function Jr(){this.s=this.s,this.C=this.C}Jr.prototype.s=!1,Jr.prototype.ma=function(){this.s||(this.s=!0,this.N())},Jr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function St(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}St.prototype.h=function(){this.defaultPrevented=!0};var BP=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function Ma(c,d){if(St.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(Ne){e:{try{J(d.nodeName);var T=!0;break e}catch{}T=!1}T||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:$P[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ma.aa.h.call(this)}}S(Ma,St);var $P={2:"touch",3:"pen",4:"mouse"};Ma.prototype.h=function(){Ma.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var xa="closure_listenable_"+(1e6*Math.random()|0),HP=0;function zP(c,d,f,g,T){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=T,this.key=++HP,this.da=this.fa=!1}function xu(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Pu(c){this.src=c,this.g={},this.h=0}Pu.prototype.add=function(c,d,f,g,T){var P=c.toString();c=this.g[P],c||(c=this.g[P]=[],this.h++);var U=Wf(c,d,g,T);return-1<U?(d=c[U],f||(d.fa=!1)):(d=new zP(d,this.src,P,!!g,T),d.fa=f,c.push(d)),d};function Gf(c,d){var f=d.type;if(f in c.g){var g=c.g[f],T=Array.prototype.indexOf.call(g,d,void 0),P;(P=0<=T)&&Array.prototype.splice.call(g,T,1),P&&(xu(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function Wf(c,d,f,g){for(var T=0;T<c.length;++T){var P=c[T];if(!P.da&&P.listener==d&&P.capture==!!f&&P.ha==g)return T}return-1}var Kf="closure_lm_"+(1e6*Math.random()|0),Qf={};function Hw(c,d,f,g,T){if(g&&g.once)return qw(c,d,f,g,T);if(Array.isArray(d)){for(var P=0;P<d.length;P++)Hw(c,d[P],f,g,T);return null}return f=Xf(f),c&&c[xa]?c.K(d,f,l(g)?!!g.capture:!!g,T):zw(c,d,f,!1,g,T)}function zw(c,d,f,g,T,P){if(!d)throw Error("Invalid event type");var U=l(T)?!!T.capture:!!T,Oe=Jf(c);if(Oe||(c[Kf]=Oe=new Pu(c)),f=Oe.add(d,f,g,U,P),f.proxy)return f;if(g=qP(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)BP||(T=U),T===void 0&&(T=!1),c.addEventListener(d.toString(),g,T);else if(c.attachEvent)c.attachEvent(Ww(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function qP(){function c(f){return d.call(c.src,c.listener,f)}let d=GP;return c}function qw(c,d,f,g,T){if(Array.isArray(d)){for(var P=0;P<d.length;P++)qw(c,d[P],f,g,T);return null}return f=Xf(f),c&&c[xa]?c.L(d,f,l(g)?!!g.capture:!!g,T):zw(c,d,f,!0,g,T)}function Gw(c,d,f,g,T){if(Array.isArray(d))for(var P=0;P<d.length;P++)Gw(c,d[P],f,g,T);else g=l(g)?!!g.capture:!!g,f=Xf(f),c&&c[xa]?(c=c.i,d=String(d).toString(),d in c.g&&(P=c.g[d],f=Wf(P,f,g,T),-1<f&&(xu(P[f]),Array.prototype.splice.call(P,f,1),P.length==0&&(delete c.g[d],c.h--)))):c&&(c=Jf(c))&&(d=c.g[d.toString()],c=-1,d&&(c=Wf(d,f,g,T)),(f=-1<c?d[c]:null)&&Yf(f))}function Yf(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[xa])Gf(d.i,c);else{var f=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(f,g,c.capture):d.detachEvent?d.detachEvent(Ww(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=Jf(d))?(Gf(f,c),f.h==0&&(f.src=null,d[Kf]=null)):xu(c)}}}function Ww(c){return c in Qf?Qf[c]:Qf[c]="on"+c}function GP(c,d){if(c.da)c=!0;else{d=new Ma(d,this);var f=c.listener,g=c.ha||c.src;c.fa&&Yf(c),c=f.call(g,d)}return c}function Jf(c){return c=c[Kf],c instanceof Pu?c:null}var Zf="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xf(c){return typeof c=="function"?c:(c[Zf]||(c[Zf]=function(d){return c.handleEvent(d)}),c[Zf])}function At(){Jr.call(this),this.i=new Pu(this),this.M=this,this.F=null}S(At,Jr),At.prototype[xa]=!0,At.prototype.removeEventListener=function(c,d,f,g){Gw(this,c,d,f,g)};function Lt(c,d){var f,g=c.F;if(g)for(f=[];g;g=g.F)f.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new St(d,c);else if(d instanceof St)d.target=d.target||c;else{var T=d;d=new St(g,c),C(d,T)}if(T=!0,f)for(var P=f.length-1;0<=P;P--){var U=d.g=f[P];T=Ru(U,g,!0,d)&&T}if(U=d.g=c,T=Ru(U,g,!0,d)&&T,T=Ru(U,g,!1,d)&&T,f)for(P=0;P<f.length;P++)U=d.g=f[P],T=Ru(U,g,!1,d)&&T}At.prototype.N=function(){if(At.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],g=0;g<f.length;g++)xu(f[g]);delete c.g[d],c.h--}}this.F=null},At.prototype.K=function(c,d,f,g){return this.i.add(String(c),d,!1,f,g)},At.prototype.L=function(c,d,f,g){return this.i.add(String(c),d,!0,f,g)};function Ru(c,d,f,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var T=!0,P=0;P<d.length;++P){var U=d[P];if(U&&!U.da&&U.capture==f){var Oe=U.listener,Ct=U.ha||U.src;U.fa&&Gf(c.i,U),T=Oe.call(Ct,g)!==!1&&T}}return T&&!g.defaultPrevented}function Kw(c,d,f){if(typeof c=="function")f&&(c=m(c,f));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function Qw(c){c.g=Kw(()=>{c.g=null,c.i&&(c.i=!1,Qw(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class WP extends Jr{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Qw(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pa(c){Jr.call(this),this.h=c,this.g={}}S(Pa,Jr);var Yw=[];function Jw(c){re(c.g,function(d,f){this.g.hasOwnProperty(f)&&Yf(d)},c),c.g={}}Pa.prototype.N=function(){Pa.aa.N.call(this),Jw(this)},Pa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ep=a.JSON.stringify,KP=a.JSON.parse,QP=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function tp(){}tp.prototype.h=null;function Zw(c){return c.h||(c.h=c.i())}function Xw(){}var Ra={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function np(){St.call(this,"d")}S(np,St);function rp(){St.call(this,"c")}S(rp,St);var qi={},eE=null;function Nu(){return eE=eE||new At}qi.La="serverreachability";function tE(c){St.call(this,qi.La,c)}S(tE,St);function Na(c){let d=Nu();Lt(d,new tE(d))}qi.STAT_EVENT="statevent";function nE(c,d){St.call(this,qi.STAT_EVENT,c),this.stat=d}S(nE,St);function jt(c){let d=Nu();Lt(d,new nE(d,c))}qi.Ma="timingevent";function rE(c,d){St.call(this,qi.Ma,c),this.size=d}S(rE,St);function Oa(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function ka(){this.g=!0}ka.prototype.xa=function(){this.g=!1};function YP(c,d,f,g,T,P){c.info(function(){if(c.g)if(P)for(var U="",Oe=P.split("&"),Ct=0;Ct<Oe.length;Ct++){var Te=Oe[Ct].split("=");if(1<Te.length){var Mt=Te[0];Te=Te[1];var xt=Mt.split("_");U=2<=xt.length&&xt[1]=="type"?U+(Mt+"="+Te+"&"):U+(Mt+"=redacted&")}}else U=null;else U=P;return"XMLHTTP REQ ("+g+") [attempt "+T+"]: "+d+`
`+f+`
`+U})}function JP(c,d,f,g,T,P,U){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+T+"]: "+d+`
`+f+`
`+P+" "+U})}function $o(c,d,f,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+XP(c,f)+(g?" "+g:"")})}function ZP(c,d){c.info(function(){return"TIMEOUT: "+d})}ka.prototype.info=function(){};function XP(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var g=f[c];if(!(2>g.length)){var T=g[1];if(Array.isArray(T)&&!(1>T.length)){var P=T[0];if(P!="noop"&&P!="stop"&&P!="close")for(var U=1;U<T.length;U++)T[U]=""}}}}return ep(f)}catch{return d}}var Ou={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},iE={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ip;function ku(){}S(ku,tp),ku.prototype.g=function(){return new XMLHttpRequest},ku.prototype.i=function(){return{}},ip=new ku;function Zr(c,d,f,g){this.j=c,this.i=d,this.l=f,this.R=g||1,this.U=new Pa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new oE}function oE(){this.i=null,this.g="",this.h=!1}var sE={},op={};function sp(c,d,f){c.L=1,c.v=ju(gr(d)),c.m=f,c.P=!0,aE(c,null)}function aE(c,d){c.F=Date.now(),Fu(c),c.A=gr(c.v);var f=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),EE(f.i,"t",g),c.C=0,f=c.j.J,c.h=new oE,c.g=jE(c.j,f?d:null,!c.m),0<c.O&&(c.M=new WP(m(c.Y,c,c.g),c.O)),d=c.U,f=c.g,g=c.ca;var T="readystatechange";Array.isArray(T)||(T&&(Yw[0]=T.toString()),T=Yw);for(var P=0;P<T.length;P++){var U=Hw(f,T[P],g||d.handleEvent,!1,d.h||d);if(!U)break;d.g[U.key]=U}d=c.H?v(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),Na(),YP(c.i,c.u,c.A,c.l,c.R,c.m)}Zr.prototype.ca=function(c){c=c.target;let d=this.M;d&&mr(c)==3?d.j():this.Y(c)},Zr.prototype.Y=function(c){try{if(c==this.g)e:{let xt=mr(this.g);var d=this.g.Ba();let qo=this.g.Z();if(!(3>xt)&&(xt!=3||this.g&&(this.h.h||this.g.oa()||AE(this.g)))){this.J||xt!=4||d==7||(d==8||0>=qo?Na(3):Na(2)),ap(this);var f=this.g.Z();this.X=f;t:if(cE(this)){var g=AE(this.g);c="";var T=g.length,P=mr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Gi(this),Fa(this);var U="";break t}this.h.i=new a.TextDecoder}for(d=0;d<T;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(P&&d==T-1)});g.length=0,this.h.g+=c,this.C=0,U=this.h.g}else U=this.g.oa();if(this.o=f==200,JP(this.i,this.u,this.A,this.l,this.R,xt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Oe,Ct=this.g;if((Oe=Ct.g?Ct.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Q(Oe)){var Te=Oe;break t}}Te=null}if(f=Te)$o(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,cp(this,f);else{this.o=!1,this.s=3,jt(12),Gi(this),Fa(this);break e}}if(this.P){f=!0;let En;for(;!this.J&&this.C<U.length;)if(En=eR(this,U),En==op){xt==4&&(this.s=4,jt(14),f=!1),$o(this.i,this.l,null,"[Incomplete Response]");break}else if(En==sE){this.s=4,jt(15),$o(this.i,this.l,U,"[Invalid Chunk]"),f=!1;break}else $o(this.i,this.l,En,null),cp(this,En);if(cE(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xt!=4||U.length!=0||this.h.h||(this.s=1,jt(16),f=!1),this.o=this.o&&f,!f)$o(this.i,this.l,U,"[Invalid Chunked Response]"),Gi(this),Fa(this);else if(0<U.length&&!this.W){this.W=!0;var Mt=this.j;Mt.g==this&&Mt.ba&&!Mt.M&&(Mt.j.info("Great, no buffering proxy detected. Bytes received: "+U.length),pp(Mt),Mt.M=!0,jt(11))}}else $o(this.i,this.l,U,null),cp(this,U);xt==4&&Gi(this),this.o&&!this.J&&(xt==4?kE(this.j,this):(this.o=!1,Fu(this)))}else yR(this.g),f==400&&0<U.indexOf("Unknown SID")?(this.s=3,jt(12)):(this.s=0,jt(13)),Gi(this),Fa(this)}}}catch{}finally{}};function cE(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function eR(c,d){var f=c.C,g=d.indexOf(`
`,f);return g==-1?op:(f=Number(d.substring(f,g)),isNaN(f)?sE:(g+=1,g+f>d.length?op:(d=d.slice(g,g+f),c.C=g+f,d)))}Zr.prototype.cancel=function(){this.J=!0,Gi(this)};function Fu(c){c.S=Date.now()+c.I,uE(c,c.I)}function uE(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Oa(m(c.ba,c),d)}function ap(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Zr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(ZP(this.i,this.A),this.L!=2&&(Na(),jt(17)),Gi(this),this.s=2,Fa(this)):uE(this,this.S-c)};function Fa(c){c.j.G==0||c.J||kE(c.j,c)}function Gi(c){ap(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,Jw(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function cp(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||up(f.h,c))){if(!c.K&&up(f.h,c)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var T=g;if(T[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)zu(f),$u(f);else break e;fp(f),jt(18)}}else f.za=T[1],0<f.za-f.T&&37500>T[2]&&f.F&&f.v==0&&!f.C&&(f.C=Oa(m(f.Za,f),6e3));if(1>=hE(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Ki(f,11)}else if((c.K||f.g==c)&&zu(f),!Q(d))for(T=f.Da.g.parse(d),d=0;d<T.length;d++){let Te=T[d];if(f.T=Te[0],Te=Te[1],f.G==2)if(Te[0]=="c"){f.K=Te[1],f.ia=Te[2];let Mt=Te[3];Mt!=null&&(f.la=Mt,f.j.info("VER="+f.la));let xt=Te[4];xt!=null&&(f.Aa=xt,f.j.info("SVER="+f.Aa));let qo=Te[5];qo!=null&&typeof qo=="number"&&0<qo&&(g=1.5*qo,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let En=c.g;if(En){let Gu=En.g?En.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gu){var P=g.h;P.g||Gu.indexOf("spdy")==-1&&Gu.indexOf("quic")==-1&&Gu.indexOf("h2")==-1||(P.j=P.l,P.g=new Set,P.h&&(lp(P,P.h),P.h=null))}if(g.D){let gp=En.g?En.g.getResponseHeader("X-HTTP-Session-Id"):null;gp&&(g.ya=gp,$e(g.I,g.D,gp))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var U=c;if(g.qa=LE(g,g.J?g.ia:null,g.W),U.K){fE(g.h,U);var Oe=U,Ct=g.L;Ct&&(Oe.I=Ct),Oe.B&&(ap(Oe),Fu(Oe)),g.g=U}else NE(g);0<f.i.length&&Hu(f)}else Te[0]!="stop"&&Te[0]!="close"||Ki(f,7);else f.G==3&&(Te[0]=="stop"||Te[0]=="close"?Te[0]=="stop"?Ki(f,7):hp(f):Te[0]!="noop"&&f.l&&f.l.ta(Te),f.v=0)}}Na(4)}catch{}}var tR=class{constructor(c,d){this.g=c,this.map=d}};function lE(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function dE(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function hE(c){return c.h?1:c.g?c.g.size:0}function up(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function lp(c,d){c.g?c.g.add(d):c.h=d}function fE(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}lE.prototype.cancel=function(){if(this.i=pE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function pE(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return N(c.i)}function nR(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,g=0;g<f;g++)d.push(c[g]);return d}d=[],f=0;for(g in c)d[f++]=c[g];return d}function rR(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let g in c)d[f++]=g;return d}}}function gE(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=rR(c),g=nR(c),T=g.length,P=0;P<T;P++)d.call(void 0,g[P],f&&f[P],c)}var mE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function iR(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var g=c[f].indexOf("="),T=null;if(0<=g){var P=c[f].substring(0,g);T=c[f].substring(g+1)}else P=c[f];d(P,T?decodeURIComponent(T.replace(/\+/g," ")):"")}}}function Wi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Wi){this.h=c.h,Vu(this,c.j),this.o=c.o,this.g=c.g,Lu(this,c.s),this.l=c.l;var d=c.i,f=new ja;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),yE(this,f),this.m=c.m}else c&&(d=String(c).match(mE))?(this.h=!1,Vu(this,d[1]||"",!0),this.o=Va(d[2]||""),this.g=Va(d[3]||"",!0),Lu(this,d[4]),this.l=Va(d[5]||"",!0),yE(this,d[6]||"",!0),this.m=Va(d[7]||"")):(this.h=!1,this.i=new ja(null,this.h))}Wi.prototype.toString=function(){var c=[],d=this.j;d&&c.push(La(d,vE,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(La(d,vE,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(La(f,f.charAt(0)=="/"?aR:sR,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",La(f,uR)),c.join("")};function gr(c){return new Wi(c)}function Vu(c,d,f){c.j=f?Va(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function Lu(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function yE(c,d,f){d instanceof ja?(c.i=d,lR(c.i,c.h)):(f||(d=La(d,cR)),c.i=new ja(d,c.h))}function $e(c,d,f){c.i.set(d,f)}function ju(c){return $e(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Va(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function La(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,oR),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function oR(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var vE=/[#\/\?@]/g,sR=/[#\?:]/g,aR=/[#\?]/g,cR=/[#\?@]/g,uR=/#/g;function ja(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function Xr(c){c.g||(c.g=new Map,c.h=0,c.i&&iR(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=ja.prototype,t.add=function(c,d){Xr(this),this.i=null,c=Ho(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function _E(c,d){Xr(c),d=Ho(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function wE(c,d){return Xr(c),d=Ho(c,d),c.g.has(d)}t.forEach=function(c,d){Xr(this),this.g.forEach(function(f,g){f.forEach(function(T){c.call(d,T,g,this)},this)},this)},t.na=function(){Xr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let T=c[g];for(let P=0;P<T.length;P++)f.push(d[g])}return f},t.V=function(c){Xr(this);let d=[];if(typeof c=="string")wE(this,c)&&(d=d.concat(this.g.get(Ho(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},t.set=function(c,d){return Xr(this),this.i=null,c=Ho(this,c),wE(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function EE(c,d,f){_E(c,d),0<f.length&&(c.i=null,c.g.set(Ho(c,d),N(f)),c.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let P=encodeURIComponent(String(g)),U=this.V(g);for(g=0;g<U.length;g++){var T=P;U[g]!==""&&(T+="="+encodeURIComponent(String(U[g]))),c.push(T)}}return this.i=c.join("&")};function Ho(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function lR(c,d){d&&!c.j&&(Xr(c),c.i=null,c.g.forEach(function(f,g){var T=g.toLowerCase();g!=T&&(_E(this,g),EE(this,T,f))},c)),c.j=d}function dR(c,d){let f=new ka;if(a.Image){let g=new Image;g.onload=y(ei,f,"TestLoadImage: loaded",!0,d,g),g.onerror=y(ei,f,"TestLoadImage: error",!1,d,g),g.onabort=y(ei,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=y(ei,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function hR(c,d){let f=new ka,g=new AbortController,T=setTimeout(()=>{g.abort(),ei(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(P=>{clearTimeout(T),P.ok?ei(f,"TestPingServer: ok",!0,d):ei(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(T),ei(f,"TestPingServer: error",!1,d)})}function ei(c,d,f,g,T){try{T&&(T.onload=null,T.onerror=null,T.onabort=null,T.ontimeout=null),g(f)}catch{}}function fR(){this.g=new QP}function pR(c,d,f){let g=f||"";try{gE(c,function(T,P){let U=T;l(T)&&(U=ep(T)),d.push(g+P+"="+encodeURIComponent(U))})}catch(T){throw d.push(g+"type="+encodeURIComponent("_badmap")),T}}function Ua(c){this.l=c.Ub||null,this.j=c.eb||!1}S(Ua,tp),Ua.prototype.g=function(){return new Uu(this.l,this.j)},Ua.prototype.i=function(c){return function(){return c}}({});function Uu(c,d){At.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(Uu,At),t=Uu.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,$a(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ba(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,$a(this)),this.g&&(this.readyState=3,$a(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;IE(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function IE(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?Ba(this):$a(this),this.readyState==3&&IE(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Ba(this))},t.Qa=function(c){this.g&&(this.response=c,Ba(this))},t.ga=function(){this.g&&Ba(this)};function Ba(c){c.readyState=4,c.l=null,c.j=null,c.v=null,$a(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function $a(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Uu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function CE(c){let d="";return re(c,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function dp(c,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=CE(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):$e(c,d,f))}function Ke(c){At.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(Ke,At);var gR=/^https?$/i,mR=["POST","PUT"];t=Ke.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ip.g(),this.v=this.o?Zw(this.o):Zw(ip),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(P){bE(this,P);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var T in g)f.set(T,g[T]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let P of g.keys())f.set(P,g.get(P));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(P=>P.toLowerCase()=="content-type"),T=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(mR,d,void 0))||g||T||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[P,U]of f)this.g.setRequestHeader(P,U);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{SE(this),this.u=!0,this.g.send(c),this.u=!1}catch(P){bE(this,P)}};function bE(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,DE(c),Bu(c)}function DE(c){c.A||(c.A=!0,Lt(c,"complete"),Lt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Lt(this,"complete"),Lt(this,"abort"),Bu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bu(this,!0)),Ke.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?TE(this):this.bb())},t.bb=function(){TE(this)};function TE(c){if(c.h&&typeof s<"u"&&(!c.v[1]||mr(c)!=4||c.Z()!=2)){if(c.u&&mr(c)==4)Kw(c.Ea,0,c);else if(Lt(c,"readystatechange"),mr(c)==4){c.h=!1;try{let U=c.Z();e:switch(U){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=U===0){var T=String(c.D).match(mE)[1]||null;!T&&a.self&&a.self.location&&(T=a.self.location.protocol.slice(0,-1)),g=!gR.test(T?T.toLowerCase():"")}f=g}if(f)Lt(c,"complete"),Lt(c,"success");else{c.m=6;try{var P=2<mr(c)?c.g.statusText:""}catch{P=""}c.l=P+" ["+c.Z()+"]",DE(c)}}finally{Bu(c)}}}}function Bu(c,d){if(c.g){SE(c);let f=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||Lt(c,"ready");try{f.onreadystatechange=g}catch{}}}function SE(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function mr(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<mr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),KP(d)}};function AE(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function yR(c){let d={};c=(c.g&&2<=mr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(Q(c[g]))continue;var f=D(c[g]);let T=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let P=d[T]||[];d[T]=P,P.push(f)}I(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ha(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function ME(c){this.Aa=0,this.i=[],this.j=new ka,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ha("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ha("baseRetryDelayMs",5e3,c),this.cb=Ha("retryDelaySeedMs",1e4,c),this.Wa=Ha("forwardChannelMaxRetries",2,c),this.wa=Ha("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new lE(c&&c.concurrentRequestLimit),this.Da=new fR,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=ME.prototype,t.la=8,t.G=1,t.connect=function(c,d,f,g){jt(0),this.W=c,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=LE(this,null,this.W),Hu(this)};function hp(c){if(xE(c),c.G==3){var d=c.U++,f=gr(c.I);if($e(f,"SID",c.K),$e(f,"RID",d),$e(f,"TYPE","terminate"),za(c,f),d=new Zr(c,c.j,d),d.L=2,d.v=ju(gr(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=jE(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Fu(d)}VE(c)}function $u(c){c.g&&(pp(c),c.g.cancel(),c.g=null)}function xE(c){$u(c),c.u&&(a.clearTimeout(c.u),c.u=null),zu(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Hu(c){if(!dE(c.h)&&!c.s){c.s=!0;var d=c.Ga;Sa||$w(),Aa||(Sa(),Aa=!0),qf.add(d,c),c.B=0}}function vR(c,d){return hE(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Oa(m(c.Ga,c,d),FE(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let T=new Zr(this,this.j,c),P=this.o;if(this.S&&(P?(P=v(P),C(P,this.S)):P=this.S),this.m!==null||this.O||(T.H=P,P=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=RE(this,T,d),f=gr(this.I),$e(f,"RID",c),$e(f,"CVER",22),this.D&&$e(f,"X-HTTP-Session-Id",this.D),za(this,f),P&&(this.O?d="headers="+encodeURIComponent(String(CE(P)))+"&"+d:this.m&&dp(f,this.m,P)),lp(this.h,T),this.Ua&&$e(f,"TYPE","init"),this.P?($e(f,"$req",d),$e(f,"SID","null"),T.T=!0,sp(T,f,null)):sp(T,f,d),this.G=2}}else this.G==3&&(c?PE(this,c):this.i.length==0||dE(this.h)||PE(this))};function PE(c,d){var f;d?f=d.l:f=c.U++;let g=gr(c.I);$e(g,"SID",c.K),$e(g,"RID",f),$e(g,"AID",c.T),za(c,g),c.m&&c.o&&dp(g,c.m,c.o),f=new Zr(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=RE(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),lp(c.h,f),sp(f,g,d)}function za(c,d){c.H&&re(c.H,function(f,g){$e(d,g,f)}),c.l&&gE({},function(f,g){$e(d,g,f)})}function RE(c,d,f){f=Math.min(c.i.length,f);var g=c.l?m(c.l.Na,c.l,c):null;e:{var T=c.i;let P=-1;for(;;){let U=["count="+f];P==-1?0<f?(P=T[0].g,U.push("ofs="+P)):P=0:U.push("ofs="+P);let Oe=!0;for(let Ct=0;Ct<f;Ct++){let Te=T[Ct].g,Mt=T[Ct].map;if(Te-=P,0>Te)P=Math.max(0,T[Ct].g-100),Oe=!1;else try{pR(Mt,U,"req"+Te+"_")}catch{g&&g(Mt)}}if(Oe){g=U.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,g}function NE(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;Sa||$w(),Aa||(Sa(),Aa=!0),qf.add(d,c),c.v=0}}function fp(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Oa(m(c.Fa,c),FE(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,OE(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Oa(m(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,jt(10),$u(this),OE(this))};function pp(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function OE(c){c.g=new Zr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=gr(c.qa);$e(d,"RID","rpc"),$e(d,"SID",c.K),$e(d,"AID",c.T),$e(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&$e(d,"TO",c.ja),$e(d,"TYPE","xmlhttp"),za(c,d),c.m&&c.o&&dp(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=ju(gr(d)),f.m=null,f.P=!0,aE(f,c)}t.Za=function(){this.C!=null&&(this.C=null,$u(this),fp(this),jt(19))};function zu(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function kE(c,d){var f=null;if(c.g==d){zu(c),pp(c),c.g=null;var g=2}else if(up(c.h,d))f=d.D,fE(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var T=c.B;g=Nu(),Lt(g,new rE(g,f)),Hu(c)}else NE(c);else if(T=d.s,T==3||T==0&&0<d.X||!(g==1&&vR(c,d)||g==2&&fp(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),T){case 1:Ki(c,5);break;case 4:Ki(c,10);break;case 3:Ki(c,6);break;default:Ki(c,2)}}}function FE(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function Ki(c,d){if(c.j.info("Error code "+d),d==2){var f=m(c.fb,c),g=c.Xa;let T=!g;g=new Wi(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Vu(g,"https"),ju(g),T?dR(g.toString(),f):hR(g.toString(),f)}else jt(2);c.G=0,c.l&&c.l.sa(d),VE(c),xE(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),jt(2)):(this.j.info("Failed to ping google.com"),jt(1))};function VE(c){if(c.G=0,c.ka=[],c.l){let d=pE(c.h);(d.length!=0||c.i.length!=0)&&(x(c.ka,d),x(c.ka,c.i),c.h.i.length=0,N(c.i),c.i.length=0),c.l.ra()}}function LE(c,d,f){var g=f instanceof Wi?gr(f):new Wi(f);if(g.g!="")d&&(g.g=d+"."+g.g),Lu(g,g.s);else{var T=a.location;g=T.protocol,d=d?d+"."+T.hostname:T.hostname,T=+T.port;var P=new Wi(null);g&&Vu(P,g),d&&(P.g=d),T&&Lu(P,T),f&&(P.l=f),g=P}return f=c.D,d=c.ya,f&&d&&$e(g,f,d),$e(g,"VER",c.la),za(c,g),g}function jE(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Ke(new Ua({eb:f})):new Ke(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function UE(){}t=UE.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function qu(){}qu.prototype.g=function(c,d){return new Zt(c,d)};function Zt(c,d){At.call(this),this.g=new ME(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!Q(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!Q(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new zo(this)}S(Zt,At),Zt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Zt.prototype.close=function(){hp(this.g)},Zt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=ep(c),c=f);d.i.push(new tR(d.Ya++,c)),d.G==3&&Hu(d)},Zt.prototype.N=function(){this.g.l=null,delete this.j,hp(this.g),delete this.g,Zt.aa.N.call(this)};function BE(c){np.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}S(BE,np);function $E(){rp.call(this),this.status=1}S($E,rp);function zo(c){this.g=c}S(zo,UE),zo.prototype.ua=function(){Lt(this.g,"a")},zo.prototype.ta=function(c){Lt(this.g,new BE(c))},zo.prototype.sa=function(c){Lt(this.g,new $E)},zo.prototype.ra=function(){Lt(this.g,"b")},qu.prototype.createWebChannel=qu.prototype.g,Zt.prototype.send=Zt.prototype.o,Zt.prototype.open=Zt.prototype.m,Zt.prototype.close=Zt.prototype.close,p0=qr.createWebChannelTransport=function(){return new qu},f0=qr.getStatEventTarget=function(){return Nu()},h0=qr.Event=qi,kh=qr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ou.NO_ERROR=0,Ou.TIMEOUT=8,Ou.HTTP_ERROR=6,Yc=qr.ErrorCode=Ou,iE.COMPLETE="complete",d0=qr.EventType=iE,Xw.EventType=Ra,Ra.OPEN="a",Ra.CLOSE="b",Ra.ERROR="c",Ra.MESSAGE="d",At.prototype.listen=At.prototype.K,Ws=qr.WebChannel=Xw,OB=qr.FetchXmlHttpFactory=Ua,Ke.prototype.listenOnce=Ke.prototype.L,Ke.prototype.getLastError=Ke.prototype.Ka,Ke.prototype.getLastErrorCode=Ke.prototype.Ba,Ke.prototype.getStatus=Ke.prototype.Z,Ke.prototype.getResponseJson=Ke.prototype.Oa,Ke.prototype.getResponseText=Ke.prototype.oa,Ke.prototype.send=Ke.prototype.ea,Ke.prototype.setWithCredentials=Ke.prototype.Ha,l0=qr.XhrIo=Ke}).apply(typeof Oh<"u"?Oh:typeof self<"u"?self:typeof window<"u"?window:{});var FA="@firebase/firestore";var It=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};It.UNAUTHENTICATED=new It(null),It.GOOGLE_CREDENTIALS=new It("google-credentials-uid"),It.FIRST_PARTY=new It("first-party-uid"),It.MOCK_USER=new It("mock-user");var pa="10.14.0";var xo=new er("@firebase/firestore");function Jc(){return xo.logLevel}function q(t,...e){if(xo.logLevel<=we.DEBUG){let n=e.map(Y_);xo.debug(`Firestore (${pa}): ${t}`,...n)}}function Wr(t,...e){if(xo.logLevel<=we.ERROR){let n=e.map(Y_);xo.error(`Firestore (${pa}): ${t}`,...n)}}function ea(t,...e){if(xo.logLevel<=we.WARN){let n=e.map(Y_);xo.warn(`Firestore (${pa}): ${t}`,...n)}}function Y_(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function oe(t="Unexpected state"){let e=`FIRESTORE (${pa}) INTERNAL ASSERTION FAILED: `+t;throw Wr(e),new Error(e)}function Re(t,e){t||oe()}function ue(t,e){return t}var O={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Y=class extends cn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Gr=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Uh=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},_0=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(It.UNAUTHENTICATED))}shutdown(){}},w0=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},E0=class{constructor(e){this.t=e,this.currentUser=It.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Re(this.o===void 0);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new Gr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Gr,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>E(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(q("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Gr)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Re(typeof r.accessToken=="string"),new Uh(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Re(e===null||typeof e=="string"),new It(e)}},I0=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=It.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},C0=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new I0(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(It.FIRST_PARTY))}shutdown(){}invalidateToken(){}},b0=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},D0=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Re(this.o===void 0);let r=o=>{o.error!=null&&q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,q("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Re(typeof n.token=="string"),this.R=n.token,new b0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function kB(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Bh=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=kB(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}};function Se(t,e){return t<e?-1:t>e?1:0}function ta(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var nt=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Y(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Y(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Y(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Y(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Se(this.nanoseconds,e.nanoseconds):Se(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var he=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new nt(0,0))}static max(){return new t(new nt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var $h=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&oe(),r===void 0?r=e.length-n:r>e.length-n&&oe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Xe=class t extends $h{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new Y(O.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},FB=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ln=class t extends $h{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return FB.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new Y(O.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new Y(O.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Y(O.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Y(O.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var ne=class t{constructor(e){this.path=e}static fromPath(e){return new t(Xe.fromString(e))}static fromName(e){return new t(Xe.fromString(e).popFirst(5))}static empty(){return new t(Xe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Xe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Xe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Xe(e.slice()))}};var T0=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};T0.UNKNOWN_ID=-1;function VB(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=he.fromTimestamp(r===1e9?new nt(n+1,0):new nt(n,r));return new Po(i,ne.empty(),e)}function LB(t){return new Po(t.readTime,t.key,-1)}var Po=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(he.min(),ne.empty(),-1)}static max(){return new t(he.max(),ne.empty(),-1)}};function jB(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ne.comparator(t.documentKey,e.documentKey),n!==0?n:Se(t.largestBatchId,e.largestBatchId))}var UB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",S0=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function gu(t){return E(this,null,function*(){if(t.code!==O.FAILED_PRECONDITION||t.message!==UB)throw t;q("LocalStore","Unexpectedly lost primary lease")})}var L=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&oe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;n(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function BB(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function mu(t){return t.name==="IndexedDbTransactionError"}var gM=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function vf(t){return t==null}function ru(t){return t===0&&1/t==-1/0}function $B(t){return typeof t=="number"&&Number.isInteger(t)&&!ru(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var HB=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],bY=[...HB,"documentOverlays"],zB=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],qB=zB,GB=[...qB,"indexConfiguration","indexState","indexEntries"];var DY=[...GB,"globals"];function VA(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Fo(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function mM(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var et=class t{constructor(e,n){this.comparator=e,this.root=n||ir.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ir.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ir.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Js(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Js(this.root,e,this.comparator,!1)}getReverseIterator(){return new Js(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Js(this.root,e,this.comparator,!0)}},Js=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},ir=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw oe();let e=this.left.check();if(e!==this.right.check())throw oe();return e+(this.isRed()?0:1)}};ir.EMPTY=null,ir.RED=!0,ir.BLACK=!1;ir.EMPTY=new class{constructor(){this.size=0}get key(){throw oe()}get value(){throw oe()}get color(){throw oe()}get left(){throw oe()}get right(){throw oe()}copy(e,n,r,i,o){return this}insert(e,n,r){return new ir(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Ft=class t{constructor(e){this.comparator=e,this.data=new et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Hh(this.data.getIterator())}getIteratorFrom(e){return new Hh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Hh=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var _n=class t{constructor(e){this.fields=e,e.sort(ln.comparator)}static empty(){return new t([])}unionWith(e){let n=new Ft(ln.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ta(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var zh=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Vt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new zh("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Se(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Vt.EMPTY_BYTE_STRING=new Vt("");var WB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Kr(t){if(Re(!!t),typeof t=="string"){let e=0,n=WB.exec(t);if(Re(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ge(t.seconds),nanos:Ge(t.nanos)}}function Ge(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Bi(t){return typeof t=="string"?Vt.fromBase64String(t):Vt.fromUint8Array(t)}function J_(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Z_(t){let e=t.mapValue.fields.__previous_value__;return J_(e)?Z_(e):e}function iu(t){let e=Kr(t.mapValue.fields.__local_write_time__.timestampValue);return new nt(e.seconds,e.nanos)}var A0=class{constructor(e,n,r,i,o,s,a,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}},qh=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Fh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ro(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?J_(t)?4:vM(t)?9007199254740991:yM(t)?10:11:oe()}function ur(t,e){if(t===e)return!0;let n=Ro(t);if(n!==Ro(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return iu(t).isEqual(iu(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Kr(i.timestampValue),a=Kr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Bi(i.bytesValue).isEqual(Bi(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Ge(i.geoPointValue.latitude)===Ge(o.geoPointValue.latitude)&&Ge(i.geoPointValue.longitude)===Ge(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ge(i.integerValue)===Ge(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Ge(i.doubleValue),a=Ge(o.doubleValue);return s===a?ru(s)===ru(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return ta(t.arrayValue.values||[],e.arrayValue.values||[],ur);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(VA(s)!==VA(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!ur(s[u],a[u])))return!1;return!0}(t,e);default:return oe()}}function ou(t,e){return(t.values||[]).find(n=>ur(n,e))!==void 0}function na(t,e){if(t===e)return 0;let n=Ro(t),r=Ro(e);if(n!==r)return Se(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Se(t.booleanValue,e.booleanValue);case 2:return function(o,s){let a=Ge(o.integerValue||o.doubleValue),u=Ge(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return LA(t.timestampValue,e.timestampValue);case 4:return LA(iu(t),iu(e));case 5:return Se(t.stringValue,e.stringValue);case 6:return function(o,s){let a=Bi(o),u=Bi(s);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=Se(a[l],u[l]);if(h!==0)return h}return Se(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let a=Se(Ge(o.latitude),Ge(s.latitude));return a!==0?a:Se(Ge(o.longitude),Ge(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return jA(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,l,h;let p=o.fields||{},m=s.fields||{},y=(a=p.value)===null||a===void 0?void 0:a.arrayValue,S=(u=m.value)===null||u===void 0?void 0:u.arrayValue,N=Se(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((h=S?.values)===null||h===void 0?void 0:h.length)||0);return N!==0?N:jA(y,S)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Fh.mapValue&&s===Fh.mapValue)return 0;if(o===Fh.mapValue)return 1;if(s===Fh.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=Se(u[p],h[p]);if(m!==0)return m;let y=na(a[u[p]],l[h[p]]);if(y!==0)return y}return Se(u.length,h.length)}(t.mapValue,e.mapValue);default:throw oe()}}function LA(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Se(t,e);let n=Kr(t),r=Kr(e),i=Se(n.seconds,r.seconds);return i!==0?i:Se(n.nanos,r.nanos)}function jA(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=na(n[i],r[i]);if(o)return o}return Se(n.length,r.length)}function ra(t){return M0(t)}function M0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Kr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Bi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ne.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=M0(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${M0(n.fields[s])}`;return i+"}"}(t.mapValue):oe()}function x0(t){return!!t&&"integerValue"in t}function X_(t){return!!t&&"arrayValue"in t}function UA(t){return!!t&&"nullValue"in t}function BA(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Lh(t){return!!t&&"mapValue"in t}function yM(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Xc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Fo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Xc(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Xc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function vM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var un=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Lh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xc(n)}setAll(e){let n=ln.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Xc(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());Lh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ur(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Lh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Fo(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(Xc(this.value))}};function _M(t){let e=[];return Fo(t.fields,(n,r)=>{let i=new ln([n]);if(Lh(r)){let o=_M(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new _n(e)}var kn=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,he.min(),he.min(),he.min(),un.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,he.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,he.min(),he.min(),un.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,he.min(),he.min(),un.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(he.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=he.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var ia=class{constructor(e,n){this.position=e,this.inclusive=n}};function $A(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=ne.comparator(ne.fromName(s.referenceValue),n.key):r=na(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function HA(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ur(t.position[n],e.position[n]))return!1;return!0}var oa=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function KB(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Gh=class{},gt=class t extends Gh{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new R0(e,n,r):n==="array-contains"?new k0(e,r):n==="in"?new F0(e,r):n==="not-in"?new V0(e,r):n==="array-contains-any"?new L0(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new N0(e,r):new O0(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(na(n,this.value)):n!==null&&Ro(this.value)===Ro(n)&&this.matchesComparison(na(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return oe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},lr=class t extends Gh{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return wM(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function wM(t){return t.op==="and"}function EM(t){return QB(t)&&wM(t)}function QB(t){for(let e of t.filters)if(e instanceof lr)return!1;return!0}function P0(t){if(t instanceof gt)return t.field.canonicalString()+t.op.toString()+ra(t.value);if(EM(t))return t.filters.map(e=>P0(e)).join(",");{let e=t.filters.map(n=>P0(n)).join(",");return`${t.op}(${e})`}}function IM(t,e){return t instanceof gt?function(r,i){return i instanceof gt&&r.op===i.op&&r.field.isEqual(i.field)&&ur(r.value,i.value)}(t,e):t instanceof lr?function(r,i){return i instanceof lr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&IM(s,i.filters[a]),!0):!1}(t,e):void oe()}function CM(t){return t instanceof gt?function(n){return`${n.field.canonicalString()} ${n.op} ${ra(n.value)}`}(t):t instanceof lr?function(n){return n.op.toString()+" {"+n.getFilters().map(CM).join(" ,")+"}"}(t):"Filter"}var R0=class extends gt{constructor(e,n,r){super(e,n,r),this.key=ne.fromName(r.referenceValue)}matches(e){let n=ne.comparator(e.key,this.key);return this.matchesComparison(n)}},N0=class extends gt{constructor(e,n){super(e,"in",n),this.keys=bM("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},O0=class extends gt{constructor(e,n){super(e,"not-in",n),this.keys=bM("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function bM(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ne.fromName(r.referenceValue))}var k0=class extends gt{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return X_(n)&&ou(n.arrayValue,this.value)}},F0=class extends gt{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&ou(this.value.arrayValue,n)}},V0=class extends gt{constructor(e,n){super(e,"not-in",n)}matches(e){if(ou(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!ou(this.value.arrayValue,n)}},L0=class extends gt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!X_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ou(this.value.arrayValue,r))}};var j0=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}};function zA(t,e=null,n=[],r=[],i=null,o=null,s=null){return new j0(t,e,n,r,i,o,s)}function ew(t){let e=ue(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>P0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),vf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ra(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ra(r)).join(",")),e.ue=n}return e.ue}function tw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!KB(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!IM(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!HA(t.startAt,e.startAt)&&HA(t.endAt,e.endAt)}function U0(t){return ne.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var sa=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function YB(t,e,n,r,i,o,s,a){return new sa(t,e,n,r,i,o,s,a)}function nw(t){return new sa(t)}function qA(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function JB(t){return t.collectionGroup!==null}function eu(t){let e=ue(t);if(e.ce===null){e.ce=[];let n=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Ft(ln.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new oa(o,r))}),n.has(ln.keyField().canonicalString())||e.ce.push(new oa(ln.keyField(),r))}return e.ce}function or(t){let e=ue(t);return e.le||(e.le=ZB(e,eu(t))),e.le}function ZB(t,e){if(t.limitType==="F")return zA(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new oa(i.field,o)});let n=t.endAt?new ia(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ia(t.startAt.position,t.startAt.inclusive):null;return zA(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function B0(t,e,n){return new sa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function _f(t,e){return tw(or(t),or(e))&&t.limitType===e.limitType}function DM(t){return`${ew(or(t))}|lt:${t.limitType}`}function Ks(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>CM(i)).join(", ")}]`),vf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ra(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ra(i)).join(",")),`Target(${r})`}(or(t))}; limitType=${t.limitType})`}function wf(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ne.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of eu(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){let l=$A(s,a,u);return s.inclusive?l<=0:l<0}(r.startAt,eu(r),i)||r.endAt&&!function(s,a,u){let l=$A(s,a,u);return s.inclusive?l>=0:l>0}(r.endAt,eu(r),i))}(t,e)}function XB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function TM(t){return(e,n)=>{let r=!1;for(let i of eu(t)){let o=e$(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function e$(t,e,n){let r=t.field.isKeyField()?ne.comparator(e.key,n.key):function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?na(u,l):oe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return oe()}}var $i=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Fo(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return mM(this.inner)}size(){return this.innerSize}};var t$=new et(ne.comparator);function Qr(){return t$}var SM=new et(ne.comparator);function Zc(...t){let e=SM;for(let n of t)e=e.insert(n.key,n);return e}function AM(t){let e=SM;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function So(){return tu()}function MM(){return tu()}function tu(){return new $i(t=>t.toString(),(t,e)=>t.isEqual(e))}var n$=new et(ne.comparator),r$=new Ft(ne.comparator);function Ee(...t){let e=r$;for(let n of t)e=e.add(n);return e}var i$=new Ft(Se);function o$(){return i$}function rw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ru(e)?"-0":e}}function xM(t){return{integerValue:""+t}}function s$(t,e){return $B(e)?xM(e):rw(t,e)}var aa=class{constructor(){this._=void 0}};function a$(t,e,n){return t instanceof ca?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&J_(o)&&(o=Z_(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof No?RM(t,e):t instanceof Oo?NM(t,e):function(i,o){let s=PM(i,o),a=GA(s)+GA(i.Pe);return x0(s)&&x0(i.Pe)?xM(a):rw(i.serializer,a)}(t,e)}function c$(t,e,n){return t instanceof No?RM(t,e):t instanceof Oo?NM(t,e):n}function PM(t,e){return t instanceof ua?function(r){return x0(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var ca=class extends aa{},No=class extends aa{constructor(e){super(),this.elements=e}};function RM(t,e){let n=OM(e);for(let r of t.elements)n.some(i=>ur(i,r))||n.push(r);return{arrayValue:{values:n}}}var Oo=class extends aa{constructor(e){super(),this.elements=e}};function NM(t,e){let n=OM(e);for(let r of t.elements)n=n.filter(i=>!ur(i,r));return{arrayValue:{values:n}}}var ua=class extends aa{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function GA(t){return Ge(t.integerValue||t.doubleValue)}function OM(t){return X_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function u$(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof No&&i instanceof No||r instanceof Oo&&i instanceof Oo?ta(r.elements,i.elements,ur):r instanceof ua&&i instanceof ua?ur(r.Pe,i.Pe):r instanceof ca&&i instanceof ca}(t.transform,e.transform)}var $0=class{constructor(e,n){this.version=e,this.transformResults=n}},sr=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function jh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var la=class{};function kM(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new su(t.key,sr.none()):new ko(t.key,t.data,sr.none());{let n=t.data,r=un.empty(),i=new Ft(ln.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new dr(t.key,r,new _n(i.toArray()),sr.none())}}function l$(t,e,n){t instanceof ko?function(i,o,s){let a=i.value.clone(),u=KA(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof dr?function(i,o,s){if(!jh(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=KA(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(FM(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function nu(t,e,n,r){return t instanceof ko?function(o,s,a,u){if(!jh(o.precondition,s))return a;let l=o.value.clone(),h=QA(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof dr?function(o,s,a,u){if(!jh(o.precondition,s))return a;let l=QA(o.fieldTransforms,u,s),h=s.data;return h.setAll(FM(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(o,s,a){return jh(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function d$(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=PM(r.transform,i||null);o!=null&&(n===null&&(n=un.empty()),n.set(r.field,o))}return n||null}function WA(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ta(r,i,(o,s)=>u$(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var ko=class extends la{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},dr=class extends la{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function FM(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function KA(t,e,n){let r=new Map;Re(t.length===n.length);for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,c$(s,a,n[i]))}return r}function QA(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,a$(o,s,e))}return r}var su=class extends la{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},H0=class extends la{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var z0=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&l$(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=nu(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=nu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=MM();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let u=kM(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(he.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ee())}isEqual(e){return this.batchId===e.batchId&&ta(this.mutations,e.mutations,(n,r)=>WA(n,r))&&ta(this.baseMutations,e.baseMutations,(n,r)=>WA(n,r))}},q0=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Re(e.mutations.length===r.length);let i=function(){return n$}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var G0=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var W0=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var ut,De;function h$(t){switch(t){default:return oe();case O.CANCELLED:case O.UNKNOWN:case O.DEADLINE_EXCEEDED:case O.RESOURCE_EXHAUSTED:case O.INTERNAL:case O.UNAVAILABLE:case O.UNAUTHENTICATED:return!1;case O.INVALID_ARGUMENT:case O.NOT_FOUND:case O.ALREADY_EXISTS:case O.PERMISSION_DENIED:case O.FAILED_PRECONDITION:case O.ABORTED:case O.OUT_OF_RANGE:case O.UNIMPLEMENTED:case O.DATA_LOSS:return!0}}function VM(t){if(t===void 0)return Wr("GRPC error has no .code"),O.UNKNOWN;switch(t){case ut.OK:return O.OK;case ut.CANCELLED:return O.CANCELLED;case ut.UNKNOWN:return O.UNKNOWN;case ut.DEADLINE_EXCEEDED:return O.DEADLINE_EXCEEDED;case ut.RESOURCE_EXHAUSTED:return O.RESOURCE_EXHAUSTED;case ut.INTERNAL:return O.INTERNAL;case ut.UNAVAILABLE:return O.UNAVAILABLE;case ut.UNAUTHENTICATED:return O.UNAUTHENTICATED;case ut.INVALID_ARGUMENT:return O.INVALID_ARGUMENT;case ut.NOT_FOUND:return O.NOT_FOUND;case ut.ALREADY_EXISTS:return O.ALREADY_EXISTS;case ut.PERMISSION_DENIED:return O.PERMISSION_DENIED;case ut.FAILED_PRECONDITION:return O.FAILED_PRECONDITION;case ut.ABORTED:return O.ABORTED;case ut.OUT_OF_RANGE:return O.OUT_OF_RANGE;case ut.UNIMPLEMENTED:return O.UNIMPLEMENTED;case ut.DATA_LOSS:return O.DATA_LOSS;default:return oe()}}(De=ut||(ut={}))[De.OK=0]="OK",De[De.CANCELLED=1]="CANCELLED",De[De.UNKNOWN=2]="UNKNOWN",De[De.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",De[De.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",De[De.NOT_FOUND=5]="NOT_FOUND",De[De.ALREADY_EXISTS=6]="ALREADY_EXISTS",De[De.PERMISSION_DENIED=7]="PERMISSION_DENIED",De[De.UNAUTHENTICATED=16]="UNAUTHENTICATED",De[De.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",De[De.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",De[De.ABORTED=10]="ABORTED",De[De.OUT_OF_RANGE=11]="OUT_OF_RANGE",De[De.UNIMPLEMENTED=12]="UNIMPLEMENTED",De[De.INTERNAL=13]="INTERNAL",De[De.UNAVAILABLE=14]="UNAVAILABLE",De[De.DATA_LOSS=15]="DATA_LOSS";var YA=null;function f$(){return new TextEncoder}var p$=new ji([4294967295,4294967295],0);function JA(t){let e=f$().encode(t),n=new u0;return n.update(e),new Uint8Array(n.digest())}function ZA(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ji([n,r],0),new ji([i,o],0)]}var K0=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ao(`Invalid padding: ${n}`);if(r<0)throw new Ao(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ao(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ao(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=ji.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(ji.fromNumber(r)));return i.compare(p$)===1&&(i=new ji([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=JA(e),[r,i]=ZA(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;let n=JA(e),[r,i]=ZA(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Ao=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Wh=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,au.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(he.min(),i,new et(Se),Qr(),Ee())}},au=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,Ee(),Ee(),Ee())}};var Zs=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},Kh=class{constructor(e,n){this.targetId=e,this.me=n}},Qh=class{constructor(e,n,r=Vt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Yh=class{constructor(){this.fe=0,this.ge=eM(),this.pe=Vt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ee(),n=Ee(),r=Ee();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:oe()}}),new au(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=eM()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Re(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},Q0=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Qr(),this.qe=XA(),this.Qe=new et(Se)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:oe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let o=i.target;if(U0(o))if(r===0){let s=new ne(o.path);this.Ue(n,s,kn.newNoDocument(s,he.min()))}else Re(r===1);else{let s=this.Ye(n);if(s!==r){let a=this.Ze(e),u=a?this.Xe(a,e,s):1;if(u!==0){this.je(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}YA?.et(function(h,p,m,y,S){var N,x,F,Q,G,J;let Ne={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},re=p.unchangedNames;return re&&(Ne.bloomFilter={applied:S===0,hashCount:(N=re?.hashCount)!==null&&N!==void 0?N:0,bitmapLength:(Q=(F=(x=re?.bits)===null||x===void 0?void 0:x.bitmap)===null||F===void 0?void 0:F.length)!==null&&Q!==void 0?Q:0,padding:(J=(G=re?.bits)===null||G===void 0?void 0:G.padding)!==null&&J!==void 0?J:0,mightContain:I=>{var v;return(v=y?.mightContain(I))!==null&&v!==void 0&&v}}),Ne}(s,e.me,this.Le.tt(),a,u))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,a;try{s=Bi(r).toUint8Array()}catch(u){if(u instanceof zh)return ea("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new K0(s,i,o)}catch(u){return ea(u instanceof Ao?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((o,s)=>{let a=this.Je(s);if(a){if(o.current&&U0(a.target)){let u=new ne(a.target.path);this.ke.get(u)!==null||this.it(s,u)||this.Ue(s,u,kn.newNoDocument(u,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=Ee();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let i=new Wh(e,n,this.Qe,this.ke,r);return this.ke=Qr(),this.qe=XA(),this.Qe=new et(Se),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Yh,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Ft(Se),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||q("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Yh),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function XA(){return new et(ne.comparator)}function eM(){return new et(ne.comparator)}var g$={asc:"ASCENDING",desc:"DESCENDING"},m$={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},y$={and:"AND",or:"OR"},Y0=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function J0(t,e){return t.useProto3Json||vf(e)?e:{value:e}}function Jh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function LM(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function v$(t,e){return Jh(t,e.toTimestamp())}function ar(t){return Re(!!t),he.fromTimestamp(function(n){let r=Kr(n);return new nt(r.seconds,r.nanos)}(t))}function iw(t,e){return Z0(t,e).canonicalString()}function Z0(t,e){let n=function(i){return new Xe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function jM(t){let e=Xe.fromString(t);return Re(zM(e)),e}function X0(t,e){return iw(t.databaseId,e.path)}function g0(t,e){let n=jM(e);if(n.get(1)!==t.databaseId.projectId)throw new Y(O.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Y(O.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ne(BM(n))}function UM(t,e){return iw(t.databaseId,e)}function _$(t){let e=jM(t);return e.length===4?Xe.emptyPath():BM(e)}function e_(t){return new Xe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function BM(t){return Re(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function tM(t,e,n){return{name:X0(t,e),fields:n.value.mapValue.fields}}function w$(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:oe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(Re(h===void 0||typeof h=="string"),Vt.fromBase64String(h||"")):(Re(h===void 0||h instanceof Buffer||h instanceof Uint8Array),Vt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let h=l.code===void 0?O.UNKNOWN:VM(l.code);return new Y(h,l.message||"")}(s);n=new Qh(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=g0(t,r.document.name),o=ar(r.document.updateTime),s=r.document.createTime?ar(r.document.createTime):he.min(),a=new un({mapValue:{fields:r.document.fields}}),u=kn.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];n=new Zs(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=g0(t,r.document),o=r.readTime?ar(r.readTime):he.min(),s=kn.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Zs([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=g0(t,r.document),o=r.removedTargetIds||[];n=new Zs([],o,i,null)}else{if(!("filter"in e))return oe();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new W0(i,o),a=r.targetId;n=new Kh(a,s)}}return n}function E$(t,e){let n;if(e instanceof ko)n={update:tM(t,e.key,e.value)};else if(e instanceof su)n={delete:X0(t,e.key)};else if(e instanceof dr)n={update:tM(t,e.key,e.data),updateMask:x$(e.fieldMask)};else{if(!(e instanceof H0))return oe();n={verify:X0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof ca)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof No)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Oo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ua)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw oe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:v$(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:oe()}(t,e.precondition)),n}function I$(t,e){return t&&t.length>0?(Re(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?ar(i.updateTime):ar(o);return s.isEqual(he.min())&&(s=ar(o)),new $0(s,i.transformResults||[])}(n,e))):[]}function C$(t,e){return{documents:[UM(t,e.path)]}}function b$(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=UM(t,i);let o=function(l){if(l.length!==0)return HM(lr.create(l,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(m){return{field:Qs(m.field),direction:S$(m.dir)}}(h))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=J0(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i}}function D$(t){let e=_$(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Re(r===1);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(p){let m=$M(p);return m instanceof lr&&EM(m)?m.getFilters():[m]}(n.where));let s=[];n.orderBy&&(s=function(p){return p.map(m=>function(S){return new oa(Ys(S.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(p){let m;return m=typeof p=="object"?p.value:p,vf(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(p){let m=!!p.before,y=p.values||[];return new ia(y,m)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let m=!p.before,y=p.values||[];return new ia(y,m)}(n.endAt)),YB(e,i,s,o,a,"F",u,l)}function T$(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return oe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function $M(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Ys(n.unaryFilter.field);return gt.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Ys(n.unaryFilter.field);return gt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Ys(n.unaryFilter.field);return gt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Ys(n.unaryFilter.field);return gt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return oe()}}(t):t.fieldFilter!==void 0?function(n){return gt.create(Ys(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return oe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return lr.create(n.compositeFilter.filters.map(r=>$M(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return oe()}}(n.compositeFilter.op))}(t):oe()}function S$(t){return g$[t]}function A$(t){return m$[t]}function M$(t){return y$[t]}function Qs(t){return{fieldPath:t.canonicalString()}}function Ys(t){return ln.fromServerFormat(t.fieldPath)}function HM(t){return t instanceof gt?function(n){if(n.op==="=="){if(BA(n.value))return{unaryFilter:{field:Qs(n.field),op:"IS_NAN"}};if(UA(n.value))return{unaryFilter:{field:Qs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(BA(n.value))return{unaryFilter:{field:Qs(n.field),op:"IS_NOT_NAN"}};if(UA(n.value))return{unaryFilter:{field:Qs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qs(n.field),op:A$(n.op),value:n.value}}}(t):t instanceof lr?function(n){let r=n.getFilters().map(i=>HM(i));return r.length===1?r[0]:{compositeFilter:{op:M$(n.op),filters:r}}}(t):oe()}function x$(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function zM(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var cu=class t{constructor(e,n,r,i,o=he.min(),s=he.min(),a=Vt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var t_=class{constructor(e){this.ct=e}};function P$(t){let e=D$({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?B0(e,e.limit,"L"):e}var Zh=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Ge(e.integerValue));else if("doubleValue"in e){let r=Ge(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),ru(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=Kr(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(Bi(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?vM(e)?this.dt(n,Number.MAX_SAFE_INTEGER):yM(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):oe()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let o=e.fields||{};this.dt(n,53);let s="value",a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(Ge(a)),this.Vt(s,n),this.Tt(o[s],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),ne.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};Zh.vt=new Zh;var n_=class{constructor(){this.un=new r_}addToCollectionParentIndex(e,n){return this.un.add(n),L.resolve()}getCollectionParents(e,n){return L.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return L.resolve()}deleteFieldIndex(e,n){return L.resolve()}deleteAllFieldIndexes(e){return L.resolve()}createTargetIndexes(e,n){return L.resolve()}getDocumentsMatchingTarget(e,n){return L.resolve(null)}getIndexType(e,n){return L.resolve(0)}getFieldIndexes(e,n){return L.resolve([])}getNextCollectionGroupToUpdate(e){return L.resolve(null)}getMinOffset(e,n){return L.resolve(Po.min())}getMinOffsetFromCollectionGroup(e,n){return L.resolve(Po.min())}updateCollectionGroup(e,n,r){return L.resolve()}updateIndexEntries(e,n){return L.resolve()}},r_=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ft(Xe.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ft(Xe.comparator)).toArray()}};var SY=new Uint8Array(0);var rr=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};rr.DEFAULT_COLLECTION_PERCENTILE=10,rr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rr.DEFAULT=new rr(41943040,rr.DEFAULT_COLLECTION_PERCENTILE,rr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rr.DISABLED=new rr(-1,0,0);var uu=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var i_=class{constructor(){this.changes=new $i(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,kn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?L.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var o_=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var s_=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&nu(r.mutation,i,_n.empty(),nt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ee()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ee()){let i=So();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Zc();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=So();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ee()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Qr(),s=tu(),a=function(){return tu()}();return n.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof dr)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),nu(h.mutation,l,h.mutation.getFieldMask(),nt.now())):s.set(l.key,_n.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),n.forEach((l,h)=>{var p;return a.set(l,new o_(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let r=tu(),i=new et((s,a)=>s-a),o=Ee();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let h=r.get(u)||_n.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||Ee()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=MM();h.forEach(m=>{if(!o.has(m)){let y=kM(n.get(m),r.get(m));y!==null&&p.set(m,y),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return L.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return ne.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):JB(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):L.resolve(So()),a=-1,u=o;return s.next(l=>L.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?L.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,Ee())).next(h=>({batchId:a,changes:AM(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ne(n)).next(r=>{let i=Zc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=Zc();return this.indexManager.getCollectionParents(e,o).next(a=>L.forEach(a,u=>{let l=function(p,m){return new sa(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,kn.newInvalidDocument(h)))});let a=Zc();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&nu(h.mutation,l,_n.empty(),nt.now()),wf(n,l)&&(a=a.insert(u,l))}),a})}};var a_=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return L.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:ar(i.createTime)}}(n)),L.resolve()}getNamedQuery(e,n){return L.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:P$(i.bundledQuery),readTime:ar(i.readTime)}}(n)),L.resolve()}};var c_=class{constructor(){this.overlays=new et(ne.comparator),this.Ir=new Map}getOverlay(e,n){return L.resolve(this.overlays.get(n))}getOverlays(e,n){let r=So();return L.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),L.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),L.resolve()}getOverlaysForCollection(e,n,r){let i=So(),o=n.length+1,s=new ne(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return L.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new et((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=So(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=So(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return L.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new G0(n,r));let o=this.Ir.get(n);o===void 0&&(o=Ee(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}};var u_=class{constructor(){this.sessionToken=Vt.EMPTY_BYTE_STRING}getSessionToken(e){return L.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,L.resolve()}};var lu=class{constructor(){this.Tr=new Ft(lt.Er),this.dr=new Ft(lt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new lt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new lt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new ne(new Xe([])),r=new lt(n,e),i=new lt(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new ne(new Xe([])),r=new lt(n,e),i=new lt(n,e+1),o=Ee();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new lt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},lt=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ne.comparator(e.key,n.key)||Se(e.wr,n.wr)}static Ar(e,n){return Se(e.wr,n.wr)||ne.comparator(e.key,n.key)}};var l_=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Ft(lt.Er)}checkEmpty(e){return L.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new z0(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.br=this.br.add(new lt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return L.resolve(s)}lookupMutationBatch(e,n){return L.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),o=i<0?0:i;return L.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new lt(n,0),i=new lt(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{let a=this.Dr(s.wr);o.push(a)}),L.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ft(Se);return n.forEach(i=>{let o=new lt(i,0),s=new lt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),L.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;ne.isDocumentKey(o)||(o=o.child(""));let s=new lt(new ne(o),0),a=new Ft(Se);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.wr)),!0)},s),L.resolve(this.Cr(a))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Re(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return L.forEach(n.mutations,i=>{let o=new lt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new lt(n,0),i=this.br.firstAfterOrEqual(r);return L.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,L.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var d_=class{constructor(e){this.Mr=e,this.docs=function(){return new et(ne.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return L.resolve(r?r.document.mutableCopy():kn.newInvalidDocument(n))}getEntries(e,n){let r=Qr();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():kn.newInvalidDocument(i))}),L.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Qr(),s=n.path,a=new ne(s.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||jB(LB(h),r)<=0||(i.has(h.key)||wf(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return L.resolve(o)}getAllFromCollectionGroup(e,n,r,i){oe()}Or(e,n){return L.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new h_(this)}getSize(e){return L.resolve(this.size)}},h_=class extends i_{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),L.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var f_=class{constructor(e){this.persistence=e,this.Nr=new $i(n=>ew(n),tw),this.lastRemoteSnapshotVersion=he.min(),this.highestTargetId=0,this.Lr=0,this.Br=new lu,this.targetCount=0,this.kr=uu.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),L.resolve()}getLastRemoteSnapshotVersion(e){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return L.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),L.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new uu(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,L.resolve()}updateTargetData(e,n){return this.Kn(n),L.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,L.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),L.waitFor(o).next(()=>i)}getTargetCount(e){return L.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return L.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),L.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),L.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),L.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return L.resolve(r)}containsKey(e,n){return L.resolve(this.Br.containsKey(n))}};var p_=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new gM(0),this.Kr=!1,this.Kr=!0,this.$r=new u_,this.referenceDelegate=e(this),this.Ur=new f_(this),this.indexManager=new n_,this.remoteDocumentCache=function(i){return new d_(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new t_(n),this.Gr=new a_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new c_,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new l_(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){q("MemoryPersistence","Starting transaction:",e);let i=new g_(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return L.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},g_=class extends S0{constructor(e){super(),this.currentSequenceNumber=e}},m_=class t{constructor(e){this.persistence=e,this.Jr=new lu,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw oe()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),L.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),L.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),L.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.Xr,r=>{let i=ne.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,he.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return L.or([()=>L.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var y_=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Ee(),i=Ee();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var v_=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var __=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return ES()?8:BB(Et())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new v_;return this.Xi(e,n,s).next(a=>{if(o.result=a,this.zi)return this.es(e,n,s,a.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Jc()<=we.DEBUG&&q("QueryEngine","SDK will not create cache indexes for query:",Ks(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),L.resolve()):(Jc()<=we.DEBUG&&q("QueryEngine","Query:",Ks(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Jc()<=we.DEBUG&&q("QueryEngine","The SDK decides to create cache indexes for query:",Ks(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,or(n))):L.resolve())}Yi(e,n){if(qA(n))return L.resolve(null);let r=or(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=B0(n,null,"F"),r=or(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=Ee(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(n,a);return this.ns(n,l,s,u.readTime)?this.Yi(e,B0(n,null,"F")):this.rs(e,l,n,u)}))})))}Zi(e,n,r,i){return qA(n)||i.isEqual(he.min())?L.resolve(null):this.Ji.getDocuments(e,r).next(o=>{let s=this.ts(n,o);return this.ns(n,s,r,i)?L.resolve(null):(Jc()<=we.DEBUG&&q("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ks(n)),this.rs(e,s,n,VB(i,-1)).next(a=>a))})}ts(e,n){let r=new Ft(TM(e));return n.forEach((i,o)=>{wf(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return Jc()<=we.DEBUG&&q("QueryEngine","Using full collection scan to execute query:",Ks(n)),this.Ji.getDocumentsMatchingQuery(e,n,Po.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var w_=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new et(Se),this._s=new $i(o=>ew(o),tw),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new s_(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function R$(t,e,n,r){return new w_(t,e,n,r)}function qM(t,e){return E(this,null,function*(){let n=ue(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=Ee();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:s,addedBatchIds:a}))})})})}function N$(t,e){let n=ue(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,m=p.keys(),y=L.resolve();return m.forEach(S=>{y=y.next(()=>h.getEntry(u,S)).next(N=>{let x=l.docVersions.get(S);Re(x!==null),N.version.compareTo(x)<0&&(p.applyToRemoteDocument(N,l),N.isValidDocument()&&(N.setReadTime(l.commitVersion),h.addEntry(N)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=Ee();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function GM(t){let e=ue(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function O$(t,e){let n=ue(t),r=e.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let a=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;a.push(n.Ur.removeMatchingKeys(o,h.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(o,h.addedDocuments,p)));let y=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(Vt.EMPTY_BYTE_STRING,he.min()).withLastLimboFreeSnapshotVersion(he.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),function(N,x,F){return N.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=3e8?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(m,y,h)&&a.push(n.Ur.updateTargetData(o,y))});let u=Qr(),l=Ee();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(k$(o,s,e.documentUpdates).next(h=>{u=h.Ps,l=h.Is})),!r.isEqual(he.min())){let h=n.Ur.getLastRemoteSnapshotVersion(o).next(p=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return L.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(n.os=i,o))}function k$(t,e,n){let r=Ee(),i=Ee();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Qr();return n.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(he.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):q("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ps:s,Is:i}})}function F$(t,e){let n=ue(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function V$(t,e){let n=ue(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,L.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new cu(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}function E_(t,e,n){return E(this,null,function*(){let r=ue(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!mu(s))throw s;q("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function nM(t,e,n){let r=ue(t),i=he.min(),o=Ee();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,h){let p=ue(u),m=p._s.get(h);return m!==void 0?L.resolve(p.os.get(m)):p.Ur.getTargetData(l,h)}(r,s,or(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:he.min(),n?o:Ee())).next(a=>(L$(r,XB(e),a),{documents:a,Ts:o})))}function L$(t,e,n){let r=t.us.get(e)||he.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}var Xh=class{constructor(){this.activeTargetIds=o$()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var I_=class{constructor(){this.so=new Xh,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Xh,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var C_=class{_o(e){}shutdown(){}};var ef=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){q("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){q("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Vh=null;function m0(){return Vh===null?Vh=function(){return 268435456+Math.round(2147483648*Math.random())}():Vh++,"0x"+Vh.toString(16)}var j$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var b_=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var kt="WebChannelConnection",D_=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){let a=m0(),u=this.xo(n,r.toUriEncodedString());q("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,o,s),this.No(n,u,l,i).then(h=>(q("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw ea("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",u,"request:",i),h})}Lo(n,r,i,o,s,a){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+pa}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){let i=j$[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let o=m0();return new Promise((s,a)=>{let u=new l0;u.setWithCredentials(!0),u.listenOnce(d0.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Yc.NO_ERROR:let h=u.getResponseJson();q(kt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case Yc.TIMEOUT:q(kt,`RPC '${e}' ${o} timed out`),a(new Y(O.DEADLINE_EXCEEDED,"Request time out"));break;case Yc.HTTP_ERROR:let p=u.getStatus();if(q(kt,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);let y=m?.error;if(y&&y.status&&y.message){let S=function(x){let F=x.toLowerCase().replace(/_/g,"-");return Object.values(O).indexOf(F)>=0?F:O.UNKNOWN}(y.status);a(new Y(S,y.message))}else a(new Y(O.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new Y(O.UNAVAILABLE,"Connection failed."));break;default:oe()}}finally{q(kt,`RPC '${e}' ${o} completed.`)}});let l=JSON.stringify(i);q(kt,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",l,r,15)})}Bo(e,n,r){let i=m0(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=p0(),a=f0(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let h=o.join("");q(kt,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u),m=!1,y=!1,S=new b_({Io:x=>{y?q(kt,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(m||(q(kt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),q(kt,`RPC '${e}' stream ${i} sending:`,x),p.send(x))},To:()=>p.close()}),N=(x,F,Q)=>{x.listen(F,G=>{try{Q(G)}catch(J){setTimeout(()=>{throw J},0)}})};return N(p,Ws.EventType.OPEN,()=>{y||(q(kt,`RPC '${e}' stream ${i} transport opened.`),S.yo())}),N(p,Ws.EventType.CLOSE,()=>{y||(y=!0,q(kt,`RPC '${e}' stream ${i} transport closed`),S.So())}),N(p,Ws.EventType.ERROR,x=>{y||(y=!0,ea(kt,`RPC '${e}' stream ${i} transport errored:`,x),S.So(new Y(O.UNAVAILABLE,"The operation could not be completed")))}),N(p,Ws.EventType.MESSAGE,x=>{var F;if(!y){let Q=x.data[0];Re(!!Q);let G=Q,J=G.error||((F=G[0])===null||F===void 0?void 0:F.error);if(J){q(kt,`RPC '${e}' stream ${i} received error:`,J);let Ne=J.status,re=function(_){let C=ut[_];if(C!==void 0)return VM(C)}(Ne),I=J.message;re===void 0&&(re=O.INTERNAL,I="Unknown error status: "+Ne+" with message "+J.message),y=!0,S.So(new Y(re,I)),p.close()}else q(kt,`RPC '${e}' stream ${i} received:`,Q),S.bo(Q)}}),N(a,h0.STAT_EVENT,x=>{x.stat===kh.PROXY?q(kt,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===kh.NOPROXY&&q(kt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.wo()},0),S}};function y0(){return typeof document<"u"?document:null}function Ef(t){return new Y0(t,!0)}var tf=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&q("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var nf=class{constructor(e,n,r,i,o,s,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new tf(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return E(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return E(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return E(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===O.RESOURCE_EXHAUSTED?(Wr(n.toString()),Wr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===O.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new Y(O.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>E(this,null,function*(){this.state=0,this.start()}))}I_(e){return q("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(q("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},T_=class extends nf{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=w$(this.serializer,e),r=function(o){if(!("targetChange"in o))return he.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?he.min():s.readTime?ar(s.readTime):he.min()}(e);return this.listener.d_(n,r)}A_(e){let n={};n.database=e_(this.serializer),n.addTarget=function(o,s){let a,u=s.target;if(a=U0(u)?{documents:C$(o,u)}:{query:b$(o,u)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=LM(o,s.resumeToken);let l=J0(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(he.min())>0){a.readTime=Jh(o,s.snapshotVersion.toTimestamp());let l=J0(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=T$(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){let n={};n.database=e_(this.serializer),n.removeTarget=e,this.a_(n)}},S_=class extends nf{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Re(!!e.streamToken),this.lastStreamToken=e.streamToken,Re(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Re(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=I$(e.writeResults,e.commitTime),r=ar(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=e_(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>E$(this.serializer,r))};this.a_(n)}};var A_=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Y(O.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,Z0(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Y(O.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,Z0(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Y(O.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},M_=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Wr(n),this.D_=!1):q("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var x_=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(()=>E(this,null,function*(){Vo(this)&&(q("RemoteStore","Restarting streams for network reachability change."),yield function(u){return E(this,null,function*(){let l=ue(u);l.L_.add(4),yield yu(l),l.q_.set("Unknown"),l.L_.delete(4),yield If(l)})}(this))}))}),this.q_=new M_(r,i)}};function If(t){return E(this,null,function*(){if(Vo(t))for(let e of t.B_)yield e(!0)})}function yu(t){return E(this,null,function*(){for(let e of t.B_)yield e(!1)})}function WM(t,e){let n=ue(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),cw(n)?aw(n):ga(n).r_()&&sw(n,e))}function ow(t,e){let n=ue(t),r=ga(n);n.N_.delete(e),r.r_()&&KM(n,e),n.N_.size===0&&(r.r_()?r.o_():Vo(n)&&n.q_.set("Unknown"))}function sw(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(he.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ga(t).A_(e)}function KM(t,e){t.Q_.xe(e),ga(t).R_(e)}function aw(t){t.Q_=new Q0({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),ga(t).start(),t.q_.v_()}function cw(t){return Vo(t)&&!ga(t).n_()&&t.N_.size>0}function Vo(t){return ue(t).L_.size===0}function QM(t){t.Q_=void 0}function U$(t){return E(this,null,function*(){t.q_.set("Online")})}function B$(t){return E(this,null,function*(){t.N_.forEach((e,n)=>{sw(t,e)})})}function $$(t,e){return E(this,null,function*(){QM(t),cw(t)?(t.q_.M_(e),aw(t)):t.q_.set("Unknown")})}function H$(t,e,n){return E(this,null,function*(){if(t.q_.set("Online"),e instanceof Qh&&e.state===2&&e.cause)try{yield function(i,o){return E(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))})}(t,e)}catch(r){q("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield rf(t,r)}else if(e instanceof Zs?t.Q_.Ke(e):e instanceof Kh?t.Q_.He(e):t.Q_.We(e),!n.isEqual(he.min()))try{let r=yield GM(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){let a=o.Q_.rt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.N_.get(l);h&&o.N_.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.N_.get(u);if(!h)return;o.N_.set(u,h.withResumeToken(Vt.EMPTY_BYTE_STRING,h.snapshotVersion)),KM(o,u);let p=new cu(h.target,u,l,h.sequenceNumber);sw(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){q("RemoteStore","Failed to raise snapshot:",r),yield rf(t,r)}})}function rf(t,e,n){return E(this,null,function*(){if(!mu(e))throw e;t.L_.add(1),yield yu(t),t.q_.set("Offline"),n||(n=()=>GM(t.localStore)),t.asyncQueue.enqueueRetryable(()=>E(this,null,function*(){q("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield If(t)}))})}function YM(t,e){return e().catch(n=>rf(t,n,e))}function Cf(t){return E(this,null,function*(){let e=ue(t),n=Hi(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;z$(e);)try{let i=yield F$(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,q$(e,i)}catch(i){yield rf(e,i)}JM(e)&&ZM(e)})}function z$(t){return Vo(t)&&t.O_.length<10}function q$(t,e){t.O_.push(e);let n=Hi(t);n.r_()&&n.V_&&n.m_(e.mutations)}function JM(t){return Vo(t)&&!Hi(t).n_()&&t.O_.length>0}function ZM(t){Hi(t).start()}function G$(t){return E(this,null,function*(){Hi(t).p_()})}function W$(t){return E(this,null,function*(){let e=Hi(t);for(let n of t.O_)e.m_(n.mutations)})}function K$(t,e,n){return E(this,null,function*(){let r=t.O_.shift(),i=q0.from(r,e,n);yield YM(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Cf(t)})}function Q$(t,e){return E(this,null,function*(){e&&Hi(t).V_&&(yield function(r,i){return E(this,null,function*(){if(function(s){return h$(s)&&s!==O.ABORTED}(i.code)){let o=r.O_.shift();Hi(r).s_(),yield YM(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Cf(r)}})}(t,e)),JM(t)&&ZM(t)})}function rM(t,e){return E(this,null,function*(){let n=ue(t);n.asyncQueue.verifyOperationInProgress(),q("RemoteStore","RemoteStore received new credentials");let r=Vo(n);n.L_.add(3),yield yu(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield If(n)})}function Y$(t,e){return E(this,null,function*(){let n=ue(t);e?(n.L_.delete(2),yield If(n)):e||(n.L_.add(2),yield yu(n),n.q_.set("Unknown"))})}function ga(t){return t.K_||(t.K_=function(n,r,i){let o=ue(n);return o.w_(),new T_(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:U$.bind(null,t),Ro:B$.bind(null,t),mo:$$.bind(null,t),d_:H$.bind(null,t)}),t.B_.push(e=>E(this,null,function*(){e?(t.K_.s_(),cw(t)?aw(t):t.q_.set("Unknown")):(yield t.K_.stop(),QM(t))}))),t.K_}function Hi(t){return t.U_||(t.U_=function(n,r,i){let o=ue(n);return o.w_(),new S_(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:G$.bind(null,t),mo:Q$.bind(null,t),f_:W$.bind(null,t),g_:K$.bind(null,t)}),t.B_.push(e=>E(this,null,function*(){e?(t.U_.s_(),yield Cf(t)):(yield t.U_.stop(),t.O_.length>0&&(q("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var P_=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Gr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Y(O.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function uw(t,e){if(Wr("AsyncQueue",`${e}: ${t}`),mu(t))return new Y(O.UNAVAILABLE,`${e}: ${t}`);throw t}var of=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ne.comparator(n.key,r.key):(n,r)=>ne.comparator(n.key,r.key),this.keyedMap=Zc(),this.sortedSet=new et(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var sf=class{constructor(){this.W_=new et(ne.comparator)}track(e){let n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):oe():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}},da=class t{constructor(e,n,r,i,o,s,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,of.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_f(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var R_=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},N_=class{constructor(){this.queries=iM(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=ue(n),o=i.queries;i.queries=iM(),o.forEach((s,a)=>{for(let u of a.j_)u.onError(r)})})(this,new Y(O.ABORTED,"Firestore shutting down"))}};function iM(){return new $i(t=>DM(t),_f)}function J$(t,e){return E(this,null,function*(){let n=ue(t),r=3,i=e.query,o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new R_,r=e.J_()?0:1);try{switch(r){case 0:o.z_=yield n.onListen(i,!0);break;case 1:o.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){let a=uw(s,`Initialization of query '${Ks(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&lw(n)})}function Z$(t,e){return E(this,null,function*(){let n=ue(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function X$(t,e){let n=ue(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&lw(n)}function eH(t,e,n){let r=ue(t),i=r.queries.get(e);if(i)for(let o of i.j_)o.onError(n);r.queries.delete(e)}function lw(t){t.Y_.forEach(e=>{e.next()})}var O_,oM;(oM=O_||(O_={})).ea="default",oM.Cache="cache";var k_=class{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new da(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=da.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==O_.Cache}};var af=class{constructor(e){this.key=e}},cf=class{constructor(e){this.key=e}},F_=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ee(),this.mutatedKeys=Ee(),this.Aa=TM(e),this.Ra=new of(this.Aa)}get Va(){return this.Ta}ma(e,n){let r=n?n.fa:new sf,i=n?n.Ra:this.Ra,o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),y=wf(this.query,p)?p:null,S=!!m&&this.mutatedKeys.has(m.key),N=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),x=!1;m&&y?m.data.isEqual(y.data)?S!==N&&(r.track({type:3,doc:y}),x=!0):this.ga(m,y)||(r.track({type:2,doc:y}),x=!0,(u&&this.Aa(y,u)>0||l&&this.Aa(y,l)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),x=!0):m&&!y&&(r.track({type:1,doc:m}),x=!0,(u||l)&&(a=!0)),x&&(y?(s=s.add(y),o=N?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let s=e.fa.G_();s.sort((h,p)=>function(y,S){let N=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return oe()}};return N(y)-N(S)}(h.type,p.type)||this.Aa(h.doc,p.doc)),this.pa(r),i=i!=null&&i;let a=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,s.length!==0||l?{snapshot:new da(this.query,e.Ra,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new sf,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=Ee(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let n=[];return e.forEach(r=>{this.da.has(r)||n.push(new cf(r))}),this.da.forEach(r=>{e.has(r)||n.push(new af(r))}),n}ba(e){this.Ta=e.Ts,this.da=Ee();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return da.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},V_=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},L_=class{constructor(e){this.key=e,this.va=!1}},j_=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new $i(a=>DM(a),_f),this.Ma=new Map,this.xa=new Set,this.Oa=new et(ne.comparator),this.Na=new Map,this.La=new lu,this.Ba={},this.ka=new Map,this.qa=uu.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function tH(t,e,n=!0){return E(this,null,function*(){let r=ix(t),i,o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=yield XM(r,e,n,!0),i})}function nH(t,e){return E(this,null,function*(){let n=ix(t);yield XM(n,e,!0,!1)})}function XM(t,e,n,r){return E(this,null,function*(){let i=yield V$(t.localStore,or(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n),a;return r&&(a=yield rH(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&WM(t.remoteStore,i),a})}function rH(t,e,n,r,i){return E(this,null,function*(){t.Ka=(p,m,y)=>function(N,x,F,Q){return E(this,null,function*(){let G=x.view.ma(F);G.ns&&(G=yield nM(N.localStore,x.query,!1).then(({documents:I})=>x.view.ma(I,G)));let J=Q&&Q.targetChanges.get(x.targetId),Ne=Q&&Q.targetMismatches.get(x.targetId)!=null,re=x.view.applyChanges(G,N.isPrimaryClient,J,Ne);return aM(N,x.targetId,re.wa),re.snapshot})}(t,p,m,y);let o=yield nM(t.localStore,e,!0),s=new F_(e,o.Ts),a=s.ma(o.documents),u=au.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(a,t.isPrimaryClient,u);aM(t,n,l.wa);let h=new V_(e,n,s);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),l.snapshot})}function iH(t,e,n){return E(this,null,function*(){let r=ue(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!_f(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield E_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&ow(r.remoteStore,i.targetId),U_(r,i.targetId)}).catch(gu))):(U_(r,i.targetId),yield E_(r.localStore,i.targetId,!0))})}function oH(t,e){return E(this,null,function*(){let n=ue(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ow(n.remoteStore,r.targetId))})}function sH(t,e,n){return E(this,null,function*(){let r=fH(t);try{let i=yield function(s,a){let u=ue(s),l=nt.now(),h=a.reduce((y,S)=>y.add(S.key),Ee()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let S=Qr(),N=Ee();return u.cs.getEntries(y,h).next(x=>{S=x,S.forEach((F,Q)=>{Q.isValidDocument()||(N=N.add(F))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,S)).next(x=>{p=x;let F=[];for(let Q of a){let G=d$(Q,p.get(Q.key).overlayedDocument);G!=null&&F.push(new dr(Q.key,G,_M(G.value.mapValue),sr.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,F,a)}).next(x=>{m=x;let F=x.applyToLocalDocumentSet(p,N);return u.documentOverlayCache.saveOverlays(y,x.batchId,F)})}).then(()=>({batchId:m.batchId,changes:AM(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let l=s.Ba[s.currentUser.toKey()];l||(l=new et(Se)),l=l.insert(a,u),s.Ba[s.currentUser.toKey()]=l}(r,i.batchId,n),yield vu(r,i.changes),yield Cf(r.remoteStore)}catch(i){let o=uw(i,"Failed to persist write");n.reject(o)}})}function ex(t,e){return E(this,null,function*(){let n=ue(t);try{let r=yield O$(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Na.get(o);s&&(Re(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?Re(s.va):i.removedDocuments.size>0&&(Re(s.va),s.va=!1))}),yield vu(n,r,e)}catch(r){yield gu(r)}})}function sM(t,e,n){let r=ue(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((o,s)=>{let a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let u=ue(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.j_)m.Z_(a)&&(l=!0)}),l&&lw(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function aH(t,e,n){return E(this,null,function*(){let r=ue(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Na.get(e),o=i&&i.key;if(o){let s=new et(ne.comparator);s=s.insert(o,kn.newNoDocument(o,he.min()));let a=Ee().add(o),u=new Wh(he.min(),new Map,new et(Se),s,a);yield ex(r,u),r.Oa=r.Oa.remove(o),r.Na.delete(e),dw(r)}else yield E_(r.localStore,e,!1).then(()=>U_(r,e,n)).catch(gu)})}function cH(t,e){return E(this,null,function*(){let n=ue(t),r=e.batch.batchId;try{let i=yield N$(n.localStore,e);nx(n,r,null),tx(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield vu(n,i)}catch(i){yield gu(i)}})}function uH(t,e,n){return E(this,null,function*(){let r=ue(t);try{let i=yield function(s,a){let u=ue(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(Re(p!==null),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);nx(r,e,n),tx(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield vu(r,i)}catch(i){yield gu(i)}})}function tx(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function nx(t,e,n){let r=ue(t),i=r.Ba[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function U_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||rx(t,r)})}function rx(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(ow(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),dw(t))}function aM(t,e,n){for(let r of n)r instanceof af?(t.La.addReference(r.key,e),lH(t,r)):r instanceof cf?(q("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||rx(t,r.key)):oe()}function lH(t,e){let n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(q("SyncEngine","New document in limbo: "+n),t.xa.add(r),dw(t))}function dw(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new ne(Xe.fromString(e)),r=t.qa.next();t.Na.set(r,new L_(n)),t.Oa=t.Oa.insert(n,r),WM(t.remoteStore,new cu(or(nw(n.path)),r,"TargetPurposeLimboResolution",gM.oe))}}function vu(t,e,n){return E(this,null,function*(){let r=ue(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{s.push(r.Ka(u,e,n).then(l=>{var h;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=n?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=y_.Wi(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.Ca.d_(i),yield function(u,l){return E(this,null,function*(){let h=ue(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>L.forEach(l,m=>L.forEach(m.$i,y=>h.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>L.forEach(m.Ui,y=>h.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!mu(p))throw p;q("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let y=h.os.get(m),S=y.snapshotVersion,N=y.withLastLimboFreeSnapshotVersion(S);h.os=h.os.insert(m,N)}}})}(r.localStore,o))})}function dH(t,e){return E(this,null,function*(){let n=ue(t);if(!n.currentUser.isEqual(e)){q("SyncEngine","User change. New user:",e.toKey());let r=yield qM(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(u=>{u.reject(new Y(O.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield vu(n,r.hs)}})}function hH(t,e){let n=ue(t),r=n.Na.get(e);if(r&&r.va)return Ee().add(r.key);{let i=Ee(),o=n.Ma.get(e);if(!o)return i;for(let s of o){let a=n.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function ix(t){let e=ue(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=ex.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=hH.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=aH.bind(null,e),e.Ca.d_=X$.bind(null,e.eventManager),e.Ca.$a=eH.bind(null,e.eventManager),e}function fH(t){let e=ue(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=cH.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=uH.bind(null,e),e}var cM=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return E(this,null,function*(){this.serializer=Ef(n.databaseInfo.databaseId),this.sharedClientState=this.Wa(n),this.persistence=this.Ga(n),yield this.persistence.start(),this.localStore=this.za(n),this.gcScheduler=this.ja(n,this.localStore),this.indexBackfillerScheduler=this.Ha(n,this.localStore)})}ja(n,r){return null}Ha(n,r){return null}za(n){return R$(this.persistence,new __,n.initialUser,this.serializer)}Ga(n){return new p_(m_.Zr,this.serializer)}Wa(n){return new I_}terminate(){return E(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})();var pH=(()=>{class t{initialize(n,r){return E(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>sM(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=dH.bind(null,this.syncEngine),yield Y$(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new N_}()}createDatastore(n){let r=Ef(n.databaseInfo.databaseId),i=function(s){return new D_(s)}(n.databaseInfo);return function(s,a,u,l){return new A_(s,a,u,l)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,o,s,a,u){return new x_(i,o,s,a,u)}(this.localStore,this.datastore,n.asyncQueue,r=>sM(this.syncEngine,r,0),function(){return ef.D()?new ef:new C_}())}createSyncEngine(n,r){return function(o,s,a,u,l,h,p){let m=new j_(o,s,a,u,l,h);return p&&(m.Qa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return E(this,null,function*(){var n,r;yield function(o){return E(this,null,function*(){let s=ue(o);q("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield yu(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var B_=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Wr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var $_=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=It.UNAUTHENTICATED,this.clientId=Bh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>E(this,null,function*(){q("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(q("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Gr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>E(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=uw(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function v0(t,e){return E(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),q("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>E(this,null,function*(){r.isEqual(i)||(yield qM(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function uM(t,e){return E(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield gH(t);q("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>rM(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>rM(e.remoteStore,i)),t._onlineComponents=e})}function gH(t){return E(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){q("FirestoreClient","Using user provided OfflineComponentProvider");try{yield v0(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===O.FAILED_PRECONDITION||i.code===O.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;ea("Error using user provided cache. Falling back to memory cache: "+n),yield v0(t,new cM)}}else q("FirestoreClient","Using default OfflineComponentProvider"),yield v0(t,new cM);return t._offlineComponents})}function ox(t){return E(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(q("FirestoreClient","Using user provided OnlineComponentProvider"),yield uM(t,t._uninitializedComponentsProvider._online)):(q("FirestoreClient","Using default OnlineComponentProvider"),yield uM(t,new pH))),t._onlineComponents})}function mH(t){return ox(t).then(e=>e.syncEngine)}function lM(t){return E(this,null,function*(){let e=yield ox(t),n=e.eventManager;return n.onListen=tH.bind(null,e.syncEngine),n.onUnlisten=iH.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=nH.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=oH.bind(null,e.syncEngine),n})}function sx(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var dM=new Map;function ax(t,e,n){if(!n)throw new Y(O.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function yH(t,e,n,r){if(e===!0&&r===!0)throw new Y(O.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function hM(t){if(!ne.isDocumentKey(t))throw new Y(O.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function fM(t){if(ne.isDocumentKey(t))throw new Y(O.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function hw(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":oe()}function cr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Y(O.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=hw(t);throw new Y(O.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var uf=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Y(O.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Y(O.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}yH("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=sx((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Y(O.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Y(O.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Y(O.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},ha=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uf({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Y(O.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Y(O.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uf(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new _0;switch(r.type){case"firstParty":return new C0(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Y(O.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return E(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=dM.get(n);r&&(q("ComponentProvider","Removing Datastore"),dM.delete(n),r.terminate())}(this),Promise.resolve()}};function cx(t,e,n,r={}){var i;let o=(t=cr(t,ha))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&ea("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=It.MOCK_USER;else{a=gS(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new Y(O.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new It(l)}t._authCredentials=new w0(new Uh(a,u))}}var lf=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Yt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ui(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Ui=class t extends lf{constructor(e,n,r){super(e,n,nw(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Yt(this.firestore,null,new ne(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function ux(t,e,...n){if(t=pt(t),ax("collection","path",e),t instanceof ha){let r=Xe.fromString(e,...n);return fM(r),new Ui(t,null,r)}{if(!(t instanceof Yt||t instanceof Ui))throw new Y(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Xe.fromString(e,...n));return fM(r),new Ui(t.firestore,null,r)}}function fw(t,e,...n){if(t=pt(t),arguments.length===1&&(e=Bh.newId()),ax("doc","path",e),t instanceof ha){let r=Xe.fromString(e,...n);return hM(r),new Yt(t,null,new ne(r))}{if(!(t instanceof Yt||t instanceof Ui))throw new Y(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Xe.fromString(e,...n));return hM(r),new Yt(t.firestore,t instanceof Ui?t.converter:null,new ne(r))}}var df=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new tf(this,"async_queue_retry"),this.Vu=()=>{let r=y0();r&&q("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let n=y0();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let n=y0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let n=new Gr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return E(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!mu(e))throw e;q("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw Wr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);let i=P_.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&oe()}verifyOperationInProgress(){}wu(){return E(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let n=this.Tu.indexOf(e);this.Tu.splice(n,1)}};function pM(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}var Yr=class extends ha{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new df,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return E(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new df(e),this._firestoreClient=void 0,yield e}})}};function lx(t,e){let n=typeof t=="object"?t:Ni(),r=typeof t=="string"?t:e||"(default)",i=Pi(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=pS("firestore");o&&cx(i,...o)}return i}function dx(t){if(t._terminated)throw new Y(O.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||vH(t),t._firestoreClient}function vH(t){var e,n,r;let i=t._freezeSettings(),o=function(a,u,l,h){return new A0(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,sx(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new $_(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(t._componentsProvider))}var du=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Vt.fromBase64String(e))}catch(n){throw new Y(O.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Vt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var fa=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Y(O.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ln(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var hu=class{constructor(e){this._methodName=e}};var fu=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Y(O.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Y(O.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Se(this._lat,e._lat)||Se(this._long,e._long)}};var pu=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var _H=/^__.*__$/,H_=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new dr(e,this.data,this.fieldMask,n,this.fieldTransforms):new ko(e,this.data,n,this.fieldTransforms)}},hf=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new dr(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function hx(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw oe()}}var z_=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return pf(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(hx(this.Cu)&&_H.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},q_=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ef(e)}Qu(e,n,r,i=!1){return new z_({Cu:e,methodName:n,qu:r,path:ln.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function pw(t){let e=t._freezeSettings(),n=Ef(t._databaseId);return new q_(t._databaseId,!!e.ignoreUndefinedProperties,n)}function fx(t,e,n,r,i,o={}){let s=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);gw("Data must be an object, but it was:",s,r);let a=px(r,s),u,l;if(o.merge)u=new _n(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let m=G_(e,p,n);if(!s.contains(m))throw new Y(O.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);mx(h,m)||h.push(m)}u=new _n(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new H_(new un(a),u,l)}var ff=class t extends hu{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function wH(t,e,n,r){let i=t.Qu(1,e,n);gw("Data must be an object, but it was:",i,r);let o=[],s=un.empty();Fo(r,(u,l)=>{let h=mw(e,u,n);l=pt(l);let p=i.Nu(h);if(l instanceof ff)o.push(h);else{let m=bf(l,p);m!=null&&(o.push(h),s.set(h,m))}});let a=new _n(o);return new hf(s,a,i.fieldTransforms)}function EH(t,e,n,r,i,o){let s=t.Qu(1,e,n),a=[G_(e,r,n)],u=[i];if(o.length%2!=0)throw new Y(O.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<o.length;m+=2)a.push(G_(e,o[m])),u.push(o[m+1]);let l=[],h=un.empty();for(let m=a.length-1;m>=0;--m)if(!mx(l,a[m])){let y=a[m],S=u[m];S=pt(S);let N=s.Nu(y);if(S instanceof ff)l.push(y);else{let x=bf(S,N);x!=null&&(l.push(y),h.set(y,x))}}let p=new _n(l);return new hf(h,p,s.fieldTransforms)}function bf(t,e){if(gx(t=pt(t)))return gw("Unsupported field value:",e,t),px(t,e);if(t instanceof hu)return function(r,i){if(!hx(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let u=bf(a,i.Lu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=pt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return s$(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=nt.fromDate(r);return{timestampValue:Jh(i.serializer,o)}}if(r instanceof nt){let o=new nt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Jh(i.serializer,o)}}if(r instanceof fu)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof du)return{bytesValue:LM(i.serializer,r._byteString)};if(r instanceof Yt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:iw(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof pu)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.Bu("VectorValues must only contain numeric values.");return rw(a.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${hw(r)}`)}(t,e)}function px(t,e){let n={};return mM(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Fo(t,(r,i)=>{let o=bf(i,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function gx(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof nt||t instanceof fu||t instanceof du||t instanceof Yt||t instanceof hu||t instanceof pu)}function gw(t,e,n){if(!gx(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=hw(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function G_(t,e,n){if((e=pt(e))instanceof fa)return e._internalPath;if(typeof e=="string")return mw(t,e);throw pf("Field path arguments must be of type string or ",t,!1,void 0,n)}var IH=new RegExp("[~\\*/\\[\\]]");function mw(t,e,n){if(e.search(IH)>=0)throw pf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new fa(...e.split("."))._internalPath}catch{throw pf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function pf(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new Y(O.INVALID_ARGUMENT,a+t+u)}function mx(t,e){return t.some(n=>n.isEqual(e))}var gf=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new W_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(yx("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},W_=class extends gf{data(){return super.data()}};function yx(t,e){return typeof e=="string"?mw(t,e):e instanceof fa?e._internalPath:e._delegate._internalPath}function CH(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Y(O.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var K_=class{convertValue(e,n="none"){switch(Ro(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ge(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Bi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw oe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Fo(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;let o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Ge(s.doubleValue));return new pu(o)}convertGeoPoint(e){return new fu(Ge(e.latitude),Ge(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=Z_(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(iu(e));default:return null}}convertTimestamp(e){let n=Kr(e);return new nt(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Xe.fromString(e);Re(zM(r));let i=new qh(r.get(1),r.get(3)),o=new ne(r.popFirst(5));return i.isEqual(n)||Wr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function vx(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var Mo=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},mf=class extends gf{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Xs(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(yx("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},Xs=class extends mf{data(e={}){return super.data(e)}},Q_=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Mo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Xs(this._firestore,this._userDataWriter,r.key,r,new Mo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Y(O.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new Xs(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Mo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new Xs(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Mo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:bH(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function bH(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return oe()}}var yf=class extends K_{constructor(e){super(),this.firestore=e}convertBytes(e){return new du(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Yt(this.firestore,null,n)}};function _x(t,e,n){t=cr(t,Yt);let r=cr(t.firestore,Yr),i=vx(t.converter,e,n);return Df(r,[fx(pw(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,sr.none())])}function wx(t,e,n,...r){t=cr(t,Yt);let i=cr(t.firestore,Yr),o=pw(i),s;return s=typeof(e=pt(e))=="string"||e instanceof fa?EH(o,"updateDoc",t._key,e,n,r):wH(o,"updateDoc",t._key,e),Df(i,[s.toMutation(t._key,sr.exists(!0))])}function Ex(t){return Df(cr(t.firestore,Yr),[new su(t._key,sr.none())])}function Ix(t,e){let n=cr(t.firestore,Yr),r=fw(t),i=vx(t.converter,e);return Df(n,[fx(pw(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,sr.exists(!1))]).then(()=>r)}function yw(t,...e){var n,r,i;t=pt(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||pM(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(pM(e[s])){let p=e[s];e[s]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(t instanceof Yt)l=cr(t.firestore,Yr),h=nw(t._key.path),u={next:p=>{e[s]&&e[s](DH(l,t,p))},error:e[s+1],complete:e[s+2]};else{let p=cr(t,lf);l=cr(p.firestore,Yr),h=p._query;let m=new yf(l);u={next:y=>{e[s]&&e[s](new Q_(l,m,p,y))},error:e[s+1],complete:e[s+2]},CH(t._query)}return function(m,y,S,N){let x=new B_(N),F=new k_(y,x,S);return m.asyncQueue.enqueueAndForget(()=>E(this,null,function*(){return J$(yield lM(m),F)})),()=>{x.Za(),m.asyncQueue.enqueueAndForget(()=>E(this,null,function*(){return Z$(yield lM(m),F)}))}}(dx(l),h,a,u)}function Df(t,e){return function(r,i){let o=new Gr;return r.asyncQueue.enqueueAndForget(()=>E(this,null,function*(){return sH(yield mH(r),i,o)})),o.promise}(dx(t),e)}function DH(t,e,n){let r=n.docs.get(e._key),i=new yf(t);return new mf(t,i,e._key,r,new Mo(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){pa=i})(Ri),Nn(new Gt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Yr(new E0(r.getProvider("auth-internal")),new D0(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new Y(O.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qh(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),We(FA,"4.7.3",e),We(FA,"4.7.3","esm2017")})();var Tf=function(){return Tf=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Tf.apply(this,arguments)};var AH={includeMetadataChanges:!1};function vw(t,e){return e===void 0&&(e=AH),new fe(function(n){var r=yw(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function Cx(t){return vw(t,{includeMetadataChanges:!0})}function bx(t,e){return e===void 0&&(e={}),Cx(t).pipe(X(function(n){return _w(n,e)}))}function _w(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:Tf(Tf({},r),(n={},n[e.idField]=t.id,n))}function Dx(t){return vw(t,{includeMetadataChanges:!0}).pipe(X(function(e){return e.docs}))}function Tx(t,e){return e===void 0&&(e={}),Dx(t).pipe(X(function(n){return n.map(function(r){return _w(r,e)})}))}var Fn=class{constructor(e){return e}},Sx="firestore",ww=class{constructor(){return zs(Sx)}};var Ew=new $("angularfire2.firestore-instances");function MH(t,e){let n=Hs(Sx,t,e);return n&&new Fn(n)}function xH(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Fn(r)}}var PH={provide:ww,deps:[[new ft,Ew]]},RH={provide:Fn,useFactory:MH,deps:[[new ft,Ew],On]};function Ax(t,...e){return We("angularfire",Br.full,"fst"),nn([RH,PH,{provide:Ew,useFactory:xH(t),multi:!0,deps:[be,ht,ki,$r,[new ft,Qc],[new ft,Oi],...e]}])}var _u=Tt(Tx,!0);var Mx=Tt(bx,!0);var xx=Tt(Ix,!0);var zi=Tt(ux,!0);var Px=Tt(Ex,!0);var Lo=Tt(fw,!0);var Rx=Tt(lx,!0);var Sf=Tt(_x,!0);var Nx=Tt(wx,!0);var ma=(()=>{let e=class e{constructor(r){this.firestore=r,this.cartSubject=new dt(this.loadCart()),this.cart$=this.cartSubject.asObservable()}loadCart(){let r=localStorage.getItem("cart");return r?JSON.parse(r):[]}saveCart(r){localStorage.setItem("cart",JSON.stringify(r)),this.cartSubject.next(r)}calculateTotal(r){return r.reduce((i,o)=>i+o.product.price*o.quantity,0)}getTotalAmount(){return this.cart$.pipe(X(r=>this.calculateTotal(r)))}getCartItems(){return this.cart$}clearCart(){this.saveCart([])}submitOrder(r){return E(this,null,function*(){let i=zi(this.firestore,"orders");yield xx(i,ye(j({},r),{createdAt:nt.now()})),this.clearCart()})}getCartItemCount(){return this.cart$.pipe(X(r=>r.reduce((i,o)=>i+o.quantity,0)))}addToCart(r,i){let o=this.loadCart(),s=o.findIndex(a=>a.product.id===r.id);s===-1?o.push({product:r,quantity:i}):o[s].quantity+=i,this.saveCart(o)}increaseQuantity(r){let i=this.loadCart(),o=i.findIndex(s=>s.product.id===r);o!==-1&&(i[o].quantity+=1,this.saveCart(i))}decreaseQuantity(r){let i=this.loadCart(),o=i.findIndex(s=>s.product.id===r);o!==-1&&i[o].quantity>1&&(i[o].quantity-=1,this.saveCart(i))}removeFromCart(r){let i=this.loadCart();i=i.filter(o=>o.product.id!==r),this.saveCart(i)}checkout(){return Z(this.saveCart([])).pipe(X(()=>{}))}};e.\u0275fac=function(i){return new(i||e)(W(Fn))},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Af=(()=>{let e=class e{constructor(r,i){this.router=r,this.cartService=i,this.cartItemCount=0}ngOnInit(){this.cartService.getCartItemCount().subscribe(r=>this.cartItemCount=r)}goToCart(){this.router.navigate(["/cart"])}};e.\u0275fac=function(i){return new(i||e)(B(_t),B(ma))},e.\u0275cmp=Je({type:e,selectors:[["app-header"]],standalone:!0,features:[Ze],decls:20,vars:1,consts:[[1,"navbar","navbar-expand-lg","navbar-light","bg-light"],["routerLink","/","routerLinkActive","active",1,"navbar-brand"],["src","./icons/logo.png","alt","Logo",1,"logo"],["type","button","data-toggle","collapse","data-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse"],[1,"navbar-nav","ml-auto"],[1,"nav-item"],["routerLink","/","routerLinkActive","active",1,"nav-link"],[1,"nav-link",3,"click"],["src","./icons/shopping-cart.svg","alt","Cart",1,"cart-icon"],[1,"custom-badge"],["src","./icons/admin.svg","alt","admin",1,"cart-icon"],["routerLink","/admin-login","routerLinkActive","active",1,"nav-link"]],template:function(i,o){i&1&&(b(0,"nav",0)(1,"a",1),ce(2,"img",2),A(),b(3,"button",3),ce(4,"span",4),A(),b(5,"div",5)(6,"ul",6)(7,"li",7)(8,"a",8),R(9,"\u0413\u043E\u043B\u043E\u0432\u043D\u0430"),A()(),b(10,"li",7)(11,"a",9),z("click",function(){return o.goToCart()}),ce(12,"img",10),R(13," \u041A\u043E\u0448\u0438\u043A "),b(14,"span",11),R(15),A()()(),b(16,"li",7),ce(17,"img",12),b(18,"a",13),R(19,"\u0410\u0434\u043C\u0456\u043D"),A()()()()()),i&2&&(V(15),Le(o.cartItemCount))},dependencies:[js,Vs,oS],styles:[`.navbar[_ngcontent-%COMP%]{margin-bottom:20px;padding:.5rem 1rem;background-color:#f8f9fa;box-shadow:0 2px 4px #0000001a}.logo[_ngcontent-%COMP%]{height:40px;margin-right:1rem}.navbar-toggler[_ngcontent-%COMP%]{border:none}.navbar-toggler-icon[_ngcontent-%COMP%]{background-image:url("data:image/svg+xml;charset=utf8,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'%3e%3cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M4 6h16M4 12h16M4 18h16' /%3e%3c/svg%3e")}.navbar-nav[_ngcontent-%COMP%]{flex-direction:row;margin-left:auto}.nav-item[_ngcontent-%COMP%]{margin-left:1rem}.nav-link[_ngcontent-%COMP%]{font-weight:700;color:#333;font-size:1rem;padding:.5rem 1rem;transition:color .3s ease}.nav-link[_ngcontent-%COMP%]:hover{color:#007bff;cursor:pointer}.nav-link[_ngcontent-%COMP%]:hover   .cart-icon[_ngcontent-%COMP%]{transform:scale(1.1)}.custom-badge[_ngcontent-%COMP%]{display:inline-block;padding:.25em .4em;font-size:75%;font-weight:700;line-height:1;color:#fff;text-align:center;white-space:nowrap;vertical-align:baseline;border-radius:.2rem;background-color:#dc3545}.cart-icon[_ngcontent-%COMP%]{height:20px;margin-right:.5rem;transition:transform .3s ease}@media (max-width: 992px){.navbar-nav[_ngcontent-%COMP%]{flex-direction:column;text-align:center;padding-top:1rem;margin-top:1rem}.nav-item[_ngcontent-%COMP%]{margin-left:0;margin-bottom:.5rem}.navbar-brand[_ngcontent-%COMP%]{margin-right:auto}}.navbar-collapse[_ngcontent-%COMP%]{max-height:0;transition:max-height .3s ease}.navbar-collapse.collapse.show[_ngcontent-%COMP%]{max-height:500px;transition:max-height .3s ease-in}.navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:1rem;border-bottom:1px solid #ddd}.navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:last-child{border-bottom:none}`]});let t=e;return t})();var Ox=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Je({type:e,selectors:[["app-footer"]],standalone:!0,features:[Ze],decls:37,vars:0,consts:[[1,"container","footer-container"],[1,"row","footer-row"],[1,"col-xs-12","col-sm-6","col-md-6","text-center"],[1,"fas","fa-location-arrow"],["href","tel: 04737875657","type","tel",1,"tel"],[1,"fas","fa-mobile-alt"],[1,"col-xs-12","col-md-6","col-sm-6","social-section"],[1,"text-center"],[1,"text-center","social-buttons"],["href","https://www.facebook.com/?locale=uk_UA",1,"btn","btn-default","btn-lg","social-button","link-facebook"],[1,"fab","fa-facebook"],["href","https://x.com/?lang=uk",1,"btn","btn-default","btn-lg","social-button","link-twitter"],[1,"fab","fa-twitter"],["href","https://www.linkedin.com/",1,"btn","btn-default","btn-lg","social-button","link-linkedin"],[1,"fab","fa-linkedin"],["href","https://instagram.com/",1,"btn","btn-default","btn-lg","social-button","link-instagram"],[1,"fab","fa-instagram"],[1,"footer-hr"],[1,"author"],[1,"fas","fa-heart"]],template:function(i,o){i&1&&(b(0,"footer")(1,"div",0)(2,"div",1)(3,"div",2)(4,"address")(5,"strong"),ce(6,"i",3),R(7," TERRA"),A(),ce(8,"br"),R(9," \u0406\u043D\u0442\u0435\u0440\u043D\u0435\u0442-\u043C\u0430\u0433\u0430\u0437\u0438\u043D \u0442\u0443\u0440\u0438\u0441\u0442\u0438\u0447\u043D\u043E\u0433\u043E \u0441\u043F\u043E\u0440\u044F\u0434\u0436\u0435\u043D\u043D\u044F,"),ce(10,"br"),R(11," \u043C. \u0427\u0435\u0440\u043A\u0430\u0441\u0438, \u0432\u0443\u043B. \u0411\u0430\u0439\u0434\u0438 \u0412\u0438\u0448\u043D\u0435\u0432\u0435\u0446\u044C\u043A\u043E\u0433\u043E, 39"),ce(12,"br")(13,"br"),b(14,"a",4),ce(15,"i",5),b(16,"span"),R(17," 04737875657"),A()()()(),b(18,"div",6)(19,"div",7)(20,"h4",7),R(21,"\u0412\u0438 \u043D\u0430\u0441 \u0437\u043D\u0430\u0439\u0434\u0438\u0442\u0435 \u0443 \u0441\u043E\u0446\u043C\u0435\u0440\u0435\u0436\u0430\u0445"),A(),b(22,"div",8)(23,"a",9),ce(24,"i",10),A(),b(25,"a",11),ce(26,"i",12),A(),b(27,"a",13),ce(28,"i",14),A(),b(29,"a",15),ce(30,"i",16),A()(),ce(31,"hr",17),b(32,"h4",18),R(33,"\u0417\u0440\u043E\u0431\u043B\u0435\u043D\u043E \u0437\u0430 \u0434\u043E\u043F\u043E\u043C\u043E\u0433\u043E\u044E "),ce(34,"i",19),b(35,"strong"),R(36,"Angular"),A()()()()()()())},styles:["footer[_ngcontent-%COMP%]{background-color:#2c3e50;color:#fff;font-size:1.5em;text-align:center;padding:2%;margin-top:40px}a.tel[_ngcontent-%COMP%], a.tel[_ngcontent-%COMP%]:hover{text-decoration:none;color:#fff}a.social-button[_ngcontent-%COMP%]{background:#fff;font-size:20px;border-radius:50%;margin:5px}.address-container[_ngcontent-%COMP%]{display:inline-block;margin:0 auto}a.link-facebook[_ngcontent-%COMP%], a.link-twitter[_ngcontent-%COMP%], a.link-codepen[_ngcontent-%COMP%], a.link-linkedin[_ngcontent-%COMP%], a.link-instagram[_ngcontent-%COMP%]{transition:.4s ease}a.link-twitter[_ngcontent-%COMP%]{color:#1da1f2}a.link-facebook[_ngcontent-%COMP%]{color:#3b5998}a.link-linkedin[_ngcontent-%COMP%]{color:#007bb6}a.link-instagram[_ngcontent-%COMP%]{color:#e95950}a.link-facebook[_ngcontent-%COMP%]:hover{background-color:#3b5998;color:#fff}a.link-twitter[_ngcontent-%COMP%]:hover{background-color:#1da1f2;color:#fff}a.link-codepen[_ngcontent-%COMP%]:hover{background-color:#000;color:#fff}a.link-linkedin[_ngcontent-%COMP%]:hover{background-color:#007bb6;color:#fff}a.link-instagram[_ngcontent-%COMP%]:hover{background-color:#e95950;color:#fff}.btn-default[_ngcontent-%COMP%]{color:#333;background-color:#fff;border-color:transparent!important}.fa-heart[_ngcontent-%COMP%]{color:#f32323}h4.author[_ngcontent-%COMP%]{letter-spacing:4px}hr.copyright[_ngcontent-%COMP%]{opacity:.4}"]});let t=e;return t})();var Dw=new Map,Bx={activated:!1,tokenObservers:[]},NH={initialized:!1,enabled:!1};function mt(t){return Dw.get(t)||Object.assign({},Bx)}function OH(t,e){return Dw.set(t,e),Dw.get(t)}function Nf(){return NH}var $x="https://content-firebaseappcheck.googleapis.com/v1",kH="exchangeRecaptchaV3Token";var FH="exchangeDebugToken",kx={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},VH=24*60*60*1e3;var Tw=class{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return E(this,null,function*(){this.stop();try{this.pending=new Lr,this.pending.promise.catch(n=>{}),yield LH(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Lr,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function LH(t){return new Promise(e=>{setTimeout(e,t)})}var jH={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},Jt=new Rn("appCheck","AppCheck",jH);function Fx(t=!1){var e;return t?(e=self.grecaptcha)===null||e===void 0?void 0:e.enterprise:self.grecaptcha}function Aw(t){if(!mt(t).activated)throw Jt.create("use-before-activation",{appName:t.name})}function Hx(t){let e=Math.round(t/1e3),n=Math.floor(e/(3600*24)),r=Math.floor((e-n*3600*24)/3600),i=Math.floor((e-n*3600*24-r*3600)/60),o=e-n*3600*24-r*3600-i*60,s="";return n&&(s+=Mf(n)+"d:"),r&&(s+=Mf(r)+"h:"),s+=Mf(i)+"m:"+Mf(o)+"s",s}function Mf(t){return t===0?"00":t>=10?t.toString():"0"+t}function Mw(r,i){return E(this,arguments,function*({url:t,body:e},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let y=yield s.getHeartbeatsHeader();y&&(o["X-Firebase-Client"]=y)}let a={method:"POST",body:JSON.stringify(e),headers:o},u;try{u=yield fetch(t,a)}catch(y){throw Jt.create("fetch-network-error",{originalErrorMessage:y?.message})}if(u.status!==200)throw Jt.create("fetch-status-error",{httpStatus:u.status});let l;try{l=yield u.json()}catch(y){throw Jt.create("fetch-parse-error",{originalErrorMessage:y?.message})}let h=l.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw Jt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let p=Number(h[1])*1e3,m=Date.now();return{token:l.token,expireTimeMillis:m+p,issuedAtTimeMillis:m}})}function UH(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${$x}/projects/${n}/apps/${r}:${kH}?key=${i}`,body:{recaptcha_v3_token:e}}}function zx(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${$x}/projects/${n}/apps/${r}:${FH}?key=${i}`,body:{debug_token:e}}}var BH="firebase-app-check-database",$H=1,wu="firebase-app-check-store",qx="debug-token",xf=null;function Gx(){return xf||(xf=new Promise((t,e)=>{try{let n=indexedDB.open(BH,$H);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Jt.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(wu,{keyPath:"compositeKey"})}}}catch(n){e(Jt.create("storage-open",{originalErrorMessage:n?.message}))}}),xf)}function HH(t){return Kx(Qx(t))}function zH(t,e){return Wx(Qx(t),e)}function qH(t){return Wx(qx,t)}function GH(){return Kx(qx)}function Wx(t,e){return E(this,null,function*(){let r=(yield Gx()).transaction(wu,"readwrite"),o=r.objectStore(wu).put({compositeKey:t,value:e});return new Promise((s,a)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;a(Jt.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})})}function Kx(t){return E(this,null,function*(){let n=(yield Gx()).transaction(wu,"readonly"),i=n.objectStore(wu).get(t);return new Promise((o,s)=>{i.onsuccess=a=>{let u=a.target.result;o(u?u.value:void 0)},n.onerror=a=>{var u;s(Jt.create("storage-get",{originalErrorMessage:(u=a.target.error)===null||u===void 0?void 0:u.message}))}})})}function Qx(t){return`${t.options.appId}-${t.name}`}var Eu=new er("@firebase/app-check");function WH(t){return E(this,null,function*(){if(Bs()){let e;try{e=yield HH(t)}catch(n){Eu.warn(`Failed to read token from IndexedDB. Error: ${n}`)}return e}})}function bw(t,e){return Bs()?zH(t,e).catch(n=>{Eu.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function KH(){return E(this,null,function*(){let t;try{t=yield GH()}catch{}if(t)return t;{let e=DS();return qH(e).catch(n=>Eu.warn(`Failed to persist debug token to IndexedDB. Error: ${n}`)),e}})}function xw(){return Nf().enabled}function Pw(){return E(this,null,function*(){let t=Nf();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}function QH(){let t=sv(),e=Nf();if(e.initialized=!0,typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN!="string"&&t.FIREBASE_APPCHECK_DEBUG_TOKEN!==!0)return;e.enabled=!0;let n=new Lr;e.token=n,typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN=="string"?n.resolve(t.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(KH())}var YH={error:"UNKNOWN_ERROR"};function JH(t){return lh.encodeString(JSON.stringify(t),!1)}function Pf(t,e=!1){return E(this,null,function*(){let n=t.app;Aw(n);let r=mt(n),i=r.token,o;if(i&&!ya(i)&&(r.token=void 0,i=void 0),!i){let u=yield r.cachedTokenPromise;u&&(ya(u)?i=u:yield bw(n,void 0))}if(!e&&i&&ya(i))return{token:i.token};let s=!1;if(xw()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Mw(zx(n,yield Pw()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),s=!0);let u=yield r.exchangeTokenPromise;return yield bw(n,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),s=!0),i=yield mt(n).exchangeTokenPromise}catch(u){u.code==="appCheck/throttled"?Eu.warn(u.message):Eu.error(u),o=u}let a;return i?o?ya(i)?a={token:i.token,internalError:o}:a=Lx(o):(a={token:i.token},r.token=i,yield bw(n,i)):a=Lx(o),s&&Zx(n,a),a})}function ZH(t){return E(this,null,function*(){let e=t.app;Aw(e);let{provider:n}=mt(e);if(xw()){let r=yield Pw(),{token:i}=yield Mw(zx(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield n.getToken();return{token:r}}})}function Yx(t,e,n,r){let{app:i}=t,o=mt(i),s={next:n,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&ya(o.token)){let a=o.token;Promise.resolve().then(()=>{n({token:a.token}),Vx(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>Vx(t))}function Jx(t,e){let n=mt(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function Vx(t){let{app:e}=t,n=mt(e),r=n.tokenRefresher;r||(r=XH(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function XH(t){let{app:e}=t;return new Tw(()=>E(this,null,function*(){let n=mt(e),r;if(n.token?r=yield Pf(t,!0):r=yield Pf(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=mt(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},kx.RETRIAL_MIN_WAIT,kx.RETRIAL_MAX_WAIT)}function Zx(t,e){let n=mt(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function ya(t){return t.expireTimeMillis-Date.now()>0}function Lx(t){return{token:JH(YH),error:t}}var Sw=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=mt(this.app);for(let n of e)Jx(this.app,n.next);return Promise.resolve()}};function ez(t,e){return new Sw(t,e)}function tz(t){return{getToken:e=>Pf(t,e),getLimitedUseToken:()=>ZH(t),addTokenListener:e=>Yx(t,"INTERNAL",e),removeTokenListener:e=>Jx(t.app,e)}}var nz="@firebase/app-check",rz="0.8.8";var iz="https://www.google.com/recaptcha/api.js";function oz(t,e){let n=new Lr,r=mt(t);r.reCAPTCHAState={initialized:n};let i=sz(t),o=Fx(!1);return o?jx(t,e,o,i,n):uz(()=>{let s=Fx(!1);if(!s)throw new Error("no recaptcha");jx(t,e,s,i,n)}),n.promise}function jx(t,e,n,r,i){n.ready(()=>{cz(t,e,n,r),i.resolve(n)})}function sz(t){let e=`fire_app_check_${t.name}`,n=document.createElement("div");return n.id=e,n.style.display="none",document.body.appendChild(n),e}function az(t){return E(this,null,function*(){Aw(t);let n=yield mt(t).reCAPTCHAState.initialized.promise;return new Promise((r,i)=>{let o=mt(t).reCAPTCHAState;n.ready(()=>{r(n.execute(o.widgetId,{action:"fire_app_check"}))})})})}function cz(t,e,n,r){let i=n.render(r,{sitekey:e,size:"invisible",callback:()=>{mt(t).reCAPTCHAState.succeeded=!0},"error-callback":()=>{mt(t).reCAPTCHAState.succeeded=!1}}),o=mt(t);o.reCAPTCHAState=Object.assign(Object.assign({},o.reCAPTCHAState),{widgetId:i})}function uz(t){let e=document.createElement("script");e.src=iz,e.onload=t,document.head.appendChild(e)}var Rf=class t{constructor(e){this._siteKey=e,this._throttleData=null}getToken(){return E(this,null,function*(){var e,n,r;dz(this._throttleData);let i=yield az(this._app).catch(s=>{throw Jt.create("recaptcha-error")});if(!(!((e=mt(this._app).reCAPTCHAState)===null||e===void 0)&&e.succeeded))throw Jt.create("recaptcha-error");let o;try{o=yield Mw(UH(this._app,i),this._heartbeatServiceProvider)}catch(s){throw!((n=s.code)===null||n===void 0)&&n.includes("fetch-status-error")?(this._throttleData=lz(Number((r=s.customData)===null||r===void 0?void 0:r.httpStatus),this._throttleData),Jt.create("throttled",{time:Hx(this._throttleData.allowRequestsAfter-Date.now()),httpStatus:this._throttleData.httpStatus})):s}return this._throttleData=null,o})}initialize(e){this._app=e,this._heartbeatServiceProvider=Pi(e,"heartbeat"),oz(e,this._siteKey).catch(()=>{})}isEqual(e){return e instanceof t?this._siteKey===e._siteKey:!1}};function lz(t,e){if(t===404||t===403)return{backoffCount:1,allowRequestsAfter:Date.now()+VH,httpStatus:t};{let n=e?e.backoffCount:0,r=TS(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+r,httpStatus:t}}}function dz(t){if(t&&Date.now()-t.allowRequestsAfter<=0)throw Jt.create("throttled",{time:Hx(t.allowRequestsAfter-Date.now()),httpStatus:t.httpStatus})}function Xx(t=Ni(),e){t=pt(t);let n=Pi(t,"app-check");if(Nf().initialized||QH(),xw()&&Pw().then(i=>console.log(`App Check debug token: ${i}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(o.isTokenAutoRefreshEnabled===e.isTokenAutoRefreshEnabled&&o.provider.isEqual(e.provider))return i;throw Jt.create("already-initialized",{appName:t.name})}let r=n.initialize({options:e});return hz(t,e.provider,e.isTokenAutoRefreshEnabled),mt(t).isTokenAutoRefreshEnabled&&Yx(r,"INTERNAL",()=>{}),r}function hz(t,e,n){let r=OH(t,Object.assign({},Bx));r.activated=!0,r.provider=e,r.cachedTokenPromise=WH(t).then(i=>(i&&ya(i)&&(r.token=i,Zx(t,{token:i.token})),i)),r.isTokenAutoRefreshEnabled=n===void 0?t.automaticDataCollectionEnabled:n,r.provider.initialize(t)}function eP(t,e){return E(this,null,function*(){let n=yield Pf(t,e);if(n.error)throw n.error;return{token:n.token}})}var fz="app-check",Ux="app-check-internal";function pz(){Nn(new Gt(fz,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return ez(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(Ux).initialize()})),Nn(new Gt(Ux,t=>{let e=t.getProvider("app-check").getImmediate();return tz(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),We(nz,rz)}pz();var jo=class{constructor(e){return e}};var Rw=new $("angularfire2.app-check-instances");function gz(t,e){let n=Hs(Tv,t,e);return n&&new jo(n)}var mz=["localhost","0.0.0.0","127.0.0.1"],yz=typeof window<"u"&&mz.includes(window.location.hostname);function vz(t){return(e,n,r)=>{!Ts(r)&&(AD()||yz)&&(globalThis.FIREBASE_APPCHECK_DEBUG_TOKEN??=!0);let i=e.runOutsideAngular(()=>t(n));return new jo(i)}}var _z={provide:Oi,deps:[[new ft,Rw]]},wz={provide:jo,useFactory:gz,deps:[[new ft,Rw],On,bt]};function tP(t,...e){return We("angularfire",Br.full,"app-check"),nn([wz,_z,{provide:Rw,useFactory:vz(t),multi:!0,deps:[be,ht,bt,ki,$r,...e]}])}var nP=Tt(eP,!0),rP=Tt(Xx,!0);var iP=(()=>{let e=class e{constructor(r){this.appCheck=r,this.isDarkMode=!1}ngOnInit(){this.logAppCheckToken(),this.loadTheme()}toggleDarkMode(){this.isDarkMode=!this.isDarkMode,document.body.classList.toggle("dark-mode",this.isDarkMode),localStorage.setItem("darkMode",this.isDarkMode?"true":"false")}loadTheme(){localStorage.getItem("darkMode")==="true"&&(this.isDarkMode=!0,document.body.classList.add("dark-mode"))}logAppCheckToken(){nP(this.appCheck).then(r=>{}).catch(r=>{console.error("Error getting App Check Token:",r)})}};e.\u0275fac=function(i){return new(i||e)(B(jo))},e.\u0275cmp=Je({type:e,selectors:[["app-root"]],standalone:!0,features:[Ze],decls:7,vars:1,consts:[[1,"container","text-center","my-3"],["id","switch",1,"switch"],["type","checkbox","id","slider",3,"change","checked"],[1,"slider","round"]],template:function(i,o){i&1&&(ce(0,"app-header"),b(1,"div",0)(2,"label",1)(3,"input",2),z("change",function(){return o.toggleDarkMode()}),A(),ce(4,"span",3),A()(),ce(5,"router-outlet")(6,"app-footer")),i&2&&(V(3),de("checked",o.isDarkMode))},dependencies:[js,Qy,Dt,Af,Ox,uT],styles:['.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:60px;height:34px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;inset:0;background-color:#ccc;transition:.4s;border-radius:34px}.slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:26px;width:26px;left:4px;bottom:4px;background:#fff url(https://i.ibb.co/7JfqXxB/sunny.png) no-repeat center;background-size:20px;transition:.4s;border-radius:50%;box-shadow:0 0 15px #2020203d}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:var(--color-primary)}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(26px);background:#fff url(https://i.ibb.co/FxzBYR9/night.png) no-repeat center;background-size:20px}']});let t=e;return t})();var pP=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(B(Sn),B(Ht))},e.\u0275dir=ze({type:e});let t=e;return t})(),Bf=(()=>{let e=class e extends pP{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Ar(e)))(o||e)}})(),e.\u0275dir=ze({type:e,features:[gn]});let t=e;return t})(),Au=new $("");var Iz={provide:Au,useExisting:Gn(()=>wn),multi:!0};function Cz(){let t=Or()?Or().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var bz=new $(""),wn=(()=>{let e=class e extends pP{constructor(r,i,o){super(r,i),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Cz())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(B(Sn),B(Ht),B(bz,8))},e.\u0275dir=ze({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&z("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[vi([Iz]),gn]});let t=e;return t})();function Dz(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}var Ow=new $(""),gP=new $("");function Tz(t){return Dz(t.value)?{required:!0}:null}function oP(t){return null}function mP(t){return t!=null}function yP(t){return go(t)?ke(t):t}function vP(t){let e={};return t.forEach(n=>{e=n!=null?j(j({},e),n):e}),Object.keys(e).length===0?null:e}function _P(t,e){return e.map(n=>n(t))}function Sz(t){return!t.validate}function wP(t){return t.map(e=>Sz(e)?e:n=>e.validate(n))}function Az(t){if(!t)return null;let e=t.filter(mP);return e.length==0?null:function(n){return vP(_P(n,e))}}function kw(t){return t!=null?Az(wP(t)):null}function Mz(t){if(!t)return null;let e=t.filter(mP);return e.length==0?null:function(n){let r=_P(n,e).map(yP);return jp(r).pipe(X(vP))}}function Fw(t){return t!=null?Mz(wP(t)):null}function sP(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function xz(t){return t._rawValidators}function Pz(t){return t._rawAsyncValidators}function Nw(t){return t?Array.isArray(t)?t:[t]:[]}function kf(t,e){return Array.isArray(t)?t.includes(e):t===e}function aP(t,e){let n=Nw(e);return Nw(t).forEach(i=>{kf(n,i)||n.push(i)}),n}function cP(t,e){return Nw(e).filter(n=>!kf(t,n))}var Ff=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=kw(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Fw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},wa=class extends Ff{get formDirective(){return null}get path(){return null}},Su=class extends Ff{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Vf=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},Rz={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},ZZ=ye(j({},Rz),{"[class.ng-submitted]":"isSubmitted"}),hr=(()=>{let e=class e extends Vf{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(B(Su,2))},e.\u0275dir=ze({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&vd("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[gn]});let t=e;return t})(),Ia=(()=>{let e=class e extends Vf{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(B(wa,10))},e.\u0275dir=ze({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,o){i&2&&vd("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[gn]});let t=e;return t})();var Iu="VALID",Of="INVALID",va="PENDING",Cu="DISABLED",Ea=class{},Lf=class extends Ea{constructor(e,n){super(),this.value=e,this.source=n}},Du=class extends Ea{constructor(e,n){super(),this.pristine=e,this.source=n}},Tu=class extends Ea{constructor(e,n){super(),this.touched=e,this.source=n}},_a=class extends Ea{constructor(e,n){super(),this.status=e,this.source=n}};function EP(t){return($f(t)?t.validators:t)||null}function Nz(t){return Array.isArray(t)?kw(t):t||null}function IP(t,e){return($f(e)?e.asyncValidators:t)||null}function Oz(t){return Array.isArray(t)?Fw(t):t||null}function $f(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function kz(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new K(1e3,"");if(!r[n])throw new K(1001,"")}function Fz(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new K(1002,"")})}var jf=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._events=new yt,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Iu}get invalid(){return this.status===Of}get pending(){return this.status==va}get disabled(){return this.status===Cu}get enabled(){return this.status!==Cu}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(aP(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(aP(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(cP(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(cP(e,this._rawAsyncValidators))}hasValidator(e){return kf(this._rawValidators,e)}hasAsyncValidator(e){return kf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ye(j({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Tu(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new Tu(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ye(j({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Du(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new Du(!0,r))}markAsPending(e={}){this.status=va;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new _a(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ye(j({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Cu,this.errors=null,this._forEachChild(i=>{i.disable(ye(j({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Lf(this.value,r)),this._events.next(new _a(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ye(j({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Iu,this._forEachChild(r=>{r.enable(ye(j({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ye(j({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Iu||this.status===va)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Lf(this.value,n)),this._events.next(new _a(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ye(j({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Cu:Iu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=va,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=yP(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new _a(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new Ye,this.statusChanges=new Ye}_calculateStatus(){return this._allControlsDisabled()?Cu:this.errors?Of:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(va)?va:this._anyControlsHaveStatus(Of)?Of:Iu}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new Du(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new Tu(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){$f(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Nz(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Oz(this._rawAsyncValidators)}},Uf=class extends jf{constructor(e,n,r){super(EP(n),IP(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){Fz(this,!0,e),Object.keys(e).forEach(r=>{kz(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Vw=new $("CallSetDisabledState",{providedIn:"root",factory:()=>Lw}),Lw="always";function Vz(t,e){return[...e.path,t]}function CP(t,e,n=Lw){bP(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),jz(t,e),Bz(t,e),Uz(t,e),Lz(t,e)}function uP(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function Lz(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function bP(t,e){let n=xz(t);e.validator!==null?t.setValidators(sP(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=Pz(t);e.asyncValidator!==null?t.setAsyncValidators(sP(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();uP(e._rawValidators,i),uP(e._rawAsyncValidators,i)}function jz(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&DP(t,e)})}function Uz(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&DP(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function DP(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Bz(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function $z(t,e){t==null,bP(t,e)}function Hz(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function zz(t){return Object.getPrototypeOf(t.constructor)===Bf}function qz(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Gz(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===wn?n=o:zz(o)?r=o:i=o}),i||r||n||null}var Wz={provide:wa,useExisting:Gn(()=>Uo)},bu=Promise.resolve(),Uo=(()=>{let e=class e extends wa{constructor(r,i,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Ye,this.form=new Uf({},kw(r),Fw(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){bu.then(()=>{let i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),CP(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){bu.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){bu.then(()=>{let i=this._findContainer(r.path),o=new Uf({});$z(o,r),i.registerControl(r.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){bu.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){bu.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submitted=!0,qz(this.form,this._directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}};e.\u0275fac=function(i){return new(i||e)(B(Ow,10),B(gP,10),B(Vw,8))},e.\u0275dir=ze({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,o){i&1&&z("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[vi([Wz]),gn]});let t=e;return t})();function lP(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function dP(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Kz=class extends jf{constructor(e=null,n,r){super(EP(n),IP(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),$f(n)&&(n.nonNullable||n.initialValueIsDefault)&&(dP(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){lP(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){lP(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){dP(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Qz={provide:Su,useExisting:Gn(()=>Vn)},hP=Promise.resolve(),Vn=(()=>{let e=class e extends Su{constructor(r,i,o,s,a,u){super(),this._changeDetectorRef=a,this.callSetDisabledState=u,this.control=new Kz,this._registered=!1,this.name="",this.update=new Ye,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=Gz(this,s)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),Hz(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){CP(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){hP.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,o=i!==0&&wi(i);hP.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?Vz(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(B(wa,9),B(Ow,10),B(gP,10),B(Au,10),B(_i,8),B(Vw,8))},e.\u0275dir=ze({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[vi([Qz]),gn,Sr]});let t=e;return t})(),Ca=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=ze({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})(),Yz={provide:Au,useExisting:Gn(()=>jw),multi:!0},jw=(()=>{let e=class e extends Bf{writeValue(r){let i=r??"";this.setProperty("value",i)}registerOnChange(r){this.onChange=i=>{r(i==""?null:parseFloat(i))}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Ar(e)))(o||e)}})(),e.\u0275dir=ze({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,o){i&1&&z("input",function(a){return o.onChange(a.target.value)})("blur",function(){return o.onTouched()})},features:[vi([Yz]),gn]});let t=e;return t})();var Jz={provide:Au,useExisting:Gn(()=>ba),multi:!0};function TP(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function Zz(t){return t.split(":")[0]}var ba=(()=>{let e=class e extends Bf{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i=this._getOptionId(r),o=TP(i,r);this.setProperty("value",o)}registerOnChange(r){this.onChange=i=>{this.value=this._getOptionValue(i),r(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),r))return i;return null}_getOptionValue(r){let i=Zz(r);return this._optionMap.has(i)?this._optionMap.get(i):r}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Ar(e)))(o||e)}})(),e.\u0275dir=ze({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,o){i&1&&z("change",function(a){return o.onChange(a.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[vi([Jz]),gn]});let t=e;return t})(),Hf=(()=>{let e=class e{constructor(r,i,o){this._element=r,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(r){this._select!=null&&(this._select._optionMap.set(this.id,r),this._setElementValue(TP(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._setElementValue(r),this._select&&this._select.writeValue(this._select.value)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(B(Ht),B(Sn),B(ba,9))},e.\u0275dir=ze({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})(),Xz={provide:Au,useExisting:Gn(()=>SP),multi:!0};function fP(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function eq(t){return t.split(":")[0]}var SP=(()=>{let e=class e extends Bf{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i;if(Array.isArray(r)){let o=r.map(s=>this._getOptionId(s));i=(s,a)=>{s._setSelected(o.indexOf(a.toString())>-1)}}else i=(o,s)=>{o._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(r){this.onChange=i=>{let o=[],s=i.selectedOptions;if(s!==void 0){let a=s;for(let u=0;u<a.length;u++){let l=a[u],h=this._getOptionValue(l.value);o.push(h)}}else{let a=i.options;for(let u=0;u<a.length;u++){let l=a[u];if(l.selected){let h=this._getOptionValue(l.value);o.push(h)}}}this.value=o,r(o)}}_registerOption(r){let i=(this._idCounter++).toString();return this._optionMap.set(i,r),i}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,r))return i;return null}_getOptionValue(r){let i=eq(r);return this._optionMap.has(i)?this._optionMap.get(i)._value:r}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Ar(e)))(o||e)}})(),e.\u0275dir=ze({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,o){i&1&&z("change",function(a){return o.onChange(a.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[vi([Xz]),gn]});let t=e;return t})(),zf=(()=>{let e=class e{constructor(r,i,o){this._element=r,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(r){this._select!=null&&(this._value=r,this._setElementValue(fP(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._select?(this._value=r,this._setElementValue(fP(this.id,r)),this._select.writeValue(this._select.value)):this._setElementValue(r)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}_setSelected(r){this._renderer.setProperty(this._element.nativeElement,"selected",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(B(Ht),B(Sn),B(SP,9))},e.\u0275dir=ze({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})();var tq=(()=>{let e=class e{constructor(){this._validator=oP}ngOnChanges(r){if(this.inputName in r){let i=this.normalizeInput(r[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):oP,this._onChange&&this._onChange()}}validate(r){return this._validator(r)}registerOnValidatorChange(r){this._onChange=r}enabled(r){return r!=null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=ze({type:e,features:[Sr]});let t=e;return t})();var nq={provide:Ow,useExisting:Gn(()=>Bo),multi:!0};var Bo=(()=>{let e=class e extends tq{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=wi,this.createValidator=r=>Tz}enabled(r){return r}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Ar(e)))(o||e)}})(),e.\u0275dir=ze({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,o){i&2&&sc("required",o._enabled?"":null)},inputs:{required:"required"},features:[vi([nq]),gn]});let t=e;return t})();var rq=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Kn({type:e}),e.\u0275inj=Wn({});let t=e;return t})();var fr=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:Vw,useValue:r.callSetDisabledState??Lw}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Kn({type:e}),e.\u0275inj=Wn({imports:[rq]});let t=e;return t})();var iq=["slides"],AP=(()=>{let e=class e{constructor(r){this.platformId=r,this.intervalForSlider=1e4,this.withBackground=!1,this.showArrows=!0,this.dragging=!1}onClickLeft(){if(this.slides){let r=this.slides.nativeElement,i=r.scrollWidth/r.children.length;r.scrollLeft-=i,r.scrollLeft<0&&(r.scrollLeft=r.scrollWidth-i)}}onClickRight(){if(this.slides){let r=this.slides.nativeElement,i=r.scrollWidth/r.children.length;r.scrollLeft+=i,r.scrollLeft>=r.scrollWidth&&(r.scrollLeft=0)}}ngAfterViewInit(){ny(this.platformId)&&(this.autoSlideSub=Up(this.intervalForSlider,this.intervalForSlider).subscribe(()=>this.onClickRight()))}onDrag(r,i){if(i==="start")this.dragging=!0;else if(i==="end")this.dragging=!1;else if(i==="move"&&this.dragging){let o=this.slides.nativeElement,s=r instanceof MouseEvent?r.movementX:r.touches[0].clientX;o.scrollLeft-=s}}ngOnDestroy(){this.autoSlideSub&&this.autoSlideSub.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)(B(bt))},e.\u0275cmp=Je({type:e,selectors:[["app-carousel"]],viewQuery:function(i,o){if(i&1&&vD(iq,5),i&2){let s;_d(s=wd())&&(o.slides=s.first)}},inputs:{intervalForSlider:"intervalForSlider",withBackground:"withBackground",showArrows:"showArrows"},standalone:!0,features:[Ze],decls:13,vars:0,consts:[["slides",""],["id","carouselExampleIndicators","data-ride","carousel",1,"carousel","slide"],[1,"carousel-inner"],[1,"carousel-item","active"],["src","./slide/slide1.jpg","alt","Slide 1",1,"d-block","w-100"],[1,"carousel-item"],["src","./slide/slide2.jpg","alt","Slide 2",1,"d-block","w-100"],["src","./slide/slide3.jpg","alt","Slide 3",1,"d-block","w-100"],["href","#carouselExampleIndicators","role","button","data-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],["href","#carouselExampleIndicators","role","button","data-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"]],template:function(i,o){i&1&&(b(0,"div",1)(1,"div",2,0)(3,"div",3),ce(4,"img",4),A(),b(5,"div",5),ce(6,"img",6),A(),b(7,"div",5),ce(8,"img",7),A()(),b(9,"a",8),ce(10,"span",9),A(),b(11,"a",10),ce(12,"span",11),A()())},dependencies:[Dt],styles:[".carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:50vh;object-fit:cover}.carousel-container[_ngcontent-%COMP%]{position:relative;width:100%;height:50vh;overflow:hidden}.carousel-inner[_ngcontent-%COMP%]{display:flex;overflow:hidden;width:100%;height:100%}.carousel-item[_ngcontent-%COMP%]{background:linear-gradient(to bottom,#fff,#7a73f6);display:flex;align-items:center;justify-content:center;transition:transform 5s ease-in-out}@media (max-width: 576px){.carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:40vh}}"]});let t=e;return t})();var Da=(()=>{let e=class e{constructor(r){this.firestore=r,this.collectionName="products",this.commentsCollectionName="comments"}getProducts(){let r=zi(this.firestore,this.collectionName);return _u(r,{idField:"id"})}getProductById(r){let i=Lo(this.firestore,`${this.collectionName}/${r}`);return Mx(i,{idField:"id"})}getComments(r){let i=zi(this.firestore,`${this.collectionName}/${r}/${this.commentsCollectionName}`);return _u(i,{idField:"id"})}addComment(r,i){let o=["\u043A\u043E\u043A\u043E\u0441","\u0431\u0430\u043D\u0430\u043D","\u043F\u043E\u0433\u0430\u043D\u0438\u0439","@"],s=i.replace(new RegExp(`(${o.map(l=>l.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")).join("|")})`,"gi"),l=>"*".repeat(l.length)),a=zi(this.firestore,`${this.collectionName}/${r}/${this.commentsCollectionName}`),u=Lo(a);return Sf(u,{text:s,timestamp:new Date().toISOString()})}};e.\u0275fac=function(i){return new(i||e)(W(Fn))},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var MP=t=>({disabled:t}),oq=t=>({active:t});function sq(t,e){if(t&1){let n=zt();b(0,"div",13)(1,"div",14),ce(2,"img",15),b(3,"div",16)(4,"h5",17),R(5),A(),b(6,"p",18),R(7),A(),b(8,"button",19),z("click",function(){let i=ee(n).$implicit,o=ie();return te(o.viewProduct(i.id))}),R(9,"\u041F\u0435\u0440\u0435\u0439\u0442\u0438 \u0434\u043E \u0442\u043E\u0432\u0430\u0440\u0443"),A()()()()}if(t&2){let n=e.$implicit,r=ie();V(2),Jn("alt",n.name),de("src",n.imageUrl,Qn),V(3),Le(n.name),V(2),xr("",n.price," ",r.currency,"")}}function aq(t,e){if(t&1){let n=zt();b(0,"li",8)(1,"a",20),z("click",function(){let i=ee(n).$implicit,o=ie();return te(o.changePage(i))}),R(2),A()()}if(t&2){let n=e.$implicit,r=ie();de("ngClass",Ed(2,oq,n===r.currentPage)),V(2),Le(n)}}var xP=(()=>{let e=class e{constructor(r,i){this.productService=r,this.router=i,this.products=[],this.filteredProducts=[],this.searchText="",this.currency="$",this.itemsPerPage=5,this.currentPage=1,this.totalPages=1,this.pages=[],this.categories=["\u041B\u0456\u0445\u0442\u0430\u0440\u0438\u043A\u0438","\u0420\u043E\u0437\u0443\u043C\u043D\u0456 \u0433\u043E\u0434\u0438\u043D\u043D\u0438\u043A\u0438","\u041D\u0430\u0432\u0443\u0448\u043D\u0438\u043A\u0438","\u0422\u0443\u0440\u0438\u0441\u0442\u0438\u0447\u043D\u0456 \u041A\u0430\u043C\u0435\u0440\u0438","\u041D\u0430\u043C\u0435\u0442\u0438"],this.selectedCategory="all"}ngOnInit(){this.loadProducts()}loadProducts(){this.productService.getProducts().subscribe(r=>{console.log("\u041E\u0442\u0440\u0438\u043C\u0430\u043D\u0456 \u043F\u0440\u043E\u0434\u0443\u043A\u0442\u0438:",r),this.products=r,this.applyFilters()})}getPaginatedProducts(){let r=(this.currentPage-1)*this.itemsPerPage,i=this.currentPage*this.itemsPerPage;return this.filteredProducts.slice(r,i)}updatePagination(){this.totalPages=Math.ceil(this.filteredProducts.length/this.itemsPerPage),this.pages=Array.from({length:this.totalPages},(r,i)=>i+1)}onSearchTextChange(){this.applyFilters(),this.updatePagination(),this.currentPage=1}filterByCategory(r){this.selectedCategory=r,this.applyFilters(),this.updatePagination(),this.currentPage=1}applyFilters(){let r=this.products;this.selectedCategory!=="all"&&(r=r.filter(i=>i.category===this.selectedCategory)),this.searchText&&(r=r.filter(i=>i.name.toLowerCase().includes(this.searchText.toLowerCase()))),this.filteredProducts=r,this.updatePagination()}changePage(r){r>=1&&r<=this.totalPages&&(this.currentPage=r)}viewProduct(r){this.router.navigate([`/product/${r}`])}};e.\u0275fac=function(i){return new(i||e)(B(Da),B(_t))},e.\u0275cmp=Je({type:e,selectors:[["app-home"]],standalone:!0,features:[Ze],decls:30,vars:13,consts:[[1,"container-fluid","mt-4"],["type","search","placeholder","\u0424\u0456\u043B\u044C\u0442\u0440 \u0437\u0430 \u043D\u0430\u0437\u0432\u043E\u044E","aria-label","Search",1,"form-control","mb-4","mt-4",3,"ngModelChange","ngModel"],[1,"text-center","mb-4"],[1,"btn","btn-outline-primary",3,"click"],[1,"row"],["class","col-12 col-md-2 mb-4",4,"ngFor","ngForOf"],["aria-label","Page navigation"],[1,"pagination","justify-content-center"],[1,"page-item",3,"ngClass"],["aria-label","Previous",1,"page-link",3,"click"],["aria-hidden","true"],["class","page-item",3,"ngClass",4,"ngFor","ngForOf"],["aria-label","Next",1,"page-link",3,"click"],[1,"col-12","col-md-2","mb-4"],[1,"card"],[1,"card-img-top",3,"src","alt"],[1,"card-body","text-center"],[1,"card-title"],[1,"card-text"],[1,"btn","btn-primary",3,"click"],[1,"page-link",3,"click"]],template:function(i,o){i&1&&(b(0,"div",0),ce(1,"app-carousel"),b(2,"input",1),Ue("ngModelChange",function(a){return He(o.searchText,a)||(o.searchText=a),a}),z("ngModelChange",function(){return o.onSearchTextChange()}),A(),b(3,"div",2)(4,"button",3),z("click",function(){return o.filterByCategory("all")}),R(5,"\u0423\u0441\u0456"),A(),b(6,"button",3),z("click",function(){return o.filterByCategory("\u041B\u0456\u0445\u0442\u0430\u0440\u0438\u043A\u0438")}),R(7,"\u041B\u0456\u0445\u0442\u0430\u0440\u0438\u043A\u0438"),A(),b(8,"button",3),z("click",function(){return o.filterByCategory("\u0420\u043E\u0437\u0443\u043C\u043D\u0456 \u0413\u043E\u0434\u0438\u043D\u043D\u0438\u043A\u0438")}),R(9,"\u0420\u043E\u0437\u0443\u043C\u043D\u0456 \u0413\u043E\u0434\u0438\u043D\u043D\u0438\u043A\u0438"),A(),b(10,"button",3),z("click",function(){return o.filterByCategory("\u041D\u0430\u0432\u0443\u0448\u043D\u0438\u043A\u0438")}),R(11,"\u041D\u0430\u0432\u0443\u0448\u043D\u0438\u043A\u0438"),A(),b(12,"button",3),z("click",function(){return o.filterByCategory("\u0422\u0443\u0440\u0438\u0441\u0442\u0438\u0447\u043D\u0456 \u041A\u0430\u043C\u0435\u0440\u0438")}),R(13,"\u0422\u0443\u0440\u0438\u0441\u0442\u0438\u0447\u043D\u0456 \u041A\u0430\u043C\u0435\u0440\u0438"),A(),b(14,"button",3),z("click",function(){return o.filterByCategory("\u041D\u0430\u043C\u0435\u0442\u0438")}),R(15,"\u041D\u0430\u043C\u0435\u0442\u0438"),A()(),b(16,"div",4),qe(17,sq,10,5,"div",5),Id(18,"slice"),A(),b(19,"nav",6)(20,"ul",7)(21,"li",8)(22,"a",9),z("click",function(){return o.changePage(o.currentPage-1)}),b(23,"span",10),R(24,"\xAB"),A()()(),qe(25,aq,3,4,"li",11),b(26,"li",8)(27,"a",12),z("click",function(){return o.changePage(o.currentPage+1)}),b(28,"span",10),R(29,"\xBB"),A()()()()()()),i&2&&(V(2),je("ngModel",o.searchText),V(15),de("ngForOf",ED(18,5,o.getPaginatedProducts(),0,5)),V(4),de("ngClass",Ed(9,MP,o.currentPage===1)),V(4),de("ngForOf",o.pages),V(),de("ngClass",Ed(11,MP,o.currentPage===o.totalPages)))},dependencies:[Dt,qD,Ii,KD,fr,wn,hr,Vn,AP],styles:[".card[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;height:100%;border:1px solid #ddd;border-radius:.375rem;overflow:hidden}.card-img-top[_ngcontent-%COMP%]{height:150px;object-fit:cover}.card-body[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center;text-align:center}.card-title[_ngcontent-%COMP%]{font-size:1rem}.card-text[_ngcontent-%COMP%]{font-size:.875rem}.carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:50vh;object-fit:cover}.btn-outline-primary[_ngcontent-%COMP%]{margin:.25rem}.pagination[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{padding:.5rem 1rem}.page-link[_ngcontent-%COMP%]{cursor:pointer}@media (max-width: 576px){.card-img-top[_ngcontent-%COMP%]{height:120px}.carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:40vh}}@media (min-width: 992px){.col-md-2[_ngcontent-%COMP%]{flex:0 0 20%;max-width:20%}}"]});let t=e;return t})();var PP=(()=>{let e=class e{constructor(r){this.http=r,this.apiUrl="https://api.novaposhta.ua/v2.0/json/",this.apiKey="86dfb7dfe2f6e8659419fc64edcc4814"}getRegions(){let r={apiKey:this.apiKey,modelName:"Address",calledMethod:"getAreas",methodProperties:{}};return this.http.post(this.apiUrl,r)}getCities(r){let i={apiKey:this.apiKey,modelName:"Address",calledMethod:"getCities",methodProperties:{AreaRef:r}};return this.http.post(this.apiUrl,i)}getWarehouses(r){let i={apiKey:this.apiKey,modelName:"AddressGeneral",calledMethod:"getWarehouses",methodProperties:{CityRef:r}};return this.http.post(this.apiUrl,i)}};e.\u0275fac=function(i){return new(i||e)(W(cy))},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function uq(t,e){if(t&1){let n=zt();b(0,"div",30),ce(1,"img",31),b(2,"h4",32),R(3),A(),b(4,"p",33),R(5),A(),b(6,"div",34)(7,"button",35),z("click",function(){let i=ee(n).$implicit,o=ie();return te(o.increaseQuantity(i.product.id))}),R(8,"+"),A(),b(9,"span",36),R(10),A(),b(11,"button",35),z("click",function(){let i=ee(n).$implicit,o=ie();return te(o.decreaseQuantity(i.product.id))}),R(12,"-"),A()(),b(13,"div",37)(14,"p",7),R(15),A()(),b(16,"button",38),z("click",function(){let i=ee(n).$implicit,o=ie();return te(o.removeFromCart(i.product.id))}),R(17,"\u041F\u0440\u0438\u0431\u0440\u0430\u0442\u0438"),A()()}if(t&2){let n=e.$implicit,r=ie();V(),Jn("alt",n.product.name),de("src",n.product.imageUrl,Qn),V(2),Le(n.product.name),V(2),xr("",n.product.price," ",r.currency,""),V(5),Le(n.quantity),V(5),xr("\u0417\u0430\u0433\u0430\u043B\u044C\u043D\u0430 \u0441\u0443\u043C\u0430 \u0442\u043E\u0432\u0430\u0440\u0443: ",n.product.price*n.quantity," ",r.currency,"")}}function lq(t,e){t&1&&(b(0,"small",39),R(1,"\u041D\u0435\u043A\u043E\u0440\u0435\u043A\u0442\u043D\u0438\u0439 \u0444\u043E\u0440\u043C\u0430\u0442. \u0412\u0438\u043A\u043E\u0440\u0438\u0441\u0442\u043E\u0432\u0443\u0439\u0442\u0435 \u0442\u0456\u043B\u044C\u043A\u0438 \u0431\u0443\u043A\u0432\u0438."),A())}function dq(t,e){if(t&1&&(b(0,"small",39),R(1),A()),t&2){ie();let n=ac(18);V(),Le(n.errors==null?null:n.errors.customError)}}function hq(t,e){if(t&1&&(b(0,"option",40),R(1),A()),t&2){let n=e.$implicit;de("value",n.Ref),V(),An(" ",n.Description," ")}}function fq(t,e){if(t&1&&(b(0,"option",40),R(1),A()),t&2){let n=e.$implicit;de("value",n.Ref),V(),An(" ",n.Description," ")}}function pq(t,e){if(t&1&&(b(0,"option",40),R(1),A()),t&2){let n=e.$implicit;de("value",n.Ref),V(),An(" ",n.Description," ")}}function gq(t,e){if(t&1){let n=zt();b(0,"div",41),z("click",function(){ee(n);let i=ie();return te(i.closeConfirmation())}),b(1,"div",42),z("click",function(i){return ee(n),te(i.stopPropagation())}),b(2,"p",43),R(3,"\u0412\u0430\u0448 \u0442\u043E\u0432\u0430\u0440 \u043E\u0444\u043E\u0440\u043C\u043B\u0435\u043D\u0438\u0439, \u0434\u044F\u043A\u0443\u0454\u043C\u043E \u0437\u0430 \u043F\u043E\u043A\u0443\u043F\u043A\u0443!"),A(),b(4,"button",44),z("click",function(){ee(n);let i=ie();return te(i.closeConfirmation())}),R(5,"\u0417\u0430\u043A\u0440\u0438\u0442\u0438"),A()()()}}var RP=(()=>{let e=class e{constructor(r,i){this.cartService=r,this.novaposhtaService=i,this.cartItems=[],this.totalAmount=0,this.currency="$",this.showConfirmation=!1,this.order={recipientName:"",phone:"",region:"",city:"",delivery:"",payment:""},this.regions=[],this.cities=[],this.warehouses=[],this.filteredRegions=[],this.filteredCities=[]}ngOnInit(){this.cartService.getCartItems().subscribe(r=>{this.cartItems=r,this.updateTotalAmount()}),this.loadRegions()}loadRegions(){this.novaposhtaService.getRegions().subscribe({next:r=>{this.regions=r.data||[],this.filteredRegions=[...this.regions]},error:r=>console.error("\u041F\u043E\u043C\u0438\u043B\u043A\u0430 \u0437\u0430\u0432\u0430\u043D\u0442\u0430\u0436\u0435\u043D\u043D\u044F \u0440\u0435\u0433\u0456\u043E\u043D\u0456\u0432:",r)})}onRegionChange(r){r&&(this.order.region=r,this.cities=[],this.warehouses=[],this.novaposhtaService.getCities(r).subscribe({next:i=>{this.cities=i.data||[],this.filteredCities=[...this.cities]},error:i=>console.error("\u041F\u043E\u043C\u0438\u043B\u043A\u0430 \u0437\u0430\u0432\u0430\u043D\u0442\u0430\u0436\u0435\u043D\u043D\u044F \u043C\u0456\u0441\u0442:",i)}))}loadCities(){this.novaposhtaService.getCities("").subscribe(r=>{this.cities=r.data})}onCityChange(r){let o=r.target?.value;o&&(this.order.city=o,this.warehouses=[],this.novaposhtaService.getWarehouses(o).subscribe({next:s=>{this.warehouses=s.data.map(a=>({Ref:a.Ref,Description:a.Description}))||[]},error:s=>console.error("\u041F\u043E\u043C\u0438\u043B\u043A\u0430 \u0437\u0430\u0432\u0430\u043D\u0442\u0430\u0436\u0435\u043D\u043D\u044F \u0432\u0456\u0434\u0434\u0456\u043B\u0435\u043D\u044C:",s)}))}filterRegions(r){this.filteredRegions=this.regions.filter(i=>i.Description.toLowerCase().includes(r.toLowerCase()))}filterCities(r){this.filteredCities=this.cities.filter(i=>i.Description.toLowerCase().includes(r.toLowerCase()))}updateTotalAmount(){this.cartService.getTotalAmount().subscribe(r=>this.totalAmount=r)}increaseQuantity(r){this.cartService.increaseQuantity(r),this.updateTotalAmount()}decreaseQuantity(r){this.cartService.decreaseQuantity(r),this.updateTotalAmount()}removeFromCart(r){this.cartService.removeFromCart(r),this.updateTotalAmount()}checkout(){this.cartService.checkout().subscribe(()=>{this.cartItems=[],this.totalAmount=0},r=>{console.error("Checkout error",r)})}submitOrder(){if(this.validateOrder()){let r=ye(j({},this.order),{region:this.regions.find(i=>i.Ref===this.order.region)?.Description||"",city:this.cities.find(i=>i.Ref===this.order.city)?.Description||"",delivery:this.warehouses.find(i=>i.Ref===this.order.delivery)?.Description||"",items:this.cartItems,totalAmount:this.totalAmount,createdAt:nt.now()});this.cartService.submitOrder(r).then(()=>{this.showConfirmation=!0,this.cartItems=[],this.totalAmount=0,this.order={recipientName:"",phone:"",region:"",city:"",delivery:"",payment:""}}).catch(i=>{console.error("Error submitting order:",i),alert("\u041D\u0435 \u0432\u0434\u0430\u043B\u043E\u0441\u044F \u043E\u0444\u043E\u0440\u043C\u0438\u0442\u0438 \u0437\u0430\u043C\u043E\u0432\u043B\u0435\u043D\u043D\u044F. \u0421\u043F\u0440\u043E\u0431\u0443\u0439\u0442\u0435 \u043F\u0456\u0437\u043D\u0456\u0448\u0435.")})}}closeConfirmation(){this.showConfirmation=!1}formatPhone(r){let i=r.replace(/[^\d]/g,"");return i.length===12?`+${i}`:i}onPhoneInput(r){let i=r.target,o=i.value,s=o.replace(/[^\d]/g,"");s.length>12&&(o=s.slice(0,12)),i.value=this.formatPhone(o),this.order.phone=i.value}validatePhone(){let r=/^\+\d{12}$/;return this.order.phone.replace(/[^\d]/g,"").length!==12?"\u041D\u0435\u043A\u043E\u0440\u0435\u043A\u0442\u043D\u0438\u0439 \u0444\u043E\u0440\u043C\u0430\u0442 \u0442\u0435\u043B\u0435\u0444\u043E\u043D\u0443. \u0412\u0432\u0435\u0434\u0456\u0442\u044C 12 \u0446\u0438\u0444\u0440.":r.test(this.order.phone)?null:"\u041D\u0435\u043A\u043E\u0440\u0435\u043A\u0442\u043D\u0438\u0439 \u0444\u043E\u0440\u043C\u0430\u0442 \u0442\u0435\u043B\u0435\u0444\u043E\u043D\u0443. \u0412\u0438\u043A\u043E\u0440\u0438\u0441\u0442\u043E\u0432\u0443\u0439\u0442\u0435 \u0444\u043E\u0440\u043C\u0430\u0442: +380000000000."}validateRecipientName(r){let i=r.target;/^[a-zA-Z--\s]*$/.test(i.value)||(i.value=i.value.replace(/[^a-zA-Z--\s]/g,""))}updateCart(){this.cartService.getCartItems().subscribe(r=>{this.cartItems=r,this.calculateTotal()})}calculateTotal(){this.totalAmount=this.cartItems.reduce((r,i)=>r+i.product.price*i.quantity,0)}validateOrder(){return!this.order.region||!this.order.city||!this.order.delivery?(alert("\u0411\u0443\u0434\u044C \u043B\u0430\u0441\u043A\u0430, \u0437\u0430\u043F\u043E\u0432\u043D\u0456\u0442\u044C \u0432\u0441\u0456 \u043F\u043E\u043B\u044F!"),!1):!0}};e.\u0275fac=function(i){return new(i||e)(B(ma),B(PP))},e.\u0275cmp=Je({type:e,selectors:[["app-cart"]],standalone:!0,features:[Ze],decls:51,vars:14,consts:[["orderForm","ngForm"],["recipientName","ngModel"],["phone","ngModel"],["payment","ngModel"],[1,"container"],["class","cart-item d-flex align-items-center justify-content-between border rounded mb-3 p-3",4,"ngFor","ngForOf"],[1,"text-center","mt-4"],[1,"font-weight-bold"],[1,"mt-4",3,"ngSubmit"],[1,"form-group"],["for","recipientName"],["type","text","id","recipientName","name","recipientName","required","","placeholder","\u041F\u0440\u0456\u0437\u0432\u0438\u0449\u0435 \u0406\u043C'\u044F \u041F\u043E\u0431\u0430\u0442\u044C\u043A\u043E\u0432\u0456",1,"form-control",3,"ngModelChange","input","ngModel"],["class","text-danger",4,"ngIf"],["for","phone"],["type","tel","id","phone","name","phone","required","","placeholder","+380000000000",1,"form-control",3,"ngModelChange","input","ngModel"],["for","region"],["id","region","name","region",1,"form-control",3,"ngModelChange","change","ngModel"],[3,"value",4,"ngFor","ngForOf"],["for","city"],["id","city","name","city",1,"form-control",3,"ngModelChange","change","ngModel"],["for","warehouse"],["id","warehouse","name","warehouse",1,"form-control",3,"ngModelChange","ngModel"],["for","payment"],["id","payment","name","payment","required","",1,"form-control",3,"ngModelChange","ngModel"],["value","","disabled","","selected",""],["value","pay-now"],["value","invoice"],["value","installments"],["type","submit",1,"btn","btn-success","btn-block",3,"disabled"],["class","confirmation-overlay",3,"click",4,"ngIf"],[1,"cart-item","d-flex","align-items-center","justify-content-between","border","rounded","mb-3","p-3"],[1,"cart-item-image",3,"src","alt"],[1,"cart-item-name","font-weight-bold"],[1,"cart-item-price"],[1,"quantity-control","d-flex","align-items-center"],[1,"btn","btn-outline-primary","btn-sm",3,"click"],[1,"mx-2"],[1,"total-row"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"text-danger"],[3,"value"],[1,"confirmation-overlay",3,"click"],[1,"confirmation-content",3,"click"],[1,"confirmation-text"],[1,"btn","btn-success",3,"click"]],template:function(i,o){if(i&1){let s=zt();b(0,"div",4)(1,"div",4),qe(2,uq,18,8,"div",5),A(),b(3,"div",6)(4,"h2",7),R(5,"\u0417\u0430\u043C\u043E\u0432\u043B\u0435\u043D\u043D\u044F"),A(),b(6,"form",8,0),z("ngSubmit",function(){return ee(s),te(o.submitOrder())}),b(8,"div",9)(9,"label",10),R(10,"\u041E\u0442\u0440\u0438\u043C\u0443\u0432\u0430\u0447:"),A(),b(11,"input",11,1),Ue("ngModelChange",function(u){return ee(s),He(o.order.recipientName,u)||(o.order.recipientName=u),te(u)}),z("input",function(u){return ee(s),te(o.validateRecipientName(u))}),A(),qe(13,lq,2,0,"small",12),A(),b(14,"div",9)(15,"label",13),R(16,"\u041C\u043E\u0431\u0456\u043B\u044C\u043D\u0438\u0439 \u0442\u0435\u043B\u0435\u0444\u043E\u043D:"),A(),b(17,"input",14,2),Ue("ngModelChange",function(u){return ee(s),He(o.order.phone,u)||(o.order.phone=u),te(u)}),z("input",function(u){return ee(s),te(o.onPhoneInput(u))}),A(),qe(19,dq,2,1,"small",12),A(),b(20,"div",9)(21,"label",15),R(22,"\u041E\u0431\u0435\u0440\u0456\u0442\u044C \u0440\u0435\u0433\u0456\u043E\u043D:"),A(),b(23,"select",16),Ue("ngModelChange",function(u){return ee(s),He(o.order.region,u)||(o.order.region=u),te(u)}),z("change",function(){return ee(s),te(o.onRegionChange(o.order.region))}),qe(24,hq,2,2,"option",17),A()(),b(25,"div",9)(26,"label",18),R(27,"\u041E\u0431\u0435\u0440\u0456\u0442\u044C \u043C\u0456\u0441\u0442\u043E:"),A(),b(28,"select",19),Ue("ngModelChange",function(u){return ee(s),He(o.order.city,u)||(o.order.city=u),te(u)}),z("change",function(u){return ee(s),te(o.onCityChange(u))}),qe(29,fq,2,2,"option",17),A()(),b(30,"div",9)(31,"label",20),R(32,"\u041E\u0431\u0435\u0440\u0456\u0442\u044C \u0432\u0456\u0434\u0434\u0456\u043B\u0435\u043D\u043D\u044F:"),A(),b(33,"select",21),Ue("ngModelChange",function(u){return ee(s),He(o.order.delivery,u)||(o.order.delivery=u),te(u)}),qe(34,pq,2,2,"option",17),A()(),b(35,"div",9)(36,"label",22),R(37,"\u041E\u043F\u043B\u0430\u0442\u0430:"),A(),b(38,"select",23,3),Ue("ngModelChange",function(u){return ee(s),He(o.order.payment,u)||(o.order.payment=u),te(u)}),b(40,"option",24),R(41,"\u041E\u0431\u0435\u0440\u0456\u0442\u044C \u0441\u043F\u043E\u0441\u0456\u0431 \u043E\u043F\u043B\u0430\u0442\u0438"),A(),b(42,"option",25),R(43,"\u041E\u043F\u043B\u0430\u0442\u0438\u0442\u0438 \u0437\u0430\u0440\u0430\u0437"),A(),b(44,"option",26),R(45,"\u0411\u0435\u0437\u0433\u043E\u0442\u0456\u0432\u043A\u043E\u0432\u0438\u0439 \u0440\u0430\u0445\u0443\u043D\u043E\u043A"),A(),b(46,"option",27),R(47,"\u041E\u043F\u043B\u0430\u0442\u0430 \u0447\u0430\u0441\u0442\u0438\u043D\u0430\u043C\u0438"),A()()(),b(48,"button",28),R(49," \u041E\u0444\u043E\u0440\u043C\u0438\u0442\u0438 \u043F\u043E\u043A\u0443\u043F\u043A\u0443 "),A()()(),qe(50,gq,6,0,"div",29),A()}if(i&2){let s=ac(7),a=ac(12),u=ac(18);V(2),de("ngForOf",o.cartItems),V(9),je("ngModel",o.order.recipientName),V(2),de("ngIf",a.invalid&&a.touched),V(4),je("ngModel",o.order.phone),V(2),de("ngIf",u.errors==null?null:u.errors.customError),V(4),je("ngModel",o.order.region),V(),de("ngForOf",o.filteredRegions),V(4),je("ngModel",o.order.city),V(),de("ngForOf",o.filteredCities),V(4),je("ngModel",o.order.delivery),V(),de("ngForOf",o.warehouses),V(4),je("ngModel",o.order.payment),V(10),de("disabled",!s.valid),V(2),de("ngIf",o.showConfirmation)}},dependencies:[Dt,Ii,Ci,fr,Ca,Hf,zf,wn,ba,hr,Ia,Bo,Vn,Uo],styles:[".form-control[_ngcontent-%COMP%]{border-radius:.25rem;border:1px solid #ced4da}label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:.5rem;display:block}select[_ngcontent-%COMP%]:invalid{color:gray}select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]:first-child{display:none}.btn-success[_ngcontent-%COMP%]:hover{background-color:#218838}#city[_ngcontent-%COMP%], #warehouse[_ngcontent-%COMP%]{text-transform:capitalize}.total-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;width:100%}.total-row[_ngcontent-%COMP%]   .font-weight-bold[_ngcontent-%COMP%]{margin:0;text-align:left;flex:1}.cart-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;background-color:#f9f9f9;padding:15px}.cart-item[_ngcontent-%COMP%]   .btn-danger[_ngcontent-%COMP%]{margin-left:auto}.cart-item-image[_ngcontent-%COMP%]{width:60px;height:60px;object-fit:cover;margin-right:15px}.cart-item-name[_ngcontent-%COMP%]{font-size:1rem;flex:1;margin:0 15px}.quantity-control[_ngcontent-%COMP%]{display:flex;align-items:center;margin-right:15px}.font-weight-bold[_ngcontent-%COMP%]{margin-right:15px}.btn-danger[_ngcontent-%COMP%]{margin-left:15px}@media (max-width: 768px){.cart-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.cart-item-image[_ngcontent-%COMP%]{margin-bottom:10px}.cart-item-name[_ngcontent-%COMP%], .font-weight-bold[_ngcontent-%COMP%], .quantity-control[_ngcontent-%COMP%]{margin:10px 0}.btn-danger[_ngcontent-%COMP%]{margin-top:10px}}.cart-item-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.cart-item-details[_ngcontent-%COMP%]   .font-weight-bold[_ngcontent-%COMP%]{margin-top:10px}.cart-item[_ngcontent-%COMP%]{background-color:#f9f9f9}#btn[_ngcontent-%COMP%]{width:90px}#img[_ngcontent-%COMP%]{margin:15px}#total[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px}.cart-item-image[_ngcontent-%COMP%]{width:80px;height:80px;object-fit:cover}.cart-item-name[_ngcontent-%COMP%]{font-size:1.2rem}.cart-item-price[_ngcontent-%COMP%]{font-size:1rem;color:#333}.quantity-control[_ngcontent-%COMP%]{margin-top:.5rem}.quantity-control[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:30px;height:30px}.btn-danger[_ngcontent-%COMP%]{background-color:#dc3545;border-color:#dc3545}.btn-danger[_ngcontent-%COMP%]:hover{background-color:#c82333;border-color:#bd2130}.confirmation-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center}.confirmation-content[_ngcontent-%COMP%]{background-color:#fff;padding:2rem;border-radius:5px;text-align:center;animation:_ngcontent-%COMP%_fadeIn .3s ease-in}.confirmation-text[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:1rem}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.form-control[_ngcontent-%COMP%]{border-radius:.25rem;border-color:#ced4da}.btn-success[_ngcontent-%COMP%]{background-color:#28a745;border-color:#28a745}.btn-success[_ngcontent-%COMP%]:hover{background-color:#218838;border-color:#1e7e34}.confirmation-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.confirmation-content[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:8px;text-align:center}.confirmation-text[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:20px}.container[_ngcontent-%COMP%]{padding:1rem}.cart-item[_ngcontent-%COMP%]{margin-bottom:1rem}.btn[_ngcontent-%COMP%]{width:auto}@media (max-width: 768px){.cart-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.cart-item-image[_ngcontent-%COMP%]{width:100px;height:100px}.cart-item-name[_ngcontent-%COMP%]{font-size:1rem}.cart-item-price[_ngcontent-%COMP%]{font-size:.9rem}.quantity-control[_ngcontent-%COMP%]{margin-top:1rem;flex-direction:column}.quantity-control[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:40px;height:40px}.btn-danger[_ngcontent-%COMP%], .btn-success[_ngcontent-%COMP%]{width:100%}#btn[_ngcontent-%COMP%]{width:100%;margin-top:.5rem}#img[_ngcontent-%COMP%], #total[_ngcontent-%COMP%]{margin:10px 0}.confirmation-content[_ngcontent-%COMP%]{width:90%;max-width:400px;padding:1rem}}@media (min-width: 769px) and (max-width: 1024px){.cart-item[_ngcontent-%COMP%]{flex-direction:row}.cart-item-image[_ngcontent-%COMP%]{width:100px;height:100px}.cart-item-name[_ngcontent-%COMP%]{font-size:1.1rem}.cart-item-price[_ngcontent-%COMP%]{font-size:.95rem}.quantity-control[_ngcontent-%COMP%]{margin-top:.5rem;flex-direction:row}.quantity-control[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:35px;height:35px}}"]});let t=e;return t})();function mq(t,e){if(t&1&&(b(0,"div",18)(1,"p",19),R(2),A(),b(3,"small",20),R(4),Id(5,"date"),A()()),t&2){let n=e.$implicit;V(2),Le(n.text),V(2),Le(wD(5,2,n.timestamp,"dd.MM.yyyy HH:mm"))}}function yq(t,e){if(t&1){let n=zt();b(0,"div",21),z("click",function(){ee(n);let i=ie(2);return te(i.closeModal())}),b(1,"div",22),z("click",function(i){return ee(n),te(i.stopPropagation())}),b(2,"div",23)(3,"h4",24),R(4,"\u041A\u043E\u0448\u0438\u043A"),A(),b(5,"button",25),z("click",function(){ee(n);let i=ie(2);return te(i.closeModal())}),R(6,"\xD7"),A()(),b(7,"div",26)(8,"div",27),ce(9,"img",28),b(10,"div",29)(11,"h5"),R(12),A(),b(13,"p",30),R(14),A(),b(15,"div",31)(16,"button",32),z("click",function(){ee(n);let i=ie(2);return te(i.decreaseQuantity())}),R(17,"-"),A(),b(18,"span",33),R(19),A(),b(20,"button",32),z("click",function(){ee(n);let i=ie(2);return te(i.increaseQuantity())}),R(21,"+"),A()()()(),b(22,"div",34)(23,"button",35),z("click",function(){ee(n);let i=ie(2);return te(i.addToCart())}),R(24,"\u041E\u0444\u043E\u0440\u043C\u0438\u0442\u0438 \u0437\u0430\u043C\u043E\u0432\u043B\u0435\u043D\u043D\u044F"),A()()()()()}if(t&2){let n=ie(2);V(9),Jn("alt",n.product.name),de("src",n.product.imageUrl,Qn),V(3),Le(n.product.name),V(2),xr("\u0417\u0430\u0433\u0430\u043B\u044C\u043D\u0430 \u0441\u0443\u043C\u0430: ",n.totalPrice," ",n.currency,""),V(5),Le(n.quantity)}}function vq(t,e){if(t&1){let n=zt();b(0,"div",1)(1,"div",2)(2,"div",3),ce(3,"img",4),A(),b(4,"div",5)(5,"h3",6),R(6),A(),b(7,"p",7),R(8,"\u0404 \u0432 \u043D\u0430\u044F\u0432\u043D\u043E\u0441\u0442\u0456"),A(),b(9,"p",8),R(10),A(),b(11,"button",9),z("click",function(){ee(n);let i=ie();return te(i.openModal())}),R(12,"\u041A\u0443\u043F\u0438\u0442\u0438"),A(),b(13,"button",10),z("click",function(){ee(n);let i=ie();return te(i.goBack())}),R(14,"\u041D\u0430\u0437\u0430\u0434"),A(),b(15,"h4",11),R(16,"\u041E\u043F\u0438\u0441 \u0442\u043E\u0432\u0430\u0440\u0443"),A(),b(17,"p",12),R(18),A(),b(19,"h4",13),R(20,"\u041A\u043E\u043C\u0435\u043D\u0442\u0430\u0440\u0456:"),A(),qe(21,mq,6,5,"div",14),b(22,"textarea",15),Ue("ngModelChange",function(i){ee(n);let o=ie();return He(o.newComment,i)||(o.newComment=i),te(i)}),A(),b(23,"button",16),z("click",function(){ee(n);let i=ie();return te(i.addComment())}),R(24,"\u0414\u043E\u0434\u0430\u0442\u0438 \u043A\u043E\u043C\u0435\u043D\u0442\u0430\u0440"),A()()(),qe(25,yq,25,6,"div",17),A()}if(t&2){let n=ie();V(3),Jn("alt",n.product.name),de("src",n.product.imageUrl,Qn),V(3),Le(n.product.name),V(4),xr("",n.product.price," ",n.currency,""),V(8),Le(n.product.description),V(3),de("ngForOf",n.comments),V(),je("ngModel",n.newComment),V(3),de("ngIf",n.showModal)}}var NP=(()=>{let e=class e{constructor(r,i,o,s){this.route=r,this.productService=i,this.cartService=o,this.router=s,this.comments=[],this.newComment="",this.currency="$",this.showModal=!1,this.quantity=1,this.isDarkMode=!1}ngOnInit(){let r=this.route.snapshot.paramMap.get("id");r&&this.productService.getProductById(r).subscribe(i=>{this.product=i,this.loadComments()})}get totalPrice(){return this.product?this.product.price*this.quantity:0}openModal(){this.showModal=!0,this.isDarkMode&&document.querySelector(".modal-content")?.classList.add("dark-mode")}closeModal(){this.showModal=!1}addToCart(){this.product&&(this.cartService.addToCart(this.product,this.quantity),this.closeModal(),this.router.navigate(["/cart"]))}increaseQuantity(){this.quantity++}decreaseQuantity(){this.quantity>1&&this.quantity--}goBack(){this.router.navigate(["/"])}addComment(){if(this.newComment.trim()&&this.product&&this.product.id){let r=["\u043A\u043E\u043A\u043E\u0441","\u0431\u0430\u043D\u0430\u043D","\u043F\u043E\u0433\u0430\u043D\u0438\u0439","@"],i=this.newComment.replace(new RegExp(`(${r.map(o=>o.replace(/[.*+?^${}()|[\\]\\]/g,"\\$&")).join("|")})`,"gi"),o=>"*".repeat(o.length));this.productService.addComment(this.product.id,i).then(()=>{this.comments.push({text:i,timestamp:new Date().toISOString()}),this.newComment=""})}}loadComments(){this.product&&this.product.id&&this.productService.getComments(this.product.id).subscribe(r=>{this.comments=r.sort((i,o)=>new Date(o.timestamp).getTime()-new Date(i.timestamp).getTime())})}};e.\u0275fac=function(i){return new(i||e)(B(Xn),B(Da),B(ma),B(_t))},e.\u0275cmp=Je({type:e,selectors:[["app-product"]],standalone:!0,features:[Ze],decls:1,vars:1,consts:[["class","product-container container",4,"ngIf"],[1,"product-container","container"],[1,"row"],[1,"col-md-4","d-flex","align-items-start"],[1,"product-image","img-fluid",3,"src","alt"],[1,"col-md-8"],[1,"product-name"],[1,"product-stock"],[1,"product-price"],[1,"btn","btn-success","buy-button",3,"click"],[1,"btn","btn-secondary","back-button",3,"click"],[1,"product-description-title"],[1,"product-description"],[1,"comments-title"],["class","comment",4,"ngFor","ngForOf"],["placeholder","\u041D\u0430\u043F\u0438\u0448\u0456\u0442\u044C \u0432\u0430\u0448 \u043A\u043E\u043C\u0435\u043D\u0442\u0430\u0440...",1,"form-control","comment-textarea",3,"ngModelChange","ngModel"],[1,"btn","btn-success","add-comment-button",3,"click"],["class","modal-overlay",3,"click",4,"ngIf"],[1,"comment"],[1,"comment-text"],[1,"comment-timestamp"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"modal-title"],[1,"close-button",3,"click"],[1,"modal-body"],[1,"modal-product-info"],[1,"modal-product-image",3,"src","alt"],[1,"modal-product-details"],[1,"modal-product-total"],[1,"quantity-control"],[1,"quantity-button",3,"click"],[1,"quantity"],[1,"modal-footer"],[1,"btn","btn-success",3,"click"]],template:function(i,o){i&1&&qe(0,vq,26,9,"div",0),i&2&&de("ngIf",o.product)},dependencies:[Dt,Ii,Ci,WD,fr,wn,hr,Vn],styles:[".comment[_ngcontent-%COMP%]{margin-bottom:10px;padding:5px;border-bottom:1px solid #ddd}.comment-text[_ngcontent-%COMP%]{font-size:13px;line-height:1.4;margin:0;color:#333}.comment-timestamp[_ngcontent-%COMP%]{font-size:10px;color:#777;display:block;margin-top:2px;text-align:right;font-style:italic}.product-container[_ngcontent-%COMP%]{margin-top:20px}.product-name[_ngcontent-%COMP%]{font-weight:700;font-size:1.5rem;margin-bottom:10px}.product-stock[_ngcontent-%COMP%]{color:#28a745;font-size:.9rem;margin-bottom:15px}.product-price[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:20px}.buy-button[_ngcontent-%COMP%], .back-button[_ngcontent-%COMP%], .add-comment-button[_ngcontent-%COMP%]{margin-right:10px;transition:background-color .3s,transform .2s}.buy-button[_ngcontent-%COMP%]:hover{background-color:#218838;transform:scale(1.05)}.back-button[_ngcontent-%COMP%]:hover{background-color:#6c757d;transform:scale(1.05)}.product-description-title[_ngcontent-%COMP%], .comments-title[_ngcontent-%COMP%]{text-align:center;margin-top:20px}.product-description[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}.comment[_ngcontent-%COMP%]{border-bottom:1px solid #dee2e6;padding-bottom:10px;margin-bottom:10px}.comment-textarea[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:10px}.add-comment-button[_ngcontent-%COMP%]{margin-top:10px;transition:background-color .3s,transform .2s}.add-comment-button[_ngcontent-%COMP%]:hover{background-color:#218838;transform:scale(1.05)}.align-items-start[_ngcontent-%COMP%]{align-items:flex-start}.product-image[_ngcontent-%COMP%]{max-width:100%;border-radius:8px}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;align-items:center;justify-content:center;animation:_ngcontent-%COMP%_fadeIn .3s ease-in}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:8px;width:80%;max-width:500px;padding:20px;position:relative;animation:_ngcontent-%COMP%_scaleUp .3s ease-in-out}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.modal-title[_ngcontent-%COMP%]{font-size:1.5rem}.close-button[_ngcontent-%COMP%]{background:none;border:none;font-size:1.5rem;cursor:pointer;transition:color .3s ease}.close-button[_ngcontent-%COMP%]:hover{color:#dc3545}.modal-body[_ngcontent-%COMP%]{margin-top:15px}.modal-product-info[_ngcontent-%COMP%]{display:flex;align-items:center}.modal-product-image[_ngcontent-%COMP%]{width:80px;height:80px;object-fit:cover;margin-right:15px}.modal-product-details[_ngcontent-%COMP%]{flex:1}.modal-product-price[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700}.quantity-control[_ngcontent-%COMP%]{display:flex;align-items:center;margin-top:10px}.quantity-button[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none;padding:5px 10px;cursor:pointer}.quantity[_ngcontent-%COMP%]{margin:0 10px}.quantity-button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:20px}.btn-success[_ngcontent-%COMP%]{background-color:#28a745;border-color:#28a745}.btn-success[_ngcontent-%COMP%]:hover{background-color:#218838}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_scaleUp{0%{transform:scale(.9)}to{transform:scale(1)}}"]});let t=e;return t})();var OP=(()=>{let e=class e{constructor(r){this.firestore=r,this.productsCollection=zi(this.firestore,"products")}getProducts(){return _u(this.productsCollection,{idField:"id"})}addProduct(r){let i=Lo(this.productsCollection);return Sf(i,ye(j({},r),{id:i.id}))}deleteProduct(r){let i=Lo(this.firestore,`products/${r}`);return Px(i)}updateProduct(r){let i=Lo(this.firestore,`products/${r.id}`);return Nx(i,j({},r))}};e.\u0275fac=function(i){return new(i||e)(W(Fn))},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function wq(t,e){if(t&1&&(b(0,"option",22),R(1),A()),t&2){let n=e.$implicit;de("value",n),V(),An(" ",n," ")}}function Eq(t,e){if(t&1){let n=zt();b(0,"div",7)(1,"h3"),R(2,"\u0414\u043E\u0434\u0430\u0442\u0438 \u0442\u043E\u0432\u0430\u0440"),A(),b(3,"form",8),z("ngSubmit",function(){ee(n);let i=ie();return te(i.addProduct())}),b(4,"div",9)(5,"label",10),R(6,"\u041D\u0430\u0437\u0432\u0430 \u0442\u043E\u0432\u0430\u0440\u0443"),A(),b(7,"input",11),Ue("ngModelChange",function(i){ee(n);let o=ie();return He(o.productName,i)||(o.productName=i),te(i)}),A()(),b(8,"div",9)(9,"label",12),R(10,"\u041E\u043F\u0438\u0441 \u0442\u043E\u0432\u0430\u0440\u0443"),A(),b(11,"textarea",13),Ue("ngModelChange",function(i){ee(n);let o=ie();return He(o.productDescription,i)||(o.productDescription=i),te(i)}),A()(),b(12,"div",9)(13,"label",14),R(14,"URL \u043A\u0430\u0440\u0442\u0438\u043D\u043A\u0438 \u0442\u043E\u0432\u0430\u0440\u0443"),A(),b(15,"input",15),Ue("ngModelChange",function(i){ee(n);let o=ie();return He(o.productImageUrl,i)||(o.productImageUrl=i),te(i)}),A()(),b(16,"div",9)(17,"label",16),R(18,"\u0426\u0456\u043D\u0430"),A(),b(19,"input",17),Ue("ngModelChange",function(i){ee(n);let o=ie();return He(o.productPrice,i)||(o.productPrice=i),te(i)}),A()(),b(20,"div",9)(21,"label",18),R(22,"\u041A\u0430\u0442\u0435\u0433\u043E\u0440\u0456\u044F \u0442\u043E\u0432\u0430\u0440\u0443"),A(),b(23,"select",19),Ue("ngModelChange",function(i){ee(n);let o=ie();return He(o.productCategory,i)||(o.productCategory=i),te(i)}),qe(24,wq,2,2,"option",20),A()(),b(25,"button",21),R(26," \u0414\u043E\u0434\u0430\u0442\u0438 \u0442\u043E\u0432\u0430\u0440 "),A()()()}if(t&2){let n=ie();V(7),je("ngModel",n.productName),V(4),je("ngModel",n.productDescription),V(4),je("ngModel",n.productImageUrl),V(4),je("ngModel",n.productPrice),V(4),je("ngModel",n.productCategory),V(),de("ngForOf",n.categories),V(),de("disabled",!n.isFormValid())}}function Iq(t,e){if(t&1&&(b(0,"option",22),R(1),A()),t&2){let n=e.$implicit;de("value",n),V(),An(" ",n," ")}}function Cq(t,e){if(t&1){let n=zt();b(0,"div",7)(1,"h3"),R(2,"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u0442\u043E\u0432\u0430\u0440"),A(),b(3,"form",8),z("ngSubmit",function(){ee(n);let i=ie();return te(i.updateProduct())}),b(4,"div",9)(5,"label",23),R(6,"\u041D\u0430\u0437\u0432\u0430 \u0442\u043E\u0432\u0430\u0440\u0443"),A(),b(7,"input",24),Ue("ngModelChange",function(i){ee(n);let o=ie();return He(o.productName,i)||(o.productName=i),te(i)}),A()(),b(8,"div",9)(9,"label",25),R(10,"\u041E\u043F\u0438\u0441 \u0442\u043E\u0432\u0430\u0440\u0443"),A(),b(11,"textarea",26),Ue("ngModelChange",function(i){ee(n);let o=ie();return He(o.productDescription,i)||(o.productDescription=i),te(i)}),A()(),b(12,"div",9)(13,"label",27),R(14,"URL \u043A\u0430\u0440\u0442\u0438\u043D\u043A\u0438 \u0442\u043E\u0432\u0430\u0440\u0443"),A(),b(15,"input",28),Ue("ngModelChange",function(i){ee(n);let o=ie();return He(o.productImageUrl,i)||(o.productImageUrl=i),te(i)}),A()(),b(16,"div",9)(17,"label",29),R(18,"\u0426\u0456\u043D\u0430"),A(),b(19,"input",30),Ue("ngModelChange",function(i){ee(n);let o=ie();return He(o.productPrice,i)||(o.productPrice=i),te(i)}),A()(),b(20,"div",9)(21,"label",31),R(22,"\u041A\u0430\u0442\u0435\u0433\u043E\u0440\u0456\u044F \u0442\u043E\u0432\u0430\u0440\u0443"),A(),b(23,"select",32),Ue("ngModelChange",function(i){ee(n);let o=ie();return He(o.productCategory,i)||(o.productCategory=i),te(i)}),qe(24,Iq,2,2,"option",20),A()(),b(25,"button",21),R(26,"\u041E\u043D\u043E\u0432\u0438\u0442\u0438 \u0442\u043E\u0432\u0430\u0440"),A(),b(27,"button",33),z("click",function(){ee(n);let i=ie();return te(i.resetForm())}),R(28,"\u0421\u043A\u0430\u0441\u0443\u0432\u0430\u0442\u0438"),A()()()}if(t&2){let n=ie();V(7),je("ngModel",n.productName),V(4),je("ngModel",n.productDescription),V(4),je("ngModel",n.productImageUrl),V(4),je("ngModel",n.productPrice),V(4),je("ngModel",n.productCategory),V(),de("ngForOf",n.categories),V(),de("disabled",!n.isFormValid())}}function bq(t,e){if(t&1){let n=zt();b(0,"div",34),ce(1,"img",35),b(2,"h4"),R(3),A(),b(4,"p"),R(5),A(),b(6,"p")(7,"strong"),R(8,"\u0426\u0456\u043D\u0430:"),A(),R(9),A(),b(10,"p")(11,"strong"),R(12,"\u041A\u0430\u0442\u0435\u0433\u043E\u0440\u0456\u044F:"),A(),R(13),A(),b(14,"button",36),z("click",function(){let i=ee(n).$implicit,o=ie();return te(o.openEditForm(i))}),R(15,"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438"),A(),b(16,"button",37),z("click",function(){let i=ee(n).$implicit,o=ie();return te(o.confirmDeleteProduct(i.id))}),R(17,"\u0412\u0438\u0434\u0430\u043B\u0438\u0442\u0438"),A()()}if(t&2){let n=e.$implicit;V(),Jn("alt",n.name),de("src",n.imageUrl,Qn),V(2),Le(n.name),V(2),Le(n.description),V(4),An(" ",n.price," $"),V(4),An(" ",n.category,"")}}function Dq(t,e){if(t&1){let n=zt();b(0,"div",38)(1,"div",39)(2,"h4"),R(3,"\u041F\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0436\u0435\u043D\u043D\u044F \u0432\u0438\u0434\u0430\u043B\u0435\u043D\u043D\u044F"),A(),b(4,"p"),R(5,"\u0412\u0438 \u0432\u043F\u0435\u0432\u043D\u0435\u043D\u0456, \u0449\u043E \u0445\u043E\u0447\u0435\u0442\u0435 \u0432\u0438\u0434\u0430\u043B\u0438\u0442\u0438 \u0446\u0435\u0439 \u0442\u043E\u0432\u0430\u0440?"),A(),b(6,"button",37),z("click",function(){ee(n);let i=ie();return i.deleteProduct(),te(i.closeModal())}),R(7,"\u0422\u0430\u043A"),A(),b(8,"button",40),z("click",function(){ee(n);let i=ie();return te(i.closeModal())}),R(9,"\u041D\u0456"),A()()()}}var kP=(()=>{let e=class e{constructor(r,i){this.adminService=r,this.productService=i,this.productName="",this.productDescription="",this.productImageUrl="",this.productPrice=null,this.productCategory="",this.products=[],this.filteredProducts=[],this.categories=["\u041B\u0456\u0445\u0442\u0430\u0440\u0438\u043A\u0438","\u0420\u043E\u0437\u0443\u043C\u043D\u0456 \u0413\u043E\u0434\u0438\u043D\u043D\u0438\u043A\u0438","\u041D\u0430\u0432\u0443\u0448\u043D\u0438\u043A\u0438","\u0422\u0443\u0440\u0438\u0441\u0442\u0438\u0447\u043D\u0456 \u041A\u0430\u043C\u0435\u0440\u0438","\u041D\u0430\u043C\u0435\u0442\u0438"],this.selectedCategory="all",this.showModal=!1,this.showEditForm=!1,this.productToDeleteId=null,this.productToEdit=null,this.errorMessage=null}ngOnInit(){this.loadProducts()}loadProducts(){this.adminService.getProducts().subscribe(r=>{this.products=r,this.applyFilters()},r=>{console.error("Error loading products:",r),this.errorMessage="Failed to load products. Please try again later."})}filterByCategory(r){this.selectedCategory=r,this.applyFilters()}applyFilters(){this.selectedCategory==="all"?this.filteredProducts=this.products:this.filteredProducts=this.products.filter(r=>r.category===this.selectedCategory)}addProduct(){if(this.isFormValid()){let r={id:"",name:this.productName,description:this.productDescription,imageUrl:this.productImageUrl,price:this.productPrice,category:this.productCategory};this.adminService.addProduct(r).then(()=>{this.loadProducts(),this.resetForm()}).catch(i=>{console.error("Error adding product:",i),this.errorMessage="Failed to add product. Please try again later."})}}deleteProduct(){this.productToDeleteId&&this.adminService.deleteProduct(this.productToDeleteId).then(()=>{this.loadProducts(),this.closeModal()}).catch(r=>{console.error("Error deleting product:",r),this.errorMessage="Failed to delete product. Please try again later."})}openEditForm(r){this.productToEdit=j({},r),this.productName=r.name,this.productDescription=r.description,this.productImageUrl=r.imageUrl,this.productPrice=r.price,this.productCategory=r.category,this.showEditForm=!0}updateProduct(){if(this.productToEdit&&this.isFormValid()){let r={id:this.productToEdit.id,name:this.productName,description:this.productDescription,imageUrl:this.productImageUrl,price:this.productPrice,category:this.productCategory};this.adminService.updateProduct(r).then(()=>{this.loadProducts(),this.resetForm(),this.showEditForm=!1}).catch(i=>{console.error("Error updating product:",i),this.errorMessage="Failed to update product. Please try again later."})}}confirmDeleteProduct(r){this.productToDeleteId=r,this.showModal=!0}closeModal(){this.showModal=!1,this.productToDeleteId=null}resetForm(){this.productName="",this.productDescription="",this.productImageUrl="",this.productPrice=null,this.productCategory="",this.productToEdit=null,this.showEditForm=!1}isFormValid(){return this.productName.trim()!==""&&this.productDescription.trim()!==""&&this.productImageUrl.trim()!==""&&this.productPrice!==null&&this.productPrice>0&&this.productCategory.trim()!==""}};e.\u0275fac=function(i){return new(i||e)(B(OP),B(Da))},e.\u0275cmp=Je({type:e,selectors:[["app-admin"]],standalone:!0,features:[Ze],decls:19,vars:4,consts:[[1,"container"],[1,"filter-container"],[1,"btn","btn-outline-primary",3,"click"],["class","product-form",4,"ngIf"],[1,"product-list"],["class","product-item",4,"ngFor","ngForOf"],["class","modal",4,"ngIf"],[1,"product-form"],[3,"ngSubmit"],[1,"form-group"],["for","productName"],["id","productName","name","productName","placeholder","\u041D\u0430\u0437\u0432\u0430 \u0442\u043E\u0432\u0430\u0440\u0443","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","productDescription"],["id","productDescription","name","productDescription","placeholder","\u041E\u043F\u0438\u0441 \u0442\u043E\u0432\u0430\u0440\u0443","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","productImageUrl"],["id","productImageUrl","name","productImageUrl","placeholder","URL \u043A\u0430\u0440\u0442\u0438\u043D\u043A\u0438 \u0442\u043E\u0432\u0430\u0440\u0443","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","productPrice"],["id","productPrice","type","number","name","productPrice","placeholder","\u0426\u0456\u043D\u0430","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","productCategory"],["id","productCategory","name","productCategory","required","",1,"form-control",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["type","submit",1,"btn","btn-success",3,"disabled"],[3,"value"],["for","editProductName"],["id","editProductName","name","editProductName","placeholder","\u041D\u0430\u0437\u0432\u0430 \u0442\u043E\u0432\u0430\u0440\u0443","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","editProductDescription"],["id","editProductDescription","name","editProductDescription","placeholder","\u041E\u043F\u0438\u0441 \u0442\u043E\u0432\u0430\u0440\u0443","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","editProductImageUrl"],["id","editProductImageUrl","name","editProductImageUrl","placeholder","URL \u043A\u0430\u0440\u0442\u0438\u043D\u043A\u0438 \u0442\u043E\u0432\u0430\u0440\u0443","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","editProductPrice"],["id","editProductPrice","type","number","name","editProductPrice","placeholder","\u0426\u0456\u043D\u0430","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","editProductCategory"],["id","editProductCategory","name","editProductCategory","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"product-item"],[3,"src","alt"],[1,"btn","btn-warning",3,"click"],[1,"btn","btn-danger",3,"click"],[1,"modal"],[1,"modal-content"],[1,"btn","btn-secondary",3,"click"]],template:function(i,o){i&1&&(b(0,"div",0)(1,"div",1)(2,"button",2),z("click",function(){return o.filterByCategory("all")}),R(3,"\u0423\u0441\u0456"),A(),b(4,"button",2),z("click",function(){return o.filterByCategory("\u041B\u0456\u0445\u0442\u0430\u0440\u0438\u043A\u0438")}),R(5,"\u041B\u0456\u0445\u0442\u0430\u0440\u0438\u043A\u0438"),A(),b(6,"button",2),z("click",function(){return o.filterByCategory("\u0420\u043E\u0437\u0443\u043C\u043D\u0456 \u0413\u043E\u0434\u0438\u043D\u043D\u0438\u043A\u0438")}),R(7,"\u0420\u043E\u0437\u0443\u043C\u043D\u0456 \u0413\u043E\u0434\u0438\u043D\u043D\u0438\u043A\u0438"),A(),b(8,"button",2),z("click",function(){return o.filterByCategory("\u041D\u0430\u0432\u0443\u0448\u043D\u0438\u043A\u0438")}),R(9,"\u041D\u0430\u0432\u0443\u0448\u043D\u0438\u043A\u0438"),A(),b(10,"button",2),z("click",function(){return o.filterByCategory("\u0422\u0443\u0440\u0438\u0441\u0442\u0438\u0447\u043D\u0456 \u041A\u0430\u043C\u0435\u0440\u0438")}),R(11,"\u0422\u0443\u0440\u0438\u0441\u0442\u0438\u0447\u043D\u0456 \u041A\u0430\u043C\u0435\u0440\u0438"),A(),b(12,"button",2),z("click",function(){return o.filterByCategory("\u041D\u0430\u043C\u0435\u0442\u0438")}),R(13,"\u041D\u0430\u043C\u0435\u0442\u0438"),A()(),qe(14,Eq,27,7,"div",3)(15,Cq,29,7,"div",3),b(16,"div",4),qe(17,bq,18,6,"div",5),A()(),qe(18,Dq,10,0,"div",6)),i&2&&(V(14),de("ngIf",!o.showEditForm),V(),de("ngIf",o.showEditForm),V(2),de("ngForOf",o.filteredProducts),V(),de("ngIf",o.showModal))},dependencies:[Dt,Ii,Ci,fr,Ca,Hf,zf,wn,jw,ba,hr,Ia,Bo,Vn,Uo],styles:[".container[_ngcontent-%COMP%]{position:relative;max-width:1200px;margin:0 auto;padding:20px;display:flex;flex-wrap:wrap;gap:20px}.filter-container[_ngcontent-%COMP%]{position:absolute;top:10px;right:20px;display:flex;flex-wrap:wrap;gap:10px}.filter-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:8px 16px;font-size:.9rem}.product-list[_ngcontent-%COMP%]{flex:2;display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;margin-top:60px}.product-form[_ngcontent-%COMP%]{flex:1;max-width:300px}.product-form[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;color:#333}.product-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:15px}.product-form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:5px;display:block;font-size:.9rem}.product-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .product-form[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .product-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px;border-radius:5px;border:1px solid #ccc;box-sizing:border-box}.product-item[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:5px;background:#f9f9f9;padding:15px;box-shadow:0 2px 5px #0000001a;text-align:left;font-family:Roboto,sans-serif}.product-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:150px;object-fit:cover;border-radius:5px;margin-bottom:10px}.product-item[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.2rem;color:#444}.product-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;color:#666}.product-item[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin-top:10px;padding:8px 16px;font-size:.8rem}.btn[_ngcontent-%COMP%]{padding:10px 20px;width:auto}.btn-success[_ngcontent-%COMP%]{background-color:#5cb85c;border-color:#5cb85c}.btn-success[_ngcontent-%COMP%]:hover{background-color:#218838;border-color:#1e7e34}.btn-danger[_ngcontent-%COMP%]{background-color:#d9534f;border-color:#d9534f}.btn-danger[_ngcontent-%COMP%]:hover{background-color:#c82333;border-color:#bd2130}.btn-warning[_ngcontent-%COMP%]{background-color:#f0ad4e;border-color:#f0ad4e}.btn-warning[_ngcontent-%COMP%]:hover{background-color:#ec971f;border-color:#d58512}.modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;align-items:center;justify-content:center}.modal-content[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:5px;box-shadow:0 0 10px #0000001a;text-align:center;width:300px;animation:_ngcontent-%COMP%_zoomIn .3s ease-in}.modal-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-top:0}.modal-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:10px}@keyframes _ngcontent-%COMP%_zoomIn{0%{transform:scale(.7);opacity:0}to{transform:scale(1);opacity:1}}@media (max-width: 768px){.container[_ngcontent-%COMP%]{flex-direction:column;padding:10px}.filter-container[_ngcontent-%COMP%]{position:static;justify-content:center;margin-top:20px}.product-list[_ngcontent-%COMP%]{margin-top:0}.product-form[_ngcontent-%COMP%]{max-width:100%}.product-item[_ngcontent-%COMP%]{text-align:center}.modal-content[_ngcontent-%COMP%]{width:90%}}@media (max-width: 768px) and (orientation: landscape){.container[_ngcontent-%COMP%]{padding:5px}.filter-container[_ngcontent-%COMP%]{gap:5px;margin-top:20px}.product-item[_ngcontent-%COMP%]{flex-direction:row;align-items:center;text-align:left}.product-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px;margin-right:10px}.btn[_ngcontent-%COMP%]{font-size:.8rem;padding:5px 10px}}@media (min-width: 769px) and (max-width: 1024px){.container[_ngcontent-%COMP%]{padding:15px}.modal-content[_ngcontent-%COMP%]{width:80%}}@media (min-width: 1025px) and (max-width: 1920px){.container[_ngcontent-%COMP%]{padding:20px}.modal-content[_ngcontent-%COMP%]{width:50%}}@media (min-width: 1921px){.container[_ngcontent-%COMP%]{max-width:1600px;padding:20px}.modal-content[_ngcontent-%COMP%]{width:40%}}"]});let t=e;return t})();var FP=(()=>{let e=class e{constructor(){this.firstDigit="4",this.secondDigit="0",this.thirdDigit="4"}randomNum(){return Math.floor(Math.random()*9)+1}ngOnInit(){let r=0,i=30,o=setInterval(()=>{r>40?(clearInterval(o),this.thirdDigit="4"):(this.thirdDigit=this.randomNum().toString(),r++)},i),s=setInterval(()=>{r>80?(clearInterval(s),this.secondDigit="0"):(this.secondDigit=this.randomNum().toString(),r++)},i),a=setInterval(()=>{r>100?(clearInterval(a),this.firstDigit="4"):(this.firstDigit=this.randomNum().toString(),r++)},i)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Je({type:e,selectors:[["app-not-found"]],standalone:!0,features:[Ze],decls:22,vars:3,consts:[[1,"error","d-flex","justify-content-center","align-items-center","vh-50","bg-light"],[1,"container","text-center"],[1,"container-error-404"],[1,"clip"],[1,"shadow"],[1,"digit","thirdDigit"],[1,"digit","secondDigit"],[1,"digit","firstDigit"],[1,"msg"],[1,"triangle"],[1,"h1"],["routerLink","/",1,"btn","btn-primary"]],template:function(i,o){i&1&&(b(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"span",5),R(6),A()()(),b(7,"div",3)(8,"div",4)(9,"span",6),R(10),A()()(),b(11,"div",3)(12,"div",4)(13,"span",7),R(14),A()()(),b(15,"div",8),R(16,"OH!"),ce(17,"span",9),A()(),b(18,"h2",10),R(19,"\u0412\u0438\u0431\u0430\u0447\u0442\u0435! \u0421\u0442\u043E\u0440\u0456\u043D\u043A\u0430 \u043D\u0435 \u0437\u043D\u0430\u0439\u0434\u0435\u043D\u0430."),A(),b(20,"a",11),R(21,"\u041F\u0435\u0440\u0435\u0439\u0442\u0438 \u043D\u0430 \u0433\u043E\u043B\u043E\u0432\u043D\u0443"),A()()()),i&2&&(V(6),Le(o.thirdDigit),V(4),Le(o.secondDigit),V(4),Le(o.firstDigit))},dependencies:[Dt,js,Vs],styles:['*[_ngcontent-%COMP%]{font-family:PT Sans Caption,sans-serif,arial,Times New Roman;box-sizing:border-box}.error[_ngcontent-%COMP%]{background-color:#f8f9fa}.error[_ngcontent-%COMP%]   .container-error-404[_ngcontent-%COMP%]{position:relative;height:250px;padding-top:40px;text-align:center}.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]{display:inline-block;transform:skew(-45deg)}.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]   .shadow[_ngcontent-%COMP%]{height:180px;overflow:hidden}.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]:nth-of-type(2)   .shadow[_ngcontent-%COMP%]{width:130px;position:relative;box-shadow:inset 20px 0 20px -15px #969696cc,20px 0 20px -15px #969696cc}.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]:nth-of-type(3)   .shadow[_ngcontent-%COMP%]:after, .error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]:nth-of-type(1)   .shadow[_ngcontent-%COMP%]:after{content:"";position:absolute;right:-8px;bottom:0;z-index:9999;height:100%;width:10px;background:linear-gradient(90deg,transparent,rgba(173,173,173,.8),transparent);border-radius:50%}.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]:nth-of-type(3)   .shadow[_ngcontent-%COMP%]:after{left:-8px}.error[_ngcontent-%COMP%]   .digit[_ngcontent-%COMP%]{width:150px;height:150px;line-height:150px;font-size:120px;font-weight:700;color:#fff;background:#07b3f9;border-radius:50%;display:inline-block;transform:skew(45deg)}.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]:nth-of-type(2)   .digit[_ngcontent-%COMP%]{left:-10%}.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]:nth-of-type(1)   .digit[_ngcontent-%COMP%]{right:-20%}.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]:nth-of-type(3)   .digit[_ngcontent-%COMP%]{left:-20%}.error[_ngcontent-%COMP%]   .msg[_ngcontent-%COMP%]{position:relative;z-index:9999;background:#535353;color:#a2a2a2;border-radius:50%;font-style:italic;display:block;width:80px;height:80px;line-height:80px;font-size:32px;top:-190px;left:30%}.error[_ngcontent-%COMP%]   span.triangle[_ngcontent-%COMP%]{position:absolute;z-index:999;transform:rotate(45deg);content:"";width:0;height:0;border-left:20px solid #535353;border-top:15px solid transparent;border-bottom:15px solid transparent;top:70%;right:0}.error[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#a2a2a2;font-weight:700;padding-bottom:20px;font-size:32px}.error[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;font-weight:700}.error[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}@media (max-width: 767px){.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]   .shadow[_ngcontent-%COMP%]{height:100px}.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]:nth-of-type(2)   .shadow[_ngcontent-%COMP%]{width:80px}.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]:nth-of-type(1)   .shadow[_ngcontent-%COMP%], .error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]:nth-of-type(3)   .shadow[_ngcontent-%COMP%]{width:100px}.error[_ngcontent-%COMP%]   .digit[_ngcontent-%COMP%]{width:80px;height:80px;line-height:80px;font-size:52px}.error[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px}.error[_ngcontent-%COMP%]   .msg[_ngcontent-%COMP%]{top:-110px;left:15%;width:40px;height:40px;line-height:40px;font-size:18px}.error[_ngcontent-%COMP%]   span.triangle[_ngcontent-%COMP%]{border-left:10px solid #535353;border-top:8px solid transparent;border-bottom:8px solid transparent}.error[_ngcontent-%COMP%]   .container-error-404[_ngcontent-%COMP%]{height:150px}}']});let t=e;return t})();function Tq(t,e){if(t&1&&(b(0,"p",10),R(1),A()),t&2){let n=ie();V(),Le(n.errorMessage)}}var VP=(()=>{let e=class e{constructor(r){this.router=r,this.username="",this.password="",this.errorMessage=""}login(){this.username==="admin"&&this.password==="Uthjtdlytghf73"?this.router.navigate(["/admin"]):this.errorMessage="\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u043B\u043E\u0433\u0456\u043D \u0430\u0431\u043E \u043F\u0430\u0440\u043E\u043B\u044C"}};e.\u0275fac=function(i){return new(i||e)(B(_t))},e.\u0275cmp=Je({type:e,selectors:[["app-admin-login"]],standalone:!0,features:[Ze],decls:14,vars:3,consts:[[1,"login-container"],[1,"login-form",3,"ngSubmit"],["src","./icons/logo.png","alt","Logo",1,"logo"],[1,"form-group"],["for","username"],["id","username","name","username","placeholder","\u041B\u043E\u0433\u0456\u043D","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","password"],["id","password","type","password","name","password","placeholder","\u041F\u0430\u0440\u043E\u043B\u044C","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-success"],["class","text-danger",4,"ngIf"],[1,"text-danger"]],template:function(i,o){i&1&&(b(0,"div",0)(1,"form",1),z("ngSubmit",function(){return o.login()}),ce(2,"img",2),b(3,"div",3)(4,"label",4),R(5,"\u041B\u043E\u0433\u0456\u043D"),A(),b(6,"input",5),Ue("ngModelChange",function(a){return He(o.username,a)||(o.username=a),a}),A()(),b(7,"div",3)(8,"label",6),R(9,"\u041F\u0430\u0440\u043E\u043B\u044C"),A(),b(10,"input",7),Ue("ngModelChange",function(a){return He(o.password,a)||(o.password=a),a}),A()(),b(11,"button",8),R(12,"\u0412\u0445\u0456\u0434"),A(),qe(13,Tq,2,1,"p",9),A()()),i&2&&(V(6),je("ngModel",o.username),V(4),je("ngModel",o.password),V(3),de("ngIf",o.errorMessage))},dependencies:[Dt,Ci,fr,Ca,wn,hr,Ia,Bo,Vn,Uo],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:70vh;background-color:#f8f9fa}.login-form[_ngcontent-%COMP%]{background:#fff;padding:2rem;border-radius:8px;box-shadow:0 0 10px #0000001a;text-align:center}.logo[_ngcontent-%COMP%]{max-width:100px;margin-bottom:1rem}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.btn-success[_ngcontent-%COMP%]{background-color:#28a745;border-color:#28a745}.btn-success[_ngcontent-%COMP%]:hover{background-color:#218838;border-color:#1e7e34}"]});let t=e;return t})();var LP=[{path:"",component:xP},{path:"header",component:Af},{path:"cart",component:RP},{path:"product/:id",component:NP},{path:"admin-login",component:VP},{path:"admin",component:kP},{path:"**",component:FP}];var Bw={production:!1,firebase:{apiKey:"AIzaSyCDXEjp5yiLttF-2eUZKNHH6z3Y755yws8",authDomain:"hiking-equipment-store.firebaseapp.com",databaseURL:"https://hiking-equipment-store-default-rtdb.europe-west1.firebasedatabase.app",projectId:"hiking-equipment-store",storageBucket:"hiking-equipment-store.appspot.com",messagingSenderId:"553591568312",appId:"1:553591568312:web:c4e43771d9e053d6d6814d",measurementId:"G-C3M4EFX3LH",firestore:{rules_version:"2"}},appCheck:{recaptchaSiteKey:"6LeykZMqAAAAAFddpBQyGNnkKElOUDDIMdroXsYV"}};yT(iP,{providers:[aS(LP),ly(),RA(()=>NA()),BS(()=>$S(Bw.firebase)),Ax(()=>Rx()),tP(()=>rP(void 0,{provider:new Rf(Bw.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}).catch(t=>console.error(t));
