var bR=Object.defineProperty,DR=Object.defineProperties;var TR=Object.getOwnPropertyDescriptors;var qE=Object.getOwnPropertySymbols,SR=Object.getPrototypeOf,AR=Object.prototype.hasOwnProperty,MR=Object.prototype.propertyIsEnumerable,xR=Reflect.get;var GE=(t,e,n)=>e in t?bR(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,j=(t,e)=>{for(var n in e||={})AR.call(e,n)&&GE(t,n,e[n]);if(qE)for(var n of qE(e))MR.call(e,n)&&GE(t,n,e[n]);return t},ye=(t,e)=>DR(t,TR(e));var ii=(t,e,n)=>xR(SR(t),n,e);var E=(t,e,n)=>new Promise((r,i)=>{var o=u=>{try{a(n.next(u))}catch(l){i(l)}},s=u=>{try{a(n.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((n=n.apply(t,e)).next())});var _p=null;var vp=1,wp=Symbol("SIGNAL");function Ae(t){let e=_p;return _p=t,e}function WE(){return _p}var Ep={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function PR(t){if(!(Tp(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===vp)){if(!t.producerMustRecompute(t)&&!Cp(t)){t.dirty=!1,t.lastCleanEpoch=vp;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=vp}}function Ip(t){return t&&(t.nextProducerIndex=0),Ae(t)}function KE(t,e){if(Ae(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Tp(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Dp(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Cp(t){Sp(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(PR(n),r!==n.version))return!0}return!1}function bp(t){if(Sp(t),Tp(t))for(let e=0;e<t.producerNode.length;e++)Dp(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Dp(t,e){if(RR(t),t.liveConsumerNode.length===1&&NR(t))for(let r=0;r<t.producerNode.length;r++)Dp(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Sp(i),i.producerIndexOfThis[r]=e}}function Tp(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Sp(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function RR(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function NR(t){return t.producerNode!==void 0}function OR(){throw new Error}var kR=OR;function QE(t){kR=t}function de(t){return typeof t=="function"}function Wo(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Ju=Wo(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Ji(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Qe=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(de(r))try{r()}catch(o){e=o instanceof Ju?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{YE(o)}catch(s){e=e??[],s instanceof Ju?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Ju(e)}}add(e){var n;if(e&&e!==this)if(this.closed)YE(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Ji(n,e)}remove(e){let{_finalizers:n}=this;n&&Ji(n,e),e instanceof t&&e._removeParent(this)}};Qe.EMPTY=(()=>{let t=new Qe;return t.closed=!0,t})();var Ap=Qe.EMPTY;function Zu(t){return t instanceof Qe||t&&"closed"in t&&de(t.remove)&&de(t.add)&&de(t.unsubscribe)}function YE(t){de(t)?t():t.unsubscribe()}var In={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Ko={setTimeout(t,e,...n){let{delegate:r}=Ko;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Ko;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Xu(t){Ko.setTimeout(()=>{let{onUnhandledError:e}=In;if(e)e(t);else throw t})}function Ka(){}var JE=Mp("C",void 0,void 0);function ZE(t){return Mp("E",void 0,t)}function XE(t){return Mp("N",t,void 0)}function Mp(t,e,n){return{kind:t,value:e,error:n}}var Zi=null;function Qo(t){if(In.useDeprecatedSynchronousErrorHandling){let e=!Zi;if(e&&(Zi={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Zi;if(Zi=null,n)throw r}}else t()}function eI(t){In.useDeprecatedSynchronousErrorHandling&&Zi&&(Zi.errorThrown=!0,Zi.error=t)}var Xi=class extends Qe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Zu(e)&&e.add(this)):this.destination=LR}static create(e,n,r){return new Yo(e,n,r)}next(e){this.isStopped?Pp(XE(e),this):this._next(e)}error(e){this.isStopped?Pp(ZE(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Pp(JE,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},FR=Function.prototype.bind;function xp(t,e){return FR.call(t,e)}var Rp=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){el(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){el(r)}else el(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){el(n)}}},Yo=class extends Xi{constructor(e,n,r){super();let i;if(de(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&In.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&xp(e.next,o),error:e.error&&xp(e.error,o),complete:e.complete&&xp(e.complete,o)}):i=e}this.destination=new Rp(i)}};function el(t){In.useDeprecatedSynchronousErrorHandling?eI(t):Xu(t)}function VR(t){throw t}function Pp(t,e){let{onStoppedNotification:n}=In;n&&Ko.setTimeout(()=>n(t,e))}var LR={closed:!0,next:Ka,error:VR,complete:Ka};var Jo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Xt(t){return t}function tl(...t){return Np(t)}function Np(t){return t.length===0?Xt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var pe=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=UR(n)?n:new Yo(n,r,i);return Qo(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=tI(r),new r((i,o)=>{let s=new Yo({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Jo](){return this}pipe(...n){return Np(n)(this)}toPromise(n){return n=tI(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function tI(t){var e;return(e=t??In.Promise)!==null&&e!==void 0?e:Promise}function jR(t){return t&&de(t.next)&&de(t.error)&&de(t.complete)}function UR(t){return t&&t instanceof Xi||jR(t)&&Zu(t)}function Op(t){return de(t?.lift)}function Ce(t){return e=>{if(Op(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function _e(t,e,n,r,i){return new kp(t,e,n,r,i)}var kp=class extends Xi{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Zo(){return Ce((t,e)=>{let n=null;t._refCount++;let r=_e(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Xo=class extends pe{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Op(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Qe;let n=this.getSubject();e.add(this.source.subscribe(_e(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Qe.EMPTY)}return e}refCount(){return Zo()(this)}};var nI=Wo(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var vt=(()=>{class t extends pe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new nl(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new nI}next(n){Qo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Qo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Qo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Ap:(this.currentObservers=null,o.push(n),new Qe(()=>{this.currentObservers=null,Ji(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new pe;return n.source=this,n}}return t.create=(e,n)=>new nl(e,n),t})(),nl=class extends vt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Ap}};var dt=class extends vt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Fp={now(){return(Fp.delegate||Date).now()},delegate:void 0};var rl=class extends Qe{constructor(e,n){super()}schedule(e,n=0){return this}};var Qa={setInterval(t,e,...n){let{delegate:r}=Qa;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Qa;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var es=class extends rl{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return Qa.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Qa.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Ji(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var ts=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};ts.now=Fp.now;var ns=class extends ts{constructor(e,n=ts.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var rs=new ns(es),Vp=rs;var il=class extends es{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var ol=class extends ns{};var Lp=new ol(il);var en=new pe(t=>t.complete());function sl(t){return t&&de(t.schedule)}function rI(t){return t[t.length-1]}function al(t){return de(rI(t))?t.pop():void 0}function oi(t){return sl(rI(t))?t.pop():void 0}function jp(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function oI(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function iI(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function eo(t){return this instanceof eo?(this.v=t,this):new eo(t)}function sI(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i={},a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(A){return Promise.resolve(A).then(y,p)}}function a(y,A){r[y]&&(i[y]=function(N){return new Promise(function(x,V){o.push([y,N,x,V])>1||u(y,N)})},A&&(i[y]=A(i[y])))}function u(y,A){try{l(r[y](A))}catch(N){m(o[0][3],N)}}function l(y){y.value instanceof eo?Promise.resolve(y.value.v).then(h,p):m(o[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function m(y,A){y(A),o.shift(),o.length&&u(o[0][0],o[0][1])}}function aI(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof iI=="function"?iI(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var cl=t=>t&&typeof t.length=="number"&&typeof t!="function";function ul(t){return de(t?.then)}function ll(t){return de(t[Jo])}function dl(t){return Symbol.asyncIterator&&de(t?.[Symbol.asyncIterator])}function hl(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function BR(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var fl=BR();function pl(t){return de(t?.[fl])}function gl(t){return sI(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield eo(n.read());if(i)return yield eo(void 0);yield yield eo(r)}}finally{n.releaseLock()}})}function ml(t){return de(t?.getReader)}function rt(t){if(t instanceof pe)return t;if(t!=null){if(ll(t))return $R(t);if(cl(t))return HR(t);if(ul(t))return zR(t);if(dl(t))return cI(t);if(pl(t))return qR(t);if(ml(t))return GR(t)}throw hl(t)}function $R(t){return new pe(e=>{let n=t[Jo]();if(de(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function HR(t){return new pe(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function zR(t){return new pe(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Xu)})}function qR(t){return new pe(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function cI(t){return new pe(e=>{WR(t,e).catch(n=>e.error(n))})}function GR(t){return cI(gl(t))}function WR(t,e){var n,r,i,o;return oI(this,void 0,void 0,function*(){try{for(n=aI(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function Wt(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function si(t,e=0){return Ce((n,r)=>{n.subscribe(_e(r,i=>Wt(r,t,()=>r.next(i),e),()=>Wt(r,t,()=>r.complete(),e),i=>Wt(r,t,()=>r.error(i),e)))})}function ai(t,e=0){return Ce((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function uI(t,e){return rt(t).pipe(ai(e),si(e))}function lI(t,e){return rt(t).pipe(ai(e),si(e))}function dI(t,e){return new pe(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function hI(t,e){return new pe(n=>{let r;return Wt(n,e,()=>{r=t[fl](),Wt(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>de(r?.return)&&r.return()})}function yl(t,e){if(!t)throw new Error("Iterable cannot be null");return new pe(n=>{Wt(n,e,()=>{let r=t[Symbol.asyncIterator]();Wt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function fI(t,e){return yl(gl(t),e)}function pI(t,e){if(t!=null){if(ll(t))return uI(t,e);if(cl(t))return dI(t,e);if(ul(t))return lI(t,e);if(dl(t))return yl(t,e);if(pl(t))return hI(t,e);if(ml(t))return fI(t,e)}throw hl(t)}function Ve(t,e){return e?pI(t,e):rt(t)}function ee(...t){let e=oi(t);return Ve(t,e)}function is(t,e){let n=de(t)?t:()=>t,r=i=>i.error(n());return new pe(e?i=>e.schedule(r,0,i):r)}function Up(t){return!!t&&(t instanceof pe||de(t.lift)&&de(t.subscribe))}var _r=Wo(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function gI(t){return t instanceof Date&&!isNaN(t)}function ne(t,e){return Ce((n,r)=>{let i=0;n.subscribe(_e(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:KR}=Array;function QR(t,e){return KR(e)?t(...e):t(e)}function vl(t){return ne(e=>QR(t,e))}var{isArray:YR}=Array,{getPrototypeOf:JR,prototype:ZR,keys:XR}=Object;function _l(t){if(t.length===1){let e=t[0];if(YR(e))return{args:e,keys:null};if(eN(e)){let n=XR(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function eN(t){return t&&typeof t=="object"&&JR(t)===ZR}function wl(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Ya(...t){let e=oi(t),n=al(t),{args:r,keys:i}=_l(t);if(r.length===0)return Ve([],e);let o=new pe(tN(r,e,i?s=>wl(i,s):Xt));return n?o.pipe(vl(n)):o}function tN(t,e,n=Xt){return r=>{mI(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)mI(e,()=>{let l=Ve(t[u],e),h=!1;l.subscribe(_e(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function mI(t,e,n){t?Wt(n,t,e):e()}function yI(t,e,n,r,i,o,s,a){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},y=N=>l<r?A(N):u.push(N),A=N=>{o&&e.next(N),l++;let x=!1;rt(n(N,h++)).subscribe(_e(e,V=>{i?.(V),o?y(V):e.next(V)},()=>{x=!0},void 0,()=>{if(x)try{for(l--;u.length&&l<r;){let V=u.shift();s?Wt(e,s,()=>A(V)):A(V)}m()}catch(V){e.error(V)}}))};return t.subscribe(_e(e,y,()=>{p=!0,m()})),()=>{a?.()}}function it(t,e,n=1/0){return de(e)?it((r,i)=>ne((o,s)=>e(r,o,i,s))(rt(t(r,i))),n):(typeof e=="number"&&(n=e),Ce((r,i)=>yI(r,i,t,n)))}function ci(t=1/0){return it(Xt,t)}function vI(){return ci(1)}function os(...t){return vI()(Ve(t,oi(t)))}function El(t){return new pe(e=>{rt(t()).subscribe(e)})}function Bp(...t){let e=al(t),{args:n,keys:r}=_l(t),i=new pe(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;rt(n[h]).subscribe(_e(o,m=>{p||(p=!0,l--),a[h]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?wl(r,a):a),o.complete())}))}});return e?i.pipe(vl(e)):i}function _I(t=0,e,n=Vp){let r=-1;return e!=null&&(sl(e)?n=e:r=e),new pe(i=>{let o=gI(t)?+t-n.now():t;o<0&&(o=0);let s=0;return n.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function $p(t=0,e=rs){return t<0&&(t=0),_I(t,t,e)}function Bt(t,e){return Ce((n,r)=>{let i=0;n.subscribe(_e(r,o=>t.call(e,o,i++)&&r.next(o)))})}function ui(t){return Ce((e,n)=>{let r=null,i=!1,o;r=e.subscribe(_e(n,void 0,void 0,s=>{o=rt(t(s,ui(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function wI(t,e,n,r,i){return(o,s)=>{let a=n,u=e,l=0;o.subscribe(_e(s,h=>{let p=l++;u=a?t(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function wr(t,e){return de(e)?it(t,e,1):it(t,1)}function li(t){return Ce((e,n)=>{let r=!1;e.subscribe(_e(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Er(t){return t<=0?()=>en:Ce((e,n)=>{let r=0;e.subscribe(_e(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Hp(t){return ne(()=>t)}function Il(t=nN){return Ce((e,n)=>{let r=!1;e.subscribe(_e(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function nN(){return new _r}function di(t){return Ce((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function jn(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Bt((i,o)=>t(i,o,r)):Xt,Er(1),n?li(e):Il(()=>new _r))}function ss(t){return t<=0?()=>en:Ce((e,n)=>{let r=[];e.subscribe(_e(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function zp(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Bt((i,o)=>t(i,o,r)):Xt,ss(1),n?li(e):Il(()=>new _r))}function Cl(t,e){return Ce(wI(t,e,arguments.length>=2,!0))}function bl(...t){let e=oi(t);return Ce((n,r)=>{(e?os(t,n,e):os(t,n)).subscribe(r)})}function Kt(t,e){return Ce((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(_e(r,u=>{i?.unsubscribe();let l=0,h=o++;rt(t(u,h)).subscribe(i=_e(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function qp(t){return Ce((e,n)=>{rt(t).subscribe(_e(n,()=>n.complete(),Ka)),!n.closed&&e.subscribe(n)})}function ot(t,e,n){let r=de(t)||e||n?{next:t,error:e,complete:n}:t;return r?Ce((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(_e(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Xt}var aC="https://g.co/ng/security#xss",K=class extends Error{constructor(e,n){super(id(e,n)),this.code=e}};function id(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function oc(t){return{toString:t}.toString()}var Dl="__parameters__";function rN(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function cC(t,e,n){return oc(()=>{let r=rN(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(Dl)?u[Dl]:Object.defineProperty(u,Dl,{value:[]})[Dl];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Ir=globalThis;function Le(t){for(let e in t)if(t[e]===Le)return e;throw Error("Could not find renamed property on target object.")}function iN(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Ht(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Ht).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function EI(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var oN=Le({__forward_ref__:Le});function Tn(t){return t.__forward_ref__=Tn,t.toString=function(){return Ht(this())},t}function $t(t){return uC(t)?t():t}function uC(t){return typeof t=="function"&&t.hasOwnProperty(oN)&&t.__forward_ref__===Tn}function z(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Wn(t){return{providers:t.providers||[],imports:t.imports||[]}}function od(t){return II(t,dC)||II(t,hC)}function lC(t){return od(t)!==null}function II(t,e){return t.hasOwnProperty(e)?t[e]:null}function sN(t){let e=t&&(t[dC]||t[hC]);return e||null}function CI(t){return t&&(t.hasOwnProperty(bI)||t.hasOwnProperty(aN))?t[bI]:null}var dC=Le({\u0275prov:Le}),bI=Le({\u0275inj:Le}),hC=Le({ngInjectableDef:Le}),aN=Le({ngInjectorDef:Le}),H=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=z({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function fC(t){return t&&!!t.\u0275providers}var cN=Le({\u0275cmp:Le}),uN=Le({\u0275dir:Le}),lN=Le({\u0275pipe:Le}),dN=Le({\u0275mod:Le}),kl=Le({\u0275fac:Le}),Ja=Le({__NG_ELEMENT_ID__:Le}),DI=Le({__NG_ENV_ID__:Le});function hs(t){return typeof t=="string"?t:t==null?"":String(t)}function hN(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():hs(t)}function fN(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new K(-200,t)}function tm(t,e){throw new K(-201,!1)}var ve=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ve||{}),ag;function pC(){return ag}function Qt(t){let e=ag;return ag=t,e}function gC(t,e,n){let r=od(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&ve.Optional)return null;if(e!==void 0)return e;tm(t,"Injector")}var pN={},Za=pN,cg="__NG_DI_FLAG__",Fl="ngTempTokenPath",gN="ngTokenPath",mN=/\n/gm,yN="\u0275",TI="__source",ls;function vN(){return ls}function hi(t){let e=ls;return ls=t,e}function _N(t,e=ve.Default){if(ls===void 0)throw new K(-203,!1);return ls===null?gC(t,void 0,e):ls.get(t,e&ve.Optional?null:void 0,e)}function W(t,e=ve.Default){return(pC()||_N)($t(t),e)}function k(t,e=ve.Default){return W(t,sd(e))}function sd(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function ug(t){let e=[];for(let n=0;n<t.length;n++){let r=$t(t[n]);if(Array.isArray(r)){if(r.length===0)throw new K(900,!1);let i,o=ve.Default;for(let s=0;s<r.length;s++){let a=r[s],u=wN(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(W(i,o))}else e.push(W(r))}return e}function mC(t,e){return t[cg]=e,t.prototype[cg]=e,t}function wN(t){return t[cg]}function EN(t,e,n,r){let i=t[Fl];throw e[TI]&&i.unshift(e[TI]),t.message=IN(`
`+t.message,i,n,r),t[gN]=i,t[Fl]=null,t}function IN(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==yN?t.slice(2):t;let i=Ht(e);if(Array.isArray(e))i=e.map(Ht).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Ht(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(mN,`
  `)}`}var ft=mC(cC("Optional"),8);var nm=mC(cC("SkipSelf"),4);function io(t,e){let n=t.hasOwnProperty(kl);return n?t[kl]:null}function CN(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function bN(t){return t.flat(Number.POSITIVE_INFINITY)}function rm(t,e){t.forEach(n=>Array.isArray(n)?rm(n,e):e(n))}function yC(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Vl(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function DN(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function TN(t,e,n){let r=sc(t,e);return r>=0?t[r|1]=n:(r=~r,DN(t,r,e,n)),r}function Gp(t,e){let n=sc(t,e);if(n>=0)return t[n|1]}function sc(t,e){return SN(t,e,1)}function SN(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var fs={},hn=[],ps=new H(""),vC=new H("",-1),_C=new H(""),Ll=class{get(e,n=Za){if(n===Za){let r=new Error(`NullInjectorError: No provider for ${Ht(e)}!`);throw r.name="NullInjectorError",r}return n}},wC=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(wC||{}),$n=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}($n||{}),gs=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(gs||{});function AN(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function lg(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];MN(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function EC(t){return t===3||t===4||t===6}function MN(t){return t.charCodeAt(0)===64}function Xa(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?SI(t,n,i,null,e[++r]):SI(t,n,i,null,null))}}return t}function SI(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var IC="ng-template";function xN(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&AN(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(im(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function im(t){return t.type===4&&t.value!==IC}function PN(t,e,n){let r=t.type===4&&!n?IC:t.value;return e===r}function RN(t,e,n){let r=4,i=t.attrs,o=i!==null?kN(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!Cn(r)&&!Cn(u))return!1;if(s&&Cn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!PN(t,u,n)||u===""&&e.length===1){if(Cn(r))return!1;s=!0}}else if(r&8){if(i===null||!xN(t,i,u,n)){if(Cn(r))return!1;s=!0}}else{let l=e[++a],h=NN(u,i,im(t),n);if(h===-1){if(Cn(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(Cn(r))return!1;s=!0}}}}return Cn(r)||s}function Cn(t){return(t&1)===0}function NN(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return FN(e,t)}function ON(t,e,n=!1){for(let r=0;r<e.length;r++)if(RN(t,e[r],n))return!0;return!1}function kN(t){for(let e=0;e<t.length;e++){let n=t[e];if(EC(n))return e}return t.length}function FN(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function AI(t,e){return t?":not("+e.trim()+")":e}function VN(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Cn(s)&&(e+=AI(o,i),i=""),r=s,o=o||!Cn(r);n++}return i!==""&&(e+=AI(o,i)),e}function LN(t){return t.map(VN).join(",")}function jN(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!Cn(i))break;i=o}r++}return{attrs:e,classes:n}}function Je(t){return oc(()=>{let e=SC(t),n=ye(j({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===wC.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||$n.Emulated,styles:t.styles||hn,_:null,schemas:t.schemas||null,tView:null,id:""});AC(n);let r=t.dependencies;return n.directiveDefs=xI(r,!1),n.pipeDefs=xI(r,!0),n.id=$N(n),n})}function UN(t){return mi(t)||CC(t)}function BN(t){return t!==null}function Kn(t){return oc(()=>({type:t.type,bootstrap:t.bootstrap||hn,declarations:t.declarations||hn,imports:t.imports||hn,exports:t.exports||hn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function MI(t,e){if(t==null)return fs;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=gs.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==gs.None?[r,a]:r,e[o]=s):n[o]=r}return n}function qe(t){return oc(()=>{let e=SC(t);return AC(e),e})}function om(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function mi(t){return t[cN]||null}function CC(t){return t[uN]||null}function bC(t){return t[lN]||null}function DC(t){let e=mi(t)||CC(t)||bC(t);return e!==null?e.standalone:!1}function TC(t,e){let n=t[dN]||null;if(!n&&e===!0)throw new Error(`Type ${Ht(t)} does not have '\u0275mod' property.`);return n}function SC(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||fs,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||hn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:MI(t.inputs,e),outputs:MI(t.outputs),debugInfo:null}}function AC(t){t.features?.forEach(e=>e(t))}function xI(t,e){if(!t)return null;let n=e?bC:UN;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(BN)}function $N(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function nn(t){return{\u0275providers:t}}function HN(...t){return{\u0275providers:MC(!0,t),\u0275fromNgModule:!0}}function MC(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return rm(e,s=>{let a=s;dg(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&xC(i,o),n}function xC(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];sm(i,o=>{e(o,r)})}}function dg(t,e,n,r){if(t=$t(t),!t)return!1;let i=null,o=CI(t),s=!o&&mi(t);if(!o&&!s){let u=t.ngModule;if(o=CI(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)dg(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{rm(o.imports,h=>{dg(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&xC(l,e)}if(!a){let l=io(i)||(()=>new i);e({provide:i,useFactory:l,deps:hn},i),e({provide:_C,useValue:i,multi:!0},i),e({provide:ps,useValue:()=>W(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=t;sm(u,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function sm(t,e){for(let n of t)fC(n)&&(n=n.\u0275providers),Array.isArray(n)?sm(n,e):e(n)}var zN=Le({provide:String,useValue:Le});function PC(t){return t!==null&&typeof t=="object"&&zN in t}function qN(t){return!!(t&&t.useExisting)}function GN(t){return!!(t&&t.useFactory)}function ms(t){return typeof t=="function"}function WN(t){return!!t.useClass}var ad=new H(""),Ml={},KN={},Wp;function am(){return Wp===void 0&&(Wp=new Ll),Wp}var Rt=class{},ec=class extends Rt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,fg(e,s=>this.processProvider(s)),this.records.set(vC,as(void 0,this)),i.has("environment")&&this.records.set(Rt,as(void 0,this));let o=this.records.get(ad);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(_C,hn,ve.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Ae(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ae(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=hi(this),r=Qt(void 0),i;try{return e()}finally{hi(n),Qt(r)}}get(e,n=Za,r=ve.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(DI))return e[DI](this);r=sd(r);let i,o=hi(this),s=Qt(void 0);try{if(!(r&ve.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=XN(e)&&od(e);l&&this.injectableDefInScope(l)?u=as(hg(e),Ml):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&ve.Self?am():this.parent;return n=r&ve.Optional&&n===Za?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Fl]=a[Fl]||[]).unshift(Ht(e)),o)throw a;return EN(a,e,"R3InjectorError",this.source)}else throw a}finally{Qt(s),hi(o)}}resolveInjectorInitializers(){let e=Ae(null),n=hi(this),r=Qt(void 0),i;try{let o=this.get(ps,hn,ve.Self);for(let s of o)s()}finally{hi(n),Qt(r),Ae(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Ht(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new K(205,!1)}processProvider(e){e=$t(e);let n=ms(e)?e:$t(e&&e.provide),r=YN(e);if(!ms(e)&&e.multi===!0){let i=this.records.get(n);i||(i=as(void 0,Ml,!0),i.factory=()=>ug(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=Ae(null);try{return n.value===Ml&&(n.value=KN,n.value=n.factory()),typeof n.value=="object"&&n.value&&ZN(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Ae(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=$t(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function hg(t){let e=od(t),n=e!==null?e.factory:io(t);if(n!==null)return n;if(t instanceof H)throw new K(204,!1);if(t instanceof Function)return QN(t);throw new K(204,!1)}function QN(t){if(t.length>0)throw new K(204,!1);let n=sN(t);return n!==null?()=>n.factory(t):()=>new t}function YN(t){if(PC(t))return as(void 0,t.useValue);{let e=RC(t);return as(e,Ml)}}function RC(t,e,n){let r;if(ms(t)){let i=$t(t);return io(i)||hg(i)}else if(PC(t))r=()=>$t(t.useValue);else if(GN(t))r=()=>t.useFactory(...ug(t.deps||[]));else if(qN(t))r=()=>W($t(t.useExisting));else{let i=$t(t&&(t.useClass||t.provide));if(JN(t))r=()=>new i(...ug(t.deps));else return io(i)||hg(i)}return r}function as(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function JN(t){return!!t.deps}function ZN(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function XN(t){return typeof t=="function"||typeof t=="object"&&t instanceof H}function fg(t,e){for(let n of t)Array.isArray(n)?fg(n,e):n&&fC(n)?fg(n.\u0275providers,e):e(n)}function rn(t,e){t instanceof ec&&t.assertNotDestroyed();let n,r=hi(t),i=Qt(void 0);try{return e()}finally{hi(r),Qt(i)}}function NC(){return pC()!==void 0||vN()!=null}function e1(t){if(!NC())throw new K(-203,!1)}function t1(t){return typeof t=="function"}var Sr=0,ge=1,ae=2,Nt=3,bn=4,Sn=5,jl=6,Ul=7,Dn=8,ys=9,Hn=10,st=11,tc=12,PI=13,bs=14,zn=15,oo=16,cs=17,Cr=18,cd=19,OC=20,pi=21,Kp=22,fn=23,pn=25,kC=1;var so=7,Bl=8,vs=9,tn=10,$l=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}($l||{});function gi(t){return Array.isArray(t)&&typeof t[kC]=="object"}function Ar(t){return Array.isArray(t)&&t[kC]===!0}function FC(t){return(t.flags&4)!==0}function ud(t){return t.componentOffset>-1}function cm(t){return(t.flags&1)===1}function yi(t){return!!t.template}function pg(t){return(t[ae]&512)!==0}var gg=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function VC(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Mr(){return LC}function LC(t){return t.type.prototype.ngOnChanges&&(t.setInput=r1),n1}Mr.ngInherit=!0;function n1(){let t=UC(this),e=t?.current;if(e){let n=t.previous;if(n===fs)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function r1(t,e,n,r,i){let o=this.declaredInputs[r],s=UC(t)||i1(t,{previous:fs,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new gg(l&&l.currentValue,n,u===fs),VC(t,e,i,n)}var jC="__ngSimpleChanges__";function UC(t){return t[jC]||null}function i1(t,e){return t[jC]=e}var RI=null;var Un=function(t,e,n){RI?.(t,e,n)},BC="svg",o1="math";function qn(t){for(;Array.isArray(t);)t=t[Sr];return t}function $C(t,e){return qn(e[t])}function gn(t,e){return qn(e[t.index])}function HC(t,e){return t.data[e]}function um(t,e){return t[e]}function _i(t,e){let n=e[t];return gi(n)?n:n[Sr]}function s1(t){return(t[ae]&4)===4}function lm(t){return(t[ae]&128)===128}function a1(t){return Ar(t[Nt])}function Hl(t,e){return e==null?null:t[e]}function zC(t){t[cs]=0}function qC(t){t[ae]&1024||(t[ae]|=1024,lm(t)&&ld(t))}function c1(t,e){for(;t>0;)e=e[bs],t--;return e}function nc(t){return!!(t[ae]&9216||t[fn]?.dirty)}function mg(t){t[Hn].changeDetectionScheduler?.notify(7),t[ae]&64&&(t[ae]|=1024),nc(t)&&ld(t)}function ld(t){t[Hn].changeDetectionScheduler?.notify(0);let e=ao(t);for(;e!==null&&!(e[ae]&8192||(e[ae]|=8192,!lm(e)));)e=ao(e)}function GC(t,e){if((t[ae]&256)===256)throw new K(911,!1);t[pi]===null&&(t[pi]=[]),t[pi].push(e)}function u1(t,e){if(t[pi]===null)return;let n=t[pi].indexOf(e);n!==-1&&t[pi].splice(n,1)}function ao(t){let e=t[Nt];return Ar(e)?e[Nt]:e}var he={lFrame:nb(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var WC=!1;function l1(){return he.lFrame.elementDepthCount}function d1(){he.lFrame.elementDepthCount++}function h1(){he.lFrame.elementDepthCount--}function KC(){return he.bindingsEnabled}function f1(){return he.skipHydrationRootTNode!==null}function p1(t){return he.skipHydrationRootTNode===t}function g1(){he.skipHydrationRootTNode=null}function Ie(){return he.lFrame.lView}function _t(){return he.lFrame.tView}function J(t){return he.lFrame.contextLView=t,t[Dn]}function Z(t){return he.lFrame.contextLView=null,t}function Ot(){let t=QC();for(;t!==null&&t.type===64;)t=t.parent;return t}function QC(){return he.lFrame.currentTNode}function m1(){let t=he.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function ac(t,e){let n=he.lFrame;n.currentTNode=t,n.isParent=e}function YC(){return he.lFrame.isParent}function y1(){he.lFrame.isParent=!1}function v1(){return he.lFrame.contextLView}function JC(){return WC}function NI(t){WC=t}function dm(){let t=he.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function _1(){return he.lFrame.bindingIndex}function w1(t){return he.lFrame.bindingIndex=t}function dd(){return he.lFrame.bindingIndex++}function ZC(t){let e=he.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function E1(){return he.lFrame.inI18n}function I1(t,e){let n=he.lFrame;n.bindingIndex=n.bindingRootIndex=t,yg(e)}function C1(){return he.lFrame.currentDirectiveIndex}function yg(t){he.lFrame.currentDirectiveIndex=t}function b1(t){let e=he.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function XC(){return he.lFrame.currentQueryIndex}function hm(t){he.lFrame.currentQueryIndex=t}function D1(t){let e=t[ge];return e.type===2?e.declTNode:e.type===1?t[Sn]:null}function eb(t,e,n){if(n&ve.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&ve.Host);)if(i=D1(o),i===null||(o=o[bs],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=he.lFrame=tb();return r.currentTNode=e,r.lView=t,!0}function fm(t){let e=tb(),n=t[ge];he.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function tb(){let t=he.lFrame,e=t===null?null:t.child;return e===null?nb(t):e}function nb(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function rb(){let t=he.lFrame;return he.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var ib=rb;function pm(){let t=rb();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function T1(t){return(he.lFrame.contextLView=c1(t,he.lFrame.contextLView))[Dn]}function mo(){return he.lFrame.selectedIndex}function co(t){he.lFrame.selectedIndex=t}function hd(){let t=he.lFrame;return HC(t.tView,t.selectedIndex)}function fd(){he.lFrame.currentNamespace=BC}function ob(){S1()}function S1(){he.lFrame.currentNamespace=null}function A1(){return he.lFrame.currentNamespace}var sb=!0;function gm(){return sb}function mm(t){sb=t}function M1(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=LC(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function ym(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function xl(t,e,n){ab(t,e,3,n)}function Pl(t,e,n,r){(t[ae]&3)===n&&ab(t,e,n,r)}function Qp(t,e){let n=t[ae];(n&3)===e&&(n&=16383,n+=1,t[ae]=n)}function ab(t,e,n,r){let i=r!==void 0?t[cs]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[cs]+=65536),(a<o||o==-1)&&(x1(t,n,e,u),t[cs]=(t[cs]&4294901760)+u+2),u++}function OI(t,e){Un(4,t,e);let n=Ae(null);try{e.call(t)}finally{Ae(n),Un(5,t,e)}}function x1(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[ae]>>14<t[cs]>>16&&(t[ae]&3)===e&&(t[ae]+=16384,OI(a,o)):OI(a,o)}var ds=-1,uo=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function P1(t){return t instanceof uo}function R1(t){return(t.flags&8)!==0}function N1(t){return(t.flags&16)!==0}var Yp={},vg=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=sd(r);let i=this.injector.get(e,Yp,r);return i!==Yp||n===Yp?i:this.parentInjector.get(e,n,r)}};function cb(t){return t!==ds}function zl(t){return t&32767}function O1(t){return t>>16}function ql(t,e){let n=O1(t),r=e;for(;n>0;)r=r[bs],n--;return r}var _g=!0;function Gl(t){let e=_g;return _g=t,e}var k1=256,ub=k1-1,lb=5,F1=0,Bn={};function V1(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ja)&&(r=n[Ja]),r==null&&(r=n[Ja]=F1++);let i=r&ub,o=1<<i;e.data[t+(i>>lb)]|=o}function Wl(t,e){let n=db(t,e);if(n!==-1)return n;let r=e[ge];r.firstCreatePass&&(t.injectorIndex=e.length,Jp(r.data,t),Jp(e,null),Jp(r.blueprint,null));let i=vm(t,e),o=t.injectorIndex;if(cb(i)){let s=zl(i),a=ql(i,e),u=a[ge].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function Jp(t,e){t.push(0,0,0,0,0,0,0,0,e)}function db(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function vm(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=mb(i),r===null)return ds;if(n++,i=i[bs],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return ds}function wg(t,e,n){V1(t,e,n)}function L1(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(EC(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function hb(t,e,n){if(n&ve.Optional||t!==void 0)return t;tm(e,"NodeInjector")}function fb(t,e,n,r){if(n&ve.Optional&&r===void 0&&(r=null),!(n&(ve.Self|ve.Host))){let i=t[ys],o=Qt(void 0);try{return i?i.get(e,r,n&ve.Optional):gC(e,r,n&ve.Optional)}finally{Qt(o)}}return hb(r,e,n)}function pb(t,e,n,r=ve.Default,i){if(t!==null){if(e[ae]&2048&&!(r&ve.Self)){let s=$1(t,e,n,r,Bn);if(s!==Bn)return s}let o=gb(t,e,n,r,Bn);if(o!==Bn)return o}return fb(e,n,r,i)}function gb(t,e,n,r,i){let o=U1(n);if(typeof o=="function"){if(!eb(e,t,r))return r&ve.Host?hb(i,n,r):fb(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&ve.Optional))tm(n);else return s}finally{ib()}}else if(typeof o=="number"){let s=null,a=db(t,e),u=ds,l=r&ve.Host?e[zn][Sn]:null;for((a===-1||r&ve.SkipSelf)&&(u=a===-1?vm(t,e):e[a+8],u===ds||!FI(r,!1)?a=-1:(s=e[ge],a=zl(u),e=ql(u,e)));a!==-1;){let h=e[ge];if(kI(o,a,h.data)){let p=j1(a,e,n,s,r,l);if(p!==Bn)return p}u=e[a+8],u!==ds&&FI(r,e[ge].data[a+8]===l)&&kI(o,a,e)?(s=h,a=zl(u),e=ql(u,e)):a=-1}}return i}function j1(t,e,n,r,i,o){let s=e[ge],a=s.data[t+8],u=r==null?ud(a)&&_g:r!=s&&(a.type&3)!==0,l=i&ve.Host&&o===a,h=Rl(a,s,n,u,l);return h!==null?lo(e,s,h,a):Bn}function Rl(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,u=t.directiveStart,l=t.directiveEnd,h=o>>20,p=r?a:a+h,m=i?a+h:l;for(let y=p;y<m;y++){let A=s[y];if(y<u&&n===A||y>=u&&A.type===n)return y}if(i){let y=s[u];if(y&&yi(y)&&y.type===n)return u}return null}function lo(t,e,n,r){let i=t[n],o=e.data;if(P1(i)){let s=i;s.resolving&&fN(hN(o[n]));let a=Gl(s.canSeeViewProviders);s.resolving=!0;let u,l=s.injectImpl?Qt(s.injectImpl):null,h=eb(t,r,ve.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&M1(n,o[n],e)}finally{l!==null&&Qt(l),Gl(a),s.resolving=!1,ib()}}return i}function U1(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Ja)?t[Ja]:void 0;return typeof e=="number"?e>=0?e&ub:B1:e}function kI(t,e,n){let r=1<<t;return!!(n[e+(t>>lb)]&r)}function FI(t,e){return!(t&ve.Self)&&!(t&ve.Host&&e)}var ro=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return pb(this._tNode,this._lView,e,sd(r),n)}};function B1(){return new ro(Ot(),Ie())}function Qn(t){return oc(()=>{let e=t.prototype.constructor,n=e[kl]||Eg(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[kl]||Eg(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Eg(t){return uC(t)?()=>{let e=Eg($t(t));return e&&e()}:io(t)}function $1(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[ae]&2048&&!(s[ae]&512);){let a=gb(o,s,n,r|ve.Self,Bn);if(a!==Bn)return a;let u=o.parent;if(!u){let l=s[OC];if(l){let h=l.get(n,Bn,r);if(h!==Bn)return h}u=mb(s),s=s[bs]}o=u}return i}function mb(t){let e=t[ge],n=e.type;return n===2?e.declTNode:n===1?t[Sn]:null}function _m(t){return L1(Ot(),t)}function VI(t,e=null,n=null,r){let i=yb(t,e,n,r);return i.resolveInjectorInitializers(),i}function yb(t,e=null,n=null,r,i=new Set){let o=[n||hn,HN(t)];return r=r||(typeof t=="object"?void 0:Ht(t)),new ec(o,e||am(),r||null,i)}var no=class no{static create(e,n){if(Array.isArray(e))return VI({name:""},n,e,"");{let r=e.name??"";return VI({name:r},e.parent,e.providers,r)}}};no.THROW_IF_NOT_FOUND=Za,no.NULL=new Ll,no.\u0275prov=z({token:no,providedIn:"any",factory:()=>W(vC)}),no.__NG_ELEMENT_ID__=-1;var ht=no;var H1=new H("");H1.__NG_ELEMENT_ID__=t=>{let e=Ot();if(e===null)throw new K(204,!1);if(e.type&2)return e.value;if(t&ve.Optional)return null;throw new K(204,!1)};var z1="ngOriginalError";function Zp(t){return t[z1]}var Gn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Zp(e);for(;n&&Zp(n);)n=Zp(n);return n||null}},vb=new H("",{providedIn:"root",factory:()=>k(Gn).handleError.bind(void 0)}),wm=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=q1,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),Ig=class extends wm{constructor(e){super(),this._lView=e}onDestroy(e){return GC(this._lView,e),()=>u1(this._lView,e)}};function q1(){return new Ig(Ie())}function G1(){return Ds(Ot(),Ie())}function Ds(t,e){return new zt(gn(t,e))}var zt=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=G1;let t=e;return t})();function W1(t){return t instanceof zt?t.nativeElement:t}var xr=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new dt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275prov=z({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();var Cg=class extends vt{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,NC()&&(this.destroyRef=k(wm,{optional:!0})??void 0,this.pendingTasks=k(xr,{optional:!0})??void 0)}emit(e){let n=Ae(null);try{super.next(e)}finally{Ae(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Qe&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},Ye=Cg;function K1(){return this._results[Symbol.iterator]()}var bg=class t{get changes(){return this._changes??=new Ye}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=K1)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=bN(e);(this._changesDetected=!CN(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function _b(t){return(t.flags&128)===128}var wb=new Map,Q1=0;function Y1(){return Q1++}function J1(t){wb.set(t[cd],t)}function Z1(t){wb.delete(t[cd])}var LI="__ngContext__";function ho(t,e){gi(e)?(t[LI]=e[cd],J1(e)):t[LI]=e}function Eb(t){return Cb(t[tc])}function Ib(t){return Cb(t[bn])}function Cb(t){for(;t!==null&&!Ar(t);)t=t[bn];return t}var Dg;function bb(t){Dg=t}function X1(){if(Dg!==void 0)return Dg;if(typeof document<"u")return document;throw new K(210,!1)}var Em=new H("",{providedIn:"root",factory:()=>eO}),eO="ng",Im=new H(""),Dt=new H("",{providedIn:"platform",factory:()=>"unknown"});var Cm=new H("",{providedIn:"root",factory:()=>X1().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var tO="h",nO="b";var rO=()=>null;function bm(t,e,n=!1){return rO(t,e,n)}var Db=!1,iO=new H("",{providedIn:"root",factory:()=>Db});var Tl;function oO(){if(Tl===void 0&&(Tl=null,Ir.trustedTypes))try{Tl=Ir.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Tl}function jI(t){return oO()?.createScriptURL(t)||t}var Kl=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${aC})`}};function cc(t){return t instanceof Kl?t.changingThisBreaksApplicationSecurity:t}function Dm(t,e){let n=sO(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${aC})`)}return n===e}function sO(t){return t instanceof Kl&&t.getTypeName()||null}var aO=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Tb(t){return t=String(t),t.match(aO)?t:"unsafe:"+t}var pd=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(pd||{});function Yn(t){let e=Ab();return e?e.sanitize(pd.URL,t)||"":Dm(t,"URL")?cc(t):Tb(hs(t))}function cO(t){let e=Ab();if(e)return jI(e.sanitize(pd.RESOURCE_URL,t)||"");if(Dm(t,"ResourceURL"))return jI(cc(t));throw new K(904,!1)}function uO(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?cO:Yn}function Sb(t,e,n){return uO(e,n)(t)}function Ab(){let t=Ie();return t&&t[Hn].sanitizer}function Mb(t){return t instanceof Function?t():t}function lO(t){return(t??k(ht)).get(Dt)==="browser"}var br=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(br||{}),dO;function Tm(t,e){return dO(t,e)}function us(t,e,n,r,i){if(r!=null){let o,s=!1;Ar(r)?o=r:gi(r)&&(s=!0,r=r[Sr]);let a=qn(r);t===0&&n!==null?i==null?Ob(e,n,a):Ql(e,n,a,i||null,!0):t===1&&n!==null?Ql(e,n,a,i||null,!0):t===2?SO(e,a,s):t===3&&e.destroyNode(a),o!=null&&MO(e,t,o,n,i)}}function hO(t,e){return t.createText(e)}function fO(t,e,n){t.setValue(e,n)}function xb(t,e,n){return t.createElement(e,n)}function pO(t,e){Pb(t,e),e[Sr]=null,e[Sn]=null}function gO(t,e,n,r,i,o){r[Sr]=i,r[Sn]=e,gd(t,r,n,1,i,o)}function Pb(t,e){e[Hn].changeDetectionScheduler?.notify(8),gd(t,e,e[st],2,null,null)}function mO(t){let e=t[tc];if(!e)return Xp(t[ge],t);for(;e;){let n=null;if(gi(e))n=e[tc];else{let r=e[tn];r&&(n=r)}if(!n){for(;e&&!e[bn]&&e!==t;)gi(e)&&Xp(e[ge],e),e=e[Nt];e===null&&(e=t),gi(e)&&Xp(e[ge],e),n=e&&e[bn]}e=n}}function yO(t,e,n,r){let i=tn+r,o=n.length;r>0&&(n[i-1][bn]=e),r<o-tn?(e[bn]=n[i],yC(n,tn+r,e)):(n.push(e),e[bn]=null),e[Nt]=n;let s=e[oo];s!==null&&n!==s&&Rb(s,e);let a=e[Cr];a!==null&&a.insertView(t),mg(e),e[ae]|=128}function Rb(t,e){let n=t[vs],r=e[Nt];if(gi(r))t[ae]|=$l.HasTransplantedViews;else{let i=r[Nt][zn];e[zn]!==i&&(t[ae]|=$l.HasTransplantedViews)}n===null?t[vs]=[e]:n.push(e)}function Sm(t,e){let n=t[vs],r=n.indexOf(e);n.splice(r,1)}function Tg(t,e){if(t.length<=tn)return;let n=tn+e,r=t[n];if(r){let i=r[oo];i!==null&&i!==t&&Sm(i,r),e>0&&(t[n-1][bn]=r[bn]);let o=Vl(t,tn+e);pO(r[ge],r);let s=o[Cr];s!==null&&s.detachView(o[ge]),r[Nt]=null,r[bn]=null,r[ae]&=-129}return r}function Nb(t,e){if(!(e[ae]&256)){let n=e[st];n.destroyNode&&gd(t,e,n,3,null,null),mO(e)}}function Xp(t,e){if(e[ae]&256)return;let n=Ae(null);try{e[ae]&=-129,e[ae]|=256,e[fn]&&bp(e[fn]),_O(t,e),vO(t,e),e[ge].type===1&&e[st].destroy();let r=e[oo];if(r!==null&&Ar(e[Nt])){r!==e[Nt]&&Sm(r,e);let i=e[Cr];i!==null&&i.detachView(t)}Z1(e)}finally{Ae(n)}}function vO(t,e){let n=t.cleanup,r=e[Ul];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[Ul]=null);let i=e[pi];if(i!==null){e[pi]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function _O(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof uo)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];Un(4,a,u);try{u.call(a)}finally{Un(5,a,u)}}else{Un(4,i,o);try{o.call(i)}finally{Un(5,i,o)}}}}}function wO(t,e,n){return EO(t,e.parent,n)}function EO(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[Sr];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===$n.None||o===$n.Emulated)return null}return gn(r,n)}}function Ql(t,e,n,r,i){t.insertBefore(e,n,r,i)}function Ob(t,e,n){t.appendChild(e,n)}function UI(t,e,n,r,i){r!==null?Ql(t,e,n,r,i):Ob(t,e,n)}function IO(t,e,n,r){t.removeChild(e,n,r)}function Am(t,e){return t.parentNode(e)}function CO(t,e){return t.nextSibling(e)}function bO(t,e,n){return TO(t,e,n)}function DO(t,e,n){return t.type&40?gn(t,n):null}var TO=DO,BI;function Mm(t,e,n,r){let i=wO(t,r,e),o=e[st],s=r.parent||e[Sn],a=bO(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)UI(o,i,n[u],a,!1);else UI(o,i,n,a,!1);BI!==void 0&&BI(o,r,e,n,i)}function Nl(t,e){if(e!==null){let n=e.type;if(n&3)return gn(e,t);if(n&4)return Sg(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Nl(t,r);{let i=t[e.index];return Ar(i)?Sg(-1,i):qn(i)}}else{if(n&32)return Tm(e,t)()||qn(t[e.index]);{let r=kb(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=ao(t[zn]);return Nl(i,r)}else return Nl(t,e.next)}}}return null}function kb(t,e){if(e!==null){let r=t[zn][Sn],i=e.projection;return r.projection[i]}return null}function Sg(t,e){let n=tn+t+1;if(n<e.length){let r=e[n],i=r[ge].firstChild;if(i!==null)return Nl(r,i)}return e[so]}function SO(t,e,n){let r=Am(t,e);r&&IO(t,r,e,n)}function xm(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],u=n.type;if(s&&e===0&&(a&&ho(qn(a),r),n.flags|=2),(n.flags&32)!==32)if(u&8)xm(t,e,n.child,r,i,o,!1),us(e,t,i,a,o);else if(u&32){let l=Tm(n,r),h;for(;h=l();)us(e,t,i,h,o);us(e,t,i,a,o)}else u&16?AO(t,e,r,n,i,o):us(e,t,i,a,o);n=s?n.projectionNext:n.next}}function gd(t,e,n,r,i,o){xm(n,r,t.firstChild,e,i,o,!1)}function AO(t,e,n,r,i,o){let s=n[zn],u=s[Sn].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];us(e,t,i,h,o)}else{let l=u,h=s[Nt];_b(r)&&(l.flags|=128),xm(t,e,l,h,i,o,!0)}}function MO(t,e,n,r,i){let o=n[so],s=qn(n);o!==s&&us(e,t,r,o,i);for(let a=tn;a<n.length;a++){let u=n[a];gd(u[ge],u,t,e,r,o)}}function xO(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:br.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=br.Important),t.setStyle(n,r,i,o))}}function PO(t,e,n){t.setAttribute(e,"style",n)}function Fb(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function Vb(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&lg(t,e,r),i!==null&&Fb(t,e,i),o!==null&&PO(t,e,o)}var Jn={};function F(t=1){Lb(_t(),Ie(),mo()+t,!1)}function Lb(t,e,n,r){if(!r)if((e[ae]&3)===3){let o=t.preOrderCheckHooks;o!==null&&xl(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Pl(e,o,0,n)}co(n)}function B(t,e=ve.Default){let n=Ie();if(n===null)return W(t,e);let r=Ot();return pb(r,n,$t(t),e)}function jb(){let t="invalid";throw new Error(t)}function Ub(t,e,n,r,i,o){let s=Ae(null);try{let a=null;i&gs.SignalBased&&(a=e[r][wp]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&gs.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):VC(e,a,r,o)}finally{Ae(s)}}function RO(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)co(~i);else{let o=i,s=n[++r],a=n[++r];I1(s,o);let u=e[o];a(2,u)}}}finally{co(-1)}}function md(t,e,n,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[Sr]=i,p[ae]=r|4|128|8|64,(l!==null||t&&t[ae]&2048)&&(p[ae]|=2048),zC(p),p[Nt]=p[bs]=t,p[Dn]=n,p[Hn]=s||t&&t[Hn],p[st]=a||t&&t[st],p[ys]=u||t&&t[ys]||null,p[Sn]=o,p[cd]=Y1(),p[jl]=h,p[OC]=l,p[zn]=e.type==2?t[zn]:p,p}function yd(t,e,n,r,i){let o=t.data[e];if(o===null)o=NO(t,e,n,r,i),E1()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=m1();o.injectorIndex=s===null?-1:s.injectorIndex}return ac(o,!0),o}function NO(t,e,n,r,i){let o=QC(),s=YC(),a=s?o:o&&o.parent,u=t.data[e]=jO(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),o!==null&&(s?o.child==null&&u.parent!==null&&(o.child=u):o.next===null&&(o.next=u,u.prev=o)),u}function Bb(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function $b(t,e,n,r,i){let o=mo(),s=r&2;try{co(-1),s&&e.length>pn&&Lb(t,e,pn,!1),Un(s?2:0,i),n(r,i)}finally{co(o),Un(s?3:1,i)}}function Hb(t,e,n){if(FC(e)){let r=Ae(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let u=n[s];a.contentQueries(1,u,s)}}}finally{Ae(r)}}}function zb(t,e,n){KC()&&(qO(t,e,n,gn(n,e)),(n.flags&64)===64&&Qb(t,e,n))}function qb(t,e,n=gn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function Gb(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Pm(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Pm(t,e,n,r,i,o,s,a,u,l,h){let p=pn+r,m=p+i,y=OO(p,m),A=typeof l=="function"?l():l;return y[ge]={type:t,blueprint:y,template:n,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:A,incompleteFirstPass:!1,ssrId:h}}function OO(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Jn);return n}function kO(t,e,n,r){let o=r.get(iO,Db)||n===$n.ShadowDom,s=t.selectRootElement(e,o);return FO(s),s}function FO(t){VO(t)}var VO=()=>null;function LO(t,e,n,r){let i=Zb(e);i.push(n),t.firstCreatePass&&Xb(t).push(r,i.length-1)}function jO(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return f1()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function $I(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,u=gs.None;Array.isArray(s)?(a=s[0],u=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}t===0?HI(r,n,l,a,u):HI(r,n,l,a)}return r}function HI(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function UO(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],u=null,l=null;for(let h=r;h<i;h++){let p=o[h],m=n?n.get(p):null,y=m?m.inputs:null,A=m?m.outputs:null;u=$I(0,p.inputs,h,u,y),l=$I(1,p.outputs,h,l,A);let N=u!==null&&s!==null&&!im(e)?nk(u,h,s):null;a.push(N)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}function BO(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Rm(t,e,n,r,i,o,s,a){let u=gn(e,n),l=e.inputs,h;!a&&l!=null&&(h=l[r])?(Nm(t,n,h,r,i),ud(e)&&$O(n,e.index)):e.type&3?(r=BO(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)):e.type&12}function $O(t,e){let n=_i(e,t);n[ae]&16||(n[ae]|=64)}function Wb(t,e,n,r){if(KC()){let i=r===null?null:{"":-1},o=WO(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&Kb(t,e,n,s,i,a),i&&KO(n,r,i)}n.mergedAttrs=Xa(n.mergedAttrs,n.attrs)}function Kb(t,e,n,r,i,o){for(let l=0;l<r.length;l++)wg(Wl(n,e),t,r[l].type);YO(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let h=r[l];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,u=Bb(t,e,r.length,null);for(let l=0;l<r.length;l++){let h=r[l];n.mergedAttrs=Xa(n.mergedAttrs,h.hostAttrs),JO(t,n,e,u,h),QO(u,h,i),h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let p=h.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}UO(t,n,o)}function HO(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;zO(s)!=a&&s.push(a),s.push(n,r,o)}}function zO(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function qO(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;ud(n)&&ZO(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Wl(n,e),ho(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let u=t.data[a],l=lo(e,t,a,n);if(ho(l,e),s!==null&&tk(e,a-i,l,u,n,s),yi(u)){let h=_i(n.index,e);h[Dn]=lo(e,t,a,n)}}}function Qb(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=C1();try{co(o);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];yg(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&GO(u,l)}}finally{co(-1),yg(s)}}function GO(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function WO(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(ON(e,s.selectors,!1))if(r||(r=[]),yi(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let u=a.length;Ag(t,e,u)}else r.unshift(s),Ag(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Ag(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function KO(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new K(-301,!1);r.push(e[i],o)}}}function QO(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;yi(e)&&(n[""]=t)}}function YO(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function JO(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=io(i.type,!0)),s=new uo(o,yi(i),B);t.blueprint[r]=s,n[r]=s,HO(t,e,r,Bb(t,n,i.hostVars,Jn),i)}function ZO(t,e,n){let r=gn(e,t),i=Gb(n),o=t[Hn].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=vd(t,md(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function XO(t,e,n,r,i,o){let s=gn(t,e);ek(e[st],s,o,t.value,n,r,i)}function ek(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?hs(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function tk(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let u=s[a++],l=s[a++],h=s[a++],p=s[a++];Ub(r,n,u,l,h,p)}}function nk(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function Yb(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function Jb(t,e){let n=t.contentQueries;if(n!==null){let r=Ae(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];hm(o),a.contentQueries(2,e[s],s)}}}finally{Ae(r)}}}function vd(t,e){return t[tc]?t[PI][bn]=e:t[tc]=e,t[PI]=e,e}function Mg(t,e,n){hm(0);let r=Ae(null);try{e(t,n)}finally{Ae(r)}}function Zb(t){return t[Ul]??=[]}function Xb(t){return t.cleanup??=[]}function eD(t,e){let n=t[ys],r=n?n.get(Gn,null):null;r&&r.handleError(e)}function Nm(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],u=n[o++],l=e[s],h=t.data[s];Ub(h,l,r,a,u,i)}}function tD(t,e,n){let r=$C(e,t);fO(t[st],r,n)}function rk(t,e){let n=_i(e,t),r=n[ge];ik(r,n);let i=n[Sr];i!==null&&n[jl]===null&&(n[jl]=bm(i,n[ys])),Om(r,n,n[Dn])}function ik(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Om(t,e,n){fm(e);try{let r=t.viewQuery;r!==null&&Mg(1,r,n);let i=t.template;i!==null&&$b(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Cr]?.finishViewCreation(t),t.staticContentQueries&&Jb(t,e),t.staticViewQueries&&Mg(2,t.viewQuery,n);let o=t.components;o!==null&&ok(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[ae]&=-5,pm()}}function ok(t,e){for(let n=0;n<e.length;n++)rk(t,e[n])}function sk(t,e,n,r){let i=Ae(null);try{let o=e.tView,a=t[ae]&4096?4096:16,u=md(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[oo]=l;let h=t[Cr];return h!==null&&(u[Cr]=h.createEmbeddedView(o)),Om(o,u,n),u}finally{Ae(i)}}function zI(t,e){return!e||e.firstChild===null||_b(t)}function ak(t,e,n,r=!0){let i=e[ge];if(yO(i,e,t,n),r){let s=Sg(n,t),a=e[st],u=Am(a,t[so]);u!==null&&gO(i,t[Sn],a,e,u,s)}let o=e[jl];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Yl(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(qn(o)),Ar(o)&&ck(o,r);let s=n.type;if(s&8)Yl(t,e,n.child,r);else if(s&32){let a=Tm(n,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=kb(e,n);if(Array.isArray(a))r.push(...a);else{let u=ao(e[zn]);Yl(u[ge],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function ck(t,e){for(let n=tn;n<t.length;n++){let r=t[n],i=r[ge].firstChild;i!==null&&Yl(r[ge],r,i,e)}t[so]!==t[Sr]&&e.push(t[so])}var nD=[];function uk(t){return t[fn]??lk(t)}function lk(t){let e=nD.pop()??Object.create(hk);return e.lView=t,e}function dk(t){t.lView[fn]!==t&&(t.lView=null,nD.push(t))}var hk=ye(j({},Ep),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{ld(t.lView)},consumerOnSignalRead(){this.lView[fn]=this}});function fk(t){let e=t[fn]??Object.create(pk);return e.lView=t,e}var pk=ye(j({},Ep),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=ao(t.lView);for(;e&&!rD(e[ge]);)e=ao(e);e&&qC(e)},consumerOnSignalRead(){this.lView[fn]=this}});function rD(t){return t.type!==2}var gk=100;function iD(t,e=!0,n=0){let r=t[Hn],i=r.rendererFactory,o=!1;o||i.begin?.();try{mk(t,n)}catch(s){throw e&&eD(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function mk(t,e){let n=JC();try{NI(!0),xg(t,e);let r=0;for(;nc(t);){if(r===gk)throw new K(103,!1);r++,xg(t,1)}}finally{NI(n)}}function yk(t,e,n,r){let i=e[ae];if((i&256)===256)return;let o=!1,s=!1;!o&&e[Hn].inlineEffectRunner?.flush(),fm(e);let a=!0,u=null,l=null;o||(rD(t)?(l=uk(e),u=Ip(l)):WE()===null?(a=!1,l=fk(e),u=Ip(l)):e[fn]&&(bp(e[fn]),e[fn]=null));try{zC(e),w1(t.bindingStartIndex),n!==null&&$b(t,e,n,2,r);let h=(i&3)===3;if(!o)if(h){let y=t.preOrderCheckHooks;y!==null&&xl(e,y,null)}else{let y=t.preOrderHooks;y!==null&&Pl(e,y,0,null),Qp(e,0)}if(s||vk(e),oD(e,0),t.contentQueries!==null&&Jb(t,e),!o)if(h){let y=t.contentCheckHooks;y!==null&&xl(e,y)}else{let y=t.contentHooks;y!==null&&Pl(e,y,1),Qp(e,1)}RO(t,e);let p=t.components;p!==null&&aD(e,p,0);let m=t.viewQuery;if(m!==null&&Mg(2,m,r),!o)if(h){let y=t.viewCheckHooks;y!==null&&xl(e,y)}else{let y=t.viewHooks;y!==null&&Pl(e,y,2),Qp(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Kp]){for(let y of e[Kp])y();e[Kp]=null}o||(e[ae]&=-73)}catch(h){throw o||ld(e),h}finally{l!==null&&(KE(l,u),a&&dk(l)),pm()}}function oD(t,e){for(let n=Eb(t);n!==null;n=Ib(n))for(let r=tn;r<n.length;r++){let i=n[r];sD(i,e)}}function vk(t){for(let e=Eb(t);e!==null;e=Ib(e)){if(!(e[ae]&$l.HasTransplantedViews))continue;let n=e[vs];for(let r=0;r<n.length;r++){let i=n[r];qC(i)}}}function _k(t,e,n){let r=_i(e,t);sD(r,n)}function sD(t,e){lm(t)&&xg(t,e)}function xg(t,e){let r=t[ge],i=t[ae],o=t[fn],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Cp(o)),s||=!1,o&&(o.dirty=!1),t[ae]&=-9217,s)yk(r,t,r.template,t[Dn]);else if(i&8192){oD(t,1);let a=r.components;a!==null&&aD(t,a,1)}}function aD(t,e,n){for(let r=0;r<e.length;r++)_k(t,e[r],n)}function km(t,e){let n=JC()?64:1088;for(t[Hn].changeDetectionScheduler?.notify(e);t;){t[ae]|=n;let r=ao(t);if(pg(t)&&!r)return t;t=r}return null}var fo=class{get rootNodes(){let e=this._lView,n=e[ge];return Yl(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Dn]}set context(e){this._lView[Dn]=e}get destroyed(){return(this._lView[ae]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Nt];if(Ar(e)){let n=e[Bl],r=n?n.indexOf(this):-1;r>-1&&(Tg(e,r),Vl(n,r))}this._attachedToViewContainer=!1}Nb(this._lView[ge],this._lView)}onDestroy(e){GC(this._lView,e)}markForCheck(){km(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ae]&=-129}reattach(){mg(this._lView),this._lView[ae]|=128}detectChanges(){this._lView[ae]|=1024,iD(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new K(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=pg(this._lView),n=this._lView[oo];n!==null&&!e&&Sm(n,this._lView),Pb(this._lView[ge],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new K(902,!1);this._appRef=e;let n=pg(this._lView),r=this._lView[oo];r!==null&&!n&&Rb(r,this._lView),mg(this._lView)}},po=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Ik;let t=e;return t})(),wk=po,Ek=class extends wk{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=sk(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new fo(i)}};function Ik(){return Fm(Ot(),Ie())}function Fm(t,e){return t.type&4?new Ek(e,t,Ds(t,e)):null}var g7=new RegExp(`^(\\d+)*(${nO}|${tO})*(.*)`);var Ck=()=>null;function qI(t,e){return Ck(t,e)}var _s=class{},cD=new H("",{providedIn:"root",factory:()=>!1});var uD=new H(""),Pg=class{},Jl=class{};function bk(t){let e=Error(`No component factory found for ${Ht(t)}.`);return e[Dk]=t,e}var Dk="ngComponent";var Rg=class{resolveComponentFactory(e){throw bk(e)}},qm=class qm{};qm.NULL=new Rg;var ws=qm,Es=class{},An=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>Tk();let t=e;return t})();function Tk(){let t=Ie(),e=Ot(),n=_i(e.index,t);return(gi(n)?n:t)[st]}var Sk=(()=>{let e=class e{};e.\u0275prov=z({token:e,providedIn:"root",factory:()=>null});let t=e;return t})();var GI=new Set;function _d(t){GI.has(t)||(GI.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function lD(t){let e=!0;return setTimeout(()=>{e&&(e=!1,t())}),typeof Ir.requestAnimationFrame=="function"&&Ir.requestAnimationFrame(()=>{e&&(e=!1,t())}),()=>{e=!1}}function WI(t){let e=!0;return queueMicrotask(()=>{e&&t()}),()=>{e=!1}}function KI(...t){}var be=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ye(!1),this.onMicrotaskEmpty=new Ye(!1),this.onStable=new Ye(!1),this.onError=new Ye(!1),typeof Zone>"u")throw new K(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.callbackScheduled=!1,xk(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new K(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new K(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,Ak,KI,KI);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},Ak={};function Vm(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Mk(t){t.isCheckStableRunning||t.callbackScheduled||(t.callbackScheduled=!0,Zone.root.run(()=>{lD(()=>{t.callbackScheduled=!1,Ng(t),t.isCheckStableRunning=!0,Vm(t),t.isCheckStableRunning=!1})}),Ng(t))}function xk(t){let e=()=>{Mk(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(Pk(a))return n.invokeTask(i,o,s,a);try{return QI(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),YI(t)}},onInvoke:(n,r,i,o,s,a,u)=>{try{return QI(t),n.invoke(i,o,s,a,u)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!Rk(a)&&e(),YI(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,Ng(t),Vm(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function Ng(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function QI(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function YI(t){t._nesting--,Vm(t)}var Og=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ye,this.onMicrotaskEmpty=new Ye,this.onStable=new Ye,this.onError=new Ye}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function Pk(t){return dD(t,"__ignore_ng_zone__")}function Rk(t){return dD(t,"__scheduler_tick__")}function dD(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var fi=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(fi||{}),Nk={destroy(){}};function wd(t,e){!e&&e1(wd);let n=e?.injector??k(ht);if(!lO(n))return Nk;_d("NgAfterNextRender");let r=n.get(Lm),i=r.handler??=new Fg,o=e?.phase??fi.MixedReadWrite,s=()=>{i.unregister(u),a()},a=n.get(wm).onDestroy(s),u=rn(n,()=>new kg(o,()=>{s(),t()}));return i.register(u),{destroy:s}}var kg=class{constructor(e,n){this.phase=e,this.callbackFn=n,this.zone=k(be),this.errorHandler=k(Gn,{optional:!0}),k(_s,{optional:!0})?.notify(6)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},Fg=class{constructor(){this.executingCallbacks=!1,this.buckets={[fi.EarlyRead]:new Set,[fi.Write]:new Set,[fi.MixedReadWrite]:new Set,[fi.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let n of e)n.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},Lm=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=z({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function Vg(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=EI(i,a);else if(o==2){let u=a,l=e[++s];r=EI(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Zl=class extends ws{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=mi(e);return new Is(n,this.ngModule)}};function JI(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function Ok(t){let e=t.toLowerCase();return e==="svg"?BC:e==="math"?o1:null}var Is=class extends Jl{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=JI(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return JI(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=LN(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=Ae(null);try{i=i||this.ngModule;let s=i instanceof Rt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new vg(e,s):e,u=a.get(Es,null);if(u===null)throw new K(407,!1);let l=a.get(Sk,null),h=a.get(Lm,null),p=a.get(_s,null),m={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:h,changeDetectionScheduler:p},y=u.createRenderer(null,this.componentDef),A=this.componentDef.selectors[0][0]||"div",N=r?kO(y,r,this.componentDef.encapsulation,a):xb(y,A,Ok(A)),x=512;this.componentDef.signals?x|=4096:this.componentDef.onPush||(x|=16);let V=null;N!==null&&(V=bm(N,a,!0));let Q=Pm(0,null,null,1,0,null,null,null,null,null,null),G=md(null,Q,null,x,null,null,m,y,a,null,V);fm(G);let X,Ne;try{let ie=this.componentDef,I,v=null;ie.findHostDirectiveDefs?(I=[],v=new Map,ie.findHostDirectiveDefs(ie,I,v),I.push(ie)):I=[ie];let _=kk(G,N),C=Fk(_,N,ie,I,G,m,y);Ne=HC(Q,pn),N&&jk(y,ie,N,r),n!==void 0&&Uk(Ne,this.ngContentSelectors,n),X=Lk(C,ie,I,v,G,[Bk]),Om(Q,G,null)}finally{pm()}return new Lg(this.componentType,X,Ds(Ne,G),G,Ne)}finally{Ae(o)}}},Lg=class extends Pg{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new fo(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;Nm(o[ge],o,i,e,n),this.previousInputValues.set(e,n);let s=_i(this._tNode.index,o);km(s,1)}}get injector(){return new ro(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function kk(t,e){let n=t[ge],r=pn;return t[r]=e,yd(n,r,2,"#host",null)}function Fk(t,e,n,r,i,o,s){let a=i[ge];Vk(r,t,e,s);let u=null;e!==null&&(u=bm(e,i[ys]));let l=o.rendererFactory.createRenderer(e,n),h=16;n.signals?h=4096:n.onPush&&(h=64);let p=md(i,Gb(n),null,h,i[t.index],t,o,l,null,null,u);return a.firstCreatePass&&Ag(a,t,r.length-1),vd(i,p),i[t.index]=p}function Vk(t,e,n,r){for(let i of t)e.mergedAttrs=Xa(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Vg(e,e.mergedAttrs,!0),n!==null&&Vb(r,n,e))}function Lk(t,e,n,r,i,o){let s=Ot(),a=i[ge],u=gn(s,i);Kb(a,i,s,n,null,r);for(let h=0;h<n.length;h++){let p=s.directiveStart+h,m=lo(i,a,p,s);ho(m,i)}Qb(a,i,s),u&&ho(u,i);let l=lo(i,a,s.directiveStart+s.componentOffset,s);if(t[Dn]=i[Dn]=l,o!==null)for(let h of o)h(l,e);return Hb(a,s,i),l}function jk(t,e,n,r){if(r)lg(t,n,["ng-version","18.0.5"]);else{let{attrs:i,classes:o}=jN(e.selectors[0]);i&&lg(t,n,i),o&&o.length>0&&Fb(t,n,o.join(" "))}}function Uk(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function Bk(){let t=Ot();ym(Ie()[ge],t)}var wi=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=$k;let t=e;return t})();function $k(){let t=Ot();return fD(t,Ie())}var Hk=wi,hD=class extends Hk{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Ds(this._hostTNode,this._hostLView)}get injector(){return new ro(this._hostTNode,this._hostLView)}get parentInjector(){let e=vm(this._hostTNode,this._hostLView);if(cb(e)){let n=ql(e,this._hostLView),r=zl(e),i=n[ge].data[r+8];return new ro(i,n)}else return new ro(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=ZI(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-tn}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=qI(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,zI(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!t1(e),a;if(s)a=n;else{let A=n||{};a=A.index,r=A.injector,i=A.projectableNodes,o=A.environmentInjector||A.ngModuleRef}let u=s?e:new Is(mi(e)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let N=(s?l:this.parentInjector).get(Rt,null);N&&(o=N)}let h=mi(u.componentType??{}),p=qI(this._lContainer,h?.id??null),m=p?.firstChild??null,y=u.create(l,i,m,o);return this.insertImpl(y.hostView,a,zI(this._hostTNode,p)),y}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(a1(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[Nt],l=new hD(u,u[Sn],u[Nt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return ak(s,i,o,r),e.attachToViewContainerRef(),yC(eg(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=ZI(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Tg(this._lContainer,n);r&&(Vl(eg(this._lContainer),n),Nb(r[ge],r))}detach(e){let n=this._adjustIndex(e,-1),r=Tg(this._lContainer,n);return r&&Vl(eg(this._lContainer),n)!=null?new fo(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function ZI(t){return t[Bl]}function eg(t){return t[Bl]||(t[Bl]=[])}function fD(t,e){let n,r=e[t.index];return Ar(r)?n=r:(n=Yb(r,e,null,t),e[t.index]=n,vd(e,n)),qk(n,e,t,r),new hD(n,t,e)}function zk(t,e){let n=t[st],r=n.createComment(""),i=gn(e,t),o=Am(n,i);return Ql(n,o,r,CO(n,i),!1),r}var qk=Kk,Gk=()=>!1;function Wk(t,e,n){return Gk(t,e,n)}function Kk(t,e,n,r){if(t[so])return;let i;n.type&8?i=qn(r):i=zk(e,n),t[so]=i}var jg=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Ug=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)jm(e,n).matches!==null&&this.queries[n].setDirty()}},Xl=class{constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=nF(e):this.predicate=e}},Bg=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},$g=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,n,Qk(n,o)),this.matchTNodeWithReadOption(e,n,Rl(n,e,o,!1,!1))}else r===po?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Rl(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===zt||i===wi||i===po&&n.type&4)this.addMatch(n.index,-2);else{let o=Rl(n,e,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function Qk(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function Yk(t,e){return t.type&11?Ds(t,e):t.type&4?Fm(t,e):null}function Jk(t,e,n,r){return n===-1?Yk(e,t):n===-2?Zk(t,e,r):lo(t,t[ge],n,e)}function Zk(t,e,n){if(n===zt)return Ds(e,t);if(n===po)return Fm(e,t);if(n===wi)return fD(e,t)}function pD(t,e,n,r){let i=e[Cr].queries[r];if(i.matches===null){let o=t.data,s=n.matches,a=[];for(let u=0;s!==null&&u<s.length;u+=2){let l=s[u];if(l<0)a.push(null);else{let h=o[l];a.push(Jk(e,h,s[u+1],n.metadata.read))}}i.matches=a}return i.matches}function Hg(t,e,n,r){let i=t.queries.getByIndex(n),o=i.matches;if(o!==null){let s=pD(t,e,i,n);for(let a=0;a<o.length;a+=2){let u=o[a];if(u>0)r.push(s[a/2]);else{let l=o[a+1],h=e[-u];for(let p=tn;p<h.length;p++){let m=h[p];m[oo]===m[Nt]&&Hg(m[ge],m,l,r)}if(h[vs]!==null){let p=h[vs];for(let m=0;m<p.length;m++){let y=p[m];Hg(y[ge],y,l,r)}}}}}return r}function Xk(t,e){return t[Cr].queries[e].queryList}function gD(t,e,n){let r=new bg((n&4)===4);return LO(t,e,r,r.destroy),(e[Cr]??=new Ug).queries.push(new jg(r))-1}function eF(t,e,n){let r=_t();return r.firstCreatePass&&(mD(r,new Xl(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),gD(r,Ie(),e)}function tF(t,e,n,r){let i=_t();if(i.firstCreatePass){let o=Ot();mD(i,new Xl(e,n,r),o.index),rF(i,t),(n&2)===2&&(i.staticContentQueries=!0)}return gD(i,Ie(),n)}function nF(t){return t.split(",").map(e=>e.trim())}function mD(t,e,n){t.queries===null&&(t.queries=new Bg),t.queries.track(new $g(e,n))}function rF(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function jm(t,e){return t.queries.getByIndex(e)}function iF(t,e){let n=t[ge],r=jm(n,e);return r.crossesNgTemplate?Hg(n,t,e,[]):pD(n,t,r,e)}function oF(t){return typeof t=="function"&&t[wp]!==void 0}function yD(t){return oF(t)&&typeof t.set=="function"}function sF(t){return Object.getPrototypeOf(t.prototype).constructor}function on(t){let e=sF(t.type),n=!0,r=[t];for(;e;){let i;if(yi(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new K(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=Sl(t.inputs),s.inputTransforms=Sl(t.inputTransforms),s.declaredInputs=Sl(t.declaredInputs),s.outputs=Sl(t.outputs);let a=i.hostBindings;a&&dF(t,a);let u=i.viewQuery,l=i.contentQueries;if(u&&uF(t,u),l&&lF(t,l),aF(t,i),iN(t.outputs,i.outputs),yi(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===on&&(n=!1)}}e=Object.getPrototypeOf(e)}cF(r)}function aF(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function cF(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Xa(i.hostAttrs,n=Xa(n,i.hostAttrs))}}function Sl(t){return t===fs?{}:t===hn?[]:t}function uF(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function lF(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function dF(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function Um(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var vi=class{},rc=class{};var zg=class extends vi{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Zl(this);let i=TC(e);this._bootstrapComponents=Mb(i.bootstrap),this._r3Injector=yb(e,n,[{provide:vi,useValue:this},{provide:ws,useValue:this.componentFactoryResolver},...r],Ht(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},qg=class extends rc{constructor(e){super(),this.moduleType=e}create(e){return new zg(this.moduleType,e,[])}};var ed=class extends vi{constructor(e){super(),this.componentFactoryResolver=new Zl(this),this.instance=null;let n=new ec([...e.providers,{provide:vi,useValue:this},{provide:ws,useValue:this.componentFactoryResolver}],e.parent||am(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Ed(t,e,n=null){return new ed({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function vD(t){return fF(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function hF(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function fF(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function Bm(t,e,n){return t[e]=n}function Dr(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function $m(t,e,n,r){let i=Dr(t,e,n);return Dr(t,e+1,r)||i}function pF(t,e,n,r,i){let o=$m(t,e,n,r);return Dr(t,e+2,i)||o}function gF(t){return(t.flags&32)===32}function mF(t,e,n,r,i,o,s,a,u){let l=e.consts,h=yd(e,t,4,s||null,a||null);Wb(e,n,h,Hl(l,u)),ym(e,h);let p=h.tView=Pm(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function yF(t,e,n,r,i,o,s,a,u,l){let h=n+pn,p=e.firstCreatePass?mF(h,e,t,r,i,o,s,a,u):e.data[h];ac(p,!1);let m=vF(e,t,p,n);gm()&&Mm(e,t,m,p),ho(m,t);let y=Yb(m,t,m,p);return t[h]=y,vd(t,y),Wk(y,p,t),cm(p)&&zb(e,t,p),u!=null&&qb(t,p,l),p}function je(t,e,n,r,i,o,s,a){let u=Ie(),l=_t(),h=Hl(l.consts,o);return yF(u,l,t,e,n,r,i,h,s,a),je}var vF=_F;function _F(t,e,n,r){return mm(!0),e[st].createComment("")}function uc(t,e,n,r){let i=Ie(),o=dd();if(Dr(i,o,e)){let s=_t(),a=hd();XO(a,i,t,e,n,r)}return uc}function _D(t,e,n,r){return Dr(t,dd(),n)?e+hs(n)+r:Jn}function wF(t,e,n,r,i,o){let s=_1(),a=$m(t,s,n,i);return ZC(2),a?e+hs(n)+r+hs(i)+o:Jn}function Al(t,e){return t<<17|e<<2}function go(t){return t>>17&32767}function EF(t){return(t&2)==2}function IF(t,e){return t&131071|e<<17}function Gg(t){return t|2}function Cs(t){return(t&131068)>>2}function tg(t,e){return t&-131069|e<<2}function CF(t){return(t&1)===1}function Wg(t){return t|1}function bF(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=go(s),u=Cs(s);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||sc(p,h)>0)&&(l=!0)}else h=n;if(i)if(u!==0){let m=go(t[a+1]);t[r+1]=Al(m,a),m!==0&&(t[m+1]=tg(t[m+1],r)),t[a+1]=IF(t[a+1],r)}else t[r+1]=Al(a,0),a!==0&&(t[a+1]=tg(t[a+1],r)),a=r;else t[r+1]=Al(u,0),a===0?a=r:t[u+1]=tg(t[u+1],r),u=r;l&&(t[r+1]=Gg(t[r+1])),XI(t,h,r,!0),XI(t,h,r,!1),DF(e,h,t,r,o),s=Al(a,u),o?e.classBindings=s:e.styleBindings=s}function DF(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&sc(o,e)>=0&&(n[r+1]=Wg(n[r+1]))}function XI(t,e,n,r){let i=t[n+1],o=e===null,s=r?go(i):Cs(i),a=!1;for(;s!==0&&(a===!1||o);){let u=t[s],l=t[s+1];TF(u,e)&&(a=!0,t[s+1]=r?Wg(l):Gg(l)),s=r?go(l):Cs(l)}a&&(t[n+1]=r?Gg(i):Wg(i))}function TF(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?sc(t,e)>=0:!1}function oe(t,e,n){let r=Ie(),i=dd();if(Dr(r,i,e)){let o=_t(),s=hd();Rm(o,s,r,t,e,r[st],n,!1)}return oe}function eC(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";Nm(t,n,o[s],s,r)}function Pr(t,e){return SF(t,e,null,!0),Pr}function SF(t,e,n,r){let i=Ie(),o=_t(),s=ZC(2);if(o.firstUpdatePass&&MF(o,t,s,r),e!==Jn&&Dr(i,s,e)){let a=o.data[mo()];OF(o,a,i,i[st],t,i[s+1]=kF(e,n),r,s)}}function AF(t,e){return e>=t.expandoStartIndex}function MF(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[mo()],s=AF(t,n);FF(o,r)&&e===null&&!s&&(e=!1),e=xF(i,o,e,r),bF(i,o,e,n,s,r)}}function xF(t,e,n,r){let i=b1(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=ng(null,t,e,n,r),n=ic(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=ng(i,t,e,n,r),o===null){let u=PF(t,e,r);u!==void 0&&Array.isArray(u)&&(u=ng(null,t,e,u[1],r),u=ic(u,e.attrs,r),RF(t,e,r,u))}else o=NF(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function PF(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Cs(r)!==0)return t[go(r)]}function RF(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[go(i)]=r}function NF(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=ic(r,s,n)}return ic(r,e.attrs,n)}function ng(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=ic(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function ic(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),TN(t,s,n?!0:e[++o]))}return t===void 0?null:t}function OF(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],h=CF(l)?tC(u,e,n,i,Cs(l),s):void 0;if(!td(h)){td(o)||EF(l)&&(o=tC(u,null,n,i,a,s));let p=$C(mo(),n);xO(r,s,p,i,o)}}function tC(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,m=n[i+1];m===Jn&&(m=p?hn:void 0);let y=p?Gp(m,r):h===r?m:void 0;if(l&&!td(y)&&(y=Gp(u,r)),td(y)&&(a=y,s))return a;let A=t[i+1];i=s?go(A):Cs(A)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=Gp(u,r))}return a}function td(t){return t!==void 0}function kF(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Ht(cc(t)))),t}function FF(t,e){return(t.flags&(e?8:16))!==0}function VF(t,e,n,r,i,o){let s=e.consts,a=Hl(s,i),u=yd(e,t,2,r,a);return Wb(e,n,u,Hl(s,o)),u.attrs!==null&&Vg(u,u.attrs,!1),u.mergedAttrs!==null&&Vg(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function b(t,e,n,r){let i=Ie(),o=_t(),s=pn+t,a=i[st],u=o.firstCreatePass?VF(s,o,i,e,n,r):o.data[s],l=LF(o,i,u,a,e,t);i[s]=l;let h=cm(u);return ac(u,!0),Vb(a,l,u),!gF(u)&&gm()&&Mm(o,i,l,u),l1()===0&&ho(l,i),d1(),h&&(zb(o,i,u),Hb(o,u,i)),r!==null&&qb(i,u),b}function T(){let t=Ot();YC()?y1():(t=t.parent,ac(t,!1));let e=t;p1(e)&&g1(),h1();let n=_t();return n.firstCreatePass&&(ym(n,t),FC(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&R1(e)&&eC(n,e,Ie(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&N1(e)&&eC(n,e,Ie(),e.stylesWithoutHost,!1),T}function ue(t,e,n,r){return b(t,e,n,r),T(),ue}var LF=(t,e,n,r,i,o)=>(mm(!0),xb(r,i,A1()));function pt(){return Ie()}var to=void 0;function jF(t){let e=t,n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&r===0?1:5}var UF=["en",[["a","p"],["AM","PM"],to],[["AM","PM"],to,to],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],to,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],to,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",to,"{1} 'at' {0}",to],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",jF],rg={};function mn(t){let e=BF(t),n=nC(e);if(n)return n;let r=e.split("-")[0];if(n=nC(r),n)return n;if(r==="en")return UF;throw new K(701,!1)}function nC(t){return t in rg||(rg[t]=Ir.ng&&Ir.ng.common&&Ir.ng.common.locales&&Ir.ng.common.locales[t]),rg[t]}var tt=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(tt||{});function BF(t){return t.toLowerCase().replace(/_/g,"-")}var nd="en-US";var $F=nd;function HF(t){typeof t=="string"&&($F=t.toLowerCase().replace(/_/g,"-"))}var zF=(t,e,n)=>{};function $(t,e,n,r){let i=Ie(),o=_t(),s=Ot();return wD(o,i,i[st],s,t,e,r),$}function qF(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[Ul],u=i[o+2];return a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function wD(t,e,n,r,i,o,s){let a=cm(r),l=t.firstCreatePass&&Xb(t),h=e[Dn],p=Zb(e),m=!0;if(r.type&3||s){let N=gn(r,e),x=s?s(N):N,V=p.length,Q=s?X=>s(qn(X[r.index])):r.index,G=null;if(!s&&a&&(G=qF(t,e,i,r.index)),G!==null){let X=G.__ngLastListenerFn__||G;X.__ngNextListenerFn__=o,G.__ngLastListenerFn__=o,m=!1}else{o=iC(r,e,h,o),zF(N,i,o);let X=n.listen(x,i,o);p.push(o,X),l&&l.push(i,Q,V,V+1)}}else o=iC(r,e,h,o);let y=r.outputs,A;if(m&&y!==null&&(A=y[i])){let N=A.length;if(N)for(let x=0;x<N;x+=2){let V=A[x],Q=A[x+1],Ne=e[V][Q].subscribe(o),ie=p.length;p.push(o,Ne),l&&l.push(i,r.index,ie,-(ie+1))}}}function rC(t,e,n,r){let i=Ae(null);try{return Un(6,e,n),n(r)!==!1}catch(o){return eD(t,o),!1}finally{Un(7,e,n),Ae(i)}}function iC(t,e,n,r){return function i(o){if(o===Function)return r;let s=t.componentOffset>-1?_i(t.index,e):e;km(s,5);let a=rC(e,n,r,o),u=i.__ngNextListenerFn__;for(;u;)a=rC(e,n,u,o)&&a,u=u.__ngNextListenerFn__;return a}}function te(t=1){return T1(t)}function Zn(t,e,n){return ED(t,"",e,"",n),Zn}function ED(t,e,n,r,i){let o=Ie(),s=_D(o,e,n,r);if(s!==Jn){let a=_t(),u=hd();Rm(a,u,o,t,s,o[st],i,!1)}return ED}function ID(t,e,n,r){tF(t,e,n,r)}function CD(t,e,n){eF(t,e,n)}function Id(t){let e=Ie(),n=_t(),r=XC();hm(r+1);let i=jm(n,r);if(t.dirty&&s1(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let o=iF(e,r);t.reset(o,W1),t.notifyOnChanges()}return!0}return!1}function Cd(){return Xk(Ie(),XC())}function GF(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function lc(t){let e=v1();return um(e,pn+t)}function R(t,e=""){let n=Ie(),r=_t(),i=t+pn,o=r.firstCreatePass?yd(r,i,1,e,null):r.data[i],s=WF(r,n,o,e,t);n[i]=s,gm()&&Mm(r,n,s,o),ac(o,!1)}var WF=(t,e,n,r,i)=>(mm(!0),hO(e[st],r));function $e(t){return Mn("",t,""),$e}function Mn(t,e,n){let r=Ie(),i=_D(r,t,e,n);return i!==Jn&&tD(r,mo(),i),Mn}function Rr(t,e,n,r,i){let o=Ie(),s=wF(o,t,e,n,r,i);return s!==Jn&&tD(o,mo(),s),Rr}function Oe(t,e,n){yD(e)&&(e=e());let r=Ie(),i=dd();if(Dr(r,i,e)){let o=_t(),s=hd();Rm(o,s,r,t,e,r[st],n,!1)}return Oe}function Ue(t,e){let n=yD(t);return n&&t.set(e),n}function ke(t,e){let n=Ie(),r=_t(),i=Ot();return wD(r,n,n[st],i,t,e),ke}function KF(t,e,n){let r=_t();if(r.firstCreatePass){let i=yi(t);Kg(n,r.data,r.blueprint,i,!0),Kg(e,r.data,r.blueprint,i,!1)}}function Kg(t,e,n,r,i){if(t=$t(t),Array.isArray(t))for(let o=0;o<t.length;o++)Kg(t[o],e,n,r,i);else{let o=_t(),s=Ie(),a=Ot(),u=ms(t)?t:$t(t.provide),l=RC(t),h=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if(ms(t)||!t.multi){let y=new uo(l,i,B),A=og(u,e,i?h:h+m,p);A===-1?(wg(Wl(a,s),o,u),ig(o,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(y),s.push(y)):(n[A]=y,s[A]=y)}else{let y=og(u,e,h+m,p),A=og(u,e,h,h+m),N=y>=0&&n[y],x=A>=0&&n[A];if(i&&!x||!i&&!N){wg(Wl(a,s),o,u);let V=JF(i?YF:QF,n.length,i,r,l);!i&&x&&(n[A].providerFactory=V),ig(o,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(V),s.push(V)}else{let V=bD(n[i?A:y],l,!i&&r);ig(o,t,y>-1?y:A,V)}!i&&r&&x&&n[A].componentProviders++}}}function ig(t,e,n,r){let i=ms(e),o=WN(e);if(i||o){let u=(o?$t(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[r,u]):l[h+1].push(r,u)}else l.push(n,u)}}}function bD(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function og(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function QF(t,e,n,r){return Qg(this.multi,[])}function YF(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=lo(n,n[ge],this.providerFactory.index,r);o=a.slice(0,s),Qg(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],Qg(i,o);return o}function Qg(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function JF(t,e,n,r,i){let o=new uo(t,n,B);return o.multi=[],o.index=e,o.componentProviders=0,bD(o,i,r&&!n),o}function Nr(t,e=[]){return n=>{n.providersResolver=(r,i)=>KF(r,i?i(t):t,e)}}var ZF=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=MC(!1,r.type),o=i.length>0?Ed([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=z({token:e,providedIn:"environment",factory:()=>new e(W(Rt))});let t=e;return t})();function Ze(t){_d("NgStandalone"),t.getStandaloneInjector=e=>e.get(ZF).getOrCreateStandaloneInjector(t)}function bd(t,e,n,r){return XF(Ie(),dm(),t,e,n,r)}function Hm(t,e){let n=t[e];return n===Jn?void 0:n}function XF(t,e,n,r,i,o){let s=e+n;return Dr(t,s,i)?Bm(t,s+1,o?r.call(o,i):r(i)):Hm(t,s+1)}function e4(t,e,n,r,i,o,s){let a=e+n;return $m(t,a,i,o)?Bm(t,a+2,s?r.call(s,i,o):r(i,o)):Hm(t,a+2)}function t4(t,e,n,r,i,o,s,a){let u=e+n;return pF(t,u,i,o,s)?Bm(t,u+3,a?r.call(a,i,o,s):r(i,o,s)):Hm(t,u+3)}function Dd(t,e){let n=_t(),r,i=t+pn;n.firstCreatePass?(r=n4(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=io(r.type,!0)),s,a=Qt(B);try{let u=Gl(!1),l=o();return Gl(u),GF(n,Ie(),i,l),l}finally{Qt(a)}}function n4(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function DD(t,e,n,r){let i=t+pn,o=Ie(),s=um(o,i);return SD(o,i)?e4(o,dm(),e,s.transform,n,r,s):s.transform(n,r)}function TD(t,e,n,r,i){let o=t+pn,s=Ie(),a=um(s,o);return SD(s,o)?t4(s,dm(),e,a.transform,n,r,i,a):a.transform(n,r,i)}function SD(t,e){return t[ge].data[e].pure}var Tr=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},AD=new Tr("18.0.5");var Td=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var MD=new H("");function yo(t){return!!t&&typeof t.then=="function"}function xD(t){return!!t&&typeof t.subscribe=="function"}var Sd=new H(""),PD=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=k(Sd,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let o of this.appInits){let s=o();if(yo(s))r.push(s);else if(xD(s)){let a=new Promise((u,l)=>{s.subscribe({complete:u,error:l})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),dc=new H("");function r4(){QE(()=>{throw new K(600,!1)})}function i4(t){return t.isBoundToModule}var o4=10;function s4(t,e,n){try{let r=n();return yo(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var vo=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=k(vb),this.afterRenderEffectManager=k(Lm),this.zonelessEnabled=k(cD),this.externalTestViews=new Set,this.beforeRender=new vt,this.afterTick=new vt,this.componentTypes=[],this.components=[],this.isStable=k(xr).hasPendingTasks.pipe(ne(r=>!r)),this._injector=k(Rt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let o=r instanceof Jl;if(!this._injector.get(PD).done){let y=!o&&DC(r),A=!1;throw new K(405,A)}let a;o?a=r:a=this._injector.get(ws).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let u=i4(a)?void 0:this._injector.get(vi),l=i||a.selector,h=a.create(ht.NULL,[],l,u),p=h.location.nativeElement,m=h.injector.get(MD,null);return m?.registerApplication(p),h.onDestroy(()=>{this.detachView(h.hostView),sg(this.components,h),m?.unregisterApplication(p)}),this._loadComponent(h),h}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new K(101,!1);let i=Ae(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(o){this.internalErrorHandler(o)}finally{this._runningTick=!1,Ae(i),this.afterTick.next()}}detectChangesInAttachedViews(r){let i=null;this._injector.destroyed||(i=this._injector.get(Es,null,{optional:!0}));let o=0,s=this.afterRenderEffectManager;for(;o<o4;){let a=o===0;if(r||!a){this.beforeRender.next(a);for(let{_lView:u,notifyErrorHandler:l}of this._views)a4(u,l,a,this.zonelessEnabled)}else i?.begin?.(),i?.end?.();if(o++,s.executeInternalCallbacks(),!this.allViews.some(({_lView:u})=>nc(u))&&(s.execute(),!this.allViews.some(({_lView:u})=>nc(u))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;sg(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(dc,[]);[...this._bootstrapListeners,...i].forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>sg(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new K(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function sg(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function a4(t,e,n,r){if(!n&&!nc(t))return;iD(t,e,n&&!r?0:1)}var Yg=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Ad=(()=>{let e=class e{compileModuleSync(r){return new qg(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),o=TC(r),s=Mb(o.declarations).reduce((a,u)=>{let l=mi(u);return l&&a.push(new Is(l)),a},[]);return new Yg(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var c4=(()=>{let e=class e{constructor(){this.zone=k(be),this.changeDetectionScheduler=k(_s),this.applicationRef=k(vo)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function u4({ngZoneFactory:t,ignoreChangesOutsideZone:e}){return t??=()=>new be(d4()),[{provide:be,useFactory:t},{provide:ps,multi:!0,useFactory:()=>{let n=k(c4,{optional:!0});return()=>n.initialize()}},{provide:ps,multi:!0,useFactory:()=>{let n=k(h4);return()=>{n.initialize()}}},{provide:vb,useFactory:l4},e===!0?{provide:uD,useValue:!0}:[]]}function l4(){let t=k(be),e=k(Gn);return n=>t.runOutsideAngular(()=>e.handleError(n))}function d4(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var h4=(()=>{let e=class e{constructor(){this.subscription=new Qe,this.initialized=!1,this.zone=k(be),this.pendingTasks=k(xr)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{be.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{be.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var f4=(()=>{let e=class e{constructor(){this.appRef=k(vo),this.taskService=k(xr),this.ngZone=k(be),this.zonelessEnabled=k(cD),this.disableScheduling=k(uD,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Qe,this.cancelScheduledCallback=null,this.shouldRefreshViews=!1,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Og||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&r===5)return;switch(r){case 3:case 2:case 0:case 4:case 5:case 1:{this.shouldRefreshViews=!0;break}case 8:case 7:case 6:case 9:default:}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?WI:lD;this.pendingRenderTaskId=this.taskService.add(),this.zoneIsDefined?Zone.root.run(()=>{this.cancelScheduledCallback=i(()=>{this.tick(this.shouldRefreshViews)})}):this.cancelScheduledCallback=i(()=>{this.tick(this.shouldRefreshViews)})}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&be.isInAngularZone())}tick(r){if(this.runningTick||this.appRef.destroyed)return;let i=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick(r)},void 0,this.schedulerTickApplyArgs)}catch(o){throw this.taskService.remove(i),o}finally{this.cleanup()}this.useMicrotaskScheduler=!0,WI(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(i)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.shouldRefreshViews=!1,this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function p4(){return typeof $localize<"u"&&$localize.locale||nd}var Md=new H("",{providedIn:"root",factory:()=>k(Md,ve.Optional|ve.SkipSelf)||p4()});var RD=new H("");var Ol=null;function g4(t=[],e){return ht.create({name:e,providers:[{provide:ad,useValue:"platform"},{provide:RD,useValue:new Set([()=>Ol=null])},...t]})}function m4(t=[]){if(Ol)return Ol;let e=g4(t);return Ol=e,r4(),y4(e),e}function y4(t){t.get(Im,null)?.forEach(n=>n())}function ND(){return!1}var Ei=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=v4;let t=e;return t})();function v4(t){return _4(Ot(),Ie(),(t&16)===16)}function _4(t,e,n){if(ud(t)&&!n){let r=_i(t.index,e);return new fo(r,r)}else if(t.type&175){let r=e[zn];return new fo(r,e)}return null}var Jg=class{constructor(){}supports(e){return vD(e)}create(e){return new Zg(e)}},w4=(t,e)=>e,Zg=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||w4}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<oC(r,i,o)?n:r,a=oC(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=u-i;if(l!=h){for(let m=0;m<l;m++){let y=m<o.length?o[m]:o[m]=0,A=y+m;h<=A&&A<l&&(o[m]=y+1)}let p=s.previousIndex;o[p]=h-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!vD(e))throw new K(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,hF(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new Xg(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new rd),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new rd),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Xg=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},em=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},rd=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new em,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function oC(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function sC(){return new zm([new Jg])}var zm=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let o=i.factories.slice();r=r.concat(o)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||sC()),deps:[[e,new nm,new ft]]}}find(r){let i=this.factories.find(o=>o.supports(r));if(i!=null)return i;throw new K(901,!1)}};e.\u0275prov=z({token:e,providedIn:"root",factory:sC});let t=e;return t})();function OD(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=m4(r),o=[u4({}),{provide:_s,useExisting:f4},...n||[]],a=new ed({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,u=a.get(be);return u.run(()=>{a.resolveInjectorInitializers();let l=a.get(Gn,null),h;u.runOutsideAngular(()=>{h=u.onError.subscribe({next:y=>{l.handleError(y)}})});let p=()=>a.destroy(),m=i.get(RD);return m.add(p),a.onDestroy(()=>{h.unsubscribe(),m.delete(p)}),s4(l,u,()=>{let y=a.get(PD);return y.runInitializers(),y.donePromise.then(()=>{let A=a.get(Md,nd);HF(A||nd);let N=a.get(vo);return e!==void 0&&N.bootstrap(e),N})})})}catch(e){return Promise.reject(e)}}function Ii(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function kD(t){let e=mi(t);if(!e)return null;let n=new Is(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var $D=null;function Vr(){return $D}function HD(t){$D??=t}var Ld=class{};var kt=new H(""),ey=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>k(E4),providedIn:"platform"});let t=e;return t})(),zD=new H(""),E4=(()=>{let e=class e extends ey{constructor(){super(),this._doc=k(kt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Vr().getBaseHref(this._doc)}onPopState(r){let i=Vr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=Vr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function ty(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function FD(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function kr(t){return t&&t[0]!=="?"?"?"+t:t}var Lr=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>k(ny),providedIn:"root"});let t=e;return t})(),qD=new H(""),ny=(()=>{let e=class e extends Lr{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??k(kt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return ty(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+kr(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+kr(s));this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+kr(s));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(W(ey),W(qD,8))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),GD=(()=>{let e=class e extends Lr{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=ty(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+kr(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+kr(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(W(ey),W(qD,8))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),Ss=(()=>{let e=class e{constructor(r){this._subject=new Ye,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=b4(FD(VD(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+kr(i))}normalize(r){return e.stripTrailingSlash(C4(this._basePath,VD(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+kr(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+kr(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}};e.normalizeQueryParams=kr,e.joinWithSlash=ty,e.stripTrailingSlash=FD,e.\u0275fac=function(i){return new(i||e)(W(Lr))},e.\u0275prov=z({token:e,factory:()=>I4(),providedIn:"root"});let t=e;return t})();function I4(){return new Ss(W(Lr))}function C4(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function VD(t){return t.replace(/\/index.html$/,"")}function b4(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var qt=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(qt||{}),Be=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(Be||{}),sn=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(sn||{}),Ci={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function D4(t){return mn(t)[tt.LocaleId]}function T4(t,e,n){let r=mn(t),i=[r[tt.DayPeriodsFormat],r[tt.DayPeriodsStandalone]],o=yn(i,e);return yn(o,n)}function S4(t,e,n){let r=mn(t),i=[r[tt.DaysFormat],r[tt.DaysStandalone]],o=yn(i,e);return yn(o,n)}function A4(t,e,n){let r=mn(t),i=[r[tt.MonthsFormat],r[tt.MonthsStandalone]],o=yn(i,e);return yn(o,n)}function M4(t,e){let r=mn(t)[tt.Eras];return yn(r,e)}function xd(t,e){let n=mn(t);return yn(n[tt.DateFormat],e)}function Pd(t,e){let n=mn(t);return yn(n[tt.TimeFormat],e)}function Rd(t,e){let r=mn(t)[tt.DateTimeFormat];return yn(r,e)}function Ud(t,e){let n=mn(t),r=n[tt.NumberSymbols][e];if(typeof r>"u"){if(e===Ci.CurrencyDecimal)return n[tt.NumberSymbols][Ci.Decimal];if(e===Ci.CurrencyGroup)return n[tt.NumberSymbols][Ci.Group]}return r}function WD(t){if(!t[tt.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[tt.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function x4(t){let e=mn(t);return WD(e),(e[tt.ExtraData][2]||[]).map(r=>typeof r=="string"?Gm(r):[Gm(r[0]),Gm(r[1])])}function P4(t,e,n){let r=mn(t);WD(r);let i=[r[tt.ExtraData][0],r[tt.ExtraData][1]],o=yn(i,e)||[];return yn(o,n)||[]}function yn(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function Gm(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var R4=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Nd={},N4=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,Fr=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(Fr||{}),xe=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(xe||{}),Me=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(Me||{});function O4(t,e,n,r){let i=H4(t);e=Or(n,e)||e;let s=[],a;for(;e;)if(a=N4.exec(e),a){s=s.concat(a.slice(1));let h=s.pop();if(!h)break;e=h}else{s.push(e);break}let u=i.getTimezoneOffset();r&&(u=QD(r,u),i=$4(i,r,!0));let l="";return s.forEach(h=>{let p=U4(h);l+=p?p(i,n,u):h==="''"?"'":h.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function jd(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function Or(t,e){let n=D4(t);if(Nd[n]??={},Nd[n][e])return Nd[n][e];let r="";switch(e){case"shortDate":r=xd(t,sn.Short);break;case"mediumDate":r=xd(t,sn.Medium);break;case"longDate":r=xd(t,sn.Long);break;case"fullDate":r=xd(t,sn.Full);break;case"shortTime":r=Pd(t,sn.Short);break;case"mediumTime":r=Pd(t,sn.Medium);break;case"longTime":r=Pd(t,sn.Long);break;case"fullTime":r=Pd(t,sn.Full);break;case"short":let i=Or(t,"shortTime"),o=Or(t,"shortDate");r=Od(Rd(t,sn.Short),[i,o]);break;case"medium":let s=Or(t,"mediumTime"),a=Or(t,"mediumDate");r=Od(Rd(t,sn.Medium),[s,a]);break;case"long":let u=Or(t,"longTime"),l=Or(t,"longDate");r=Od(Rd(t,sn.Long),[u,l]);break;case"full":let h=Or(t,"fullTime"),p=Or(t,"fullDate");r=Od(Rd(t,sn.Full),[h,p]);break}return r&&(Nd[n][e]=r),r}function Od(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function xn(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function k4(t,e){return xn(t,3).substring(0,e)}function ct(t,e,n=0,r=!1,i=!1){return function(o,s){let a=F4(t,o);if((n>0||a>-n)&&(a+=n),t===xe.Hours)a===0&&n===-12&&(a=12);else if(t===xe.FractionalSeconds)return k4(a,e);let u=Ud(s,Ci.MinusSign);return xn(a,e,u,r,i)}}function F4(t,e){switch(t){case xe.FullYear:return e.getFullYear();case xe.Month:return e.getMonth();case xe.Date:return e.getDate();case xe.Hours:return e.getHours();case xe.Minutes:return e.getMinutes();case xe.Seconds:return e.getSeconds();case xe.FractionalSeconds:return e.getMilliseconds();case xe.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function He(t,e,n=qt.Format,r=!1){return function(i,o){return V4(i,o,t,e,n,r)}}function V4(t,e,n,r,i,o){switch(n){case Me.Months:return A4(e,i,r)[t.getMonth()];case Me.Days:return S4(e,i,r)[t.getDay()];case Me.DayPeriods:let s=t.getHours(),a=t.getMinutes();if(o){let l=x4(e),h=P4(e,i,r),p=l.findIndex(m=>{if(Array.isArray(m)){let[y,A]=m,N=s>=y.hours&&a>=y.minutes,x=s<A.hours||s===A.hours&&a<A.minutes;if(y.hours<A.hours){if(N&&x)return!0}else if(N||x)return!0}else if(m.hours===s&&m.minutes===a)return!0;return!1});if(p!==-1)return h[p]}return T4(e,i,r)[s<12?0:1];case Me.Eras:return M4(e,r)[t.getFullYear()<=0?0:1];default:let u=n;throw new Error(`unexpected translation type ${u}`)}}function kd(t){return function(e,n,r){let i=-1*r,o=Ud(n,Ci.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case Fr.Short:return(i>=0?"+":"")+xn(s,2,o)+xn(Math.abs(i%60),2,o);case Fr.ShortGMT:return"GMT"+(i>=0?"+":"")+xn(s,1,o);case Fr.Long:return"GMT"+(i>=0?"+":"")+xn(s,2,o)+":"+xn(Math.abs(i%60),2,o);case Fr.Extended:return r===0?"Z":(i>=0?"+":"")+xn(s,2,o)+":"+xn(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}var L4=0,Vd=4;function j4(t){let e=jd(t,L4,1).getDay();return jd(t,0,1+(e<=Vd?Vd:Vd+7)-e)}function KD(t){let e=t.getDay(),n=e===0?-3:Vd-e;return jd(t.getFullYear(),t.getMonth(),t.getDate()+n)}function Wm(t,e=!1){return function(n,r){let i;if(e){let o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();i=1+Math.floor((s+o)/7)}else{let o=KD(n),s=j4(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return xn(i,t,Ud(r,Ci.MinusSign))}}function Fd(t,e=!1){return function(n,r){let o=KD(n).getFullYear();return xn(o,t,Ud(r,Ci.MinusSign),e)}}var Km={};function U4(t){if(Km[t])return Km[t];let e;switch(t){case"G":case"GG":case"GGG":e=He(Me.Eras,Be.Abbreviated);break;case"GGGG":e=He(Me.Eras,Be.Wide);break;case"GGGGG":e=He(Me.Eras,Be.Narrow);break;case"y":e=ct(xe.FullYear,1,0,!1,!0);break;case"yy":e=ct(xe.FullYear,2,0,!0,!0);break;case"yyy":e=ct(xe.FullYear,3,0,!1,!0);break;case"yyyy":e=ct(xe.FullYear,4,0,!1,!0);break;case"Y":e=Fd(1);break;case"YY":e=Fd(2,!0);break;case"YYY":e=Fd(3);break;case"YYYY":e=Fd(4);break;case"M":case"L":e=ct(xe.Month,1,1);break;case"MM":case"LL":e=ct(xe.Month,2,1);break;case"MMM":e=He(Me.Months,Be.Abbreviated);break;case"MMMM":e=He(Me.Months,Be.Wide);break;case"MMMMM":e=He(Me.Months,Be.Narrow);break;case"LLL":e=He(Me.Months,Be.Abbreviated,qt.Standalone);break;case"LLLL":e=He(Me.Months,Be.Wide,qt.Standalone);break;case"LLLLL":e=He(Me.Months,Be.Narrow,qt.Standalone);break;case"w":e=Wm(1);break;case"ww":e=Wm(2);break;case"W":e=Wm(1,!0);break;case"d":e=ct(xe.Date,1);break;case"dd":e=ct(xe.Date,2);break;case"c":case"cc":e=ct(xe.Day,1);break;case"ccc":e=He(Me.Days,Be.Abbreviated,qt.Standalone);break;case"cccc":e=He(Me.Days,Be.Wide,qt.Standalone);break;case"ccccc":e=He(Me.Days,Be.Narrow,qt.Standalone);break;case"cccccc":e=He(Me.Days,Be.Short,qt.Standalone);break;case"E":case"EE":case"EEE":e=He(Me.Days,Be.Abbreviated);break;case"EEEE":e=He(Me.Days,Be.Wide);break;case"EEEEE":e=He(Me.Days,Be.Narrow);break;case"EEEEEE":e=He(Me.Days,Be.Short);break;case"a":case"aa":case"aaa":e=He(Me.DayPeriods,Be.Abbreviated);break;case"aaaa":e=He(Me.DayPeriods,Be.Wide);break;case"aaaaa":e=He(Me.DayPeriods,Be.Narrow);break;case"b":case"bb":case"bbb":e=He(Me.DayPeriods,Be.Abbreviated,qt.Standalone,!0);break;case"bbbb":e=He(Me.DayPeriods,Be.Wide,qt.Standalone,!0);break;case"bbbbb":e=He(Me.DayPeriods,Be.Narrow,qt.Standalone,!0);break;case"B":case"BB":case"BBB":e=He(Me.DayPeriods,Be.Abbreviated,qt.Format,!0);break;case"BBBB":e=He(Me.DayPeriods,Be.Wide,qt.Format,!0);break;case"BBBBB":e=He(Me.DayPeriods,Be.Narrow,qt.Format,!0);break;case"h":e=ct(xe.Hours,1,-12);break;case"hh":e=ct(xe.Hours,2,-12);break;case"H":e=ct(xe.Hours,1);break;case"HH":e=ct(xe.Hours,2);break;case"m":e=ct(xe.Minutes,1);break;case"mm":e=ct(xe.Minutes,2);break;case"s":e=ct(xe.Seconds,1);break;case"ss":e=ct(xe.Seconds,2);break;case"S":e=ct(xe.FractionalSeconds,1);break;case"SS":e=ct(xe.FractionalSeconds,2);break;case"SSS":e=ct(xe.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=kd(Fr.Short);break;case"ZZZZZ":e=kd(Fr.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=kd(Fr.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=kd(Fr.Long);break;default:return null}return Km[t]=e,e}function QD(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function B4(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function $4(t,e,n){let r=n?-1:1,i=t.getTimezoneOffset(),o=QD(e,i);return B4(t,r*(o-i))}function H4(t){if(LD(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,o=1,s=1]=t.split("-").map(a=>+a);return jd(i,o-1,s)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(R4))return z4(r)}let e=new Date(t);if(!LD(e))throw new Error(`Unable to convert "${t}" into a date`);return e}function z4(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,u=Number(t[6]||0),l=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return o.call(e,s,a,u,l),e}function LD(t){return t instanceof Date&&!isNaN(t.valueOf())}function Bd(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Qm=/\s+/,jD=[],YD=(()=>{let e=class e{constructor(r,i){this._ngEl=r,this._renderer=i,this.initialClasses=jD,this.stateMap=new Map}set klass(r){this.initialClasses=r!=null?r.trim().split(Qm):jD}set ngClass(r){this.rawClass=typeof r=="string"?r.trim().split(Qm):r}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(let i of r)this._updateState(i,!0);else if(r!=null)for(let i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){let o=this.stateMap.get(r);o!==void 0?(o.enabled!==i&&(o.changed=!0,o.enabled=i),o.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let r of this.stateMap){let i=r[0],o=r[1];o.changed?(this._toggleClass(i,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),o.touched=!1}}_toggleClass(r,i){r=r.trim(),r.length>0&&r.split(Qm).forEach(o=>{i?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}};e.\u0275fac=function(i){return new(i||e)(B(zt),B(An))},e.\u0275dir=qe({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var Ym=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},bi=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,o){this._viewContainer=r,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((o,s,a)=>{if(o.previousIndex==null)i.createEmbeddedView(this._template,new Ym(o.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(s===null?void 0:s);else if(s!==null){let u=i.get(s);i.move(u,a),UD(u,o)}});for(let o=0,s=i.length;o<s;o++){let u=i.get(o).context;u.index=o,u.count=s,u.ngForOf=this._ngForOf}r.forEachIdentityChange(o=>{let s=i.get(o.currentIndex);UD(s,o)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(B(wi),B(po),B(zm))},e.\u0275dir=qe({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function UD(t,e){t.context.$implicit=e.item}var Xn=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new Jm,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){BD("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){BD("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(B(wi),B(po))},e.\u0275dir=qe({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),Jm=class{constructor(){this.$implicit=null,this.ngIf=null}};function BD(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Ht(e)}'.`)}function JD(t,e){return new K(2100,!1)}var q4="mediumDate",G4=new H(""),W4=new H(""),ZD=(()=>{let e=class e{constructor(r,i,o){this.locale=r,this.defaultTimezone=i,this.defaultOptions=o}transform(r,i,o,s){if(r==null||r===""||r!==r)return null;try{let a=i??this.defaultOptions?.dateFormat??q4,u=o??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return O4(r,a,s||this.locale,u)}catch(a){throw JD(e,a.message)}}};e.\u0275fac=function(i){return new(i||e)(B(Md,16),B(G4,24),B(W4,24))},e.\u0275pipe=om({name:"date",type:e,pure:!0,standalone:!0});let t=e;return t})();var XD=(()=>{let e=class e{transform(r,i,o){if(r==null)return null;if(!this.supports(r))throw JD(e,r);return r.slice(i,o)}supports(r){return typeof r=="string"||Array.isArray(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275pipe=om({name:"slice",type:e,pure:!1,standalone:!0});let t=e;return t})();var Tt=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Kn({type:e}),e.\u0275inj=Wn({});let t=e;return t})(),ry="browser",K4="server";function iy(t){return t===ry}function As(t){return t===K4}var eT=(()=>{let e=class e{};e.\u0275prov=z({token:e,providedIn:"root",factory:()=>iy(k(Dt))?new Zm(k(kt),window):new Xm});let t=e;return t})(),Zm=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=Q4(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function Q4(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var Xm=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Ts=class{};var fc=class{},Hd=class{},jr=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=i.toLowerCase(),s=n.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var sy=class{encodeKey(e){return tT(e)}encodeValue(e){return tT(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function Y4(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],u=n.get(s)||[];u.push(a),n.set(s,u)}),n}var J4=/%(\d[a-f0-9])/gi,Z4={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function tT(t){return encodeURIComponent(t).replace(J4,(e,n)=>Z4[n]??e)}function $d(t){return`${t}`}var Si=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new sy,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=Y4(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map($d):[$d(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push($d(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf($d(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var ay=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function X4(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function nT(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function rT(t){return typeof Blob<"u"&&t instanceof Blob}function iT(t){return typeof FormData<"u"&&t instanceof FormData}function eV(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var hc=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(X4(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new jr,this.context??=new ay,!this.params)this.params=new Si,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),u=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+u+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||nT(this.body)||rT(this.body)||iT(this.body)||eV(this.body)?this.body:this.body instanceof Si?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||iT(this.body)?null:rT(this.body)?this.body.type||null:nT(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Si?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,u=e.reportProgress??this.reportProgress,l=e.headers||this.headers,h=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((m,y)=>m.set(y,e.setHeaders[y]),l)),e.setParams&&(h=Object.keys(e.setParams).reduce((m,y)=>m.set(y,e.setParams[y]),h)),new t(n,r,s,{params:h,headers:l,context:p,reportProgress:u,responseType:i,withCredentials:a,transferCache:o})}},Ai=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Ai||{}),pc=class{constructor(e,n=200,r="OK"){this.headers=e.headers||new jr,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},zd=class t extends pc{constructor(e={}){super(e),this.type=Ai.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},gc=class t extends pc{constructor(e={}){super(e),this.type=Ai.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Ti=class extends pc{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},uT=200,tV=204;function oy(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var ly=(()=>{let e=class e{constructor(r){this.handler=r}request(r,i,o={}){let s;if(r instanceof hc)s=r;else{let l;o.headers instanceof jr?l=o.headers:l=new jr(o.headers);let h;o.params&&(o.params instanceof Si?h=o.params:h=new Si({fromObject:o.params})),s=new hc(r,i,o.body!==void 0?o.body:null,{headers:l,context:o.context,params:h,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let a=ee(s).pipe(wr(l=>this.handler.handle(l)));if(r instanceof hc||o.observe==="events")return a;let u=a.pipe(Bt(l=>l instanceof gc));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return u.pipe(ne(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return u.pipe(ne(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return u.pipe(ne(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return u.pipe(ne(l=>l.body))}case"response":return u;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:new Si().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,o={}){return this.request("PATCH",r,oy(o,i))}post(r,i,o={}){return this.request("POST",r,oy(o,i))}put(r,i,o={}){return this.request("PUT",r,oy(o,i))}};e.\u0275fac=function(i){return new(i||e)(W(fc))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),nV=/^\)\]\}',?\n/,rV="X-Request-URL";function oT(t){if(t.url)return t.url;let e=rV.toLocaleLowerCase();return t.headers.get(e)}var iV=(()=>{let e=class e{constructor(){this.fetchImpl=k(cy,{optional:!0})?.fetch??fetch.bind(globalThis),this.ngZone=k(be)}handle(r){return new pe(i=>{let o=new AbortController;return this.doRequest(r,o.signal,i).then(uy,s=>i.error(new Ti({error:s}))),()=>o.abort()})}doRequest(r,i,o){return E(this,null,function*(){let s=this.createRequestInit(r),a;try{let A=this.fetchImpl(r.urlWithParams,j({signal:i},s));oV(A),o.next({type:Ai.Sent}),a=yield A}catch(A){o.error(new Ti({error:A,status:A.status??0,statusText:A.statusText,url:r.urlWithParams,headers:A.headers}));return}let u=new jr(a.headers),l=a.statusText,h=oT(a)??r.urlWithParams,p=a.status,m=null;if(r.reportProgress&&o.next(new zd({headers:u,status:p,statusText:l,url:h})),a.body){let A=a.headers.get("content-length"),N=[],x=a.body.getReader(),V=0,Q,G,X=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>E(this,null,function*(){for(;;){let{done:ie,value:I}=yield x.read();if(ie)break;if(N.push(I),V+=I.length,r.reportProgress){G=r.responseType==="text"?(G??"")+(Q??=new TextDecoder).decode(I,{stream:!0}):void 0;let v=()=>o.next({type:Ai.DownloadProgress,total:A?+A:void 0,loaded:V,partialText:G});X?X.run(v):v()}}}));let Ne=this.concatChunks(N,V);try{let ie=a.headers.get("Content-Type")??"";m=this.parseBody(r,Ne,ie)}catch(ie){o.error(new Ti({error:ie,headers:new jr(a.headers),status:a.status,statusText:a.statusText,url:oT(a)??r.urlWithParams}));return}}p===0&&(p=m?uT:0),p>=200&&p<300?(o.next(new gc({body:m,headers:u,status:p,statusText:l,url:h})),o.complete()):o.error(new Ti({error:m,headers:u,status:p,statusText:l,url:h}))})}parseBody(r,i,o){switch(r.responseType){case"json":let s=new TextDecoder().decode(i).replace(nV,"");return s===""?null:JSON.parse(s);case"text":return new TextDecoder().decode(i);case"blob":return new Blob([i],{type:o});case"arraybuffer":return i.buffer}}createRequestInit(r){let i={},o=r.withCredentials?"include":void 0;if(r.headers.forEach((s,a)=>i[s]=a.join(",")),i.Accept??="application/json, text/plain, */*",!i["Content-Type"]){let s=r.detectContentTypeHeader();s!==null&&(i["Content-Type"]=s)}return{body:r.serializeBody(),method:r.method,headers:i,credentials:o}}concatChunks(r,i){let o=new Uint8Array(i),s=0;for(let a of r)o.set(a,s),s+=a.length;return o}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),cy=class{};function uy(){}function oV(t){t.then(uy,uy)}function lT(t,e){return e(t)}function sV(t,e){return(n,r)=>e.intercept(n,{handle:i=>t(i,r)})}function aV(t,e,n){return(r,i)=>rn(n,()=>e(r,o=>t(o,i)))}var cV=new H(""),dy=new H(""),uV=new H(""),dT=new H("",{providedIn:"root",factory:()=>!0});function lV(){let t=null;return(e,n)=>{t===null&&(t=(k(cV,{optional:!0})??[]).reduceRight(sV,lT));let r=k(xr);if(k(dT)){let o=r.add();return t(e,n).pipe(di(()=>r.remove(o)))}else return t(e,n)}}var sT=(()=>{let e=class e extends fc{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=k(xr),this.contributeToStability=k(dT)}handle(r){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(dy),...this.injector.get(uV,[])]));this.chain=i.reduceRight((o,s)=>aV(o,s,this.injector),lT)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(r,o=>this.backend.handle(o)).pipe(di(()=>this.pendingTasks.remove(i)))}else return this.chain(r,i=>this.backend.handle(i))}};e.\u0275fac=function(i){return new(i||e)(W(Hd),W(Rt))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})();var dV=/^\)\]\}',?\n/;function hV(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var aT=(()=>{let e=class e{constructor(r){this.xhrFactory=r}handle(r){if(r.method==="JSONP")throw new K(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?Ve(i.\u0275loadImpl()):ee(null)).pipe(Kt(()=>new pe(s=>{let a=i.build();if(a.open(r.method,r.urlWithParams),r.withCredentials&&(a.withCredentials=!0),r.headers.forEach((x,V)=>a.setRequestHeader(x,V.join(","))),r.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){let x=r.detectContentTypeHeader();x!==null&&a.setRequestHeader("Content-Type",x)}if(r.responseType){let x=r.responseType.toLowerCase();a.responseType=x!=="json"?x:"text"}let u=r.serializeBody(),l=null,h=()=>{if(l!==null)return l;let x=a.statusText||"OK",V=new jr(a.getAllResponseHeaders()),Q=hV(a)||r.url;return l=new zd({headers:V,status:a.status,statusText:x,url:Q}),l},p=()=>{let{headers:x,status:V,statusText:Q,url:G}=h(),X=null;V!==tV&&(X=typeof a.response>"u"?a.responseText:a.response),V===0&&(V=X?uT:0);let Ne=V>=200&&V<300;if(r.responseType==="json"&&typeof X=="string"){let ie=X;X=X.replace(dV,"");try{X=X!==""?JSON.parse(X):null}catch(I){X=ie,Ne&&(Ne=!1,X={error:I,text:X})}}Ne?(s.next(new gc({body:X,headers:x,status:V,statusText:Q,url:G||void 0})),s.complete()):s.error(new Ti({error:X,headers:x,status:V,statusText:Q,url:G||void 0}))},m=x=>{let{url:V}=h(),Q=new Ti({error:x,status:a.status||0,statusText:a.statusText||"Unknown Error",url:V||void 0});s.error(Q)},y=!1,A=x=>{y||(s.next(h()),y=!0);let V={type:Ai.DownloadProgress,loaded:x.loaded};x.lengthComputable&&(V.total=x.total),r.responseType==="text"&&a.responseText&&(V.partialText=a.responseText),s.next(V)},N=x=>{let V={type:Ai.UploadProgress,loaded:x.loaded};x.lengthComputable&&(V.total=x.total),s.next(V)};return a.addEventListener("load",p),a.addEventListener("error",m),a.addEventListener("timeout",m),a.addEventListener("abort",m),r.reportProgress&&(a.addEventListener("progress",A),u!==null&&a.upload&&a.upload.addEventListener("progress",N)),a.send(u),s.next({type:Ai.Sent}),()=>{a.removeEventListener("error",m),a.removeEventListener("abort",m),a.removeEventListener("load",p),a.removeEventListener("timeout",m),r.reportProgress&&(a.removeEventListener("progress",A),u!==null&&a.upload&&a.upload.removeEventListener("progress",N)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(i){return new(i||e)(W(Ts))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),hT=new H(""),fV="XSRF-TOKEN",pV=new H("",{providedIn:"root",factory:()=>fV}),gV="X-XSRF-TOKEN",mV=new H("",{providedIn:"root",factory:()=>gV}),qd=class{},yV=(()=>{let e=class e{constructor(r,i,o){this.doc=r,this.platform=i,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=Bd(r,this.cookieName),this.lastCookieString=r),this.lastToken}};e.\u0275fac=function(i){return new(i||e)(W(kt),W(Dt),W(pV))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})();function vV(t,e){let n=t.url.toLowerCase();if(!k(hT)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=k(qd).getToken(),i=k(mV);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var fT=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(fT||{});function _V(t,e){return{\u0275kind:t,\u0275providers:e}}function hy(...t){let e=[ly,aT,sT,{provide:fc,useExisting:sT},{provide:Hd,useFactory:()=>k(iV,{optional:!0})??k(aT)},{provide:dy,useValue:vV,multi:!0},{provide:hT,useValue:!0},{provide:qd,useClass:yV}];for(let n of t)e.push(...n.\u0275providers);return nn(e)}var cT=new H("");function wV(){return _V(fT.LegacyInterceptors,[{provide:cT,useFactory:lV},{provide:dy,useExisting:cT,multi:!0}])}var pT=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Kn({type:e}),e.\u0275inj=Wn({providers:[hy(wV())]});let t=e;return t})();var gy=class extends Ld{constructor(){super(...arguments),this.supportsDOMEvents=!0}},my=class t extends gy{static makeCurrent(){HD(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=IV();return n==null?null:CV(n)}resetBaseElement(){mc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Bd(document.cookie,e)}},mc=null;function IV(){return mc=mc||document.querySelector("base"),mc?mc.getAttribute("href"):null}function CV(t){return new URL(t,document.baseURI).pathname}var bV=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),yy=new H(""),vT=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new K(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(W(yy),W(be))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),Gd=class{constructor(e){this._doc=e}},fy="ng-app-id",_T=(()=>{let e=class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=As(s),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(o=>o.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${fy}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(o=>{o.textContent!=null&&i.set(o.textContent,o)}),i}return null}changeUsageCount(r,i){let o=this.styleRef;if(o.has(r)){let s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===r)return o.delete(i),s.removeAttribute(fy),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(fy,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let o=this.getStyleElement(r,i),s=this.styleRef,a=s.get(i)?.elements;a?a.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(W(kt),W(Em),W(Cm,8),W(Dt))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),py={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},_y=/%COMP%/g,wT="%COMP%",DV=`_nghost-${wT}`,TV=`_ngcontent-${wT}`,SV=!0,AV=new H("",{providedIn:"root",factory:()=>SV});function MV(t){return TV.replace(_y,t)}function xV(t){return DV.replace(_y,t)}function ET(t,e){return e.map(n=>n.replace(_y,t))}var gT=(()=>{let e=class e{constructor(r,i,o,s,a,u,l,h=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=u,this.ngZone=l,this.nonce=h,this.rendererByCompId=new Map,this.platformIsServer=As(u),this.defaultRenderer=new yc(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===$n.ShadowDom&&(i=ye(j({},i),{encapsulation:$n.Emulated}));let o=this.getOrCreateRenderer(r,i);return o instanceof Wd?o.applyToHost(r):o instanceof vc&&o.applyStyles(),o}getOrCreateRenderer(r,i){let o=this.rendererByCompId,s=o.get(i.id);if(!s){let a=this.doc,u=this.ngZone,l=this.eventManager,h=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(i.encapsulation){case $n.Emulated:s=new Wd(l,h,i,this.appId,p,a,u,m);break;case $n.ShadowDom:return new vy(l,h,r,i,a,u,this.nonce,m);default:s=new vc(l,h,i,p,a,u,m);break}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(W(vT),W(_T),W(Em),W(AV),W(kt),W(Dt),W(be),W(Cm))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),yc=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(py[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(mT(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(mT(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new K(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=py[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=py[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(br.DashCase|br.Important)?e.style.setProperty(n,r,i&br.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&br.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Vr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function mT(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var vy=class extends yc{constructor(e,n,r,i,o,s,a,u){super(e,o,s,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=ET(i.id,i.styles);for(let h of l){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},vc=class extends yc{constructor(e,n,r,i,o,s,a,u){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?ET(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Wd=class extends vc{constructor(e,n,r,i,o,s,a,u){let l=i+"-"+r.id;super(e,n,r,o,s,a,u,l),this.contentAttr=MV(l),this.hostAttr=xV(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},PV=(()=>{let e=class e extends Gd{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}};e.\u0275fac=function(i){return new(i||e)(W(kt))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),yT=["alt","control","meta","shift"],RV={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},NV={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},OV=(()=>{let e=class e extends Gd{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,o){let s=e.parseEventName(i),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Vr().onAndCancel(r,s.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(i.pop()),a="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),a="code."),yT.forEach(h=>{let p=i.indexOf(h);p>-1&&(i.splice(p,1),a+=h+".")}),a+=s,i.length!=0||s.length===0)return null;let l={};return l.domEventName=o,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let o=RV[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),yT.forEach(a=>{if(a!==o){let u=NV[a];u(r)&&(s+=a+".")}}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(W(kt))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})();function IT(t,e){return OD(j({rootComponent:t},kV(e)))}function kV(t){return{appProviders:[...UV,...t?.providers??[]],platformProviders:jV}}function FV(){my.makeCurrent()}function VV(){return new Gn}function LV(){return bb(document),document}var jV=[{provide:Dt,useValue:ry},{provide:Im,useValue:FV,multi:!0},{provide:kt,useFactory:LV,deps:[]}];var UV=[{provide:ad,useValue:"root"},{provide:Gn,useFactory:VV,deps:[]},{provide:yy,useClass:PV,multi:!0,deps:[kt,be,Dt]},{provide:yy,useClass:OV,multi:!0,deps:[kt]},gT,_T,vT,{provide:Es,useExisting:gT},{provide:Ts,useClass:bV,deps:[]},[]];var CT=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(W(kt))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var me="primary",Oc=Symbol("RouteTitle"),by=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Os(t){return new by(t)}function $V(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function HV(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!er(t[n],e[n]))return!1;return!0}function er(t,e){let n=t?Dy(t):void 0,r=e?Dy(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!OT(t[i],e[i]))return!1;return!0}function Dy(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function OT(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function kT(t){return t.length>0?t[t.length-1]:null}function Pi(t){return Up(t)?t:yo(t)?Ve(Promise.resolve(t)):ee(t)}var zV={exact:VT,subset:LT},FT={exact:qV,subset:GV,ignored:()=>!0};function bT(t,e,n){return zV[n.paths](t.root,e.root,n.matrixParams)&&FT[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function qV(t,e){return er(t,e)}function VT(t,e,n){if(!wo(t.segments,e.segments)||!Yd(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!VT(t.children[r],e.children[r],n))return!1;return!0}function GV(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>OT(t[n],e[n]))}function LT(t,e,n){return jT(t,e,e.segments,n)}function jT(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!wo(i,n)||e.hasChildren()||!Yd(i,n,r))}else if(t.segments.length===n.length){if(!wo(t.segments,n)||!Yd(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!LT(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!wo(t.segments,i)||!Yd(t.segments,i,r)||!t.children[me]?!1:jT(t.children[me],e,o,r)}}function Yd(t,e,n){return e.every((r,i)=>FT[n](t[i].parameters,r.parameters))}var Mi=class{constructor(e=new Pe([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Os(this.queryParams),this._queryParamMap}toString(){return QV.serialize(this)}},Pe=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Jd(this)}},_o=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Os(this.parameters),this._parameterMap}toString(){return BT(this)}};function WV(t,e){return wo(t,e)&&t.every((n,r)=>er(n.parameters,e[r].parameters))}function wo(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function KV(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===me&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==me&&(n=n.concat(e(i,r)))}),n}var kc=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>new ks,providedIn:"root"});let t=e;return t})(),ks=class{parse(e){let n=new Sy(e);return new Mi(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${_c(e.root,!0)}`,r=ZV(e.queryParams),i=typeof e.fragment=="string"?`#${YV(e.fragment)}`:"";return`${n}${r}${i}`}},QV=new ks;function Jd(t){return t.segments.map(e=>BT(e)).join("/")}function _c(t,e){if(!t.hasChildren())return Jd(t);if(e){let n=t.children[me]?_c(t.children[me],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==me&&r.push(`${i}:${_c(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=KV(t,(r,i)=>i===me?[_c(t.children[me],!1)]:[`${i}:${_c(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[me]!=null?`${Jd(t)}/${n[0]}`:`${Jd(t)}/(${n.join("//")})`}}function UT(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Kd(t){return UT(t).replace(/%3B/gi,";")}function YV(t){return encodeURI(t)}function Ty(t){return UT(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Zd(t){return decodeURIComponent(t)}function DT(t){return Zd(t.replace(/\+/g,"%20"))}function BT(t){return`${Ty(t.path)}${JV(t.parameters)}`}function JV(t){return Object.entries(t).map(([e,n])=>`;${Ty(e)}=${Ty(n)}`).join("")}function ZV(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Kd(n)}=${Kd(i)}`).join("&"):`${Kd(n)}=${Kd(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var XV=/^[^\/()?;#]+/;function wy(t){let e=t.match(XV);return e?e[0]:""}var eL=/^[^\/()?;=#]+/;function tL(t){let e=t.match(eL);return e?e[0]:""}var nL=/^[^=?&#]+/;function rL(t){let e=t.match(nL);return e?e[0]:""}var iL=/^[^&#]+/;function oL(t){let e=t.match(iL);return e?e[0]:""}var Sy=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Pe([],{}):new Pe([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[me]=new Pe(e,n)),r}parseSegment(){let e=wy(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new K(4009,!1);return this.capture(e),new _o(Zd(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=tL(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=wy(this.remaining);i&&(r=i,this.capture(r))}e[Zd(n)]=Zd(r)}parseQueryParam(e){let n=rL(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=oL(this.remaining);s&&(r=s,this.capture(r))}let i=DT(n),o=DT(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=wy(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new K(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=me);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[me]:new Pe([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new K(4011,!1)}};function $T(t){return t.segments.length>0?new Pe([],{[me]:t}):t}function HT(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=HT(i);if(r===me&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new Pe(t.segments,e);return sL(n)}function sL(t){if(t.numberOfChildren===1&&t.children[me]){let e=t.children[me];return new Pe(t.segments.concat(e.segments),e.children)}return t}function Dc(t){return t instanceof Mi}function aL(t,e,n=null,r=null){let i=zT(t);return qT(i,e,n,r)}function zT(t){let e;function n(o){let s={};for(let u of o.children){let l=n(u);s[u.outlet]=l}let a=new Pe(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=$T(r);return e??i}function qT(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Ey(i,i,i,n,r);let o=cL(e);if(o.toRoot())return Ey(i,i,new Pe([],{}),n,r);let s=uL(o,i,t),a=s.processChildren?Ic(s.segmentGroup,s.index,o.commands):WT(s.segmentGroup,s.index,o.commands);return Ey(i,s.segmentGroup,a,n,r)}function Xd(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Tc(t){return typeof t=="object"&&t!=null&&t.outlets}function Ey(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;t===e?s=n:s=GT(t,e,n);let a=$T(HT(s));return new Mi(a,o,i)}function GT(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=GT(o,e,n)}),new Pe(t.segments,r)}var eh=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Xd(r[0]))throw new K(4003,!1);let i=r.find(Tc);if(i&&i!==kT(r))throw new K(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function cL(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new eh(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new eh(n,e,r)}var Ps=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function uL(t,e,n){if(t.isAbsolute)return new Ps(e,!0,0);if(!n)return new Ps(e,!1,NaN);if(n.parent===null)return new Ps(n,!0,0);let r=Xd(t.commands[0])?0:1,i=n.segments.length-1+r;return lL(n,i,t.numberOfDoubleDots)}function lL(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new K(4005,!1);i=r.segments.length}return new Ps(r,!1,i-o)}function dL(t){return Tc(t[0])?t[0].outlets:{[me]:t}}function WT(t,e,n){if(t??=new Pe([],{}),t.segments.length===0&&t.hasChildren())return Ic(t,e,n);let r=hL(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new Pe(t.segments.slice(0,r.pathIndex),{});return o.children[me]=new Pe(t.segments.slice(r.pathIndex),t.children),Ic(o,0,i)}else return r.match&&i.length===0?new Pe(t.segments,{}):r.match&&!t.hasChildren()?Ay(t,e,n):r.match?Ic(t,0,i):Ay(t,e,n)}function Ic(t,e,n){if(n.length===0)return new Pe(t.segments,{});{let r=dL(n),i={};if(Object.keys(r).some(o=>o!==me)&&t.children[me]&&t.numberOfChildren===1&&t.children[me].segments.length===0){let o=Ic(t.children[me],e,n);return new Pe(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=WT(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Pe(t.segments,i)}}function hL(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(Tc(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!ST(u,l,s))return o;r+=2}else{if(!ST(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Ay(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(Tc(o)){let u=fL(o.outlets);return new Pe(r,u)}if(i===0&&Xd(n[0])){let u=t.segments[e];r.push(new _o(u.path,TT(n[0]))),i++;continue}let s=Tc(o)?o.outlets[me]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Xd(a)?(r.push(new _o(s,TT(a))),i+=2):(r.push(new _o(s,{})),i++)}return new Pe(r,{})}function fL(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Ay(new Pe([],{}),0,r))}),e}function TT(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function ST(t,e,n){return t==n.path&&er(e,n.parameters)}var Cc="imperative",Et=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Et||{}),vn=class{constructor(e,n){this.id=e,this.url=n}},Fs=class extends vn{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Et.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Rn=class extends vn{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Et.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},cn=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(cn||{}),th=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(th||{}),Ur=class extends vn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Et.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},xi=class extends vn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Et.NavigationSkipped}},Sc=class extends vn{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Et.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},nh=class extends vn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Et.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},My=class extends vn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Et.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},xy=class extends vn{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=Et.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Py=class extends vn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Et.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ry=class extends vn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Et.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ny=class{constructor(e){this.route=e,this.type=Et.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Oy=class{constructor(e){this.route=e,this.type=Et.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},ky=class{constructor(e){this.snapshot=e,this.type=Et.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Fy=class{constructor(e){this.snapshot=e,this.type=Et.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Vy=class{constructor(e){this.snapshot=e,this.type=Et.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ly=class{constructor(e){this.snapshot=e,this.type=Et.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},rh=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=Et.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Ac=class{},Vs=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};var jy=class{constructor(e){this.injector=e,this.outlet=null,this.route=null,this.children=new Fc(this.injector),this.attachRef=null}},Fc=(()=>{let e=class e{constructor(r){this.parentInjector=r,this.contexts=new Map}onChildOutletCreated(r,i){let o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new jy(this.parentInjector),this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)(W(Rt))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ih=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Uy(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Uy(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=By(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return By(e,this._root).map(n=>n.value)}};function Uy(t,e){if(t===e.value)return e;for(let n of e.children){let r=Uy(t,n);if(r)return r}return null}function By(t,e){if(t===e.value)return[e];for(let n of e.children){let r=By(t,n);if(r.length)return r.unshift(e),r}return[]}var an=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function xs(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var oh=class extends ih{constructor(e,n){super(e),this.snapshot=n,Yy(this,e)}toString(){return this.snapshot.toString()}};function KT(t){let e=pL(t),n=new dt([new _o("",{})]),r=new dt({}),i=new dt({}),o=new dt({}),s=new dt(""),a=new tr(n,r,o,s,i,me,t,e.root);return a.snapshot=e.root,new oh(new an(a,[]),e)}function pL(t){let e={},n={},r={},i="",o=new Rs([],e,r,i,n,me,t,null,{});return new ah("",new an(o,[]))}var tr=class{constructor(e,n,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ne(l=>l[Oc]))??ee(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ne(e=>Os(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ne(e=>Os(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function sh(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:j(j({},e.params),t.params),data:j(j({},e.data),t.data),resolve:j(j(j(j({},t.data),e.data),i?.data),t._resolvedData)}:r={params:j({},t.params),data:j({},t.data),resolve:j(j({},t.data),t._resolvedData??{})},i&&YT(i)&&(r.resolve[Oc]=i.title),r}var Rs=class{get title(){return this.data?.[Oc]}constructor(e,n,r,i,o,s,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Os(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Os(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},ah=class extends ih{constructor(e,n){super(n),this.url=e,Yy(this,n)}toString(){return QT(this._root)}};function Yy(t,e){e.value._routerState=t,e.children.forEach(n=>Yy(t,n))}function QT(t){let e=t.children.length>0?` { ${t.children.map(QT).join(", ")} } `:"";return`${t.value}${e}`}function Iy(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,er(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),er(e.params,n.params)||t.paramsSubject.next(n.params),HV(e.url,n.url)||t.urlSubject.next(n.url),er(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function $y(t,e){let n=er(t.params,e.params)&&WV(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||$y(t.parent,e.parent))}function YT(t){return typeof t.title=="string"||t.title===null}var Jy=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=me,this.activateEvents=new Ye,this.deactivateEvents=new Ye,this.attachEvents=new Ye,this.detachEvents=new Ye,this.parentContexts=k(Fc),this.location=k(wi),this.changeDetector=k(Ei),this.inputBinder=k(dh,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new K(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new K(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new K(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new K(4013,!1);this._activatedRoute=r;let o=this.location,a=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,l=new Hy(r,u,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=qe({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Mr]});let t=e;return t})(),Hy=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===tr?this.route:e===Fc?this.childContexts:this.parent.get(e,n)}},dh=new H(""),AT=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:i}=r,o=Ya([i.queryParams,i.params,i.data]).pipe(Kt(([s,a,u],l)=>(u=j(j(j({},s),a),u),l===0?ee(u):Promise.resolve(u)))).subscribe(s=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(r);return}let a=kD(i.component);if(!a){this.unsubscribeFromRouteData(r);return}for(let{templateName:u}of a.inputs)r.activatedComponentRef.setInput(u,s[u])});this.outletDataSubscriptions.set(r,o)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})();function gL(t,e,n){let r=Mc(t,e._root,n?n._root:void 0);return new oh(r,e)}function Mc(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=mL(t,e,n);return new an(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Mc(t,a)),s}}let r=yL(e.value),i=e.children.map(o=>Mc(t,o));return new an(r,i)}}function mL(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Mc(t,r,i);return Mc(t,r)})}function yL(t){return new tr(new dt(t.url),new dt(t.params),new dt(t.queryParams),new dt(t.fragment),new dt(t.data),t.outlet,t.component,t)}var xc=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},JT="ngNavigationCancelingError";function ch(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Dc(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=ZT(!1,cn.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function ZT(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[JT]=!0,n.cancellationCode=e,n}function vL(t){return XT(t)&&Dc(t.url)}function XT(t){return!!t&&t[JT]}var _L=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Je({type:e,selectors:[["ng-component"]],standalone:!0,features:[Ze],decls:1,vars:0,template:function(i,o){i&1&&ue(0,"router-outlet")},dependencies:[Jy],encapsulation:2});let t=e;return t})();function wL(t,e){return t.providers&&!t._injector&&(t._injector=Ed(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Zy(t){let e=t.children&&t.children.map(Zy),n=e?ye(j({},t),{children:e}):j({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==me&&(n.component=_L),n}function Pn(t){return t.outlet||me}function EL(t,e){let n=t.filter(r=>Pn(r)===e);return n.push(...t.filter(r=>Pn(r)!==e)),n}function Vc(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var IL=(t,e,n,r)=>ne(i=>(new zy(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),zy=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Iy(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=xs(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=xs(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=xs(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=xs(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Ly(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Fy(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(Iy(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Iy(a.route.value),this.activateChildRoutes(e,null,s.children)}else{let a=Vc(i.snapshot);s.attachRef=null,s.route=i,s.injector=a??s.injector,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}},uh=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ns=class{constructor(e,n){this.component=e,this.route=n}};function CL(t,e,n){let r=t._root,i=e?e._root:null;return wc(r,i,n,[r.value])}function bL(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Us(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!lC(t)?t:e.get(t):r}function wc(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=xs(e);return t.children.forEach(s=>{DL(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>bc(a,n.getContext(s),i)),i}function DL(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=TL(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new uh(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?wc(t,e,a?a.children:null,r,i):wc(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ns(a.outlet.component,s))}else s&&bc(e,a,i),i.canActivateChecks.push(new uh(r)),o.component?wc(t,null,a?a.children:null,r,i):wc(t,null,n,r,i);return i}function TL(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!wo(t.url,e.url);case"pathParamsOrQueryParamsChange":return!wo(t.url,e.url)||!er(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!$y(t,e)||!er(t.queryParams,e.queryParams);case"paramsChange":default:return!$y(t,e)}}function bc(t,e,n){let r=xs(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?bc(s,e.children.getContext(o),n):bc(s,null,n):bc(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Ns(e.outlet.component,i)):n.canDeactivateChecks.push(new Ns(null,i)):n.canDeactivateChecks.push(new Ns(null,i))}function Lc(t){return typeof t=="function"}function SL(t){return typeof t=="boolean"}function AL(t){return t&&Lc(t.canLoad)}function ML(t){return t&&Lc(t.canActivate)}function xL(t){return t&&Lc(t.canActivateChild)}function PL(t){return t&&Lc(t.canDeactivate)}function RL(t){return t&&Lc(t.canMatch)}function eS(t){return t instanceof _r||t?.name==="EmptyError"}var Qd=Symbol("INITIAL_VALUE");function Ls(){return Kt(t=>Ya(t.map(e=>e.pipe(Er(1),bl(Qd)))).pipe(ne(e=>{for(let n of e)if(n!==!0){if(n===Qd)return Qd;if(n===!1||NL(n))return n}return!0}),Bt(e=>e!==Qd),Er(1)))}function NL(t){return Dc(t)||t instanceof xc}function OL(t,e){return it(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?ee(ye(j({},n),{guardsResult:!0})):kL(s,r,i,t).pipe(it(a=>a&&SL(a)?FL(r,o,t,e):ee(a)),ne(a=>ye(j({},n),{guardsResult:a})))})}function kL(t,e,n,r){return Ve(t).pipe(it(i=>BL(i.component,i.route,n,e,r)),jn(i=>i!==!0,!0))}function FL(t,e,n,r){return Ve(e).pipe(wr(i=>os(LL(i.route.parent,r),VL(i.route,r),UL(t,i.path,n),jL(t,i.route,n))),jn(i=>i!==!0,!0))}function VL(t,e){return t!==null&&e&&e(new Vy(t)),ee(!0)}function LL(t,e){return t!==null&&e&&e(new ky(t)),ee(!0)}function jL(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return ee(!0);let i=r.map(o=>El(()=>{let s=Vc(e)??n,a=Us(o,s),u=ML(a)?a.canActivate(e,t):rn(s,()=>a(e,t));return Pi(u).pipe(jn())}));return ee(i).pipe(Ls())}function UL(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>bL(s)).filter(s=>s!==null).map(s=>El(()=>{let a=s.guards.map(u=>{let l=Vc(s.node)??n,h=Us(u,l),p=xL(h)?h.canActivateChild(r,t):rn(l,()=>h(r,t));return Pi(p).pipe(jn())});return ee(a).pipe(Ls())}));return ee(o).pipe(Ls())}function BL(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return ee(!0);let s=o.map(a=>{let u=Vc(e)??i,l=Us(a,u),h=PL(l)?l.canDeactivate(t,e,n,r):rn(u,()=>l(t,e,n,r));return Pi(h).pipe(jn())});return ee(s).pipe(Ls())}function $L(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return ee(!0);let o=i.map(s=>{let a=Us(s,t),u=AL(a)?a.canLoad(e,n):rn(t,()=>a(e,n));return Pi(u)});return ee(o).pipe(Ls(),tS(r))}function tS(t){return tl(ot(e=>{if(typeof e!="boolean")throw ch(t,e)}),ne(e=>e===!0))}function HL(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return ee(!0);let o=i.map(s=>{let a=Us(s,t),u=RL(a)?a.canMatch(e,n):rn(t,()=>a(e,n));return Pi(u)});return ee(o).pipe(Ls(),tS(r))}var Pc=class{constructor(e){this.segmentGroup=e||null}},Rc=class extends Error{constructor(e){super(),this.urlTree=e}};function Ms(t){return is(new Pc(t))}function zL(t){return is(new K(4e3,!1))}function qL(t){return is(ZT(!1,cn.GuardRejected))}var qy=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return ee(r);if(i.numberOfChildren>1||!i.children[me])return zL(`${e.redirectTo}`);i=i.children[me]}}applyRedirectCommands(e,n,r,i,o){if(typeof n!="string"){let a=n,{queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,params:y,data:A,title:N}=i,x=rn(o,()=>a({params:y,data:A,queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,title:N}));if(x instanceof Mi)throw new Rc(x);n=x}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new Rc(s);return s}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new Mi(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new Pe(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new K(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Gy={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function GL(t,e,n,r,i){let o=Xy(t,e,n);return o.matched?(r=wL(e,r),HL(r,e,n,i).pipe(ne(s=>s===!0?o:j({},Gy)))):ee(o)}function Xy(t,e,n){if(e.path==="**")return WL(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?j({},Gy):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||$V)(n,t,e);if(!i)return j({},Gy);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?j(j({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function WL(t){return{matched:!0,parameters:t.length>0?kT(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function MT(t,e,n,r){return n.length>0&&YL(t,n,r)?{segmentGroup:new Pe(e,QL(r,new Pe(n,t.children))),slicedSegments:[]}:n.length===0&&JL(t,n,r)?{segmentGroup:new Pe(t.segments,KL(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Pe(t.segments,t.children),slicedSegments:n}}function KL(t,e,n,r){let i={};for(let o of n)if(hh(t,e,o)&&!r[Pn(o)]){let s=new Pe([],{});i[Pn(o)]=s}return j(j({},r),i)}function QL(t,e){let n={};n[me]=e;for(let r of t)if(r.path===""&&Pn(r)!==me){let i=new Pe([],{});n[Pn(r)]=i}return n}function YL(t,e,n){return n.some(r=>hh(t,e,r)&&Pn(r)!==me)}function JL(t,e,n){return n.some(r=>hh(t,e,r))}function hh(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function ZL(t,e,n,r){return Pn(t)!==r&&(r===me||!hh(e,n,t))?!1:Xy(e,t,n).matched}function XL(t,e,n){return e.length===0&&!t.children[n]}var Wy=class{};function e2(t,e,n,r,i,o,s="emptyOnly"){return new Ky(t,e,n,r,i,s,o).recognize()}var t2=31,Ky=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new qy(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new K(4002,`'${e.segmentGroup}'`)}recognize(){let e=MT(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ne(({children:n,rootSnapshot:r})=>{let i=new an(r,n),o=new ah("",i),s=aL(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new Rs([],Object.freeze({}),Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),me,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,me,n).pipe(ne(r=>({children:r,rootSnapshot:n})),ui(r=>{if(r instanceof Rc)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Pc?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(ne(s=>s instanceof an?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Ve(o).pipe(wr(s=>{let a=r.children[s],u=EL(n,s);return this.processSegmentGroup(e,u,a,s,i)}),Cl((s,a)=>(s.push(...a),s)),li(null),zp(),it(s=>{if(s===null)return Ms(r);let a=nS(s);return n2(a),ee(a)}))}processSegment(e,n,r,i,o,s,a){return Ve(n).pipe(wr(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,o,s,a).pipe(ui(l=>{if(l instanceof Pc)return ee(null);throw l}))),jn(u=>!!u),ui(u=>{if(eS(u))return XL(r,i,o)?ee(new Wy):Ms(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,o,s,a,u){return ZL(r,i,o,s)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,u):Ms(i):Ms(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:m}=Xy(n,i,o);if(!u)return Ms(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>t2&&(this.allowRedirects=!1));let y=new Rs(o,l,Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,xT(i),Pn(i),i.component??i._loadedComponent??null,i,PT(i)),A=sh(y,a,this.paramsInheritanceStrategy);y.params=Object.freeze(A.params),y.data=Object.freeze(A.data);let N=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,y,e);return this.applyRedirects.lineralizeSegments(i,N).pipe(it(x=>this.processSegment(e,r,n,x.concat(m),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a=GL(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(Kt(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Kt(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:y}=u,A=new Rs(m,p,Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,xT(r),Pn(r),r.component??r._loadedComponent??null,r,PT(r)),N=sh(A,s,this.paramsInheritanceStrategy);A.params=Object.freeze(N.params),A.data=Object.freeze(N.data);let{segmentGroup:x,slicedSegments:V}=MT(n,m,y,l);if(V.length===0&&x.hasChildren())return this.processChildren(h,l,x,A).pipe(ne(G=>new an(A,G)));if(l.length===0&&V.length===0)return ee(new an(A,[]));let Q=Pn(r)===o;return this.processSegment(h,l,x,V,Q?me:o,!0,A).pipe(ne(G=>new an(A,G instanceof an?[G]:[])))}))):Ms(n)))}getChildConfig(e,n,r){return n.children?ee({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?ee({routes:n._loadedRoutes,injector:n._loadedInjector}):$L(e,n,r,this.urlSerializer).pipe(it(i=>i?this.configLoader.loadChildren(e,n).pipe(ot(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):qL(n))):ee({routes:[],injector:e})}};function n2(t){t.sort((e,n)=>e.value.outlet===me?-1:n.value.outlet===me?1:e.value.outlet.localeCompare(n.value.outlet))}function r2(t){let e=t.value.routeConfig;return e&&e.path===""}function nS(t){let e=[],n=new Set;for(let r of t){if(!r2(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=nS(r.children);e.push(new an(r.value,i))}return e.filter(r=>!n.has(r))}function xT(t){return t.data||{}}function PT(t){return t.resolve||{}}function i2(t,e,n,r,i,o){return it(s=>e2(t,e,n,r,s.extractedUrl,i,o).pipe(ne(({state:a,tree:u})=>ye(j({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function o2(t,e){return it(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return ee(n);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of rS(u))s.add(l);let a=0;return Ve(s).pipe(wr(u=>o.has(u)?s2(u,r,t,e):(u.data=sh(u,u.parent,t).resolve,ee(void 0))),ot(()=>a++),ss(1),it(u=>a===s.size?ee(n):en))})}function rS(t){let e=t.children.map(n=>rS(n)).flat();return[t,...e]}function s2(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!YT(i)&&(o[Oc]=i.title),a2(o,t,e,r).pipe(ne(s=>(t._resolvedData=s,t.data=sh(t,t.parent,n).resolve,null)))}function a2(t,e,n,r){let i=Dy(t);if(i.length===0)return ee({});let o={};return Ve(i).pipe(it(s=>c2(t[s],e,n,r).pipe(jn(),ot(a=>{if(a instanceof xc)throw ch(new ks,a);o[s]=a}))),ss(1),Hp(o),ui(s=>eS(s)?en:is(s)))}function c2(t,e,n,r){let i=Vc(e)??r,o=Us(t,i),s=o.resolve?o.resolve(e,n):rn(i,()=>o(e,n));return Pi(s)}function Cy(t){return Kt(e=>{let n=t(e);return n?Ve(n).pipe(ne(()=>e)):ee(e)})}var iS=(()=>{let e=class e{buildTitle(r){let i,o=r.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===me);return i}getResolvedTitleForRoute(r){return r.data[Oc]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>k(u2),providedIn:"root"});let t=e;return t})(),u2=(()=>{let e=class e extends iS{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(W(CT))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),jc=new H("",{providedIn:"root",factory:()=>({})}),Nc=new H(""),ev=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=k(Ad)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return ee(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Pi(r.loadComponent()).pipe(ne(oS),ot(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),di(()=>{this.componentLoaders.delete(r)})),o=new Xo(i,()=>new vt).pipe(Zo());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return ee({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=l2(i,this.compiler,r,this.onLoadEndListener).pipe(di(()=>{this.childrenLoaders.delete(i)})),a=new Xo(s,()=>new vt).pipe(Zo());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function l2(t,e,n,r){return Pi(t.loadChildren()).pipe(ne(oS),it(i=>i instanceof rc||Array.isArray(i)?ee(i):Ve(e.compileModuleAsync(i))),ne(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(Nc,[],{optional:!0,self:!0}).flat()),{routes:s.map(Zy),injector:o}}))}function d2(t){return t&&typeof t=="object"&&"default"in t}function oS(t){return d2(t)?t.default:t}var tv=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>k(h2),providedIn:"root"});let t=e;return t})(),h2=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),sS=new H(""),aS=new H("");function f2(t,e,n){let r=t.get(aS),i=t.get(kt);return t.get(be).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),p2(t))),{onViewTransitionCreated:u}=r;return u&&rn(t,()=>u({transition:a,from:e,to:n})),s})}function p2(t){return new Promise(e=>{wd(()=>setTimeout(e),{injector:t,phase:fi.Read})})}var g2=new H(""),nv=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new vt,this.transitionAbortSubject=new vt,this.configLoader=k(ev),this.environmentInjector=k(Rt),this.urlSerializer=k(kc),this.rootContexts=k(Fc),this.location=k(Ss),this.inputBindingEnabled=k(dh,{optional:!0})!==null,this.titleStrategy=k(iS),this.options=k(jc,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=k(tv),this.createViewTransition=k(sS,{optional:!0}),this.navigationErrorHandler=k(g2,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ee(void 0),this.rootComponentType=null;let r=o=>this.events.next(new Ny(o)),i=o=>this.events.next(new Oy(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(ye(j(j({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,o){return this.transitions=new dt({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Cc,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Bt(s=>s.id!==0),ne(s=>ye(j({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Kt(s=>{let a=!1,u=!1;return ee(s).pipe(Kt(l=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",cn.SupersededByNewNavigation),en;this.currentTransition=s,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?ye(j({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let h=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!h&&p!=="reload"){let m="";return this.events.next(new xi(l.id,this.urlSerializer.serialize(l.rawUrl),m,th.IgnoredSameUrlNavigation)),l.resolve(!1),en}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return ee(l).pipe(Kt(m=>{let y=this.transitions?.getValue();return this.events.next(new Fs(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),y!==this.transitions?.getValue()?en:Promise.resolve(m)}),i2(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),ot(m=>{s.targetSnapshot=m.targetSnapshot,s.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation=ye(j({},this.currentNavigation),{finalUrl:m.urlAfterRedirects});let y=new nh(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(y)}));if(h&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:m,extractedUrl:y,source:A,restoredState:N,extras:x}=l,V=new Fs(m,this.urlSerializer.serialize(y),A,N);this.events.next(V);let Q=KT(this.rootComponentType).snapshot;return this.currentTransition=s=ye(j({},l),{targetSnapshot:Q,urlAfterRedirects:y,extras:ye(j({},x),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=y,ee(s)}else{let m="";return this.events.next(new xi(l.id,this.urlSerializer.serialize(l.extractedUrl),m,th.IgnoredByUrlHandlingStrategy)),l.resolve(!1),en}}),ot(l=>{let h=new My(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),ne(l=>(this.currentTransition=s=ye(j({},l),{guards:CL(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),s)),OL(this.environmentInjector,l=>this.events.next(l)),ot(l=>{if(s.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw ch(this.urlSerializer,l.guardsResult);let h=new xy(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(h)}),Bt(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",cn.GuardRejected),!1)),Cy(l=>{if(l.guards.canActivateChecks.length)return ee(l).pipe(ot(h=>{let p=new Py(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}),Kt(h=>{let p=!1;return ee(h).pipe(o2(this.paramsInheritanceStrategy,this.environmentInjector),ot({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(h,"",cn.NoDataFromResolver)}}))}),ot(h=>{let p=new Ry(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}))}),Cy(l=>{let h=p=>{let m=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(p.routeConfig).pipe(ot(y=>{p.component=y}),ne(()=>{})));for(let y of p.children)m.push(...h(y));return m};return Ya(h(l.targetSnapshot.root)).pipe(li(null),Er(1))}),Cy(()=>this.afterPreactivation()),Kt(()=>{let{currentSnapshot:l,targetSnapshot:h}=s,p=this.createViewTransition?.(this.environmentInjector,l.root,h.root);return p?Ve(p).pipe(ne(()=>s)):ee(s)}),ne(l=>{let h=gL(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s=ye(j({},l),{targetRouterState:h}),this.currentNavigation.targetRouterState=h,s}),ot(()=>{this.events.next(new Ac)}),IL(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Er(1),ot({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Rn(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),qp(this.transitionAbortSubject.pipe(ot(l=>{throw l}))),di(()=>{!a&&!u&&this.cancelNavigationTransition(s,"",cn.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),ui(l=>{if(u=!0,XT(l))this.events.next(new Ur(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),vL(l)?this.events.next(new Vs(l.url,l.navigationBehaviorOptions)):s.resolve(!1);else{let h=new Sc(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0);try{let p=rn(this.environmentInjector,()=>this.navigationErrorHandler?.(h));if(p instanceof xc){let{message:m,cancellationCode:y}=ch(this.urlSerializer,p);this.events.next(new Ur(s.id,this.urlSerializer.serialize(s.extractedUrl),m,y)),this.events.next(new Vs(p.redirectTo,p.navigationBehaviorOptions))}else{this.events.next(h);let m=r.errorHandler(l);s.resolve(!!m)}}catch(p){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(p)}}return en}))}))}cancelNavigationTransition(r,i,o){let s=new Ur(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function m2(t){return t!==Cc}var y2=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>k(v2),providedIn:"root"});let t=e;return t})(),Qy=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},v2=(()=>{let e=class e extends Qy{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Qn(e)))(o||e)}})(),e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),cS=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>k(_2),providedIn:"root"});let t=e;return t})(),_2=(()=>{let e=class e extends cS{constructor(){super(...arguments),this.location=k(Ss),this.urlSerializer=k(kc),this.options=k(jc,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=k(tv),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Mi,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=KT(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof Fs)this.stateMemento=this.createStateMemento();else if(r instanceof xi)this.rawUrlTree=i.initialUrl;else if(r instanceof nh){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(o,i)}}else r instanceof Ac?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof Ur&&(r.code===cn.GuardRejected||r.code===cn.NoDataFromResolver)?this.restoreHistory(i):r instanceof Sc?this.restoreHistory(i,!0):r instanceof Rn&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let o=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let s=this.browserPageId,a=j(j({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(o,"",a)}else{let s=j(j({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===r.finalUrl&&s===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Qn(e)))(o||e)}})(),e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ec=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Ec||{});function uS(t,e){t.events.pipe(Bt(n=>n instanceof Rn||n instanceof Ur||n instanceof Sc||n instanceof xi),ne(n=>n instanceof Rn||n instanceof xi?Ec.COMPLETE:(n instanceof Ur?n.code===cn.Redirect||n.code===cn.SupersededByNewNavigation:!1)?Ec.REDIRECTING:Ec.FAILED),Bt(n=>n!==Ec.REDIRECTING),Er(1)).subscribe(()=>{e()})}function w2(t){throw t}var E2={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},I2={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},wt=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=k(Td),this.stateManager=k(cS),this.options=k(jc,{optional:!0})||{},this.pendingTasks=k(xr),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=k(nv),this.urlSerializer=k(kc),this.location=k(Ss),this.urlHandlingStrategy=k(tv),this._events=new vt,this.errorHandler=this.options.errorHandler||w2,this.navigated=!1,this.routeReuseStrategy=k(y2),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=k(Nc,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!k(dh,{optional:!0}),this.eventsSubscription=new Qe,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof Ur&&i.code!==cn.Redirect&&i.code!==cn.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Rn)this.navigated=!0;else if(i instanceof Vs){let a=i.navigationBehaviorOptions,u=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),l=j({info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||m2(o.source)},a);this.scheduleNavigation(u,Cc,null,l,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}b2(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Cc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let l=j({},o);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let u=this.parseUrl(r);this.scheduleNavigation(u,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Zy),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:u,preserveFragment:l}=i,h=l?this.currentUrlTree.fragment:a,p=null;switch(u){case"merge":p=j(j({},this.currentUrlTree.queryParams),s);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=s||null}p!==null&&(p=this.removeEmptyProps(p));let m;try{let y=o?o.snapshot:this.routerState.snapshot.root;m=zT(y)}catch{(typeof r[0]!="string"||r[0][0]!=="/")&&(r=[]),m=this.currentUrlTree.root}return qT(m,r,p,h??null)}navigateByUrl(r,i={skipLocationChange:!1}){let o=Dc(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,Cc,null,i)}navigate(r,i={skipLocationChange:!1}){return C2(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let o;if(i===!0?o=j({},E2):i===!1?o=j({},I2):o=i,Dc(r))return bT(this.currentUrlTree,r,o);let s=this.parseUrl(r);return bT(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.entries(r).reduce((i,[o,s])=>(s!=null&&(i[o]=s),i),{})}scheduleNavigation(r,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let u,l,h;a?(u=a.resolve,l=a.reject,h=a.promise):h=new Promise((m,y)=>{u=m,l=y});let p=this.pendingTasks.add();return uS(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:s,resolve:u,reject:l,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(m=>Promise.reject(m))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function C2(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new K(4008,!1)}function b2(t){return!(t instanceof Ac)&&!(t instanceof Vs)}var js=(()=>{let e=class e{constructor(r,i,o,s,a,u){this.router=r,this.route=i,this.tabIndexAttribute=o,this.renderer=s,this.el=a,this.locationStrategy=u,this.href=null,this.commands=null,this.onChanges=new vt,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let l=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=r.events.subscribe(h=>{h instanceof Rn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,o,s,a){let u=this.urlTree;if(u===null||this.isAnchorElement&&(r!==0||i||o||s||a||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(u,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:Sb(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let o=this.renderer,s=this.el.nativeElement;i!==null?o.setAttribute(s,r,i):o.removeAttribute(s,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(B(wt),B(tr),_m("tabindex"),B(An),B(zt),B(Lr))},e.\u0275dir=qe({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,o){i&1&&$("click",function(a){return o.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&uc("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Ii],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Ii],replaceUrl:[2,"replaceUrl","replaceUrl",Ii],routerLink:"routerLink"},standalone:!0,features:[Um,Mr]});let t=e;return t})(),lS=(()=>{let e=class e{get isActive(){return this._isActive}constructor(r,i,o,s,a){this.router=r,this.element=i,this.renderer=o,this.cdr=s,this.link=a,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Ye,this.routerEventsSubscription=r.events.subscribe(u=>{u instanceof Rn&&this.update()})}ngAfterContentInit(){ee(this.links.changes,ee(null)).pipe(ci()).subscribe(r=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let r=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=Ve(r).pipe(ci()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(r){let i=Array.isArray(r)?r:r.split(" ");this.classes=i.filter(o=>!!o)}ngOnChanges(r){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let r=this.hasActiveLinks();this.classes.forEach(i=>{r?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),r&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==r&&(this._isActive=r,this.cdr.markForCheck(),this.isActiveChange.emit(r))})}isLinkActive(r){let i=D2(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return o=>{let s=o.urlTree;return s?r.isActive(s,i):!1}}hasActiveLinks(){let r=this.isLinkActive(this.router);return this.link&&r(this.link)||this.links.some(r)}};e.\u0275fac=function(i){return new(i||e)(B(wt),B(zt),B(An),B(Ei),B(js,8))},e.\u0275dir=qe({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(i,o,s){if(i&1&&ID(s,js,5),i&2){let a;Id(a=Cd())&&(o.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Mr]});let t=e;return t})();function D2(t){return!!t.paths}var lh=class{};var T2=(()=>{let e=class e{constructor(r,i,o,s,a){this.router=r,this.injector=o,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Bt(r=>r instanceof Rn),wr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){let o=[];for(let s of i){s.providers&&!s._injector&&(s._injector=Ed(s.providers,r,`Route: ${s.path}`));let a=s._injector??r,u=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&o.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&o.push(this.processRoutes(u,s.children??s._loadedRoutes))}return Ve(o).pipe(ci())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let o;i.loadChildren&&i.canLoad===void 0?o=this.loader.loadChildren(r,i):o=ee(null);let s=o.pipe(it(a=>a===null?ee(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));if(i.loadComponent&&!i._loadedComponent){let a=this.loader.loadComponent(i);return Ve([s,a]).pipe(ci())}else return s})}};e.\u0275fac=function(i){return new(i||e)(W(wt),W(Ad),W(Rt),W(lh),W(ev))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),dS=new H(""),S2=(()=>{let e=class e{constructor(r,i,o,s,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=o,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=k(Rt),a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Fs?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof Rn?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof xi&&r.code===th.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof rh&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>E(this,null,function*(){yield new Promise(o=>{setTimeout(()=>{o()}),wd(()=>{o()},{injector:this.environmentInjector})}),this.zone.run(()=>{this.transitions.events.next(new rh(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(i){jb()},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})();function hS(t,...e){return nn([{provide:Nc,multi:!0,useValue:t},[],{provide:tr,useFactory:fS,deps:[wt]},{provide:dc,multi:!0,useFactory:pS},e.map(n=>n.\u0275providers)])}function fS(t){return t.routerState.root}function Uc(t,e){return{\u0275kind:t,\u0275providers:e}}function pS(){let t=k(ht);return e=>{let n=t.get(vo);if(e!==n.components[0])return;let r=t.get(wt),i=t.get(gS);t.get(rv)===1&&r.initialNavigation(),t.get(mS,null,ve.Optional)?.setUpPreloading(),t.get(dS,null,ve.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var gS=new H("",{factory:()=>new vt}),rv=new H("",{providedIn:"root",factory:()=>1});function A2(){return Uc(2,[{provide:rv,useValue:0},{provide:Sd,multi:!0,deps:[ht],useFactory:e=>{let n=e.get(zD,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(wt),o=e.get(gS);uS(i,()=>{r(!0)}),e.get(nv).afterPreactivation=()=>(r(!0),o.closed?ee(void 0):o),i.initialNavigation()}))}}])}function M2(){return Uc(3,[{provide:Sd,multi:!0,useFactory:()=>{let e=k(wt);return()=>{e.setUpLocationChangeListener()}}},{provide:rv,useValue:2}])}var mS=new H("");function x2(t){return Uc(0,[{provide:mS,useExisting:T2},{provide:lh,useExisting:t}])}function P2(){return Uc(8,[AT,{provide:dh,useExisting:AT}])}function R2(t){let e=[{provide:sS,useValue:f2},{provide:aS,useValue:j({skipNextTransition:!!t?.skipInitialTransition},t)}];return Uc(9,e)}var RT=new H("ROUTER_FORROOT_GUARD"),N2=[Ss,{provide:kc,useClass:ks},wt,Fc,{provide:tr,useFactory:fS,deps:[wt]},ev,[]],Bs=(()=>{let e=class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[N2,[],{provide:Nc,multi:!0,useValue:r},{provide:RT,useFactory:V2,deps:[[wt,new ft,new nm]]},{provide:jc,useValue:i||{}},i?.useHash?k2():F2(),O2(),i?.preloadingStrategy?x2(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?L2(i):[],i?.bindToComponentInputs?P2().\u0275providers:[],i?.enableViewTransitions?R2().\u0275providers:[],j2()]}}static forChild(r){return{ngModule:e,providers:[{provide:Nc,multi:!0,useValue:r}]}}};e.\u0275fac=function(i){return new(i||e)(W(RT,8))},e.\u0275mod=Kn({type:e}),e.\u0275inj=Wn({});let t=e;return t})();function O2(){return{provide:dS,useFactory:()=>{let t=k(eT),e=k(be),n=k(jc),r=k(nv),i=k(kc);return n.scrollOffset&&t.setOffset(n.scrollOffset),new S2(i,r,t,e,n)}}}function k2(){return{provide:Lr,useClass:GD}}function F2(){return{provide:Lr,useClass:ny}}function V2(t){return"guarded"}function L2(t){return[t.initialNavigation==="disabled"?M2().\u0275providers:[],t.initialNavigation==="enabledBlocking"?A2().\u0275providers:[]]}var NT=new H("");function j2(){return[{provide:NT,useFactory:pS},{provide:dc,multi:!0,useExisting:NT}]}var vS=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},U2=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},fh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,m=(a&15)<<2|l>>6,y=l&63;u||(y=64,s||(m=64)),r.push(n[h],n[p],n[m],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(vS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):U2(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new ov;let m=o<<2|a>>4;if(r.push(m),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let A=l<<6&192|p;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},ov=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},B2=function(t){let e=vS(t);return fh.encodeByteArray(e,!0)},Bc=function(t){return B2(t).replace(/\./g,"")},av=function(t){try{return fh.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function cv(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var $2=()=>cv().__FIREBASE_DEFAULTS__,H2=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},z2=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&av(t[1]);return e&&JSON.parse(e)},ph=()=>{try{return $2()||H2()||z2()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},uv=t=>{var e,n;return(n=(e=ph())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},_S=t=>{let e=uv(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},lv=()=>{var t;return(t=ph())===null||t===void 0?void 0:t.config},dv=t=>{var e;return(e=ph())===null||e===void 0?void 0:e[`_${t}`]};var Br=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function wS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Bc(JSON.stringify(n)),Bc(JSON.stringify(s)),""].join(".")}function It(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ES(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(It())}function q2(){var t;let e=(t=ph())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function IS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function CS(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function bS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function DS(){let t=It();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function TS(){return!q2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Hs(){try{return typeof indexedDB=="object"}catch{return!1}}function SS(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var G2="FirebaseError",un=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=G2,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nn.prototype.create)}},Nn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?W2(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new un(i,a,r)}};function W2(t,e){return t.replace(K2,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var K2=/\{\$([^}]+)}/g;function AS(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Eo(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(yS(o)&&yS(s)){if(!Eo(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function yS(t){return t!==null&&typeof t=="object"}function $c(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function MS(t,e){let n=new sv(t,e);return n.subscribe.bind(n)}var sv=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Q2(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=iv),i.error===void 0&&(i.error=iv),i.complete===void 0&&(i.complete=iv);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function Q2(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function iv(){}var xS=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{let e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})};var Y2=1e3,J2=2,Z2=4*60*60*1e3,X2=.5;function PS(t,e=Y2,n=J2){let r=e*Math.pow(n,t),i=Math.round(X2*r*(Math.random()-.5)*2);return Math.min(Z2,r+i)}function gt(t){return t&&t._delegate?t._delegate:t}var Gt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Io="[DEFAULT]";var hv=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Br;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(t3(e))try{this.getOrInitializeService({instanceIdentifier:Io})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Io){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return E(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Io){return this.instances.has(e)}getOptions(e=Io){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:e3(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Io){return this.component?this.component.multipleInstances?e:Io:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function e3(t){return t===Io?void 0:t}function t3(t){return t.instantiationMode==="EAGER"}var gh=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new hv(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var n3=[],we=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(we||{}),r3={debug:we.DEBUG,verbose:we.VERBOSE,info:we.INFO,warn:we.WARN,error:we.ERROR,silent:we.SILENT},i3=we.INFO,o3={[we.DEBUG]:"log",[we.VERBOSE]:"log",[we.INFO]:"info",[we.WARN]:"warn",[we.ERROR]:"error"},s3=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=o3[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},nr=class{constructor(e){this.name=e,this._logLevel=i3,this._logHandler=s3,this._userLogHandler=null,n3.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in we))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?r3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,we.DEBUG,...e),this._logHandler(this,we.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,we.VERBOSE,...e),this._logHandler(this,we.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,we.INFO,...e),this._logHandler(this,we.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,we.WARN,...e),this._logHandler(this,we.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,we.ERROR,...e),this._logHandler(this,we.ERROR,...e)}};var a3=(t,e)=>e.some(n=>t instanceof n),RS,NS;function c3(){return RS||(RS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function u3(){return NS||(NS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var OS=new WeakMap,pv=new WeakMap,kS=new WeakMap,fv=new WeakMap,mv=new WeakMap;function l3(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(rr(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&OS.set(n,t)}).catch(()=>{}),mv.set(e,t),e}function d3(t){if(pv.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});pv.set(t,e)}var gv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return pv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||kS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return rr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function FS(t){gv=t(gv)}function h3(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(mh(this),e,...n);return kS.set(r,e.sort?e.sort():[e]),rr(r)}:u3().includes(t)?function(...e){return t.apply(mh(this),e),rr(OS.get(this))}:function(...e){return rr(t.apply(mh(this),e))}}function f3(t){return typeof t=="function"?h3(t):(t instanceof IDBTransaction&&d3(t),a3(t,c3())?new Proxy(t,gv):t)}function rr(t){if(t instanceof IDBRequest)return l3(t);if(fv.has(t))return fv.get(t);let e=f3(t);return e!==t&&(fv.set(t,e),mv.set(e,t)),e}var mh=t=>mv.get(t);function LS(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=rr(s);return r&&s.addEventListener("upgradeneeded",u=>{r(rr(s.result),u.oldVersion,u.newVersion,rr(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var p3=["get","getKey","getAll","getAllKeys","count"],g3=["put","add","delete","clear"],yv=new Map;function VS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(yv.get(e))return yv.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=g3.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||p3.includes(n)))return;let o=function(s,...a){return E(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&u.done]))[0]})};return yv.set(e,o),o}FS(t=>ye(j({},t),{get:(e,n,r)=>VS(e,n)||t.get(e,n,r),has:(e,n)=>!!VS(e,n)||t.has(e,n)}));var _v=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(m3(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function m3(t){let e=t.getComponent();return e?.type==="VERSION"}var wv="@firebase/app",jS="0.10.13";var $r=new nr("@firebase/app"),y3="@firebase/app-compat",v3="@firebase/analytics-compat",_3="@firebase/analytics",w3="@firebase/app-check-compat",E3="@firebase/app-check",I3="@firebase/auth",C3="@firebase/auth-compat",b3="@firebase/database",D3="@firebase/data-connect",T3="@firebase/database-compat",S3="@firebase/functions",A3="@firebase/functions-compat",M3="@firebase/installations",x3="@firebase/installations-compat",P3="@firebase/messaging",R3="@firebase/messaging-compat",N3="@firebase/performance",O3="@firebase/performance-compat",k3="@firebase/remote-config",F3="@firebase/remote-config-compat",V3="@firebase/storage",L3="@firebase/storage-compat",j3="@firebase/firestore",U3="@firebase/vertexai-preview",B3="@firebase/firestore-compat",$3="firebase",H3="10.14.1";var Ev="[DEFAULT]",z3={[wv]:"fire-core",[y3]:"fire-core-compat",[_3]:"fire-analytics",[v3]:"fire-analytics-compat",[E3]:"fire-app-check",[w3]:"fire-app-check-compat",[I3]:"fire-auth",[C3]:"fire-auth-compat",[b3]:"fire-rtdb",[D3]:"fire-data-connect",[T3]:"fire-rtdb-compat",[S3]:"fire-fn",[A3]:"fire-fn-compat",[M3]:"fire-iid",[x3]:"fire-iid-compat",[P3]:"fire-fcm",[R3]:"fire-fcm-compat",[N3]:"fire-perf",[O3]:"fire-perf-compat",[k3]:"fire-rc",[F3]:"fire-rc-compat",[V3]:"fire-gcs",[L3]:"fire-gcs-compat",[j3]:"fire-fst",[B3]:"fire-fst-compat",[U3]:"fire-vertex","fire-js":"fire-js",[$3]:"fire-js-all"};var Hc=new Map,q3=new Map,Iv=new Map;function US(t,e){try{t.container.addComponent(e)}catch(n){$r.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function On(t){let e=t.name;if(Iv.has(e))return $r.debug(`There were multiple attempts to register component ${e}.`),!1;Iv.set(e,t);for(let n of Hc.values())US(n,t);for(let n of q3.values())US(n,t);return!0}function Ni(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Hr(t){return t.settings!==void 0}var G3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ri=new Nn("app","Firebase",G3);var Cv=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Gt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ri.create("app-deleted",{appName:this._name})}};var Oi=H3;function Tv(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Ev,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ri.create("bad-app-name",{appName:String(i)});if(n||(n=lv()),!n)throw Ri.create("no-options");let o=Hc.get(i);if(o){if(Eo(n,o.options)&&Eo(r,o.config))return o;throw Ri.create("duplicate-app",{appName:i})}let s=new gh(i);for(let u of Iv.values())s.addComponent(u);let a=new Cv(n,r,s);return Hc.set(i,a),a}function ki(t=Ev){let e=Hc.get(t);if(!e&&t===Ev&&lv())return Tv();if(!e)throw Ri.create("no-app",{appName:t});return e}function yh(){return Array.from(Hc.values())}function We(t,e,n){var r;let i=(r=z3[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$r.warn(a.join(" "));return}On(new Gt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var W3="firebase-heartbeat-database",K3=1,zc="firebase-heartbeat-store",vv=null;function zS(){return vv||(vv=LS(W3,K3,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(zc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ri.create("idb-open",{originalErrorMessage:t.message})})),vv}function Q3(t){return E(this,null,function*(){try{let n=(yield zS()).transaction(zc),r=yield n.objectStore(zc).get(qS(t));return yield n.done,r}catch(e){if(e instanceof un)$r.warn(e.message);else{let n=Ri.create("idb-get",{originalErrorMessage:e?.message});$r.warn(n.message)}}})}function BS(t,e){return E(this,null,function*(){try{let r=(yield zS()).transaction(zc,"readwrite");yield r.objectStore(zc).put(e,qS(t)),yield r.done}catch(n){if(n instanceof un)$r.warn(n.message);else{let r=Ri.create("idb-set",{originalErrorMessage:n?.message});$r.warn(r.message)}}})}function qS(t){return`${t.name}!${t.options.appId}`}var Y3=1024,J3=30*24*60*60*1e3,bv=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Dv(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return E(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=$S();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=J3}),this._storage.overwrite(this._heartbeatsCache))}catch(r){$r.warn(r)}})}getHeartbeatsHeader(){return E(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=$S(),{heartbeatsToSend:r,unsentEntries:i}=Z3(this._heartbeatsCache.heartbeats),o=Bc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return $r.warn(n),""}})}};function $S(){return new Date().toISOString().substring(0,10)}function Z3(t,e=Y3){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),HS(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),HS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Dv=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return E(this,null,function*(){return Hs()?SS().then(()=>!0).catch(()=>!1):!1})}read(){return E(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield Q3(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return E(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return BS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return E(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return BS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function HS(t){return Bc(JSON.stringify({version:2,heartbeats:t})).length}function X3(t){On(new Gt("platform-logger",e=>new _v(e),"PRIVATE")),On(new Gt("heartbeat",e=>new bv(e),"PRIVATE")),We(wv,jS,t),We(wv,jS,"esm2017"),We("fire-js","")}X3("");var ej="firebase",tj="10.14.1";We(ej,tj,"app");var zr=new Tr("ANGULARFIRE2_VERSION");function qs(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Gs=(t,e)=>{let n=e?[e]:yh(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Fi=class{constructor(){return Gs(Av)}},Av="app-check";function zs(){}var vh=class{zone;delegate;constructor(e,n=Lp){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,r)}},Sv=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",zs,{},zs,zs)),n.pipe(ot({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Vi=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new vh(Zone.current)),this.insideAngular=n.run(()=>new vh(Zone.current,rs)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(W(be))};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function _h(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function nj(t){return _h().ngZone.runOutsideAngular(()=>t())}function Co(t){return _h().ngZone.run(()=>t())}function rj(t){return ij(_h())(t)}function ij(t){return function(n){return n=n.lift(new Sv(t.ngZone)),n.pipe(ai(t.outsideAngular),si(t.insideAngular))}}var oj=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Co(()=>t.apply(void 0,r))},St=(t,e)=>function(){let n,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(n||=Co(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",zs,{},zs,zs))),r[o]=oj(r[o],n));let i=nj(()=>t.apply(this,r));if(!e)if(i instanceof pe){let o=_h();return i.pipe(ai(o.outsideAngular),si(o.insideAngular))}else return Co(()=>i);return i instanceof pe?i.pipe(rj):i instanceof Promise?Co(()=>new Promise((o,s)=>i.then(a=>Co(()=>o(a)),a=>Co(()=>s(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Co(()=>i)};var kn=class{constructor(e){return e}},qr=class{constructor(){return yh()}};function sj(t){return t&&t.length===1?t[0]:new kn(ki())}var Mv=new H("angularfire2._apps"),aj={provide:kn,useFactory:sj,deps:[[new ft,Mv]]},cj={provide:qr,deps:[[new ft,Mv]]};function uj(t){return(e,n)=>{let r=n.get(Dt);We("angularfire",zr.full,"core"),We("angularfire",zr.full,"app"),We("angular",AD.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new kn(i)}}function GS(t,...e){return nn([aj,cj,{provide:Mv,useFactory:uj(t),multi:!0,deps:[be,ht,Vi,...e]}])}var WS=St(Tv,!0);function cA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var uA=cA,lA=new Nn("auth","Firebase",cA());var Dh=new nr("@firebase/auth");function lj(t,...e){Dh.logLevel<=we.WARN&&Dh.warn(`Auth (${Oi}): ${t}`,...e)}function Eh(t,...e){Dh.logLevel<=we.ERROR&&Dh.error(`Auth (${Oi}): ${t}`,...e)}function ji(t,...e){throw Qv(t,...e)}function Do(t,...e){return Qv(t,...e)}function dA(t,e,n){let r=Object.assign(Object.assign({},uA()),{[e]:n});return new Nn("auth","Firebase",r).create(e,{appName:t.name})}function bo(t){return dA(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Qv(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return lA.create(t,...e)}function ce(t,e,...n){if(!t)throw Qv(e,...n)}function Gr(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Eh(e),new Error(e)}function Ui(t,e){t||Gr(e)}function Nv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function dj(){return KS()==="http:"||KS()==="https:"}function KS(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function hj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(dj()||CS()||"connection"in navigator)?navigator.onLine:!0}function fj(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var To=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ui(n>e,"Short delay should be less than long delay!"),this.isMobile=ES()||bS()}get(){return hj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Yv(t,e){Ui(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Th=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Gr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Gr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Gr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var pj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var gj=new To(3e4,6e4);function Jv(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Ks(o,s,a,u){return E(this,arguments,function*(t,e,n,r,i={}){return hA(t,i,()=>E(this,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=$c(Object.assign({key:t.config.apiKey},h)).slice(1),m=yield t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);let y=Object.assign({method:e,headers:m},l);return IS()||(y.referrerPolicy="no-referrer"),Th.fetch()(fA(t,t.config.apiHost,n,p),y)}))})}function hA(t,e,n){return E(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},pj),e);try{let i=new Ov(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw wh(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw wh(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw wh(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw wh(t,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw dA(t,h,l);ji(t,h)}}catch(i){if(i instanceof un)throw i;ji(t,"network-request-failed",{message:String(i)})}})}function mj(o,s,a,u){return E(this,arguments,function*(t,e,n,r,i={}){let l=yield Ks(t,e,n,r,i);return"mfaPendingCredential"in l&&ji(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function fA(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?Yv(t.config,i):`${t.config.apiScheme}://${i}`}var Ov=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Do(this.auth,"network-request-failed")),gj.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function wh(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Do(t,e,r);return i.customData._tokenResponse=n,i}function yj(t,e){return E(this,null,function*(){return Ks(t,"POST","/v1/accounts:delete",e)})}function pA(t,e){return E(this,null,function*(){return Ks(t,"POST","/v1/accounts:lookup",e)})}function qc(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Zv(t,e=!1){return E(this,null,function*(){let n=gt(t),r=yield n.getIdToken(e),i=Xv(r);ce(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:qc(xv(i.auth_time)),issuedAtTime:qc(xv(i.iat)),expirationTime:qc(xv(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function xv(t){return Number(t)*1e3}function Xv(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Eh("JWT malformed, contained fewer than 3 sections"),null;try{let i=av(n);return i?JSON.parse(i):(Eh("Failed to decode base64 JWT payload"),null)}catch(i){return Eh("Caught error parsing JWT payload as JSON",i?.toString()),null}}function QS(t){let e=Xv(t);return ce(e,"internal-error"),ce(typeof e.exp<"u","internal-error"),ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Wc(t,e,n=!1){return E(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof un&&vj(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function vj({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var kv=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>E(this,null,function*(){yield this.iteration()}),n)}iteration(){return E(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Kc=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=qc(this.lastLoginAt),this.creationTime=qc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Sh(t){return E(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Wc(t,pA(n,{idToken:r}));ce(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?gA(o.providerUserInfo):[],a=_j(t.providerData,s),u=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Kc(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,p)})}function e0(t){return E(this,null,function*(){let e=gt(t);yield Sh(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function _j(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function gA(t){return t.map(e=>{var{providerId:n}=e,r=jp(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function wj(t,e){return E(this,null,function*(){let n=yield hA(t,{},()=>E(this,null,function*(){let r=$c({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=fA(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Th.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function Ej(t,e){return E(this,null,function*(){return Ks(t,"POST","/v2/accounts:revokeToken",Jv(t,e))})}var Gc=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ce(e.idToken,"internal-error"),ce(typeof e.idToken<"u","internal-error"),ce(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):QS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ce(e.length!==0,"internal-error");let n=QS(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return E(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return E(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield wj(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(ce(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(ce(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(ce(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Gr("not implemented")}};function Li(t,e){ce(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Ws=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=jp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new kv(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Kc(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return E(this,null,function*(){let n=yield Wc(this,this.stsTokenManager.getToken(this.auth,e));return ce(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Zv(this,e)}reload(){return e0(this)}_assign(e){this!==e&&(ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return E(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Sh(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return E(this,null,function*(){if(Hr(this.auth.app))return Promise.reject(bo(this.auth));let e=yield this.getIdToken();return yield Wc(this,yj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,u,l,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,y=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,A=(s=n.photoURL)!==null&&s!==void 0?s:void 0,N=(a=n.tenantId)!==null&&a!==void 0?a:void 0,x=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,V=(l=n.createdAt)!==null&&l!==void 0?l:void 0,Q=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:G,emailVerified:X,isAnonymous:Ne,providerData:ie,stsTokenManager:I}=n;ce(G&&I,e,"internal-error");let v=Gc.fromJSON(this.name,I);ce(typeof G=="string",e,"internal-error"),Li(p,e.name),Li(m,e.name),ce(typeof X=="boolean",e,"internal-error"),ce(typeof Ne=="boolean",e,"internal-error"),Li(y,e.name),Li(A,e.name),Li(N,e.name),Li(x,e.name),Li(V,e.name),Li(Q,e.name);let _=new t({uid:G,auth:e,email:m,emailVerified:X,displayName:p,isAnonymous:Ne,photoURL:A,phoneNumber:y,tenantId:N,stsTokenManager:v,createdAt:V,lastLoginAt:Q});return ie&&Array.isArray(ie)&&(_.providerData=ie.map(C=>Object.assign({},C))),x&&(_._redirectEventId=x),_}static _fromIdTokenResponse(e,n,r=!1){return E(this,null,function*(){let i=new Gc;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Sh(o),o})}static _fromGetAccountInfoResponse(e,n,r){return E(this,null,function*(){let i=n.users[0];ce(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?gA(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Gc;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Kc(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var YS=new Map;function Wr(t){Ui(t instanceof Function,"Expected a class definition");let e=YS.get(t);return e?(Ui(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,YS.set(t,e),e)}var Ij=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return E(this,null,function*(){return!0})}_set(n,r){return E(this,null,function*(){this.storage[n]=r})}_get(n){return E(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return E(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Fv=Ij;function Ih(t,e,n){return`firebase:${t}:${e}:${n}`}var Ah=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Ih(this.userKey,i.apiKey,o),this.fullPersistenceKey=Ih("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return E(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Ws._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return E(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return E(this,null,function*(){if(!n.length)return new t(Wr(Fv),e,r);let i=(yield Promise.all(n.map(l=>E(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||Wr(Fv),s=Ih(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let h=yield l._get(s);if(h){let p=Ws._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new t(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>E(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,r))})}};function JS(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_A(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(mA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(EA(e))return"Blackberry";if(IA(e))return"Webos";if(yA(e))return"Safari";if((e.includes("chrome/")||vA(e))&&!e.includes("edge/"))return"Chrome";if(wA(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function mA(t=It()){return/firefox\//i.test(t)}function yA(t=It()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function vA(t=It()){return/crios\//i.test(t)}function _A(t=It()){return/iemobile/i.test(t)}function wA(t=It()){return/android/i.test(t)}function EA(t=It()){return/blackberry/i.test(t)}function IA(t=It()){return/webos/i.test(t)}function t0(t=It()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Cj(t=It()){var e;return t0(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function bj(){return DS()&&document.documentMode===10}function CA(t=It()){return t0(t)||wA(t)||IA(t)||EA(t)||/windows phone/i.test(t)||_A(t)}function bA(t,e=[]){let n;switch(t){case"Browser":n=JS(It());break;case"Worker":n=`${JS(It())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Oi}/${r}`}var Vv=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return E(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function Dj(n){return E(this,arguments,function*(t,e={}){return Ks(t,"GET","/v2/passwordPolicy",Jv(t,e))})}var Tj=6,Lv=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:Tj,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var jv=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Mh(this),this.idTokenSubscription=new Mh(this),this.beforeStateQueue=new Vv(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Wr(n)),this._initializationPromise=this.queue(()=>E(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Ah.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return E(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return E(this,null,function*(){try{let n=yield pA(this,{idToken:e}),r=yield Ws._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return E(this,null,function*(){var n;if(Hr(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ce(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return E(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return E(this,null,function*(){try{yield Sh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=fj()}_delete(){return E(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return E(this,null,function*(){if(Hr(this.app))return Promise.reject(bo(this));let n=e?gt(e):null;return n&&ce(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return E(this,null,function*(){if(!this._deleted)return e&&ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>E(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return E(this,null,function*(){return Hr(this.app)?Promise.reject(bo(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Hr(this.app)?Promise.reject(bo(this)):this.queue(()=>E(this,null,function*(){yield this.assertedPersistence.setPersistence(Wr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return E(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return E(this,null,function*(){let e=yield Dj(this),n=new Lv(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Nn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return E(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield Ej(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return E(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return E(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Wr(e)||this._popupRedirectResolver;ce(n,this,"argument-error"),this.redirectPersistenceManager=yield Ah.create(this,[Wr(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return E(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>E(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return E(this,null,function*(){if(e===this.currentUser)return this.queue(()=>E(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ce(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(n);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return E(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=bA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return E(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return E(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&lj(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function n0(t){return gt(t)}var Mh=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=MS(n=>this.observer=n)}get next(){return ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var r0={loadJS(){return E(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Sj(t){r0=t}function Aj(t){return r0.loadJS(t)}function Mj(){return r0.gapiScript}function DA(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function i0(t,e){let n=Ni(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(Eo(o,e??{}))return i;ji(i,"already-initialized")}return n.initialize({options:e})}function xj(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Wr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function o0(t,e,n){let r=n0(t);ce(r._canInitEmulator,r,"emulator-config-failed"),ce(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=TA(e),{host:s,port:a}=Pj(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||Rj()}function TA(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Pj(t){let e=TA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:ZS(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:ZS(s)}}}function ZS(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function Rj(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var xh=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Gr("not implemented")}_getIdTokenResponse(e){return Gr("not implemented")}_linkToIdToken(e,n){return Gr("not implemented")}_getReauthenticationResolver(e){return Gr("not implemented")}};function Pv(t,e){return E(this,null,function*(){return mj(t,"POST","/v1/accounts:signInWithIdp",Jv(t,e))})}var Ph=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Uv=class extends Ph{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var Qc=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return E(this,null,function*(){let o=yield Ws._fromIdTokenResponse(e,r,i),s=XS(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return E(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=XS(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function XS(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var Bv=class t extends un{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function SA(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Bv._fromErrorAndOperation(t,o,e,r):o})}function Nj(t,e,n=!1){return E(this,null,function*(){let r=yield Wc(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Qc._forOperation(t,"link",r)})}function Oj(t,e,n=!1){return E(this,null,function*(){let{auth:r}=t;if(Hr(r.app))return Promise.reject(bo(r));let i="reauthenticate";try{let o=yield Wc(t,SA(r,i,e,t),n);ce(o.idToken,r,"internal-error");let s=Xv(o.idToken);ce(s,r,"internal-error");let{sub:a}=s;return ce(t.uid===a,r,"user-mismatch"),Qc._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&ji(r,"user-mismatch"),o}})}function kj(t,e,n=!1){return E(this,null,function*(){if(Hr(t.app))return Promise.reject(bo(t));let r="signIn",i=yield SA(t,r,e),o=yield Qc._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})}function s0(t,e,n,r){return gt(t).onIdTokenChanged(e,n,r)}function a0(t,e,n){return gt(t).beforeAuthStateChanged(e,n)}var Rh="__sak";var Nh=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Rh,"1"),this.storage.removeItem(Rh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var Fj=1e3,Vj=10,Lj=(()=>{class t extends Nh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=CA(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);bj()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,Vj):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},Fj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return E(this,null,function*(){yield ii(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return E(this,null,function*(){let r=yield ii(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return E(this,null,function*(){yield ii(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),AA=Lj;var jj=(()=>{class t extends Nh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),c0=jj;function Uj(t){return Promise.all(t.map(e=>E(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var Bj=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return E(this,null,function*(){let r=n,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(h=>E(this,null,function*(){return h(r.origin,s)})),l=yield Uj(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function MA(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var $v=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return E(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let l=MA("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let m=p;if(m.data.eventId===l)switch(m.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(m.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function ir(){return window}function $j(t){ir().location.href=t}function xA(){return typeof ir().WorkerGlobalScope<"u"&&typeof ir().importScripts=="function"}function Hj(){return E(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function zj(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function qj(){return xA()?self:null}var PA="firebaseLocalStorageDb",Gj=1,Oh="firebaseLocalStorage",RA="fbase_key",So=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Fh(t,e){return t.transaction([Oh],e?"readwrite":"readonly").objectStore(Oh)}function Wj(){let t=indexedDB.deleteDatabase(PA);return new So(t).toPromise()}function Hv(){let t=indexedDB.open(PA,Gj);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Oh,{keyPath:RA})}catch(i){n(i)}}),t.addEventListener("success",()=>E(this,null,function*(){let r=t.result;r.objectStoreNames.contains(Oh)?e(r):(r.close(),yield Wj(),e(yield Hv()))}))})}function eA(t,e,n){return E(this,null,function*(){let r=Fh(t,!0).put({[RA]:e,value:n});return new So(r).toPromise()})}function Kj(t,e){return E(this,null,function*(){let n=Fh(t,!1).get(e),r=yield new So(n).toPromise();return r===void 0?null:r.value})}function tA(t,e){let n=Fh(t,!0).delete(e);return new So(n).toPromise()}var Qj=800,Yj=3,Jj=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return E(this,null,function*(){return this.db?this.db:(this.db=yield Hv(),this.db)})}_withRetries(n){return E(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>Yj)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return E(this,null,function*(){return xA()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return E(this,null,function*(){this.receiver=Bj._getInstance(qj()),this.receiver._subscribe("keyChanged",(n,r)=>E(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>E(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return E(this,null,function*(){var n,r;if(this.activeServiceWorker=yield Hj(),!this.activeServiceWorker)return;this.sender=new $v(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return E(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||zj()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return E(this,null,function*(){try{if(!indexedDB)return!1;let n=yield Hv();return yield eA(n,Rh,"1"),yield tA(n,Rh),!0}catch{}return!1})}_withPendingWrite(n){return E(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return E(this,null,function*(){return this._withPendingWrite(()=>E(this,null,function*(){return yield this._withRetries(i=>eA(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return E(this,null,function*(){let r=yield this._withRetries(i=>Kj(i,n));return this.localCache[n]=r,r})}_remove(n){return E(this,null,function*(){return this._withPendingWrite(()=>E(this,null,function*(){return yield this._withRetries(r=>tA(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return E(this,null,function*(){let n=yield this._withRetries(o=>{let s=Fh(o,!1).getAll();return new So(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>E(this,null,function*(){return this._poll()}),Qj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),NA=Jj;var kQ=DA("rcb"),FQ=new To(3e4,6e4);function Zj(t,e){return e?Wr(e):(ce(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Yc=class extends xh{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Pv(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Pv(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Pv(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function Xj(t){return kj(t.auth,new Yc(t),t.bypassAuthState)}function eU(t){let{auth:e,user:n}=t;return ce(n,e,"internal-error"),Oj(n,new Yc(t),t.bypassAuthState)}function tU(t){return E(this,null,function*(){let{auth:e,user:n}=t;return ce(n,e,"internal-error"),Nj(n,new Yc(t),t.bypassAuthState)})}var zv=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>E(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return E(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Xj;case"linkViaPopup":case"linkViaRedirect":return tU;case"reauthViaPopup":case"reauthViaRedirect":return eU;default:ji(this.auth,"internal-error")}}resolve(e){Ui(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ui(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var VQ=new To(2e3,1e4);var nU="pendingRedirect",Ch=new Map,qv=class t extends zv{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return E(this,null,function*(){let e=Ch.get(this.auth._key());if(!e){try{let r=(yield rU(this.resolver,this.auth))?yield ii(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ch.set(this.auth._key(),e)}return this.bypassAuthState||Ch.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return E(this,null,function*(){if(e.type==="signInViaRedirect")return ii(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,ii(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return E(this,null,function*(){})}cleanUp(){}};function rU(t,e){return E(this,null,function*(){let n=sU(e),r=oU(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function iU(t,e){Ch.set(t._key(),e)}function oU(t){return Wr(t._redirectPersistence)}function sU(t){return Ih(nU,t.config.apiKey,t.name)}function aU(t,e,n=!1){return E(this,null,function*(){if(Hr(t.app))return Promise.reject(bo(t));let r=n0(t),i=Zj(r,e),s=yield new qv(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var cU=10*60*1e3,Gv=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!uU(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!OA(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Do(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=cU&&this.cachedEventUids.clear(),this.cachedEventUids.has(nA(e))}saveEventToCache(e){this.cachedEventUids.add(nA(e)),this.lastProcessedEventTime=Date.now()}};function nA(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function OA({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function uU(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return OA(t);default:return!1}}function lU(n){return E(this,arguments,function*(t,e={}){return Ks(t,"GET","/v1/projects",e)})}var dU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hU=/^https?/;function fU(t){return E(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield lU(t);for(let n of e)try{if(pU(n))return}catch{}ji(t,"unauthorized-domain")})}function pU(t){let e=Nv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!hU.test(n))return!1;if(dU.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var gU=new To(3e4,6e4);function rA(){let t=ir().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function mU(t){return new Promise((e,n)=>{var r,i,o;function s(){rA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{rA(),n(Do(t,"network-request-failed"))},timeout:gU.get()})}if(!((i=(r=ir().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=ir().gapi)===null||o===void 0)&&o.load)s();else{let a=DA("iframefcb");return ir()[a]=()=>{gapi.load?s():n(Do(t,"network-request-failed"))},Aj(`${Mj()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw bh=null,e})}var bh=null;function yU(t){return bh=bh||mU(t),bh}var vU=new To(5e3,15e3),_U="__/auth/iframe",wU="emulator/auth/iframe",EU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},IU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function CU(t){let e=t.config;ce(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?Yv(e,wU):`https://${t.config.authDomain}/${_U}`,r={apiKey:e.apiKey,appName:t.name,v:Oi},i=IU.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${$c(r).slice(1)}`}function bU(t){return E(this,null,function*(){let e=yield yU(t),n=ir().gapi;return ce(n,t,"internal-error"),e.open({where:document.body,url:CU(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:EU,dontclear:!0},r=>new Promise((i,o)=>E(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=Do(t,"network-request-failed"),a=ir().setTimeout(()=>{o(s)},vU.get());function u(){ir().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var DU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},TU=500,SU=600,AU="_blank",MU="http://localhost",kh=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function xU(t,e,n,r=TU,i=SU){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},DU),{width:r.toString(),height:i.toString(),top:o,left:s}),l=It().toLowerCase();n&&(a=vA(l)?AU:n),mA(l)&&(e=e||MU,u.scrollbars="yes");let h=Object.entries(u).reduce((m,[y,A])=>`${m}${y}=${A},`,"");if(Cj(l)&&a!=="_self")return PU(e||"",a),new kh(null);let p=window.open(e||"",a,h);ce(p,t,"popup-blocked");try{p.focus()}catch{}return new kh(p)}function PU(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var RU="__/auth/handler",NU="emulator/auth/handler",OU=encodeURIComponent("fac");function iA(t,e,n,r,i,o){return E(this,null,function*(){ce(t.config.authDomain,t,"auth-domain-config-required"),ce(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Oi,eventId:i};if(e instanceof Ph){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",AS(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof Uv){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield t._getAppCheckToken(),l=u?`#${OU}=${encodeURIComponent(u)}`:"";return`${kU(t)}?${$c(a).slice(1)}${l}`})}function kU({config:t}){return t.emulator?Yv(t,NU):`https://${t.authDomain}/${RU}`}var Rv="webStorageSupport",Wv=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=c0,this._completeRedirectFn=aU,this._overrideRedirectResult=iU}_openPopup(e,n,r,i){return E(this,null,function*(){var o;Ui((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield iA(e,n,r,Nv(),i);return xU(e,s,MA())})}_openRedirect(e,n,r,i){return E(this,null,function*(){yield this._originValidation(e);let o=yield iA(e,n,r,Nv(),i);return $j(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Ui(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return E(this,null,function*(){let n=yield bU(e),r=new Gv(e);return n.register("authEvent",i=>(ce(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Rv,{type:Rv},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[Rv];s!==void 0&&n(!!s),ji(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=fU(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return CA()||yA()||t0()}},kA=Wv;var oA="@firebase/auth",sA="1.7.9";var Kv=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return E(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function FU(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function VU(t){On(new Gt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;ce(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bA(t)},l=new jv(r,i,o,u);return xj(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),On(new Gt("auth-internal",e=>{let n=n0(e.getProvider("auth").getImmediate());return(r=>new Kv(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),We(oA,sA,FU(t)),We(oA,sA,"esm2017")}var LU=5*60,jU=dv("authIdTokenMaxAge")||LU,aA=null,UU=t=>e=>E(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>jU)return;let i=n?.token;aA!==i&&(aA=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function u0(t=ki()){let e=Ni(t,"auth");if(e.isInitialized())return e.getImmediate();let n=i0(t,{popupRedirectResolver:kA,persistence:[NA,AA,c0]}),r=dv("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=UU(o.toString());a0(n,s,()=>s(n.currentUser)),s0(n,a=>s(a))}}let i=uv("auth");return i&&o0(n,`http://${i}`),n}function BU(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Sj({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=Do("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",BU().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});VU("Browser");var FA="auth",Jc=class{constructor(e){return e}},Zc=class{constructor(){return Gs(FA)}};var l0=new H("angularfire2.auth-instances");function kB(t,e){let n=qs(FA,t,e);return n&&new Jc(n)}function FB(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Jc(r)}}var VB={provide:Zc,deps:[[new ft,l0]]},LB={provide:Jc,useFactory:kB,deps:[[new ft,l0],kn]};function VA(t,...e){return We("angularfire",zr.full,"auth"),nn([LB,VB,{provide:l0,useFactory:FB(t),multi:!0,deps:[be,ht,Vi,qr,[new ft,Fi],...e]}])}var LA=St(u0,!0);var jA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},UA={};var Bi,d0;(function(){var t;function e(I,v){function _(){}_.prototype=v.prototype,I.D=v.prototype,I.prototype=new _,I.prototype.constructor=I,I.C=function(C,D,M){for(var w=Array(arguments.length-2),mr=2;mr<arguments.length;mr++)w[mr-2]=arguments[mr];return v.prototype[D].apply(C,w)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,v,_){_||(_=0);var C=Array(16);if(typeof v=="string")for(var D=0;16>D;++D)C[D]=v.charCodeAt(_++)|v.charCodeAt(_++)<<8|v.charCodeAt(_++)<<16|v.charCodeAt(_++)<<24;else for(D=0;16>D;++D)C[D]=v[_++]|v[_++]<<8|v[_++]<<16|v[_++]<<24;v=I.g[0],_=I.g[1],D=I.g[2];var M=I.g[3],w=v+(M^_&(D^M))+C[0]+3614090360&4294967295;v=_+(w<<7&4294967295|w>>>25),w=M+(D^v&(_^D))+C[1]+3905402710&4294967295,M=v+(w<<12&4294967295|w>>>20),w=D+(_^M&(v^_))+C[2]+606105819&4294967295,D=M+(w<<17&4294967295|w>>>15),w=_+(v^D&(M^v))+C[3]+3250441966&4294967295,_=D+(w<<22&4294967295|w>>>10),w=v+(M^_&(D^M))+C[4]+4118548399&4294967295,v=_+(w<<7&4294967295|w>>>25),w=M+(D^v&(_^D))+C[5]+1200080426&4294967295,M=v+(w<<12&4294967295|w>>>20),w=D+(_^M&(v^_))+C[6]+2821735955&4294967295,D=M+(w<<17&4294967295|w>>>15),w=_+(v^D&(M^v))+C[7]+4249261313&4294967295,_=D+(w<<22&4294967295|w>>>10),w=v+(M^_&(D^M))+C[8]+1770035416&4294967295,v=_+(w<<7&4294967295|w>>>25),w=M+(D^v&(_^D))+C[9]+2336552879&4294967295,M=v+(w<<12&4294967295|w>>>20),w=D+(_^M&(v^_))+C[10]+4294925233&4294967295,D=M+(w<<17&4294967295|w>>>15),w=_+(v^D&(M^v))+C[11]+2304563134&4294967295,_=D+(w<<22&4294967295|w>>>10),w=v+(M^_&(D^M))+C[12]+1804603682&4294967295,v=_+(w<<7&4294967295|w>>>25),w=M+(D^v&(_^D))+C[13]+4254626195&4294967295,M=v+(w<<12&4294967295|w>>>20),w=D+(_^M&(v^_))+C[14]+2792965006&4294967295,D=M+(w<<17&4294967295|w>>>15),w=_+(v^D&(M^v))+C[15]+1236535329&4294967295,_=D+(w<<22&4294967295|w>>>10),w=v+(D^M&(_^D))+C[1]+4129170786&4294967295,v=_+(w<<5&4294967295|w>>>27),w=M+(_^D&(v^_))+C[6]+3225465664&4294967295,M=v+(w<<9&4294967295|w>>>23),w=D+(v^_&(M^v))+C[11]+643717713&4294967295,D=M+(w<<14&4294967295|w>>>18),w=_+(M^v&(D^M))+C[0]+3921069994&4294967295,_=D+(w<<20&4294967295|w>>>12),w=v+(D^M&(_^D))+C[5]+3593408605&4294967295,v=_+(w<<5&4294967295|w>>>27),w=M+(_^D&(v^_))+C[10]+38016083&4294967295,M=v+(w<<9&4294967295|w>>>23),w=D+(v^_&(M^v))+C[15]+3634488961&4294967295,D=M+(w<<14&4294967295|w>>>18),w=_+(M^v&(D^M))+C[4]+3889429448&4294967295,_=D+(w<<20&4294967295|w>>>12),w=v+(D^M&(_^D))+C[9]+568446438&4294967295,v=_+(w<<5&4294967295|w>>>27),w=M+(_^D&(v^_))+C[14]+3275163606&4294967295,M=v+(w<<9&4294967295|w>>>23),w=D+(v^_&(M^v))+C[3]+4107603335&4294967295,D=M+(w<<14&4294967295|w>>>18),w=_+(M^v&(D^M))+C[8]+1163531501&4294967295,_=D+(w<<20&4294967295|w>>>12),w=v+(D^M&(_^D))+C[13]+2850285829&4294967295,v=_+(w<<5&4294967295|w>>>27),w=M+(_^D&(v^_))+C[2]+4243563512&4294967295,M=v+(w<<9&4294967295|w>>>23),w=D+(v^_&(M^v))+C[7]+1735328473&4294967295,D=M+(w<<14&4294967295|w>>>18),w=_+(M^v&(D^M))+C[12]+2368359562&4294967295,_=D+(w<<20&4294967295|w>>>12),w=v+(_^D^M)+C[5]+4294588738&4294967295,v=_+(w<<4&4294967295|w>>>28),w=M+(v^_^D)+C[8]+2272392833&4294967295,M=v+(w<<11&4294967295|w>>>21),w=D+(M^v^_)+C[11]+1839030562&4294967295,D=M+(w<<16&4294967295|w>>>16),w=_+(D^M^v)+C[14]+4259657740&4294967295,_=D+(w<<23&4294967295|w>>>9),w=v+(_^D^M)+C[1]+2763975236&4294967295,v=_+(w<<4&4294967295|w>>>28),w=M+(v^_^D)+C[4]+1272893353&4294967295,M=v+(w<<11&4294967295|w>>>21),w=D+(M^v^_)+C[7]+4139469664&4294967295,D=M+(w<<16&4294967295|w>>>16),w=_+(D^M^v)+C[10]+3200236656&4294967295,_=D+(w<<23&4294967295|w>>>9),w=v+(_^D^M)+C[13]+681279174&4294967295,v=_+(w<<4&4294967295|w>>>28),w=M+(v^_^D)+C[0]+3936430074&4294967295,M=v+(w<<11&4294967295|w>>>21),w=D+(M^v^_)+C[3]+3572445317&4294967295,D=M+(w<<16&4294967295|w>>>16),w=_+(D^M^v)+C[6]+76029189&4294967295,_=D+(w<<23&4294967295|w>>>9),w=v+(_^D^M)+C[9]+3654602809&4294967295,v=_+(w<<4&4294967295|w>>>28),w=M+(v^_^D)+C[12]+3873151461&4294967295,M=v+(w<<11&4294967295|w>>>21),w=D+(M^v^_)+C[15]+530742520&4294967295,D=M+(w<<16&4294967295|w>>>16),w=_+(D^M^v)+C[2]+3299628645&4294967295,_=D+(w<<23&4294967295|w>>>9),w=v+(D^(_|~M))+C[0]+4096336452&4294967295,v=_+(w<<6&4294967295|w>>>26),w=M+(_^(v|~D))+C[7]+1126891415&4294967295,M=v+(w<<10&4294967295|w>>>22),w=D+(v^(M|~_))+C[14]+2878612391&4294967295,D=M+(w<<15&4294967295|w>>>17),w=_+(M^(D|~v))+C[5]+4237533241&4294967295,_=D+(w<<21&4294967295|w>>>11),w=v+(D^(_|~M))+C[12]+1700485571&4294967295,v=_+(w<<6&4294967295|w>>>26),w=M+(_^(v|~D))+C[3]+2399980690&4294967295,M=v+(w<<10&4294967295|w>>>22),w=D+(v^(M|~_))+C[10]+4293915773&4294967295,D=M+(w<<15&4294967295|w>>>17),w=_+(M^(D|~v))+C[1]+2240044497&4294967295,_=D+(w<<21&4294967295|w>>>11),w=v+(D^(_|~M))+C[8]+1873313359&4294967295,v=_+(w<<6&4294967295|w>>>26),w=M+(_^(v|~D))+C[15]+4264355552&4294967295,M=v+(w<<10&4294967295|w>>>22),w=D+(v^(M|~_))+C[6]+2734768916&4294967295,D=M+(w<<15&4294967295|w>>>17),w=_+(M^(D|~v))+C[13]+1309151649&4294967295,_=D+(w<<21&4294967295|w>>>11),w=v+(D^(_|~M))+C[4]+4149444226&4294967295,v=_+(w<<6&4294967295|w>>>26),w=M+(_^(v|~D))+C[11]+3174756917&4294967295,M=v+(w<<10&4294967295|w>>>22),w=D+(v^(M|~_))+C[2]+718787259&4294967295,D=M+(w<<15&4294967295|w>>>17),w=_+(M^(D|~v))+C[9]+3951481745&4294967295,I.g[0]=I.g[0]+v&4294967295,I.g[1]=I.g[1]+(D+(w<<21&4294967295|w>>>11))&4294967295,I.g[2]=I.g[2]+D&4294967295,I.g[3]=I.g[3]+M&4294967295}r.prototype.u=function(I,v){v===void 0&&(v=I.length);for(var _=v-this.blockSize,C=this.B,D=this.h,M=0;M<v;){if(D==0)for(;M<=_;)i(this,I,M),M+=this.blockSize;if(typeof I=="string"){for(;M<v;)if(C[D++]=I.charCodeAt(M++),D==this.blockSize){i(this,C),D=0;break}}else for(;M<v;)if(C[D++]=I[M++],D==this.blockSize){i(this,C),D=0;break}}this.h=D,this.o+=v},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var v=1;v<I.length-8;++v)I[v]=0;var _=8*this.o;for(v=I.length-8;v<I.length;++v)I[v]=_&255,_/=256;for(this.u(I),I=Array(16),v=_=0;4>v;++v)for(var C=0;32>C;C+=8)I[_++]=this.g[v]>>>C&255;return I};function o(I,v){var _=a;return Object.prototype.hasOwnProperty.call(_,I)?_[I]:_[I]=v(I)}function s(I,v){this.h=v;for(var _=[],C=!0,D=I.length-1;0<=D;D--){var M=I[D]|0;C&&M==v||(_[D]=M,C=!1)}this.g=_}var a={};function u(I){return-128<=I&&128>I?o(I,function(v){return new s([v|0],0>v?-1:0)}):new s([I|0],0>I?-1:0)}function l(I){if(isNaN(I)||!isFinite(I))return p;if(0>I)return x(l(-I));for(var v=[],_=1,C=0;I>=_;C++)v[C]=I/_|0,_*=4294967296;return new s(v,0)}function h(I,v){if(I.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(I.charAt(0)=="-")return x(h(I.substring(1),v));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=l(Math.pow(v,8)),C=p,D=0;D<I.length;D+=8){var M=Math.min(8,I.length-D),w=parseInt(I.substring(D,D+M),v);8>M?(M=l(Math.pow(v,M)),C=C.j(M).add(l(w))):(C=C.j(_),C=C.add(l(w)))}return C}var p=u(0),m=u(1),y=u(16777216);t=s.prototype,t.m=function(){if(N(this))return-x(this).m();for(var I=0,v=1,_=0;_<this.g.length;_++){var C=this.i(_);I+=(0<=C?C:4294967296+C)*v,v*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(A(this))return"0";if(N(this))return"-"+x(this).toString(I);for(var v=l(Math.pow(I,6)),_=this,C="";;){var D=X(_,v).g;_=V(_,D.j(v));var M=((0<_.g.length?_.g[0]:_.h)>>>0).toString(I);if(_=D,A(_))return M+C;for(;6>M.length;)M="0"+M;C=M+C}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function A(I){if(I.h!=0)return!1;for(var v=0;v<I.g.length;v++)if(I.g[v]!=0)return!1;return!0}function N(I){return I.h==-1}t.l=function(I){return I=V(this,I),N(I)?-1:A(I)?0:1};function x(I){for(var v=I.g.length,_=[],C=0;C<v;C++)_[C]=~I.g[C];return new s(_,~I.h).add(m)}t.abs=function(){return N(this)?x(this):this},t.add=function(I){for(var v=Math.max(this.g.length,I.g.length),_=[],C=0,D=0;D<=v;D++){var M=C+(this.i(D)&65535)+(I.i(D)&65535),w=(M>>>16)+(this.i(D)>>>16)+(I.i(D)>>>16);C=w>>>16,M&=65535,w&=65535,_[D]=w<<16|M}return new s(_,_[_.length-1]&-2147483648?-1:0)};function V(I,v){return I.add(x(v))}t.j=function(I){if(A(this)||A(I))return p;if(N(this))return N(I)?x(this).j(x(I)):x(x(this).j(I));if(N(I))return x(this.j(x(I)));if(0>this.l(y)&&0>I.l(y))return l(this.m()*I.m());for(var v=this.g.length+I.g.length,_=[],C=0;C<2*v;C++)_[C]=0;for(C=0;C<this.g.length;C++)for(var D=0;D<I.g.length;D++){var M=this.i(C)>>>16,w=this.i(C)&65535,mr=I.i(D)>>>16,Ma=I.i(D)&65535;_[2*C+2*D]+=w*Ma,Q(_,2*C+2*D),_[2*C+2*D+1]+=M*Ma,Q(_,2*C+2*D+1),_[2*C+2*D+1]+=w*mr,Q(_,2*C+2*D+1),_[2*C+2*D+2]+=M*mr,Q(_,2*C+2*D+2)}for(C=0;C<v;C++)_[C]=_[2*C+1]<<16|_[2*C];for(C=v;C<2*v;C++)_[C]=0;return new s(_,0)};function Q(I,v){for(;(I[v]&65535)!=I[v];)I[v+1]+=I[v]>>>16,I[v]&=65535,v++}function G(I,v){this.g=I,this.h=v}function X(I,v){if(A(v))throw Error("division by zero");if(A(I))return new G(p,p);if(N(I))return v=X(x(I),v),new G(x(v.g),x(v.h));if(N(v))return v=X(I,x(v)),new G(x(v.g),v.h);if(30<I.g.length){if(N(I)||N(v))throw Error("slowDivide_ only works with positive integers.");for(var _=m,C=v;0>=C.l(I);)_=Ne(_),C=Ne(C);var D=ie(_,1),M=ie(C,1);for(C=ie(C,2),_=ie(_,2);!A(C);){var w=M.add(C);0>=w.l(I)&&(D=D.add(_),M=w),C=ie(C,1),_=ie(_,1)}return v=V(I,D.j(v)),new G(D,v)}for(D=p;0<=I.l(v);){for(_=Math.max(1,Math.floor(I.m()/v.m())),C=Math.ceil(Math.log(_)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),M=l(_),w=M.j(v);N(w)||0<w.l(I);)_-=C,M=l(_),w=M.j(v);A(M)&&(M=m),D=D.add(M),I=V(I,w)}return new G(D,I)}t.A=function(I){return X(this,I).h},t.and=function(I){for(var v=Math.max(this.g.length,I.g.length),_=[],C=0;C<v;C++)_[C]=this.i(C)&I.i(C);return new s(_,this.h&I.h)},t.or=function(I){for(var v=Math.max(this.g.length,I.g.length),_=[],C=0;C<v;C++)_[C]=this.i(C)|I.i(C);return new s(_,this.h|I.h)},t.xor=function(I){for(var v=Math.max(this.g.length,I.g.length),_=[],C=0;C<v;C++)_[C]=this.i(C)^I.i(C);return new s(_,this.h^I.h)};function Ne(I){for(var v=I.g.length+1,_=[],C=0;C<v;C++)_[C]=I.i(C)<<1|I.i(C-1)>>>31;return new s(_,I.h)}function ie(I,v){var _=v>>5;v%=32;for(var C=I.g.length-_,D=[],M=0;M<C;M++)D[M]=0<v?I.i(M+_)>>>v|I.i(M+_+1)<<32-v:I.i(M+_);return new s(D,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,d0=UA.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,Bi=UA.Integer=s}).apply(typeof jA<"u"?jA:typeof self<"u"?self:typeof window<"u"?window:{});var Vh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Kr={};var h0,jB,Qs,f0,Xc,Lh,p0,g0,m0;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vh=="object"&&Vh];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var S=c[g];if(!(S in f))break e;f=f[S]}c=c[c.length-1],g=f[c],d=d(g),d!=g&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,g=!1,S={next:function(){if(!g&&f<c.length){var P=f++;return{value:d(P,c[P]),done:!1}}return g=!0,{done:!0,value:void 0}}};return S[Symbol.iterator]=function(){return S},S}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var S=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(S,g),c.apply(d,S)}}return function(){return c.apply(d,arguments)}}function m(c,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function y(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function A(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(g,S,P){for(var U=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)U[Fe-2]=arguments[Fe];return d.prototype[S].apply(g,U)}}function N(c){let d=c.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=c[g];return f}return[]}function x(c,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let S=c.length||0,P=g.length||0;c.length=S+P;for(let U=0;U<P;U++)c[S+U]=g[U]}else c.push(g)}}class V{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function Q(c){return/^[\s\xa0]*$/.test(c)}function G(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function X(c){return X[" "](c),c}X[" "]=function(){};var Ne=G().indexOf("Gecko")!=-1&&!(G().toLowerCase().indexOf("webkit")!=-1&&G().indexOf("Edge")==-1)&&!(G().indexOf("Trident")!=-1||G().indexOf("MSIE")!=-1)&&G().indexOf("Edge")==-1;function ie(c,d,f){for(let g in c)d.call(f,c[g],g,c)}function I(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function v(c){let d={};for(let f in c)d[f]=c[f];return d}let _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(c,d){let f,g;for(let S=1;S<arguments.length;S++){g=arguments[S];for(f in g)c[f]=g[f];for(let P=0;P<_.length;P++)f=_[P],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function D(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function M(c){a.setTimeout(()=>{throw c},0)}function w(){var c=Wf;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class mr{constructor(){this.h=this.g=null}add(d,f){let g=Ma.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var Ma=new V(()=>new zP,c=>c.reset());class zP{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let xa,Pa=!1,Wf=new mr,zw=()=>{let c=a.Promise.resolve(void 0);xa=()=>{c.then(qP)}};var qP=()=>{for(var c;c=w();){try{c.h.call(c.g)}catch(f){M(f)}var d=Ma;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}Pa=!1};function ei(){this.s=this.s,this.C=this.C}ei.prototype.s=!1,ei.prototype.ma=function(){this.s||(this.s=!0,this.N())},ei.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function At(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}At.prototype.h=function(){this.defaultPrevented=!0};var GP=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function Ra(c,d){if(At.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(Ne){e:{try{X(d.nodeName);var S=!0;break e}catch{}S=!1}S||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:WP[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ra.aa.h.call(this)}}A(Ra,At);var WP={2:"touch",3:"pen",4:"mouse"};Ra.prototype.h=function(){Ra.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Na="closure_listenable_"+(1e6*Math.random()|0),KP=0;function QP(c,d,f,g,S){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=S,this.key=++KP,this.da=this.fa=!1}function Ou(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ku(c){this.src=c,this.g={},this.h=0}ku.prototype.add=function(c,d,f,g,S){var P=c.toString();c=this.g[P],c||(c=this.g[P]=[],this.h++);var U=Qf(c,d,g,S);return-1<U?(d=c[U],f||(d.fa=!1)):(d=new QP(d,this.src,P,!!g,S),d.fa=f,c.push(d)),d};function Kf(c,d){var f=d.type;if(f in c.g){var g=c.g[f],S=Array.prototype.indexOf.call(g,d,void 0),P;(P=0<=S)&&Array.prototype.splice.call(g,S,1),P&&(Ou(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function Qf(c,d,f,g){for(var S=0;S<c.length;++S){var P=c[S];if(!P.da&&P.listener==d&&P.capture==!!f&&P.ha==g)return S}return-1}var Yf="closure_lm_"+(1e6*Math.random()|0),Jf={};function qw(c,d,f,g,S){if(g&&g.once)return Ww(c,d,f,g,S);if(Array.isArray(d)){for(var P=0;P<d.length;P++)qw(c,d[P],f,g,S);return null}return f=tp(f),c&&c[Na]?c.K(d,f,l(g)?!!g.capture:!!g,S):Gw(c,d,f,!1,g,S)}function Gw(c,d,f,g,S,P){if(!d)throw Error("Invalid event type");var U=l(S)?!!S.capture:!!S,Fe=Xf(c);if(Fe||(c[Yf]=Fe=new ku(c)),f=Fe.add(d,f,g,U,P),f.proxy)return f;if(g=YP(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)GP||(S=U),S===void 0&&(S=!1),c.addEventListener(d.toString(),g,S);else if(c.attachEvent)c.attachEvent(Qw(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function YP(){function c(f){return d.call(c.src,c.listener,f)}let d=JP;return c}function Ww(c,d,f,g,S){if(Array.isArray(d)){for(var P=0;P<d.length;P++)Ww(c,d[P],f,g,S);return null}return f=tp(f),c&&c[Na]?c.L(d,f,l(g)?!!g.capture:!!g,S):Gw(c,d,f,!0,g,S)}function Kw(c,d,f,g,S){if(Array.isArray(d))for(var P=0;P<d.length;P++)Kw(c,d[P],f,g,S);else g=l(g)?!!g.capture:!!g,f=tp(f),c&&c[Na]?(c=c.i,d=String(d).toString(),d in c.g&&(P=c.g[d],f=Qf(P,f,g,S),-1<f&&(Ou(P[f]),Array.prototype.splice.call(P,f,1),P.length==0&&(delete c.g[d],c.h--)))):c&&(c=Xf(c))&&(d=c.g[d.toString()],c=-1,d&&(c=Qf(d,f,g,S)),(f=-1<c?d[c]:null)&&Zf(f))}function Zf(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[Na])Kf(d.i,c);else{var f=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(f,g,c.capture):d.detachEvent?d.detachEvent(Qw(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=Xf(d))?(Kf(f,c),f.h==0&&(f.src=null,d[Yf]=null)):Ou(c)}}}function Qw(c){return c in Jf?Jf[c]:Jf[c]="on"+c}function JP(c,d){if(c.da)c=!0;else{d=new Ra(d,this);var f=c.listener,g=c.ha||c.src;c.fa&&Zf(c),c=f.call(g,d)}return c}function Xf(c){return c=c[Yf],c instanceof ku?c:null}var ep="__closure_events_fn_"+(1e9*Math.random()>>>0);function tp(c){return typeof c=="function"?c:(c[ep]||(c[ep]=function(d){return c.handleEvent(d)}),c[ep])}function Mt(){ei.call(this),this.i=new ku(this),this.M=this,this.F=null}A(Mt,ei),Mt.prototype[Na]=!0,Mt.prototype.removeEventListener=function(c,d,f,g){Kw(this,c,d,f,g)};function jt(c,d){var f,g=c.F;if(g)for(f=[];g;g=g.F)f.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new At(d,c);else if(d instanceof At)d.target=d.target||c;else{var S=d;d=new At(g,c),C(d,S)}if(S=!0,f)for(var P=f.length-1;0<=P;P--){var U=d.g=f[P];S=Fu(U,g,!0,d)&&S}if(U=d.g=c,S=Fu(U,g,!0,d)&&S,S=Fu(U,g,!1,d)&&S,f)for(P=0;P<f.length;P++)U=d.g=f[P],S=Fu(U,g,!1,d)&&S}Mt.prototype.N=function(){if(Mt.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],g=0;g<f.length;g++)Ou(f[g]);delete c.g[d],c.h--}}this.F=null},Mt.prototype.K=function(c,d,f,g){return this.i.add(String(c),d,!1,f,g)},Mt.prototype.L=function(c,d,f,g){return this.i.add(String(c),d,!0,f,g)};function Fu(c,d,f,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var S=!0,P=0;P<d.length;++P){var U=d[P];if(U&&!U.da&&U.capture==f){var Fe=U.listener,bt=U.ha||U.src;U.fa&&Kf(c.i,U),S=Fe.call(bt,g)!==!1&&S}}return S&&!g.defaultPrevented}function Yw(c,d,f){if(typeof c=="function")f&&(c=m(c,f));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function Jw(c){c.g=Yw(()=>{c.g=null,c.i&&(c.i=!1,Jw(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class ZP extends ei{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Jw(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Oa(c){ei.call(this),this.h=c,this.g={}}A(Oa,ei);var Zw=[];function Xw(c){ie(c.g,function(d,f){this.g.hasOwnProperty(f)&&Zf(d)},c),c.g={}}Oa.prototype.N=function(){Oa.aa.N.call(this),Xw(this)},Oa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var np=a.JSON.stringify,XP=a.JSON.parse,eR=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function rp(){}rp.prototype.h=null;function eE(c){return c.h||(c.h=c.i())}function tE(){}var ka={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ip(){At.call(this,"d")}A(ip,At);function op(){At.call(this,"c")}A(op,At);var Wi={},nE=null;function Vu(){return nE=nE||new Mt}Wi.La="serverreachability";function rE(c){At.call(this,Wi.La,c)}A(rE,At);function Fa(c){let d=Vu();jt(d,new rE(d))}Wi.STAT_EVENT="statevent";function iE(c,d){At.call(this,Wi.STAT_EVENT,c),this.stat=d}A(iE,At);function Ut(c){let d=Vu();jt(d,new iE(d,c))}Wi.Ma="timingevent";function oE(c,d){At.call(this,Wi.Ma,c),this.size=d}A(oE,At);function Va(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function La(){this.g=!0}La.prototype.xa=function(){this.g=!1};function tR(c,d,f,g,S,P){c.info(function(){if(c.g)if(P)for(var U="",Fe=P.split("&"),bt=0;bt<Fe.length;bt++){var Te=Fe[bt].split("=");if(1<Te.length){var xt=Te[0];Te=Te[1];var Pt=xt.split("_");U=2<=Pt.length&&Pt[1]=="type"?U+(xt+"="+Te+"&"):U+(xt+"=redacted&")}}else U=null;else U=P;return"XMLHTTP REQ ("+g+") [attempt "+S+"]: "+d+`
`+f+`
`+U})}function nR(c,d,f,g,S,P,U){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+S+"]: "+d+`
`+f+`
`+P+" "+U})}function Ho(c,d,f,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+iR(c,f)+(g?" "+g:"")})}function rR(c,d){c.info(function(){return"TIMEOUT: "+d})}La.prototype.info=function(){};function iR(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var g=f[c];if(!(2>g.length)){var S=g[1];if(Array.isArray(S)&&!(1>S.length)){var P=S[0];if(P!="noop"&&P!="stop"&&P!="close")for(var U=1;U<S.length;U++)S[U]=""}}}}return np(f)}catch{return d}}var Lu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},sE={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},sp;function ju(){}A(ju,rp),ju.prototype.g=function(){return new XMLHttpRequest},ju.prototype.i=function(){return{}},sp=new ju;function ti(c,d,f,g){this.j=c,this.i=d,this.l=f,this.R=g||1,this.U=new Oa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new aE}function aE(){this.i=null,this.g="",this.h=!1}var cE={},ap={};function cp(c,d,f){c.L=1,c.v=Hu(yr(d)),c.m=f,c.P=!0,uE(c,null)}function uE(c,d){c.F=Date.now(),Uu(c),c.A=yr(c.v);var f=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),CE(f.i,"t",g),c.C=0,f=c.j.J,c.h=new aE,c.g=BE(c.j,f?d:null,!c.m),0<c.O&&(c.M=new ZP(m(c.Y,c,c.g),c.O)),d=c.U,f=c.g,g=c.ca;var S="readystatechange";Array.isArray(S)||(S&&(Zw[0]=S.toString()),S=Zw);for(var P=0;P<S.length;P++){var U=qw(f,S[P],g||d.handleEvent,!1,d.h||d);if(!U)break;d.g[U.key]=U}d=c.H?v(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),Fa(),tR(c.i,c.u,c.A,c.l,c.R,c.m)}ti.prototype.ca=function(c){c=c.target;let d=this.M;d&&vr(c)==3?d.j():this.Y(c)},ti.prototype.Y=function(c){try{if(c==this.g)e:{let Pt=vr(this.g);var d=this.g.Ba();let Go=this.g.Z();if(!(3>Pt)&&(Pt!=3||this.g&&(this.h.h||this.g.oa()||xE(this.g)))){this.J||Pt!=4||d==7||(d==8||0>=Go?Fa(3):Fa(2)),up(this);var f=this.g.Z();this.X=f;t:if(lE(this)){var g=xE(this.g);c="";var S=g.length,P=vr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ki(this),ja(this);var U="";break t}this.h.i=new a.TextDecoder}for(d=0;d<S;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(P&&d==S-1)});g.length=0,this.h.g+=c,this.C=0,U=this.h.g}else U=this.g.oa();if(this.o=f==200,nR(this.i,this.u,this.A,this.l,this.R,Pt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Fe,bt=this.g;if((Fe=bt.g?bt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Q(Fe)){var Te=Fe;break t}}Te=null}if(f=Te)Ho(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,lp(this,f);else{this.o=!1,this.s=3,Ut(12),Ki(this),ja(this);break e}}if(this.P){f=!0;let En;for(;!this.J&&this.C<U.length;)if(En=oR(this,U),En==ap){Pt==4&&(this.s=4,Ut(14),f=!1),Ho(this.i,this.l,null,"[Incomplete Response]");break}else if(En==cE){this.s=4,Ut(15),Ho(this.i,this.l,U,"[Invalid Chunk]"),f=!1;break}else Ho(this.i,this.l,En,null),lp(this,En);if(lE(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pt!=4||U.length!=0||this.h.h||(this.s=1,Ut(16),f=!1),this.o=this.o&&f,!f)Ho(this.i,this.l,U,"[Invalid Chunked Response]"),Ki(this),ja(this);else if(0<U.length&&!this.W){this.W=!0;var xt=this.j;xt.g==this&&xt.ba&&!xt.M&&(xt.j.info("Great, no buffering proxy detected. Bytes received: "+U.length),mp(xt),xt.M=!0,Ut(11))}}else Ho(this.i,this.l,U,null),lp(this,U);Pt==4&&Ki(this),this.o&&!this.J&&(Pt==4?VE(this.j,this):(this.o=!1,Uu(this)))}else IR(this.g),f==400&&0<U.indexOf("Unknown SID")?(this.s=3,Ut(12)):(this.s=0,Ut(13)),Ki(this),ja(this)}}}catch{}finally{}};function lE(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function oR(c,d){var f=c.C,g=d.indexOf(`
`,f);return g==-1?ap:(f=Number(d.substring(f,g)),isNaN(f)?cE:(g+=1,g+f>d.length?ap:(d=d.slice(g,g+f),c.C=g+f,d)))}ti.prototype.cancel=function(){this.J=!0,Ki(this)};function Uu(c){c.S=Date.now()+c.I,dE(c,c.I)}function dE(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Va(m(c.ba,c),d)}function up(c){c.B&&(a.clearTimeout(c.B),c.B=null)}ti.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(rR(this.i,this.A),this.L!=2&&(Fa(),Ut(17)),Ki(this),this.s=2,ja(this)):dE(this,this.S-c)};function ja(c){c.j.G==0||c.J||VE(c.j,c)}function Ki(c){up(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,Xw(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function lp(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||dp(f.h,c))){if(!c.K&&dp(f.h,c)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var S=g;if(S[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)Ku(f),Gu(f);else break e;gp(f),Ut(18)}}else f.za=S[1],0<f.za-f.T&&37500>S[2]&&f.F&&f.v==0&&!f.C&&(f.C=Va(m(f.Za,f),6e3));if(1>=pE(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Yi(f,11)}else if((c.K||f.g==c)&&Ku(f),!Q(d))for(S=f.Da.g.parse(d),d=0;d<S.length;d++){let Te=S[d];if(f.T=Te[0],Te=Te[1],f.G==2)if(Te[0]=="c"){f.K=Te[1],f.ia=Te[2];let xt=Te[3];xt!=null&&(f.la=xt,f.j.info("VER="+f.la));let Pt=Te[4];Pt!=null&&(f.Aa=Pt,f.j.info("SVER="+f.Aa));let Go=Te[5];Go!=null&&typeof Go=="number"&&0<Go&&(g=1.5*Go,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let En=c.g;if(En){let Yu=En.g?En.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yu){var P=g.h;P.g||Yu.indexOf("spdy")==-1&&Yu.indexOf("quic")==-1&&Yu.indexOf("h2")==-1||(P.j=P.l,P.g=new Set,P.h&&(hp(P,P.h),P.h=null))}if(g.D){let yp=En.g?En.g.getResponseHeader("X-HTTP-Session-Id"):null;yp&&(g.ya=yp,ze(g.I,g.D,yp))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var U=c;if(g.qa=UE(g,g.J?g.ia:null,g.W),U.K){gE(g.h,U);var Fe=U,bt=g.L;bt&&(Fe.I=bt),Fe.B&&(up(Fe),Uu(Fe)),g.g=U}else kE(g);0<f.i.length&&Wu(f)}else Te[0]!="stop"&&Te[0]!="close"||Yi(f,7);else f.G==3&&(Te[0]=="stop"||Te[0]=="close"?Te[0]=="stop"?Yi(f,7):pp(f):Te[0]!="noop"&&f.l&&f.l.ta(Te),f.v=0)}}Fa(4)}catch{}}var sR=class{constructor(c,d){this.g=c,this.map=d}};function hE(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function fE(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function pE(c){return c.h?1:c.g?c.g.size:0}function dp(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function hp(c,d){c.g?c.g.add(d):c.h=d}function gE(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}hE.prototype.cancel=function(){if(this.i=mE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function mE(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return N(c.i)}function aR(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,g=0;g<f;g++)d.push(c[g]);return d}d=[],f=0;for(g in c)d[f++]=c[g];return d}function cR(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let g in c)d[f++]=g;return d}}}function yE(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=cR(c),g=aR(c),S=g.length,P=0;P<S;P++)d.call(void 0,g[P],f&&f[P],c)}var vE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function uR(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var g=c[f].indexOf("="),S=null;if(0<=g){var P=c[f].substring(0,g);S=c[f].substring(g+1)}else P=c[f];d(P,S?decodeURIComponent(S.replace(/\+/g," ")):"")}}}function Qi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Qi){this.h=c.h,Bu(this,c.j),this.o=c.o,this.g=c.g,$u(this,c.s),this.l=c.l;var d=c.i,f=new $a;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),_E(this,f),this.m=c.m}else c&&(d=String(c).match(vE))?(this.h=!1,Bu(this,d[1]||"",!0),this.o=Ua(d[2]||""),this.g=Ua(d[3]||"",!0),$u(this,d[4]),this.l=Ua(d[5]||"",!0),_E(this,d[6]||"",!0),this.m=Ua(d[7]||"")):(this.h=!1,this.i=new $a(null,this.h))}Qi.prototype.toString=function(){var c=[],d=this.j;d&&c.push(Ba(d,wE,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(Ba(d,wE,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(Ba(f,f.charAt(0)=="/"?hR:dR,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",Ba(f,pR)),c.join("")};function yr(c){return new Qi(c)}function Bu(c,d,f){c.j=f?Ua(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function $u(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function _E(c,d,f){d instanceof $a?(c.i=d,gR(c.i,c.h)):(f||(d=Ba(d,fR)),c.i=new $a(d,c.h))}function ze(c,d,f){c.i.set(d,f)}function Hu(c){return ze(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ua(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ba(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,lR),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function lR(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var wE=/[#\/\?@]/g,dR=/[#\?:]/g,hR=/[#\?]/g,fR=/[#\?@]/g,pR=/#/g;function $a(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function ni(c){c.g||(c.g=new Map,c.h=0,c.i&&uR(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=$a.prototype,t.add=function(c,d){ni(this),this.i=null,c=zo(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function EE(c,d){ni(c),d=zo(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function IE(c,d){return ni(c),d=zo(c,d),c.g.has(d)}t.forEach=function(c,d){ni(this),this.g.forEach(function(f,g){f.forEach(function(S){c.call(d,S,g,this)},this)},this)},t.na=function(){ni(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let S=c[g];for(let P=0;P<S.length;P++)f.push(d[g])}return f},t.V=function(c){ni(this);let d=[];if(typeof c=="string")IE(this,c)&&(d=d.concat(this.g.get(zo(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},t.set=function(c,d){return ni(this),this.i=null,c=zo(this,c),IE(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function CE(c,d,f){EE(c,d),0<f.length&&(c.i=null,c.g.set(zo(c,d),N(f)),c.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let P=encodeURIComponent(String(g)),U=this.V(g);for(g=0;g<U.length;g++){var S=P;U[g]!==""&&(S+="="+encodeURIComponent(String(U[g]))),c.push(S)}}return this.i=c.join("&")};function zo(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function gR(c,d){d&&!c.j&&(ni(c),c.i=null,c.g.forEach(function(f,g){var S=g.toLowerCase();g!=S&&(EE(this,g),CE(this,S,f))},c)),c.j=d}function mR(c,d){let f=new La;if(a.Image){let g=new Image;g.onload=y(ri,f,"TestLoadImage: loaded",!0,d,g),g.onerror=y(ri,f,"TestLoadImage: error",!1,d,g),g.onabort=y(ri,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=y(ri,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function yR(c,d){let f=new La,g=new AbortController,S=setTimeout(()=>{g.abort(),ri(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(P=>{clearTimeout(S),P.ok?ri(f,"TestPingServer: ok",!0,d):ri(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(S),ri(f,"TestPingServer: error",!1,d)})}function ri(c,d,f,g,S){try{S&&(S.onload=null,S.onerror=null,S.onabort=null,S.ontimeout=null),g(f)}catch{}}function vR(){this.g=new eR}function _R(c,d,f){let g=f||"";try{yE(c,function(S,P){let U=S;l(S)&&(U=np(S)),d.push(g+P+"="+encodeURIComponent(U))})}catch(S){throw d.push(g+"type="+encodeURIComponent("_badmap")),S}}function Ha(c){this.l=c.Ub||null,this.j=c.eb||!1}A(Ha,rp),Ha.prototype.g=function(){return new zu(this.l,this.j)},Ha.prototype.i=function(c){return function(){return c}}({});function zu(c,d){Mt.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(zu,Mt),t=zu.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,qa(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,za(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,qa(this)),this.g&&(this.readyState=3,qa(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;bE(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function bE(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?za(this):qa(this),this.readyState==3&&bE(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,za(this))},t.Qa=function(c){this.g&&(this.response=c,za(this))},t.ga=function(){this.g&&za(this)};function za(c){c.readyState=4,c.l=null,c.j=null,c.v=null,qa(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function qa(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(zu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function DE(c){let d="";return ie(c,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function fp(c,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=DE(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):ze(c,d,f))}function Ke(c){Mt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(Ke,Mt);var wR=/^https?$/i,ER=["POST","PUT"];t=Ke.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():sp.g(),this.v=this.o?eE(this.o):eE(sp),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(P){TE(this,P);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var S in g)f.set(S,g[S]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let P of g.keys())f.set(P,g.get(P));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(P=>P.toLowerCase()=="content-type"),S=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(ER,d,void 0))||g||S||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[P,U]of f)this.g.setRequestHeader(P,U);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ME(this),this.u=!0,this.g.send(c),this.u=!1}catch(P){TE(this,P)}};function TE(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,SE(c),qu(c)}function SE(c){c.A||(c.A=!0,jt(c,"complete"),jt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,jt(this,"complete"),jt(this,"abort"),qu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qu(this,!0)),Ke.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?AE(this):this.bb())},t.bb=function(){AE(this)};function AE(c){if(c.h&&typeof s<"u"&&(!c.v[1]||vr(c)!=4||c.Z()!=2)){if(c.u&&vr(c)==4)Yw(c.Ea,0,c);else if(jt(c,"readystatechange"),vr(c)==4){c.h=!1;try{let U=c.Z();e:switch(U){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=U===0){var S=String(c.D).match(vE)[1]||null;!S&&a.self&&a.self.location&&(S=a.self.location.protocol.slice(0,-1)),g=!wR.test(S?S.toLowerCase():"")}f=g}if(f)jt(c,"complete"),jt(c,"success");else{c.m=6;try{var P=2<vr(c)?c.g.statusText:""}catch{P=""}c.l=P+" ["+c.Z()+"]",SE(c)}}finally{qu(c)}}}}function qu(c,d){if(c.g){ME(c);let f=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||jt(c,"ready");try{f.onreadystatechange=g}catch{}}}function ME(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function vr(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<vr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),XP(d)}};function xE(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function IR(c){let d={};c=(c.g&&2<=vr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(Q(c[g]))continue;var f=D(c[g]);let S=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let P=d[S]||[];d[S]=P,P.push(f)}I(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ga(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function PE(c){this.Aa=0,this.i=[],this.j=new La,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ga("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ga("baseRetryDelayMs",5e3,c),this.cb=Ga("retryDelaySeedMs",1e4,c),this.Wa=Ga("forwardChannelMaxRetries",2,c),this.wa=Ga("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new hE(c&&c.concurrentRequestLimit),this.Da=new vR,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=PE.prototype,t.la=8,t.G=1,t.connect=function(c,d,f,g){Ut(0),this.W=c,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=UE(this,null,this.W),Wu(this)};function pp(c){if(RE(c),c.G==3){var d=c.U++,f=yr(c.I);if(ze(f,"SID",c.K),ze(f,"RID",d),ze(f,"TYPE","terminate"),Wa(c,f),d=new ti(c,c.j,d),d.L=2,d.v=Hu(yr(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=BE(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Uu(d)}jE(c)}function Gu(c){c.g&&(mp(c),c.g.cancel(),c.g=null)}function RE(c){Gu(c),c.u&&(a.clearTimeout(c.u),c.u=null),Ku(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Wu(c){if(!fE(c.h)&&!c.s){c.s=!0;var d=c.Ga;xa||zw(),Pa||(xa(),Pa=!0),Wf.add(d,c),c.B=0}}function CR(c,d){return pE(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Va(m(c.Ga,c,d),LE(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let S=new ti(this,this.j,c),P=this.o;if(this.S&&(P?(P=v(P),C(P,this.S)):P=this.S),this.m!==null||this.O||(S.H=P,P=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=OE(this,S,d),f=yr(this.I),ze(f,"RID",c),ze(f,"CVER",22),this.D&&ze(f,"X-HTTP-Session-Id",this.D),Wa(this,f),P&&(this.O?d="headers="+encodeURIComponent(String(DE(P)))+"&"+d:this.m&&fp(f,this.m,P)),hp(this.h,S),this.Ua&&ze(f,"TYPE","init"),this.P?(ze(f,"$req",d),ze(f,"SID","null"),S.T=!0,cp(S,f,null)):cp(S,f,d),this.G=2}}else this.G==3&&(c?NE(this,c):this.i.length==0||fE(this.h)||NE(this))};function NE(c,d){var f;d?f=d.l:f=c.U++;let g=yr(c.I);ze(g,"SID",c.K),ze(g,"RID",f),ze(g,"AID",c.T),Wa(c,g),c.m&&c.o&&fp(g,c.m,c.o),f=new ti(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=OE(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),hp(c.h,f),cp(f,g,d)}function Wa(c,d){c.H&&ie(c.H,function(f,g){ze(d,g,f)}),c.l&&yE({},function(f,g){ze(d,g,f)})}function OE(c,d,f){f=Math.min(c.i.length,f);var g=c.l?m(c.l.Na,c.l,c):null;e:{var S=c.i;let P=-1;for(;;){let U=["count="+f];P==-1?0<f?(P=S[0].g,U.push("ofs="+P)):P=0:U.push("ofs="+P);let Fe=!0;for(let bt=0;bt<f;bt++){let Te=S[bt].g,xt=S[bt].map;if(Te-=P,0>Te)P=Math.max(0,S[bt].g-100),Fe=!1;else try{_R(xt,U,"req"+Te+"_")}catch{g&&g(xt)}}if(Fe){g=U.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,g}function kE(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;xa||zw(),Pa||(xa(),Pa=!0),Wf.add(d,c),c.v=0}}function gp(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Va(m(c.Fa,c),LE(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,FE(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Va(m(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ut(10),Gu(this),FE(this))};function mp(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function FE(c){c.g=new ti(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=yr(c.qa);ze(d,"RID","rpc"),ze(d,"SID",c.K),ze(d,"AID",c.T),ze(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&ze(d,"TO",c.ja),ze(d,"TYPE","xmlhttp"),Wa(c,d),c.m&&c.o&&fp(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=Hu(yr(d)),f.m=null,f.P=!0,uE(f,c)}t.Za=function(){this.C!=null&&(this.C=null,Gu(this),gp(this),Ut(19))};function Ku(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function VE(c,d){var f=null;if(c.g==d){Ku(c),mp(c),c.g=null;var g=2}else if(dp(c.h,d))f=d.D,gE(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var S=c.B;g=Vu(),jt(g,new oE(g,f)),Wu(c)}else kE(c);else if(S=d.s,S==3||S==0&&0<d.X||!(g==1&&CR(c,d)||g==2&&gp(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),S){case 1:Yi(c,5);break;case 4:Yi(c,10);break;case 3:Yi(c,6);break;default:Yi(c,2)}}}function LE(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function Yi(c,d){if(c.j.info("Error code "+d),d==2){var f=m(c.fb,c),g=c.Xa;let S=!g;g=new Qi(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Bu(g,"https"),Hu(g),S?mR(g.toString(),f):yR(g.toString(),f)}else Ut(2);c.G=0,c.l&&c.l.sa(d),jE(c),RE(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Ut(2)):(this.j.info("Failed to ping google.com"),Ut(1))};function jE(c){if(c.G=0,c.ka=[],c.l){let d=mE(c.h);(d.length!=0||c.i.length!=0)&&(x(c.ka,d),x(c.ka,c.i),c.h.i.length=0,N(c.i),c.i.length=0),c.l.ra()}}function UE(c,d,f){var g=f instanceof Qi?yr(f):new Qi(f);if(g.g!="")d&&(g.g=d+"."+g.g),$u(g,g.s);else{var S=a.location;g=S.protocol,d=d?d+"."+S.hostname:S.hostname,S=+S.port;var P=new Qi(null);g&&Bu(P,g),d&&(P.g=d),S&&$u(P,S),f&&(P.l=f),g=P}return f=c.D,d=c.ya,f&&d&&ze(g,f,d),ze(g,"VER",c.la),Wa(c,g),g}function BE(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Ke(new Ha({eb:f})):new Ke(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function $E(){}t=$E.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Qu(){}Qu.prototype.g=function(c,d){return new Zt(c,d)};function Zt(c,d){Mt.call(this),this.g=new PE(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!Q(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!Q(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new qo(this)}A(Zt,Mt),Zt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Zt.prototype.close=function(){pp(this.g)},Zt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=np(c),c=f);d.i.push(new sR(d.Ya++,c)),d.G==3&&Wu(d)},Zt.prototype.N=function(){this.g.l=null,delete this.j,pp(this.g),delete this.g,Zt.aa.N.call(this)};function HE(c){ip.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}A(HE,ip);function zE(){op.call(this),this.status=1}A(zE,op);function qo(c){this.g=c}A(qo,$E),qo.prototype.ua=function(){jt(this.g,"a")},qo.prototype.ta=function(c){jt(this.g,new HE(c))},qo.prototype.sa=function(c){jt(this.g,new zE)},qo.prototype.ra=function(){jt(this.g,"b")},Qu.prototype.createWebChannel=Qu.prototype.g,Zt.prototype.send=Zt.prototype.o,Zt.prototype.open=Zt.prototype.m,Zt.prototype.close=Zt.prototype.close,m0=Kr.createWebChannelTransport=function(){return new Qu},g0=Kr.getStatEventTarget=function(){return Vu()},p0=Kr.Event=Wi,Lh=Kr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Lu.NO_ERROR=0,Lu.TIMEOUT=8,Lu.HTTP_ERROR=6,Xc=Kr.ErrorCode=Lu,sE.COMPLETE="complete",f0=Kr.EventType=sE,tE.EventType=ka,ka.OPEN="a",ka.CLOSE="b",ka.ERROR="c",ka.MESSAGE="d",Mt.prototype.listen=Mt.prototype.K,Qs=Kr.WebChannel=tE,jB=Kr.FetchXmlHttpFactory=Ha,Ke.prototype.listenOnce=Ke.prototype.L,Ke.prototype.getLastError=Ke.prototype.Ka,Ke.prototype.getLastErrorCode=Ke.prototype.Ba,Ke.prototype.getStatus=Ke.prototype.Z,Ke.prototype.getResponseJson=Ke.prototype.Oa,Ke.prototype.getResponseText=Ke.prototype.oa,Ke.prototype.send=Ke.prototype.ea,Ke.prototype.setWithCredentials=Ke.prototype.Ha,h0=Kr.XhrIo=Ke}).apply(typeof Vh<"u"?Vh:typeof self<"u"?self:typeof window<"u"?window:{});var BA="@firebase/firestore";var Ct=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ct.UNAUTHENTICATED=new Ct(null),Ct.GOOGLE_CREDENTIALS=new Ct("google-credentials-uid"),Ct.FIRST_PARTY=new Ct("first-party-uid"),Ct.MOCK_USER=new Ct("mock-user");var ma="10.14.0";var Po=new nr("@firebase/firestore");function eu(){return Po.logLevel}function q(t,...e){if(Po.logLevel<=we.DEBUG){let n=e.map(Z_);Po.debug(`Firestore (${ma}): ${t}`,...n)}}function Yr(t,...e){if(Po.logLevel<=we.ERROR){let n=e.map(Z_);Po.error(`Firestore (${ma}): ${t}`,...n)}}function na(t,...e){if(Po.logLevel<=we.WARN){let n=e.map(Z_);Po.warn(`Firestore (${ma}): ${t}`,...n)}}function Z_(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function se(t="Unexpected state"){let e=`FIRESTORE (${ma}) INTERNAL ASSERTION FAILED: `+t;throw Yr(e),new Error(e)}function Re(t,e){t||se()}function le(t,e){return t}var O={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Y=class extends un{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Qr=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Hh=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},E0=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ct.UNAUTHENTICATED))}shutdown(){}},I0=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},C0=class{constructor(e){this.t=e,this.currentUser=Ct.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Re(this.o===void 0);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new Qr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Qr,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>E(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(q("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Qr)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Re(typeof r.accessToken=="string"),new Hh(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Re(e===null||typeof e=="string"),new Ct(e)}},b0=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ct.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},D0=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new b0(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ct.FIRST_PARTY))}shutdown(){}invalidateToken(){}},T0=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},S0=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Re(this.o===void 0);let r=o=>{o.error!=null&&q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,q("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Re(typeof n.token=="string"),this.R=n.token,new T0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function UB(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var zh=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=UB(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}};function Se(t,e){return t<e?-1:t>e?1:0}function ra(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var nt=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Y(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Y(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Y(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Y(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Se(this.nanoseconds,e.nanoseconds):Se(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var fe=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new nt(0,0))}static max(){return new t(new nt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var qh=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&se(),r===void 0?r=e.length-n:r>e.length-n&&se(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Xe=class t extends qh{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new Y(O.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},BB=/^[_a-zA-Z][_a-zA-Z0-9]*$/,dn=class t extends qh{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return BB.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new Y(O.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new Y(O.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Y(O.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Y(O.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var re=class t{constructor(e){this.path=e}static fromPath(e){return new t(Xe.fromString(e))}static fromName(e){return new t(Xe.fromString(e).popFirst(5))}static empty(){return new t(Xe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Xe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Xe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Xe(e.slice()))}};var A0=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};A0.UNKNOWN_ID=-1;function $B(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=fe.fromTimestamp(r===1e9?new nt(n+1,0):new nt(n,r));return new Ro(i,re.empty(),e)}function HB(t){return new Ro(t.readTime,t.key,-1)}var Ro=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(fe.min(),re.empty(),-1)}static max(){return new t(fe.max(),re.empty(),-1)}};function zB(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=re.comparator(t.documentKey,e.documentKey),n!==0?n:Se(t.largestBatchId,e.largestBatchId))}var qB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",M0=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function vu(t){return E(this,null,function*(){if(t.code!==O.FAILED_PRECONDITION||t.message!==qB)throw t;q("LocalStore","Unexpectedly lost primary lease")})}var L=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;n(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function GB(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function _u(t){return t.name==="IndexedDbTransactionError"}var wM=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function Ef(t){return t==null}function su(t){return t===0&&1/t==-1/0}function WB(t){return typeof t=="number"&&Number.isInteger(t)&&!su(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var KB=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],FY=[...KB,"documentOverlays"],QB=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],YB=QB,JB=[...YB,"indexConfiguration","indexState","indexEntries"];var VY=[...JB,"globals"];function $A(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Vo(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function EM(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var et=class t{constructor(e,n){this.comparator=e,this.root=n||sr.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,sr.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,sr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xs(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xs(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xs(this.root,e,this.comparator,!0)}},Xs=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},sr=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw se();let e=this.left.check();if(e!==this.right.check())throw se();return e+(this.isRed()?0:1)}};sr.EMPTY=null,sr.RED=!0,sr.BLACK=!1;sr.EMPTY=new class{constructor(){this.size=0}get key(){throw se()}get value(){throw se()}get color(){throw se()}get left(){throw se()}get right(){throw se()}copy(e,n,r,i,o){return this}insert(e,n,r){return new sr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Vt=class t{constructor(e){this.comparator=e,this.data=new et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Gh(this.data.getIterator())}getIteratorFrom(e){return new Gh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Gh=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var _n=class t{constructor(e){this.fields=e,e.sort(dn.comparator)}static empty(){return new t([])}unionWith(e){let n=new Vt(dn.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ra(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Wh=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Lt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Wh("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Se(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Lt.EMPTY_BYTE_STRING=new Lt("");var ZB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Jr(t){if(Re(!!t),typeof t=="string"){let e=0,n=ZB.exec(t);if(Re(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ge(t.seconds),nanos:Ge(t.nanos)}}function Ge(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Hi(t){return typeof t=="string"?Lt.fromBase64String(t):Lt.fromUint8Array(t)}function X_(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function ew(t){let e=t.mapValue.fields.__previous_value__;return X_(e)?ew(e):e}function au(t){let e=Jr(t.mapValue.fields.__local_write_time__.timestampValue);return new nt(e.seconds,e.nanos)}var x0=class{constructor(e,n,r,i,o,s,a,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}},Kh=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var jh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function No(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?X_(t)?4:CM(t)?9007199254740991:IM(t)?10:11:se()}function dr(t,e){if(t===e)return!0;let n=No(t);if(n!==No(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return au(t).isEqual(au(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Jr(i.timestampValue),a=Jr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Hi(i.bytesValue).isEqual(Hi(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Ge(i.geoPointValue.latitude)===Ge(o.geoPointValue.latitude)&&Ge(i.geoPointValue.longitude)===Ge(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ge(i.integerValue)===Ge(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Ge(i.doubleValue),a=Ge(o.doubleValue);return s===a?su(s)===su(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return ra(t.arrayValue.values||[],e.arrayValue.values||[],dr);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if($A(s)!==$A(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!dr(s[u],a[u])))return!1;return!0}(t,e);default:return se()}}function cu(t,e){return(t.values||[]).find(n=>dr(n,e))!==void 0}function ia(t,e){if(t===e)return 0;let n=No(t),r=No(e);if(n!==r)return Se(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Se(t.booleanValue,e.booleanValue);case 2:return function(o,s){let a=Ge(o.integerValue||o.doubleValue),u=Ge(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return HA(t.timestampValue,e.timestampValue);case 4:return HA(au(t),au(e));case 5:return Se(t.stringValue,e.stringValue);case 6:return function(o,s){let a=Hi(o),u=Hi(s);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=Se(a[l],u[l]);if(h!==0)return h}return Se(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let a=Se(Ge(o.latitude),Ge(s.latitude));return a!==0?a:Se(Ge(o.longitude),Ge(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return zA(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,l,h;let p=o.fields||{},m=s.fields||{},y=(a=p.value)===null||a===void 0?void 0:a.arrayValue,A=(u=m.value)===null||u===void 0?void 0:u.arrayValue,N=Se(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((h=A?.values)===null||h===void 0?void 0:h.length)||0);return N!==0?N:zA(y,A)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===jh.mapValue&&s===jh.mapValue)return 0;if(o===jh.mapValue)return 1;if(s===jh.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=Se(u[p],h[p]);if(m!==0)return m;let y=ia(a[u[p]],l[h[p]]);if(y!==0)return y}return Se(u.length,h.length)}(t.mapValue,e.mapValue);default:throw se()}}function HA(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Se(t,e);let n=Jr(t),r=Jr(e),i=Se(n.seconds,r.seconds);return i!==0?i:Se(n.nanos,r.nanos)}function zA(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=ia(n[i],r[i]);if(o)return o}return Se(n.length,r.length)}function oa(t){return P0(t)}function P0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Jr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Hi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return re.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=P0(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${P0(n.fields[s])}`;return i+"}"}(t.mapValue):se()}function R0(t){return!!t&&"integerValue"in t}function tw(t){return!!t&&"arrayValue"in t}function qA(t){return!!t&&"nullValue"in t}function GA(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Bh(t){return!!t&&"mapValue"in t}function IM(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function nu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Vo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=nu(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=nu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function CM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var ln=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Bh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=nu(n)}setAll(e){let n=dn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=nu(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());Bh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return dr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Bh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Vo(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(nu(this.value))}};function bM(t){let e=[];return Vo(t.fields,(n,r)=>{let i=new dn([n]);if(Bh(r)){let o=bM(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new _n(e)}var Fn=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,fe.min(),fe.min(),fe.min(),ln.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,fe.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,fe.min(),fe.min(),ln.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,fe.min(),fe.min(),ln.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var sa=class{constructor(e,n){this.position=e,this.inclusive=n}};function WA(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=re.comparator(re.fromName(s.referenceValue),n.key):r=ia(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function KA(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!dr(t.position[n],e.position[n]))return!1;return!0}var aa=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function XB(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Qh=class{},mt=class t extends Qh{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new O0(e,n,r):n==="array-contains"?new V0(e,r):n==="in"?new L0(e,r):n==="not-in"?new j0(e,r):n==="array-contains-any"?new U0(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new k0(e,r):new F0(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ia(n,this.value)):n!==null&&No(this.value)===No(n)&&this.matchesComparison(ia(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return se()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},hr=class t extends Qh{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return DM(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function DM(t){return t.op==="and"}function TM(t){return e$(t)&&DM(t)}function e$(t){for(let e of t.filters)if(e instanceof hr)return!1;return!0}function N0(t){if(t instanceof mt)return t.field.canonicalString()+t.op.toString()+oa(t.value);if(TM(t))return t.filters.map(e=>N0(e)).join(",");{let e=t.filters.map(n=>N0(n)).join(",");return`${t.op}(${e})`}}function SM(t,e){return t instanceof mt?function(r,i){return i instanceof mt&&r.op===i.op&&r.field.isEqual(i.field)&&dr(r.value,i.value)}(t,e):t instanceof hr?function(r,i){return i instanceof hr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&SM(s,i.filters[a]),!0):!1}(t,e):void se()}function AM(t){return t instanceof mt?function(n){return`${n.field.canonicalString()} ${n.op} ${oa(n.value)}`}(t):t instanceof hr?function(n){return n.op.toString()+" {"+n.getFilters().map(AM).join(" ,")+"}"}(t):"Filter"}var O0=class extends mt{constructor(e,n,r){super(e,n,r),this.key=re.fromName(r.referenceValue)}matches(e){let n=re.comparator(e.key,this.key);return this.matchesComparison(n)}},k0=class extends mt{constructor(e,n){super(e,"in",n),this.keys=MM("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},F0=class extends mt{constructor(e,n){super(e,"not-in",n),this.keys=MM("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function MM(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>re.fromName(r.referenceValue))}var V0=class extends mt{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return tw(n)&&cu(n.arrayValue,this.value)}},L0=class extends mt{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&cu(this.value.arrayValue,n)}},j0=class extends mt{constructor(e,n){super(e,"not-in",n)}matches(e){if(cu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!cu(this.value.arrayValue,n)}},U0=class extends mt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!tw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>cu(this.value.arrayValue,r))}};var B0=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}};function QA(t,e=null,n=[],r=[],i=null,o=null,s=null){return new B0(t,e,n,r,i,o,s)}function nw(t){let e=le(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>N0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Ef(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>oa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>oa(r)).join(",")),e.ue=n}return e.ue}function rw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!XB(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!SM(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!KA(t.startAt,e.startAt)&&KA(t.endAt,e.endAt)}function $0(t){return re.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var ca=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function t$(t,e,n,r,i,o,s,a){return new ca(t,e,n,r,i,o,s,a)}function iw(t){return new ca(t)}function YA(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function n$(t){return t.collectionGroup!==null}function ru(t){let e=le(t);if(e.ce===null){e.ce=[];let n=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Vt(dn.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new aa(o,r))}),n.has(dn.keyField().canonicalString())||e.ce.push(new aa(dn.keyField(),r))}return e.ce}function ar(t){let e=le(t);return e.le||(e.le=r$(e,ru(t))),e.le}function r$(t,e){if(t.limitType==="F")return QA(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new aa(i.field,o)});let n=t.endAt?new sa(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new sa(t.startAt.position,t.startAt.inclusive):null;return QA(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function H0(t,e,n){return new ca(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function If(t,e){return rw(ar(t),ar(e))&&t.limitType===e.limitType}function xM(t){return`${nw(ar(t))}|lt:${t.limitType}`}function Ys(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>AM(i)).join(", ")}]`),Ef(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>oa(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>oa(i)).join(",")),`Target(${r})`}(ar(t))}; limitType=${t.limitType})`}function Cf(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):re.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of ru(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){let l=WA(s,a,u);return s.inclusive?l<=0:l<0}(r.startAt,ru(r),i)||r.endAt&&!function(s,a,u){let l=WA(s,a,u);return s.inclusive?l>=0:l>0}(r.endAt,ru(r),i))}(t,e)}function i$(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function PM(t){return(e,n)=>{let r=!1;for(let i of ru(t)){let o=o$(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function o$(t,e,n){let r=t.field.isKeyField()?re.comparator(e.key,n.key):function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?ia(u,l):se()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return se()}}var zi=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Vo(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return EM(this.inner)}size(){return this.innerSize}};var s$=new et(re.comparator);function Zr(){return s$}var RM=new et(re.comparator);function tu(...t){let e=RM;for(let n of t)e=e.insert(n.key,n);return e}function NM(t){let e=RM;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ao(){return iu()}function OM(){return iu()}function iu(){return new zi(t=>t.toString(),(t,e)=>t.isEqual(e))}var a$=new et(re.comparator),c$=new Vt(re.comparator);function Ee(...t){let e=c$;for(let n of t)e=e.add(n);return e}var u$=new Vt(Se);function l$(){return u$}function ow(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:su(e)?"-0":e}}function kM(t){return{integerValue:""+t}}function d$(t,e){return WB(e)?kM(e):ow(t,e)}var ua=class{constructor(){this._=void 0}};function h$(t,e,n){return t instanceof la?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&X_(o)&&(o=ew(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Oo?VM(t,e):t instanceof ko?LM(t,e):function(i,o){let s=FM(i,o),a=JA(s)+JA(i.Pe);return R0(s)&&R0(i.Pe)?kM(a):ow(i.serializer,a)}(t,e)}function f$(t,e,n){return t instanceof Oo?VM(t,e):t instanceof ko?LM(t,e):n}function FM(t,e){return t instanceof da?function(r){return R0(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var la=class extends ua{},Oo=class extends ua{constructor(e){super(),this.elements=e}};function VM(t,e){let n=jM(e);for(let r of t.elements)n.some(i=>dr(i,r))||n.push(r);return{arrayValue:{values:n}}}var ko=class extends ua{constructor(e){super(),this.elements=e}};function LM(t,e){let n=jM(e);for(let r of t.elements)n=n.filter(i=>!dr(i,r));return{arrayValue:{values:n}}}var da=class extends ua{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function JA(t){return Ge(t.integerValue||t.doubleValue)}function jM(t){return tw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function p$(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Oo&&i instanceof Oo||r instanceof ko&&i instanceof ko?ra(r.elements,i.elements,dr):r instanceof da&&i instanceof da?dr(r.Pe,i.Pe):r instanceof la&&i instanceof la}(t.transform,e.transform)}var z0=class{constructor(e,n){this.version=e,this.transformResults=n}},cr=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function $h(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var ha=class{};function UM(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new uu(t.key,cr.none()):new Fo(t.key,t.data,cr.none());{let n=t.data,r=ln.empty(),i=new Vt(dn.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new fr(t.key,r,new _n(i.toArray()),cr.none())}}function g$(t,e,n){t instanceof Fo?function(i,o,s){let a=i.value.clone(),u=XA(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof fr?function(i,o,s){if(!$h(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=XA(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(BM(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function ou(t,e,n,r){return t instanceof Fo?function(o,s,a,u){if(!$h(o.precondition,s))return a;let l=o.value.clone(),h=eM(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof fr?function(o,s,a,u){if(!$h(o.precondition,s))return a;let l=eM(o.fieldTransforms,u,s),h=s.data;return h.setAll(BM(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(o,s,a){return $h(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function m$(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=FM(r.transform,i||null);o!=null&&(n===null&&(n=ln.empty()),n.set(r.field,o))}return n||null}function ZA(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ra(r,i,(o,s)=>p$(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Fo=class extends ha{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},fr=class extends ha{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function BM(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function XA(t,e,n){let r=new Map;Re(t.length===n.length);for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,f$(s,a,n[i]))}return r}function eM(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,h$(o,s,e))}return r}var uu=class extends ha{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},q0=class extends ha{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var G0=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&g$(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=ou(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=ou(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=OM();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let u=UM(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(fe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ee())}isEqual(e){return this.batchId===e.batchId&&ra(this.mutations,e.mutations,(n,r)=>ZA(n,r))&&ra(this.baseMutations,e.baseMutations,(n,r)=>ZA(n,r))}},W0=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Re(e.mutations.length===r.length);let i=function(){return a$}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var K0=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Q0=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var ut,De;function y$(t){switch(t){default:return se();case O.CANCELLED:case O.UNKNOWN:case O.DEADLINE_EXCEEDED:case O.RESOURCE_EXHAUSTED:case O.INTERNAL:case O.UNAVAILABLE:case O.UNAUTHENTICATED:return!1;case O.INVALID_ARGUMENT:case O.NOT_FOUND:case O.ALREADY_EXISTS:case O.PERMISSION_DENIED:case O.FAILED_PRECONDITION:case O.ABORTED:case O.OUT_OF_RANGE:case O.UNIMPLEMENTED:case O.DATA_LOSS:return!0}}function $M(t){if(t===void 0)return Yr("GRPC error has no .code"),O.UNKNOWN;switch(t){case ut.OK:return O.OK;case ut.CANCELLED:return O.CANCELLED;case ut.UNKNOWN:return O.UNKNOWN;case ut.DEADLINE_EXCEEDED:return O.DEADLINE_EXCEEDED;case ut.RESOURCE_EXHAUSTED:return O.RESOURCE_EXHAUSTED;case ut.INTERNAL:return O.INTERNAL;case ut.UNAVAILABLE:return O.UNAVAILABLE;case ut.UNAUTHENTICATED:return O.UNAUTHENTICATED;case ut.INVALID_ARGUMENT:return O.INVALID_ARGUMENT;case ut.NOT_FOUND:return O.NOT_FOUND;case ut.ALREADY_EXISTS:return O.ALREADY_EXISTS;case ut.PERMISSION_DENIED:return O.PERMISSION_DENIED;case ut.FAILED_PRECONDITION:return O.FAILED_PRECONDITION;case ut.ABORTED:return O.ABORTED;case ut.OUT_OF_RANGE:return O.OUT_OF_RANGE;case ut.UNIMPLEMENTED:return O.UNIMPLEMENTED;case ut.DATA_LOSS:return O.DATA_LOSS;default:return se()}}(De=ut||(ut={}))[De.OK=0]="OK",De[De.CANCELLED=1]="CANCELLED",De[De.UNKNOWN=2]="UNKNOWN",De[De.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",De[De.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",De[De.NOT_FOUND=5]="NOT_FOUND",De[De.ALREADY_EXISTS=6]="ALREADY_EXISTS",De[De.PERMISSION_DENIED=7]="PERMISSION_DENIED",De[De.UNAUTHENTICATED=16]="UNAUTHENTICATED",De[De.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",De[De.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",De[De.ABORTED=10]="ABORTED",De[De.OUT_OF_RANGE=11]="OUT_OF_RANGE",De[De.UNIMPLEMENTED=12]="UNIMPLEMENTED",De[De.INTERNAL=13]="INTERNAL",De[De.UNAVAILABLE=14]="UNAVAILABLE",De[De.DATA_LOSS=15]="DATA_LOSS";var tM=null;function v$(){return new TextEncoder}var _$=new Bi([4294967295,4294967295],0);function nM(t){let e=v$().encode(t),n=new d0;return n.update(e),new Uint8Array(n.digest())}function rM(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Bi([n,r],0),new Bi([i,o],0)]}var Y0=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Mo(`Invalid padding: ${n}`);if(r<0)throw new Mo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Mo(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Mo(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Bi.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Bi.fromNumber(r)));return i.compare(_$)===1&&(i=new Bi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=nM(e),[r,i]=rM(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;let n=nM(e),[r,i]=rM(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Mo=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Yh=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,lu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(fe.min(),i,new et(Se),Zr(),Ee())}},lu=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,Ee(),Ee(),Ee())}};var ea=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},Jh=class{constructor(e,n){this.targetId=e,this.me=n}},Zh=class{constructor(e,n,r=Lt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Xh=class{constructor(){this.fe=0,this.ge=oM(),this.pe=Lt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ee(),n=Ee(),r=Ee();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:se()}}),new lu(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=oM()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Re(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},J0=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Zr(),this.qe=iM(),this.Qe=new et(Se)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:se()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let o=i.target;if($0(o))if(r===0){let s=new re(o.path);this.Ue(n,s,Fn.newNoDocument(s,fe.min()))}else Re(r===1);else{let s=this.Ye(n);if(s!==r){let a=this.Ze(e),u=a?this.Xe(a,e,s):1;if(u!==0){this.je(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}tM?.et(function(h,p,m,y,A){var N,x,V,Q,G,X;let Ne={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},ie=p.unchangedNames;return ie&&(Ne.bloomFilter={applied:A===0,hashCount:(N=ie?.hashCount)!==null&&N!==void 0?N:0,bitmapLength:(Q=(V=(x=ie?.bits)===null||x===void 0?void 0:x.bitmap)===null||V===void 0?void 0:V.length)!==null&&Q!==void 0?Q:0,padding:(X=(G=ie?.bits)===null||G===void 0?void 0:G.padding)!==null&&X!==void 0?X:0,mightContain:I=>{var v;return(v=y?.mightContain(I))!==null&&v!==void 0&&v}}),Ne}(s,e.me,this.Le.tt(),a,u))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,a;try{s=Hi(r).toUint8Array()}catch(u){if(u instanceof Wh)return na("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new Y0(s,i,o)}catch(u){return na(u instanceof Mo?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((o,s)=>{let a=this.Je(s);if(a){if(o.current&&$0(a.target)){let u=new re(a.target.path);this.ke.get(u)!==null||this.it(s,u)||this.Ue(s,u,Fn.newNoDocument(u,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=Ee();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let i=new Yh(e,n,this.Qe,this.ke,r);return this.ke=Zr(),this.qe=iM(),this.Qe=new et(Se),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Xh,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Vt(Se),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||q("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Xh),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function iM(){return new et(re.comparator)}function oM(){return new et(re.comparator)}var w$={asc:"ASCENDING",desc:"DESCENDING"},E$={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},I$={and:"AND",or:"OR"},Z0=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function X0(t,e){return t.useProto3Json||Ef(e)?e:{value:e}}function ef(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function HM(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function C$(t,e){return ef(t,e.toTimestamp())}function ur(t){return Re(!!t),fe.fromTimestamp(function(n){let r=Jr(n);return new nt(r.seconds,r.nanos)}(t))}function sw(t,e){return e_(t,e).canonicalString()}function e_(t,e){let n=function(i){return new Xe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function zM(t){let e=Xe.fromString(t);return Re(QM(e)),e}function t_(t,e){return sw(t.databaseId,e.path)}function y0(t,e){let n=zM(e);if(n.get(1)!==t.databaseId.projectId)throw new Y(O.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Y(O.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new re(GM(n))}function qM(t,e){return sw(t.databaseId,e)}function b$(t){let e=zM(t);return e.length===4?Xe.emptyPath():GM(e)}function n_(t){return new Xe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function GM(t){return Re(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function sM(t,e,n){return{name:t_(t,e),fields:n.value.mapValue.fields}}function D$(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:se()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(Re(h===void 0||typeof h=="string"),Lt.fromBase64String(h||"")):(Re(h===void 0||h instanceof Buffer||h instanceof Uint8Array),Lt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let h=l.code===void 0?O.UNKNOWN:$M(l.code);return new Y(h,l.message||"")}(s);n=new Zh(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=y0(t,r.document.name),o=ur(r.document.updateTime),s=r.document.createTime?ur(r.document.createTime):fe.min(),a=new ln({mapValue:{fields:r.document.fields}}),u=Fn.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];n=new ea(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=y0(t,r.document),o=r.readTime?ur(r.readTime):fe.min(),s=Fn.newNoDocument(i,o),a=r.removedTargetIds||[];n=new ea([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=y0(t,r.document),o=r.removedTargetIds||[];n=new ea([],o,i,null)}else{if(!("filter"in e))return se();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new Q0(i,o),a=r.targetId;n=new Jh(a,s)}}return n}function T$(t,e){let n;if(e instanceof Fo)n={update:sM(t,e.key,e.value)};else if(e instanceof uu)n={delete:t_(t,e.key)};else if(e instanceof fr)n={update:sM(t,e.key,e.data),updateMask:k$(e.fieldMask)};else{if(!(e instanceof q0))return se();n={verify:t_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof la)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Oo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ko)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof da)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw se()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:C$(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:se()}(t,e.precondition)),n}function S$(t,e){return t&&t.length>0?(Re(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?ur(i.updateTime):ur(o);return s.isEqual(fe.min())&&(s=ur(o)),new z0(s,i.transformResults||[])}(n,e))):[]}function A$(t,e){return{documents:[qM(t,e.path)]}}function M$(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=qM(t,i);let o=function(l){if(l.length!==0)return KM(hr.create(l,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(m){return{field:Js(m.field),direction:R$(m.dir)}}(h))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=X0(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i}}function x$(t){let e=b$(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Re(r===1);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(p){let m=WM(p);return m instanceof hr&&TM(m)?m.getFilters():[m]}(n.where));let s=[];n.orderBy&&(s=function(p){return p.map(m=>function(A){return new aa(Zs(A.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(p){let m;return m=typeof p=="object"?p.value:p,Ef(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(p){let m=!!p.before,y=p.values||[];return new sa(y,m)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let m=!p.before,y=p.values||[];return new sa(y,m)}(n.endAt)),t$(e,i,s,o,a,"F",u,l)}function P$(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return se()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function WM(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Zs(n.unaryFilter.field);return mt.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Zs(n.unaryFilter.field);return mt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Zs(n.unaryFilter.field);return mt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Zs(n.unaryFilter.field);return mt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return se()}}(t):t.fieldFilter!==void 0?function(n){return mt.create(Zs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return se()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return hr.create(n.compositeFilter.filters.map(r=>WM(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return se()}}(n.compositeFilter.op))}(t):se()}function R$(t){return w$[t]}function N$(t){return E$[t]}function O$(t){return I$[t]}function Js(t){return{fieldPath:t.canonicalString()}}function Zs(t){return dn.fromServerFormat(t.fieldPath)}function KM(t){return t instanceof mt?function(n){if(n.op==="=="){if(GA(n.value))return{unaryFilter:{field:Js(n.field),op:"IS_NAN"}};if(qA(n.value))return{unaryFilter:{field:Js(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(GA(n.value))return{unaryFilter:{field:Js(n.field),op:"IS_NOT_NAN"}};if(qA(n.value))return{unaryFilter:{field:Js(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Js(n.field),op:N$(n.op),value:n.value}}}(t):t instanceof hr?function(n){let r=n.getFilters().map(i=>KM(i));return r.length===1?r[0]:{compositeFilter:{op:O$(n.op),filters:r}}}(t):se()}function k$(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function QM(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var du=class t{constructor(e,n,r,i,o=fe.min(),s=fe.min(),a=Lt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var r_=class{constructor(e){this.ct=e}};function F$(t){let e=x$({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?H0(e,e.limit,"L"):e}var tf=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Ge(e.integerValue));else if("doubleValue"in e){let r=Ge(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),su(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=Jr(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(Hi(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?CM(e)?this.dt(n,Number.MAX_SAFE_INTEGER):IM(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):se()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let o=e.fields||{};this.dt(n,53);let s="value",a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(Ge(a)),this.Vt(s,n),this.Tt(o[s],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),re.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};tf.vt=new tf;var i_=class{constructor(){this.un=new o_}addToCollectionParentIndex(e,n){return this.un.add(n),L.resolve()}getCollectionParents(e,n){return L.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return L.resolve()}deleteFieldIndex(e,n){return L.resolve()}deleteAllFieldIndexes(e){return L.resolve()}createTargetIndexes(e,n){return L.resolve()}getDocumentsMatchingTarget(e,n){return L.resolve(null)}getIndexType(e,n){return L.resolve(0)}getFieldIndexes(e,n){return L.resolve([])}getNextCollectionGroupToUpdate(e){return L.resolve(null)}getMinOffset(e,n){return L.resolve(Ro.min())}getMinOffsetFromCollectionGroup(e,n){return L.resolve(Ro.min())}updateCollectionGroup(e,n,r){return L.resolve()}updateIndexEntries(e,n){return L.resolve()}},o_=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Vt(Xe.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Vt(Xe.comparator)).toArray()}};var jY=new Uint8Array(0);var or=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};or.DEFAULT_COLLECTION_PERCENTILE=10,or.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,or.DEFAULT=new or(41943040,or.DEFAULT_COLLECTION_PERCENTILE,or.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),or.DISABLED=new or(-1,0,0);var hu=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var s_=class{constructor(){this.changes=new zi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Fn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?L.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var a_=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var c_=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ou(r.mutation,i,_n.empty(),nt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ee()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ee()){let i=Ao();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=tu();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=Ao();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ee()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Zr(),s=iu(),a=function(){return iu()}();return n.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof fr)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),ou(h.mutation,l,h.mutation.getFieldMask(),nt.now())):s.set(l.key,_n.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),n.forEach((l,h)=>{var p;return a.set(l,new a_(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let r=iu(),i=new et((s,a)=>s-a),o=Ee();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let h=r.get(u)||_n.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||Ee()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=OM();h.forEach(m=>{if(!o.has(m)){let y=UM(n.get(m),r.get(m));y!==null&&p.set(m,y),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return L.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return re.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):n$(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):L.resolve(Ao()),a=-1,u=o;return s.next(l=>L.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?L.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,Ee())).next(h=>({batchId:a,changes:NM(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new re(n)).next(r=>{let i=tu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=tu();return this.indexManager.getCollectionParents(e,o).next(a=>L.forEach(a,u=>{let l=function(p,m){return new ca(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,Fn.newInvalidDocument(h)))});let a=tu();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&ou(h.mutation,l,_n.empty(),nt.now()),Cf(n,l)&&(a=a.insert(u,l))}),a})}};var u_=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return L.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:ur(i.createTime)}}(n)),L.resolve()}getNamedQuery(e,n){return L.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:F$(i.bundledQuery),readTime:ur(i.readTime)}}(n)),L.resolve()}};var l_=class{constructor(){this.overlays=new et(re.comparator),this.Ir=new Map}getOverlay(e,n){return L.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Ao();return L.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),L.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),L.resolve()}getOverlaysForCollection(e,n,r){let i=Ao(),o=n.length+1,s=new re(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return L.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new et((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=Ao(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=Ao(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return L.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new K0(n,r));let o=this.Ir.get(n);o===void 0&&(o=Ee(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}};var d_=class{constructor(){this.sessionToken=Lt.EMPTY_BYTE_STRING}getSessionToken(e){return L.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,L.resolve()}};var fu=class{constructor(){this.Tr=new Vt(lt.Er),this.dr=new Vt(lt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new lt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new lt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new re(new Xe([])),r=new lt(n,e),i=new lt(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new re(new Xe([])),r=new lt(n,e),i=new lt(n,e+1),o=Ee();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new lt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},lt=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return re.comparator(e.key,n.key)||Se(e.wr,n.wr)}static Ar(e,n){return Se(e.wr,n.wr)||re.comparator(e.key,n.key)}};var h_=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Vt(lt.Er)}checkEmpty(e){return L.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new G0(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.br=this.br.add(new lt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return L.resolve(s)}lookupMutationBatch(e,n){return L.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),o=i<0?0:i;return L.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new lt(n,0),i=new lt(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{let a=this.Dr(s.wr);o.push(a)}),L.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Vt(Se);return n.forEach(i=>{let o=new lt(i,0),s=new lt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),L.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;re.isDocumentKey(o)||(o=o.child(""));let s=new lt(new re(o),0),a=new Vt(Se);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.wr)),!0)},s),L.resolve(this.Cr(a))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Re(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return L.forEach(n.mutations,i=>{let o=new lt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new lt(n,0),i=this.br.firstAfterOrEqual(r);return L.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,L.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var f_=class{constructor(e){this.Mr=e,this.docs=function(){return new et(re.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return L.resolve(r?r.document.mutableCopy():Fn.newInvalidDocument(n))}getEntries(e,n){let r=Zr();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Fn.newInvalidDocument(i))}),L.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Zr(),s=n.path,a=new re(s.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||zB(HB(h),r)<=0||(i.has(h.key)||Cf(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return L.resolve(o)}getAllFromCollectionGroup(e,n,r,i){se()}Or(e,n){return L.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new p_(this)}getSize(e){return L.resolve(this.size)}},p_=class extends s_{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),L.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var g_=class{constructor(e){this.persistence=e,this.Nr=new zi(n=>nw(n),rw),this.lastRemoteSnapshotVersion=fe.min(),this.highestTargetId=0,this.Lr=0,this.Br=new fu,this.targetCount=0,this.kr=hu.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),L.resolve()}getLastRemoteSnapshotVersion(e){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return L.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),L.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new hu(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,L.resolve()}updateTargetData(e,n){return this.Kn(n),L.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,L.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),L.waitFor(o).next(()=>i)}getTargetCount(e){return L.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return L.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),L.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),L.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),L.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return L.resolve(r)}containsKey(e,n){return L.resolve(this.Br.containsKey(n))}};var m_=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new wM(0),this.Kr=!1,this.Kr=!0,this.$r=new d_,this.referenceDelegate=e(this),this.Ur=new g_(this),this.indexManager=new i_,this.remoteDocumentCache=function(i){return new f_(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new r_(n),this.Gr=new u_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new l_,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new h_(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){q("MemoryPersistence","Starting transaction:",e);let i=new y_(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return L.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},y_=class extends M0{constructor(e){super(),this.currentSequenceNumber=e}},v_=class t{constructor(e){this.persistence=e,this.Jr=new fu,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw se()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),L.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),L.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),L.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.Xr,r=>{let i=re.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,fe.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return L.or([()=>L.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var __=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Ee(),i=Ee();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var w_=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var E_=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return TS()?8:GB(It())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new w_;return this.Xi(e,n,s).next(a=>{if(o.result=a,this.zi)return this.es(e,n,s,a.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(eu()<=we.DEBUG&&q("QueryEngine","SDK will not create cache indexes for query:",Ys(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),L.resolve()):(eu()<=we.DEBUG&&q("QueryEngine","Query:",Ys(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(eu()<=we.DEBUG&&q("QueryEngine","The SDK decides to create cache indexes for query:",Ys(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ar(n))):L.resolve())}Yi(e,n){if(YA(n))return L.resolve(null);let r=ar(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=H0(n,null,"F"),r=ar(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=Ee(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(n,a);return this.ns(n,l,s,u.readTime)?this.Yi(e,H0(n,null,"F")):this.rs(e,l,n,u)}))})))}Zi(e,n,r,i){return YA(n)||i.isEqual(fe.min())?L.resolve(null):this.Ji.getDocuments(e,r).next(o=>{let s=this.ts(n,o);return this.ns(n,s,r,i)?L.resolve(null):(eu()<=we.DEBUG&&q("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ys(n)),this.rs(e,s,n,$B(i,-1)).next(a=>a))})}ts(e,n){let r=new Vt(PM(e));return n.forEach((i,o)=>{Cf(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return eu()<=we.DEBUG&&q("QueryEngine","Using full collection scan to execute query:",Ys(n)),this.Ji.getDocumentsMatchingQuery(e,n,Ro.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var I_=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new et(Se),this._s=new zi(o=>nw(o),rw),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new c_(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function V$(t,e,n,r){return new I_(t,e,n,r)}function YM(t,e){return E(this,null,function*(){let n=le(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=Ee();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:s,addedBatchIds:a}))})})})}function L$(t,e){let n=le(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,m=p.keys(),y=L.resolve();return m.forEach(A=>{y=y.next(()=>h.getEntry(u,A)).next(N=>{let x=l.docVersions.get(A);Re(x!==null),N.version.compareTo(x)<0&&(p.applyToRemoteDocument(N,l),N.isValidDocument()&&(N.setReadTime(l.commitVersion),h.addEntry(N)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=Ee();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function JM(t){let e=le(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function j$(t,e){let n=le(t),r=e.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let a=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;a.push(n.Ur.removeMatchingKeys(o,h.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(o,h.addedDocuments,p)));let y=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(Lt.EMPTY_BYTE_STRING,fe.min()).withLastLimboFreeSnapshotVersion(fe.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),function(N,x,V){return N.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=3e8?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0}(m,y,h)&&a.push(n.Ur.updateTargetData(o,y))});let u=Zr(),l=Ee();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(U$(o,s,e.documentUpdates).next(h=>{u=h.Ps,l=h.Is})),!r.isEqual(fe.min())){let h=n.Ur.getLastRemoteSnapshotVersion(o).next(p=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return L.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(n.os=i,o))}function U$(t,e,n){let r=Ee(),i=Ee();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Zr();return n.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(fe.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):q("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ps:s,Is:i}})}function B$(t,e){let n=le(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function $$(t,e){let n=le(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,L.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new du(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}function C_(t,e,n){return E(this,null,function*(){let r=le(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!_u(s))throw s;q("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function aM(t,e,n){let r=le(t),i=fe.min(),o=Ee();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,h){let p=le(u),m=p._s.get(h);return m!==void 0?L.resolve(p.os.get(m)):p.Ur.getTargetData(l,h)}(r,s,ar(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:fe.min(),n?o:Ee())).next(a=>(H$(r,i$(e),a),{documents:a,Ts:o})))}function H$(t,e,n){let r=t.us.get(e)||fe.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}var nf=class{constructor(){this.activeTargetIds=l$()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var b_=class{constructor(){this.so=new nf,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new nf,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var D_=class{_o(e){}shutdown(){}};var rf=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){q("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){q("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Uh=null;function v0(){return Uh===null?Uh=function(){return 268435456+Math.round(2147483648*Math.random())}():Uh++,"0x"+Uh.toString(16)}var z$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var T_=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var Ft="WebChannelConnection",S_=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){let a=v0(),u=this.xo(n,r.toUriEncodedString());q("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,o,s),this.No(n,u,l,i).then(h=>(q("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw na("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",u,"request:",i),h})}Lo(n,r,i,o,s,a){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ma}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){let i=z$[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let o=v0();return new Promise((s,a)=>{let u=new h0;u.setWithCredentials(!0),u.listenOnce(f0.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Xc.NO_ERROR:let h=u.getResponseJson();q(Ft,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case Xc.TIMEOUT:q(Ft,`RPC '${e}' ${o} timed out`),a(new Y(O.DEADLINE_EXCEEDED,"Request time out"));break;case Xc.HTTP_ERROR:let p=u.getStatus();if(q(Ft,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);let y=m?.error;if(y&&y.status&&y.message){let A=function(x){let V=x.toLowerCase().replace(/_/g,"-");return Object.values(O).indexOf(V)>=0?V:O.UNKNOWN}(y.status);a(new Y(A,y.message))}else a(new Y(O.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new Y(O.UNAVAILABLE,"Connection failed."));break;default:se()}}finally{q(Ft,`RPC '${e}' ${o} completed.`)}});let l=JSON.stringify(i);q(Ft,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",l,r,15)})}Bo(e,n,r){let i=v0(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=m0(),a=g0(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let h=o.join("");q(Ft,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u),m=!1,y=!1,A=new T_({Io:x=>{y?q(Ft,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(m||(q(Ft,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),q(Ft,`RPC '${e}' stream ${i} sending:`,x),p.send(x))},To:()=>p.close()}),N=(x,V,Q)=>{x.listen(V,G=>{try{Q(G)}catch(X){setTimeout(()=>{throw X},0)}})};return N(p,Qs.EventType.OPEN,()=>{y||(q(Ft,`RPC '${e}' stream ${i} transport opened.`),A.yo())}),N(p,Qs.EventType.CLOSE,()=>{y||(y=!0,q(Ft,`RPC '${e}' stream ${i} transport closed`),A.So())}),N(p,Qs.EventType.ERROR,x=>{y||(y=!0,na(Ft,`RPC '${e}' stream ${i} transport errored:`,x),A.So(new Y(O.UNAVAILABLE,"The operation could not be completed")))}),N(p,Qs.EventType.MESSAGE,x=>{var V;if(!y){let Q=x.data[0];Re(!!Q);let G=Q,X=G.error||((V=G[0])===null||V===void 0?void 0:V.error);if(X){q(Ft,`RPC '${e}' stream ${i} received error:`,X);let Ne=X.status,ie=function(_){let C=ut[_];if(C!==void 0)return $M(C)}(Ne),I=X.message;ie===void 0&&(ie=O.INTERNAL,I="Unknown error status: "+Ne+" with message "+X.message),y=!0,A.So(new Y(ie,I)),p.close()}else q(Ft,`RPC '${e}' stream ${i} received:`,Q),A.bo(Q)}}),N(a,p0.STAT_EVENT,x=>{x.stat===Lh.PROXY?q(Ft,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===Lh.NOPROXY&&q(Ft,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{A.wo()},0),A}};function _0(){return typeof document<"u"?document:null}function bf(t){return new Z0(t,!0)}var of=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&q("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var sf=class{constructor(e,n,r,i,o,s,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new of(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return E(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return E(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return E(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===O.RESOURCE_EXHAUSTED?(Yr(n.toString()),Yr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===O.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new Y(O.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>E(this,null,function*(){this.state=0,this.start()}))}I_(e){return q("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(q("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},A_=class extends sf{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=D$(this.serializer,e),r=function(o){if(!("targetChange"in o))return fe.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?fe.min():s.readTime?ur(s.readTime):fe.min()}(e);return this.listener.d_(n,r)}A_(e){let n={};n.database=n_(this.serializer),n.addTarget=function(o,s){let a,u=s.target;if(a=$0(u)?{documents:A$(o,u)}:{query:M$(o,u)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=HM(o,s.resumeToken);let l=X0(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(fe.min())>0){a.readTime=ef(o,s.snapshotVersion.toTimestamp());let l=X0(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=P$(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){let n={};n.database=n_(this.serializer),n.removeTarget=e,this.a_(n)}},M_=class extends sf{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Re(!!e.streamToken),this.lastStreamToken=e.streamToken,Re(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Re(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=S$(e.writeResults,e.commitTime),r=ur(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=n_(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>T$(this.serializer,r))};this.a_(n)}};var x_=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Y(O.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,e_(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Y(O.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,e_(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Y(O.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},P_=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Yr(n),this.D_=!1):q("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var R_=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(()=>E(this,null,function*(){Lo(this)&&(q("RemoteStore","Restarting streams for network reachability change."),yield function(u){return E(this,null,function*(){let l=le(u);l.L_.add(4),yield wu(l),l.q_.set("Unknown"),l.L_.delete(4),yield Df(l)})}(this))}))}),this.q_=new P_(r,i)}};function Df(t){return E(this,null,function*(){if(Lo(t))for(let e of t.B_)yield e(!0)})}function wu(t){return E(this,null,function*(){for(let e of t.B_)yield e(!1)})}function ZM(t,e){let n=le(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),lw(n)?uw(n):ya(n).r_()&&cw(n,e))}function aw(t,e){let n=le(t),r=ya(n);n.N_.delete(e),r.r_()&&XM(n,e),n.N_.size===0&&(r.r_()?r.o_():Lo(n)&&n.q_.set("Unknown"))}function cw(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(fe.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ya(t).A_(e)}function XM(t,e){t.Q_.xe(e),ya(t).R_(e)}function uw(t){t.Q_=new J0({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),ya(t).start(),t.q_.v_()}function lw(t){return Lo(t)&&!ya(t).n_()&&t.N_.size>0}function Lo(t){return le(t).L_.size===0}function ex(t){t.Q_=void 0}function q$(t){return E(this,null,function*(){t.q_.set("Online")})}function G$(t){return E(this,null,function*(){t.N_.forEach((e,n)=>{cw(t,e)})})}function W$(t,e){return E(this,null,function*(){ex(t),lw(t)?(t.q_.M_(e),uw(t)):t.q_.set("Unknown")})}function K$(t,e,n){return E(this,null,function*(){if(t.q_.set("Online"),e instanceof Zh&&e.state===2&&e.cause)try{yield function(i,o){return E(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))})}(t,e)}catch(r){q("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield af(t,r)}else if(e instanceof ea?t.Q_.Ke(e):e instanceof Jh?t.Q_.He(e):t.Q_.We(e),!n.isEqual(fe.min()))try{let r=yield JM(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){let a=o.Q_.rt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.N_.get(l);h&&o.N_.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.N_.get(u);if(!h)return;o.N_.set(u,h.withResumeToken(Lt.EMPTY_BYTE_STRING,h.snapshotVersion)),XM(o,u);let p=new du(h.target,u,l,h.sequenceNumber);cw(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){q("RemoteStore","Failed to raise snapshot:",r),yield af(t,r)}})}function af(t,e,n){return E(this,null,function*(){if(!_u(e))throw e;t.L_.add(1),yield wu(t),t.q_.set("Offline"),n||(n=()=>JM(t.localStore)),t.asyncQueue.enqueueRetryable(()=>E(this,null,function*(){q("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield Df(t)}))})}function tx(t,e){return e().catch(n=>af(t,n,e))}function Tf(t){return E(this,null,function*(){let e=le(t),n=qi(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Q$(e);)try{let i=yield B$(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,Y$(e,i)}catch(i){yield af(e,i)}nx(e)&&rx(e)})}function Q$(t){return Lo(t)&&t.O_.length<10}function Y$(t,e){t.O_.push(e);let n=qi(t);n.r_()&&n.V_&&n.m_(e.mutations)}function nx(t){return Lo(t)&&!qi(t).n_()&&t.O_.length>0}function rx(t){qi(t).start()}function J$(t){return E(this,null,function*(){qi(t).p_()})}function Z$(t){return E(this,null,function*(){let e=qi(t);for(let n of t.O_)e.m_(n.mutations)})}function X$(t,e,n){return E(this,null,function*(){let r=t.O_.shift(),i=W0.from(r,e,n);yield tx(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Tf(t)})}function e5(t,e){return E(this,null,function*(){e&&qi(t).V_&&(yield function(r,i){return E(this,null,function*(){if(function(s){return y$(s)&&s!==O.ABORTED}(i.code)){let o=r.O_.shift();qi(r).s_(),yield tx(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Tf(r)}})}(t,e)),nx(t)&&rx(t)})}function cM(t,e){return E(this,null,function*(){let n=le(t);n.asyncQueue.verifyOperationInProgress(),q("RemoteStore","RemoteStore received new credentials");let r=Lo(n);n.L_.add(3),yield wu(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield Df(n)})}function t5(t,e){return E(this,null,function*(){let n=le(t);e?(n.L_.delete(2),yield Df(n)):e||(n.L_.add(2),yield wu(n),n.q_.set("Unknown"))})}function ya(t){return t.K_||(t.K_=function(n,r,i){let o=le(n);return o.w_(),new A_(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:q$.bind(null,t),Ro:G$.bind(null,t),mo:W$.bind(null,t),d_:K$.bind(null,t)}),t.B_.push(e=>E(this,null,function*(){e?(t.K_.s_(),lw(t)?uw(t):t.q_.set("Unknown")):(yield t.K_.stop(),ex(t))}))),t.K_}function qi(t){return t.U_||(t.U_=function(n,r,i){let o=le(n);return o.w_(),new M_(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:J$.bind(null,t),mo:e5.bind(null,t),f_:Z$.bind(null,t),g_:X$.bind(null,t)}),t.B_.push(e=>E(this,null,function*(){e?(t.U_.s_(),yield Tf(t)):(yield t.U_.stop(),t.O_.length>0&&(q("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var N_=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Qr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Y(O.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function dw(t,e){if(Yr("AsyncQueue",`${e}: ${t}`),_u(t))return new Y(O.UNAVAILABLE,`${e}: ${t}`);throw t}var cf=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||re.comparator(n.key,r.key):(n,r)=>re.comparator(n.key,r.key),this.keyedMap=tu(),this.sortedSet=new et(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var uf=class{constructor(){this.W_=new et(re.comparator)}track(e){let n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):se():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}},fa=class t{constructor(e,n,r,i,o,s,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,cf.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&If(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var O_=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},k_=class{constructor(){this.queries=uM(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=le(n),o=i.queries;i.queries=uM(),o.forEach((s,a)=>{for(let u of a.j_)u.onError(r)})})(this,new Y(O.ABORTED,"Firestore shutting down"))}};function uM(){return new zi(t=>xM(t),If)}function n5(t,e){return E(this,null,function*(){let n=le(t),r=3,i=e.query,o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new O_,r=e.J_()?0:1);try{switch(r){case 0:o.z_=yield n.onListen(i,!0);break;case 1:o.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){let a=dw(s,`Initialization of query '${Ys(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&hw(n)})}function r5(t,e){return E(this,null,function*(){let n=le(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function i5(t,e){let n=le(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&hw(n)}function o5(t,e,n){let r=le(t),i=r.queries.get(e);if(i)for(let o of i.j_)o.onError(n);r.queries.delete(e)}function hw(t){t.Y_.forEach(e=>{e.next()})}var F_,lM;(lM=F_||(F_={})).ea="default",lM.Cache="cache";var V_=class{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new fa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=fa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==F_.Cache}};var lf=class{constructor(e){this.key=e}},df=class{constructor(e){this.key=e}},L_=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ee(),this.mutatedKeys=Ee(),this.Aa=PM(e),this.Ra=new cf(this.Aa)}get Va(){return this.Ta}ma(e,n){let r=n?n.fa:new uf,i=n?n.Ra:this.Ra,o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),y=Cf(this.query,p)?p:null,A=!!m&&this.mutatedKeys.has(m.key),N=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),x=!1;m&&y?m.data.isEqual(y.data)?A!==N&&(r.track({type:3,doc:y}),x=!0):this.ga(m,y)||(r.track({type:2,doc:y}),x=!0,(u&&this.Aa(y,u)>0||l&&this.Aa(y,l)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),x=!0):m&&!y&&(r.track({type:1,doc:m}),x=!0,(u||l)&&(a=!0)),x&&(y?(s=s.add(y),o=N?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let s=e.fa.G_();s.sort((h,p)=>function(y,A){let N=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return se()}};return N(y)-N(A)}(h.type,p.type)||this.Aa(h.doc,p.doc)),this.pa(r),i=i!=null&&i;let a=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,s.length!==0||l?{snapshot:new fa(this.query,e.Ra,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new uf,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=Ee(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let n=[];return e.forEach(r=>{this.da.has(r)||n.push(new df(r))}),this.da.forEach(r=>{e.has(r)||n.push(new lf(r))}),n}ba(e){this.Ta=e.Ts,this.da=Ee();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return fa.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},j_=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},U_=class{constructor(e){this.key=e,this.va=!1}},B_=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new zi(a=>xM(a),If),this.Ma=new Map,this.xa=new Set,this.Oa=new et(re.comparator),this.Na=new Map,this.La=new fu,this.Ba={},this.ka=new Map,this.qa=hu.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function s5(t,e,n=!0){return E(this,null,function*(){let r=ux(t),i,o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=yield ix(r,e,n,!0),i})}function a5(t,e){return E(this,null,function*(){let n=ux(t);yield ix(n,e,!0,!1)})}function ix(t,e,n,r){return E(this,null,function*(){let i=yield $$(t.localStore,ar(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n),a;return r&&(a=yield c5(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&ZM(t.remoteStore,i),a})}function c5(t,e,n,r,i){return E(this,null,function*(){t.Ka=(p,m,y)=>function(N,x,V,Q){return E(this,null,function*(){let G=x.view.ma(V);G.ns&&(G=yield aM(N.localStore,x.query,!1).then(({documents:I})=>x.view.ma(I,G)));let X=Q&&Q.targetChanges.get(x.targetId),Ne=Q&&Q.targetMismatches.get(x.targetId)!=null,ie=x.view.applyChanges(G,N.isPrimaryClient,X,Ne);return hM(N,x.targetId,ie.wa),ie.snapshot})}(t,p,m,y);let o=yield aM(t.localStore,e,!0),s=new L_(e,o.Ts),a=s.ma(o.documents),u=lu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(a,t.isPrimaryClient,u);hM(t,n,l.wa);let h=new j_(e,n,s);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),l.snapshot})}function u5(t,e,n){return E(this,null,function*(){let r=le(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!If(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield C_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&aw(r.remoteStore,i.targetId),$_(r,i.targetId)}).catch(vu))):($_(r,i.targetId),yield C_(r.localStore,i.targetId,!0))})}function l5(t,e){return E(this,null,function*(){let n=le(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),aw(n.remoteStore,r.targetId))})}function d5(t,e,n){return E(this,null,function*(){let r=v5(t);try{let i=yield function(s,a){let u=le(s),l=nt.now(),h=a.reduce((y,A)=>y.add(A.key),Ee()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let A=Zr(),N=Ee();return u.cs.getEntries(y,h).next(x=>{A=x,A.forEach((V,Q)=>{Q.isValidDocument()||(N=N.add(V))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,A)).next(x=>{p=x;let V=[];for(let Q of a){let G=m$(Q,p.get(Q.key).overlayedDocument);G!=null&&V.push(new fr(Q.key,G,bM(G.value.mapValue),cr.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,V,a)}).next(x=>{m=x;let V=x.applyToLocalDocumentSet(p,N);return u.documentOverlayCache.saveOverlays(y,x.batchId,V)})}).then(()=>({batchId:m.batchId,changes:NM(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let l=s.Ba[s.currentUser.toKey()];l||(l=new et(Se)),l=l.insert(a,u),s.Ba[s.currentUser.toKey()]=l}(r,i.batchId,n),yield Eu(r,i.changes),yield Tf(r.remoteStore)}catch(i){let o=dw(i,"Failed to persist write");n.reject(o)}})}function ox(t,e){return E(this,null,function*(){let n=le(t);try{let r=yield j$(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Na.get(o);s&&(Re(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?Re(s.va):i.removedDocuments.size>0&&(Re(s.va),s.va=!1))}),yield Eu(n,r,e)}catch(r){yield vu(r)}})}function dM(t,e,n){let r=le(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((o,s)=>{let a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let u=le(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.j_)m.Z_(a)&&(l=!0)}),l&&hw(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function h5(t,e,n){return E(this,null,function*(){let r=le(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Na.get(e),o=i&&i.key;if(o){let s=new et(re.comparator);s=s.insert(o,Fn.newNoDocument(o,fe.min()));let a=Ee().add(o),u=new Yh(fe.min(),new Map,new et(Se),s,a);yield ox(r,u),r.Oa=r.Oa.remove(o),r.Na.delete(e),fw(r)}else yield C_(r.localStore,e,!1).then(()=>$_(r,e,n)).catch(vu)})}function f5(t,e){return E(this,null,function*(){let n=le(t),r=e.batch.batchId;try{let i=yield L$(n.localStore,e);ax(n,r,null),sx(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Eu(n,i)}catch(i){yield vu(i)}})}function p5(t,e,n){return E(this,null,function*(){let r=le(t);try{let i=yield function(s,a){let u=le(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(Re(p!==null),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);ax(r,e,n),sx(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Eu(r,i)}catch(i){yield vu(i)}})}function sx(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function ax(t,e,n){let r=le(t),i=r.Ba[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function $_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||cx(t,r)})}function cx(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(aw(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),fw(t))}function hM(t,e,n){for(let r of n)r instanceof lf?(t.La.addReference(r.key,e),g5(t,r)):r instanceof df?(q("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||cx(t,r.key)):se()}function g5(t,e){let n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(q("SyncEngine","New document in limbo: "+n),t.xa.add(r),fw(t))}function fw(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new re(Xe.fromString(e)),r=t.qa.next();t.Na.set(r,new U_(n)),t.Oa=t.Oa.insert(n,r),ZM(t.remoteStore,new du(ar(iw(n.path)),r,"TargetPurposeLimboResolution",wM.oe))}}function Eu(t,e,n){return E(this,null,function*(){let r=le(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{s.push(r.Ka(u,e,n).then(l=>{var h;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=n?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=__.Wi(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.Ca.d_(i),yield function(u,l){return E(this,null,function*(){let h=le(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>L.forEach(l,m=>L.forEach(m.$i,y=>h.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>L.forEach(m.Ui,y=>h.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!_u(p))throw p;q("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let y=h.os.get(m),A=y.snapshotVersion,N=y.withLastLimboFreeSnapshotVersion(A);h.os=h.os.insert(m,N)}}})}(r.localStore,o))})}function m5(t,e){return E(this,null,function*(){let n=le(t);if(!n.currentUser.isEqual(e)){q("SyncEngine","User change. New user:",e.toKey());let r=yield YM(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(u=>{u.reject(new Y(O.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Eu(n,r.hs)}})}function y5(t,e){let n=le(t),r=n.Na.get(e);if(r&&r.va)return Ee().add(r.key);{let i=Ee(),o=n.Ma.get(e);if(!o)return i;for(let s of o){let a=n.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function ux(t){let e=le(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=ox.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=y5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=h5.bind(null,e),e.Ca.d_=i5.bind(null,e.eventManager),e.Ca.$a=o5.bind(null,e.eventManager),e}function v5(t){let e=le(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=f5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=p5.bind(null,e),e}var fM=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return E(this,null,function*(){this.serializer=bf(n.databaseInfo.databaseId),this.sharedClientState=this.Wa(n),this.persistence=this.Ga(n),yield this.persistence.start(),this.localStore=this.za(n),this.gcScheduler=this.ja(n,this.localStore),this.indexBackfillerScheduler=this.Ha(n,this.localStore)})}ja(n,r){return null}Ha(n,r){return null}za(n){return V$(this.persistence,new E_,n.initialUser,this.serializer)}Ga(n){return new m_(v_.Zr,this.serializer)}Wa(n){return new b_}terminate(){return E(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})();var _5=(()=>{class t{initialize(n,r){return E(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>dM(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=m5.bind(null,this.syncEngine),yield t5(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new k_}()}createDatastore(n){let r=bf(n.databaseInfo.databaseId),i=function(s){return new S_(s)}(n.databaseInfo);return function(s,a,u,l){return new x_(s,a,u,l)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,o,s,a,u){return new R_(i,o,s,a,u)}(this.localStore,this.datastore,n.asyncQueue,r=>dM(this.syncEngine,r,0),function(){return rf.D()?new rf:new D_}())}createSyncEngine(n,r){return function(o,s,a,u,l,h,p){let m=new B_(o,s,a,u,l,h);return p&&(m.Qa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return E(this,null,function*(){var n,r;yield function(o){return E(this,null,function*(){let s=le(o);q("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield wu(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var H_=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Yr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var z_=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ct.UNAUTHENTICATED,this.clientId=zh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>E(this,null,function*(){q("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(q("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Qr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>E(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=dw(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function w0(t,e){return E(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),q("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>E(this,null,function*(){r.isEqual(i)||(yield YM(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function pM(t,e){return E(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield w5(t);q("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>cM(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>cM(e.remoteStore,i)),t._onlineComponents=e})}function w5(t){return E(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){q("FirestoreClient","Using user provided OfflineComponentProvider");try{yield w0(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===O.FAILED_PRECONDITION||i.code===O.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;na("Error using user provided cache. Falling back to memory cache: "+n),yield w0(t,new fM)}}else q("FirestoreClient","Using default OfflineComponentProvider"),yield w0(t,new fM);return t._offlineComponents})}function lx(t){return E(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(q("FirestoreClient","Using user provided OnlineComponentProvider"),yield pM(t,t._uninitializedComponentsProvider._online)):(q("FirestoreClient","Using default OnlineComponentProvider"),yield pM(t,new _5))),t._onlineComponents})}function E5(t){return lx(t).then(e=>e.syncEngine)}function gM(t){return E(this,null,function*(){let e=yield lx(t),n=e.eventManager;return n.onListen=s5.bind(null,e.syncEngine),n.onUnlisten=u5.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=a5.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=l5.bind(null,e.syncEngine),n})}function dx(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var mM=new Map;function hx(t,e,n){if(!n)throw new Y(O.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function I5(t,e,n,r){if(e===!0&&r===!0)throw new Y(O.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function yM(t){if(!re.isDocumentKey(t))throw new Y(O.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function vM(t){if(re.isDocumentKey(t))throw new Y(O.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function pw(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":se()}function lr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Y(O.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=pw(t);throw new Y(O.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var hf=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Y(O.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Y(O.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}I5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=dx((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Y(O.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Y(O.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Y(O.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},pa=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hf({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Y(O.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Y(O.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hf(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new E0;switch(r.type){case"firstParty":return new D0(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Y(O.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return E(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=mM.get(n);r&&(q("ComponentProvider","Removing Datastore"),mM.delete(n),r.terminate())}(this),Promise.resolve()}};function fx(t,e,n,r={}){var i;let o=(t=lr(t,pa))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&na("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=Ct.MOCK_USER;else{a=wS(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new Y(O.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Ct(l)}t._authCredentials=new I0(new Hh(a,u))}}var ff=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Yt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $i(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},$i=class t extends ff{constructor(e,n,r){super(e,n,iw(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Yt(this.firestore,null,new re(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function px(t,e,...n){if(t=gt(t),hx("collection","path",e),t instanceof pa){let r=Xe.fromString(e,...n);return vM(r),new $i(t,null,r)}{if(!(t instanceof Yt||t instanceof $i))throw new Y(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Xe.fromString(e,...n));return vM(r),new $i(t.firestore,null,r)}}function gw(t,e,...n){if(t=gt(t),arguments.length===1&&(e=zh.newId()),hx("doc","path",e),t instanceof pa){let r=Xe.fromString(e,...n);return yM(r),new Yt(t,null,new re(r))}{if(!(t instanceof Yt||t instanceof $i))throw new Y(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Xe.fromString(e,...n));return yM(r),new Yt(t.firestore,t instanceof $i?t.converter:null,new re(r))}}var pf=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new of(this,"async_queue_retry"),this.Vu=()=>{let r=_0();r&&q("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let n=_0();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let n=_0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let n=new Qr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return E(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!_u(e))throw e;q("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw Yr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);let i=N_.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&se()}verifyOperationInProgress(){}wu(){return E(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let n=this.Tu.indexOf(e);this.Tu.splice(n,1)}};function _M(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}var Xr=class extends pa{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new pf,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return E(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new pf(e),this._firestoreClient=void 0,yield e}})}};function gx(t,e){let n=typeof t=="object"?t:ki(),r=typeof t=="string"?t:e||"(default)",i=Ni(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=_S("firestore");o&&fx(i,...o)}return i}function mx(t){if(t._terminated)throw new Y(O.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||C5(t),t._firestoreClient}function C5(t){var e,n,r;let i=t._freezeSettings(),o=function(a,u,l,h){return new x0(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,dx(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new z_(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(t._componentsProvider))}var pu=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Lt.fromBase64String(e))}catch(n){throw new Y(O.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Lt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var ga=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Y(O.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var gu=class{constructor(e){this._methodName=e}};var mu=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Y(O.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Y(O.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Se(this._lat,e._lat)||Se(this._long,e._long)}};var yu=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var b5=/^__.*__$/,q_=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new fr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Fo(e,this.data,n,this.fieldTransforms)}},gf=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new fr(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function yx(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw se()}}var G_=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return yf(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(yx(this.Cu)&&b5.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},W_=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||bf(e)}Qu(e,n,r,i=!1){return new G_({Cu:e,methodName:n,qu:r,path:dn.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function mw(t){let e=t._freezeSettings(),n=bf(t._databaseId);return new W_(t._databaseId,!!e.ignoreUndefinedProperties,n)}function vx(t,e,n,r,i,o={}){let s=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);yw("Data must be an object, but it was:",s,r);let a=_x(r,s),u,l;if(o.merge)u=new _n(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let m=K_(e,p,n);if(!s.contains(m))throw new Y(O.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);Ex(h,m)||h.push(m)}u=new _n(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new q_(new ln(a),u,l)}var mf=class t extends gu{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function D5(t,e,n,r){let i=t.Qu(1,e,n);yw("Data must be an object, but it was:",i,r);let o=[],s=ln.empty();Vo(r,(u,l)=>{let h=vw(e,u,n);l=gt(l);let p=i.Nu(h);if(l instanceof mf)o.push(h);else{let m=Sf(l,p);m!=null&&(o.push(h),s.set(h,m))}});let a=new _n(o);return new gf(s,a,i.fieldTransforms)}function T5(t,e,n,r,i,o){let s=t.Qu(1,e,n),a=[K_(e,r,n)],u=[i];if(o.length%2!=0)throw new Y(O.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<o.length;m+=2)a.push(K_(e,o[m])),u.push(o[m+1]);let l=[],h=ln.empty();for(let m=a.length-1;m>=0;--m)if(!Ex(l,a[m])){let y=a[m],A=u[m];A=gt(A);let N=s.Nu(y);if(A instanceof mf)l.push(y);else{let x=Sf(A,N);x!=null&&(l.push(y),h.set(y,x))}}let p=new _n(l);return new gf(h,p,s.fieldTransforms)}function Sf(t,e){if(wx(t=gt(t)))return yw("Unsupported field value:",e,t),_x(t,e);if(t instanceof gu)return function(r,i){if(!yx(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let u=Sf(a,i.Lu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=gt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return d$(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=nt.fromDate(r);return{timestampValue:ef(i.serializer,o)}}if(r instanceof nt){let o=new nt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ef(i.serializer,o)}}if(r instanceof mu)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof pu)return{bytesValue:HM(i.serializer,r._byteString)};if(r instanceof Yt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:sw(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof yu)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.Bu("VectorValues must only contain numeric values.");return ow(a.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${pw(r)}`)}(t,e)}function _x(t,e){let n={};return EM(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Vo(t,(r,i)=>{let o=Sf(i,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function wx(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof nt||t instanceof mu||t instanceof pu||t instanceof Yt||t instanceof gu||t instanceof yu)}function yw(t,e,n){if(!wx(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=pw(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function K_(t,e,n){if((e=gt(e))instanceof ga)return e._internalPath;if(typeof e=="string")return vw(t,e);throw yf("Field path arguments must be of type string or ",t,!1,void 0,n)}var S5=new RegExp("[~\\*/\\[\\]]");function vw(t,e,n){if(e.search(S5)>=0)throw yf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ga(...e.split("."))._internalPath}catch{throw yf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function yf(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new Y(O.INVALID_ARGUMENT,a+t+u)}function Ex(t,e){return t.some(n=>n.isEqual(e))}var vf=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Q_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(Ix("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},Q_=class extends vf{data(){return super.data()}};function Ix(t,e){return typeof e=="string"?vw(t,e):e instanceof ga?e._internalPath:e._delegate._internalPath}function A5(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Y(O.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Y_=class{convertValue(e,n="none"){switch(No(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ge(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Hi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw se()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Vo(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;let o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Ge(s.doubleValue));return new yu(o)}convertGeoPoint(e){return new mu(Ge(e.latitude),Ge(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=ew(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(au(e));default:return null}}convertTimestamp(e){let n=Jr(e);return new nt(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Xe.fromString(e);Re(QM(r));let i=new Kh(r.get(1),r.get(3)),o=new re(r.popFirst(5));return i.isEqual(n)||Yr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function Cx(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var xo=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},_f=class extends vf{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new ta(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(Ix("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},ta=class extends _f{data(e={}){return super.data(e)}},J_=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new xo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ta(this._firestore,this._userDataWriter,r.key,r,new xo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Y(O.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new ta(i._firestore,i._userDataWriter,a.doc.key,a.doc,new xo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new ta(i._firestore,i._userDataWriter,a.doc.key,a.doc,new xo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:M5(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function M5(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return se()}}var wf=class extends Y_{constructor(e){super(),this.firestore=e}convertBytes(e){return new pu(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Yt(this.firestore,null,n)}};function bx(t,e,n){t=lr(t,Yt);let r=lr(t.firestore,Xr),i=Cx(t.converter,e,n);return Af(r,[vx(mw(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,cr.none())])}function Dx(t,e,n,...r){t=lr(t,Yt);let i=lr(t.firestore,Xr),o=mw(i),s;return s=typeof(e=gt(e))=="string"||e instanceof ga?T5(o,"updateDoc",t._key,e,n,r):D5(o,"updateDoc",t._key,e),Af(i,[s.toMutation(t._key,cr.exists(!0))])}function Tx(t){return Af(lr(t.firestore,Xr),[new uu(t._key,cr.none())])}function Sx(t,e){let n=lr(t.firestore,Xr),r=gw(t),i=Cx(t.converter,e);return Af(n,[vx(mw(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,cr.exists(!1))]).then(()=>r)}function _w(t,...e){var n,r,i;t=gt(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||_M(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(_M(e[s])){let p=e[s];e[s]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(t instanceof Yt)l=lr(t.firestore,Xr),h=iw(t._key.path),u={next:p=>{e[s]&&e[s](x5(l,t,p))},error:e[s+1],complete:e[s+2]};else{let p=lr(t,ff);l=lr(p.firestore,Xr),h=p._query;let m=new wf(l);u={next:y=>{e[s]&&e[s](new J_(l,m,p,y))},error:e[s+1],complete:e[s+2]},A5(t._query)}return function(m,y,A,N){let x=new H_(N),V=new V_(y,x,A);return m.asyncQueue.enqueueAndForget(()=>E(this,null,function*(){return n5(yield gM(m),V)})),()=>{x.Za(),m.asyncQueue.enqueueAndForget(()=>E(this,null,function*(){return r5(yield gM(m),V)}))}}(mx(l),h,a,u)}function Af(t,e){return function(r,i){let o=new Qr;return r.asyncQueue.enqueueAndForget(()=>E(this,null,function*(){return d5(yield E5(r),i,o)})),o.promise}(mx(t),e)}function x5(t,e,n){let r=n.docs.get(e._key),i=new wf(t);return new _f(t,i,e._key,r,new xo(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){ma=i})(Oi),On(new Gt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Xr(new C0(r.getProvider("auth-internal")),new S0(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new Y(O.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Kh(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),We(BA,"4.7.3",e),We(BA,"4.7.3","esm2017")})();var Mf=function(){return Mf=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Mf.apply(this,arguments)};var N5={includeMetadataChanges:!1};function ww(t,e){return e===void 0&&(e=N5),new pe(function(n){var r=_w(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function Ax(t){return ww(t,{includeMetadataChanges:!0})}function Mx(t,e){return e===void 0&&(e={}),Ax(t).pipe(ne(function(n){return Ew(n,e)}))}function Ew(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:Mf(Mf({},r),(n={},n[e.idField]=t.id,n))}function xx(t){return ww(t,{includeMetadataChanges:!0}).pipe(ne(function(e){return e.docs}))}function Px(t,e){return e===void 0&&(e={}),xx(t).pipe(ne(function(n){return n.map(function(r){return Ew(r,e)})}))}var Vn=class{constructor(e){return e}},Rx="firestore",Iw=class{constructor(){return Gs(Rx)}};var Cw=new H("angularfire2.firestore-instances");function O5(t,e){let n=qs(Rx,t,e);return n&&new Vn(n)}function k5(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Vn(r)}}var F5={provide:Iw,deps:[[new ft,Cw]]},V5={provide:Vn,useFactory:O5,deps:[[new ft,Cw],kn]};function Nx(t,...e){return We("angularfire",zr.full,"fst"),nn([V5,F5,{provide:Cw,useFactory:k5(t),multi:!0,deps:[be,ht,Vi,qr,[new ft,Zc],[new ft,Fi],...e]}])}var Iu=St(Px,!0);var Ox=St(Mx,!0);var kx=St(Sx,!0);var Gi=St(px,!0);var Fx=St(Tx,!0);var jo=St(gw,!0);var Vx=St(gx,!0);var xf=St(bx,!0);var Lx=St(Dx,!0);var va=(()=>{let e=class e{constructor(r){this.firestore=r,this.cartSubject=new dt(this.loadCart()),this.cart$=this.cartSubject.asObservable()}loadCart(){let r=localStorage.getItem("cart");return r?JSON.parse(r):[]}saveCart(r){localStorage.setItem("cart",JSON.stringify(r)),this.cartSubject.next(r)}calculateTotal(r){return r.reduce((i,o)=>i+o.product.price*o.quantity,0)}getTotalAmount(){return this.cart$.pipe(ne(r=>this.calculateTotal(r)))}getCartItems(){return this.cart$}clearCart(){this.saveCart([])}submitOrder(r){return E(this,null,function*(){let i=Gi(this.firestore,"orders");yield kx(i,ye(j({},r),{createdAt:nt.now()})),this.clearCart()})}getCartItemCount(){return this.cart$.pipe(ne(r=>r.reduce((i,o)=>i+o.quantity,0)))}addToCart(r,i){let o=this.loadCart(),s=o.findIndex(a=>a.product.id===r.id);s===-1?o.push({product:r,quantity:i}):o[s].quantity+=i,this.saveCart(o)}increaseQuantity(r){let i=this.loadCart(),o=i.findIndex(s=>s.product.id===r);o!==-1&&(i[o].quantity+=1,this.saveCart(i))}decreaseQuantity(r){let i=this.loadCart(),o=i.findIndex(s=>s.product.id===r);o!==-1&&i[o].quantity>1&&(i[o].quantity-=1,this.saveCart(i))}removeFromCart(r){let i=this.loadCart();i=i.filter(o=>o.product.id!==r),this.saveCart(i)}checkout(){return ee(this.saveCart([])).pipe(ne(()=>{}))}};e.\u0275fac=function(i){return new(i||e)(W(Vn))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Pf=(()=>{let e=class e{constructor(r,i){this.router=r,this.cartService=i,this.cartItemCount=0,this.isDarkMode=!1}ngOnInit(){this.cartService.getCartItemCount().subscribe(r=>this.cartItemCount=r),this.loadTheme()}goToCart(){this.router.navigate(["/cart"])}toggleDarkMode(){this.isDarkMode=!this.isDarkMode,document.body.classList.toggle("dark-mode",this.isDarkMode),localStorage.setItem("darkMode",this.isDarkMode?"true":"false")}loadTheme(){localStorage.getItem("darkMode")==="true"&&(this.isDarkMode=!0,document.body.classList.add("dark-mode"))}};e.\u0275fac=function(i){return new(i||e)(B(wt),B(va))},e.\u0275cmp=Je({type:e,selectors:[["app-header"]],standalone:!0,features:[Ze],decls:23,vars:2,consts:[[1,"navbar","navbar-expand-lg","navbar-light","bg-light"],["routerLink","/","routerLinkActive","active",1,"navbar-brand"],["src","./icons/logo.png","alt","Logo",1,"logo"],["type","button","data-toggle","collapse","data-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse"],[1,"navbar-nav","ml-auto"],[1,"nav-item"],["routerLink","/","routerLinkActive","active",1,"nav-link"],[1,"nav-link",3,"click"],["src","./icons/shopping-cart.svg","alt","Cart",1,"cart-icon"],[1,"custom-badge"],["routerLink","/admin-login","routerLinkActive","active",1,"nav-link"],["id","switch",1,"switch"],["type","checkbox","id","slider",3,"change","checked"],[1,"slider","round"]],template:function(i,o){i&1&&(b(0,"nav",0)(1,"a",1),ue(2,"img",2),T(),b(3,"button",3),ue(4,"span",4),T(),b(5,"div",5)(6,"ul",6)(7,"li",7)(8,"a",8),R(9,"\u0413\u043E\u043B\u043E\u0432\u043D\u0430"),T()(),b(10,"li",7)(11,"a",9),$("click",function(){return o.goToCart()}),ue(12,"img",10),R(13," \u041A\u043E\u0448\u0438\u043A "),b(14,"span",11),R(15),T()()(),b(16,"li",7)(17,"a",12),R(18,"\u0410\u0434\u043C\u0456\u043D"),T()(),b(19,"li",7)(20,"label",13)(21,"input",14),$("change",function(){return o.toggleDarkMode()}),T(),ue(22,"span",15),T()()()()()),i&2&&(F(15),$e(o.cartItemCount),F(6),oe("checked",o.isDarkMode))},dependencies:[Bs,js,lS],styles:[`.navbar[_ngcontent-%COMP%]{position:fixed;top:0;width:100%;z-index:1000;margin-bottom:0;padding:.5rem 1rem;background-color:#f8f9fa;box-shadow:0 2px 4px #0000001a}body[_ngcontent-%COMP%]{padding-top:70px}.logo[_ngcontent-%COMP%]{height:40px;margin-right:1rem}.navbar-toggler[_ngcontent-%COMP%]{border:none}.navbar-toggler-icon[_ngcontent-%COMP%]{background-image:url("data:image/svg+xml;charset=utf8,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'%3e%3cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M4 6h16M4 12h16M4 18h16' /%3e%3c/svg%3e")}.navbar-nav[_ngcontent-%COMP%]{flex-direction:row;margin-left:auto}.nav-item[_ngcontent-%COMP%]{margin-left:1rem}.nav-link[_ngcontent-%COMP%]{font-weight:700;color:#333;font-size:1rem;padding:.5rem 1rem;transition:color .3s ease}.nav-link[_ngcontent-%COMP%]:hover{color:#007bff;cursor:pointer}.nav-link[_ngcontent-%COMP%]:hover   .cart-icon[_ngcontent-%COMP%]{transform:scale(1.1)}.custom-badge[_ngcontent-%COMP%]{display:inline-block;padding:.25em .4em;font-size:75%;font-weight:700;line-height:1;color:#fff;text-align:center;white-space:nowrap;vertical-align:baseline;border-radius:.2rem;background-color:#dc3545}.cart-icon[_ngcontent-%COMP%]{height:20px;margin-right:.5rem;transition:transform .3s ease}@media (max-width: 992px){.navbar-nav[_ngcontent-%COMP%]{flex-direction:column;text-align:center;padding-top:1rem;margin-top:1rem}.nav-item[_ngcontent-%COMP%]{margin-left:0;margin-bottom:.5rem}.navbar-brand[_ngcontent-%COMP%]{margin-right:auto}}.navbar-collapse[_ngcontent-%COMP%]{max-height:0;transition:max-height .3s ease}.navbar-collapse.collapse.show[_ngcontent-%COMP%]{max-height:500px;transition:max-height .3s ease-in}.navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:1rem;border-bottom:1px solid #ddd}.navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:last-child{border-bottom:none}.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:50px;height:33px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.slider[_ngcontent-%COMP%]{cursor:pointer;inset:0;background-color:#ccc;transition:.4s;border-radius:34px}.slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:26px;width:26px;left:4px;bottom:4px;background:#fff url(https://i.ibb.co/7JfqXxB/sunny.png) no-repeat center;background-size:20px;transition:.4s;border-radius:50%;box-shadow:0 0 15px #2020203d}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:var(--color-primary)}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(26px);background:#fff url(https://i.ibb.co/FxzBYR9/night.png) no-repeat center;background-size:20px}`]});let t=e;return t})();var jx=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Je({type:e,selectors:[["app-footer"]],standalone:!0,features:[Ze],decls:37,vars:0,consts:[[1,"container","footer-container"],[1,"row","footer-row"],[1,"col-xs-12","col-sm-6","col-md-6","text-center"],[1,"fas","fa-location-arrow"],["href","tel: 04737875657","type","tel",1,"tel"],[1,"fas","fa-mobile-alt"],[1,"col-xs-12","col-md-6","col-sm-6","social-section"],[1,"text-center"],[1,"text-center","social-buttons"],["href","https://www.facebook.com/?locale=uk_UA",1,"btn","btn-default","btn-lg","social-button","link-facebook"],[1,"fab","fa-facebook"],["href","https://x.com/?lang=uk",1,"btn","btn-default","btn-lg","social-button","link-twitter"],[1,"fab","fa-twitter"],["href","https://www.linkedin.com/",1,"btn","btn-default","btn-lg","social-button","link-linkedin"],[1,"fab","fa-linkedin"],["href","https://instagram.com/",1,"btn","btn-default","btn-lg","social-button","link-instagram"],[1,"fab","fa-instagram"],[1,"footer-hr"],[1,"author"],[1,"fas","fa-heart"]],template:function(i,o){i&1&&(b(0,"footer")(1,"div",0)(2,"div",1)(3,"div",2)(4,"address")(5,"strong"),ue(6,"i",3),R(7," TERRA"),T(),ue(8,"br"),R(9," \u0406\u043D\u0442\u0435\u0440\u043D\u0435\u0442-\u043C\u0430\u0433\u0430\u0437\u0438\u043D \u0442\u0443\u0440\u0438\u0441\u0442\u0438\u0447\u043D\u043E\u0433\u043E \u0441\u043F\u043E\u0440\u044F\u0434\u0436\u0435\u043D\u043D\u044F,"),ue(10,"br"),R(11," \u043C. \u0427\u0435\u0440\u043A\u0430\u0441\u0438, \u0432\u0443\u043B. \u0411\u0430\u0439\u0434\u0438 \u0412\u0438\u0448\u043D\u0435\u0432\u0435\u0446\u044C\u043A\u043E\u0433\u043E, 39"),ue(12,"br")(13,"br"),b(14,"a",4),ue(15,"i",5),b(16,"span"),R(17," 04737875657"),T()()()(),b(18,"div",6)(19,"div",7)(20,"h4",7),R(21,"\u0412\u0438 \u043D\u0430\u0441 \u0437\u043D\u0430\u0439\u0434\u0438\u0442\u0435 \u0443 \u0441\u043E\u0446\u043C\u0435\u0440\u0435\u0436\u0430\u0445"),T(),b(22,"div",8)(23,"a",9),ue(24,"i",10),T(),b(25,"a",11),ue(26,"i",12),T(),b(27,"a",13),ue(28,"i",14),T(),b(29,"a",15),ue(30,"i",16),T()(),ue(31,"hr",17),b(32,"h4",18),R(33,"\u0417\u0440\u043E\u0431\u043B\u0435\u043D\u043E \u0437\u0430 \u0434\u043E\u043F\u043E\u043C\u043E\u0433\u043E\u044E "),ue(34,"i",19),b(35,"strong"),R(36,"Angular"),T()()()()()()())},styles:["footer[_ngcontent-%COMP%]{background-color:#2c3e50;color:#fff;font-size:1.5em;text-align:center;padding:2%;margin-top:40px}a.tel[_ngcontent-%COMP%], a.tel[_ngcontent-%COMP%]:hover{text-decoration:none;color:#fff}a.social-button[_ngcontent-%COMP%]{background:#fff;font-size:20px;border-radius:50%;margin:5px}.address-container[_ngcontent-%COMP%]{display:inline-block;margin:0 auto}a.link-facebook[_ngcontent-%COMP%], a.link-twitter[_ngcontent-%COMP%], a.link-codepen[_ngcontent-%COMP%], a.link-linkedin[_ngcontent-%COMP%], a.link-instagram[_ngcontent-%COMP%]{transition:.4s ease}a.link-twitter[_ngcontent-%COMP%]{color:#1da1f2}a.link-facebook[_ngcontent-%COMP%]{color:#3b5998}a.link-linkedin[_ngcontent-%COMP%]{color:#007bb6}a.link-instagram[_ngcontent-%COMP%]{color:#e95950}a.link-facebook[_ngcontent-%COMP%]:hover{background-color:#3b5998;color:#fff}a.link-twitter[_ngcontent-%COMP%]:hover{background-color:#1da1f2;color:#fff}a.link-codepen[_ngcontent-%COMP%]:hover{background-color:#000;color:#fff}a.link-linkedin[_ngcontent-%COMP%]:hover{background-color:#007bb6;color:#fff}a.link-instagram[_ngcontent-%COMP%]:hover{background-color:#e95950;color:#fff}.btn-default[_ngcontent-%COMP%]{color:#333;background-color:#fff;border-color:transparent!important}.fa-heart[_ngcontent-%COMP%]{color:#f32323}h4.author[_ngcontent-%COMP%]{letter-spacing:4px}hr.copyright[_ngcontent-%COMP%]{opacity:.4}"]});let t=e;return t})();var Sw=new Map,Gx={activated:!1,tokenObservers:[]},L5={initialized:!1,enabled:!1};function yt(t){return Sw.get(t)||Object.assign({},Gx)}function j5(t,e){return Sw.set(t,e),Sw.get(t)}function Ff(){return L5}var Wx="https://content-firebaseappcheck.googleapis.com/v1",U5="exchangeRecaptchaV3Token";var B5="exchangeDebugToken",Ux={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},$5=24*60*60*1e3;var Aw=class{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return E(this,null,function*(){this.stop();try{this.pending=new Br,this.pending.promise.catch(n=>{}),yield H5(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Br,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function H5(t){return new Promise(e=>{setTimeout(e,t)})}var z5={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},Jt=new Nn("appCheck","AppCheck",z5);function Bx(t=!1){var e;return t?(e=self.grecaptcha)===null||e===void 0?void 0:e.enterprise:self.grecaptcha}function xw(t){if(!yt(t).activated)throw Jt.create("use-before-activation",{appName:t.name})}function Kx(t){let e=Math.round(t/1e3),n=Math.floor(e/(3600*24)),r=Math.floor((e-n*3600*24)/3600),i=Math.floor((e-n*3600*24-r*3600)/60),o=e-n*3600*24-r*3600-i*60,s="";return n&&(s+=Rf(n)+"d:"),r&&(s+=Rf(r)+"h:"),s+=Rf(i)+"m:"+Rf(o)+"s",s}function Rf(t){return t===0?"00":t>=10?t.toString():"0"+t}function Pw(r,i){return E(this,arguments,function*({url:t,body:e},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let y=yield s.getHeartbeatsHeader();y&&(o["X-Firebase-Client"]=y)}let a={method:"POST",body:JSON.stringify(e),headers:o},u;try{u=yield fetch(t,a)}catch(y){throw Jt.create("fetch-network-error",{originalErrorMessage:y?.message})}if(u.status!==200)throw Jt.create("fetch-status-error",{httpStatus:u.status});let l;try{l=yield u.json()}catch(y){throw Jt.create("fetch-parse-error",{originalErrorMessage:y?.message})}let h=l.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw Jt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let p=Number(h[1])*1e3,m=Date.now();return{token:l.token,expireTimeMillis:m+p,issuedAtTimeMillis:m}})}function q5(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${Wx}/projects/${n}/apps/${r}:${U5}?key=${i}`,body:{recaptcha_v3_token:e}}}function Qx(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${Wx}/projects/${n}/apps/${r}:${B5}?key=${i}`,body:{debug_token:e}}}var G5="firebase-app-check-database",W5=1,Cu="firebase-app-check-store",Yx="debug-token",Nf=null;function Jx(){return Nf||(Nf=new Promise((t,e)=>{try{let n=indexedDB.open(G5,W5);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Jt.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Cu,{keyPath:"compositeKey"})}}}catch(n){e(Jt.create("storage-open",{originalErrorMessage:n?.message}))}}),Nf)}function K5(t){return Xx(eP(t))}function Q5(t,e){return Zx(eP(t),e)}function Y5(t){return Zx(Yx,t)}function J5(){return Xx(Yx)}function Zx(t,e){return E(this,null,function*(){let r=(yield Jx()).transaction(Cu,"readwrite"),o=r.objectStore(Cu).put({compositeKey:t,value:e});return new Promise((s,a)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;a(Jt.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})})}function Xx(t){return E(this,null,function*(){let n=(yield Jx()).transaction(Cu,"readonly"),i=n.objectStore(Cu).get(t);return new Promise((o,s)=>{i.onsuccess=a=>{let u=a.target.result;o(u?u.value:void 0)},n.onerror=a=>{var u;s(Jt.create("storage-get",{originalErrorMessage:(u=a.target.error)===null||u===void 0?void 0:u.message}))}})})}function eP(t){return`${t.options.appId}-${t.name}`}var bu=new nr("@firebase/app-check");function Z5(t){return E(this,null,function*(){if(Hs()){let e;try{e=yield K5(t)}catch(n){bu.warn(`Failed to read token from IndexedDB. Error: ${n}`)}return e}})}function Tw(t,e){return Hs()?Q5(t,e).catch(n=>{bu.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function X5(){return E(this,null,function*(){let t;try{t=yield J5()}catch{}if(t)return t;{let e=xS();return Y5(e).catch(n=>bu.warn(`Failed to persist debug token to IndexedDB. Error: ${n}`)),e}})}function Rw(){return Ff().enabled}function Nw(){return E(this,null,function*(){let t=Ff();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}function eH(){let t=cv(),e=Ff();if(e.initialized=!0,typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN!="string"&&t.FIREBASE_APPCHECK_DEBUG_TOKEN!==!0)return;e.enabled=!0;let n=new Br;e.token=n,typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN=="string"?n.resolve(t.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(X5())}var tH={error:"UNKNOWN_ERROR"};function nH(t){return fh.encodeString(JSON.stringify(t),!1)}function Of(t,e=!1){return E(this,null,function*(){let n=t.app;xw(n);let r=yt(n),i=r.token,o;if(i&&!_a(i)&&(r.token=void 0,i=void 0),!i){let u=yield r.cachedTokenPromise;u&&(_a(u)?i=u:yield Tw(n,void 0))}if(!e&&i&&_a(i))return{token:i.token};let s=!1;if(Rw()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Pw(Qx(n,yield Nw()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),s=!0);let u=yield r.exchangeTokenPromise;return yield Tw(n,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),s=!0),i=yield yt(n).exchangeTokenPromise}catch(u){u.code==="appCheck/throttled"?bu.warn(u.message):bu.error(u),o=u}let a;return i?o?_a(i)?a={token:i.token,internalError:o}:a=Hx(o):(a={token:i.token},r.token=i,yield Tw(n,i)):a=Hx(o),s&&rP(n,a),a})}function rH(t){return E(this,null,function*(){let e=t.app;xw(e);let{provider:n}=yt(e);if(Rw()){let r=yield Nw(),{token:i}=yield Pw(Qx(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield n.getToken();return{token:r}}})}function tP(t,e,n,r){let{app:i}=t,o=yt(i),s={next:n,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&_a(o.token)){let a=o.token;Promise.resolve().then(()=>{n({token:a.token}),$x(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>$x(t))}function nP(t,e){let n=yt(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function $x(t){let{app:e}=t,n=yt(e),r=n.tokenRefresher;r||(r=iH(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function iH(t){let{app:e}=t;return new Aw(()=>E(this,null,function*(){let n=yt(e),r;if(n.token?r=yield Of(t,!0):r=yield Of(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=yt(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},Ux.RETRIAL_MIN_WAIT,Ux.RETRIAL_MAX_WAIT)}function rP(t,e){let n=yt(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function _a(t){return t.expireTimeMillis-Date.now()>0}function Hx(t){return{token:nH(tH),error:t}}var Mw=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=yt(this.app);for(let n of e)nP(this.app,n.next);return Promise.resolve()}};function oH(t,e){return new Mw(t,e)}function sH(t){return{getToken:e=>Of(t,e),getLimitedUseToken:()=>rH(t),addTokenListener:e=>tP(t,"INTERNAL",e),removeTokenListener:e=>nP(t.app,e)}}var aH="@firebase/app-check",cH="0.8.8";var uH="https://www.google.com/recaptcha/api.js";function lH(t,e){let n=new Br,r=yt(t);r.reCAPTCHAState={initialized:n};let i=dH(t),o=Bx(!1);return o?zx(t,e,o,i,n):pH(()=>{let s=Bx(!1);if(!s)throw new Error("no recaptcha");zx(t,e,s,i,n)}),n.promise}function zx(t,e,n,r,i){n.ready(()=>{fH(t,e,n,r),i.resolve(n)})}function dH(t){let e=`fire_app_check_${t.name}`,n=document.createElement("div");return n.id=e,n.style.display="none",document.body.appendChild(n),e}function hH(t){return E(this,null,function*(){xw(t);let n=yield yt(t).reCAPTCHAState.initialized.promise;return new Promise((r,i)=>{let o=yt(t).reCAPTCHAState;n.ready(()=>{r(n.execute(o.widgetId,{action:"fire_app_check"}))})})})}function fH(t,e,n,r){let i=n.render(r,{sitekey:e,size:"invisible",callback:()=>{yt(t).reCAPTCHAState.succeeded=!0},"error-callback":()=>{yt(t).reCAPTCHAState.succeeded=!1}}),o=yt(t);o.reCAPTCHAState=Object.assign(Object.assign({},o.reCAPTCHAState),{widgetId:i})}function pH(t){let e=document.createElement("script");e.src=uH,e.onload=t,document.head.appendChild(e)}var kf=class t{constructor(e){this._siteKey=e,this._throttleData=null}getToken(){return E(this,null,function*(){var e,n,r;mH(this._throttleData);let i=yield hH(this._app).catch(s=>{throw Jt.create("recaptcha-error")});if(!(!((e=yt(this._app).reCAPTCHAState)===null||e===void 0)&&e.succeeded))throw Jt.create("recaptcha-error");let o;try{o=yield Pw(q5(this._app,i),this._heartbeatServiceProvider)}catch(s){throw!((n=s.code)===null||n===void 0)&&n.includes("fetch-status-error")?(this._throttleData=gH(Number((r=s.customData)===null||r===void 0?void 0:r.httpStatus),this._throttleData),Jt.create("throttled",{time:Kx(this._throttleData.allowRequestsAfter-Date.now()),httpStatus:this._throttleData.httpStatus})):s}return this._throttleData=null,o})}initialize(e){this._app=e,this._heartbeatServiceProvider=Ni(e,"heartbeat"),lH(e,this._siteKey).catch(()=>{})}isEqual(e){return e instanceof t?this._siteKey===e._siteKey:!1}};function gH(t,e){if(t===404||t===403)return{backoffCount:1,allowRequestsAfter:Date.now()+$5,httpStatus:t};{let n=e?e.backoffCount:0,r=PS(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+r,httpStatus:t}}}function mH(t){if(t&&Date.now()-t.allowRequestsAfter<=0)throw Jt.create("throttled",{time:Kx(t.allowRequestsAfter-Date.now()),httpStatus:t.httpStatus})}function iP(t=ki(),e){t=gt(t);let n=Ni(t,"app-check");if(Ff().initialized||eH(),Rw()&&Nw().then(i=>console.log(`App Check debug token: ${i}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(o.isTokenAutoRefreshEnabled===e.isTokenAutoRefreshEnabled&&o.provider.isEqual(e.provider))return i;throw Jt.create("already-initialized",{appName:t.name})}let r=n.initialize({options:e});return yH(t,e.provider,e.isTokenAutoRefreshEnabled),yt(t).isTokenAutoRefreshEnabled&&tP(r,"INTERNAL",()=>{}),r}function yH(t,e,n){let r=j5(t,Object.assign({},Gx));r.activated=!0,r.provider=e,r.cachedTokenPromise=Z5(t).then(i=>(i&&_a(i)&&(r.token=i,rP(t,{token:i.token})),i)),r.isTokenAutoRefreshEnabled=n===void 0?t.automaticDataCollectionEnabled:n,r.provider.initialize(t)}function oP(t,e){return E(this,null,function*(){let n=yield Of(t,e);if(n.error)throw n.error;return{token:n.token}})}var vH="app-check",qx="app-check-internal";function _H(){On(new Gt(vH,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return oH(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(qx).initialize()})),On(new Gt(qx,t=>{let e=t.getProvider("app-check").getImmediate();return sH(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),We(aH,cH)}_H();var Uo=class{constructor(e){return e}};var Ow=new H("angularfire2.app-check-instances");function wH(t,e){let n=qs(Av,t,e);return n&&new Uo(n)}var EH=["localhost","0.0.0.0","127.0.0.1"],IH=typeof window<"u"&&EH.includes(window.location.hostname);function CH(t){return(e,n,r)=>{!As(r)&&(ND()||IH)&&(globalThis.FIREBASE_APPCHECK_DEBUG_TOKEN??=!0);let i=e.runOutsideAngular(()=>t(n));return new Uo(i)}}var bH={provide:Fi,deps:[[new ft,Ow]]},DH={provide:Uo,useFactory:wH,deps:[[new ft,Ow],kn,Dt]};function sP(t,...e){return We("angularfire",zr.full,"app-check"),nn([DH,bH,{provide:Ow,useFactory:CH(t),multi:!0,deps:[be,ht,Dt,Vi,qr,...e]}])}var aP=St(oP,!0),cP=St(iP,!0);var uP=(()=>{let e=class e{constructor(r){this.appCheck=r}ngOnInit(){this.logAppCheckToken()}logAppCheckToken(){aP(this.appCheck).then(r=>{}).catch(r=>{console.error("Error getting App Check Token:",r)})}};e.\u0275fac=function(i){return new(i||e)(B(Uo))},e.\u0275cmp=Je({type:e,selectors:[["app-root"]],standalone:!0,features:[Ze],decls:3,vars:0,template:function(i,o){i&1&&ue(0,"app-header")(1,"router-outlet")(2,"app-footer")},dependencies:[Bs,Jy,Tt,Pf,jx,pT]});let t=e;return t})();var _P=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(B(An),B(zt))},e.\u0275dir=qe({type:e});let t=e;return t})(),Pu=(()=>{let e=class e extends _P{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Qn(e)))(o||e)}})(),e.\u0275dir=qe({type:e,features:[on]});let t=e;return t})(),ba=new H(""),SH={provide:ba,useExisting:Tn(()=>Ru),multi:!0},Ru=(()=>{let e=class e extends Pu{writeValue(r){this.setProperty("checked",r)}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Qn(e)))(o||e)}})(),e.\u0275dir=qe({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,o){i&1&&$("change",function(a){return o.onChange(a.target.checked)})("blur",function(){return o.onTouched()})},features:[Nr([SH]),on]});let t=e;return t})(),AH={provide:ba,useExisting:Tn(()=>wn),multi:!0};function MH(){let t=Vr()?Vr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var xH=new H(""),wn=(()=>{let e=class e extends _P{constructor(r,i,o){super(r,i),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!MH())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(B(An),B(zt),B(xH,8))},e.\u0275dir=qe({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&$("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[Nr([AH]),on]});let t=e;return t})();function PH(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}var Fw=new H(""),wP=new H("");function RH(t){return PH(t.value)?{required:!0}:null}function lP(t){return null}function EP(t){return t!=null}function IP(t){return yo(t)?Ve(t):t}function CP(t){let e={};return t.forEach(n=>{e=n!=null?j(j({},e),n):e}),Object.keys(e).length===0?null:e}function bP(t,e){return e.map(n=>n(t))}function NH(t){return!t.validate}function DP(t){return t.map(e=>NH(e)?e:n=>e.validate(n))}function OH(t){if(!t)return null;let e=t.filter(EP);return e.length==0?null:function(n){return CP(bP(n,e))}}function Vw(t){return t!=null?OH(DP(t)):null}function kH(t){if(!t)return null;let e=t.filter(EP);return e.length==0?null:function(n){let r=bP(n,e).map(IP);return Bp(r).pipe(ne(CP))}}function Lw(t){return t!=null?kH(DP(t)):null}function dP(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function FH(t){return t._rawValidators}function VH(t){return t._rawAsyncValidators}function kw(t){return t?Array.isArray(t)?t:[t]:[]}function Lf(t,e){return Array.isArray(t)?t.includes(e):t===e}function hP(t,e){let n=kw(e);return kw(t).forEach(i=>{Lf(n,i)||n.push(i)}),n}function fP(t,e){return kw(e).filter(n=>!Lf(t,n))}var jf=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Vw(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Lw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Ia=class extends jf{get formDirective(){return null}get path(){return null}},xu=class extends jf{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Uf=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},LH={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},lX=ye(j({},LH),{"[class.ng-submitted]":"isSubmitted"}),pr=(()=>{let e=class e extends Uf{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(B(xu,2))},e.\u0275dir=qe({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&Pr("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[on]});let t=e;return t})(),Da=(()=>{let e=class e extends Uf{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(B(Ia,10))},e.\u0275dir=qe({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,o){i&2&&Pr("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[on]});let t=e;return t})();var Du="VALID",Vf="INVALID",wa="PENDING",Tu="DISABLED",Ca=class{},Bf=class extends Ca{constructor(e,n){super(),this.value=e,this.source=n}},Au=class extends Ca{constructor(e,n){super(),this.pristine=e,this.source=n}},Mu=class extends Ca{constructor(e,n){super(),this.touched=e,this.source=n}},Ea=class extends Ca{constructor(e,n){super(),this.status=e,this.source=n}};function TP(t){return(zf(t)?t.validators:t)||null}function jH(t){return Array.isArray(t)?Vw(t):t||null}function SP(t,e){return(zf(e)?e.asyncValidators:t)||null}function UH(t){return Array.isArray(t)?Lw(t):t||null}function zf(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function BH(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new K(1e3,"");if(!r[n])throw new K(1001,"")}function $H(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new K(1002,"")})}var $f=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._events=new vt,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Du}get invalid(){return this.status===Vf}get pending(){return this.status==wa}get disabled(){return this.status===Tu}get enabled(){return this.status!==Tu}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(hP(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(hP(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(fP(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(fP(e,this._rawAsyncValidators))}hasValidator(e){return Lf(this._rawValidators,e)}hasAsyncValidator(e){return Lf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ye(j({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Mu(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new Mu(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ye(j({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Au(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new Au(!0,r))}markAsPending(e={}){this.status=wa;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ea(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ye(j({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Tu,this.errors=null,this._forEachChild(i=>{i.disable(ye(j({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Bf(this.value,r)),this._events.next(new Ea(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ye(j({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Du,this._forEachChild(r=>{r.enable(ye(j({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ye(j({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Du||this.status===wa)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Bf(this.value,n)),this._events.next(new Ea(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ye(j({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Tu:Du}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=wa,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=IP(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Ea(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new Ye,this.statusChanges=new Ye}_calculateStatus(){return this._allControlsDisabled()?Tu:this.errors?Vf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(wa)?wa:this._anyControlsHaveStatus(Vf)?Vf:Du}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new Au(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new Mu(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){zf(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=jH(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=UH(this._rawAsyncValidators)}},Hf=class extends $f{constructor(e,n,r){super(TP(n),SP(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){$H(this,!0,e),Object.keys(e).forEach(r=>{BH(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var jw=new H("CallSetDisabledState",{providedIn:"root",factory:()=>Uw}),Uw="always";function HH(t,e){return[...e.path,t]}function AP(t,e,n=Uw){MP(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),qH(t,e),WH(t,e),GH(t,e),zH(t,e)}function pP(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function zH(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function MP(t,e){let n=FH(t);e.validator!==null?t.setValidators(dP(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=VH(t);e.asyncValidator!==null?t.setAsyncValidators(dP(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();pP(e._rawValidators,i),pP(e._rawAsyncValidators,i)}function qH(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&xP(t,e)})}function GH(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&xP(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function xP(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function WH(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function KH(t,e){t==null,MP(t,e)}function QH(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function YH(t){return Object.getPrototypeOf(t.constructor)===Pu}function JH(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function ZH(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===wn?n=o:YH(o)?r=o:i=o}),i||r||n||null}var XH={provide:Ia,useExisting:Tn(()=>Bo)},Su=Promise.resolve(),Bo=(()=>{let e=class e extends Ia{constructor(r,i,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Ye,this.form=new Hf({},Vw(r),Lw(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){Su.then(()=>{let i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),AP(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){Su.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){Su.then(()=>{let i=this._findContainer(r.path),o=new Hf({});KH(o,r),i.registerControl(r.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){Su.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){Su.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submitted=!0,JH(this.form,this._directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}};e.\u0275fac=function(i){return new(i||e)(B(Fw,10),B(wP,10),B(jw,8))},e.\u0275dir=qe({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,o){i&1&&$("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Nr([XH]),on]});let t=e;return t})();function gP(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function mP(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var ez=class extends $f{constructor(e=null,n,r){super(TP(n),SP(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),zf(n)&&(n.nonNullable||n.initialValueIsDefault)&&(mP(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){gP(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){gP(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){mP(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var tz={provide:xu,useExisting:Tn(()=>Ln)},yP=Promise.resolve(),Ln=(()=>{let e=class e extends xu{constructor(r,i,o,s,a,u){super(),this._changeDetectorRef=a,this.callSetDisabledState=u,this.control=new ez,this._registered=!1,this.name="",this.update=new Ye,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=ZH(this,s)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),QH(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){AP(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){yP.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,o=i!==0&&Ii(i);yP.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?HH(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(B(Ia,9),B(Fw,10),B(wP,10),B(ba,10),B(Ei,8),B(jw,8))},e.\u0275dir=qe({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Nr([tz]),on,Mr]});let t=e;return t})(),Ta=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=qe({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})(),nz={provide:ba,useExisting:Tn(()=>Bw),multi:!0},Bw=(()=>{let e=class e extends Pu{writeValue(r){let i=r??"";this.setProperty("value",i)}registerOnChange(r){this.onChange=i=>{r(i==""?null:parseFloat(i))}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Qn(e)))(o||e)}})(),e.\u0275dir=qe({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,o){i&1&&$("input",function(a){return o.onChange(a.target.value)})("blur",function(){return o.onTouched()})},features:[Nr([nz]),on]});let t=e;return t})();var rz={provide:ba,useExisting:Tn(()=>Sa),multi:!0};function PP(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function iz(t){return t.split(":")[0]}var Sa=(()=>{let e=class e extends Pu{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i=this._getOptionId(r),o=PP(i,r);this.setProperty("value",o)}registerOnChange(r){this.onChange=i=>{this.value=this._getOptionValue(i),r(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),r))return i;return null}_getOptionValue(r){let i=iz(r);return this._optionMap.has(i)?this._optionMap.get(i):r}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Qn(e)))(o||e)}})(),e.\u0275dir=qe({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,o){i&1&&$("change",function(a){return o.onChange(a.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[Nr([rz]),on]});let t=e;return t})(),qf=(()=>{let e=class e{constructor(r,i,o){this._element=r,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(r){this._select!=null&&(this._select._optionMap.set(this.id,r),this._setElementValue(PP(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._setElementValue(r),this._select&&this._select.writeValue(this._select.value)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(B(zt),B(An),B(Sa,9))},e.\u0275dir=qe({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})(),oz={provide:ba,useExisting:Tn(()=>RP),multi:!0};function vP(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function sz(t){return t.split(":")[0]}var RP=(()=>{let e=class e extends Pu{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i;if(Array.isArray(r)){let o=r.map(s=>this._getOptionId(s));i=(s,a)=>{s._setSelected(o.indexOf(a.toString())>-1)}}else i=(o,s)=>{o._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(r){this.onChange=i=>{let o=[],s=i.selectedOptions;if(s!==void 0){let a=s;for(let u=0;u<a.length;u++){let l=a[u],h=this._getOptionValue(l.value);o.push(h)}}else{let a=i.options;for(let u=0;u<a.length;u++){let l=a[u];if(l.selected){let h=this._getOptionValue(l.value);o.push(h)}}}this.value=o,r(o)}}_registerOption(r){let i=(this._idCounter++).toString();return this._optionMap.set(i,r),i}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,r))return i;return null}_getOptionValue(r){let i=sz(r);return this._optionMap.has(i)?this._optionMap.get(i)._value:r}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Qn(e)))(o||e)}})(),e.\u0275dir=qe({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,o){i&1&&$("change",function(a){return o.onChange(a.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[Nr([oz]),on]});let t=e;return t})(),Gf=(()=>{let e=class e{constructor(r,i,o){this._element=r,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(r){this._select!=null&&(this._value=r,this._setElementValue(vP(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._select?(this._value=r,this._setElementValue(vP(this.id,r)),this._select.writeValue(this._select.value)):this._setElementValue(r)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}_setSelected(r){this._renderer.setProperty(this._element.nativeElement,"selected",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(B(zt),B(An),B(RP,9))},e.\u0275dir=qe({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})();var az=(()=>{let e=class e{constructor(){this._validator=lP}ngOnChanges(r){if(this.inputName in r){let i=this.normalizeInput(r[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):lP,this._onChange&&this._onChange()}}validate(r){return this._validator(r)}registerOnValidatorChange(r){this._onChange=r}enabled(r){return r!=null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=qe({type:e,features:[Mr]});let t=e;return t})();var cz={provide:Fw,useExisting:Tn(()=>$o),multi:!0};var $o=(()=>{let e=class e extends az{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Ii,this.createValidator=r=>RH}enabled(r){return r}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Qn(e)))(o||e)}})(),e.\u0275dir=qe({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,o){i&2&&uc("required",o._enabled?"":null)},inputs:{required:"required"},features:[Nr([cz]),on]});let t=e;return t})();var uz=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Kn({type:e}),e.\u0275inj=Wn({});let t=e;return t})();var gr=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:jw,useValue:r.callSetDisabledState??Uw}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Kn({type:e}),e.\u0275inj=Wn({imports:[uz]});let t=e;return t})();var lz=["slides"];function dz(t,e){if(t&1){let n=pt();b(0,"a",10),$("click",function(){J(n);let i=te();return Z(i.onClickLeft())}),ue(1,"span",11),T()}}function hz(t,e){if(t&1){let n=pt();b(0,"a",12),$("click",function(){J(n);let i=te();return Z(i.onClickRight())}),ue(1,"span",13),T()}}var NP=(()=>{let e=class e{constructor(r){this.platformId=r,this.intervalForSlider=5e3,this.withBackground=!1,this.showArrows=!0,this.currentIndex=0}ngAfterViewInit(){iy(this.platformId)&&(this.autoSlideSub=$p(this.intervalForSlider).subscribe(()=>this.autoSlide()))}autoSlide(){let i=this.slides.nativeElement.querySelectorAll(".carousel-item");i[this.currentIndex].classList.remove("active"),this.currentIndex=(this.currentIndex+1)%i.length,i[this.currentIndex].classList.add("active")}onClickLeft(){let i=this.slides.nativeElement.querySelectorAll(".carousel-item");i[this.currentIndex].classList.remove("active"),this.currentIndex=(this.currentIndex-1+i.length)%i.length,i[this.currentIndex].classList.add("active")}onClickRight(){this.autoSlide()}ngOnDestroy(){this.autoSlideSub&&this.autoSlideSub.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)(B(Dt))},e.\u0275cmp=Je({type:e,selectors:[["app-carousel"]],viewQuery:function(i,o){if(i&1&&CD(lz,5),i&2){let s;Id(s=Cd())&&(o.slides=s.first)}},inputs:{intervalForSlider:"intervalForSlider",withBackground:"withBackground",showArrows:"showArrows"},standalone:!0,features:[Ze],decls:11,vars:2,consts:[["slides",""],["id","carouselExampleIndicators",1,"carousel","slide"],[1,"carousel-inner"],[1,"carousel-item","active"],["src","./slide/slide1.jpg","alt","Slide 1",1,"d-block","w-100"],[1,"carousel-item"],["src","./slide/slide2.jpg","alt","Slide 2",1,"d-block","w-100"],["src","./slide/slide3.jpg","alt","Slide 3",1,"d-block","w-100"],["class","carousel-control-prev","role","button",3,"click",4,"ngIf"],["class","carousel-control-next","role","button",3,"click",4,"ngIf"],["role","button",1,"carousel-control-prev",3,"click"],["aria-hidden","true",1,"carousel-control-prev-icon"],["role","button",1,"carousel-control-next",3,"click"],["aria-hidden","true",1,"carousel-control-next-icon"]],template:function(i,o){i&1&&(b(0,"div",1)(1,"div",2,0)(3,"div",3),ue(4,"img",4),T(),b(5,"div",5),ue(6,"img",6),T(),b(7,"div",5),ue(8,"img",7),T()(),je(9,dz,2,0,"a",8)(10,hz,2,0,"a",9),T()),i&2&&(F(9),oe("ngIf",o.showArrows),F(),oe("ngIf",o.showArrows))},dependencies:[Tt,Xn],styles:[".carousel-inner[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;overflow:hidden}.carousel-item[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0;opacity:0;transition:transform 1s ease-in}.carousel-item.active[_ngcontent-%COMP%]{opacity:1;position:relative}.carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:50vh;width:100%;object-fit:cover}@media (max-width: 992px){.carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:calc(100vh - 56px)}}@media (max-width: 576px){.carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:calc(50vh - 56px)}}"]});let t=e;return t})();var Aa=(()=>{let e=class e{constructor(r){this.firestore=r,this.collectionName="products",this.commentsCollectionName="comments"}getProducts(){let r=Gi(this.firestore,this.collectionName);return Iu(r,{idField:"id"})}getProductById(r){let i=jo(this.firestore,`${this.collectionName}/${r}`);return Ox(i,{idField:"id"})}getComments(r){let i=Gi(this.firestore,`${this.collectionName}/${r}/${this.commentsCollectionName}`);return Iu(i,{idField:"id"})}addComment(r,i){let o=["\u043A\u043E\u043A\u043E\u0441","\u0431\u0430\u043D\u0430\u043D","\u043F\u043E\u0433\u0430\u043D\u0438\u0439","@"],s=i.replace(new RegExp(`(${o.map(l=>l.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")).join("|")})`,"gi"),l=>"*".repeat(l.length)),a=Gi(this.firestore,`${this.collectionName}/${r}/${this.commentsCollectionName}`),u=jo(a);return xf(u,{text:s,timestamp:new Date().toISOString()})}};e.\u0275fac=function(i){return new(i||e)(W(Vn))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var OP=t=>({disabled:t}),fz=t=>({active:t});function pz(t,e){if(t&1){let n=pt();b(0,"div",28)(1,"div",29),ue(2,"img",30),b(3,"div",31)(4,"h5",32),R(5),T(),b(6,"p",33),R(7),T(),b(8,"button",34),$("click",function(){let i=J(n).$implicit,o=te();return Z(o.viewProduct(i.id))}),R(9,"\u041F\u0435\u0440\u0435\u0439\u0442\u0438 \u0434\u043E \u0442\u043E\u0432\u0430\u0440\u0443"),T()()()()}if(t&2){let n=e.$implicit,r=te();F(2),Zn("alt",n.name),oe("src",n.imageUrl,Yn),F(3),$e(n.name),F(2),Rr("",n.price," ",r.currency,"")}}function gz(t,e){if(t&1){let n=pt();b(0,"li",23)(1,"a",35),$("click",function(){let i=J(n).$implicit,o=te();return Z(o.changePage(i))}),R(2),T()()}if(t&2){let n=e.$implicit,r=te();oe("ngClass",bd(2,fz,n===r.currentPage)),F(2),$e(n)}}var kP=(()=>{let e=class e{constructor(r,i){this.productService=r,this.router=i,this.products=[],this.filteredProducts=[],this.searchText="",this.currency="$",this.itemsPerPage=5,this.currentPage=1,this.totalPages=1,this.pages=[],this.categories=["\u041B\u0456\u0445\u0442\u0430\u0440\u0438\u043A\u0438","\u0420\u043E\u0437\u0443\u043C\u043D\u0456 \u0433\u043E\u0434\u0438\u043D\u043D\u0438\u043A\u0438","\u041D\u0430\u0432\u0443\u0448\u043D\u0438\u043A\u0438","\u0422\u0443\u0440\u0438\u0441\u0442\u0438\u0447\u043D\u0456 \u041A\u0430\u043C\u0435\u0440\u0438","\u041D\u0430\u043C\u0435\u0442\u0438"],this.selectedCategory="all",this.isSidebarVisible=!1,this.isSidebarPinned=!1}ngOnInit(){this.loadProducts()}toggleSidebar(){this.isSidebarVisible=!this.isSidebarVisible}updateSidebarMode(){this.isSidebarPinned?this.isSidebarVisible=!0:this.isSidebarVisible=!1}loadProducts(){this.productService.getProducts().subscribe(r=>{console.log("\u041E\u0442\u0440\u0438\u043C\u0430\u043D\u0456 \u043F\u0440\u043E\u0434\u0443\u043A\u0442\u0438:",r),this.products=r,this.applyFilters()})}getPaginatedProducts(){let r=(this.currentPage-1)*this.itemsPerPage,i=this.currentPage*this.itemsPerPage;return this.filteredProducts.slice(r,i)}updatePagination(){this.totalPages=Math.ceil(this.filteredProducts.length/this.itemsPerPage),this.pages=Array.from({length:this.totalPages},(r,i)=>i+1)}onSearchTextChange(){this.applyFilters(),this.updatePagination(),this.currentPage=1}filterByCategory(r){this.selectedCategory=r,this.applyFilters(),this.updatePagination(),this.currentPage=1}applyFilters(){let r=this.products;this.selectedCategory!=="all"&&(r=r.filter(i=>i.category===this.selectedCategory)),this.searchText&&(r=r.filter(i=>i.name.toLowerCase().includes(this.searchText.toLowerCase()))),this.filteredProducts=r,this.updatePagination()}changePage(r){r>=1&&r<=this.totalPages&&(this.currentPage=r)}viewProduct(r){this.router.navigate([`/product/${r}`])}};e.\u0275fac=function(i){return new(i||e)(B(Aa),B(wt))},e.\u0275cmp=Je({type:e,selectors:[["app-home"]],standalone:!0,features:[Ze],decls:49,vars:18,consts:[[1,"container-fluid","mt-4"],["type","search","placeholder","\u0424\u0456\u043B\u044C\u0442\u0440 \u0437\u0430 \u043D\u0430\u0437\u0432\u043E\u044E","aria-label","Search",1,"form-control","mb-4","mt-4",3,"ngModelChange","ngModel"],[1,"sidebar-toggle",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","50","height","50","viewBox","0 0 100 100"],["x","0","y","0","width","100","height","100","rx","15","fill","#f0f0f0"],["x","15","y","15","width","25","height","70","rx","8","fill","#ffffff"],["cx","27.5","cy","30","r","4","fill","#ff6347"],["cx","27.5","cy","50","r","4","fill","#4682b4"],["cx","27.5","cy","70","r","4","fill","#32cd32"],["x","45","y","15","width","40","height","70","rx","8","fill","#ffffff"],["x","50","y","25","width","30","height","6","rx","2","fill","#d3d3d3"],["x","50","y","45","width","30","height","6","rx","2","fill","#d3d3d3"],["x","50","y","65","width","30","height","6","rx","2","fill","#d3d3d3"],[1,"sidebar"],[1,"sidebar-header"],[1,"pin-sidebar-option"],["type","checkbox","id","pinSidebar",3,"ngModelChange","change","ngModel"],["for","pinSidebar"],[1,"btn","btn-outline-primary",3,"click"],[1,"row"],["class","col-12 col-md-2 mb-4",4,"ngFor","ngForOf"],["aria-label","Page navigation"],[1,"pagination","justify-content-center"],[1,"page-item",3,"ngClass"],["aria-label","Previous",1,"page-link",3,"click"],["aria-hidden","true"],["class","page-item",3,"ngClass",4,"ngFor","ngForOf"],["aria-label","Next",1,"page-link",3,"click"],[1,"col-12","col-md-2","mb-4"],[1,"card"],[1,"card-img-top",3,"src","alt"],[1,"card-body","text-center"],[1,"card-title"],[1,"card-text"],[1,"btn","btn-primary",3,"click"],[1,"page-link",3,"click"]],template:function(i,o){i&1&&(b(0,"div",0),ue(1,"app-carousel"),b(2,"input",1),ke("ngModelChange",function(a){return Ue(o.searchText,a)||(o.searchText=a),a}),$("ngModelChange",function(){return o.onSearchTextChange()}),T(),b(3,"button",2),$("click",function(){return o.toggleSidebar()}),fd(),b(4,"svg",3),ue(5,"rect",4)(6,"rect",5)(7,"circle",6)(8,"circle",7)(9,"circle",8)(10,"rect",9)(11,"rect",10)(12,"rect",11)(13,"rect",12),T()(),ob(),b(14,"div",13)(15,"div",14)(16,"h4"),R(17,"\u0424\u0456\u043B\u044C\u0442\u0440\u0438"),T()(),b(18,"div",14)(19,"div",15)(20,"input",16),ke("ngModelChange",function(a){return Ue(o.isSidebarPinned,a)||(o.isSidebarPinned=a),a}),$("change",function(){return o.updateSidebarMode()}),T(),b(21,"label",17),R(22,"\u0417\u0430\u043A\u0440\u0456\u043F\u0438\u0442\u0438"),T()()(),b(23,"button",18),$("click",function(){return o.filterByCategory("all")}),R(24,"\u0423\u0441\u0456"),T(),b(25,"button",18),$("click",function(){return o.filterByCategory("\u041B\u0456\u0445\u0442\u0430\u0440\u0438\u043A\u0438")}),R(26,"\u041B\u0456\u0445\u0442\u0430\u0440\u0438\u043A\u0438"),T(),b(27,"button",18),$("click",function(){return o.filterByCategory("\u0420\u043E\u0437\u0443\u043C\u043D\u0456 \u0413\u043E\u0434\u0438\u043D\u043D\u0438\u043A\u0438")}),R(28,"\u0420\u043E\u0437\u0443\u043C\u043D\u0456 \u0413\u043E\u0434\u0438\u043D\u043D\u0438\u043A\u0438"),T(),b(29,"button",18),$("click",function(){return o.filterByCategory("\u041D\u0430\u0432\u0443\u0448\u043D\u0438\u043A\u0438")}),R(30,"\u041D\u0430\u0432\u0443\u0448\u043D\u0438\u043A\u0438"),T(),b(31,"button",18),$("click",function(){return o.filterByCategory("\u0422\u0443\u0440\u0438\u0441\u0442\u0438\u0447\u043D\u0456 \u041A\u0430\u043C\u0435\u0440\u0438")}),R(32,"\u0422\u0443\u0440\u0438\u0441\u0442\u0438\u0447\u043D\u0456 \u041A\u0430\u043C\u0435\u0440\u0438"),T(),b(33,"button",18),$("click",function(){return o.filterByCategory("\u041D\u0430\u043C\u0435\u0442\u0438")}),R(34,"\u041D\u0430\u043C\u0435\u0442\u0438"),T()(),b(35,"div",19),je(36,pz,10,5,"div",20),Dd(37,"slice"),T(),b(38,"nav",21)(39,"ul",22)(40,"li",23)(41,"a",24),$("click",function(){return o.changePage(o.currentPage-1)}),b(42,"span",25),R(43,"\xAB"),T()()(),je(44,gz,3,4,"li",26),b(45,"li",23)(46,"a",27),$("click",function(){return o.changePage(o.currentPage+1)}),b(47,"span",25),R(48,"\xBB"),T()()()()()()),i&2&&(F(2),Oe("ngModel",o.searchText),F(12),Pr("visible",o.isSidebarVisible||o.isSidebarPinned)("pinned",o.isSidebarPinned),F(6),Oe("ngModel",o.isSidebarPinned),F(16),oe("ngForOf",TD(37,10,o.getPaginatedProducts(),0,5)),F(4),oe("ngClass",bd(14,OP,o.currentPage===1)),F(4),oe("ngForOf",o.pages),F(),oe("ngClass",bd(16,OP,o.currentPage===o.totalPages)))},dependencies:[Tt,YD,bi,XD,gr,wn,Ru,pr,Ln,NP],styles:[".card[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;height:100%;border:1px solid #ddd;border-radius:.375rem;overflow:hidden}.card-img-top[_ngcontent-%COMP%]{height:150px;object-fit:cover}.card-body[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center;text-align:center}.card-title[_ngcontent-%COMP%]{font-size:1rem}.card-text[_ngcontent-%COMP%]{font-size:.875rem}.carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:50vh;object-fit:cover}.btn-outline-primary[_ngcontent-%COMP%]{margin:.25rem}.pagination[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{padding:.5rem 1rem}.page-link[_ngcontent-%COMP%]{cursor:pointer}@media (max-width: 576px){.card-img-top[_ngcontent-%COMP%]{height:120px}.carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:40vh}}@media (min-width: 992px){.col-md-2[_ngcontent-%COMP%]{flex:0 0 20%;max-width:20%}}.sidebar-toggle.left-toggle[_ngcontent-%COMP%]{left:20px;top:76px}.sidebar-toggle[_ngcontent-%COMP%]{position:fixed;top:76px;left:20px;z-index:1000;color:#fff;border:none;border-radius:50%;width:50px;height:50px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .3s ease}.sidebar-header[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center}.pin-sidebar-option[_ngcontent-%COMP%]{display:flex;align-items:center}.sidebar-toggle[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.sidebar-toggle[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{fill:#fff;transition:transform .3s ease}.sidebar-toggle[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{transform:scale(1.1)}.sidebar[_ngcontent-%COMP%]{position:fixed;top:66px;left:-100%;width:300px;height:calc(100% - 69px);background:#fff;box-shadow:4px 0 8px #0003;padding:20px;transition:left .3s ease;overflow-y:auto;overflow-x:hidden;z-index:999}.sidebar.visible[_ngcontent-%COMP%]{left:0}.sidebar.visible[_ngcontent-%COMP%] ~ .sidebar-toggle[_ngcontent-%COMP%]{left:320px}.sidebar[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:15px;font-size:1.2rem;color:#333}.sidebar[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{display:block;width:100%;margin-bottom:10px}.sidebar.pinned[_ngcontent-%COMP%]{position:fixed;left:0;top:69px;height:calc(100% - 69px)}.sidebar.pinned[_ngcontent-%COMP%] + .container-fluid[_ngcontent-%COMP%]{margin-left:320px}.product-list.sidebar-pinned[_ngcontent-%COMP%]{margin-right:320px}.pin-sidebar-option[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-left:5px;font-size:.9rem}"]});let t=e;return t})();var FP=(()=>{let e=class e{constructor(r){this.http=r,this.apiUrl="https://api.novaposhta.ua/v2.0/json/",this.apiKey="86dfb7dfe2f6e8659419fc64edcc4814"}getRegions(){let r={apiKey:this.apiKey,modelName:"Address",calledMethod:"getAreas",methodProperties:{}};return this.http.post(this.apiUrl,r)}getCities(r){let i={apiKey:this.apiKey,modelName:"Address",calledMethod:"getCities",methodProperties:{AreaRef:r}};return this.http.post(this.apiUrl,i)}getWarehouses(r){let i={apiKey:this.apiKey,modelName:"AddressGeneral",calledMethod:"getWarehouses",methodProperties:{CityRef:r}};return this.http.post(this.apiUrl,i)}};e.\u0275fac=function(i){return new(i||e)(W(ly))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function yz(t,e){if(t&1){let n=pt();b(0,"div",30),ue(1,"img",31),b(2,"h4",32),R(3),T(),b(4,"p",33),R(5),T(),b(6,"div",34)(7,"button",35),$("click",function(){let i=J(n).$implicit,o=te();return Z(o.increaseQuantity(i.product.id))}),R(8,"+"),T(),b(9,"span",36),R(10),T(),b(11,"button",35),$("click",function(){let i=J(n).$implicit,o=te();return Z(o.decreaseQuantity(i.product.id))}),R(12,"-"),T()(),b(13,"div",37)(14,"p",7),R(15),T()(),b(16,"button",38),$("click",function(){let i=J(n).$implicit,o=te();return Z(o.removeFromCart(i.product.id))}),R(17,"\u041F\u0440\u0438\u0431\u0440\u0430\u0442\u0438"),T()()}if(t&2){let n=e.$implicit,r=te();F(),Zn("alt",n.product.name),oe("src",n.product.imageUrl,Yn),F(2),$e(n.product.name),F(2),Rr("",n.product.price," ",r.currency,""),F(5),$e(n.quantity),F(5),Rr("\u0417\u0430\u0433\u0430\u043B\u044C\u043D\u0430 \u0441\u0443\u043C\u0430 \u0442\u043E\u0432\u0430\u0440\u0443: ",n.product.price*n.quantity," ",r.currency,"")}}function vz(t,e){t&1&&(b(0,"small",39),R(1,"\u041D\u0435\u043A\u043E\u0440\u0435\u043A\u0442\u043D\u0438\u0439 \u0444\u043E\u0440\u043C\u0430\u0442. \u0412\u0438\u043A\u043E\u0440\u0438\u0441\u0442\u043E\u0432\u0443\u0439\u0442\u0435 \u0442\u0456\u043B\u044C\u043A\u0438 \u0431\u0443\u043A\u0432\u0438."),T())}function _z(t,e){if(t&1&&(b(0,"small",39),R(1),T()),t&2){te();let n=lc(18);F(),$e(n.errors==null?null:n.errors.customError)}}function wz(t,e){if(t&1&&(b(0,"option",40),R(1),T()),t&2){let n=e.$implicit;oe("value",n.Ref),F(),Mn(" ",n.Description," ")}}function Ez(t,e){if(t&1&&(b(0,"option",40),R(1),T()),t&2){let n=e.$implicit;oe("value",n.Ref),F(),Mn(" ",n.Description," ")}}function Iz(t,e){if(t&1&&(b(0,"option",40),R(1),T()),t&2){let n=e.$implicit;oe("value",n.Ref),F(),Mn(" ",n.Description," ")}}function Cz(t,e){if(t&1){let n=pt();b(0,"div",41),$("click",function(){J(n);let i=te();return Z(i.closeConfirmation())}),b(1,"div",42),$("click",function(i){return J(n),Z(i.stopPropagation())}),b(2,"p",43),R(3,"\u0412\u0430\u0448 \u0442\u043E\u0432\u0430\u0440 \u043E\u0444\u043E\u0440\u043C\u043B\u0435\u043D\u0438\u0439, \u0434\u044F\u043A\u0443\u0454\u043C\u043E \u0437\u0430 \u043F\u043E\u043A\u0443\u043F\u043A\u0443!"),T(),b(4,"button",44),$("click",function(){J(n);let i=te();return Z(i.closeConfirmation())}),R(5,"\u0417\u0430\u043A\u0440\u0438\u0442\u0438"),T()()()}}var VP=(()=>{let e=class e{constructor(r,i){this.cartService=r,this.novaposhtaService=i,this.cartItems=[],this.totalAmount=0,this.currency="$",this.showConfirmation=!1,this.order={recipientName:"",phone:"",region:"",city:"",delivery:"",payment:""},this.regions=[],this.cities=[],this.warehouses=[],this.filteredRegions=[],this.filteredCities=[]}ngOnInit(){this.cartService.getCartItems().subscribe(r=>{this.cartItems=r,this.updateTotalAmount()}),this.loadRegions()}loadRegions(){this.novaposhtaService.getRegions().subscribe({next:r=>{this.regions=r.data||[],this.filteredRegions=[...this.regions]},error:r=>console.error("\u041F\u043E\u043C\u0438\u043B\u043A\u0430 \u0437\u0430\u0432\u0430\u043D\u0442\u0430\u0436\u0435\u043D\u043D\u044F \u0440\u0435\u0433\u0456\u043E\u043D\u0456\u0432:",r)})}onRegionChange(r){r&&(this.order.region=r,this.cities=[],this.warehouses=[],this.novaposhtaService.getCities(r).subscribe({next:i=>{this.cities=i.data||[],this.filteredCities=[...this.cities]},error:i=>console.error("\u041F\u043E\u043C\u0438\u043B\u043A\u0430 \u0437\u0430\u0432\u0430\u043D\u0442\u0430\u0436\u0435\u043D\u043D\u044F \u043C\u0456\u0441\u0442:",i)}))}loadCities(){this.novaposhtaService.getCities("").subscribe(r=>{this.cities=r.data})}onCityChange(r){let o=r.target?.value;o&&(this.order.city=o,this.warehouses=[],this.novaposhtaService.getWarehouses(o).subscribe({next:s=>{this.warehouses=s.data.map(a=>({Ref:a.Ref,Description:a.Description}))||[]},error:s=>console.error("\u041F\u043E\u043C\u0438\u043B\u043A\u0430 \u0437\u0430\u0432\u0430\u043D\u0442\u0430\u0436\u0435\u043D\u043D\u044F \u0432\u0456\u0434\u0434\u0456\u043B\u0435\u043D\u044C:",s)}))}filterRegions(r){this.filteredRegions=this.regions.filter(i=>i.Description.toLowerCase().includes(r.toLowerCase()))}filterCities(r){this.filteredCities=this.cities.filter(i=>i.Description.toLowerCase().includes(r.toLowerCase()))}updateTotalAmount(){this.cartService.getTotalAmount().subscribe(r=>this.totalAmount=r)}increaseQuantity(r){this.cartService.increaseQuantity(r),this.updateTotalAmount()}decreaseQuantity(r){this.cartService.decreaseQuantity(r),this.updateTotalAmount()}removeFromCart(r){this.cartService.removeFromCart(r),this.updateTotalAmount()}checkout(){this.cartService.checkout().subscribe(()=>{this.cartItems=[],this.totalAmount=0},r=>{console.error("Checkout error",r)})}submitOrder(){if(this.validateOrder()){let r=ye(j({},this.order),{region:this.regions.find(i=>i.Ref===this.order.region)?.Description||"",city:this.cities.find(i=>i.Ref===this.order.city)?.Description||"",delivery:this.warehouses.find(i=>i.Ref===this.order.delivery)?.Description||"",items:this.cartItems,totalAmount:this.totalAmount,createdAt:nt.now()});this.cartService.submitOrder(r).then(()=>{this.showConfirmation=!0,this.cartItems=[],this.totalAmount=0,this.order={recipientName:"",phone:"",region:"",city:"",delivery:"",payment:""}}).catch(i=>{console.error("Error submitting order:",i),alert("\u041D\u0435 \u0432\u0434\u0430\u043B\u043E\u0441\u044F \u043E\u0444\u043E\u0440\u043C\u0438\u0442\u0438 \u0437\u0430\u043C\u043E\u0432\u043B\u0435\u043D\u043D\u044F. \u0421\u043F\u0440\u043E\u0431\u0443\u0439\u0442\u0435 \u043F\u0456\u0437\u043D\u0456\u0448\u0435.")})}}closeConfirmation(){this.showConfirmation=!1}formatPhone(r){let i=r.replace(/[^\d]/g,"");return i.length===12?`+${i}`:i}onPhoneInput(r){let i=r.target,o=i.value,s=o.replace(/[^\d]/g,"");s.length>12&&(o=s.slice(0,12)),i.value=this.formatPhone(o),this.order.phone=i.value}validatePhone(){let r=/^\+\d{12}$/;return this.order.phone.replace(/[^\d]/g,"").length!==12?"\u041D\u0435\u043A\u043E\u0440\u0435\u043A\u0442\u043D\u0438\u0439 \u0444\u043E\u0440\u043C\u0430\u0442 \u0442\u0435\u043B\u0435\u0444\u043E\u043D\u0443. \u0412\u0432\u0435\u0434\u0456\u0442\u044C 12 \u0446\u0438\u0444\u0440.":r.test(this.order.phone)?null:"\u041D\u0435\u043A\u043E\u0440\u0435\u043A\u0442\u043D\u0438\u0439 \u0444\u043E\u0440\u043C\u0430\u0442 \u0442\u0435\u043B\u0435\u0444\u043E\u043D\u0443. \u0412\u0438\u043A\u043E\u0440\u0438\u0441\u0442\u043E\u0432\u0443\u0439\u0442\u0435 \u0444\u043E\u0440\u043C\u0430\u0442: +380000000000."}validateRecipientName(r){let i=r.target;/^[a-zA-Zа-яА-ЯіІєЄґҐ\s]*$/.test(i.value)||(i.value=i.value.replace(/[^a-zA-Zа-яА-ЯіІєЄґҐ\s]/g,""))}updateCart(){this.cartService.getCartItems().subscribe(r=>{this.cartItems=r,this.calculateTotal()})}calculateTotal(){this.totalAmount=this.cartItems.reduce((r,i)=>r+i.product.price*i.quantity,0)}validateOrder(){return!this.order.region||!this.order.city||!this.order.delivery?(alert("\u0411\u0443\u0434\u044C \u043B\u0430\u0441\u043A\u0430, \u0437\u0430\u043F\u043E\u0432\u043D\u0456\u0442\u044C \u0432\u0441\u0456 \u043F\u043E\u043B\u044F!"),!1):!0}};e.\u0275fac=function(i){return new(i||e)(B(va),B(FP))},e.\u0275cmp=Je({type:e,selectors:[["app-cart"]],standalone:!0,features:[Ze],decls:51,vars:14,consts:[["orderForm","ngForm"],["recipientName","ngModel"],["phone","ngModel"],["payment","ngModel"],[1,"container"],["class","cart-item d-flex align-items-center justify-content-between border rounded mb-3 p-3",4,"ngFor","ngForOf"],[1,"text-center","mt-4"],[1,"font-weight-bold"],[1,"mt-4",3,"ngSubmit"],[1,"form-group"],["for","recipientName"],["type","text","id","recipientName","name","recipientName","required","","placeholder","\u041F\u0440\u0456\u0437\u0432\u0438\u0449\u0435 \u0406\u043C'\u044F \u041F\u043E\u0431\u0430\u0442\u044C\u043A\u043E\u0432\u0456",1,"form-control",3,"ngModelChange","input","ngModel"],["class","text-danger",4,"ngIf"],["for","phone"],["type","tel","id","phone","name","phone","required","","placeholder","+380000000000",1,"form-control",3,"ngModelChange","input","ngModel"],["for","region"],["id","region","name","region",1,"form-control",3,"ngModelChange","change","ngModel"],[3,"value",4,"ngFor","ngForOf"],["for","city"],["id","city","name","city",1,"form-control",3,"ngModelChange","change","ngModel"],["for","warehouse"],["id","warehouse","name","warehouse",1,"form-control",3,"ngModelChange","ngModel"],["for","payment"],["id","payment","name","payment","required","",1,"form-control",3,"ngModelChange","ngModel"],["value","","disabled","","selected",""],["value","pay-now"],["value","invoice"],["value","installments"],["type","submit",1,"btn","btn-success","btn-block",3,"disabled"],["class","confirmation-overlay",3,"click",4,"ngIf"],[1,"cart-item","d-flex","align-items-center","justify-content-between","border","rounded","mb-3","p-3"],[1,"cart-item-image",3,"src","alt"],[1,"cart-item-name","font-weight-bold"],[1,"cart-item-price"],[1,"quantity-control","d-flex","align-items-center"],[1,"btn","btn-outline-primary","btn-sm",3,"click"],[1,"mx-2"],[1,"total-row"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"text-danger"],[3,"value"],[1,"confirmation-overlay",3,"click"],[1,"confirmation-content",3,"click"],[1,"confirmation-text"],[1,"btn","btn-success",3,"click"]],template:function(i,o){if(i&1){let s=pt();b(0,"div",4)(1,"div",4),je(2,yz,18,8,"div",5),T(),b(3,"div",6)(4,"h2",7),R(5,"\u0417\u0430\u043C\u043E\u0432\u043B\u0435\u043D\u043D\u044F"),T(),b(6,"form",8,0),$("ngSubmit",function(){return J(s),Z(o.submitOrder())}),b(8,"div",9)(9,"label",10),R(10,"\u041E\u0442\u0440\u0438\u043C\u0443\u0432\u0430\u0447:"),T(),b(11,"input",11,1),ke("ngModelChange",function(u){return J(s),Ue(o.order.recipientName,u)||(o.order.recipientName=u),Z(u)}),$("input",function(u){return J(s),Z(o.validateRecipientName(u))}),T(),je(13,vz,2,0,"small",12),T(),b(14,"div",9)(15,"label",13),R(16,"\u041C\u043E\u0431\u0456\u043B\u044C\u043D\u0438\u0439 \u0442\u0435\u043B\u0435\u0444\u043E\u043D:"),T(),b(17,"input",14,2),ke("ngModelChange",function(u){return J(s),Ue(o.order.phone,u)||(o.order.phone=u),Z(u)}),$("input",function(u){return J(s),Z(o.onPhoneInput(u))}),T(),je(19,_z,2,1,"small",12),T(),b(20,"div",9)(21,"label",15),R(22,"\u041E\u0431\u0435\u0440\u0456\u0442\u044C \u0440\u0435\u0433\u0456\u043E\u043D:"),T(),b(23,"select",16),ke("ngModelChange",function(u){return J(s),Ue(o.order.region,u)||(o.order.region=u),Z(u)}),$("change",function(){return J(s),Z(o.onRegionChange(o.order.region))}),je(24,wz,2,2,"option",17),T()(),b(25,"div",9)(26,"label",18),R(27,"\u041E\u0431\u0435\u0440\u0456\u0442\u044C \u043C\u0456\u0441\u0442\u043E:"),T(),b(28,"select",19),ke("ngModelChange",function(u){return J(s),Ue(o.order.city,u)||(o.order.city=u),Z(u)}),$("change",function(u){return J(s),Z(o.onCityChange(u))}),je(29,Ez,2,2,"option",17),T()(),b(30,"div",9)(31,"label",20),R(32,"\u041E\u0431\u0435\u0440\u0456\u0442\u044C \u0432\u0456\u0434\u0434\u0456\u043B\u0435\u043D\u043D\u044F:"),T(),b(33,"select",21),ke("ngModelChange",function(u){return J(s),Ue(o.order.delivery,u)||(o.order.delivery=u),Z(u)}),je(34,Iz,2,2,"option",17),T()(),b(35,"div",9)(36,"label",22),R(37,"\u041E\u043F\u043B\u0430\u0442\u0430:"),T(),b(38,"select",23,3),ke("ngModelChange",function(u){return J(s),Ue(o.order.payment,u)||(o.order.payment=u),Z(u)}),b(40,"option",24),R(41,"\u041E\u0431\u0435\u0440\u0456\u0442\u044C \u0441\u043F\u043E\u0441\u0456\u0431 \u043E\u043F\u043B\u0430\u0442\u0438"),T(),b(42,"option",25),R(43,"\u041E\u043F\u043B\u0430\u0442\u0438\u0442\u0438 \u0437\u0430\u0440\u0430\u0437"),T(),b(44,"option",26),R(45,"\u0411\u0435\u0437\u0433\u043E\u0442\u0456\u0432\u043A\u043E\u0432\u0438\u0439 \u0440\u0430\u0445\u0443\u043D\u043E\u043A"),T(),b(46,"option",27),R(47,"\u041E\u043F\u043B\u0430\u0442\u0430 \u0447\u0430\u0441\u0442\u0438\u043D\u0430\u043C\u0438"),T()()(),b(48,"button",28),R(49," \u041E\u0444\u043E\u0440\u043C\u0438\u0442\u0438 \u043F\u043E\u043A\u0443\u043F\u043A\u0443 "),T()()(),je(50,Cz,6,0,"div",29),T()}if(i&2){let s=lc(7),a=lc(12),u=lc(18);F(2),oe("ngForOf",o.cartItems),F(9),Oe("ngModel",o.order.recipientName),F(2),oe("ngIf",a.invalid&&a.touched),F(4),Oe("ngModel",o.order.phone),F(2),oe("ngIf",u.errors==null?null:u.errors.customError),F(4),Oe("ngModel",o.order.region),F(),oe("ngForOf",o.filteredRegions),F(4),Oe("ngModel",o.order.city),F(),oe("ngForOf",o.filteredCities),F(4),Oe("ngModel",o.order.delivery),F(),oe("ngForOf",o.warehouses),F(4),Oe("ngModel",o.order.payment),F(10),oe("disabled",!s.valid),F(2),oe("ngIf",o.showConfirmation)}},dependencies:[Tt,bi,Xn,gr,Ta,qf,Gf,wn,Sa,pr,Da,$o,Ln,Bo],styles:[".form-control[_ngcontent-%COMP%]{border-radius:.25rem;border:1px solid #ced4da}label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:.5rem;display:block}select[_ngcontent-%COMP%]:invalid{color:gray}select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]:first-child{display:none}.btn-success[_ngcontent-%COMP%]:hover{background-color:#218838}#city[_ngcontent-%COMP%], #warehouse[_ngcontent-%COMP%]{text-transform:capitalize}.total-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;width:100%}.total-row[_ngcontent-%COMP%]   .font-weight-bold[_ngcontent-%COMP%]{margin:0;text-align:left;flex:1}.cart-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;background-color:#f9f9f9;padding:15px}.cart-item[_ngcontent-%COMP%]   .btn-danger[_ngcontent-%COMP%]{margin-left:auto}.cart-item-image[_ngcontent-%COMP%]{width:60px;height:60px;object-fit:cover;margin-right:15px}.cart-item-name[_ngcontent-%COMP%]{font-size:1rem;flex:1;margin:0 15px}.quantity-control[_ngcontent-%COMP%]{display:flex;align-items:center;margin-right:15px}.font-weight-bold[_ngcontent-%COMP%]{margin-right:15px}.btn-danger[_ngcontent-%COMP%]{margin-left:15px}@media (max-width: 768px){.cart-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.cart-item-image[_ngcontent-%COMP%]{margin-bottom:10px}.cart-item-name[_ngcontent-%COMP%], .font-weight-bold[_ngcontent-%COMP%], .quantity-control[_ngcontent-%COMP%]{margin:10px 0}.btn-danger[_ngcontent-%COMP%]{margin-top:10px}}.cart-item-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.cart-item-details[_ngcontent-%COMP%]   .font-weight-bold[_ngcontent-%COMP%]{margin-top:10px}.cart-item[_ngcontent-%COMP%]{background-color:#f9f9f9}#btn[_ngcontent-%COMP%]{width:90px}#img[_ngcontent-%COMP%]{margin:15px}#total[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px}.cart-item-image[_ngcontent-%COMP%]{width:80px;height:80px;object-fit:cover}.cart-item-name[_ngcontent-%COMP%]{font-size:1.2rem}.cart-item-price[_ngcontent-%COMP%]{font-size:1rem;color:#333}.quantity-control[_ngcontent-%COMP%]{margin-top:.5rem}.quantity-control[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:30px;height:30px}.btn-danger[_ngcontent-%COMP%]{background-color:#dc3545;border-color:#dc3545}.btn-danger[_ngcontent-%COMP%]:hover{background-color:#c82333;border-color:#bd2130}.confirmation-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center}.confirmation-content[_ngcontent-%COMP%]{background-color:#fff;padding:2rem;border-radius:5px;text-align:center;animation:_ngcontent-%COMP%_fadeIn .3s ease-in}.confirmation-text[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:1rem}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.form-control[_ngcontent-%COMP%]{border-radius:.25rem;border-color:#ced4da}.btn-success[_ngcontent-%COMP%]{background-color:#28a745;border-color:#28a745}.btn-success[_ngcontent-%COMP%]:hover{background-color:#218838;border-color:#1e7e34}.confirmation-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.confirmation-content[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:8px;text-align:center}.confirmation-text[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:20px}.container[_ngcontent-%COMP%]{padding:1rem}.cart-item[_ngcontent-%COMP%]{margin-bottom:1rem}.btn[_ngcontent-%COMP%]{width:auto}@media (max-width: 768px){.cart-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.cart-item-image[_ngcontent-%COMP%]{width:100px;height:100px}.cart-item-name[_ngcontent-%COMP%]{font-size:1rem}.cart-item-price[_ngcontent-%COMP%]{font-size:.9rem}.quantity-control[_ngcontent-%COMP%]{margin-top:1rem;flex-direction:column}.quantity-control[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:40px;height:40px}.btn-danger[_ngcontent-%COMP%], .btn-success[_ngcontent-%COMP%]{width:100%}#btn[_ngcontent-%COMP%]{width:100%;margin-top:.5rem}#img[_ngcontent-%COMP%], #total[_ngcontent-%COMP%]{margin:10px 0}.confirmation-content[_ngcontent-%COMP%]{width:90%;max-width:400px;padding:1rem}}@media (min-width: 769px) and (max-width: 1024px){.cart-item[_ngcontent-%COMP%]{flex-direction:row}.cart-item-image[_ngcontent-%COMP%]{width:100px;height:100px}.cart-item-name[_ngcontent-%COMP%]{font-size:1.1rem}.cart-item-price[_ngcontent-%COMP%]{font-size:.95rem}.quantity-control[_ngcontent-%COMP%]{margin-top:.5rem;flex-direction:row}.quantity-control[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:35px;height:35px}}"]});let t=e;return t})();function bz(t,e){if(t&1&&(b(0,"div",18)(1,"p",19),R(2),T(),b(3,"small",20),R(4),Dd(5,"date"),T()()),t&2){let n=e.$implicit;F(2),$e(n.text),F(2),$e(DD(5,2,n.timestamp,"dd.MM.yyyy HH:mm"))}}function Dz(t,e){if(t&1){let n=pt();b(0,"div",21),$("click",function(){J(n);let i=te(2);return Z(i.closeModal())}),b(1,"div",22),$("click",function(i){return J(n),Z(i.stopPropagation())}),b(2,"div",23)(3,"h4",24),R(4,"\u041A\u043E\u0448\u0438\u043A"),T(),b(5,"button",25),$("click",function(){J(n);let i=te(2);return Z(i.closeModal())}),R(6,"\xD7"),T()(),b(7,"div",26)(8,"div",27),ue(9,"img",28),b(10,"div",29)(11,"h5"),R(12),T(),b(13,"p",30),R(14),T(),b(15,"div",31)(16,"button",32),$("click",function(){J(n);let i=te(2);return Z(i.decreaseQuantity())}),R(17,"-"),T(),b(18,"span",33),R(19),T(),b(20,"button",32),$("click",function(){J(n);let i=te(2);return Z(i.increaseQuantity())}),R(21,"+"),T()()()(),b(22,"div",34)(23,"button",35),$("click",function(){J(n);let i=te(2);return Z(i.addToCart())}),R(24,"\u041E\u0444\u043E\u0440\u043C\u0438\u0442\u0438 \u0437\u0430\u043C\u043E\u0432\u043B\u0435\u043D\u043D\u044F"),T()()()()()}if(t&2){let n=te(2);F(9),Zn("alt",n.product.name),oe("src",n.product.imageUrl,Yn),F(3),$e(n.product.name),F(2),Rr("\u0417\u0430\u0433\u0430\u043B\u044C\u043D\u0430 \u0441\u0443\u043C\u0430: ",n.totalPrice," ",n.currency,""),F(5),$e(n.quantity)}}function Tz(t,e){if(t&1){let n=pt();b(0,"div",1)(1,"div",2)(2,"div",3),ue(3,"img",4),T(),b(4,"div",5)(5,"h3",6),R(6),T(),b(7,"p",7),R(8,"\u0404 \u0432 \u043D\u0430\u044F\u0432\u043D\u043E\u0441\u0442\u0456"),T(),b(9,"p",8),R(10),T(),b(11,"button",9),$("click",function(){J(n);let i=te();return Z(i.openModal())}),R(12,"\u041A\u0443\u043F\u0438\u0442\u0438"),T(),b(13,"button",10),$("click",function(){J(n);let i=te();return Z(i.goBack())}),R(14,"\u041D\u0430\u0437\u0430\u0434"),T(),b(15,"h4",11),R(16,"\u041E\u043F\u0438\u0441 \u0442\u043E\u0432\u0430\u0440\u0443"),T(),b(17,"p",12),R(18),T(),b(19,"h4",13),R(20,"\u041A\u043E\u043C\u0435\u043D\u0442\u0430\u0440\u0456:"),T(),je(21,bz,6,5,"div",14),b(22,"textarea",15),ke("ngModelChange",function(i){J(n);let o=te();return Ue(o.newComment,i)||(o.newComment=i),Z(i)}),T(),b(23,"button",16),$("click",function(){J(n);let i=te();return Z(i.addComment())}),R(24,"\u0414\u043E\u0434\u0430\u0442\u0438 \u043A\u043E\u043C\u0435\u043D\u0442\u0430\u0440"),T()()(),je(25,Dz,25,6,"div",17),T()}if(t&2){let n=te();F(3),Zn("alt",n.product.name),oe("src",n.product.imageUrl,Yn),F(3),$e(n.product.name),F(4),Rr("",n.product.price," ",n.currency,""),F(8),$e(n.product.description),F(3),oe("ngForOf",n.comments),F(),Oe("ngModel",n.newComment),F(3),oe("ngIf",n.showModal)}}var LP=(()=>{let e=class e{constructor(r,i,o,s){this.route=r,this.productService=i,this.cartService=o,this.router=s,this.comments=[],this.newComment="",this.currency="$",this.showModal=!1,this.quantity=1,this.isDarkMode=!1}ngOnInit(){let r=this.route.snapshot.paramMap.get("id");r&&this.productService.getProductById(r).subscribe(i=>{this.product=i,this.loadComments()})}get totalPrice(){return this.product?this.product.price*this.quantity:0}openModal(){this.showModal=!0,this.isDarkMode&&document.querySelector(".modal-content")?.classList.add("dark-mode")}closeModal(){this.showModal=!1}addToCart(){this.product&&(this.cartService.addToCart(this.product,this.quantity),this.closeModal(),this.router.navigate(["/cart"]))}increaseQuantity(){this.quantity++}decreaseQuantity(){this.quantity>1&&this.quantity--}goBack(){this.router.navigate(["/"])}addComment(){if(this.newComment.trim()&&this.product&&this.product.id){let r=["\u043A\u043E\u043A\u043E\u0441","\u0431\u0430\u043D\u0430\u043D","\u043F\u043E\u0433\u0430\u043D\u0438\u0439","@"],i=this.newComment.replace(new RegExp(`(${r.map(o=>o.replace(/[.*+?^${}()|[\\]\\]/g,"\\$&")).join("|")})`,"gi"),o=>"*".repeat(o.length));this.productService.addComment(this.product.id,i).then(()=>{this.comments.push({text:i,timestamp:new Date().toISOString()}),this.newComment=""})}}loadComments(){this.product&&this.product.id&&this.productService.getComments(this.product.id).subscribe(r=>{this.comments=r.sort((i,o)=>new Date(o.timestamp).getTime()-new Date(i.timestamp).getTime())})}};e.\u0275fac=function(i){return new(i||e)(B(tr),B(Aa),B(va),B(wt))},e.\u0275cmp=Je({type:e,selectors:[["app-product"]],standalone:!0,features:[Ze],decls:1,vars:1,consts:[["class","product-container container",4,"ngIf"],[1,"product-container","container"],[1,"row"],[1,"col-md-4","d-flex","align-items-start"],[1,"product-image","img-fluid",3,"src","alt"],[1,"col-md-8"],[1,"product-name"],[1,"product-stock"],[1,"product-price"],[1,"btn","btn-success","buy-button",3,"click"],[1,"btn","btn-secondary","back-button",3,"click"],[1,"product-description-title"],[1,"product-description"],[1,"comments-title"],["class","comment",4,"ngFor","ngForOf"],["placeholder","\u041D\u0430\u043F\u0438\u0448\u0456\u0442\u044C \u0432\u0430\u0448 \u043A\u043E\u043C\u0435\u043D\u0442\u0430\u0440...",1,"form-control","comment-textarea",3,"ngModelChange","ngModel"],[1,"btn","btn-success","add-comment-button",3,"click"],["class","modal-overlay",3,"click",4,"ngIf"],[1,"comment"],[1,"comment-text"],[1,"comment-timestamp"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"modal-title"],[1,"close-button",3,"click"],[1,"modal-body"],[1,"modal-product-info"],[1,"modal-product-image",3,"src","alt"],[1,"modal-product-details"],[1,"modal-product-total"],[1,"quantity-control"],[1,"quantity-button",3,"click"],[1,"quantity"],[1,"modal-footer"],[1,"btn","btn-success",3,"click"]],template:function(i,o){i&1&&je(0,Tz,26,9,"div",0),i&2&&oe("ngIf",o.product)},dependencies:[Tt,bi,Xn,ZD,gr,wn,pr,Ln],styles:[".comment[_ngcontent-%COMP%]{margin-bottom:10px;padding:5px;border-bottom:1px solid #ddd}.comment-text[_ngcontent-%COMP%]{font-size:13px;line-height:1.4;margin:0;color:#333}.comment-timestamp[_ngcontent-%COMP%]{font-size:10px;color:#777;display:block;margin-top:2px;text-align:right;font-style:italic}.product-container[_ngcontent-%COMP%]{margin-top:20px}.product-name[_ngcontent-%COMP%]{font-weight:700;font-size:1.5rem;margin-bottom:10px}.product-stock[_ngcontent-%COMP%]{color:#28a745;font-size:.9rem;margin-bottom:15px}.product-price[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:20px}.buy-button[_ngcontent-%COMP%], .back-button[_ngcontent-%COMP%], .add-comment-button[_ngcontent-%COMP%]{margin-right:10px;transition:background-color .3s,transform .2s}.buy-button[_ngcontent-%COMP%]:hover{background-color:#218838;transform:scale(1.05)}.back-button[_ngcontent-%COMP%]:hover{background-color:#6c757d;transform:scale(1.05)}.product-description-title[_ngcontent-%COMP%], .comments-title[_ngcontent-%COMP%]{text-align:center;margin-top:20px}.product-description[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}.comment[_ngcontent-%COMP%]{border-bottom:1px solid #dee2e6;padding-bottom:10px;margin-bottom:10px}.comment-textarea[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:10px}.add-comment-button[_ngcontent-%COMP%]{margin-top:10px;transition:background-color .3s,transform .2s}.add-comment-button[_ngcontent-%COMP%]:hover{background-color:#218838;transform:scale(1.05)}.align-items-start[_ngcontent-%COMP%]{align-items:flex-start}.product-image[_ngcontent-%COMP%]{max-width:100%;border-radius:8px}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;align-items:center;justify-content:center;animation:_ngcontent-%COMP%_fadeIn .3s ease-in}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:8px;width:80%;max-width:500px;padding:20px;position:relative;animation:_ngcontent-%COMP%_scaleUp .3s ease-in-out}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.modal-title[_ngcontent-%COMP%]{font-size:1.5rem}.close-button[_ngcontent-%COMP%]{background:none;border:none;font-size:1.5rem;cursor:pointer;transition:color .3s ease}.close-button[_ngcontent-%COMP%]:hover{color:#dc3545}.modal-body[_ngcontent-%COMP%]{margin-top:15px}.modal-product-info[_ngcontent-%COMP%]{display:flex;align-items:center}.modal-product-image[_ngcontent-%COMP%]{width:80px;height:80px;object-fit:cover;margin-right:15px}.modal-product-details[_ngcontent-%COMP%]{flex:1}.modal-product-price[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700}.quantity-control[_ngcontent-%COMP%]{display:flex;align-items:center;margin-top:10px}.quantity-button[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none;padding:5px 10px;cursor:pointer}.quantity[_ngcontent-%COMP%]{margin:0 10px}.quantity-button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:20px}.btn-success[_ngcontent-%COMP%]{background-color:#28a745;border-color:#28a745}.btn-success[_ngcontent-%COMP%]:hover{background-color:#218838}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_scaleUp{0%{transform:scale(.9)}to{transform:scale(1)}}"]});let t=e;return t})();var jP=(()=>{let e=class e{constructor(r){this.firestore=r,this.productsCollection=Gi(this.firestore,"products")}getProducts(){return Iu(this.productsCollection,{idField:"id"})}addProduct(r){let i=jo(this.productsCollection);return xf(i,ye(j({},r),{id:i.id}))}deleteProduct(r){let i=jo(this.firestore,`products/${r}`);return Fx(i)}updateProduct(r){let i=jo(this.firestore,`products/${r.id}`);return Lx(i,j({},r))}};e.\u0275fac=function(i){return new(i||e)(W(Vn))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Az(t,e){if(t&1){let n=pt();b(0,"button",11),$("click",function(){J(n);let i=te();return Z(i.toggleSidebar())}),fd(),b(1,"svg",12),ue(2,"rect",13)(3,"rect",14)(4,"circle",15)(5,"circle",16)(6,"circle",17)(7,"rect",18)(8,"rect",19)(9,"rect",20)(10,"rect",21),T()()}}function Mz(t,e){if(t&1&&(b(0,"option",37),R(1),T()),t&2){let n=e.$implicit;oe("value",n),F(),Mn(" ",n," ")}}function xz(t,e){if(t&1){let n=pt();b(0,"div",22)(1,"h3"),R(2,"\u0414\u043E\u0434\u0430\u0442\u0438 \u0442\u043E\u0432\u0430\u0440"),T(),b(3,"form",23),$("ngSubmit",function(){J(n);let i=te();return Z(i.addProduct())}),b(4,"div",24)(5,"label",25),R(6,"\u041D\u0430\u0437\u0432\u0430 \u0442\u043E\u0432\u0430\u0440\u0443"),T(),b(7,"input",26),ke("ngModelChange",function(i){J(n);let o=te();return Ue(o.productName,i)||(o.productName=i),Z(i)}),T()(),b(8,"div",24)(9,"label",27),R(10,"\u041E\u043F\u0438\u0441 \u0442\u043E\u0432\u0430\u0440\u0443"),T(),b(11,"textarea",28),ke("ngModelChange",function(i){J(n);let o=te();return Ue(o.productDescription,i)||(o.productDescription=i),Z(i)}),T()(),b(12,"div",24)(13,"label",29),R(14,"URL \u043A\u0430\u0440\u0442\u0438\u043D\u043A\u0438 \u0442\u043E\u0432\u0430\u0440\u0443"),T(),b(15,"input",30),ke("ngModelChange",function(i){J(n);let o=te();return Ue(o.productImageUrl,i)||(o.productImageUrl=i),Z(i)}),T()(),b(16,"div",24)(17,"label",31),R(18,"\u0426\u0456\u043D\u0430"),T(),b(19,"input",32),ke("ngModelChange",function(i){J(n);let o=te();return Ue(o.productPrice,i)||(o.productPrice=i),Z(i)}),T()(),b(20,"div",24)(21,"label",33),R(22,"\u041A\u0430\u0442\u0435\u0433\u043E\u0440\u0456\u044F \u0442\u043E\u0432\u0430\u0440\u0443"),T(),b(23,"select",34),ke("ngModelChange",function(i){J(n);let o=te();return Ue(o.productCategory,i)||(o.productCategory=i),Z(i)}),je(24,Mz,2,2,"option",35),T()(),b(25,"button",36),R(26," \u0414\u043E\u0434\u0430\u0442\u0438 \u0442\u043E\u0432\u0430\u0440 "),T()()()}if(t&2){let n=te();F(7),Oe("ngModel",n.productName),F(4),Oe("ngModel",n.productDescription),F(4),Oe("ngModel",n.productImageUrl),F(4),Oe("ngModel",n.productPrice),F(4),Oe("ngModel",n.productCategory),F(),oe("ngForOf",n.categories),F(),oe("disabled",!n.isFormValid())}}function Pz(t,e){if(t&1&&(b(0,"option",37),R(1),T()),t&2){let n=e.$implicit;oe("value",n),F(),Mn(" ",n," ")}}function Rz(t,e){if(t&1){let n=pt();b(0,"div",22)(1,"h3"),R(2,"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u0442\u043E\u0432\u0430\u0440"),T(),b(3,"form",23),$("ngSubmit",function(){J(n);let i=te();return Z(i.updateProduct())}),b(4,"div",24)(5,"label",38),R(6,"\u041D\u0430\u0437\u0432\u0430 \u0442\u043E\u0432\u0430\u0440\u0443"),T(),b(7,"input",39),ke("ngModelChange",function(i){J(n);let o=te();return Ue(o.productName,i)||(o.productName=i),Z(i)}),T()(),b(8,"div",24)(9,"label",40),R(10,"\u041E\u043F\u0438\u0441 \u0442\u043E\u0432\u0430\u0440\u0443"),T(),b(11,"textarea",41),ke("ngModelChange",function(i){J(n);let o=te();return Ue(o.productDescription,i)||(o.productDescription=i),Z(i)}),T()(),b(12,"div",24)(13,"label",42),R(14,"URL \u043A\u0430\u0440\u0442\u0438\u043D\u043A\u0438 \u0442\u043E\u0432\u0430\u0440\u0443"),T(),b(15,"input",43),ke("ngModelChange",function(i){J(n);let o=te();return Ue(o.productImageUrl,i)||(o.productImageUrl=i),Z(i)}),T()(),b(16,"div",24)(17,"label",44),R(18,"\u0426\u0456\u043D\u0430"),T(),b(19,"input",45),ke("ngModelChange",function(i){J(n);let o=te();return Ue(o.productPrice,i)||(o.productPrice=i),Z(i)}),T()(),b(20,"div",24)(21,"label",46),R(22,"\u041A\u0430\u0442\u0435\u0433\u043E\u0440\u0456\u044F \u0442\u043E\u0432\u0430\u0440\u0443"),T(),b(23,"select",47),ke("ngModelChange",function(i){J(n);let o=te();return Ue(o.productCategory,i)||(o.productCategory=i),Z(i)}),je(24,Pz,2,2,"option",35),T()(),b(25,"button",36),R(26,"\u041E\u043D\u043E\u0432\u0438\u0442\u0438 \u0442\u043E\u0432\u0430\u0440"),T(),b(27,"button",48),$("click",function(){J(n);let i=te();return Z(i.resetForm())}),R(28,"\u0421\u043A\u0430\u0441\u0443\u0432\u0430\u0442\u0438"),T()()()}if(t&2){let n=te();F(7),Oe("ngModel",n.productName),F(4),Oe("ngModel",n.productDescription),F(4),Oe("ngModel",n.productImageUrl),F(4),Oe("ngModel",n.productPrice),F(4),Oe("ngModel",n.productCategory),F(),oe("ngForOf",n.categories),F(),oe("disabled",!n.isFormValid())}}function Nz(t,e){if(t&1){let n=pt();b(0,"div",49),ue(1,"img",50),b(2,"h4"),R(3),T(),b(4,"p"),R(5),T(),b(6,"p")(7,"strong"),R(8,"\u0426\u0456\u043D\u0430:"),T(),R(9),T(),b(10,"p")(11,"strong"),R(12,"\u041A\u0430\u0442\u0435\u0433\u043E\u0440\u0456\u044F:"),T(),R(13),T(),b(14,"button",51),$("click",function(){let i=J(n).$implicit,o=te();return Z(o.openEditForm(i))}),R(15,"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438"),T(),b(16,"button",52),$("click",function(){let i=J(n).$implicit,o=te();return Z(o.confirmDeleteProduct(i.id))}),R(17,"\u0412\u0438\u0434\u0430\u043B\u0438\u0442\u0438"),T()()}if(t&2){let n=e.$implicit;F(),Zn("alt",n.name),oe("src",n.imageUrl,Yn),F(2),$e(n.name),F(2),$e(n.description),F(4),Mn(" ",n.price," $"),F(4),Mn(" ",n.category,"")}}function Oz(t,e){if(t&1){let n=pt();b(0,"div",53)(1,"div",54)(2,"h4"),R(3,"\u041F\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0436\u0435\u043D\u043D\u044F \u0432\u0438\u0434\u0430\u043B\u0435\u043D\u043D\u044F"),T(),b(4,"p"),R(5,"\u0412\u0438 \u0432\u043F\u0435\u0432\u043D\u0435\u043D\u0456, \u0449\u043E \u0445\u043E\u0447\u0435\u0442\u0435 \u0432\u0438\u0434\u0430\u043B\u0438\u0442\u0438 \u0446\u0435\u0439 \u0442\u043E\u0432\u0430\u0440?"),T(),b(6,"button",52),$("click",function(){J(n);let i=te();return i.deleteProduct(),Z(i.closeModal())}),R(7,"\u0422\u0430\u043A"),T(),b(8,"button",55),$("click",function(){J(n);let i=te();return Z(i.closeModal())}),R(9,"\u041D\u0456"),T()()()}}var UP=(()=>{let e=class e{constructor(r,i){this.adminService=r,this.productService=i,this.productName="",this.productDescription="",this.productImageUrl="",this.productPrice=null,this.productCategory="",this.products=[],this.filteredProducts=[],this.categories=["\u041B\u0456\u0445\u0442\u0430\u0440\u0438\u043A\u0438","\u0420\u043E\u0437\u0443\u043C\u043D\u0456 \u0413\u043E\u0434\u0438\u043D\u043D\u0438\u043A\u0438","\u041D\u0430\u0432\u0443\u0448\u043D\u0438\u043A\u0438","\u0422\u0443\u0440\u0438\u0441\u0442\u0438\u0447\u043D\u0456 \u041A\u0430\u043C\u0435\u0440\u0438","\u041D\u0430\u043C\u0435\u0442\u0438"],this.selectedCategory="all",this.showModal=!1,this.showEditForm=!1,this.productToDeleteId=null,this.productToEdit=null,this.errorMessage=null,this.isSidebarVisible=!1,this.isSidebarPinned=!1}ngOnInit(){this.loadProducts()}loadProducts(){this.adminService.getProducts().subscribe(r=>{this.products=r,this.applyFilters()},r=>{console.error("Error loading products:",r),this.errorMessage="Failed to load products. Please try again later."})}toggleSidebar(){this.isSidebarVisible=!this.isSidebarVisible}updateSidebarMode(){this.isSidebarPinned?this.isSidebarVisible=!0:this.isSidebarVisible=!1}filterByCategory(r){this.selectedCategory=r,this.applyFilters()}applyFilters(){this.selectedCategory==="all"?this.filteredProducts=this.products:this.filteredProducts=this.products.filter(r=>r.category===this.selectedCategory)}addProduct(){if(this.isFormValid()){let r={id:"",name:this.productName,description:this.productDescription,imageUrl:this.productImageUrl,price:this.productPrice,category:this.productCategory};this.adminService.addProduct(r).then(()=>{this.loadProducts(),this.resetForm()}).catch(i=>{console.error("Error adding product:",i),this.errorMessage="Failed to add product. Please try again later."})}}deleteProduct(){this.productToDeleteId&&this.adminService.deleteProduct(this.productToDeleteId).then(()=>{this.loadProducts(),this.closeModal()}).catch(r=>{console.error("Error deleting product:",r),this.errorMessage="Failed to delete product. Please try again later."})}openEditForm(r){this.productToEdit=j({},r),this.productName=r.name,this.productDescription=r.description,this.productImageUrl=r.imageUrl,this.productPrice=r.price,this.productCategory=r.category,this.showEditForm=!0}updateProduct(){if(this.productToEdit&&this.isFormValid()){let r={id:this.productToEdit.id,name:this.productName,description:this.productDescription,imageUrl:this.productImageUrl,price:this.productPrice,category:this.productCategory};this.adminService.updateProduct(r).then(()=>{this.loadProducts(),this.resetForm(),this.showEditForm=!1}).catch(i=>{console.error("Error updating product:",i),this.errorMessage="Failed to update product. Please try again later."})}}confirmDeleteProduct(r){this.productToDeleteId=r,this.showModal=!0}closeModal(){this.showModal=!1,this.productToDeleteId=null}resetForm(){this.productName="",this.productDescription="",this.productImageUrl="",this.productPrice=null,this.productCategory="",this.productToEdit=null,this.showEditForm=!1}isFormValid(){return this.productName.trim()!==""&&this.productDescription.trim()!==""&&this.productImageUrl.trim()!==""&&this.productPrice!==null&&this.productPrice>0&&this.productCategory.trim()!==""}};e.\u0275fac=function(i){return new(i||e)(B(jP),B(Aa))},e.\u0275cmp=Je({type:e,selectors:[["app-admin"]],standalone:!0,features:[Ze],decls:26,vars:12,consts:[[1,"container"],["class","sidebar-toggle",3,"click",4,"ngIf"],[1,"sidebar"],[1,"pin-sidebar-option"],["type","checkbox","id","pinSidebar",3,"ngModelChange","change","ngModel"],["for","pinSidebar"],[1,"btn","btn-outline-primary",3,"click"],["class","product-form",4,"ngIf"],[1,"product-list"],["class","product-item",4,"ngFor","ngForOf"],["class","modal",4,"ngIf"],[1,"sidebar-toggle",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","50","height","50","viewBox","0 0 100 100"],["x","0","y","0","width","100","height","100","rx","15","fill","#f0f0f0"],["x","15","y","15","width","25","height","70","rx","8","fill","#ffffff"],["cx","27.5","cy","30","r","4","fill","#ff6347"],["cx","27.5","cy","50","r","4","fill","#4682b4"],["cx","27.5","cy","70","r","4","fill","#32cd32"],["x","45","y","15","width","40","height","70","rx","8","fill","#ffffff"],["x","50","y","25","width","30","height","6","rx","2","fill","#d3d3d3"],["x","50","y","45","width","30","height","6","rx","2","fill","#d3d3d3"],["x","50","y","65","width","30","height","6","rx","2","fill","#d3d3d3"],[1,"product-form"],[3,"ngSubmit"],[1,"form-group"],["for","productName"],["id","productName","name","productName","placeholder","\u041D\u0430\u0437\u0432\u0430 \u0442\u043E\u0432\u0430\u0440\u0443","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","productDescription"],["id","productDescription","name","productDescription","placeholder","\u041E\u043F\u0438\u0441 \u0442\u043E\u0432\u0430\u0440\u0443","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","productImageUrl"],["id","productImageUrl","name","productImageUrl","placeholder","URL \u043A\u0430\u0440\u0442\u0438\u043D\u043A\u0438 \u0442\u043E\u0432\u0430\u0440\u0443","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","productPrice"],["id","productPrice","type","number","name","productPrice","placeholder","\u0426\u0456\u043D\u0430","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","productCategory"],["id","productCategory","name","productCategory","required","",1,"form-control",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["type","submit",1,"btn","btn-success",3,"disabled"],[3,"value"],["for","editProductName"],["id","editProductName","name","editProductName","placeholder","\u041D\u0430\u0437\u0432\u0430 \u0442\u043E\u0432\u0430\u0440\u0443","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","editProductDescription"],["id","editProductDescription","name","editProductDescription","placeholder","\u041E\u043F\u0438\u0441 \u0442\u043E\u0432\u0430\u0440\u0443","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","editProductImageUrl"],["id","editProductImageUrl","name","editProductImageUrl","placeholder","URL \u043A\u0430\u0440\u0442\u0438\u043D\u043A\u0438 \u0442\u043E\u0432\u0430\u0440\u0443","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","editProductPrice"],["id","editProductPrice","type","number","name","editProductPrice","placeholder","\u0426\u0456\u043D\u0430","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","editProductCategory"],["id","editProductCategory","name","editProductCategory","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"product-item"],[3,"src","alt"],[1,"btn","btn-warning",3,"click"],[1,"btn","btn-danger",3,"click"],[1,"modal"],[1,"modal-content"],[1,"btn","btn-secondary",3,"click"]],template:function(i,o){i&1&&(b(0,"div",0),je(1,Az,11,0,"button",1),b(2,"div",2)(3,"h4"),R(4,"\u0424\u0456\u043B\u044C\u0442\u0440\u0438"),T(),b(5,"div",3)(6,"input",4),ke("ngModelChange",function(a){return Ue(o.isSidebarPinned,a)||(o.isSidebarPinned=a),a}),$("change",function(){return o.updateSidebarMode()}),T(),b(7,"label",5),R(8,"\u0417\u0430\u043A\u0440\u0456\u043F\u0438\u0442\u0438"),T()(),b(9,"button",6),$("click",function(){return o.filterByCategory("all")}),R(10,"\u0423\u0441\u0456"),T(),b(11,"button",6),$("click",function(){return o.filterByCategory("\u041B\u0456\u0445\u0442\u0430\u0440\u0438\u043A\u0438")}),R(12,"\u041B\u0456\u0445\u0442\u0430\u0440\u0438\u043A\u0438"),T(),b(13,"button",6),$("click",function(){return o.filterByCategory("\u0420\u043E\u0437\u0443\u043C\u043D\u0456 \u0413\u043E\u0434\u0438\u043D\u043D\u0438\u043A\u0438")}),R(14,"\u0420\u043E\u0437\u0443\u043C\u043D\u0456 \u0413\u043E\u0434\u0438\u043D\u043D\u0438\u043A\u0438"),T(),b(15,"button",6),$("click",function(){return o.filterByCategory("\u041D\u0430\u0432\u0443\u0448\u043D\u0438\u043A\u0438")}),R(16,"\u041D\u0430\u0432\u0443\u0448\u043D\u0438\u043A\u0438"),T(),b(17,"button",6),$("click",function(){return o.filterByCategory("\u0422\u0443\u0440\u0438\u0441\u0442\u0438\u0447\u043D\u0456 \u041A\u0430\u043C\u0435\u0440\u0438")}),R(18,"\u0422\u0443\u0440\u0438\u0441\u0442\u0438\u0447\u043D\u0456 \u041A\u0430\u043C\u0435\u0440\u0438"),T(),b(19,"button",6),$("click",function(){return o.filterByCategory("\u041D\u0430\u043C\u0435\u0442\u0438")}),R(20,"\u041D\u0430\u043C\u0435\u0442\u0438"),T()(),je(21,xz,27,7,"div",7)(22,Rz,29,7,"div",7),b(23,"div",8),je(24,Nz,18,6,"div",9),T()(),je(25,Oz,10,0,"div",10)),i&2&&(F(),oe("ngIf",!o.isSidebarPinned),F(),Pr("visible",o.isSidebarVisible||o.isSidebarPinned)("pinned",o.isSidebarPinned),F(4),Oe("ngModel",o.isSidebarPinned),F(15),oe("ngIf",!o.showEditForm),F(),oe("ngIf",o.showEditForm),F(),Pr("sidebar-pinned",o.isSidebarPinned),F(),oe("ngForOf",o.filteredProducts),F(),oe("ngIf",o.showModal))},dependencies:[Tt,bi,Xn,gr,Ta,qf,Gf,wn,Bw,Ru,Sa,pr,Da,$o,Ln,Bo],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:20px;max-width:1200px;margin:0 auto;padding:20px}.sidebar-toggle[_ngcontent-%COMP%]{position:fixed;top:76px;right:20px;z-index:1000;color:#fff;border:none;border-radius:50%;width:50px;height:50px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .3s ease}.sidebar-toggle[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.sidebar-toggle[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{fill:#fff;transition:transform .3s ease}.sidebar-toggle[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{transform:scale(1.1)}.sidebar[_ngcontent-%COMP%]{position:fixed;top:66px;right:-100%;width:300px;height:calc(100% - 69px);background:#fff;box-shadow:-4px 0 8px #0003;padding:20px;transition:right .3s ease,opacity .3s ease;overflow-y:auto;z-index:999}.sidebar.visible[_ngcontent-%COMP%]{right:0}.sidebar[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:15px;font-size:1.2rem;color:#333}.sidebar[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{display:block;width:100%;margin-bottom:10px}.sidebar.pinned[_ngcontent-%COMP%]{position:fixed;right:0;top:69px;height:calc(100% - 69px)}.product-list.sidebar-pinned[_ngcontent-%COMP%]{margin-right:320px}.pin-sidebar-option[_ngcontent-%COMP%]{margin-bottom:10px;display:flex;align-items:center}.pin-sidebar-option[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-left:5px;font-size:.9rem}.filter-container[_ngcontent-%COMP%]{position:absolute;top:10px;right:20px;display:flex;flex-wrap:wrap;gap:10px}.filter-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:8px 16px;font-size:.9rem}.product-list[_ngcontent-%COMP%]{flex:1;display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px}.product-form[_ngcontent-%COMP%]{flex:1;max-width:300px}.product-form[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;color:#333}.product-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:15px}.product-form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:5px;display:block;font-size:.9rem}.product-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .product-form[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .product-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px;border-radius:5px;border:1px solid #ccc;box-sizing:border-box}.product-item[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:8px;padding:15px;background:#f9f9f9;box-shadow:0 4px 6px #0000001a;transition:transform .3s ease}.product-item[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.product-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:150px;object-fit:cover;border-radius:5px;margin-bottom:10px}.product-item[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.2rem;color:#444}.product-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;color:#666}.product-item[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin-top:10px;padding:8px 16px;font-size:.8rem}.btn[_ngcontent-%COMP%]{padding:10px 20px;width:auto}.btn-success[_ngcontent-%COMP%]{background-color:#5cb85c;border-color:#5cb85c}.btn-success[_ngcontent-%COMP%]:hover{background-color:#218838;border-color:#1e7e34}.btn-danger[_ngcontent-%COMP%]{background-color:#d9534f;border-color:#d9534f}.btn-danger[_ngcontent-%COMP%]:hover{background-color:#c82333;border-color:#bd2130}.btn-warning[_ngcontent-%COMP%]{background-color:#f0ad4e;border-color:#f0ad4e}.btn-warning[_ngcontent-%COMP%]:hover{background-color:#ec971f;border-color:#d58512}.modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;align-items:center;justify-content:center}.modal-content[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:5px;box-shadow:0 0 10px #0000001a;text-align:center;width:300px;animation:_ngcontent-%COMP%_zoomIn .3s ease-in}.modal-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-top:0}.modal-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:10px}@keyframes _ngcontent-%COMP%_zoomIn{0%{transform:scale(.7);opacity:0}to{transform:scale(1);opacity:1}}@media (max-width: 480px){.sidebar[_ngcontent-%COMP%]{width:100%}.product-list[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media (max-width: 768px){.container[_ngcontent-%COMP%]{flex-direction:column;padding:10px}.filter-container[_ngcontent-%COMP%]{position:static;justify-content:center;margin-top:20px}.product-form[_ngcontent-%COMP%]{max-width:100%}.product-item[_ngcontent-%COMP%]{text-align:center}.modal-content[_ngcontent-%COMP%]{width:90%}.sidebar[_ngcontent-%COMP%]{width:80%}.product-list.sidebar-pinned[_ngcontent-%COMP%]{margin-right:0}.product-list[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(200px,1fr))}}@media (max-width: 768px) and (orientation: landscape){.container[_ngcontent-%COMP%]{padding:5px}.filter-container[_ngcontent-%COMP%]{gap:5px;margin-top:20px}.product-item[_ngcontent-%COMP%]{flex-direction:row;align-items:center;text-align:left}.product-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px;margin-right:10px}.btn[_ngcontent-%COMP%]{font-size:.8rem;padding:5px 10px}}@media (min-width: 769px) and (max-width: 1024px){.container[_ngcontent-%COMP%]{padding:15px}.modal-content[_ngcontent-%COMP%]{width:80%}}@media (min-width: 1025px) and (max-width: 1920px){.container[_ngcontent-%COMP%]{padding:20px}.modal-content[_ngcontent-%COMP%]{width:50%}}@media (min-width: 1921px){.container[_ngcontent-%COMP%]{max-width:1600px;padding:20px}.modal-content[_ngcontent-%COMP%]{width:40%}}"]});let t=e;return t})();var BP=(()=>{let e=class e{constructor(){this.firstDigit="4",this.secondDigit="0",this.thirdDigit="4"}randomNum(){return Math.floor(Math.random()*9)+1}ngOnInit(){let r=0,i=30,o=setInterval(()=>{r>40?(clearInterval(o),this.thirdDigit="4"):(this.thirdDigit=this.randomNum().toString(),r++)},i),s=setInterval(()=>{r>80?(clearInterval(s),this.secondDigit="0"):(this.secondDigit=this.randomNum().toString(),r++)},i),a=setInterval(()=>{r>100?(clearInterval(a),this.firstDigit="4"):(this.firstDigit=this.randomNum().toString(),r++)},i)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Je({type:e,selectors:[["app-not-found"]],standalone:!0,features:[Ze],decls:22,vars:3,consts:[[1,"error","d-flex","justify-content-center","align-items-center","vh-50","bg-light"],[1,"container","text-center"],[1,"container-error-404"],[1,"clip"],[1,"shadow"],[1,"digit","thirdDigit"],[1,"digit","secondDigit"],[1,"digit","firstDigit"],[1,"msg"],[1,"triangle"],[1,"h1"],["routerLink","/",1,"btn","btn-primary"]],template:function(i,o){i&1&&(b(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"span",5),R(6),T()()(),b(7,"div",3)(8,"div",4)(9,"span",6),R(10),T()()(),b(11,"div",3)(12,"div",4)(13,"span",7),R(14),T()()(),b(15,"div",8),R(16,"OH!"),ue(17,"span",9),T()(),b(18,"h2",10),R(19,"\u0412\u0438\u0431\u0430\u0447\u0442\u0435! \u0421\u0442\u043E\u0440\u0456\u043D\u043A\u0430 \u043D\u0435 \u0437\u043D\u0430\u0439\u0434\u0435\u043D\u0430."),T(),b(20,"a",11),R(21,"\u041F\u0435\u0440\u0435\u0439\u0442\u0438 \u043D\u0430 \u0433\u043E\u043B\u043E\u0432\u043D\u0443"),T()()()),i&2&&(F(6),$e(o.thirdDigit),F(4),$e(o.secondDigit),F(4),$e(o.firstDigit))},dependencies:[Tt,Bs,js],styles:['*[_ngcontent-%COMP%]{font-family:PT Sans Caption,sans-serif,arial,Times New Roman;box-sizing:border-box}.error[_ngcontent-%COMP%]{background-color:#f8f9fa}.error[_ngcontent-%COMP%]   .container-error-404[_ngcontent-%COMP%]{position:relative;height:250px;padding-top:40px;text-align:center}.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]{display:inline-block;transform:skew(-45deg)}.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]   .shadow[_ngcontent-%COMP%]{height:180px;overflow:hidden}.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]:nth-of-type(2)   .shadow[_ngcontent-%COMP%]{width:130px;position:relative;box-shadow:inset 20px 0 20px -15px #969696cc,20px 0 20px -15px #969696cc}.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]:nth-of-type(3)   .shadow[_ngcontent-%COMP%]:after, .error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]:nth-of-type(1)   .shadow[_ngcontent-%COMP%]:after{content:"";position:absolute;right:-8px;bottom:0;z-index:9999;height:100%;width:10px;background:linear-gradient(90deg,transparent,rgba(173,173,173,.8),transparent);border-radius:50%}.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]:nth-of-type(3)   .shadow[_ngcontent-%COMP%]:after{left:-8px}.error[_ngcontent-%COMP%]   .digit[_ngcontent-%COMP%]{width:150px;height:150px;line-height:150px;font-size:120px;font-weight:700;color:#fff;background:#07b3f9;border-radius:50%;display:inline-block;transform:skew(45deg)}.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]:nth-of-type(2)   .digit[_ngcontent-%COMP%]{left:-10%}.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]:nth-of-type(1)   .digit[_ngcontent-%COMP%]{right:-20%}.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]:nth-of-type(3)   .digit[_ngcontent-%COMP%]{left:-20%}.error[_ngcontent-%COMP%]   .msg[_ngcontent-%COMP%]{position:relative;z-index:9999;background:#535353;color:#a2a2a2;border-radius:50%;font-style:italic;display:block;width:80px;height:80px;line-height:80px;font-size:32px;top:-190px;left:30%}.error[_ngcontent-%COMP%]   span.triangle[_ngcontent-%COMP%]{position:absolute;z-index:999;transform:rotate(45deg);content:"";width:0;height:0;border-left:20px solid #535353;border-top:15px solid transparent;border-bottom:15px solid transparent;top:70%;right:0}.error[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#a2a2a2;font-weight:700;padding-bottom:20px;font-size:32px}.error[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;font-weight:700}.error[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}@media (max-width: 767px){.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]   .shadow[_ngcontent-%COMP%]{height:100px}.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]:nth-of-type(2)   .shadow[_ngcontent-%COMP%]{width:80px}.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]:nth-of-type(1)   .shadow[_ngcontent-%COMP%], .error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]:nth-of-type(3)   .shadow[_ngcontent-%COMP%]{width:100px}.error[_ngcontent-%COMP%]   .digit[_ngcontent-%COMP%]{width:80px;height:80px;line-height:80px;font-size:52px}.error[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px}.error[_ngcontent-%COMP%]   .msg[_ngcontent-%COMP%]{top:-110px;left:15%;width:40px;height:40px;line-height:40px;font-size:18px}.error[_ngcontent-%COMP%]   span.triangle[_ngcontent-%COMP%]{border-left:10px solid #535353;border-top:8px solid transparent;border-bottom:8px solid transparent}.error[_ngcontent-%COMP%]   .container-error-404[_ngcontent-%COMP%]{height:150px}}']});let t=e;return t})();function kz(t,e){if(t&1&&(b(0,"p",10),R(1),T()),t&2){let n=te();F(),$e(n.errorMessage)}}var $P=(()=>{let e=class e{constructor(r){this.router=r,this.username="",this.password="",this.errorMessage=""}login(){this.username==="admin"&&this.password==="Uthjtdlytghf73"?this.router.navigate(["/admin"]):this.errorMessage="\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u043B\u043E\u0433\u0456\u043D \u0430\u0431\u043E \u043F\u0430\u0440\u043E\u043B\u044C"}};e.\u0275fac=function(i){return new(i||e)(B(wt))},e.\u0275cmp=Je({type:e,selectors:[["app-admin-login"]],standalone:!0,features:[Ze],decls:14,vars:3,consts:[[1,"login-container"],[1,"login-form",3,"ngSubmit"],["src","./icons/logo.png","alt","Logo",1,"logo"],[1,"form-group"],["for","username"],["id","username","name","username","placeholder","\u041B\u043E\u0433\u0456\u043D","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","password"],["id","password","type","password","name","password","placeholder","\u041F\u0430\u0440\u043E\u043B\u044C","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-success"],["class","text-danger",4,"ngIf"],[1,"text-danger"]],template:function(i,o){i&1&&(b(0,"div",0)(1,"form",1),$("ngSubmit",function(){return o.login()}),ue(2,"img",2),b(3,"div",3)(4,"label",4),R(5,"\u041B\u043E\u0433\u0456\u043D"),T(),b(6,"input",5),ke("ngModelChange",function(a){return Ue(o.username,a)||(o.username=a),a}),T()(),b(7,"div",3)(8,"label",6),R(9,"\u041F\u0430\u0440\u043E\u043B\u044C"),T(),b(10,"input",7),ke("ngModelChange",function(a){return Ue(o.password,a)||(o.password=a),a}),T()(),b(11,"button",8),R(12,"\u0412\u0445\u0456\u0434"),T(),je(13,kz,2,1,"p",9),T()()),i&2&&(F(6),Oe("ngModel",o.username),F(4),Oe("ngModel",o.password),F(3),oe("ngIf",o.errorMessage))},dependencies:[Tt,Xn,gr,Ta,wn,pr,Da,$o,Ln,Bo],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:70vh;background-color:#f8f9fa}.login-form[_ngcontent-%COMP%]{background:#fff;padding:2rem;border-radius:8px;box-shadow:0 0 10px #0000001a;text-align:center}.logo[_ngcontent-%COMP%]{max-width:100px;margin-bottom:1rem}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.btn-success[_ngcontent-%COMP%]{background-color:#28a745;border-color:#28a745}.btn-success[_ngcontent-%COMP%]:hover{background-color:#218838;border-color:#1e7e34}"]});let t=e;return t})();var HP=[{path:"",component:kP},{path:"header",component:Pf},{path:"cart",component:VP},{path:"product/:id",component:LP},{path:"admin-login",component:$P},{path:"admin",component:UP},{path:"**",component:BP}];var Hw={production:!1,firebase:{apiKey:"AIzaSyCDXEjp5yiLttF-2eUZKNHH6z3Y755yws8",authDomain:"hiking-equipment-store.firebaseapp.com",databaseURL:"https://hiking-equipment-store-default-rtdb.europe-west1.firebasedatabase.app",projectId:"hiking-equipment-store",storageBucket:"hiking-equipment-store.appspot.com",messagingSenderId:"553591568312",appId:"1:553591568312:web:c4e43771d9e053d6d6814d",measurementId:"G-C3M4EFX3LH",firestore:{rules_version:"2"}},appCheck:{recaptchaSiteKey:"6LeykZMqAAAAAFddpBQyGNnkKElOUDDIMdroXsYV"}};IT(uP,{providers:[hS(HP),hy(),VA(()=>LA()),GS(()=>WS(Hw.firebase)),Nx(()=>Vx()),sP(()=>cP(void 0,{provider:new kf(Hw.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}).catch(t=>console.error(t));
