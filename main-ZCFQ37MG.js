var _M=Object.defineProperty,wM=Object.defineProperties;var IM=Object.getOwnPropertyDescriptors;var B0=Object.getOwnPropertySymbols;var EM=Object.prototype.hasOwnProperty,CM=Object.prototype.propertyIsEnumerable;var $0=(t,e,n)=>e in t?_M(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,j=(t,e)=>{for(var n in e||={})EM.call(e,n)&&$0(t,n,e[n]);if(B0)for(var n of B0(e))CM.call(e,n)&&$0(t,n,e[n]);return t},be=(t,e)=>wM(t,IM(e));var M=(t,e,n)=>new Promise((r,i)=>{var o=u=>{try{a(n.next(u))}catch(l){i(l)}},s=u=>{try{a(n.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((n=n.apply(t,e)).next())});var sf=null;var of=1,af=Symbol("SIGNAL");function Se(t){let e=sf;return sf=t,e}function H0(){return sf}var cf={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function bM(t){if(!(ff(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===of)){if(!t.producerMustRecompute(t)&&!lf(t)){t.dirty=!1,t.lastCleanEpoch=of;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=of}}function uf(t){return t&&(t.nextProducerIndex=0),Se(t)}function q0(t,e){if(Se(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(ff(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)hf(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function lf(t){pf(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(bM(n),r!==n.version))return!0}return!1}function df(t){if(pf(t),ff(t))for(let e=0;e<t.producerNode.length;e++)hf(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function hf(t,e){if(DM(t),t.liveConsumerNode.length===1&&TM(t))for(let r=0;r<t.producerNode.length;r++)hf(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];pf(i),i.producerIndexOfThis[r]=e}}function ff(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function pf(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function DM(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function TM(t){return t.producerNode!==void 0}function SM(){throw new Error}var AM=SM;function z0(t){AM=t}function ce(t){return typeof t=="function"}function oo(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var ru=oo(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function fi(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var qe=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(ce(r))try{r()}catch(o){e=o instanceof ru?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{G0(o)}catch(s){e=e??[],s instanceof ru?e=[...e,...s.errors]:e.push(s)}}if(e)throw new ru(e)}}add(e){var n;if(e&&e!==this)if(this.closed)G0(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&fi(n,e)}remove(e){let{_finalizers:n}=this;n&&fi(n,e),e instanceof t&&e._removeParent(this)}};qe.EMPTY=(()=>{let t=new qe;return t.closed=!0,t})();var mf=qe.EMPTY;function iu(t){return t instanceof qe||t&&"closed"in t&&ce(t.remove)&&ce(t.add)&&ce(t.unsubscribe)}function G0(t){ce(t)?t():t.unsubscribe()}var cn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var so={setTimeout(t,e,...n){let{delegate:r}=so;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=so;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function ou(t){so.setTimeout(()=>{let{onUnhandledError:e}=cn;if(e)e(t);else throw t})}function ta(){}var W0=gf("C",void 0,void 0);function K0(t){return gf("E",void 0,t)}function Q0(t){return gf("N",t,void 0)}function gf(t,e,n){return{kind:t,value:e,error:n}}var pi=null;function ao(t){if(cn.useDeprecatedSynchronousErrorHandling){let e=!pi;if(e&&(pi={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=pi;if(pi=null,n)throw r}}else t()}function Y0(t){cn.useDeprecatedSynchronousErrorHandling&&pi&&(pi.errorThrown=!0,pi.error=t)}var mi=class extends qe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,iu(e)&&e.add(this)):this.destination=RM}static create(e,n,r){return new co(e,n,r)}next(e){this.isStopped?vf(Q0(e),this):this._next(e)}error(e){this.isStopped?vf(K0(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?vf(W0,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},MM=Function.prototype.bind;function yf(t,e){return MM.call(t,e)}var _f=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){su(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){su(r)}else su(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){su(n)}}},co=class extends mi{constructor(e,n,r){super();let i;if(ce(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&cn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&yf(e.next,o),error:e.error&&yf(e.error,o),complete:e.complete&&yf(e.complete,o)}):i=e}this.destination=new _f(i)}};function su(t){cn.useDeprecatedSynchronousErrorHandling?Y0(t):ou(t)}function xM(t){throw t}function vf(t,e){let{onStoppedNotification:n}=cn;n&&so.setTimeout(()=>n(t,e))}var RM={closed:!0,next:ta,error:xM,complete:ta};var uo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ut(t){return t}function au(...t){return wf(t)}function wf(t){return t.length===0?Ut:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var ue=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=NM(n)?n:new co(n,r,i);return ao(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=J0(r),new r((i,o)=>{let s=new co({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[uo](){return this}pipe(...n){return wf(n)(this)}toPromise(n){return n=J0(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function J0(t){var e;return(e=t??cn.Promise)!==null&&e!==void 0?e:Promise}function PM(t){return t&&ce(t.next)&&ce(t.error)&&ce(t.complete)}function NM(t){return t&&t instanceof mi||PM(t)&&iu(t)}function If(t){return ce(t?.lift)}function we(t){return e=>{if(If(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ye(t,e,n,r,i){return new Ef(t,e,n,r,i)}var Ef=class extends mi{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function lo(){return we((t,e)=>{let n=null;t._refCount++;let r=ye(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var ho=class extends ue{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,If(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new qe;let n=this.getSubject();e.add(this.source.subscribe(ye(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=qe.EMPTY)}return e}refCount(){return lo()(this)}};var Z0=oo(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ot=(()=>{class t extends ue{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new cu(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Z0}next(n){ao(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){ao(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){ao(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?mf:(this.currentObservers=null,o.push(n),new qe(()=>{this.currentObservers=null,fi(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new ue;return n.source=this,n}}return t.create=(e,n)=>new cu(e,n),t})(),cu=class extends ot{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:mf}};var Ye=class extends ot{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Cf={now(){return(Cf.delegate||Date).now()},delegate:void 0};var uu=class extends qe{constructor(e,n){super()}schedule(e,n=0){return this}};var na={setInterval(t,e,...n){let{delegate:r}=na;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=na;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var fo=class extends uu{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return na.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&na.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,fi(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var po=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};po.now=Cf.now;var mo=class extends po{constructor(e,n=po.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var lu=new mo(fo),bf=lu;var du=class extends fo{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var hu=class extends mo{};var Df=new hu(du);var jt=new ue(t=>t.complete());function fu(t){return t&&ce(t.schedule)}function X0(t){return t[t.length-1]}function pu(t){return ce(X0(t))?t.pop():void 0}function Tr(t){return fu(X0(t))?t.pop():void 0}function Tf(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function tw(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function ew(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function gi(t){return this instanceof gi?(this.v=t,this):new gi(t)}function nw(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i={},a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(T){return Promise.resolve(T).then(y,p)}}function a(y,T){r[y]&&(i[y]=function(N){return new Promise(function(R,F){o.push([y,N,R,F])>1||u(y,N)})},T&&(i[y]=T(i[y])))}function u(y,T){try{l(r[y](T))}catch(N){g(o[0][3],N)}}function l(y){y.value instanceof gi?Promise.resolve(y.value.v).then(h,p):g(o[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function g(y,T){y(T),o.shift(),o.length&&u(o[0][0],o[0][1])}}function rw(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof ew=="function"?ew(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var mu=t=>t&&typeof t.length=="number"&&typeof t!="function";function gu(t){return ce(t?.then)}function yu(t){return ce(t[uo])}function vu(t){return Symbol.asyncIterator&&ce(t?.[Symbol.asyncIterator])}function _u(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function OM(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var wu=OM();function Iu(t){return ce(t?.[wu])}function Eu(t){return nw(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield gi(n.read());if(i)return yield gi(void 0);yield yield gi(r)}}finally{n.releaseLock()}})}function Cu(t){return ce(t?.getReader)}function Je(t){if(t instanceof ue)return t;if(t!=null){if(yu(t))return kM(t);if(mu(t))return FM(t);if(gu(t))return VM(t);if(vu(t))return iw(t);if(Iu(t))return LM(t);if(Cu(t))return UM(t)}throw _u(t)}function kM(t){return new ue(e=>{let n=t[uo]();if(ce(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function FM(t){return new ue(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function VM(t){return new ue(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,ou)})}function LM(t){return new ue(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function iw(t){return new ue(e=>{jM(t,e).catch(n=>e.error(n))})}function UM(t){return iw(Eu(t))}function jM(t,e){var n,r,i,o;return tw(this,void 0,void 0,function*(){try{for(n=rw(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function Ot(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Sr(t,e=0){return we((n,r)=>{n.subscribe(ye(r,i=>Ot(r,t,()=>r.next(i),e),()=>Ot(r,t,()=>r.complete(),e),i=>Ot(r,t,()=>r.error(i),e)))})}function Ar(t,e=0){return we((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function ow(t,e){return Je(t).pipe(Ar(e),Sr(e))}function sw(t,e){return Je(t).pipe(Ar(e),Sr(e))}function aw(t,e){return new ue(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function cw(t,e){return new ue(n=>{let r;return Ot(n,e,()=>{r=t[wu](),Ot(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>ce(r?.return)&&r.return()})}function bu(t,e){if(!t)throw new Error("Iterable cannot be null");return new ue(n=>{Ot(n,e,()=>{let r=t[Symbol.asyncIterator]();Ot(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function uw(t,e){return bu(Eu(t),e)}function lw(t,e){if(t!=null){if(yu(t))return ow(t,e);if(mu(t))return aw(t,e);if(gu(t))return sw(t,e);if(vu(t))return bu(t,e);if(Iu(t))return cw(t,e);if(Cu(t))return uw(t,e)}throw _u(t)}function Oe(t,e){return e?lw(t,e):Je(t)}function G(...t){let e=Tr(t);return Oe(t,e)}function go(t,e){let n=ce(t)?t:()=>t,r=i=>i.error(n());return new ue(e?i=>e.schedule(r,0,i):r)}function Sf(t){return!!t&&(t instanceof ue||ce(t.lift)&&ce(t.subscribe))}var Qn=oo(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function dw(t){return t instanceof Date&&!isNaN(t)}function ie(t,e){return we((n,r)=>{let i=0;n.subscribe(ye(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:BM}=Array;function $M(t,e){return BM(e)?t(...e):t(e)}function Du(t){return ie(e=>$M(t,e))}var{isArray:HM}=Array,{getPrototypeOf:qM,prototype:zM,keys:GM}=Object;function Tu(t){if(t.length===1){let e=t[0];if(HM(e))return{args:e,keys:null};if(WM(e)){let n=GM(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function WM(t){return t&&typeof t=="object"&&qM(t)===zM}function Su(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function ra(...t){let e=Tr(t),n=pu(t),{args:r,keys:i}=Tu(t);if(r.length===0)return Oe([],e);let o=new ue(KM(r,e,i?s=>Su(i,s):Ut));return n?o.pipe(Du(n)):o}function KM(t,e,n=Ut){return r=>{hw(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)hw(e,()=>{let l=Oe(t[u],e),h=!1;l.subscribe(ye(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function hw(t,e,n){t?Ot(n,t,e):e()}function fw(t,e,n,r,i,o,s,a){let u=[],l=0,h=0,p=!1,g=()=>{p&&!u.length&&!l&&e.complete()},y=N=>l<r?T(N):u.push(N),T=N=>{o&&e.next(N),l++;let R=!1;Je(n(N,h++)).subscribe(ye(e,F=>{i?.(F),o?y(F):e.next(F)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let F=u.shift();s?Ot(e,s,()=>T(F)):T(F)}g()}catch(F){e.error(F)}}))};return t.subscribe(ye(e,y,()=>{p=!0,g()})),()=>{a?.()}}function Ze(t,e,n=1/0){return ce(e)?Ze((r,i)=>ie((o,s)=>e(r,o,i,s))(Je(t(r,i))),n):(typeof e=="number"&&(n=e),we((r,i)=>fw(r,i,t,n)))}function Mr(t=1/0){return Ze(Ut,t)}function pw(){return Mr(1)}function yo(...t){return pw()(Oe(t,Tr(t)))}function Au(t){return new ue(e=>{Je(t()).subscribe(e)})}function Af(...t){let e=pu(t),{args:n,keys:r}=Tu(t),i=new ue(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;Je(n[h]).subscribe(ye(o,g=>{p||(p=!0,l--),a[h]=g},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?Su(r,a):a),o.complete())}))}});return e?i.pipe(Du(e)):i}function Mf(t=0,e,n=bf){let r=-1;return e!=null&&(fu(e)?n=e:r=e),new ue(i=>{let o=dw(t)?+t-n.now():t;o<0&&(o=0);let s=0;return n.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function St(t,e){return we((n,r)=>{let i=0;n.subscribe(ye(r,o=>t.call(e,o,i++)&&r.next(o)))})}function En(t){return we((e,n)=>{let r=null,i=!1,o;r=e.subscribe(ye(n,void 0,void 0,s=>{o=Je(t(s,En(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function mw(t,e,n,r,i){return(o,s)=>{let a=n,u=e,l=0;o.subscribe(ye(s,h=>{let p=l++;u=a?t(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function Yn(t,e){return ce(e)?Ze(t,e,1):Ze(t,1)}function xr(t){return we((e,n)=>{let r=!1;e.subscribe(ye(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Jn(t){return t<=0?()=>jt:we((e,n)=>{let r=0;e.subscribe(ye(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function xf(t){return ie(()=>t)}function Mu(t=QM){return we((e,n)=>{let r=!1;e.subscribe(ye(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function QM(){return new Qn}function Rr(t){return we((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Cn(t,e){let n=arguments.length>=2;return r=>r.pipe(t?St((i,o)=>t(i,o,r)):Ut,Jn(1),n?xr(e):Mu(()=>new Qn))}function vo(t){return t<=0?()=>jt:we((e,n)=>{let r=[];e.subscribe(ye(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Rf(t,e){let n=arguments.length>=2;return r=>r.pipe(t?St((i,o)=>t(i,o,r)):Ut,vo(1),n?xr(e):Mu(()=>new Qn))}function xu(t,e){return we(mw(t,e,arguments.length>=2,!0))}function Ru(...t){let e=Tr(t);return we((n,r)=>{(e?yo(t,n,e):yo(t,n)).subscribe(r)})}function kt(t,e){return we((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(ye(r,u=>{i?.unsubscribe();let l=0,h=o++;Je(t(u,h)).subscribe(i=ye(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Pf(t){return we((e,n)=>{Je(t).subscribe(ye(n,()=>n.complete(),ta)),!n.closed&&e.subscribe(n)})}function Xe(t,e,n){let r=ce(t)||e||n?{next:t,error:e,complete:n}:t;return r?we((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(ye(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Ut}var tI="https://g.co/ng/security#xss",Q=class extends Error{constructor(e,n){super(dl(e,n)),this.code=e}};function dl(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function fa(t){return{toString:t}.toString()}var Pu="__parameters__";function YM(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function nI(t,e,n){return fa(()=>{let r=YM(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(Pu)?u[Pu]:Object.defineProperty(u,Pu,{value:[]})[Pu];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var oa=globalThis;function ke(t){for(let e in t)if(t[e]===ke)return e;throw Error("Could not find renamed property on target object.")}function JM(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Mt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Mt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function gw(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var ZM=ke({__forward_ref__:ke});function Rn(t){return t.__forward_ref__=Rn,t.toString=function(){return Mt(this())},t}function At(t){return rI(t)?t():t}function rI(t){return typeof t=="function"&&t.hasOwnProperty(ZM)&&t.__forward_ref__===Rn}function B(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function fn(t){return{providers:t.providers||[],imports:t.imports||[]}}function hl(t){return yw(t,oI)||yw(t,sI)}function iI(t){return hl(t)!==null}function yw(t,e){return t.hasOwnProperty(e)?t[e]:null}function XM(t){let e=t&&(t[oI]||t[sI]);return e||null}function vw(t){return t&&(t.hasOwnProperty(_w)||t.hasOwnProperty(ex))?t[_w]:null}var oI=ke({\u0275prov:ke}),_w=ke({\u0275inj:ke}),sI=ke({ngInjectableDef:ke}),ex=ke({ngInjectorDef:ke}),H=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=B({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function aI(t){return t&&!!t.\u0275providers}var tx=ke({\u0275cmp:ke}),nx=ke({\u0275dir:ke}),rx=ke({\u0275pipe:ke}),ix=ke({\u0275mod:ke}),$u=ke({\u0275fac:ke}),ia=ke({__NG_ELEMENT_ID__:ke}),ww=ke({__NG_ENV_ID__:ke});function bo(t){return typeof t=="string"?t:t==null?"":String(t)}function ox(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():bo(t)}function sx(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new Q(-200,t)}function Bp(t,e){throw new Q(-201,!1)}var ge=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ge||{}),Wf;function cI(){return Wf}function Ft(t){let e=Wf;return Wf=t,e}function uI(t,e,n){let r=hl(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&ge.Optional)return null;if(e!==void 0)return e;Bp(t,"Injector")}var ax={},sa=ax,Kf="__NG_DI_FLAG__",Hu="ngTempTokenPath",cx="ngTokenPath",ux=/\n/gm,lx="\u0275",Iw="__source",Eo;function dx(){return Eo}function Pr(t){let e=Eo;return Eo=t,e}function hx(t,e=ge.Default){if(Eo===void 0)throw new Q(-203,!1);return Eo===null?uI(t,void 0,e):Eo.get(t,e&ge.Optional?null:void 0,e)}function Y(t,e=ge.Default){return(cI()||hx)(At(t),e)}function k(t,e=ge.Default){return Y(t,fl(e))}function fl(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Qf(t){let e=[];for(let n=0;n<t.length;n++){let r=At(t[n]);if(Array.isArray(r)){if(r.length===0)throw new Q(900,!1);let i,o=ge.Default;for(let s=0;s<r.length;s++){let a=r[s],u=fx(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(Y(i,o))}else e.push(Y(r))}return e}function lI(t,e){return t[Kf]=e,t.prototype[Kf]=e,t}function fx(t){return t[Kf]}function px(t,e,n,r){let i=t[Hu];throw e[Iw]&&i.unshift(e[Iw]),t.message=mx(`
`+t.message,i,n,r),t[cx]=i,t[Hu]=null,t}function mx(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==lx?t.slice(2):t;let i=Mt(e);if(Array.isArray(e))i=e.map(Mt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Mt(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(ux,`
  `)}`}var Jt=lI(nI("Optional"),8);var $p=lI(nI("SkipSelf"),4);function _i(t,e){let n=t.hasOwnProperty($u);return n?t[$u]:null}function gx(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function yx(t){return t.flat(Number.POSITIVE_INFINITY)}function Hp(t,e){t.forEach(n=>Array.isArray(n)?Hp(n,e):e(n))}function dI(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function qu(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function vx(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function _x(t,e,n){let r=pa(t,e);return r>=0?t[r|1]=n:(r=~r,vx(t,r,e,n)),r}function Nf(t,e){let n=pa(t,e);if(n>=0)return t[n|1]}function pa(t,e){return wx(t,e,1)}function wx(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var Do={},Qt=[],To=new H(""),hI=new H("",-1),fI=new H(""),zu=class{get(e,n=sa){if(n===sa){let r=new Error(`NullInjectorError: No provider for ${Mt(e)}!`);throw r.name="NullInjectorError",r}return n}},pI=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(pI||{}),Tn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Tn||{}),So=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(So||{});function Ix(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function Yf(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];Ex(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function mI(t){return t===3||t===4||t===6}function Ex(t){return t.charCodeAt(0)===64}function aa(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Ew(t,n,i,null,e[++r]):Ew(t,n,i,null,null))}}return t}function Ew(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var gI="ng-template";function Cx(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&Ix(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(qp(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function qp(t){return t.type===4&&t.value!==gI}function bx(t,e,n){let r=t.type===4&&!n?gI:t.value;return e===r}function Dx(t,e,n){let r=4,i=t.attrs,o=i!==null?Ax(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!un(r)&&!un(u))return!1;if(s&&un(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!bx(t,u,n)||u===""&&e.length===1){if(un(r))return!1;s=!0}}else if(r&8){if(i===null||!Cx(t,i,u,n)){if(un(r))return!1;s=!0}}else{let l=e[++a],h=Tx(u,i,qp(t),n);if(h===-1){if(un(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(un(r))return!1;s=!0}}}}return un(r)||s}function un(t){return(t&1)===0}function Tx(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return Mx(e,t)}function Sx(t,e,n=!1){for(let r=0;r<e.length;r++)if(Dx(t,e[r],n))return!0;return!1}function Ax(t){for(let e=0;e<t.length;e++){let n=t[e];if(mI(n))return e}return t.length}function Mx(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function Cw(t,e){return t?":not("+e.trim()+")":e}function xx(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!un(s)&&(e+=Cw(o,i),i=""),r=s,o=o||!un(r);n++}return i!==""&&(e+=Cw(o,i)),e}function Rx(t){return t.map(xx).join(",")}function Px(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!un(i))break;i=o}r++}return{attrs:e,classes:n}}function Ge(t){return fa(()=>{let e=EI(t),n=be(j({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===pI.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Tn.Emulated,styles:t.styles||Qt,_:null,schemas:t.schemas||null,tView:null,id:""});CI(n);let r=t.dependencies;return n.directiveDefs=Dw(r,!1),n.pipeDefs=Dw(r,!0),n.id=kx(n),n})}function Nx(t){return Fr(t)||vI(t)}function Ox(t){return t!==null}function pn(t){return fa(()=>({type:t.type,bootstrap:t.bootstrap||Qt,declarations:t.declarations||Qt,imports:t.imports||Qt,exports:t.exports||Qt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function bw(t,e){if(t==null)return Do;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=So.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==So.None?[r,a]:r,e[o]=s):n[o]=r}return n}function Le(t){return fa(()=>{let e=EI(t);return CI(e),e})}function yI(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function Fr(t){return t[tx]||null}function vI(t){return t[nx]||null}function _I(t){return t[rx]||null}function wI(t){let e=Fr(t)||vI(t)||_I(t);return e!==null?e.standalone:!1}function II(t,e){let n=t[ix]||null;if(!n&&e===!0)throw new Error(`Type ${Mt(t)} does not have '\u0275mod' property.`);return n}function EI(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Do,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Qt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:bw(t.inputs,e),outputs:bw(t.outputs),debugInfo:null}}function CI(t){t.features?.forEach(e=>e(t))}function Dw(t,e){if(!t)return null;let n=e?_I:Nx;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(Ox)}function kx(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function nr(t){return{\u0275providers:t}}function Fx(...t){return{\u0275providers:bI(!0,t),\u0275fromNgModule:!0}}function bI(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return Hp(e,s=>{let a=s;Jf(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&DI(i,o),n}function DI(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];zp(i,o=>{e(o,r)})}}function Jf(t,e,n,r){if(t=At(t),!t)return!1;let i=null,o=vw(t),s=!o&&Fr(t);if(!o&&!s){let u=t.ngModule;if(o=vw(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)Jf(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{Hp(o.imports,h=>{Jf(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&DI(l,e)}if(!a){let l=_i(i)||(()=>new i);e({provide:i,useFactory:l,deps:Qt},i),e({provide:fI,useValue:i,multi:!0},i),e({provide:To,useValue:()=>Y(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=t;zp(u,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function zp(t,e){for(let n of t)aI(n)&&(n=n.\u0275providers),Array.isArray(n)?zp(n,e):e(n)}var Vx=ke({provide:String,useValue:ke});function TI(t){return t!==null&&typeof t=="object"&&Vx in t}function Lx(t){return!!(t&&t.useExisting)}function Ux(t){return!!(t&&t.useFactory)}function Ao(t){return typeof t=="function"}function jx(t){return!!t.useClass}var pl=new H(""),Fu={},Bx={},Of;function Gp(){return Of===void 0&&(Of=new zu),Of}var vt=class{},ca=class extends vt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Xf(e,s=>this.processProvider(s)),this.records.set(hI,_o(void 0,this)),i.has("environment")&&this.records.set(vt,_o(void 0,this));let o=this.records.get(pl);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(fI,Qt,ge.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Se(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Se(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Pr(this),r=Ft(void 0),i;try{return e()}finally{Pr(n),Ft(r)}}get(e,n=sa,r=ge.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(ww))return e[ww](this);r=fl(r);let i,o=Pr(this),s=Ft(void 0);try{if(!(r&ge.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=Gx(e)&&hl(e);l&&this.injectableDefInScope(l)?u=_o(Zf(e),Fu):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&ge.Self?Gp():this.parent;return n=r&ge.Optional&&n===sa?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Hu]=a[Hu]||[]).unshift(Mt(e)),o)throw a;return px(a,e,"R3InjectorError",this.source)}else throw a}finally{Ft(s),Pr(o)}}resolveInjectorInitializers(){let e=Se(null),n=Pr(this),r=Ft(void 0),i;try{let o=this.get(To,Qt,ge.Self);for(let s of o)s()}finally{Pr(n),Ft(r),Se(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Mt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Q(205,!1)}processProvider(e){e=At(e);let n=Ao(e)?e:At(e&&e.provide),r=Hx(e);if(!Ao(e)&&e.multi===!0){let i=this.records.get(n);i||(i=_o(void 0,Fu,!0),i.factory=()=>Qf(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=Se(null);try{return n.value===Fu&&(n.value=Bx,n.value=n.factory()),typeof n.value=="object"&&n.value&&zx(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Se(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=At(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Zf(t){let e=hl(t),n=e!==null?e.factory:_i(t);if(n!==null)return n;if(t instanceof H)throw new Q(204,!1);if(t instanceof Function)return $x(t);throw new Q(204,!1)}function $x(t){if(t.length>0)throw new Q(204,!1);let n=XM(t);return n!==null?()=>n.factory(t):()=>new t}function Hx(t){if(TI(t))return _o(void 0,t.useValue);{let e=SI(t);return _o(e,Fu)}}function SI(t,e,n){let r;if(Ao(t)){let i=At(t);return _i(i)||Zf(i)}else if(TI(t))r=()=>At(t.useValue);else if(Ux(t))r=()=>t.useFactory(...Qf(t.deps||[]));else if(Lx(t))r=()=>Y(At(t.useExisting));else{let i=At(t&&(t.useClass||t.provide));if(qx(t))r=()=>new i(...Qf(t.deps));else return _i(i)||Zf(i)}return r}function _o(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function qx(t){return!!t.deps}function zx(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function Gx(t){return typeof t=="function"||typeof t=="object"&&t instanceof H}function Xf(t,e){for(let n of t)Array.isArray(n)?Xf(n,e):n&&aI(n)?Xf(n.\u0275providers,e):e(n)}function $t(t,e){t instanceof ca&&t.assertNotDestroyed();let n,r=Pr(t),i=Ft(void 0);try{return e()}finally{Pr(r),Ft(i)}}function AI(){return cI()!==void 0||dx()!=null}function Wx(t){if(!AI())throw new Q(-203,!1)}function Kx(t){return typeof t=="function"}var rr=0,he=1,se=2,_t=3,ln=4,mn=5,Gu=6,Wu=7,dn=8,Mo=9,Sn=10,et=11,ua=12,Tw=13,Fo=14,An=15,wi=16,wo=17,Zn=18,ml=19,MI=20,Or=21,kf=22,Yt=23,hn=25,xI=1;var Ii=7,Ku=8,xo=9,Bt=10,Qu=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Qu||{});function kr(t){return Array.isArray(t)&&typeof t[xI]=="object"}function ir(t){return Array.isArray(t)&&t[xI]===!0}function RI(t){return(t.flags&4)!==0}function gl(t){return t.componentOffset>-1}function Wp(t){return(t.flags&1)===1}function Vr(t){return!!t.template}function ep(t){return(t[se]&512)!==0}var tp=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function PI(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function or(){return NI}function NI(t){return t.type.prototype.ngOnChanges&&(t.setInput=Yx),Qx}or.ngInherit=!0;function Qx(){let t=kI(this),e=t?.current;if(e){let n=t.previous;if(n===Do)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Yx(t,e,n,r,i){let o=this.declaredInputs[r],s=kI(t)||Jx(t,{previous:Do,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new tp(l&&l.currentValue,n,u===Do),PI(t,e,i,n)}var OI="__ngSimpleChanges__";function kI(t){return t[OI]||null}function Jx(t,e){return t[OI]=e}var Sw=null;var bn=function(t,e,n){Sw?.(t,e,n)},Zx="svg",Xx="math";function Mn(t){for(;Array.isArray(t);)t=t[rr];return t}function FI(t,e){return Mn(e[t])}function Zt(t,e){return Mn(e[t.index])}function VI(t,e){return t.data[e]}function LI(t,e){return t[e]}function Ur(t,e){let n=e[t];return kr(n)?n:n[rr]}function eR(t){return(t[se]&4)===4}function Kp(t){return(t[se]&128)===128}function tR(t){return ir(t[_t])}function Yu(t,e){return e==null?null:t[e]}function UI(t){t[wo]=0}function jI(t){t[se]&1024||(t[se]|=1024,Kp(t)&&yl(t))}function nR(t,e){for(;t>0;)e=e[Fo],t--;return e}function la(t){return!!(t[se]&9216||t[Yt]?.dirty)}function np(t){t[Sn].changeDetectionScheduler?.notify(7),t[se]&64&&(t[se]|=1024),la(t)&&yl(t)}function yl(t){t[Sn].changeDetectionScheduler?.notify(0);let e=Ei(t);for(;e!==null&&!(e[se]&8192||(e[se]|=8192,!Kp(e)));)e=Ei(e)}function BI(t,e){if((t[se]&256)===256)throw new Q(911,!1);t[Or]===null&&(t[Or]=[]),t[Or].push(e)}function rR(t,e){if(t[Or]===null)return;let n=t[Or].indexOf(e);n!==-1&&t[Or].splice(n,1)}function Ei(t){let e=t[_t];return ir(e)?e[_t]:e}var me={lFrame:ZI(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var $I=!1;function iR(){return me.lFrame.elementDepthCount}function oR(){me.lFrame.elementDepthCount++}function sR(){me.lFrame.elementDepthCount--}function HI(){return me.bindingsEnabled}function aR(){return me.skipHydrationRootTNode!==null}function cR(t){return me.skipHydrationRootTNode===t}function uR(){me.skipHydrationRootTNode=null}function Ie(){return me.lFrame.lView}function st(){return me.lFrame.tView}function ee(t){return me.lFrame.contextLView=t,t[dn]}function te(t){return me.lFrame.contextLView=null,t}function wt(){let t=qI();for(;t!==null&&t.type===64;)t=t.parent;return t}function qI(){return me.lFrame.currentTNode}function lR(){let t=me.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function ma(t,e){let n=me.lFrame;n.currentTNode=t,n.isParent=e}function zI(){return me.lFrame.isParent}function dR(){me.lFrame.isParent=!1}function hR(){return me.lFrame.contextLView}function GI(){return $I}function Aw(t){$I=t}function WI(){let t=me.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function fR(){return me.lFrame.bindingIndex}function pR(t){return me.lFrame.bindingIndex=t}function vl(){return me.lFrame.bindingIndex++}function KI(t){let e=me.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function mR(){return me.lFrame.inI18n}function gR(t,e){let n=me.lFrame;n.bindingIndex=n.bindingRootIndex=t,rp(e)}function yR(){return me.lFrame.currentDirectiveIndex}function rp(t){me.lFrame.currentDirectiveIndex=t}function vR(t){let e=me.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function QI(){return me.lFrame.currentQueryIndex}function Qp(t){me.lFrame.currentQueryIndex=t}function _R(t){let e=t[he];return e.type===2?e.declTNode:e.type===1?t[mn]:null}function YI(t,e,n){if(n&ge.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&ge.Host);)if(i=_R(o),i===null||(o=o[Fo],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=me.lFrame=JI();return r.currentTNode=e,r.lView=t,!0}function Yp(t){let e=JI(),n=t[he];me.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function JI(){let t=me.lFrame,e=t===null?null:t.child;return e===null?ZI(t):e}function ZI(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function XI(){let t=me.lFrame;return me.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var eE=XI;function Jp(){let t=XI();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function wR(t){return(me.lFrame.contextLView=nR(t,me.lFrame.contextLView))[dn]}function xi(){return me.lFrame.selectedIndex}function Ci(t){me.lFrame.selectedIndex=t}function _l(){let t=me.lFrame;return VI(t.tView,t.selectedIndex)}function IR(){return me.lFrame.currentNamespace}var tE=!0;function Zp(){return tE}function Xp(t){tE=t}function ER(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=NI(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function em(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function Vu(t,e,n){nE(t,e,3,n)}function Lu(t,e,n,r){(t[se]&3)===n&&nE(t,e,n,r)}function Ff(t,e){let n=t[se];(n&3)===e&&(n&=16383,n+=1,t[se]=n)}function nE(t,e,n,r){let i=r!==void 0?t[wo]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[wo]+=65536),(a<o||o==-1)&&(CR(t,n,e,u),t[wo]=(t[wo]&4294901760)+u+2),u++}function Mw(t,e){bn(4,t,e);let n=Se(null);try{e.call(t)}finally{Se(n),bn(5,t,e)}}function CR(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[se]>>14<t[wo]>>16&&(t[se]&3)===e&&(t[se]+=16384,Mw(a,o)):Mw(a,o)}var Co=-1,bi=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function bR(t){return t instanceof bi}function DR(t){return(t.flags&8)!==0}function TR(t){return(t.flags&16)!==0}var Vf={},ip=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=fl(r);let i=this.injector.get(e,Vf,r);return i!==Vf||n===Vf?i:this.parentInjector.get(e,n,r)}};function rE(t){return t!==Co}function Ju(t){return t&32767}function SR(t){return t>>16}function Zu(t,e){let n=SR(t),r=e;for(;n>0;)r=r[Fo],n--;return r}var op=!0;function Xu(t){let e=op;return op=t,e}var AR=256,iE=AR-1,oE=5,MR=0,Dn={};function xR(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(ia)&&(r=n[ia]),r==null&&(r=n[ia]=MR++);let i=r&iE,o=1<<i;e.data[t+(i>>oE)]|=o}function el(t,e){let n=sE(t,e);if(n!==-1)return n;let r=e[he];r.firstCreatePass&&(t.injectorIndex=e.length,Lf(r.data,t),Lf(e,null),Lf(r.blueprint,null));let i=tm(t,e),o=t.injectorIndex;if(rE(i)){let s=Ju(i),a=Zu(i,e),u=a[he].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function Lf(t,e){t.push(0,0,0,0,0,0,0,0,e)}function sE(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function tm(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=dE(i),r===null)return Co;if(n++,i=i[Fo],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Co}function sp(t,e,n){xR(t,e,n)}function RR(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(mI(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function aE(t,e,n){if(n&ge.Optional||t!==void 0)return t;Bp(e,"NodeInjector")}function cE(t,e,n,r){if(n&ge.Optional&&r===void 0&&(r=null),!(n&(ge.Self|ge.Host))){let i=t[Mo],o=Ft(void 0);try{return i?i.get(e,r,n&ge.Optional):uI(e,r,n&ge.Optional)}finally{Ft(o)}}return aE(r,e,n)}function uE(t,e,n,r=ge.Default,i){if(t!==null){if(e[se]&2048&&!(r&ge.Self)){let s=kR(t,e,n,r,Dn);if(s!==Dn)return s}let o=lE(t,e,n,r,Dn);if(o!==Dn)return o}return cE(e,n,r,i)}function lE(t,e,n,r,i){let o=NR(n);if(typeof o=="function"){if(!YI(e,t,r))return r&ge.Host?aE(i,n,r):cE(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&ge.Optional))Bp(n);else return s}finally{eE()}}else if(typeof o=="number"){let s=null,a=sE(t,e),u=Co,l=r&ge.Host?e[An][mn]:null;for((a===-1||r&ge.SkipSelf)&&(u=a===-1?tm(t,e):e[a+8],u===Co||!Rw(r,!1)?a=-1:(s=e[he],a=Ju(u),e=Zu(u,e)));a!==-1;){let h=e[he];if(xw(o,a,h.data)){let p=PR(a,e,n,s,r,l);if(p!==Dn)return p}u=e[a+8],u!==Co&&Rw(r,e[he].data[a+8]===l)&&xw(o,a,e)?(s=h,a=Ju(u),e=Zu(u,e)):a=-1}}return i}function PR(t,e,n,r,i,o){let s=e[he],a=s.data[t+8],u=r==null?gl(a)&&op:r!=s&&(a.type&3)!==0,l=i&ge.Host&&o===a,h=Uu(a,s,n,u,l);return h!==null?Di(e,s,h,a):Dn}function Uu(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,u=t.directiveStart,l=t.directiveEnd,h=o>>20,p=r?a:a+h,g=i?a+h:l;for(let y=p;y<g;y++){let T=s[y];if(y<u&&n===T||y>=u&&T.type===n)return y}if(i){let y=s[u];if(y&&Vr(y)&&y.type===n)return u}return null}function Di(t,e,n,r){let i=t[n],o=e.data;if(bR(i)){let s=i;s.resolving&&sx(ox(o[n]));let a=Xu(s.canSeeViewProviders);s.resolving=!0;let u,l=s.injectImpl?Ft(s.injectImpl):null,h=YI(t,r,ge.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&ER(n,o[n],e)}finally{l!==null&&Ft(l),Xu(a),s.resolving=!1,eE()}}return i}function NR(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(ia)?t[ia]:void 0;return typeof e=="number"?e>=0?e&iE:OR:e}function xw(t,e,n){let r=1<<t;return!!(n[e+(t>>oE)]&r)}function Rw(t,e){return!(t&ge.Self)&&!(t&ge.Host&&e)}var vi=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return uE(this._tNode,this._lView,e,fl(r),n)}};function OR(){return new vi(wt(),Ie())}function sr(t){return fa(()=>{let e=t.prototype.constructor,n=e[$u]||ap(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[$u]||ap(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function ap(t){return rI(t)?()=>{let e=ap(At(t));return e&&e()}:_i(t)}function kR(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[se]&2048&&!(s[se]&512);){let a=lE(o,s,n,r|ge.Self,Dn);if(a!==Dn)return a;let u=o.parent;if(!u){let l=s[MI];if(l){let h=l.get(n,Dn,r);if(h!==Dn)return h}u=dE(s),s=s[Fo]}o=u}return i}function dE(t){let e=t[he],n=e.type;return n===2?e.declTNode:n===1?t[mn]:null}function nm(t){return RR(wt(),t)}function Pw(t,e=null,n=null,r){let i=hE(t,e,n,r);return i.resolveInjectorInitializers(),i}function hE(t,e=null,n=null,r,i=new Set){let o=[n||Qt,Fx(t)];return r=r||(typeof t=="object"?void 0:Mt(t)),new ca(o,e||Gp(),r||null,i)}var yi=class yi{static create(e,n){if(Array.isArray(e))return Pw({name:""},n,e,"");{let r=e.name??"";return Pw({name:r},e.parent,e.providers,r)}}};yi.THROW_IF_NOT_FOUND=sa,yi.NULL=new zu,yi.\u0275prov=B({token:yi,providedIn:"any",factory:()=>Y(hI)}),yi.__NG_ELEMENT_ID__=-1;var xt=yi;var FR=new H("");FR.__NG_ELEMENT_ID__=t=>{let e=wt();if(e===null)throw new Q(204,!1);if(e.type&2)return e.value;if(t&ge.Optional)return null;throw new Q(204,!1)};var VR="ngOriginalError";function Uf(t){return t[VR]}var xn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Uf(e);for(;n&&Uf(n);)n=Uf(n);return n||null}},fE=new H("",{providedIn:"root",factory:()=>k(xn).handleError.bind(void 0)}),rm=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=LR,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),cp=class extends rm{constructor(e){super(),this._lView=e}onDestroy(e){return BI(this._lView,e),()=>rR(this._lView,e)}};function LR(){return new cp(Ie())}function UR(){return Vo(wt(),Ie())}function Vo(t,e){return new Rt(Zt(t,e))}var Rt=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=UR;let t=e;return t})();function jR(t){return t instanceof Rt?t.nativeElement:t}var ar=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ye(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275prov=B({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();var up=class extends ot{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,AI()&&(this.destroyRef=k(rm,{optional:!0})??void 0,this.pendingTasks=k(ar,{optional:!0})??void 0)}emit(e){let n=Se(null);try{super.next(e)}finally{Se(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof qe&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},ze=up;function BR(){return this._results[Symbol.iterator]()}var lp=class t{get changes(){return this._changes??=new ze}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=BR)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=yx(e);(this._changesDetected=!gx(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function pE(t){return(t.flags&128)===128}var mE=new Map,$R=0;function HR(){return $R++}function qR(t){mE.set(t[ml],t)}function zR(t){mE.delete(t[ml])}var Nw="__ngContext__";function Ti(t,e){kr(e)?(t[Nw]=e[ml],qR(e)):t[Nw]=e}function gE(t){return vE(t[ua])}function yE(t){return vE(t[ln])}function vE(t){for(;t!==null&&!ir(t);)t=t[ln];return t}var dp;function _E(t){dp=t}function GR(){if(dp!==void 0)return dp;if(typeof document<"u")return document;throw new Q(210,!1)}var im=new H("",{providedIn:"root",factory:()=>WR}),WR="ng",om=new H(""),Vt=new H("",{providedIn:"platform",factory:()=>"unknown"});var sm=new H("",{providedIn:"root",factory:()=>GR().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var KR="h",QR="b";var YR=()=>null;function am(t,e,n=!1){return YR(t,e,n)}var wE=!1,JR=new H("",{providedIn:"root",factory:()=>wE});var Nu;function ZR(){if(Nu===void 0&&(Nu=null,oa.trustedTypes))try{Nu=oa.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Nu}function Ow(t){return ZR()?.createScriptURL(t)||t}var tl=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${tI})`}};function ga(t){return t instanceof tl?t.changingThisBreaksApplicationSecurity:t}function cm(t,e){let n=XR(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${tI})`)}return n===e}function XR(t){return t instanceof tl&&t.getTypeName()||null}var eP=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function IE(t){return t=String(t),t.match(eP)?t:"unsafe:"+t}var wl=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(wl||{});function Pn(t){let e=CE();return e?e.sanitize(wl.URL,t)||"":cm(t,"URL")?ga(t):IE(bo(t))}function tP(t){let e=CE();if(e)return Ow(e.sanitize(wl.RESOURCE_URL,t)||"");if(cm(t,"ResourceURL"))return Ow(ga(t));throw new Q(904,!1)}function nP(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?tP:Pn}function EE(t,e,n){return nP(e,n)(t)}function CE(){let t=Ie();return t&&t[Sn].sanitizer}function bE(t){return t instanceof Function?t():t}function rP(t){return(t??k(xt)).get(Vt)==="browser"}var Xn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Xn||{}),iP;function um(t,e){return iP(t,e)}function Io(t,e,n,r,i){if(r!=null){let o,s=!1;ir(r)?o=r:kr(r)&&(s=!0,r=r[rr]);let a=Mn(r);t===0&&n!==null?i==null?ME(e,n,a):nl(e,n,a,i||null,!0):t===1&&n!==null?nl(e,n,a,i||null,!0):t===2?wP(e,a,s):t===3&&e.destroyNode(a),o!=null&&EP(e,t,o,n,i)}}function oP(t,e){return t.createText(e)}function sP(t,e,n){t.setValue(e,n)}function DE(t,e,n){return t.createElement(e,n)}function aP(t,e){TE(t,e),e[rr]=null,e[mn]=null}function cP(t,e,n,r,i,o){r[rr]=i,r[mn]=e,Il(t,r,n,1,i,o)}function TE(t,e){e[Sn].changeDetectionScheduler?.notify(8),Il(t,e,e[et],2,null,null)}function uP(t){let e=t[ua];if(!e)return jf(t[he],t);for(;e;){let n=null;if(kr(e))n=e[ua];else{let r=e[Bt];r&&(n=r)}if(!n){for(;e&&!e[ln]&&e!==t;)kr(e)&&jf(e[he],e),e=e[_t];e===null&&(e=t),kr(e)&&jf(e[he],e),n=e&&e[ln]}e=n}}function lP(t,e,n,r){let i=Bt+r,o=n.length;r>0&&(n[i-1][ln]=e),r<o-Bt?(e[ln]=n[i],dI(n,Bt+r,e)):(n.push(e),e[ln]=null),e[_t]=n;let s=e[wi];s!==null&&n!==s&&SE(s,e);let a=e[Zn];a!==null&&a.insertView(t),np(e),e[se]|=128}function SE(t,e){let n=t[xo],r=e[_t];if(kr(r))t[se]|=Qu.HasTransplantedViews;else{let i=r[_t][An];e[An]!==i&&(t[se]|=Qu.HasTransplantedViews)}n===null?t[xo]=[e]:n.push(e)}function lm(t,e){let n=t[xo],r=n.indexOf(e);n.splice(r,1)}function hp(t,e){if(t.length<=Bt)return;let n=Bt+e,r=t[n];if(r){let i=r[wi];i!==null&&i!==t&&lm(i,r),e>0&&(t[n-1][ln]=r[ln]);let o=qu(t,Bt+e);aP(r[he],r);let s=o[Zn];s!==null&&s.detachView(o[he]),r[_t]=null,r[ln]=null,r[se]&=-129}return r}function AE(t,e){if(!(e[se]&256)){let n=e[et];n.destroyNode&&Il(t,e,n,3,null,null),uP(e)}}function jf(t,e){if(e[se]&256)return;let n=Se(null);try{e[se]&=-129,e[se]|=256,e[Yt]&&df(e[Yt]),hP(t,e),dP(t,e),e[he].type===1&&e[et].destroy();let r=e[wi];if(r!==null&&ir(e[_t])){r!==e[_t]&&lm(r,e);let i=e[Zn];i!==null&&i.detachView(t)}zR(e)}finally{Se(n)}}function dP(t,e){let n=t.cleanup,r=e[Wu];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[Wu]=null);let i=e[Or];if(i!==null){e[Or]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function hP(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof bi)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];bn(4,a,u);try{u.call(a)}finally{bn(5,a,u)}}else{bn(4,i,o);try{o.call(i)}finally{bn(5,i,o)}}}}}function fP(t,e,n){return pP(t,e.parent,n)}function pP(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[rr];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===Tn.None||o===Tn.Emulated)return null}return Zt(r,n)}}function nl(t,e,n,r,i){t.insertBefore(e,n,r,i)}function ME(t,e,n){t.appendChild(e,n)}function kw(t,e,n,r,i){r!==null?nl(t,e,n,r,i):ME(t,e,n)}function mP(t,e,n,r){t.removeChild(e,n,r)}function dm(t,e){return t.parentNode(e)}function gP(t,e){return t.nextSibling(e)}function yP(t,e,n){return _P(t,e,n)}function vP(t,e,n){return t.type&40?Zt(t,n):null}var _P=vP,Fw;function hm(t,e,n,r){let i=fP(t,r,e),o=e[et],s=r.parent||e[mn],a=yP(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)kw(o,i,n[u],a,!1);else kw(o,i,n,a,!1);Fw!==void 0&&Fw(o,r,e,n,i)}function ju(t,e){if(e!==null){let n=e.type;if(n&3)return Zt(e,t);if(n&4)return fp(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return ju(t,r);{let i=t[e.index];return ir(i)?fp(-1,i):Mn(i)}}else{if(n&32)return um(e,t)()||Mn(t[e.index]);{let r=xE(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Ei(t[An]);return ju(i,r)}else return ju(t,e.next)}}}return null}function xE(t,e){if(e!==null){let r=t[An][mn],i=e.projection;return r.projection[i]}return null}function fp(t,e){let n=Bt+t+1;if(n<e.length){let r=e[n],i=r[he].firstChild;if(i!==null)return ju(r,i)}return e[Ii]}function wP(t,e,n){let r=dm(t,e);r&&mP(t,r,e,n)}function fm(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],u=n.type;if(s&&e===0&&(a&&Ti(Mn(a),r),n.flags|=2),(n.flags&32)!==32)if(u&8)fm(t,e,n.child,r,i,o,!1),Io(e,t,i,a,o);else if(u&32){let l=um(n,r),h;for(;h=l();)Io(e,t,i,h,o);Io(e,t,i,a,o)}else u&16?IP(t,e,r,n,i,o):Io(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Il(t,e,n,r,i,o){fm(n,r,t.firstChild,e,i,o,!1)}function IP(t,e,n,r,i,o){let s=n[An],u=s[mn].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];Io(e,t,i,h,o)}else{let l=u,h=s[_t];pE(r)&&(l.flags|=128),fm(t,e,l,h,i,o,!0)}}function EP(t,e,n,r,i){let o=n[Ii],s=Mn(n);o!==s&&Io(e,t,r,o,i);for(let a=Bt;a<n.length;a++){let u=n[a];Il(u[he],u,t,e,r,o)}}function CP(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Xn.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Xn.Important),t.setStyle(n,r,i,o))}}function bP(t,e,n){t.setAttribute(e,"style",n)}function RE(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function PE(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&Yf(t,e,r),i!==null&&RE(t,e,i),o!==null&&bP(t,e,o)}var Nn={};function V(t=1){NE(st(),Ie(),xi()+t,!1)}function NE(t,e,n,r){if(!r)if((e[se]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Vu(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Lu(e,o,0,n)}Ci(n)}function $(t,e=ge.Default){let n=Ie();if(n===null)return Y(t,e);let r=wt();return uE(r,n,At(t),e)}function OE(){let t="invalid";throw new Error(t)}function kE(t,e,n,r,i,o){let s=Se(null);try{let a=null;i&So.SignalBased&&(a=e[r][af]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&So.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):PI(e,a,r,o)}finally{Se(s)}}function DP(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Ci(~i);else{let o=i,s=n[++r],a=n[++r];gR(s,o);let u=e[o];a(2,u)}}}finally{Ci(-1)}}function El(t,e,n,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[rr]=i,p[se]=r|4|128|8|64,(l!==null||t&&t[se]&2048)&&(p[se]|=2048),UI(p),p[_t]=p[Fo]=t,p[dn]=n,p[Sn]=s||t&&t[Sn],p[et]=a||t&&t[et],p[Mo]=u||t&&t[Mo]||null,p[mn]=o,p[ml]=HR(),p[Gu]=h,p[MI]=l,p[An]=e.type==2?t[An]:p,p}function Cl(t,e,n,r,i){let o=t.data[e];if(o===null)o=TP(t,e,n,r,i),mR()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=lR();o.injectorIndex=s===null?-1:s.injectorIndex}return ma(o,!0),o}function TP(t,e,n,r,i){let o=qI(),s=zI(),a=s?o:o&&o.parent,u=t.data[e]=PP(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),o!==null&&(s?o.child==null&&u.parent!==null&&(o.child=u):o.next===null&&(o.next=u,u.prev=o)),u}function FE(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function VE(t,e,n,r,i){let o=xi(),s=r&2;try{Ci(-1),s&&e.length>hn&&NE(t,e,hn,!1),bn(s?2:0,i),n(r,i)}finally{Ci(o),bn(s?3:1,i)}}function LE(t,e,n){if(RI(e)){let r=Se(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let u=n[s];a.contentQueries(1,u,s)}}}finally{Se(r)}}}function UE(t,e,n){HI()&&(LP(t,e,n,Zt(n,e)),(n.flags&64)===64&&qE(t,e,n))}function jE(t,e,n=Zt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function BE(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=pm(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function pm(t,e,n,r,i,o,s,a,u,l,h){let p=hn+r,g=p+i,y=SP(p,g),T=typeof l=="function"?l():l;return y[he]={type:t,blueprint:y,template:n,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:T,incompleteFirstPass:!1,ssrId:h}}function SP(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Nn);return n}function AP(t,e,n,r){let o=r.get(JR,wE)||n===Tn.ShadowDom,s=t.selectRootElement(e,o);return MP(s),s}function MP(t){xP(t)}var xP=()=>null;function RP(t,e,n,r){let i=WE(e);i.push(n),t.firstCreatePass&&KE(t).push(r,i.length-1)}function PP(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return aR()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Vw(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,u=So.None;Array.isArray(s)?(a=s[0],u=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}t===0?Lw(r,n,l,a,u):Lw(r,n,l,a)}return r}function Lw(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function NP(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],u=null,l=null;for(let h=r;h<i;h++){let p=o[h],g=n?n.get(p):null,y=g?g.inputs:null,T=g?g.outputs:null;u=Vw(0,p.inputs,h,u,y),l=Vw(1,p.outputs,h,l,T);let N=u!==null&&s!==null&&!qp(e)?QP(u,h,s):null;a.push(N)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}function OP(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function mm(t,e,n,r,i,o,s,a){let u=Zt(e,n),l=e.inputs,h;!a&&l!=null&&(h=l[r])?(gm(t,n,h,r,i),gl(e)&&kP(n,e.index)):e.type&3?(r=OP(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)):e.type&12}function kP(t,e){let n=Ur(e,t);n[se]&16||(n[se]|=64)}function $E(t,e,n,r){if(HI()){let i=r===null?null:{"":-1},o=jP(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&HE(t,e,n,s,i,a),i&&BP(n,r,i)}n.mergedAttrs=aa(n.mergedAttrs,n.attrs)}function HE(t,e,n,r,i,o){for(let l=0;l<r.length;l++)sp(el(n,e),t,r[l].type);HP(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let h=r[l];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,u=FE(t,e,r.length,null);for(let l=0;l<r.length;l++){let h=r[l];n.mergedAttrs=aa(n.mergedAttrs,h.hostAttrs),qP(t,n,e,u,h),$P(u,h,i),h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let p=h.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}NP(t,n,o)}function FP(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;VP(s)!=a&&s.push(a),s.push(n,r,o)}}function VP(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function LP(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;gl(n)&&zP(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||el(n,e),Ti(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let u=t.data[a],l=Di(e,t,a,n);if(Ti(l,e),s!==null&&KP(e,a-i,l,u,n,s),Vr(u)){let h=Ur(n.index,e);h[dn]=Di(e,t,a,n)}}}function qE(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=yR();try{Ci(o);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];rp(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&UP(u,l)}}finally{Ci(-1),rp(s)}}function UP(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function jP(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(Sx(e,s.selectors,!1))if(r||(r=[]),Vr(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let u=a.length;pp(t,e,u)}else r.unshift(s),pp(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function pp(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function BP(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new Q(-301,!1);r.push(e[i],o)}}}function $P(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Vr(e)&&(n[""]=t)}}function HP(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function qP(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=_i(i.type,!0)),s=new bi(o,Vr(i),$);t.blueprint[r]=s,n[r]=s,FP(t,e,r,FE(t,n,i.hostVars,Nn),i)}function zP(t,e,n){let r=Zt(e,t),i=BE(n),o=t[Sn].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=bl(t,El(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function GP(t,e,n,r,i,o){let s=Zt(t,e);WP(e[et],s,o,t.value,n,r,i)}function WP(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?bo(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function KP(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let u=s[a++],l=s[a++],h=s[a++],p=s[a++];kE(r,n,u,l,h,p)}}function QP(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function zE(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function GE(t,e){let n=t.contentQueries;if(n!==null){let r=Se(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];Qp(o),a.contentQueries(2,e[s],s)}}}finally{Se(r)}}}function bl(t,e){return t[ua]?t[Tw][ln]=e:t[ua]=e,t[Tw]=e,e}function mp(t,e,n){Qp(0);let r=Se(null);try{e(t,n)}finally{Se(r)}}function WE(t){return t[Wu]??=[]}function KE(t){return t.cleanup??=[]}function QE(t,e){let n=t[Mo],r=n?n.get(xn,null):null;r&&r.handleError(e)}function gm(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],u=n[o++],l=e[s],h=t.data[s];kE(h,l,r,a,u,i)}}function YE(t,e,n){let r=FI(e,t);sP(t[et],r,n)}function YP(t,e){let n=Ur(e,t),r=n[he];JP(r,n);let i=n[rr];i!==null&&n[Gu]===null&&(n[Gu]=am(i,n[Mo])),ym(r,n,n[dn])}function JP(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function ym(t,e,n){Yp(e);try{let r=t.viewQuery;r!==null&&mp(1,r,n);let i=t.template;i!==null&&VE(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Zn]?.finishViewCreation(t),t.staticContentQueries&&GE(t,e),t.staticViewQueries&&mp(2,t.viewQuery,n);let o=t.components;o!==null&&ZP(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[se]&=-5,Jp()}}function ZP(t,e){for(let n=0;n<e.length;n++)YP(t,e[n])}function XP(t,e,n,r){let i=Se(null);try{let o=e.tView,a=t[se]&4096?4096:16,u=El(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[wi]=l;let h=t[Zn];return h!==null&&(u[Zn]=h.createEmbeddedView(o)),ym(o,u,n),u}finally{Se(i)}}function Uw(t,e){return!e||e.firstChild===null||pE(t)}function eN(t,e,n,r=!0){let i=e[he];if(lP(i,e,t,n),r){let s=fp(n,t),a=e[et],u=dm(a,t[Ii]);u!==null&&cP(i,t[mn],a,e,u,s)}let o=e[Gu];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function rl(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(Mn(o)),ir(o)&&tN(o,r);let s=n.type;if(s&8)rl(t,e,n.child,r);else if(s&32){let a=um(n,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=xE(e,n);if(Array.isArray(a))r.push(...a);else{let u=Ei(e[An]);rl(u[he],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function tN(t,e){for(let n=Bt;n<t.length;n++){let r=t[n],i=r[he].firstChild;i!==null&&rl(r[he],r,i,e)}t[Ii]!==t[rr]&&e.push(t[Ii])}var JE=[];function nN(t){return t[Yt]??rN(t)}function rN(t){let e=JE.pop()??Object.create(oN);return e.lView=t,e}function iN(t){t.lView[Yt]!==t&&(t.lView=null,JE.push(t))}var oN=be(j({},cf),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{yl(t.lView)},consumerOnSignalRead(){this.lView[Yt]=this}});function sN(t){let e=t[Yt]??Object.create(aN);return e.lView=t,e}var aN=be(j({},cf),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=Ei(t.lView);for(;e&&!ZE(e[he]);)e=Ei(e);e&&jI(e)},consumerOnSignalRead(){this.lView[Yt]=this}});function ZE(t){return t.type!==2}var cN=100;function XE(t,e=!0,n=0){let r=t[Sn],i=r.rendererFactory,o=!1;o||i.begin?.();try{uN(t,n)}catch(s){throw e&&QE(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function uN(t,e){let n=GI();try{Aw(!0),gp(t,e);let r=0;for(;la(t);){if(r===cN)throw new Q(103,!1);r++,gp(t,1)}}finally{Aw(n)}}function lN(t,e,n,r){let i=e[se];if((i&256)===256)return;let o=!1,s=!1;!o&&e[Sn].inlineEffectRunner?.flush(),Yp(e);let a=!0,u=null,l=null;o||(ZE(t)?(l=nN(e),u=uf(l)):H0()===null?(a=!1,l=sN(e),u=uf(l)):e[Yt]&&(df(e[Yt]),e[Yt]=null));try{UI(e),pR(t.bindingStartIndex),n!==null&&VE(t,e,n,2,r);let h=(i&3)===3;if(!o)if(h){let y=t.preOrderCheckHooks;y!==null&&Vu(e,y,null)}else{let y=t.preOrderHooks;y!==null&&Lu(e,y,0,null),Ff(e,0)}if(s||dN(e),eC(e,0),t.contentQueries!==null&&GE(t,e),!o)if(h){let y=t.contentCheckHooks;y!==null&&Vu(e,y)}else{let y=t.contentHooks;y!==null&&Lu(e,y,1),Ff(e,1)}DP(t,e);let p=t.components;p!==null&&nC(e,p,0);let g=t.viewQuery;if(g!==null&&mp(2,g,r),!o)if(h){let y=t.viewCheckHooks;y!==null&&Vu(e,y)}else{let y=t.viewHooks;y!==null&&Lu(e,y,2),Ff(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[kf]){for(let y of e[kf])y();e[kf]=null}o||(e[se]&=-73)}catch(h){throw o||yl(e),h}finally{l!==null&&(q0(l,u),a&&iN(l)),Jp()}}function eC(t,e){for(let n=gE(t);n!==null;n=yE(n))for(let r=Bt;r<n.length;r++){let i=n[r];tC(i,e)}}function dN(t){for(let e=gE(t);e!==null;e=yE(e)){if(!(e[se]&Qu.HasTransplantedViews))continue;let n=e[xo];for(let r=0;r<n.length;r++){let i=n[r];jI(i)}}}function hN(t,e,n){let r=Ur(e,t);tC(r,n)}function tC(t,e){Kp(t)&&gp(t,e)}function gp(t,e){let r=t[he],i=t[se],o=t[Yt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&lf(o)),s||=!1,o&&(o.dirty=!1),t[se]&=-9217,s)lN(r,t,r.template,t[dn]);else if(i&8192){eC(t,1);let a=r.components;a!==null&&nC(t,a,1)}}function nC(t,e,n){for(let r=0;r<e.length;r++)hN(t,e[r],n)}function vm(t,e){let n=GI()?64:1088;for(t[Sn].changeDetectionScheduler?.notify(e);t;){t[se]|=n;let r=Ei(t);if(ep(t)&&!r)return t;t=r}return null}var Si=class{get rootNodes(){let e=this._lView,n=e[he];return rl(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[dn]}set context(e){this._lView[dn]=e}get destroyed(){return(this._lView[se]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[_t];if(ir(e)){let n=e[Ku],r=n?n.indexOf(this):-1;r>-1&&(hp(e,r),qu(n,r))}this._attachedToViewContainer=!1}AE(this._lView[he],this._lView)}onDestroy(e){BI(this._lView,e)}markForCheck(){vm(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[se]&=-129}reattach(){np(this._lView),this._lView[se]|=128}detectChanges(){this._lView[se]|=1024,XE(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Q(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=ep(this._lView),n=this._lView[wi];n!==null&&!e&&lm(n,this._lView),TE(this._lView[he],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Q(902,!1);this._appRef=e;let n=ep(this._lView),r=this._lView[wi];r!==null&&!n&&SE(r,this._lView),np(this._lView)}},Ai=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=mN;let t=e;return t})(),fN=Ai,pN=class extends fN{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=XP(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Si(i)}};function mN(){return _m(wt(),Ie())}function _m(t,e){return t.type&4?new pN(e,t,Vo(t,e)):null}var K5=new RegExp(`^(\\d+)*(${QR}|${KR})*(.*)`);var gN=()=>null;function jw(t,e){return gN(t,e)}var Ro=class{},rC=new H("",{providedIn:"root",factory:()=>!1});var iC=new H(""),yp=class{},il=class{};function yN(t){let e=Error(`No component factory found for ${Mt(t)}.`);return e[vN]=t,e}var vN="ngComponent";var vp=class{resolveComponentFactory(e){throw yN(e)}},Tm=class Tm{};Tm.NULL=new vp;var Po=Tm,No=class{},gn=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>_N();let t=e;return t})();function _N(){let t=Ie(),e=wt(),n=Ur(e.index,t);return(kr(n)?n:t)[et]}var wN=(()=>{let e=class e{};e.\u0275prov=B({token:e,providedIn:"root",factory:()=>null});let t=e;return t})();var Bw=new Set;function Dl(t){Bw.has(t)||(Bw.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function oC(t){let e=!0;return setTimeout(()=>{e&&(e=!1,t())}),typeof oa.requestAnimationFrame=="function"&&oa.requestAnimationFrame(()=>{e&&(e=!1,t())}),()=>{e=!1}}function $w(t){let e=!0;return queueMicrotask(()=>{e&&t()}),()=>{e=!1}}function Hw(...t){}var Me=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ze(!1),this.onMicrotaskEmpty=new ze(!1),this.onStable=new ze(!1),this.onError=new ze(!1),typeof Zone>"u")throw new Q(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.callbackScheduled=!1,CN(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new Q(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new Q(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,IN,Hw,Hw);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},IN={};function wm(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function EN(t){t.isCheckStableRunning||t.callbackScheduled||(t.callbackScheduled=!0,Zone.root.run(()=>{oC(()=>{t.callbackScheduled=!1,_p(t),t.isCheckStableRunning=!0,wm(t),t.isCheckStableRunning=!1})}),_p(t))}function CN(t){let e=()=>{EN(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(bN(a))return n.invokeTask(i,o,s,a);try{return qw(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),zw(t)}},onInvoke:(n,r,i,o,s,a,u)=>{try{return qw(t),n.invoke(i,o,s,a,u)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!DN(a)&&e(),zw(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,_p(t),wm(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function _p(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function qw(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function zw(t){t._nesting--,wm(t)}var wp=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ze,this.onMicrotaskEmpty=new ze,this.onStable=new ze,this.onError=new ze}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function bN(t){return sC(t,"__ignore_ng_zone__")}function DN(t){return sC(t,"__scheduler_tick__")}function sC(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var Nr=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Nr||{}),TN={destroy(){}};function Tl(t,e){!e&&Wx(Tl);let n=e?.injector??k(xt);if(!rP(n))return TN;Dl("NgAfterNextRender");let r=n.get(Im),i=r.handler??=new Ep,o=e?.phase??Nr.MixedReadWrite,s=()=>{i.unregister(u),a()},a=n.get(rm).onDestroy(s),u=$t(n,()=>new Ip(o,()=>{s(),t()}));return i.register(u),{destroy:s}}var Ip=class{constructor(e,n){this.phase=e,this.callbackFn=n,this.zone=k(Me),this.errorHandler=k(xn,{optional:!0}),k(Ro,{optional:!0})?.notify(6)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},Ep=class{constructor(){this.executingCallbacks=!1,this.buckets={[Nr.EarlyRead]:new Set,[Nr.Write]:new Set,[Nr.MixedReadWrite]:new Set,[Nr.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let n of e)n.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},Im=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=B({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function Cp(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=gw(i,a);else if(o==2){let u=a,l=e[++s];r=gw(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var ol=class extends Po{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Fr(e);return new Oo(n,this.ngModule)}};function Gw(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function SN(t){let e=t.toLowerCase();return e==="svg"?Zx:e==="math"?Xx:null}var Oo=class extends il{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=Gw(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return Gw(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=Rx(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=Se(null);try{i=i||this.ngModule;let s=i instanceof vt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new ip(e,s):e,u=a.get(No,null);if(u===null)throw new Q(407,!1);let l=a.get(wN,null),h=a.get(Im,null),p=a.get(Ro,null),g={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:h,changeDetectionScheduler:p},y=u.createRenderer(null,this.componentDef),T=this.componentDef.selectors[0][0]||"div",N=r?AP(y,r,this.componentDef.encapsulation,a):DE(y,T,SN(T)),R=512;this.componentDef.signals?R|=4096:this.componentDef.onPush||(R|=16);let F=null;N!==null&&(F=am(N,a,!0));let J=pm(0,null,null,1,0,null,null,null,null,null,null),z=El(null,J,null,R,null,null,g,y,a,null,F);Yp(z);let X,Pe;try{let re=this.componentDef,I,v=null;re.findHostDirectiveDefs?(I=[],v=new Map,re.findHostDirectiveDefs(re,I,v),I.push(re)):I=[re];let _=AN(z,N),E=MN(_,N,re,I,z,g,y);Pe=VI(J,hn),N&&PN(y,re,N,r),n!==void 0&&NN(Pe,this.ngContentSelectors,n),X=RN(E,re,I,v,z,[ON]),ym(J,z,null)}finally{Jp()}return new bp(this.componentType,X,Vo(Pe,z),z,Pe)}finally{Se(o)}}},bp=class extends yp{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Si(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;gm(o[he],o,i,e,n),this.previousInputValues.set(e,n);let s=Ur(this._tNode.index,o);vm(s,1)}}get injector(){return new vi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function AN(t,e){let n=t[he],r=hn;return t[r]=e,Cl(n,r,2,"#host",null)}function MN(t,e,n,r,i,o,s){let a=i[he];xN(r,t,e,s);let u=null;e!==null&&(u=am(e,i[Mo]));let l=o.rendererFactory.createRenderer(e,n),h=16;n.signals?h=4096:n.onPush&&(h=64);let p=El(i,BE(n),null,h,i[t.index],t,o,l,null,null,u);return a.firstCreatePass&&pp(a,t,r.length-1),bl(i,p),i[t.index]=p}function xN(t,e,n,r){for(let i of t)e.mergedAttrs=aa(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Cp(e,e.mergedAttrs,!0),n!==null&&PE(r,n,e))}function RN(t,e,n,r,i,o){let s=wt(),a=i[he],u=Zt(s,i);HE(a,i,s,n,null,r);for(let h=0;h<n.length;h++){let p=s.directiveStart+h,g=Di(i,a,p,s);Ti(g,i)}qE(a,i,s),u&&Ti(u,i);let l=Di(i,a,s.directiveStart+s.componentOffset,s);if(t[dn]=i[dn]=l,o!==null)for(let h of o)h(l,e);return LE(a,s,i),l}function PN(t,e,n,r){if(r)Yf(t,n,["ng-version","18.0.5"]);else{let{attrs:i,classes:o}=Px(e.selectors[0]);i&&Yf(t,n,i),o&&o.length>0&&RE(t,n,o.join(" "))}}function NN(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function ON(){let t=wt();em(Ie()[he],t)}var jr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=kN;let t=e;return t})();function kN(){let t=wt();return cC(t,Ie())}var FN=jr,aC=class extends FN{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Vo(this._hostTNode,this._hostLView)}get injector(){return new vi(this._hostTNode,this._hostLView)}get parentInjector(){let e=tm(this._hostTNode,this._hostLView);if(rE(e)){let n=Zu(e,this._hostLView),r=Ju(e),i=n[he].data[r+8];return new vi(i,n)}else return new vi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Ww(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Bt}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=jw(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,Uw(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!Kx(e),a;if(s)a=n;else{let T=n||{};a=T.index,r=T.injector,i=T.projectableNodes,o=T.environmentInjector||T.ngModuleRef}let u=s?e:new Oo(Fr(e)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let N=(s?l:this.parentInjector).get(vt,null);N&&(o=N)}let h=Fr(u.componentType??{}),p=jw(this._lContainer,h?.id??null),g=p?.firstChild??null,y=u.create(l,i,g,o);return this.insertImpl(y.hostView,a,Uw(this._hostTNode,p)),y}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(tR(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[_t],l=new aC(u,u[mn],u[_t]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return eN(s,i,o,r),e.attachToViewContainerRef(),dI(Bf(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Ww(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=hp(this._lContainer,n);r&&(qu(Bf(this._lContainer),n),AE(r[he],r))}detach(e){let n=this._adjustIndex(e,-1),r=hp(this._lContainer,n);return r&&qu(Bf(this._lContainer),n)!=null?new Si(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Ww(t){return t[Ku]}function Bf(t){return t[Ku]||(t[Ku]=[])}function cC(t,e){let n,r=e[t.index];return ir(r)?n=r:(n=zE(r,e,null,t),e[t.index]=n,bl(e,n)),LN(n,e,t,r),new aC(n,t,e)}function VN(t,e){let n=t[et],r=n.createComment(""),i=Zt(e,t),o=dm(n,i);return nl(n,o,r,gP(n,i),!1),r}var LN=BN,UN=()=>!1;function jN(t,e,n){return UN(t,e,n)}function BN(t,e,n,r){if(t[Ii])return;let i;n.type&8?i=Mn(r):i=VN(e,n),t[Ii]=i}var Dp=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Tp=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)Em(e,n).matches!==null&&this.queries[n].setDirty()}},sl=class{constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=QN(e):this.predicate=e}},Sp=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Ap=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,n,$N(n,o)),this.matchTNodeWithReadOption(e,n,Uu(n,e,o,!1,!1))}else r===Ai?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Uu(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Rt||i===jr||i===Ai&&n.type&4)this.addMatch(n.index,-2);else{let o=Uu(n,e,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function $N(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function HN(t,e){return t.type&11?Vo(t,e):t.type&4?_m(t,e):null}function qN(t,e,n,r){return n===-1?HN(e,t):n===-2?zN(t,e,r):Di(t,t[he],n,e)}function zN(t,e,n){if(n===Rt)return Vo(e,t);if(n===Ai)return _m(e,t);if(n===jr)return cC(e,t)}function uC(t,e,n,r){let i=e[Zn].queries[r];if(i.matches===null){let o=t.data,s=n.matches,a=[];for(let u=0;s!==null&&u<s.length;u+=2){let l=s[u];if(l<0)a.push(null);else{let h=o[l];a.push(qN(e,h,s[u+1],n.metadata.read))}}i.matches=a}return i.matches}function Mp(t,e,n,r){let i=t.queries.getByIndex(n),o=i.matches;if(o!==null){let s=uC(t,e,i,n);for(let a=0;a<o.length;a+=2){let u=o[a];if(u>0)r.push(s[a/2]);else{let l=o[a+1],h=e[-u];for(let p=Bt;p<h.length;p++){let g=h[p];g[wi]===g[_t]&&Mp(g[he],g,l,r)}if(h[xo]!==null){let p=h[xo];for(let g=0;g<p.length;g++){let y=p[g];Mp(y[he],y,l,r)}}}}}return r}function GN(t,e){return t[Zn].queries[e].queryList}function lC(t,e,n){let r=new lp((n&4)===4);return RP(t,e,r,r.destroy),(e[Zn]??=new Tp).queries.push(new Dp(r))-1}function WN(t,e,n){let r=st();return r.firstCreatePass&&(dC(r,new sl(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),lC(r,Ie(),e)}function KN(t,e,n,r){let i=st();if(i.firstCreatePass){let o=wt();dC(i,new sl(e,n,r),o.index),YN(i,t),(n&2)===2&&(i.staticContentQueries=!0)}return lC(i,Ie(),n)}function QN(t){return t.split(",").map(e=>e.trim())}function dC(t,e,n){t.queries===null&&(t.queries=new Sp),t.queries.track(new Ap(e,n))}function YN(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function Em(t,e){return t.queries.getByIndex(e)}function JN(t,e){let n=t[he],r=Em(n,e);return r.crossesNgTemplate?Mp(n,t,e,[]):uC(n,t,r,e)}function ZN(t){return typeof t=="function"&&t[af]!==void 0}function hC(t){return ZN(t)&&typeof t.set=="function"}function XN(t){return Object.getPrototypeOf(t.prototype).constructor}function Xt(t){let e=XN(t.type),n=!0,r=[t];for(;e;){let i;if(Vr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Q(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=Ou(t.inputs),s.inputTransforms=Ou(t.inputTransforms),s.declaredInputs=Ou(t.declaredInputs),s.outputs=Ou(t.outputs);let a=i.hostBindings;a&&i1(t,a);let u=i.viewQuery,l=i.contentQueries;if(u&&n1(t,u),l&&r1(t,l),e1(t,i),JM(t.outputs,i.outputs),Vr(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===Xt&&(n=!1)}}e=Object.getPrototypeOf(e)}t1(r)}function e1(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function t1(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=aa(i.hostAttrs,n=aa(n,i.hostAttrs))}}function Ou(t){return t===Do?{}:t===Qt?[]:t}function n1(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function r1(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function i1(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function Cm(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var Lr=class{},da=class{};var xp=class extends Lr{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ol(this);let i=II(e);this._bootstrapComponents=bE(i.bootstrap),this._r3Injector=hE(e,n,[{provide:Lr,useValue:this},{provide:Po,useValue:this.componentFactoryResolver},...r],Mt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Rp=class extends da{constructor(e){super(),this.moduleType=e}create(e){return new xp(this.moduleType,e,[])}};var al=class extends Lr{constructor(e){super(),this.componentFactoryResolver=new ol(this),this.instance=null;let n=new ca([...e.providers,{provide:Lr,useValue:this},{provide:Po,useValue:this.componentFactoryResolver}],e.parent||Gp(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Sl(t,e,n=null){return new al({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function fC(t){return s1(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function o1(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function s1(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function pC(t,e,n){return t[e]=n}function er(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function mC(t,e,n,r){let i=er(t,e,n);return er(t,e+1,r)||i}function a1(t,e,n,r,i){let o=mC(t,e,n,r);return er(t,e+2,i)||o}function c1(t){return(t.flags&32)===32}function u1(t,e,n,r,i,o,s,a,u){let l=e.consts,h=Cl(e,t,4,s||null,a||null);$E(e,n,h,Yu(l,u)),em(e,h);let p=h.tView=pm(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function l1(t,e,n,r,i,o,s,a,u,l){let h=n+hn,p=e.firstCreatePass?u1(h,e,t,r,i,o,s,a,u):e.data[h];ma(p,!1);let g=d1(e,t,p,n);Zp()&&hm(e,t,g,p),Ti(g,t);let y=zE(g,t,g,p);return t[h]=y,bl(t,y),jN(y,p,t),Wp(p)&&UE(e,t,p),u!=null&&jE(t,p,l),p}function Fe(t,e,n,r,i,o,s,a){let u=Ie(),l=st(),h=Yu(l.consts,o);return l1(u,l,t,e,n,r,i,h,s,a),Fe}var d1=h1;function h1(t,e,n,r){return Xp(!0),e[et].createComment("")}function ya(t,e,n,r){let i=Ie(),o=vl();if(er(i,o,e)){let s=st(),a=_l();GP(a,i,t,e,n,r)}return ya}function gC(t,e,n,r){return er(t,vl(),n)?e+bo(n)+r:Nn}function f1(t,e,n,r,i,o){let s=fR(),a=mC(t,s,n,i);return KI(2),a?e+bo(n)+r+bo(i)+o:Nn}function ku(t,e){return t<<17|e<<2}function Mi(t){return t>>17&32767}function p1(t){return(t&2)==2}function m1(t,e){return t&131071|e<<17}function Pp(t){return t|2}function ko(t){return(t&131068)>>2}function $f(t,e){return t&-131069|e<<2}function g1(t){return(t&1)===1}function Np(t){return t|1}function y1(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Mi(s),u=ko(s);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||pa(p,h)>0)&&(l=!0)}else h=n;if(i)if(u!==0){let g=Mi(t[a+1]);t[r+1]=ku(g,a),g!==0&&(t[g+1]=$f(t[g+1],r)),t[a+1]=m1(t[a+1],r)}else t[r+1]=ku(a,0),a!==0&&(t[a+1]=$f(t[a+1],r)),a=r;else t[r+1]=ku(u,0),a===0?a=r:t[u+1]=$f(t[u+1],r),u=r;l&&(t[r+1]=Pp(t[r+1])),Kw(t,h,r,!0),Kw(t,h,r,!1),v1(e,h,t,r,o),s=ku(a,u),o?e.classBindings=s:e.styleBindings=s}function v1(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&pa(o,e)>=0&&(n[r+1]=Np(n[r+1]))}function Kw(t,e,n,r){let i=t[n+1],o=e===null,s=r?Mi(i):ko(i),a=!1;for(;s!==0&&(a===!1||o);){let u=t[s],l=t[s+1];_1(u,e)&&(a=!0,t[s+1]=r?Np(l):Pp(l)),s=r?Mi(l):ko(l)}a&&(t[n+1]=r?Pp(i):Np(i))}function _1(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?pa(t,e)>=0:!1}function le(t,e,n){let r=Ie(),i=vl();if(er(r,i,e)){let o=st(),s=_l();mm(o,s,r,t,e,r[et],n,!1)}return le}function Qw(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";gm(t,n,o[s],s,r)}function Al(t,e){return w1(t,e,null,!0),Al}function w1(t,e,n,r){let i=Ie(),o=st(),s=KI(2);if(o.firstUpdatePass&&E1(o,t,s,r),e!==Nn&&er(i,s,e)){let a=o.data[xi()];S1(o,a,i,i[et],t,i[s+1]=A1(e,n),r,s)}}function I1(t,e){return e>=t.expandoStartIndex}function E1(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[xi()],s=I1(t,n);M1(o,r)&&e===null&&!s&&(e=!1),e=C1(i,o,e,r),y1(i,o,e,n,s,r)}}function C1(t,e,n,r){let i=vR(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Hf(null,t,e,n,r),n=ha(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=Hf(i,t,e,n,r),o===null){let u=b1(t,e,r);u!==void 0&&Array.isArray(u)&&(u=Hf(null,t,e,u[1],r),u=ha(u,e.attrs,r),D1(t,e,r,u))}else o=T1(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function b1(t,e,n){let r=n?e.classBindings:e.styleBindings;if(ko(r)!==0)return t[Mi(r)]}function D1(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Mi(i)]=r}function T1(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=ha(r,s,n)}return ha(r,e.attrs,n)}function Hf(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=ha(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function ha(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),_x(t,s,n?!0:e[++o]))}return t===void 0?null:t}function S1(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],h=g1(l)?Yw(u,e,n,i,ko(l),s):void 0;if(!cl(h)){cl(o)||p1(l)&&(o=Yw(u,null,n,i,a,s));let p=FI(xi(),n);CP(r,s,p,i,o)}}function Yw(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,g=n[i+1];g===Nn&&(g=p?Qt:void 0);let y=p?Nf(g,r):h===r?g:void 0;if(l&&!cl(y)&&(y=Nf(u,r)),cl(y)&&(a=y,s))return a;let T=t[i+1];i=s?Mi(T):ko(T)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=Nf(u,r))}return a}function cl(t){return t!==void 0}function A1(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Mt(ga(t)))),t}function M1(t,e){return(t.flags&(e?8:16))!==0}function x1(t,e,n,r,i,o){let s=e.consts,a=Yu(s,i),u=Cl(e,t,2,r,a);return $E(e,n,u,Yu(s,o)),u.attrs!==null&&Cp(u,u.attrs,!1),u.mergedAttrs!==null&&Cp(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function D(t,e,n,r){let i=Ie(),o=st(),s=hn+t,a=i[et],u=o.firstCreatePass?x1(s,o,i,e,n,r):o.data[s],l=R1(o,i,u,a,e,t);i[s]=l;let h=Wp(u);return ma(u,!0),PE(a,l,u),!c1(u)&&Zp()&&hm(o,i,l,u),iR()===0&&Ti(l,i),oR(),h&&(UE(o,i,u),LE(o,u,i)),r!==null&&jE(i,u),D}function S(){let t=wt();zI()?dR():(t=t.parent,ma(t,!1));let e=t;cR(e)&&uR(),sR();let n=st();return n.firstCreatePass&&(em(n,t),RI(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&DR(e)&&Qw(n,e,Ie(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&TR(e)&&Qw(n,e,Ie(),e.stylesWithoutHost,!1),S}function fe(t,e,n,r){return D(t,e,n,r),S(),fe}var R1=(t,e,n,r,i,o)=>(Xp(!0),DE(r,i,IR()));function Pt(){return Ie()}var ul="en-US";var P1=ul;function N1(t){typeof t=="string"&&(P1=t.toLowerCase().replace(/_/g,"-"))}var O1=(t,e,n)=>{};function W(t,e,n,r){let i=Ie(),o=st(),s=wt();return yC(o,i,i[et],s,t,e,r),W}function k1(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[Wu],u=i[o+2];return a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function yC(t,e,n,r,i,o,s){let a=Wp(r),l=t.firstCreatePass&&KE(t),h=e[dn],p=WE(e),g=!0;if(r.type&3||s){let N=Zt(r,e),R=s?s(N):N,F=p.length,J=s?X=>s(Mn(X[r.index])):r.index,z=null;if(!s&&a&&(z=k1(t,e,i,r.index)),z!==null){let X=z.__ngLastListenerFn__||z;X.__ngNextListenerFn__=o,z.__ngLastListenerFn__=o,g=!1}else{o=Zw(r,e,h,o),O1(N,i,o);let X=n.listen(R,i,o);p.push(o,X),l&&l.push(i,J,F,F+1)}}else o=Zw(r,e,h,o);let y=r.outputs,T;if(g&&y!==null&&(T=y[i])){let N=T.length;if(N)for(let R=0;R<N;R+=2){let F=T[R],J=T[R+1],Pe=e[F][J].subscribe(o),re=p.length;p.push(o,Pe),l&&l.push(i,r.index,re,-(re+1))}}}function Jw(t,e,n,r){let i=Se(null);try{return bn(6,e,n),n(r)!==!1}catch(o){return QE(t,o),!1}finally{bn(7,e,n),Se(i)}}function Zw(t,e,n,r){return function i(o){if(o===Function)return r;let s=t.componentOffset>-1?Ur(t.index,e):e;vm(s,5);let a=Jw(e,n,r,o),u=i.__ngNextListenerFn__;for(;u;)a=Jw(e,n,u,o)&&a,u=u.__ngNextListenerFn__;return a}}function K(t=1){return wR(t)}function On(t,e,n){return vC(t,"",e,"",n),On}function vC(t,e,n,r,i){let o=Ie(),s=gC(o,e,n,r);if(s!==Nn){let a=st(),u=_l();mm(a,u,o,t,s,o[et],i,!1)}return vC}function _C(t,e,n,r){KN(t,e,n,r)}function wC(t,e,n){WN(t,e,n)}function Ml(t){let e=Ie(),n=st(),r=QI();Qp(r+1);let i=Em(n,r);if(t.dirty&&eR(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let o=JN(e,r);t.reset(o,jR),t.notifyOnChanges()}return!0}return!1}function xl(){return GN(Ie(),QI())}function F1(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function va(t){let e=hR();return LI(e,hn+t)}function P(t,e=""){let n=Ie(),r=st(),i=t+hn,o=r.firstCreatePass?Cl(r,i,1,e,null):r.data[i],s=V1(r,n,o,e,t);n[i]=s,Zp()&&hm(r,n,s,o),ma(o,!1)}var V1=(t,e,n,r,i)=>(Xp(!0),oP(e[et],r));function Ee(t){return _a("",t,""),Ee}function _a(t,e,n){let r=Ie(),i=gC(r,t,e,n);return i!==Nn&&YE(r,xi(),i),_a}function cr(t,e,n,r,i){let o=Ie(),s=f1(o,t,e,n,r,i);return s!==Nn&&YE(o,xi(),s),cr}function Ue(t,e,n){hC(e)&&(e=e());let r=Ie(),i=vl();if(er(r,i,e)){let o=st(),s=_l();mm(o,s,r,t,e,r[et],n,!1)}return Ue}function $e(t,e){let n=hC(t);return n&&t.set(e),n}function je(t,e){let n=Ie(),r=st(),i=wt();return yC(r,n,n[et],i,t,e),je}function L1(t,e,n){let r=st();if(r.firstCreatePass){let i=Vr(t);Op(n,r.data,r.blueprint,i,!0),Op(e,r.data,r.blueprint,i,!1)}}function Op(t,e,n,r,i){if(t=At(t),Array.isArray(t))for(let o=0;o<t.length;o++)Op(t[o],e,n,r,i);else{let o=st(),s=Ie(),a=wt(),u=Ao(t)?t:At(t.provide),l=SI(t),h=a.providerIndexes&1048575,p=a.directiveStart,g=a.providerIndexes>>20;if(Ao(t)||!t.multi){let y=new bi(l,i,$),T=zf(u,e,i?h:h+g,p);T===-1?(sp(el(a,s),o,u),qf(o,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(y),s.push(y)):(n[T]=y,s[T]=y)}else{let y=zf(u,e,h+g,p),T=zf(u,e,h,h+g),N=y>=0&&n[y],R=T>=0&&n[T];if(i&&!R||!i&&!N){sp(el(a,s),o,u);let F=B1(i?j1:U1,n.length,i,r,l);!i&&R&&(n[T].providerFactory=F),qf(o,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(F),s.push(F)}else{let F=IC(n[i?T:y],l,!i&&r);qf(o,t,y>-1?y:T,F)}!i&&r&&R&&n[T].componentProviders++}}}function qf(t,e,n,r){let i=Ao(e),o=jx(e);if(i||o){let u=(o?At(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[r,u]):l[h+1].push(r,u)}else l.push(n,u)}}}function IC(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function zf(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function U1(t,e,n,r){return kp(this.multi,[])}function j1(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Di(n,n[he],this.providerFactory.index,r);o=a.slice(0,s),kp(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],kp(i,o);return o}function kp(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function B1(t,e,n,r,i){let o=new bi(t,n,$);return o.multi=[],o.index=e,o.componentProviders=0,IC(o,i,r&&!n),o}function Br(t,e=[]){return n=>{n.providersResolver=(r,i)=>L1(r,i?i(t):t,e)}}var $1=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=bI(!1,r.type),o=i.length>0?Sl([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=B({token:e,providedIn:"environment",factory:()=>new e(Y(vt))});let t=e;return t})();function We(t){Dl("NgStandalone"),t.getStandaloneInjector=e=>e.get($1).getOrCreateStandaloneInjector(t)}function Rl(t,e,n,r){return H1(Ie(),WI(),t,e,n,r)}function EC(t,e){let n=t[e];return n===Nn?void 0:n}function H1(t,e,n,r,i,o){let s=e+n;return er(t,s,i)?pC(t,s+1,o?r.call(o,i):r(i)):EC(t,s+1)}function q1(t,e,n,r,i,o,s,a){let u=e+n;return a1(t,u,i,o,s)?pC(t,u+3,a?r.call(a,i,o,s):r(i,o,s)):EC(t,u+3)}function CC(t,e){let n=st(),r,i=t+hn;n.firstCreatePass?(r=z1(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=_i(r.type,!0)),s,a=Ft($);try{let u=Xu(!1),l=o();return Xu(u),F1(n,Ie(),i,l),l}finally{Ft(a)}}function z1(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function bC(t,e,n,r,i){let o=t+hn,s=Ie(),a=LI(s,o);return G1(s,o)?q1(s,WI(),e,a.transform,n,r,i,a):a.transform(n,r,i)}function G1(t,e){return t[he].data[e].pure}var tr=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},DC=new tr("18.0.5");var Pl=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var TC=new H("");function Ri(t){return!!t&&typeof t.then=="function"}function SC(t){return!!t&&typeof t.subscribe=="function"}var Nl=new H(""),AC=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=k(Nl,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let o of this.appInits){let s=o();if(Ri(s))r.push(s);else if(SC(s)){let a=new Promise((u,l)=>{s.subscribe({complete:u,error:l})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),wa=new H("");function W1(){z0(()=>{throw new Q(600,!1)})}function K1(t){return t.isBoundToModule}var Q1=10;function Y1(t,e,n){try{let r=n();return Ri(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Pi=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=k(fE),this.afterRenderEffectManager=k(Im),this.zonelessEnabled=k(rC),this.externalTestViews=new Set,this.beforeRender=new ot,this.afterTick=new ot,this.componentTypes=[],this.components=[],this.isStable=k(ar).hasPendingTasks.pipe(ie(r=>!r)),this._injector=k(vt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let o=r instanceof il;if(!this._injector.get(AC).done){let y=!o&&wI(r),T=!1;throw new Q(405,T)}let a;o?a=r:a=this._injector.get(Po).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let u=K1(a)?void 0:this._injector.get(Lr),l=i||a.selector,h=a.create(xt.NULL,[],l,u),p=h.location.nativeElement,g=h.injector.get(TC,null);return g?.registerApplication(p),h.onDestroy(()=>{this.detachView(h.hostView),Gf(this.components,h),g?.unregisterApplication(p)}),this._loadComponent(h),h}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new Q(101,!1);let i=Se(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(o){this.internalErrorHandler(o)}finally{this._runningTick=!1,Se(i),this.afterTick.next()}}detectChangesInAttachedViews(r){let i=null;this._injector.destroyed||(i=this._injector.get(No,null,{optional:!0}));let o=0,s=this.afterRenderEffectManager;for(;o<Q1;){let a=o===0;if(r||!a){this.beforeRender.next(a);for(let{_lView:u,notifyErrorHandler:l}of this._views)J1(u,l,a,this.zonelessEnabled)}else i?.begin?.(),i?.end?.();if(o++,s.executeInternalCallbacks(),!this.allViews.some(({_lView:u})=>la(u))&&(s.execute(),!this.allViews.some(({_lView:u})=>la(u))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;Gf(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(wa,[]);[...this._bootstrapListeners,...i].forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Gf(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new Q(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Gf(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function J1(t,e,n,r){if(!n&&!la(t))return;XE(t,e,n&&!r?0:1)}var Fp=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Ol=(()=>{let e=class e{compileModuleSync(r){return new Rp(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),o=II(r),s=bE(o.declarations).reduce((a,u)=>{let l=Fr(u);return l&&a.push(new Oo(l)),a},[]);return new Fp(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Z1=(()=>{let e=class e{constructor(){this.zone=k(Me),this.changeDetectionScheduler=k(Ro),this.applicationRef=k(Pi)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function X1({ngZoneFactory:t,ignoreChangesOutsideZone:e}){return t??=()=>new Me(tO()),[{provide:Me,useFactory:t},{provide:To,multi:!0,useFactory:()=>{let n=k(Z1,{optional:!0});return()=>n.initialize()}},{provide:To,multi:!0,useFactory:()=>{let n=k(nO);return()=>{n.initialize()}}},{provide:fE,useFactory:eO},e===!0?{provide:iC,useValue:!0}:[]]}function eO(){let t=k(Me),e=k(xn);return n=>t.runOutsideAngular(()=>e.handleError(n))}function tO(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var nO=(()=>{let e=class e{constructor(){this.subscription=new qe,this.initialized=!1,this.zone=k(Me),this.pendingTasks=k(ar)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Me.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Me.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var rO=(()=>{let e=class e{constructor(){this.appRef=k(Pi),this.taskService=k(ar),this.ngZone=k(Me),this.zonelessEnabled=k(rC),this.disableScheduling=k(iC,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new qe,this.cancelScheduledCallback=null,this.shouldRefreshViews=!1,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof wp||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&r===5)return;switch(r){case 3:case 2:case 0:case 4:case 5:case 1:{this.shouldRefreshViews=!0;break}case 8:case 7:case 6:case 9:default:}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?$w:oC;this.pendingRenderTaskId=this.taskService.add(),this.zoneIsDefined?Zone.root.run(()=>{this.cancelScheduledCallback=i(()=>{this.tick(this.shouldRefreshViews)})}):this.cancelScheduledCallback=i(()=>{this.tick(this.shouldRefreshViews)})}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Me.isInAngularZone())}tick(r){if(this.runningTick||this.appRef.destroyed)return;let i=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick(r)},void 0,this.schedulerTickApplyArgs)}catch(o){throw this.taskService.remove(i),o}finally{this.cleanup()}this.useMicrotaskScheduler=!0,$w(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(i)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.shouldRefreshViews=!1,this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function iO(){return typeof $localize<"u"&&$localize.locale||ul}var bm=new H("",{providedIn:"root",factory:()=>k(bm,ge.Optional|ge.SkipSelf)||iO()});var MC=new H("");var Bu=null;function oO(t=[],e){return xt.create({name:e,providers:[{provide:pl,useValue:"platform"},{provide:MC,useValue:new Set([()=>Bu=null])},...t]})}function sO(t=[]){if(Bu)return Bu;let e=oO(t);return Bu=e,W1(),aO(e),e}function aO(t){t.get(om,null)?.forEach(n=>n())}var $r=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=cO;let t=e;return t})();function cO(t){return uO(wt(),Ie(),(t&16)===16)}function uO(t,e,n){if(gl(t)&&!n){let r=Ur(t.index,e);return new Si(r,r)}else if(t.type&175){let r=e[An];return new Si(r,e)}return null}var Vp=class{constructor(){}supports(e){return fC(e)}create(e){return new Lp(e)}},lO=(t,e)=>e,Lp=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||lO}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<Xw(r,i,o)?n:r,a=Xw(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=u-i;if(l!=h){for(let g=0;g<l;g++){let y=g<o.length?o[g]:o[g]=0,T=y+g;h<=T&&T<l&&(o[g]=y+1)}let p=s.previousIndex;o[p]=h-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!fC(e))throw new Q(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,o1(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new Up(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new ll),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new ll),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Up=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},jp=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},ll=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new jp,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Xw(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function eI(){return new Dm([new Vp])}var Dm=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let o=i.factories.slice();r=r.concat(o)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||eI()),deps:[[e,new $p,new Jt]]}}find(r){let i=this.factories.find(o=>o.supports(r));if(i!=null)return i;throw new Q(901,!1)}};e.\u0275prov=B({token:e,providedIn:"root",factory:eI});let t=e;return t})();function xC(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=sO(r),o=[X1({}),{provide:Ro,useExisting:rO},...n||[]],a=new al({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,u=a.get(Me);return u.run(()=>{a.resolveInjectorInitializers();let l=a.get(xn,null),h;u.runOutsideAngular(()=>{h=u.onError.subscribe({next:y=>{l.handleError(y)}})});let p=()=>a.destroy(),g=i.get(MC);return g.add(p),a.onDestroy(()=>{h.unsubscribe(),g.delete(p)}),Y1(l,u,()=>{let y=a.get(AC);return y.runInitializers(),y.donePromise.then(()=>{let T=a.get(bm,ul);N1(T||ul);let N=a.get(Pi);return e!==void 0&&N.bootstrap(e),N})})})}catch(e){return Promise.reject(e)}}function Hr(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function RC(t){let e=Fr(t);if(!e)return null;let n=new Oo(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var VC=null;function lr(){return VC}function LC(t){VC??=t}var kl=class{};var It=new H(""),Pm=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:()=>k(dO),providedIn:"platform"});let t=e;return t})(),UC=new H(""),dO=(()=>{let e=class e extends Pm{constructor(){super(),this._doc=k(It),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return lr().getBaseHref(this._doc)}onPopState(r){let i=lr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=lr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function Nm(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function PC(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function ur(t){return t&&t[0]!=="?"?"?"+t:t}var dr=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:()=>k(Om),providedIn:"root"});let t=e;return t})(),jC=new H(""),Om=(()=>{let e=class e extends dr{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??k(It).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return Nm(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+ur(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+ur(s));this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+ur(s));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(Y(Pm),Y(jC,8))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),BC=(()=>{let e=class e extends dr{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=Nm(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+ur(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+ur(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(Y(Pm),Y(jC,8))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})(),Uo=(()=>{let e=class e{constructor(r){this._subject=new ze,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=pO(PC(NC(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+ur(i))}normalize(r){return e.stripTrailingSlash(fO(this._basePath,NC(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+ur(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+ur(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}};e.normalizeQueryParams=ur,e.joinWithSlash=Nm,e.stripTrailingSlash=PC,e.\u0275fac=function(i){return new(i||e)(Y(dr))},e.\u0275prov=B({token:e,factory:()=>hO(),providedIn:"root"});let t=e;return t})();function hO(){return new Uo(Y(dr))}function fO(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function NC(t){return t.replace(/\/index.html$/,"")}function pO(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function Fl(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Sm=/\s+/,OC=[],$C=(()=>{let e=class e{constructor(r,i){this._ngEl=r,this._renderer=i,this.initialClasses=OC,this.stateMap=new Map}set klass(r){this.initialClasses=r!=null?r.trim().split(Sm):OC}set ngClass(r){this.rawClass=typeof r=="string"?r.trim().split(Sm):r}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(let i of r)this._updateState(i,!0);else if(r!=null)for(let i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){let o=this.stateMap.get(r);o!==void 0?(o.enabled!==i&&(o.changed=!0,o.enabled=i),o.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let r of this.stateMap){let i=r[0],o=r[1];o.changed?(this._toggleClass(i,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),o.touched=!1}}_toggleClass(r,i){r=r.trim(),r.length>0&&r.split(Sm).forEach(o=>{i?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}};e.\u0275fac=function(i){return new(i||e)($(Rt),$(gn))},e.\u0275dir=Le({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var Am=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},qr=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,o){this._viewContainer=r,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((o,s,a)=>{if(o.previousIndex==null)i.createEmbeddedView(this._template,new Am(o.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(s===null?void 0:s);else if(s!==null){let u=i.get(s);i.move(u,a),kC(u,o)}});for(let o=0,s=i.length;o<s;o++){let u=i.get(o).context;u.index=o,u.count=s,u.ngForOf=this._ngForOf}r.forEachIdentityChange(o=>{let s=i.get(o.currentIndex);kC(s,o)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)($(jr),$(Ai),$(Dm))},e.\u0275dir=Le({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function kC(t,e){t.context.$implicit=e.item}var zr=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new Mm,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){FC("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){FC("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)($(jr),$(Ai))},e.\u0275dir=Le({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),Mm=class{constructor(){this.$implicit=null,this.ngIf=null}};function FC(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Mt(e)}'.`)}function mO(t,e){return new Q(2100,!1)}var HC=(()=>{let e=class e{transform(r,i,o){if(r==null)return null;if(!this.supports(r))throw mO(e,r);return r.slice(i,o)}supports(r){return typeof r=="string"||Array.isArray(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275pipe=yI({name:"slice",type:e,pure:!1,standalone:!0});let t=e;return t})();var ht=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=pn({type:e}),e.\u0275inj=fn({});let t=e;return t})(),km="browser",gO="server";function Fm(t){return t===km}function Vl(t){return t===gO}var qC=(()=>{let e=class e{};e.\u0275prov=B({token:e,providedIn:"root",factory:()=>Fm(k(Vt))?new xm(k(It),window):new Rm});let t=e;return t})(),xm=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=yO(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function yO(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var Rm=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Lo=class{};var Ea=class{},Ul=class{},hr=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=i.toLowerCase(),s=n.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var Lm=class{encodeKey(e){return zC(e)}encodeValue(e){return zC(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function vO(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],u=n.get(s)||[];u.push(a),n.set(s,u)}),n}var _O=/%(\d[a-f0-9])/gi,wO={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function zC(t){return encodeURIComponent(t).replace(_O,(e,n)=>wO[n]??e)}function Ll(t){return`${t}`}var Wr=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Lm,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=vO(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(Ll):[Ll(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(Ll(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Ll(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Um=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function IO(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function GC(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function WC(t){return typeof Blob<"u"&&t instanceof Blob}function KC(t){return typeof FormData<"u"&&t instanceof FormData}function EO(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var Ia=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(IO(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new hr,this.context??=new Um,!this.params)this.params=new Wr,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),u=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+u+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||GC(this.body)||WC(this.body)||KC(this.body)||EO(this.body)?this.body:this.body instanceof Wr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||KC(this.body)?null:WC(this.body)?this.body.type||null:GC(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Wr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,u=e.reportProgress??this.reportProgress,l=e.headers||this.headers,h=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((g,y)=>g.set(y,e.setHeaders[y]),l)),e.setParams&&(h=Object.keys(e.setParams).reduce((g,y)=>g.set(y,e.setParams[y]),h)),new t(n,r,s,{params:h,headers:l,context:p,reportProgress:u,responseType:i,withCredentials:a,transferCache:o})}},Kr=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Kr||{}),Ca=class{constructor(e,n=200,r="OK"){this.headers=e.headers||new hr,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},jl=class t extends Ca{constructor(e={}){super(e),this.type=Kr.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},ba=class t extends Ca{constructor(e={}){super(e),this.type=Kr.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Gr=class extends Ca{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},XC=200,CO=204;function Vm(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var bO=(()=>{let e=class e{constructor(r){this.handler=r}request(r,i,o={}){let s;if(r instanceof Ia)s=r;else{let l;o.headers instanceof hr?l=o.headers:l=new hr(o.headers);let h;o.params&&(o.params instanceof Wr?h=o.params:h=new Wr({fromObject:o.params})),s=new Ia(r,i,o.body!==void 0?o.body:null,{headers:l,context:o.context,params:h,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let a=G(s).pipe(Yn(l=>this.handler.handle(l)));if(r instanceof Ia||o.observe==="events")return a;let u=a.pipe(St(l=>l instanceof ba));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return u.pipe(ie(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return u.pipe(ie(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return u.pipe(ie(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return u.pipe(ie(l=>l.body))}case"response":return u;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:new Wr().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,o={}){return this.request("PATCH",r,Vm(o,i))}post(r,i,o={}){return this.request("POST",r,Vm(o,i))}put(r,i,o={}){return this.request("PUT",r,Vm(o,i))}};e.\u0275fac=function(i){return new(i||e)(Y(Ea))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})(),DO=/^\)\]\}',?\n/,TO="X-Request-URL";function QC(t){if(t.url)return t.url;let e=TO.toLocaleLowerCase();return t.headers.get(e)}var SO=(()=>{let e=class e{constructor(){this.fetchImpl=k(jm,{optional:!0})?.fetch??fetch.bind(globalThis),this.ngZone=k(Me)}handle(r){return new ue(i=>{let o=new AbortController;return this.doRequest(r,o.signal,i).then(Bm,s=>i.error(new Gr({error:s}))),()=>o.abort()})}doRequest(r,i,o){return M(this,null,function*(){let s=this.createRequestInit(r),a;try{let T=this.fetchImpl(r.urlWithParams,j({signal:i},s));AO(T),o.next({type:Kr.Sent}),a=yield T}catch(T){o.error(new Gr({error:T,status:T.status??0,statusText:T.statusText,url:r.urlWithParams,headers:T.headers}));return}let u=new hr(a.headers),l=a.statusText,h=QC(a)??r.urlWithParams,p=a.status,g=null;if(r.reportProgress&&o.next(new jl({headers:u,status:p,statusText:l,url:h})),a.body){let T=a.headers.get("content-length"),N=[],R=a.body.getReader(),F=0,J,z,X=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>M(this,null,function*(){for(;;){let{done:re,value:I}=yield R.read();if(re)break;if(N.push(I),F+=I.length,r.reportProgress){z=r.responseType==="text"?(z??"")+(J??=new TextDecoder).decode(I,{stream:!0}):void 0;let v=()=>o.next({type:Kr.DownloadProgress,total:T?+T:void 0,loaded:F,partialText:z});X?X.run(v):v()}}}));let Pe=this.concatChunks(N,F);try{let re=a.headers.get("Content-Type")??"";g=this.parseBody(r,Pe,re)}catch(re){o.error(new Gr({error:re,headers:new hr(a.headers),status:a.status,statusText:a.statusText,url:QC(a)??r.urlWithParams}));return}}p===0&&(p=g?XC:0),p>=200&&p<300?(o.next(new ba({body:g,headers:u,status:p,statusText:l,url:h})),o.complete()):o.error(new Gr({error:g,headers:u,status:p,statusText:l,url:h}))})}parseBody(r,i,o){switch(r.responseType){case"json":let s=new TextDecoder().decode(i).replace(DO,"");return s===""?null:JSON.parse(s);case"text":return new TextDecoder().decode(i);case"blob":return new Blob([i],{type:o});case"arraybuffer":return i.buffer}}createRequestInit(r){let i={},o=r.withCredentials?"include":void 0;if(r.headers.forEach((s,a)=>i[s]=a.join(",")),i.Accept??="application/json, text/plain, */*",!i["Content-Type"]){let s=r.detectContentTypeHeader();s!==null&&(i["Content-Type"]=s)}return{body:r.serializeBody(),method:r.method,headers:i,credentials:o}}concatChunks(r,i){let o=new Uint8Array(i),s=0;for(let a of r)o.set(a,s),s+=a.length;return o}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})(),jm=class{};function Bm(){}function AO(t){t.then(Bm,Bm)}function eb(t,e){return e(t)}function MO(t,e){return(n,r)=>e.intercept(n,{handle:i=>t(i,r)})}function xO(t,e,n){return(r,i)=>$t(n,()=>e(r,o=>t(o,i)))}var RO=new H(""),$m=new H(""),PO=new H(""),tb=new H("",{providedIn:"root",factory:()=>!0});function NO(){let t=null;return(e,n)=>{t===null&&(t=(k(RO,{optional:!0})??[]).reduceRight(MO,eb));let r=k(ar);if(k(tb)){let o=r.add();return t(e,n).pipe(Rr(()=>r.remove(o)))}else return t(e,n)}}var YC=(()=>{let e=class e extends Ea{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=k(ar),this.contributeToStability=k(tb)}handle(r){if(this.chain===null){let i=Array.from(new Set([...this.injector.get($m),...this.injector.get(PO,[])]));this.chain=i.reduceRight((o,s)=>xO(o,s,this.injector),eb)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(r,o=>this.backend.handle(o)).pipe(Rr(()=>this.pendingTasks.remove(i)))}else return this.chain(r,i=>this.backend.handle(i))}};e.\u0275fac=function(i){return new(i||e)(Y(Ul),Y(vt))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})();var OO=/^\)\]\}',?\n/;function kO(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var JC=(()=>{let e=class e{constructor(r){this.xhrFactory=r}handle(r){if(r.method==="JSONP")throw new Q(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?Oe(i.\u0275loadImpl()):G(null)).pipe(kt(()=>new ue(s=>{let a=i.build();if(a.open(r.method,r.urlWithParams),r.withCredentials&&(a.withCredentials=!0),r.headers.forEach((R,F)=>a.setRequestHeader(R,F.join(","))),r.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){let R=r.detectContentTypeHeader();R!==null&&a.setRequestHeader("Content-Type",R)}if(r.responseType){let R=r.responseType.toLowerCase();a.responseType=R!=="json"?R:"text"}let u=r.serializeBody(),l=null,h=()=>{if(l!==null)return l;let R=a.statusText||"OK",F=new hr(a.getAllResponseHeaders()),J=kO(a)||r.url;return l=new jl({headers:F,status:a.status,statusText:R,url:J}),l},p=()=>{let{headers:R,status:F,statusText:J,url:z}=h(),X=null;F!==CO&&(X=typeof a.response>"u"?a.responseText:a.response),F===0&&(F=X?XC:0);let Pe=F>=200&&F<300;if(r.responseType==="json"&&typeof X=="string"){let re=X;X=X.replace(OO,"");try{X=X!==""?JSON.parse(X):null}catch(I){X=re,Pe&&(Pe=!1,X={error:I,text:X})}}Pe?(s.next(new ba({body:X,headers:R,status:F,statusText:J,url:z||void 0})),s.complete()):s.error(new Gr({error:X,headers:R,status:F,statusText:J,url:z||void 0}))},g=R=>{let{url:F}=h(),J=new Gr({error:R,status:a.status||0,statusText:a.statusText||"Unknown Error",url:F||void 0});s.error(J)},y=!1,T=R=>{y||(s.next(h()),y=!0);let F={type:Kr.DownloadProgress,loaded:R.loaded};R.lengthComputable&&(F.total=R.total),r.responseType==="text"&&a.responseText&&(F.partialText=a.responseText),s.next(F)},N=R=>{let F={type:Kr.UploadProgress,loaded:R.loaded};R.lengthComputable&&(F.total=R.total),s.next(F)};return a.addEventListener("load",p),a.addEventListener("error",g),a.addEventListener("timeout",g),a.addEventListener("abort",g),r.reportProgress&&(a.addEventListener("progress",T),u!==null&&a.upload&&a.upload.addEventListener("progress",N)),a.send(u),s.next({type:Kr.Sent}),()=>{a.removeEventListener("error",g),a.removeEventListener("abort",g),a.removeEventListener("load",p),a.removeEventListener("timeout",g),r.reportProgress&&(a.removeEventListener("progress",T),u!==null&&a.upload&&a.upload.removeEventListener("progress",N)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(i){return new(i||e)(Y(Lo))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})(),nb=new H(""),FO="XSRF-TOKEN",VO=new H("",{providedIn:"root",factory:()=>FO}),LO="X-XSRF-TOKEN",UO=new H("",{providedIn:"root",factory:()=>LO}),Bl=class{},jO=(()=>{let e=class e{constructor(r,i,o){this.doc=r,this.platform=i,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=Fl(r,this.cookieName),this.lastCookieString=r),this.lastToken}};e.\u0275fac=function(i){return new(i||e)(Y(It),Y(Vt),Y(VO))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})();function BO(t,e){let n=t.url.toLowerCase();if(!k(nb)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=k(Bl).getToken(),i=k(UO);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var rb=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(rb||{});function $O(t,e){return{\u0275kind:t,\u0275providers:e}}function Hm(...t){let e=[bO,JC,YC,{provide:Ea,useExisting:YC},{provide:Ul,useFactory:()=>k(SO,{optional:!0})??k(JC)},{provide:$m,useValue:BO,multi:!0},{provide:nb,useValue:!0},{provide:Bl,useClass:jO}];for(let n of t)e.push(...n.\u0275providers);return nr(e)}var ZC=new H("");function HO(){return $O(rb.LegacyInterceptors,[{provide:ZC,useFactory:NO},{provide:$m,useExisting:ZC,multi:!0}])}var ib=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=pn({type:e}),e.\u0275inj=fn({providers:[Hm(HO())]});let t=e;return t})();var Gm=class extends kl{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Wm=class t extends Gm{static makeCurrent(){LC(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=qO();return n==null?null:zO(n)}resetBaseElement(){Da=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Fl(document.cookie,e)}},Da=null;function qO(){return Da=Da||document.querySelector("base"),Da?Da.getAttribute("href"):null}function zO(t){return new URL(t,document.baseURI).pathname}var GO=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})(),Km=new H(""),cb=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new Q(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(Y(Km),Y(Me))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})(),$l=class{constructor(e){this._doc=e}},qm="ng-app-id",ub=(()=>{let e=class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Vl(s),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(o=>o.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${qm}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(o=>{o.textContent!=null&&i.set(o.textContent,o)}),i}return null}changeUsageCount(r,i){let o=this.styleRef;if(o.has(r)){let s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===r)return o.delete(i),s.removeAttribute(qm),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(qm,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let o=this.getStyleElement(r,i),s=this.styleRef,a=s.get(i)?.elements;a?a.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(Y(It),Y(im),Y(sm,8),Y(Vt))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})(),zm={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Ym=/%COMP%/g,lb="%COMP%",WO=`_nghost-${lb}`,KO=`_ngcontent-${lb}`,QO=!0,YO=new H("",{providedIn:"root",factory:()=>QO});function JO(t){return KO.replace(Ym,t)}function ZO(t){return WO.replace(Ym,t)}function db(t,e){return e.map(n=>n.replace(Ym,t))}var ob=(()=>{let e=class e{constructor(r,i,o,s,a,u,l,h=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=u,this.ngZone=l,this.nonce=h,this.rendererByCompId=new Map,this.platformIsServer=Vl(u),this.defaultRenderer=new Ta(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Tn.ShadowDom&&(i=be(j({},i),{encapsulation:Tn.Emulated}));let o=this.getOrCreateRenderer(r,i);return o instanceof Hl?o.applyToHost(r):o instanceof Sa&&o.applyStyles(),o}getOrCreateRenderer(r,i){let o=this.rendererByCompId,s=o.get(i.id);if(!s){let a=this.doc,u=this.ngZone,l=this.eventManager,h=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,g=this.platformIsServer;switch(i.encapsulation){case Tn.Emulated:s=new Hl(l,h,i,this.appId,p,a,u,g);break;case Tn.ShadowDom:return new Qm(l,h,r,i,a,u,this.nonce,g);default:s=new Sa(l,h,i,p,a,u,g);break}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(Y(cb),Y(ub),Y(im),Y(YO),Y(It),Y(Vt),Y(Me),Y(sm))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})(),Ta=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(zm[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(sb(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(sb(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new Q(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=zm[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=zm[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Xn.DashCase|Xn.Important)?e.style.setProperty(n,r,i&Xn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Xn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=lr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function sb(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Qm=class extends Ta{constructor(e,n,r,i,o,s,a,u){super(e,o,s,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=db(i.id,i.styles);for(let h of l){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Sa=class extends Ta{constructor(e,n,r,i,o,s,a,u){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?db(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Hl=class extends Sa{constructor(e,n,r,i,o,s,a,u){let l=i+"-"+r.id;super(e,n,r,o,s,a,u,l),this.contentAttr=JO(l),this.hostAttr=ZO(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},XO=(()=>{let e=class e extends $l{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}};e.\u0275fac=function(i){return new(i||e)(Y(It))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})(),ab=["alt","control","meta","shift"],ek={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},tk={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},nk=(()=>{let e=class e extends $l{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,o){let s=e.parseEventName(i),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>lr().onAndCancel(r,s.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(i.pop()),a="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),a="code."),ab.forEach(h=>{let p=i.indexOf(h);p>-1&&(i.splice(p,1),a+=h+".")}),a+=s,i.length!=0||s.length===0)return null;let l={};return l.domEventName=o,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let o=ek[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),ab.forEach(a=>{if(a!==o){let u=tk[a];u(r)&&(s+=a+".")}}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(Y(It))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})();function hb(t,e){return xC(j({rootComponent:t},rk(e)))}function rk(t){return{appProviders:[...ck,...t?.providers??[]],platformProviders:ak}}function ik(){Wm.makeCurrent()}function ok(){return new xn}function sk(){return _E(document),document}var ak=[{provide:Vt,useValue:km},{provide:om,useValue:ik,multi:!0},{provide:It,useFactory:sk,deps:[]}];var ck=[{provide:pl,useValue:"root"},{provide:xn,useFactory:ok,deps:[]},{provide:Km,useClass:XO,multi:!0,deps:[It,Me,Vt]},{provide:Km,useClass:nk,multi:!0,deps:[It]},ob,ub,cb,{provide:No,useExisting:ob},{provide:Lo,useClass:GO,deps:[]},[]];var fb=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(Y(It))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Cb=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)($(gn),$(Rt))},e.\u0275dir=Le({type:e});let t=e;return t})(),Jl=(()=>{let e=class e extends Cb{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=sr(e)))(o||e)}})(),e.\u0275dir=Le({type:e,features:[Xt]});let t=e;return t})(),Oa=new H("");var lk={provide:Oa,useExisting:Rn(()=>en),multi:!0};function dk(){let t=lr()?lr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var hk=new H(""),en=(()=>{let e=class e extends Cb{constructor(r,i,o){super(r,i),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!dk())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)($(gn),$(Rt),$(hk,8))},e.\u0275dir=Le({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&W("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[Br([lk]),Xt]});let t=e;return t})();function fk(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}var Zm=new H(""),bb=new H("");function pk(t){return fk(t.value)?{required:!0}:null}function pb(t){return null}function Db(t){return t!=null}function Tb(t){return Ri(t)?Oe(t):t}function Sb(t){let e={};return t.forEach(n=>{e=n!=null?j(j({},e),n):e}),Object.keys(e).length===0?null:e}function Ab(t,e){return e.map(n=>n(t))}function mk(t){return!t.validate}function Mb(t){return t.map(e=>mk(e)?e:n=>e.validate(n))}function gk(t){if(!t)return null;let e=t.filter(Db);return e.length==0?null:function(n){return Sb(Ab(n,e))}}function Xm(t){return t!=null?gk(Mb(t)):null}function yk(t){if(!t)return null;let e=t.filter(Db);return e.length==0?null:function(n){let r=Ab(n,e).map(Tb);return Af(r).pipe(ie(Sb))}}function eg(t){return t!=null?yk(Mb(t)):null}function mb(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function vk(t){return t._rawValidators}function _k(t){return t._rawAsyncValidators}function Jm(t){return t?Array.isArray(t)?t:[t]:[]}function zl(t,e){return Array.isArray(t)?t.includes(e):t===e}function gb(t,e){let n=Jm(e);return Jm(t).forEach(i=>{zl(n,i)||n.push(i)}),n}function yb(t,e){return Jm(e).filter(n=>!zl(t,n))}var Gl=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Xm(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=eg(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},$o=class extends Gl{get formDirective(){return null}get path(){return null}},Na=class extends Gl{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Wl=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},wk={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},IG=be(j({},wk),{"[class.ng-submitted]":"isSubmitted"}),kn=(()=>{let e=class e extends Wl{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)($(Na,2))},e.\u0275dir=Le({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&Al("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[Xt]});let t=e;return t})(),qo=(()=>{let e=class e extends Wl{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)($($o,10))},e.\u0275dir=Le({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,o){i&2&&Al("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[Xt]});let t=e;return t})();var Aa="VALID",ql="INVALID",jo="PENDING",Ma="DISABLED",Ho=class{},Kl=class extends Ho{constructor(e,n){super(),this.value=e,this.source=n}},Ra=class extends Ho{constructor(e,n){super(),this.pristine=e,this.source=n}},Pa=class extends Ho{constructor(e,n){super(),this.touched=e,this.source=n}},Bo=class extends Ho{constructor(e,n){super(),this.status=e,this.source=n}};function xb(t){return(Zl(t)?t.validators:t)||null}function Ik(t){return Array.isArray(t)?Xm(t):t||null}function Rb(t,e){return(Zl(e)?e.asyncValidators:t)||null}function Ek(t){return Array.isArray(t)?eg(t):t||null}function Zl(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function Ck(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new Q(1e3,"");if(!r[n])throw new Q(1001,"")}function bk(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new Q(1002,"")})}var Ql=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._events=new ot,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Aa}get invalid(){return this.status===ql}get pending(){return this.status==jo}get disabled(){return this.status===Ma}get enabled(){return this.status!==Ma}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(gb(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(gb(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(yb(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(yb(e,this._rawAsyncValidators))}hasValidator(e){return zl(this._rawValidators,e)}hasAsyncValidator(e){return zl(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(be(j({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Pa(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new Pa(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(be(j({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Ra(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new Ra(!0,r))}markAsPending(e={}){this.status=jo;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Bo(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(be(j({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Ma,this.errors=null,this._forEachChild(i=>{i.disable(be(j({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Kl(this.value,r)),this._events.next(new Bo(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(be(j({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Aa,this._forEachChild(r=>{r.enable(be(j({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(be(j({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Aa||this.status===jo)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Kl(this.value,n)),this._events.next(new Bo(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(be(j({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ma:Aa}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=jo,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=Tb(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Bo(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new ze,this.statusChanges=new ze}_calculateStatus(){return this._allControlsDisabled()?Ma:this.errors?ql:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(jo)?jo:this._anyControlsHaveStatus(ql)?ql:Aa}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new Ra(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new Pa(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Zl(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Ik(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Ek(this._rawAsyncValidators)}},Yl=class extends Ql{constructor(e,n,r){super(xb(n),Rb(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){bk(this,!0,e),Object.keys(e).forEach(r=>{Ck(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Xl=new H("CallSetDisabledState",{providedIn:"root",factory:()=>ed}),ed="always";function Dk(t,e){return[...e.path,t]}function Pb(t,e,n=ed){Nb(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),Sk(t,e),Mk(t,e),Ak(t,e),Tk(t,e)}function vb(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function Tk(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function Nb(t,e){let n=vk(t);e.validator!==null?t.setValidators(mb(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=_k(t);e.asyncValidator!==null?t.setAsyncValidators(mb(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();vb(e._rawValidators,i),vb(e._rawAsyncValidators,i)}function Sk(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&Ob(t,e)})}function Ak(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&Ob(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function Ob(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Mk(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function xk(t,e){t==null,Nb(t,e)}function Rk(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function Pk(t){return Object.getPrototypeOf(t.constructor)===Jl}function Nk(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Ok(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===en?n=o:Pk(o)?r=o:i=o}),i||r||n||null}var kk={provide:$o,useExisting:Rn(()=>Oi)},xa=Promise.resolve(),Oi=(()=>{let e=class e extends $o{constructor(r,i,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._directives=new Set,this.ngSubmit=new ze,this.form=new Yl({},Xm(r),eg(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){xa.then(()=>{let i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),Pb(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){xa.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){xa.then(()=>{let i=this._findContainer(r.path),o=new Yl({});xk(o,r),i.registerControl(r.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){xa.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){xa.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submitted=!0,Nk(this.form,this._directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}};e.\u0275fac=function(i){return new(i||e)($(Zm,10),$(bb,10),$(Xl,8))},e.\u0275dir=Le({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,o){i&1&&W("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Br([kk]),Xt]});let t=e;return t})();function _b(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function wb(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Fk=class extends Ql{constructor(e=null,n,r){super(xb(n),Rb(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Zl(n)&&(n.nonNullable||n.initialValueIsDefault)&&(wb(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){_b(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){_b(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){wb(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Vk={provide:Na,useExisting:Rn(()=>yn)},Ib=Promise.resolve(),yn=(()=>{let e=class e extends Na{constructor(r,i,o,s,a,u){super(),this._changeDetectorRef=a,this.callSetDisabledState=u,this.control=new Fk,this._registered=!1,this.name="",this.update=new ze,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=Ok(this,s)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),Rk(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Pb(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){Ib.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,o=i!==0&&Hr(i);Ib.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?Dk(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)($($o,9),$(Zm,10),$(bb,10),$(Oa,10),$($r,8),$(Xl,8))},e.\u0275dir=Le({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Br([Vk]),Xt,or]});let t=e;return t})(),zo=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Le({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})(),Lk={provide:Oa,useExisting:Rn(()=>tg),multi:!0},tg=(()=>{let e=class e extends Jl{writeValue(r){let i=r??"";this.setProperty("value",i)}registerOnChange(r){this.onChange=i=>{r(i==""?null:parseFloat(i))}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=sr(e)))(o||e)}})(),e.\u0275dir=Le({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,o){i&1&&W("input",function(a){return o.onChange(a.target.value)})("blur",function(){return o.onTouched()})},features:[Br([Lk]),Xt]});let t=e;return t})();var Uk=new H("");var jk={provide:Oa,useExisting:Rn(()=>Go),multi:!0};function kb(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function Bk(t){return t.split(":")[0]}var Go=(()=>{let e=class e extends Jl{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i=this._getOptionId(r),o=kb(i,r);this.setProperty("value",o)}registerOnChange(r){this.onChange=i=>{this.value=this._getOptionValue(i),r(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),r))return i;return null}_getOptionValue(r){let i=Bk(r);return this._optionMap.has(i)?this._optionMap.get(i):r}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=sr(e)))(o||e)}})(),e.\u0275dir=Le({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,o){i&1&&W("change",function(a){return o.onChange(a.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[Br([jk]),Xt]});let t=e;return t})(),td=(()=>{let e=class e{constructor(r,i,o){this._element=r,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(r){this._select!=null&&(this._select._optionMap.set(this.id,r),this._setElementValue(kb(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._setElementValue(r),this._select&&this._select.writeValue(this._select.value)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)($(Rt),$(gn),$(Go,9))},e.\u0275dir=Le({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})(),$k={provide:Oa,useExisting:Rn(()=>Fb),multi:!0};function Eb(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function Hk(t){return t.split(":")[0]}var Fb=(()=>{let e=class e extends Jl{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i;if(Array.isArray(r)){let o=r.map(s=>this._getOptionId(s));i=(s,a)=>{s._setSelected(o.indexOf(a.toString())>-1)}}else i=(o,s)=>{o._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(r){this.onChange=i=>{let o=[],s=i.selectedOptions;if(s!==void 0){let a=s;for(let u=0;u<a.length;u++){let l=a[u],h=this._getOptionValue(l.value);o.push(h)}}else{let a=i.options;for(let u=0;u<a.length;u++){let l=a[u];if(l.selected){let h=this._getOptionValue(l.value);o.push(h)}}}this.value=o,r(o)}}_registerOption(r){let i=(this._idCounter++).toString();return this._optionMap.set(i,r),i}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,r))return i;return null}_getOptionValue(r){let i=Hk(r);return this._optionMap.has(i)?this._optionMap.get(i)._value:r}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=sr(e)))(o||e)}})(),e.\u0275dir=Le({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,o){i&1&&W("change",function(a){return o.onChange(a.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[Br([$k]),Xt]});let t=e;return t})(),nd=(()=>{let e=class e{constructor(r,i,o){this._element=r,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(r){this._select!=null&&(this._value=r,this._setElementValue(Eb(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._select?(this._value=r,this._setElementValue(Eb(this.id,r)),this._select.writeValue(this._select.value)):this._setElementValue(r)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}_setSelected(r){this._renderer.setProperty(this._element.nativeElement,"selected",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)($(Rt),$(gn),$(Fb,9))},e.\u0275dir=Le({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})();var qk=(()=>{let e=class e{constructor(){this._validator=pb}ngOnChanges(r){if(this.inputName in r){let i=this.normalizeInput(r[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):pb,this._onChange&&this._onChange()}}validate(r){return this._validator(r)}registerOnValidatorChange(r){this._onChange=r}enabled(r){return r!=null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Le({type:e,features:[or]});let t=e;return t})();var zk={provide:Zm,useExisting:Rn(()=>ki),multi:!0};var ki=(()=>{let e=class e extends qk{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Hr,this.createValidator=r=>pk}enabled(r){return r}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=sr(e)))(o||e)}})(),e.\u0275dir=Le({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,o){i&2&&ya("required",o._enabled?"":null)},inputs:{required:"required"},features:[Br([zk]),Xt]});let t=e;return t})();var Vb=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=pn({type:e}),e.\u0275inj=fn({});let t=e;return t})();var tn=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:Xl,useValue:r.callSetDisabledState??ed}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=pn({type:e}),e.\u0275inj=fn({imports:[Vb]});let t=e;return t})(),Lb=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:Uk,useValue:r.warnOnNgModelWithFormControl??"always"},{provide:Xl,useValue:r.callSetDisabledState??ed}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=pn({type:e}),e.\u0275inj=fn({imports:[Vb]});let t=e;return t})();var pe="primary",Ja=Symbol("RouteTitle"),sg=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Zo(t){return new sg(t)}function Gk(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Wk(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Fn(t[n],e[n]))return!1;return!0}function Fn(t,e){let n=t?ag(t):void 0,r=e?ag(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!Qb(t[i],e[i]))return!1;return!0}function ag(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function Qb(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function Yb(t){return t.length>0?t[t.length-1]:null}function Jr(t){return Sf(t)?t:Ri(t)?Oe(Promise.resolve(t)):G(t)}var Kk={exact:Zb,subset:Xb},Jb={exact:Qk,subset:Yk,ignored:()=>!0};function Ub(t,e,n){return Kk[n.paths](t.root,e.root,n.matrixParams)&&Jb[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function Qk(t,e){return Fn(t,e)}function Zb(t,e,n){if(!Vi(t.segments,e.segments)||!od(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!Zb(t.children[r],e.children[r],n))return!1;return!0}function Yk(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Qb(t[n],e[n]))}function Xb(t,e,n){return eD(t,e,e.segments,n)}function eD(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Vi(i,n)||e.hasChildren()||!od(i,n,r))}else if(t.segments.length===n.length){if(!Vi(t.segments,n)||!od(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!Xb(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!Vi(t.segments,i)||!od(t.segments,i,r)||!t.children[pe]?!1:eD(t.children[pe],e,o,r)}}function od(t,e,n){return e.every((r,i)=>Jb[n](t[i].parameters,r.parameters))}var Qr=class{constructor(e=new xe([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Zo(this.queryParams),this._queryParamMap}toString(){return Xk.serialize(this)}},xe=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return sd(this)}},Fi=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Zo(this.parameters),this._parameterMap}toString(){return nD(this)}};function Jk(t,e){return Vi(t,e)&&t.every((n,r)=>Fn(n.parameters,e[r].parameters))}function Vi(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function Zk(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===pe&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==pe&&(n=n.concat(e(i,r)))}),n}var Za=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:()=>new Xo,providedIn:"root"});let t=e;return t})(),Xo=class{parse(e){let n=new ug(e);return new Qr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Fa(e.root,!0)}`,r=nF(e.queryParams),i=typeof e.fragment=="string"?`#${eF(e.fragment)}`:"";return`${n}${r}${i}`}},Xk=new Xo;function sd(t){return t.segments.map(e=>nD(e)).join("/")}function Fa(t,e){if(!t.hasChildren())return sd(t);if(e){let n=t.children[pe]?Fa(t.children[pe],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==pe&&r.push(`${i}:${Fa(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=Zk(t,(r,i)=>i===pe?[Fa(t.children[pe],!1)]:[`${i}:${Fa(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[pe]!=null?`${sd(t)}/${n[0]}`:`${sd(t)}/(${n.join("//")})`}}function tD(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function rd(t){return tD(t).replace(/%3B/gi,";")}function eF(t){return encodeURI(t)}function cg(t){return tD(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ad(t){return decodeURIComponent(t)}function jb(t){return ad(t.replace(/\+/g,"%20"))}function nD(t){return`${cg(t.path)}${tF(t.parameters)}`}function tF(t){return Object.entries(t).map(([e,n])=>`;${cg(e)}=${cg(n)}`).join("")}function nF(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${rd(n)}=${rd(i)}`).join("&"):`${rd(n)}=${rd(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var rF=/^[^\/()?;#]+/;function ng(t){let e=t.match(rF);return e?e[0]:""}var iF=/^[^\/()?;=#]+/;function oF(t){let e=t.match(iF);return e?e[0]:""}var sF=/^[^=?&#]+/;function aF(t){let e=t.match(sF);return e?e[0]:""}var cF=/^[^&#]+/;function uF(t){let e=t.match(cF);return e?e[0]:""}var ug=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new xe([],{}):new xe([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[pe]=new xe(e,n)),r}parseSegment(){let e=ng(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new Q(4009,!1);return this.capture(e),new Fi(ad(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=oF(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=ng(this.remaining);i&&(r=i,this.capture(r))}e[ad(n)]=ad(r)}parseQueryParam(e){let n=aF(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=uF(this.remaining);s&&(r=s,this.capture(r))}let i=jb(n),o=jb(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=ng(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new Q(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=pe);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[pe]:new xe([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new Q(4011,!1)}};function rD(t){return t.segments.length>0?new xe([],{[pe]:t}):t}function iD(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=iD(i);if(r===pe&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new xe(t.segments,e);return lF(n)}function lF(t){if(t.numberOfChildren===1&&t.children[pe]){let e=t.children[pe];return new xe(t.segments.concat(e.segments),e.children)}return t}function $a(t){return t instanceof Qr}function dF(t,e,n=null,r=null){let i=oD(t);return sD(i,e,n,r)}function oD(t){let e;function n(o){let s={};for(let u of o.children){let l=n(u);s[u.outlet]=l}let a=new xe(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=rD(r);return e??i}function sD(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return rg(i,i,i,n,r);let o=hF(e);if(o.toRoot())return rg(i,i,new xe([],{}),n,r);let s=fF(o,i,t),a=s.processChildren?Ua(s.segmentGroup,s.index,o.commands):cD(s.segmentGroup,s.index,o.commands);return rg(i,s.segmentGroup,a,n,r)}function cd(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Ha(t){return typeof t=="object"&&t!=null&&t.outlets}function rg(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;t===e?s=n:s=aD(t,e,n);let a=rD(iD(s));return new Qr(a,o,i)}function aD(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=aD(o,e,n)}),new xe(t.segments,r)}var ud=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&cd(r[0]))throw new Q(4003,!1);let i=r.find(Ha);if(i&&i!==Yb(r))throw new Q(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function hF(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new ud(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new ud(n,e,r)}var Qo=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function fF(t,e,n){if(t.isAbsolute)return new Qo(e,!0,0);if(!n)return new Qo(e,!1,NaN);if(n.parent===null)return new Qo(n,!0,0);let r=cd(t.commands[0])?0:1,i=n.segments.length-1+r;return pF(n,i,t.numberOfDoubleDots)}function pF(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Q(4005,!1);i=r.segments.length}return new Qo(r,!1,i-o)}function mF(t){return Ha(t[0])?t[0].outlets:{[pe]:t}}function cD(t,e,n){if(t??=new xe([],{}),t.segments.length===0&&t.hasChildren())return Ua(t,e,n);let r=gF(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new xe(t.segments.slice(0,r.pathIndex),{});return o.children[pe]=new xe(t.segments.slice(r.pathIndex),t.children),Ua(o,0,i)}else return r.match&&i.length===0?new xe(t.segments,{}):r.match&&!t.hasChildren()?lg(t,e,n):r.match?Ua(t,0,i):lg(t,e,n)}function Ua(t,e,n){if(n.length===0)return new xe(t.segments,{});{let r=mF(n),i={};if(Object.keys(r).some(o=>o!==pe)&&t.children[pe]&&t.numberOfChildren===1&&t.children[pe].segments.length===0){let o=Ua(t.children[pe],e,n);return new xe(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=cD(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new xe(t.segments,i)}}function gF(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(Ha(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!$b(u,l,s))return o;r+=2}else{if(!$b(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function lg(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(Ha(o)){let u=yF(o.outlets);return new xe(r,u)}if(i===0&&cd(n[0])){let u=t.segments[e];r.push(new Fi(u.path,Bb(n[0]))),i++;continue}let s=Ha(o)?o.outlets[pe]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&cd(a)?(r.push(new Fi(s,Bb(a))),i+=2):(r.push(new Fi(s,{})),i++)}return new xe(r,{})}function yF(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=lg(new xe([],{}),0,r))}),e}function Bb(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function $b(t,e,n){return t==n.path&&Fn(e,n.parameters)}var ja="imperative",ct=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(ct||{}),nn=class{constructor(e,n){this.id=e,this.url=n}},es=class extends nn{constructor(e,n,r="imperative",i=null){super(e,n),this.type=ct.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},_n=class extends nn{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=ct.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},qt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(qt||{}),ld=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(ld||{}),fr=class extends nn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=ct.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Yr=class extends nn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=ct.NavigationSkipped}},qa=class extends nn{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=ct.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},dd=class extends nn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ct.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},dg=class extends nn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ct.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},hg=class extends nn{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=ct.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},fg=class extends nn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ct.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},pg=class extends nn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ct.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},mg=class{constructor(e){this.route=e,this.type=ct.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},gg=class{constructor(e){this.route=e,this.type=ct.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},yg=class{constructor(e){this.snapshot=e,this.type=ct.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},vg=class{constructor(e){this.snapshot=e,this.type=ct.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},_g=class{constructor(e){this.snapshot=e,this.type=ct.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},wg=class{constructor(e){this.snapshot=e,this.type=ct.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},hd=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=ct.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},za=class{},ts=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};var Ig=class{constructor(e){this.injector=e,this.outlet=null,this.route=null,this.children=new Xa(this.injector),this.attachRef=null}},Xa=(()=>{let e=class e{constructor(r){this.parentInjector=r,this.contexts=new Map}onChildOutletCreated(r,i){let o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Ig(this.parentInjector),this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)(Y(vt))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),fd=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Eg(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Eg(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Cg(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Cg(e,this._root).map(n=>n.value)}};function Eg(t,e){if(t===e.value)return e;for(let n of e.children){let r=Eg(t,n);if(r)return r}return null}function Cg(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Cg(t,n);if(r.length)return r.unshift(e),r}return[]}var Ht=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Ko(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var pd=class extends fd{constructor(e,n){super(e),this.snapshot=n,Pg(this,e)}toString(){return this.snapshot.toString()}};function uD(t){let e=vF(t),n=new Ye([new Fi("",{})]),r=new Ye({}),i=new Ye({}),o=new Ye({}),s=new Ye(""),a=new Vn(n,r,o,s,i,pe,t,e.root);return a.snapshot=e.root,new pd(new Ht(a,[]),e)}function vF(t){let e={},n={},r={},i="",o=new Yo([],e,r,i,n,pe,t,null,{});return new gd("",new Ht(o,[]))}var Vn=class{constructor(e,n,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ie(l=>l[Ja]))??G(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ie(e=>Zo(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ie(e=>Zo(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function md(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:j(j({},e.params),t.params),data:j(j({},e.data),t.data),resolve:j(j(j(j({},t.data),e.data),i?.data),t._resolvedData)}:r={params:j({},t.params),data:j({},t.data),resolve:j(j({},t.data),t._resolvedData??{})},i&&dD(i)&&(r.resolve[Ja]=i.title),r}var Yo=class{get title(){return this.data?.[Ja]}constructor(e,n,r,i,o,s,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Zo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Zo(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},gd=class extends fd{constructor(e,n){super(n),this.url=e,Pg(this,n)}toString(){return lD(this._root)}};function Pg(t,e){e.value._routerState=t,e.children.forEach(n=>Pg(t,n))}function lD(t){let e=t.children.length>0?` { ${t.children.map(lD).join(", ")} } `:"";return`${t.value}${e}`}function ig(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Fn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Fn(e.params,n.params)||t.paramsSubject.next(n.params),Wk(e.url,n.url)||t.urlSubject.next(n.url),Fn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function bg(t,e){let n=Fn(t.params,e.params)&&Jk(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||bg(t.parent,e.parent))}function dD(t){return typeof t.title=="string"||t.title===null}var Ng=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=pe,this.activateEvents=new ze,this.deactivateEvents=new ze,this.attachEvents=new ze,this.detachEvents=new ze,this.parentContexts=k(Xa),this.location=k(jr),this.changeDetector=k($r),this.inputBinder=k(wd,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Q(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Q(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Q(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new Q(4013,!1);this._activatedRoute=r;let o=this.location,a=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,l=new Dg(r,u,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Le({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[or]});let t=e;return t})(),Dg=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Vn?this.route:e===Xa?this.childContexts:this.parent.get(e,n)}},wd=new H(""),Hb=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:i}=r,o=ra([i.queryParams,i.params,i.data]).pipe(kt(([s,a,u],l)=>(u=j(j(j({},s),a),u),l===0?G(u):Promise.resolve(u)))).subscribe(s=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(r);return}let a=RC(i.component);if(!a){this.unsubscribeFromRouteData(r);return}for(let{templateName:u}of a.inputs)r.activatedComponentRef.setInput(u,s[u])});this.outletDataSubscriptions.set(r,o)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})();function _F(t,e,n){let r=Ga(t,e._root,n?n._root:void 0);return new pd(r,e)}function Ga(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=wF(t,e,n);return new Ht(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Ga(t,a)),s}}let r=IF(e.value),i=e.children.map(o=>Ga(t,o));return new Ht(r,i)}}function wF(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Ga(t,r,i);return Ga(t,r)})}function IF(t){return new Vn(new Ye(t.url),new Ye(t.params),new Ye(t.queryParams),new Ye(t.fragment),new Ye(t.data),t.outlet,t.component,t)}var Wa=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},hD="ngNavigationCancelingError";function yd(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=$a(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=fD(!1,qt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function fD(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[hD]=!0,n.cancellationCode=e,n}function EF(t){return pD(t)&&$a(t.url)}function pD(t){return!!t&&t[hD]}var CF=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ge({type:e,selectors:[["ng-component"]],standalone:!0,features:[We],decls:1,vars:0,template:function(i,o){i&1&&fe(0,"router-outlet")},dependencies:[Ng],encapsulation:2});let t=e;return t})();function bF(t,e){return t.providers&&!t._injector&&(t._injector=Sl(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Og(t){let e=t.children&&t.children.map(Og),n=e?be(j({},t),{children:e}):j({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==pe&&(n.component=CF),n}function vn(t){return t.outlet||pe}function DF(t,e){let n=t.filter(r=>vn(r)===e);return n.push(...t.filter(r=>vn(r)!==e)),n}function ec(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var TF=(t,e,n,r)=>ie(i=>(new Tg(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Tg=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),ig(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Ko(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Ko(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Ko(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Ko(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new wg(o.value.snapshot))}),e.children.length&&this.forwardEvent(new vg(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(ig(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),ig(a.route.value),this.activateChildRoutes(e,null,s.children)}else{let a=ec(i.snapshot);s.attachRef=null,s.route=i,s.injector=a??s.injector,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}},vd=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Jo=class{constructor(e,n){this.component=e,this.route=n}};function SF(t,e,n){let r=t._root,i=e?e._root:null;return Va(r,i,n,[r.value])}function AF(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function is(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!iI(t)?t:e.get(t):r}function Va(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Ko(e);return t.children.forEach(s=>{MF(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Ba(a,n.getContext(s),i)),i}function MF(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=xF(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new vd(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Va(t,e,a?a.children:null,r,i):Va(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Jo(a.outlet.component,s))}else s&&Ba(e,a,i),i.canActivateChecks.push(new vd(r)),o.component?Va(t,null,a?a.children:null,r,i):Va(t,null,n,r,i);return i}function xF(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Vi(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Vi(t.url,e.url)||!Fn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!bg(t,e)||!Fn(t.queryParams,e.queryParams);case"paramsChange":default:return!bg(t,e)}}function Ba(t,e,n){let r=Ko(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Ba(s,e.children.getContext(o),n):Ba(s,null,n):Ba(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Jo(e.outlet.component,i)):n.canDeactivateChecks.push(new Jo(null,i)):n.canDeactivateChecks.push(new Jo(null,i))}function tc(t){return typeof t=="function"}function RF(t){return typeof t=="boolean"}function PF(t){return t&&tc(t.canLoad)}function NF(t){return t&&tc(t.canActivate)}function OF(t){return t&&tc(t.canActivateChild)}function kF(t){return t&&tc(t.canDeactivate)}function FF(t){return t&&tc(t.canMatch)}function mD(t){return t instanceof Qn||t?.name==="EmptyError"}var id=Symbol("INITIAL_VALUE");function ns(){return kt(t=>ra(t.map(e=>e.pipe(Jn(1),Ru(id)))).pipe(ie(e=>{for(let n of e)if(n!==!0){if(n===id)return id;if(n===!1||VF(n))return n}return!0}),St(e=>e!==id),Jn(1)))}function VF(t){return $a(t)||t instanceof Wa}function LF(t,e){return Ze(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?G(be(j({},n),{guardsResult:!0})):UF(s,r,i,t).pipe(Ze(a=>a&&RF(a)?jF(r,o,t,e):G(a)),ie(a=>be(j({},n),{guardsResult:a})))})}function UF(t,e,n,r){return Oe(t).pipe(Ze(i=>zF(i.component,i.route,n,e,r)),Cn(i=>i!==!0,!0))}function jF(t,e,n,r){return Oe(e).pipe(Yn(i=>yo($F(i.route.parent,r),BF(i.route,r),qF(t,i.path,n),HF(t,i.route,n))),Cn(i=>i!==!0,!0))}function BF(t,e){return t!==null&&e&&e(new _g(t)),G(!0)}function $F(t,e){return t!==null&&e&&e(new yg(t)),G(!0)}function HF(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return G(!0);let i=r.map(o=>Au(()=>{let s=ec(e)??n,a=is(o,s),u=NF(a)?a.canActivate(e,t):$t(s,()=>a(e,t));return Jr(u).pipe(Cn())}));return G(i).pipe(ns())}function qF(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>AF(s)).filter(s=>s!==null).map(s=>Au(()=>{let a=s.guards.map(u=>{let l=ec(s.node)??n,h=is(u,l),p=OF(h)?h.canActivateChild(r,t):$t(l,()=>h(r,t));return Jr(p).pipe(Cn())});return G(a).pipe(ns())}));return G(o).pipe(ns())}function zF(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return G(!0);let s=o.map(a=>{let u=ec(e)??i,l=is(a,u),h=kF(l)?l.canDeactivate(t,e,n,r):$t(u,()=>l(t,e,n,r));return Jr(h).pipe(Cn())});return G(s).pipe(ns())}function GF(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return G(!0);let o=i.map(s=>{let a=is(s,t),u=PF(a)?a.canLoad(e,n):$t(t,()=>a(e,n));return Jr(u)});return G(o).pipe(ns(),gD(r))}function gD(t){return au(Xe(e=>{if(typeof e!="boolean")throw yd(t,e)}),ie(e=>e===!0))}function WF(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return G(!0);let o=i.map(s=>{let a=is(s,t),u=FF(a)?a.canMatch(e,n):$t(t,()=>a(e,n));return Jr(u)});return G(o).pipe(ns(),gD(r))}var Ka=class{constructor(e){this.segmentGroup=e||null}},Qa=class extends Error{constructor(e){super(),this.urlTree=e}};function Wo(t){return go(new Ka(t))}function KF(t){return go(new Q(4e3,!1))}function QF(t){return go(fD(!1,qt.GuardRejected))}var Sg=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return G(r);if(i.numberOfChildren>1||!i.children[pe])return KF(`${e.redirectTo}`);i=i.children[pe]}}applyRedirectCommands(e,n,r,i,o){if(typeof n!="string"){let a=n,{queryParams:u,fragment:l,routeConfig:h,url:p,outlet:g,params:y,data:T,title:N}=i,R=$t(o,()=>a({params:y,data:T,queryParams:u,fragment:l,routeConfig:h,url:p,outlet:g,title:N}));if(R instanceof Qr)throw new Qa(R);n=R}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new Qa(s);return s}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new Qr(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new xe(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new Q(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Ag={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function YF(t,e,n,r,i){let o=kg(t,e,n);return o.matched?(r=bF(e,r),WF(r,e,n,i).pipe(ie(s=>s===!0?o:j({},Ag)))):G(o)}function kg(t,e,n){if(e.path==="**")return JF(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?j({},Ag):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||Gk)(n,t,e);if(!i)return j({},Ag);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?j(j({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function JF(t){return{matched:!0,parameters:t.length>0?Yb(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function qb(t,e,n,r){return n.length>0&&eV(t,n,r)?{segmentGroup:new xe(e,XF(r,new xe(n,t.children))),slicedSegments:[]}:n.length===0&&tV(t,n,r)?{segmentGroup:new xe(t.segments,ZF(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new xe(t.segments,t.children),slicedSegments:n}}function ZF(t,e,n,r){let i={};for(let o of n)if(Id(t,e,o)&&!r[vn(o)]){let s=new xe([],{});i[vn(o)]=s}return j(j({},r),i)}function XF(t,e){let n={};n[pe]=e;for(let r of t)if(r.path===""&&vn(r)!==pe){let i=new xe([],{});n[vn(r)]=i}return n}function eV(t,e,n){return n.some(r=>Id(t,e,r)&&vn(r)!==pe)}function tV(t,e,n){return n.some(r=>Id(t,e,r))}function Id(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function nV(t,e,n,r){return vn(t)!==r&&(r===pe||!Id(e,n,t))?!1:kg(e,t,n).matched}function rV(t,e,n){return e.length===0&&!t.children[n]}var Mg=class{};function iV(t,e,n,r,i,o,s="emptyOnly"){return new xg(t,e,n,r,i,s,o).recognize()}var oV=31,xg=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Sg(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new Q(4002,`'${e.segmentGroup}'`)}recognize(){let e=qb(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ie(({children:n,rootSnapshot:r})=>{let i=new Ht(r,n),o=new gd("",i),s=dF(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new Yo([],Object.freeze({}),Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),pe,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,pe,n).pipe(ie(r=>({children:r,rootSnapshot:n})),En(r=>{if(r instanceof Qa)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Ka?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(ie(s=>s instanceof Ht?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Oe(o).pipe(Yn(s=>{let a=r.children[s],u=DF(n,s);return this.processSegmentGroup(e,u,a,s,i)}),xu((s,a)=>(s.push(...a),s)),xr(null),Rf(),Ze(s=>{if(s===null)return Wo(r);let a=yD(s);return sV(a),G(a)}))}processSegment(e,n,r,i,o,s,a){return Oe(n).pipe(Yn(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,o,s,a).pipe(En(l=>{if(l instanceof Ka)return G(null);throw l}))),Cn(u=>!!u),En(u=>{if(mD(u))return rV(r,i,o)?G(new Mg):Wo(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,o,s,a,u){return nV(r,i,o,s)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,u):Wo(i):Wo(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:g}=kg(n,i,o);if(!u)return Wo(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>oV&&(this.allowRedirects=!1));let y=new Yo(o,l,Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,zb(i),vn(i),i.component??i._loadedComponent??null,i,Gb(i)),T=md(y,a,this.paramsInheritanceStrategy);y.params=Object.freeze(T.params),y.data=Object.freeze(T.data);let N=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,y,e);return this.applyRedirects.lineralizeSegments(i,N).pipe(Ze(R=>this.processSegment(e,r,n,R.concat(g),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a=YF(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(kt(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(kt(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:g,remainingSegments:y}=u,T=new Yo(g,p,Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,zb(r),vn(r),r.component??r._loadedComponent??null,r,Gb(r)),N=md(T,s,this.paramsInheritanceStrategy);T.params=Object.freeze(N.params),T.data=Object.freeze(N.data);let{segmentGroup:R,slicedSegments:F}=qb(n,g,y,l);if(F.length===0&&R.hasChildren())return this.processChildren(h,l,R,T).pipe(ie(z=>new Ht(T,z)));if(l.length===0&&F.length===0)return G(new Ht(T,[]));let J=vn(r)===o;return this.processSegment(h,l,R,F,J?pe:o,!0,T).pipe(ie(z=>new Ht(T,z instanceof Ht?[z]:[])))}))):Wo(n)))}getChildConfig(e,n,r){return n.children?G({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?G({routes:n._loadedRoutes,injector:n._loadedInjector}):GF(e,n,r,this.urlSerializer).pipe(Ze(i=>i?this.configLoader.loadChildren(e,n).pipe(Xe(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):QF(n))):G({routes:[],injector:e})}};function sV(t){t.sort((e,n)=>e.value.outlet===pe?-1:n.value.outlet===pe?1:e.value.outlet.localeCompare(n.value.outlet))}function aV(t){let e=t.value.routeConfig;return e&&e.path===""}function yD(t){let e=[],n=new Set;for(let r of t){if(!aV(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=yD(r.children);e.push(new Ht(r.value,i))}return e.filter(r=>!n.has(r))}function zb(t){return t.data||{}}function Gb(t){return t.resolve||{}}function cV(t,e,n,r,i,o){return Ze(s=>iV(t,e,n,r,s.extractedUrl,i,o).pipe(ie(({state:a,tree:u})=>be(j({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function uV(t,e){return Ze(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return G(n);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of vD(u))s.add(l);let a=0;return Oe(s).pipe(Yn(u=>o.has(u)?lV(u,r,t,e):(u.data=md(u,u.parent,t).resolve,G(void 0))),Xe(()=>a++),vo(1),Ze(u=>a===s.size?G(n):jt))})}function vD(t){let e=t.children.map(n=>vD(n)).flat();return[t,...e]}function lV(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!dD(i)&&(o[Ja]=i.title),dV(o,t,e,r).pipe(ie(s=>(t._resolvedData=s,t.data=md(t,t.parent,n).resolve,null)))}function dV(t,e,n,r){let i=ag(t);if(i.length===0)return G({});let o={};return Oe(i).pipe(Ze(s=>hV(t[s],e,n,r).pipe(Cn(),Xe(a=>{if(a instanceof Wa)throw yd(new Xo,a);o[s]=a}))),vo(1),xf(o),En(s=>mD(s)?jt:go(s)))}function hV(t,e,n,r){let i=ec(e)??r,o=is(t,i),s=o.resolve?o.resolve(e,n):$t(i,()=>o(e,n));return Jr(s)}function og(t){return kt(e=>{let n=t(e);return n?Oe(n).pipe(ie(()=>e)):G(e)})}var _D=(()=>{let e=class e{buildTitle(r){let i,o=r.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===pe);return i}getResolvedTitleForRoute(r){return r.data[Ja]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:()=>k(fV),providedIn:"root"});let t=e;return t})(),fV=(()=>{let e=class e extends _D{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(Y(fb))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),nc=new H("",{providedIn:"root",factory:()=>({})}),Ya=new H(""),Fg=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=k(Ol)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return G(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Jr(r.loadComponent()).pipe(ie(wD),Xe(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),Rr(()=>{this.componentLoaders.delete(r)})),o=new ho(i,()=>new ot).pipe(lo());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return G({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=pV(i,this.compiler,r,this.onLoadEndListener).pipe(Rr(()=>{this.childrenLoaders.delete(i)})),a=new ho(s,()=>new ot).pipe(lo());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function pV(t,e,n,r){return Jr(t.loadChildren()).pipe(ie(wD),Ze(i=>i instanceof da||Array.isArray(i)?G(i):Oe(e.compileModuleAsync(i))),ie(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(Ya,[],{optional:!0,self:!0}).flat()),{routes:s.map(Og),injector:o}}))}function mV(t){return t&&typeof t=="object"&&"default"in t}function wD(t){return mV(t)?t.default:t}var Vg=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:()=>k(gV),providedIn:"root"});let t=e;return t})(),gV=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ID=new H(""),ED=new H("");function yV(t,e,n){let r=t.get(ED),i=t.get(It);return t.get(Me).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),vV(t))),{onViewTransitionCreated:u}=r;return u&&$t(t,()=>u({transition:a,from:e,to:n})),s})}function vV(t){return new Promise(e=>{Tl(()=>setTimeout(e),{injector:t,phase:Nr.Read})})}var _V=new H(""),Lg=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ot,this.transitionAbortSubject=new ot,this.configLoader=k(Fg),this.environmentInjector=k(vt),this.urlSerializer=k(Za),this.rootContexts=k(Xa),this.location=k(Uo),this.inputBindingEnabled=k(wd,{optional:!0})!==null,this.titleStrategy=k(_D),this.options=k(nc,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=k(Vg),this.createViewTransition=k(ID,{optional:!0}),this.navigationErrorHandler=k(_V,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>G(void 0),this.rootComponentType=null;let r=o=>this.events.next(new mg(o)),i=o=>this.events.next(new gg(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(be(j(j({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,o){return this.transitions=new Ye({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:ja,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(St(s=>s.id!==0),ie(s=>be(j({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),kt(s=>{let a=!1,u=!1;return G(s).pipe(kt(l=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",qt.SupersededByNewNavigation),jt;this.currentTransition=s,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?be(j({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let h=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!h&&p!=="reload"){let g="";return this.events.next(new Yr(l.id,this.urlSerializer.serialize(l.rawUrl),g,ld.IgnoredSameUrlNavigation)),l.resolve(!1),jt}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return G(l).pipe(kt(g=>{let y=this.transitions?.getValue();return this.events.next(new es(g.id,this.urlSerializer.serialize(g.extractedUrl),g.source,g.restoredState)),y!==this.transitions?.getValue()?jt:Promise.resolve(g)}),cV(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),Xe(g=>{s.targetSnapshot=g.targetSnapshot,s.urlAfterRedirects=g.urlAfterRedirects,this.currentNavigation=be(j({},this.currentNavigation),{finalUrl:g.urlAfterRedirects});let y=new dd(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(y)}));if(h&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:g,extractedUrl:y,source:T,restoredState:N,extras:R}=l,F=new es(g,this.urlSerializer.serialize(y),T,N);this.events.next(F);let J=uD(this.rootComponentType).snapshot;return this.currentTransition=s=be(j({},l),{targetSnapshot:J,urlAfterRedirects:y,extras:be(j({},R),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=y,G(s)}else{let g="";return this.events.next(new Yr(l.id,this.urlSerializer.serialize(l.extractedUrl),g,ld.IgnoredByUrlHandlingStrategy)),l.resolve(!1),jt}}),Xe(l=>{let h=new dg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),ie(l=>(this.currentTransition=s=be(j({},l),{guards:SF(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),s)),LF(this.environmentInjector,l=>this.events.next(l)),Xe(l=>{if(s.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw yd(this.urlSerializer,l.guardsResult);let h=new hg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(h)}),St(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",qt.GuardRejected),!1)),og(l=>{if(l.guards.canActivateChecks.length)return G(l).pipe(Xe(h=>{let p=new fg(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}),kt(h=>{let p=!1;return G(h).pipe(uV(this.paramsInheritanceStrategy,this.environmentInjector),Xe({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(h,"",qt.NoDataFromResolver)}}))}),Xe(h=>{let p=new pg(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}))}),og(l=>{let h=p=>{let g=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&g.push(this.configLoader.loadComponent(p.routeConfig).pipe(Xe(y=>{p.component=y}),ie(()=>{})));for(let y of p.children)g.push(...h(y));return g};return ra(h(l.targetSnapshot.root)).pipe(xr(null),Jn(1))}),og(()=>this.afterPreactivation()),kt(()=>{let{currentSnapshot:l,targetSnapshot:h}=s,p=this.createViewTransition?.(this.environmentInjector,l.root,h.root);return p?Oe(p).pipe(ie(()=>s)):G(s)}),ie(l=>{let h=_F(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s=be(j({},l),{targetRouterState:h}),this.currentNavigation.targetRouterState=h,s}),Xe(()=>{this.events.next(new za)}),TF(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Jn(1),Xe({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new _n(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),Pf(this.transitionAbortSubject.pipe(Xe(l=>{throw l}))),Rr(()=>{!a&&!u&&this.cancelNavigationTransition(s,"",qt.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),En(l=>{if(u=!0,pD(l))this.events.next(new fr(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),EF(l)?this.events.next(new ts(l.url,l.navigationBehaviorOptions)):s.resolve(!1);else{let h=new qa(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0);try{let p=$t(this.environmentInjector,()=>this.navigationErrorHandler?.(h));if(p instanceof Wa){let{message:g,cancellationCode:y}=yd(this.urlSerializer,p);this.events.next(new fr(s.id,this.urlSerializer.serialize(s.extractedUrl),g,y)),this.events.next(new ts(p.redirectTo,p.navigationBehaviorOptions))}else{this.events.next(h);let g=r.errorHandler(l);s.resolve(!!g)}}catch(p){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(p)}}return jt}))}))}cancelNavigationTransition(r,i,o){let s=new fr(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function wV(t){return t!==ja}var IV=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:()=>k(EV),providedIn:"root"});let t=e;return t})(),Rg=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},EV=(()=>{let e=class e extends Rg{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=sr(e)))(o||e)}})(),e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),CD=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:()=>k(CV),providedIn:"root"});let t=e;return t})(),CV=(()=>{let e=class e extends CD{constructor(){super(...arguments),this.location=k(Uo),this.urlSerializer=k(Za),this.options=k(nc,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=k(Vg),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Qr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=uD(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof es)this.stateMemento=this.createStateMemento();else if(r instanceof Yr)this.rawUrlTree=i.initialUrl;else if(r instanceof dd){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(o,i)}}else r instanceof za?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof fr&&(r.code===qt.GuardRejected||r.code===qt.NoDataFromResolver)?this.restoreHistory(i):r instanceof qa?this.restoreHistory(i,!0):r instanceof _n&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let o=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let s=this.browserPageId,a=j(j({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(o,"",a)}else{let s=j(j({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===r.finalUrl&&s===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=sr(e)))(o||e)}})(),e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),La=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(La||{});function bD(t,e){t.events.pipe(St(n=>n instanceof _n||n instanceof fr||n instanceof qa||n instanceof Yr),ie(n=>n instanceof _n||n instanceof Yr?La.COMPLETE:(n instanceof fr?n.code===qt.Redirect||n.code===qt.SupersededByNewNavigation:!1)?La.REDIRECTING:La.FAILED),St(n=>n!==La.REDIRECTING),Jn(1)).subscribe(()=>{e()})}function bV(t){throw t}var DV={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},TV={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},at=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=k(Pl),this.stateManager=k(CD),this.options=k(nc,{optional:!0})||{},this.pendingTasks=k(ar),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=k(Lg),this.urlSerializer=k(Za),this.location=k(Uo),this.urlHandlingStrategy=k(Vg),this._events=new ot,this.errorHandler=this.options.errorHandler||bV,this.navigated=!1,this.routeReuseStrategy=k(IV),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=k(Ya,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!k(wd,{optional:!0}),this.eventsSubscription=new qe,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof fr&&i.code!==qt.Redirect&&i.code!==qt.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof _n)this.navigated=!0;else if(i instanceof ts){let a=i.navigationBehaviorOptions,u=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),l=j({info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||wV(o.source)},a);this.scheduleNavigation(u,ja,null,l,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}AV(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ja,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let l=j({},o);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let u=this.parseUrl(r);this.scheduleNavigation(u,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Og),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:u,preserveFragment:l}=i,h=l?this.currentUrlTree.fragment:a,p=null;switch(u){case"merge":p=j(j({},this.currentUrlTree.queryParams),s);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=s||null}p!==null&&(p=this.removeEmptyProps(p));let g;try{let y=o?o.snapshot:this.routerState.snapshot.root;g=oD(y)}catch{(typeof r[0]!="string"||r[0][0]!=="/")&&(r=[]),g=this.currentUrlTree.root}return sD(g,r,p,h??null)}navigateByUrl(r,i={skipLocationChange:!1}){let o=$a(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,ja,null,i)}navigate(r,i={skipLocationChange:!1}){return SV(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let o;if(i===!0?o=j({},DV):i===!1?o=j({},TV):o=i,$a(r))return Ub(this.currentUrlTree,r,o);let s=this.parseUrl(r);return Ub(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.entries(r).reduce((i,[o,s])=>(s!=null&&(i[o]=s),i),{})}scheduleNavigation(r,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let u,l,h;a?(u=a.resolve,l=a.reject,h=a.promise):h=new Promise((g,y)=>{u=g,l=y});let p=this.pendingTasks.add();return bD(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:s,resolve:u,reject:l,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(g=>Promise.reject(g))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function SV(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new Q(4008,!1)}function AV(t){return!(t instanceof za)&&!(t instanceof ts)}var rs=(()=>{let e=class e{constructor(r,i,o,s,a,u){this.router=r,this.route=i,this.tabIndexAttribute=o,this.renderer=s,this.el=a,this.locationStrategy=u,this.href=null,this.commands=null,this.onChanges=new ot,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let l=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=r.events.subscribe(h=>{h instanceof _n&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,o,s,a){let u=this.urlTree;if(u===null||this.isAnchorElement&&(r!==0||i||o||s||a||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(u,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:EE(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let o=this.renderer,s=this.el.nativeElement;i!==null?o.setAttribute(s,r,i):o.removeAttribute(s,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)($(at),$(Vn),nm("tabindex"),$(gn),$(Rt),$(dr))},e.\u0275dir=Le({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,o){i&1&&W("click",function(a){return o.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&ya("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Hr],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Hr],replaceUrl:[2,"replaceUrl","replaceUrl",Hr],routerLink:"routerLink"},standalone:!0,features:[Cm,or]});let t=e;return t})(),DD=(()=>{let e=class e{get isActive(){return this._isActive}constructor(r,i,o,s,a){this.router=r,this.element=i,this.renderer=o,this.cdr=s,this.link=a,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new ze,this.routerEventsSubscription=r.events.subscribe(u=>{u instanceof _n&&this.update()})}ngAfterContentInit(){G(this.links.changes,G(null)).pipe(Mr()).subscribe(r=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let r=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=Oe(r).pipe(Mr()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(r){let i=Array.isArray(r)?r:r.split(" ");this.classes=i.filter(o=>!!o)}ngOnChanges(r){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let r=this.hasActiveLinks();this.classes.forEach(i=>{r?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),r&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==r&&(this._isActive=r,this.cdr.markForCheck(),this.isActiveChange.emit(r))})}isLinkActive(r){let i=MV(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return o=>{let s=o.urlTree;return s?r.isActive(s,i):!1}}hasActiveLinks(){let r=this.isLinkActive(this.router);return this.link&&r(this.link)||this.links.some(r)}};e.\u0275fac=function(i){return new(i||e)($(at),$(Rt),$(gn),$($r),$(rs,8))},e.\u0275dir=Le({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(i,o,s){if(i&1&&_C(s,rs,5),i&2){let a;Ml(a=xl())&&(o.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[or]});let t=e;return t})();function MV(t){return!!t.paths}var _d=class{};var xV=(()=>{let e=class e{constructor(r,i,o,s,a){this.router=r,this.injector=o,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(St(r=>r instanceof _n),Yn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){let o=[];for(let s of i){s.providers&&!s._injector&&(s._injector=Sl(s.providers,r,`Route: ${s.path}`));let a=s._injector??r,u=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&o.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&o.push(this.processRoutes(u,s.children??s._loadedRoutes))}return Oe(o).pipe(Mr())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let o;i.loadChildren&&i.canLoad===void 0?o=this.loader.loadChildren(r,i):o=G(null);let s=o.pipe(Ze(a=>a===null?G(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));if(i.loadComponent&&!i._loadedComponent){let a=this.loader.loadComponent(i);return Oe([s,a]).pipe(Mr())}else return s})}};e.\u0275fac=function(i){return new(i||e)(Y(at),Y(Ol),Y(vt),Y(_d),Y(Fg))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),TD=new H(""),RV=(()=>{let e=class e{constructor(r,i,o,s,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=o,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=k(vt),a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof es?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof _n?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof Yr&&r.code===ld.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof hd&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>M(this,null,function*(){yield new Promise(o=>{setTimeout(()=>{o()}),Tl(()=>{o()},{injector:this.environmentInjector})}),this.zone.run(()=>{this.transitions.events.next(new hd(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(i){OE()},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})();function SD(t,...e){return nr([{provide:Ya,multi:!0,useValue:t},[],{provide:Vn,useFactory:AD,deps:[at]},{provide:wa,multi:!0,useFactory:MD},e.map(n=>n.\u0275providers)])}function AD(t){return t.routerState.root}function rc(t,e){return{\u0275kind:t,\u0275providers:e}}function MD(){let t=k(xt);return e=>{let n=t.get(Pi);if(e!==n.components[0])return;let r=t.get(at),i=t.get(xD);t.get(Ug)===1&&r.initialNavigation(),t.get(RD,null,ge.Optional)?.setUpPreloading(),t.get(TD,null,ge.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var xD=new H("",{factory:()=>new ot}),Ug=new H("",{providedIn:"root",factory:()=>1});function PV(){return rc(2,[{provide:Ug,useValue:0},{provide:Nl,multi:!0,deps:[xt],useFactory:e=>{let n=e.get(UC,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(at),o=e.get(xD);bD(i,()=>{r(!0)}),e.get(Lg).afterPreactivation=()=>(r(!0),o.closed?G(void 0):o),i.initialNavigation()}))}}])}function NV(){return rc(3,[{provide:Nl,multi:!0,useFactory:()=>{let e=k(at);return()=>{e.setUpLocationChangeListener()}}},{provide:Ug,useValue:2}])}var RD=new H("");function OV(t){return rc(0,[{provide:RD,useExisting:xV},{provide:_d,useExisting:t}])}function kV(){return rc(8,[Hb,{provide:wd,useExisting:Hb}])}function FV(t){let e=[{provide:ID,useValue:yV},{provide:ED,useValue:j({skipNextTransition:!!t?.skipInitialTransition},t)}];return rc(9,e)}var Wb=new H("ROUTER_FORROOT_GUARD"),VV=[Uo,{provide:Za,useClass:Xo},at,Xa,{provide:Vn,useFactory:AD,deps:[at]},Fg,[]],os=(()=>{let e=class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[VV,[],{provide:Ya,multi:!0,useValue:r},{provide:Wb,useFactory:BV,deps:[[at,new Jt,new $p]]},{provide:nc,useValue:i||{}},i?.useHash?UV():jV(),LV(),i?.preloadingStrategy?OV(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?$V(i):[],i?.bindToComponentInputs?kV().\u0275providers:[],i?.enableViewTransitions?FV().\u0275providers:[],HV()]}}static forChild(r){return{ngModule:e,providers:[{provide:Ya,multi:!0,useValue:r}]}}};e.\u0275fac=function(i){return new(i||e)(Y(Wb,8))},e.\u0275mod=pn({type:e}),e.\u0275inj=fn({});let t=e;return t})();function LV(){return{provide:TD,useFactory:()=>{let t=k(qC),e=k(Me),n=k(nc),r=k(Lg),i=k(Za);return n.scrollOffset&&t.setOffset(n.scrollOffset),new RV(i,r,t,e,n)}}}function UV(){return{provide:dr,useClass:BC}}function jV(){return{provide:dr,useClass:Om}}function BV(t){return"guarded"}function $V(t){return[t.initialNavigation==="disabled"?NV().\u0275providers:[],t.initialNavigation==="enabledBlocking"?PV().\u0275providers:[]]}var Kb=new H("");function HV(){return[{provide:Kb,useFactory:MD},{provide:wa,multi:!0,useExisting:Kb}]}var PD=(()=>{let e=class e{constructor(){this.firstDigit="4",this.secondDigit="0",this.thirdDigit="4"}randomNum(){return Math.floor(Math.random()*9)+1}ngOnInit(){let r=0,i=30,o=setInterval(()=>{r>40?(clearInterval(o),this.thirdDigit="4"):(this.thirdDigit=this.randomNum().toString(),r++)},i),s=setInterval(()=>{r>80?(clearInterval(s),this.secondDigit="0"):(this.secondDigit=this.randomNum().toString(),r++)},i),a=setInterval(()=>{r>100?(clearInterval(a),this.firstDigit="4"):(this.firstDigit=this.randomNum().toString(),r++)},i)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ge({type:e,selectors:[["app-not-found"]],standalone:!0,features:[We],decls:22,vars:3,consts:[[1,"error","d-flex","justify-content-center","align-items-center","vh-50","bg-light"],[1,"container","text-center"],[1,"container-error-404"],[1,"clip"],[1,"shadow"],[1,"digit","thirdDigit"],[1,"digit","secondDigit"],[1,"digit","firstDigit"],[1,"msg"],[1,"triangle"],[1,"h1"],["routerLink","/",1,"btn","btn-primary"]],template:function(i,o){i&1&&(D(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"span",5),P(6),S()()(),D(7,"div",3)(8,"div",4)(9,"span",6),P(10),S()()(),D(11,"div",3)(12,"div",4)(13,"span",7),P(14),S()()(),D(15,"div",8),P(16,"OH!"),fe(17,"span",9),S()(),D(18,"h2",10),P(19,"\u0412\u0438\u0431\u0430\u0447\u0442\u0435! \u0421\u0442\u043E\u0440\u0456\u043D\u043A\u0430 \u043D\u0435 \u0437\u043D\u0430\u0439\u0434\u0435\u043D\u0430."),S(),D(20,"a",11),P(21,"\u041F\u0435\u0440\u0435\u0439\u0442\u0438 \u043D\u0430 \u0433\u043E\u043B\u043E\u0432\u043D\u0443"),S()()()),i&2&&(V(6),Ee(o.thirdDigit),V(4),Ee(o.secondDigit),V(4),Ee(o.firstDigit))},dependencies:[ht,os,rs],styles:['*[_ngcontent-%COMP%]{font-family:PT Sans Caption,sans-serif,arial,Times New Roman;box-sizing:border-box}.error[_ngcontent-%COMP%]{background-color:#f8f9fa}.error[_ngcontent-%COMP%]   .container-error-404[_ngcontent-%COMP%]{position:relative;height:250px;padding-top:40px;text-align:center}.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]{display:inline-block;transform:skew(-45deg)}.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]   .shadow[_ngcontent-%COMP%]{height:180px;overflow:hidden}.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]:nth-of-type(2)   .shadow[_ngcontent-%COMP%]{width:130px;position:relative;box-shadow:inset 20px 0 20px -15px #969696cc,20px 0 20px -15px #969696cc}.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]:nth-of-type(3)   .shadow[_ngcontent-%COMP%]:after, .error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]:nth-of-type(1)   .shadow[_ngcontent-%COMP%]:after{content:"";position:absolute;right:-8px;bottom:0;z-index:9999;height:100%;width:10px;background:linear-gradient(90deg,transparent,rgba(173,173,173,.8),transparent);border-radius:50%}.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]:nth-of-type(3)   .shadow[_ngcontent-%COMP%]:after{left:-8px}.error[_ngcontent-%COMP%]   .digit[_ngcontent-%COMP%]{width:150px;height:150px;line-height:150px;font-size:120px;font-weight:700;color:#fff;background:#07b3f9;border-radius:50%;display:inline-block;transform:skew(45deg)}.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]:nth-of-type(2)   .digit[_ngcontent-%COMP%]{left:-10%}.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]:nth-of-type(1)   .digit[_ngcontent-%COMP%]{right:-20%}.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]:nth-of-type(3)   .digit[_ngcontent-%COMP%]{left:-20%}.error[_ngcontent-%COMP%]   .msg[_ngcontent-%COMP%]{position:relative;z-index:9999;background:#535353;color:#a2a2a2;border-radius:50%;font-style:italic;display:block;width:80px;height:80px;line-height:80px;font-size:32px;top:-190px;left:30%}.error[_ngcontent-%COMP%]   span.triangle[_ngcontent-%COMP%]{position:absolute;z-index:999;transform:rotate(45deg);content:"";width:0;height:0;border-left:20px solid #535353;border-top:15px solid transparent;border-bottom:15px solid transparent;top:70%;right:0}.error[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#a2a2a2;font-weight:700;padding-bottom:20px;font-size:32px}.error[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;font-weight:700}.error[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}@media (max-width: 767px){.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]   .shadow[_ngcontent-%COMP%]{height:100px}.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]:nth-of-type(2)   .shadow[_ngcontent-%COMP%]{width:80px}.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]:nth-of-type(1)   .shadow[_ngcontent-%COMP%], .error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]:nth-of-type(3)   .shadow[_ngcontent-%COMP%]{width:100px}.error[_ngcontent-%COMP%]   .digit[_ngcontent-%COMP%]{width:80px;height:80px;line-height:80px;font-size:52px}.error[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px}.error[_ngcontent-%COMP%]   .msg[_ngcontent-%COMP%]{top:-110px;left:15%;width:40px;height:40px;line-height:40px;font-size:18px}.error[_ngcontent-%COMP%]   span.triangle[_ngcontent-%COMP%]{border-left:10px solid #535353;border-top:8px solid transparent;border-bottom:8px solid transparent}.error[_ngcontent-%COMP%]   .container-error-404[_ngcontent-%COMP%]{height:150px}}']});let t=e;return t})();var qV=["slides"],ND=(()=>{let e=class e{constructor(r){this.platformId=r,this.intervalForSlider=1e4,this.withBackground=!1,this.showArrows=!0,this.dragging=!1}onClickLeft(){if(this.slides){let r=this.slides.nativeElement,i=r.scrollWidth/r.children.length;r.scrollLeft-=i,r.scrollLeft<0&&(r.scrollLeft=r.scrollWidth-i)}}onClickRight(){if(this.slides){let r=this.slides.nativeElement,i=r.scrollWidth/r.children.length;r.scrollLeft+=i,r.scrollLeft>=r.scrollWidth&&(r.scrollLeft=0)}}ngAfterViewInit(){Fm(this.platformId)&&(this.autoSlideSub=Mf(this.intervalForSlider,this.intervalForSlider).subscribe(()=>this.onClickRight()))}onDrag(r,i){if(i==="start")this.dragging=!0;else if(i==="end")this.dragging=!1;else if(i==="move"&&this.dragging){let o=this.slides.nativeElement,s=r instanceof MouseEvent?r.movementX:r.touches[0].clientX;o.scrollLeft-=s}}ngOnDestroy(){this.autoSlideSub&&this.autoSlideSub.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)($(Vt))},e.\u0275cmp=Ge({type:e,selectors:[["app-carousel"]],viewQuery:function(i,o){if(i&1&&wC(qV,5),i&2){let s;Ml(s=xl())&&(o.slides=s.first)}},inputs:{intervalForSlider:"intervalForSlider",withBackground:"withBackground",showArrows:"showArrows"},standalone:!0,features:[We],decls:13,vars:0,consts:[["slides",""],["id","carouselExampleIndicators","data-ride","carousel",1,"carousel","slide"],[1,"carousel-inner"],[1,"carousel-item","active"],["src","./slide/slide1.jpg","alt","Slide 1",1,"d-block","w-100"],[1,"carousel-item"],["src","./slide/slide2.jpg","alt","Slide 2",1,"d-block","w-100"],["src","./slide/slide3.jpg","alt","Slide 3",1,"d-block","w-100"],["href","#carouselExampleIndicators","role","button","data-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],["href","#carouselExampleIndicators","role","button","data-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"]],template:function(i,o){i&1&&(D(0,"div",1)(1,"div",2,0)(3,"div",3),fe(4,"img",4),S(),D(5,"div",5),fe(6,"img",6),S(),D(7,"div",5),fe(8,"img",7),S()(),D(9,"a",8),fe(10,"span",9),S(),D(11,"a",10),fe(12,"span",11),S()())},dependencies:[ht],styles:[".carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:50vh;object-fit:cover}.carousel-container[_ngcontent-%COMP%]{position:relative;width:100%;height:50vh;overflow:hidden}.carousel-inner[_ngcontent-%COMP%]{display:flex;overflow:hidden;width:100%;height:100%}.carousel-item[_ngcontent-%COMP%]{background:linear-gradient(to bottom,#fff,#7a73f6);display:flex;align-items:center;justify-content:center;transition:transform 5s ease-in-out}@media (max-width: 576px){.carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:40vh}}"]});let t=e;return t})();var OD=(()=>{let e=class e{constructor(){this.productsSubject=new Ye(this.loadProducts()),this.products$=this.productsSubject.asObservable()}loadProducts(){let r=localStorage.getItem("products");return r?JSON.parse(r):[]}saveProducts(r){localStorage.setItem("products",JSON.stringify(r)),this.productsSubject.next(r)}getProducts(){return this.products$}addProduct(r){let i=this.loadProducts();return i.push(r),this.saveProducts(i),G()}deleteProduct(r){let i=this.loadProducts();return i=i.filter(o=>o.id!==r),this.saveProducts(i),G()}updateProduct(r){let i=this.loadProducts(),o=i.findIndex(s=>s.id===r.id);return o!==-1&&(i[o]=r,this.saveProducts(i)),G()}getProductById(r){let i=this.loadProducts().find(o=>o.id===r);return G(i||{})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Ed=(()=>{let e=class e{constructor(r){this.productDataService=r}getProducts(){return this.productDataService.getProducts()}getProductById(r){return this.productDataService.getProductById(r)}};e.\u0275fac=function(i){return new(i||e)(Y(OD))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var FD=t=>({disabled:t}),GV=t=>({active:t});function WV(t,e){if(t&1){let n=Pt();D(0,"div",13)(1,"div",14),fe(2,"img",15),D(3,"div",16)(4,"h5",17),P(5),S(),D(6,"p",18),P(7),S(),D(8,"button",19),W("click",function(){let i=ee(n).$implicit,o=K();return te(o.viewProduct(i.id))}),P(9,"\u041F\u0435\u0440\u0435\u0439\u0442\u0438 \u0434\u043E \u0442\u043E\u0432\u0430\u0440\u0443"),S()()()()}if(t&2){let n=e.$implicit,r=K();V(2),On("alt",n.name),le("src",n.imageUrl,Pn),V(3),Ee(n.name),V(2),cr("",n.price," ",r.currency,"")}}function KV(t,e){if(t&1){let n=Pt();D(0,"li",8)(1,"a",20),W("click",function(){let i=ee(n).$implicit,o=K();return te(o.changePage(i))}),P(2),S()()}if(t&2){let n=e.$implicit,r=K();le("ngClass",Rl(2,GV,n===r.currentPage)),V(2),Ee(n)}}var VD=(()=>{let e=class e{constructor(r,i){this.productService=r,this.router=i,this.products=[],this.filteredProducts=[],this.searchText="",this.currency="$",this.itemsPerPage=5,this.currentPage=1,this.totalPages=1,this.pages=[],this.categories=["\u041B\u0456\u0445\u0442\u0430\u0440\u0438\u043A\u0438","\u0420\u043E\u0437\u0443\u043C\u043D\u0456 \u0433\u043E\u0434\u0438\u043D\u043D\u0438\u043A\u0438","\u041D\u0430\u0432\u0443\u0448\u043D\u0438\u043A\u0438","\u0422\u0443\u0440\u0438\u0441\u0442\u0438\u0447\u043D\u0456 \u041A\u0430\u043C\u0435\u0440\u0438","\u041D\u0430\u043C\u0435\u0442\u0438"],this.selectedCategory="all"}ngOnInit(){this.productService.getProducts().subscribe(r=>{this.products=r,this.filteredProducts=r,this.updatePagination()})}getPaginatedProducts(){let r=(this.currentPage-1)*this.itemsPerPage,i=this.currentPage*this.itemsPerPage;return this.filteredProducts.slice(r,i)}updatePagination(){this.totalPages=Math.ceil(this.filteredProducts.length/this.itemsPerPage),this.pages=Array.from({length:this.totalPages},(r,i)=>i+1)}onSearchTextChange(){this.applyFilters(),this.updatePagination(),this.currentPage=1}filterByCategory(r){this.selectedCategory=r,this.applyFilters(),this.updatePagination(),this.currentPage=1}applyFilters(){let r=this.products;this.selectedCategory!=="all"&&(r=r.filter(i=>i.category===this.selectedCategory)),this.searchText&&(r=r.filter(i=>i.name.toLowerCase().includes(this.searchText.toLowerCase()))),this.filteredProducts=r}changePage(r){r>=1&&r<=this.totalPages&&(this.currentPage=r)}viewProduct(r){this.router.navigate([`/product/${r}`])}};e.\u0275fac=function(i){return new(i||e)($(Ed),$(at))},e.\u0275cmp=Ge({type:e,selectors:[["app-home"]],standalone:!0,features:[We],decls:30,vars:13,consts:[[1,"container-fluid","mt-4"],["type","search","placeholder","\u0424\u0456\u043B\u044C\u0442\u0440 \u0437\u0430 \u043D\u0430\u0437\u0432\u043E\u044E","aria-label","Search",1,"form-control","mb-4","mt-4",3,"ngModelChange","ngModel"],[1,"text-center","mb-4"],[1,"btn","btn-outline-primary",3,"click"],[1,"row"],["class","col-12 col-md-2 mb-4",4,"ngFor","ngForOf"],["aria-label","Page navigation"],[1,"pagination","justify-content-center"],[1,"page-item",3,"ngClass"],["aria-label","Previous",1,"page-link",3,"click"],["aria-hidden","true"],["class","page-item",3,"ngClass",4,"ngFor","ngForOf"],["aria-label","Next",1,"page-link",3,"click"],[1,"col-12","col-md-2","mb-4"],[1,"card"],[1,"card-img-top",3,"src","alt"],[1,"card-body","text-center"],[1,"card-title"],[1,"card-text"],[1,"btn","btn-primary",3,"click"],[1,"page-link",3,"click"]],template:function(i,o){i&1&&(D(0,"div",0),fe(1,"app-carousel"),D(2,"input",1),je("ngModelChange",function(a){return $e(o.searchText,a)||(o.searchText=a),a}),W("ngModelChange",function(){return o.onSearchTextChange()}),S(),D(3,"div",2)(4,"button",3),W("click",function(){return o.filterByCategory("all")}),P(5,"\u0423\u0441\u0456"),S(),D(6,"button",3),W("click",function(){return o.filterByCategory("\u041B\u0456\u0445\u0442\u0430\u0440\u0438\u043A\u0438")}),P(7,"\u041B\u0456\u0445\u0442\u0430\u0440\u0438\u043A\u0438"),S(),D(8,"button",3),W("click",function(){return o.filterByCategory("\u0420\u043E\u0437\u0443\u043C\u043D\u0456 \u0413\u043E\u0434\u0438\u043D\u043D\u0438\u043A\u0438")}),P(9,"\u0420\u043E\u0437\u0443\u043C\u043D\u0456 \u0413\u043E\u0434\u0438\u043D\u043D\u0438\u043A\u0438"),S(),D(10,"button",3),W("click",function(){return o.filterByCategory("\u041D\u0430\u0432\u0443\u0448\u043D\u0438\u043A\u0438")}),P(11,"\u041D\u0430\u0432\u0443\u0448\u043D\u0438\u043A\u0438"),S(),D(12,"button",3),W("click",function(){return o.filterByCategory("\u0422\u0443\u0440\u0438\u0441\u0442\u0438\u0447\u043D\u0456 \u041A\u0430\u043C\u0435\u0440\u0438")}),P(13,"\u0422\u0443\u0440\u0438\u0441\u0442\u0438\u0447\u043D\u0456 \u041A\u0430\u043C\u0435\u0440\u0438"),S(),D(14,"button",3),W("click",function(){return o.filterByCategory("\u041D\u0430\u043C\u0435\u0442\u0438")}),P(15,"\u041D\u0430\u043C\u0435\u0442\u0438"),S()(),D(16,"div",4),Fe(17,WV,10,5,"div",5),CC(18,"slice"),S(),D(19,"nav",6)(20,"ul",7)(21,"li",8)(22,"a",9),W("click",function(){return o.changePage(o.currentPage-1)}),D(23,"span",10),P(24,"\xAB"),S()()(),Fe(25,KV,3,4,"li",11),D(26,"li",8)(27,"a",12),W("click",function(){return o.changePage(o.currentPage+1)}),D(28,"span",10),P(29,"\xBB"),S()()()()()()),i&2&&(V(2),Ue("ngModel",o.searchText),V(15),le("ngForOf",bC(18,5,o.getPaginatedProducts(),0,5)),V(4),le("ngClass",Rl(9,FD,o.currentPage===1)),V(4),le("ngForOf",o.pages),V(),le("ngClass",Rl(11,FD,o.currentPage===o.totalPages)))},dependencies:[ht,$C,qr,HC,tn,en,kn,yn,ND],styles:[".card[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;height:100%;border:1px solid #ddd;border-radius:.375rem;overflow:hidden}.card-img-top[_ngcontent-%COMP%]{height:150px;object-fit:cover}.card-body[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center;text-align:center}.card-title[_ngcontent-%COMP%]{font-size:1rem}.card-text[_ngcontent-%COMP%]{font-size:.875rem}.carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:50vh;object-fit:cover}.btn-outline-primary[_ngcontent-%COMP%]{margin:.25rem}.pagination[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{padding:.5rem 1rem}.page-link[_ngcontent-%COMP%]{cursor:pointer}@media (max-width: 576px){.card-img-top[_ngcontent-%COMP%]{height:120px}.carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:40vh}}@media (min-width: 992px){.col-md-2[_ngcontent-%COMP%]{flex:0 0 20%;max-width:20%}}"]});let t=e;return t})();var as=(()=>{let e=class e{constructor(){this.cartSubject=new Ye(this.loadCart()),this.cart$=this.cartSubject.asObservable()}loadCart(){let r=localStorage.getItem("cart");return r?JSON.parse(r):[]}saveCart(r){localStorage.setItem("cart",JSON.stringify(r)),this.cartSubject.next(r)}getCartItems(){return this.cart$}getCartItemCount(){return this.cart$.pipe(ie(r=>r.reduce((i,o)=>i+o.quantity,0)))}addToCart(r,i){let o=this.loadCart(),s=o.findIndex(a=>a.product.id===r.id);s===-1?o.push({product:r,quantity:i}):o[s].quantity+=i,this.saveCart(o)}increaseQuantity(r){let i=this.loadCart(),o=i.findIndex(s=>s.product.id===r);o!==-1&&(i[o].quantity+=1,this.saveCart(i))}decreaseQuantity(r){let i=this.loadCart(),o=i.findIndex(s=>s.product.id===r);o!==-1&&i[o].quantity>1&&(i[o].quantity-=1,this.saveCart(i))}removeFromCart(r){let i=this.loadCart();i=i.filter(o=>o.product.id!==r),this.saveCart(i)}checkout(){return G(this.saveCart([])).pipe(ie(()=>{}))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function QV(t,e){if(t&1){let n=Pt();D(0,"div",27),fe(1,"img",28),D(2,"div",29)(3,"h4",30),P(4),S(),D(5,"p",31),P(6),S(),D(7,"div",32)(8,"button",33),W("click",function(){let i=ee(n).$implicit,o=K();return te(o.decreaseQuantity(i.product.id))}),P(9,"-"),S(),D(10,"span",34),P(11),S(),D(12,"button",33),W("click",function(){let i=ee(n).$implicit,o=K();return te(o.increaseQuantity(i.product.id))}),P(13,"+"),S(),D(14,"div",7)(15,"p",35),P(16),S()(),D(17,"button",36),W("click",function(){let i=ee(n).$implicit,o=K();return te(o.removeFromCart(i.product.id))}),P(18,"\u041F\u0440\u0438\u0431\u0440\u0430\u0442\u0438"),S()()()()}if(t&2){let n=e.$implicit,r=K();V(),On("alt",n.product.name),le("src",n.product.imageUrl,Pn),V(3),Ee(n.product.name),V(2),cr("",n.product.price," ",r.currency,""),V(5),Ee(n.quantity),V(5),cr("\u0417\u0430\u0433\u0430\u043B\u044C\u043D\u0430 \u0441\u0443\u043C\u0430: ",r.totalAmount," ",r.currency,"")}}function YV(t,e){t&1&&(D(0,"small",37),P(1,"\u041D\u0435\u043A\u043E\u0440\u0435\u043A\u0442\u043D\u0438\u0439 \u0444\u043E\u0440\u043C\u0430\u0442. \u0412\u0438\u043A\u043E\u0440\u0438\u0441\u0442\u043E\u0432\u0443\u0439\u0442\u0435 \u0442\u0456\u043B\u044C\u043A\u0438 \u0431\u0443\u043A\u0432\u0438."),S())}function JV(t,e){if(t&1&&(D(0,"small",37),P(1),S()),t&2){K();let n=va(17);V(),Ee(n.errors==null?null:n.errors.customError)}}function ZV(t,e){if(t&1&&(D(0,"option",38),P(1),S()),t&2){let n=e.$implicit;le("value",n),V(),Ee(n)}}function XV(t,e){if(t&1){let n=Pt();D(0,"div",39),W("click",function(){ee(n);let i=K();return te(i.closeConfirmation())}),D(1,"div",40),W("click",function(i){return ee(n),te(i.stopPropagation())}),D(2,"p",41),P(3,"\u0412\u0430\u0448 \u0442\u043E\u0432\u0430\u0440 \u043E\u0444\u043E\u0440\u043C\u043B\u0435\u043D\u0438\u0439, \u0434\u044F\u043A\u0443\u0454\u043C\u043E \u0437\u0430 \u043F\u043E\u043A\u0443\u043F\u043A\u0443!"),S(),D(4,"button",42),W("click",function(){ee(n);let i=K();return te(i.closeConfirmation())}),P(5,"\u0417\u0430\u043A\u0440\u0438\u0442\u0438"),S()()()}}var LD=(()=>{let e=class e{constructor(r){this.cartService=r,this.cartItems=[],this.totalAmount=0,this.currency="$",this.showConfirmation=!1,this.order={recipientName:"",phone:"",delivery:"",payment:""},this.branches=["\u0412\u0456\u0434\u0434\u0456\u043B\u0435\u043D\u043D\u044F 1","\u0412\u0456\u0434\u0434\u0456\u043B\u0435\u043D\u043D\u044F 2"]}ngOnInit(){this.updateCart()}increaseQuantity(r){this.cartService.increaseQuantity(r),this.updateCart()}decreaseQuantity(r){this.cartService.decreaseQuantity(r),this.updateCart()}removeFromCart(r){this.cartService.removeFromCart(r),this.updateCart()}checkout(){this.cartService.checkout().subscribe(()=>{this.cartItems=[],this.totalAmount=0},r=>{console.error("Checkout error",r)})}submitOrder(){this.validateOrder()&&this.cartService.checkout().subscribe(()=>{this.showConfirmation=!0,this.cartItems=[],this.totalAmount=0,this.order={recipientName:"",phone:"",delivery:"",payment:""}},r=>{console.error("Checkout error",r)})}closeConfirmation(){this.showConfirmation=!1}formatPhone(r){let i=r.replace(/[^\d]/g,"");return i.length===12?`+${i}`:i}onPhoneInput(r){let i=r.target,o=i.value,s=o.replace(/[^\d]/g,"");s.length>12&&(o=s.slice(0,12)),i.value=this.formatPhone(o),this.order.phone=i.value}validatePhone(){let r=/^\+\d{12}$/;return this.order.phone.replace(/[^\d]/g,"").length!==12?"\u041D\u0435\u043A\u043E\u0440\u0435\u043A\u0442\u043D\u0438\u0439 \u0444\u043E\u0440\u043C\u0430\u0442 \u0442\u0435\u043B\u0435\u0444\u043E\u043D\u0443. \u0412\u0432\u0435\u0434\u0456\u0442\u044C 12 \u0446\u0438\u0444\u0440.":r.test(this.order.phone)?null:"\u041D\u0435\u043A\u043E\u0440\u0435\u043A\u0442\u043D\u0438\u0439 \u0444\u043E\u0440\u043C\u0430\u0442 \u0442\u0435\u043B\u0435\u0444\u043E\u043D\u0443. \u0412\u0438\u043A\u043E\u0440\u0438\u0441\u0442\u043E\u0432\u0443\u0439\u0442\u0435 \u0444\u043E\u0440\u043C\u0430\u0442: +380000000000."}validateRecipientName(r){let i=r.target;/^[a-zA-Z--\s]*$/.test(i.value)||(i.value=i.value.replace(/[^a-zA-Z--\s]/g,""))}updateCart(){this.cartService.getCartItems().subscribe(r=>{this.cartItems=r,this.calculateTotal()})}calculateTotal(){this.totalAmount=this.cartItems.reduce((r,i)=>r+i.product.price*i.quantity,0)}validateOrder(){let r=this.validatePhone();return r?(alert(r),!1):!0}};e.\u0275fac=function(i){return new(i||e)($(as))},e.\u0275cmp=Ge({type:e,selectors:[["app-cart"]],standalone:!0,features:[We],decls:43,vars:10,consts:[["orderForm","ngForm"],["recipientName","ngModel"],["phone","ngModel"],["delivery","ngModel"],["payment","ngModel"],[1,"container"],["class","cart-item d-flex align-items-center border rounded mb-3 p-3",4,"ngFor","ngForOf"],[1,"text-center","mt-4"],[1,"font-weight-bold"],[1,"mt-4",3,"ngSubmit"],[1,"form-group"],["for","recipientName"],["type","text","id","recipientName","name","recipientName","required","","placeholder","\u041F\u0440\u0456\u0437\u0432\u0438\u0449\u0435 \u0406\u043C'\u044F \u041F\u043E\u0431\u0430\u0442\u044C\u043A\u043E\u0432\u0456",1,"form-control",3,"ngModelChange","input","ngModel"],["class","text-danger",4,"ngIf"],["for","phone"],["type","tel","id","phone","name","phone","required","","placeholder","+380000000000",1,"form-control",3,"ngModelChange","input","ngModel"],["for","delivery"],["id","delivery","name","delivery","required","",1,"form-control",3,"ngModelChange","ngModel"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["for","payment"],["id","payment","name","payment","required","",1,"form-control",3,"ngModelChange","ngModel"],["value","pay-now"],["value","invoice"],["value","installments"],["type","submit",1,"btn","btn-success","btn-block",3,"disabled"],["class","confirmation-overlay",3,"click",4,"ngIf"],[1,"cart-item","d-flex","align-items-center","border","rounded","mb-3","p-3"],["id","img",1,"cart-item-image","mr-3",3,"src","alt"],[1,"cart-item-details","flex-grow-1"],[1,"cart-item-name","font-weight-bold"],[1,"cart-item-price"],[1,"quantity-control","d-flex","align-items-center"],[1,"btn","btn-outline-primary","btn-sm",3,"click"],[1,"mx-2"],["id","total",1,"font-weight-bold"],["id","btn",1,"btn","btn-danger","btn-sm","ml-3",3,"click"],[1,"text-danger"],[3,"value"],[1,"confirmation-overlay",3,"click"],[1,"confirmation-content",3,"click"],[1,"confirmation-text"],[1,"btn","btn-success",3,"click"]],template:function(i,o){if(i&1){let s=Pt();D(0,"div",5),Fe(1,QV,19,8,"div",6),D(2,"div",7)(3,"h2",8),P(4,"\u0417\u0430\u043C\u043E\u0432\u043B\u0435\u043D\u043D\u044F"),S(),D(5,"form",9,0),W("ngSubmit",function(){return ee(s),te(o.submitOrder())}),D(7,"div",10)(8,"label",11),P(9,"\u041E\u0442\u0440\u0438\u043C\u0443\u0432\u0430\u0447:"),S(),D(10,"input",12,1),je("ngModelChange",function(u){return ee(s),$e(o.order.recipientName,u)||(o.order.recipientName=u),te(u)}),W("input",function(u){return ee(s),te(o.validateRecipientName(u))}),S(),Fe(12,YV,2,0,"small",13),S(),D(13,"div",10)(14,"label",14),P(15,"\u041C\u043E\u0431\u0456\u043B\u044C\u043D\u0438\u0439 \u0442\u0435\u043B\u0435\u0444\u043E\u043D:"),S(),D(16,"input",15,2),je("ngModelChange",function(u){return ee(s),$e(o.order.phone,u)||(o.order.phone=u),te(u)}),W("input",function(u){return ee(s),te(o.onPhoneInput(u))}),S(),Fe(18,JV,2,1,"small",13),S(),D(19,"div",10)(20,"label",16),P(21,"\u0414\u043E\u0441\u0442\u0430\u0432\u043A\u0430:"),S(),D(22,"select",17,3),je("ngModelChange",function(u){return ee(s),$e(o.order.delivery,u)||(o.order.delivery=u),te(u)}),D(24,"option",18),P(25,"\u041E\u0431\u0435\u0440\u0456\u0442\u044C \u0432\u0456\u0434\u0434\u0456\u043B\u0435\u043D\u043D\u044F"),S(),Fe(26,ZV,2,2,"option",19),S()(),D(27,"div",10)(28,"label",20),P(29,"\u041E\u043F\u043B\u0430\u0442\u0430:"),S(),D(30,"select",21,4),je("ngModelChange",function(u){return ee(s),$e(o.order.payment,u)||(o.order.payment=u),te(u)}),D(32,"option",18),P(33,"\u041E\u0431\u0435\u0440\u0456\u0442\u044C \u0441\u043F\u043E\u0441\u0456\u0431 \u043E\u043F\u043B\u0430\u0442\u0438"),S(),D(34,"option",22),P(35,"\u041E\u043F\u043B\u0430\u0442\u0438\u0442\u0438 \u0437\u0430\u0440\u0430\u0437"),S(),D(36,"option",23),P(37,"\u0411\u0435\u0437\u0433\u043E\u0442\u0456\u0432\u043A\u043E\u0432\u0438\u0439 \u0440\u0430\u0445\u0443\u043D\u043E\u043A"),S(),D(38,"option",24),P(39,"\u041E\u043F\u043B\u0430\u0442\u0430 \u0447\u0430\u0441\u0442\u0438\u043D\u0430\u043C\u0438"),S()()(),D(40,"button",25),P(41,"\u041E\u0444\u043E\u0440\u043C\u0438\u0442\u0438 \u043F\u043E\u043A\u0443\u043F\u043A\u0443"),S()()(),Fe(42,XV,6,0,"div",26),S()}if(i&2){let s=va(6),a=va(11),u=va(17);V(),le("ngForOf",o.cartItems),V(9),Ue("ngModel",o.order.recipientName),V(2),le("ngIf",a.invalid&&a.touched),V(4),Ue("ngModel",o.order.phone),V(2),le("ngIf",u.errors==null?null:u.errors.customError),V(4),Ue("ngModel",o.order.delivery),V(4),le("ngForOf",o.branches),V(4),Ue("ngModel",o.order.payment),V(10),le("disabled",!s.valid),V(2),le("ngIf",o.showConfirmation)}},dependencies:[ht,qr,zr,tn,zo,td,nd,en,Go,kn,qo,ki,yn,Oi],styles:[".cart-item[_ngcontent-%COMP%]{background-color:#f9f9f9}#btn[_ngcontent-%COMP%]{width:90px}#img[_ngcontent-%COMP%]{margin:15px}#total[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px}.cart-item-image[_ngcontent-%COMP%]{width:80px;height:80px;object-fit:cover}.cart-item-name[_ngcontent-%COMP%]{font-size:1.2rem}.cart-item-price[_ngcontent-%COMP%]{font-size:1rem;color:#333}.quantity-control[_ngcontent-%COMP%]{margin-top:.5rem}.quantity-control[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:30px;height:30px}.btn-danger[_ngcontent-%COMP%]{background-color:#dc3545;border-color:#dc3545}.btn-danger[_ngcontent-%COMP%]:hover{background-color:#c82333;border-color:#bd2130}.confirmation-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center}.confirmation-content[_ngcontent-%COMP%]{background-color:#fff;padding:2rem;border-radius:5px;text-align:center;animation:_ngcontent-%COMP%_fadeIn .3s ease-in}.confirmation-text[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:1rem}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.form-control[_ngcontent-%COMP%]{border-radius:.25rem;border-color:#ced4da}.btn-success[_ngcontent-%COMP%]{background-color:#28a745;border-color:#28a745}.btn-success[_ngcontent-%COMP%]:hover{background-color:#218838;border-color:#1e7e34}.confirmation-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.confirmation-content[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:8px;text-align:center}.confirmation-text[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:20px}.container[_ngcontent-%COMP%]{padding:1rem}.cart-item[_ngcontent-%COMP%]{margin-bottom:1rem}.btn[_ngcontent-%COMP%]{width:auto}@media (max-width: 768px){.cart-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.cart-item-image[_ngcontent-%COMP%]{width:100px;height:100px}.cart-item-name[_ngcontent-%COMP%]{font-size:1rem}.cart-item-price[_ngcontent-%COMP%]{font-size:.9rem}.quantity-control[_ngcontent-%COMP%]{margin-top:1rem;flex-direction:column}.quantity-control[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:40px;height:40px}.btn-danger[_ngcontent-%COMP%], .btn-success[_ngcontent-%COMP%]{width:100%}#btn[_ngcontent-%COMP%]{width:100%;margin-top:.5rem}#img[_ngcontent-%COMP%], #total[_ngcontent-%COMP%]{margin:10px 0}.confirmation-content[_ngcontent-%COMP%]{width:90%;max-width:400px;padding:1rem}}@media (min-width: 769px) and (max-width: 1024px){.cart-item[_ngcontent-%COMP%]{flex-direction:row}.cart-item-image[_ngcontent-%COMP%]{width:100px;height:100px}.cart-item-name[_ngcontent-%COMP%]{font-size:1.1rem}.cart-item-price[_ngcontent-%COMP%]{font-size:.95rem}.quantity-control[_ngcontent-%COMP%]{margin-top:.5rem;flex-direction:row}.quantity-control[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:35px;height:35px}}"]});let t=e;return t})();var jD=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},eL=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},BD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,g=(a&15)<<2|l>>6,y=l&63;u||(y=64,s||(g=64)),r.push(n[h],n[p],n[g],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(jD(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):eL(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new $g;let g=o<<2|a>>4;if(r.push(g),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let T=l<<6&192|p;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},$g=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},tL=function(t){let e=jD(t);return BD.encodeByteArray(e,!0)},ic=function(t){return tL(t).replace(/\./g,"")},qg=function(t){try{return BD.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function nL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var rL=()=>nL().__FIREBASE_DEFAULTS__,iL=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},oL=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&qg(t[1]);return e&&JSON.parse(e)},bd=()=>{try{return rL()||iL()||oL()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},$D=t=>{var e,n;return(n=(e=bd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},HD=t=>{let e=$D(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},zg=()=>{var t;return(t=bd())===null||t===void 0?void 0:t.config},qD=t=>{var e;return(e=bd())===null||e===void 0?void 0:e[`_${t}`]};var Cd=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function zD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ic(JSON.stringify(n)),ic(JSON.stringify(s)),""].join(".")}function zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function GD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(zt())}function sL(){var t;let e=(t=bd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function WD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function KD(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function QD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function YD(){return!sL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Gg(){try{return typeof indexedDB=="object"}catch{return!1}}function JD(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var aL="FirebaseError",rn=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=aL,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pr.prototype.create)}},pr=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?cL(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new rn(i,a,r)}};function cL(t,e){return t.replace(uL,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var uL=/\{\$([^}]+)}/g;function cs(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(UD(o)&&UD(s)){if(!cs(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function UD(t){return t!==null&&typeof t=="object"}function Wg(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ZD(t,e){let n=new Hg(t,e);return n.subscribe.bind(n)}var Hg=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");lL(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Bg),i.error===void 0&&(i.error=Bg),i.complete===void 0&&(i.complete=Bg);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function lL(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Bg(){}var u9=4*60*60*1e3;function Nt(t){return t&&t._delegate?t._delegate:t}var on=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Li="[DEFAULT]";var Kg=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Cd;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(hL(e))try{this.getOrInitializeService({instanceIdentifier:Li})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Li){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return M(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Li){return this.instances.has(e)}getOptions(e=Li){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:dL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Li){return this.component?this.component.multipleInstances?e:Li:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function dL(t){return t===Li?void 0:t}function hL(t){return t.instantiationMode==="EAGER"}var Dd=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Kg(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var fL=[],ve=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ve||{}),pL={debug:ve.DEBUG,verbose:ve.VERBOSE,info:ve.INFO,warn:ve.WARN,error:ve.ERROR,silent:ve.SILENT},mL=ve.INFO,gL={[ve.DEBUG]:"log",[ve.VERBOSE]:"log",[ve.INFO]:"info",[ve.WARN]:"warn",[ve.ERROR]:"error"},yL=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=gL[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Zr=class{constructor(e){this.name=e,this._logLevel=mL,this._logHandler=yL,this._userLogHandler=null,fL.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?pL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ve.DEBUG,...e),this._logHandler(this,ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ve.VERBOSE,...e),this._logHandler(this,ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ve.INFO,...e),this._logHandler(this,ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ve.WARN,...e),this._logHandler(this,ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ve.ERROR,...e),this._logHandler(this,ve.ERROR,...e)}};var vL=(t,e)=>e.some(n=>t instanceof n),XD,eT;function _L(){return XD||(XD=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function wL(){return eT||(eT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var tT=new WeakMap,Yg=new WeakMap,nT=new WeakMap,Qg=new WeakMap,Zg=new WeakMap;function IL(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Ln(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&tT.set(n,t)}).catch(()=>{}),Zg.set(e,t),e}function EL(t){if(Yg.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Yg.set(t,e)}var Jg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Yg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||nT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ln(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function rT(t){Jg=t(Jg)}function CL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Td(this),e,...n);return nT.set(r,e.sort?e.sort():[e]),Ln(r)}:wL().includes(t)?function(...e){return t.apply(Td(this),e),Ln(tT.get(this))}:function(...e){return Ln(t.apply(Td(this),e))}}function bL(t){return typeof t=="function"?CL(t):(t instanceof IDBTransaction&&EL(t),vL(t,_L())?new Proxy(t,Jg):t)}function Ln(t){if(t instanceof IDBRequest)return IL(t);if(Qg.has(t))return Qg.get(t);let e=bL(t);return e!==t&&(Qg.set(t,e),Zg.set(e,t)),e}var Td=t=>Zg.get(t);function oT(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=Ln(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Ln(s.result),u.oldVersion,u.newVersion,Ln(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var DL=["get","getKey","getAll","getAllKeys","count"],TL=["put","add","delete","clear"],Xg=new Map;function iT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Xg.get(e))return Xg.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=TL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||DL.includes(n)))return;let o=function(s,...a){return M(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&u.done]))[0]})};return Xg.set(e,o),o}rT(t=>be(j({},t),{get:(e,n,r)=>iT(e,n)||t.get(e,n,r),has:(e,n)=>!!iT(e,n)||t.has(e,n)}));var ty=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(SL(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function SL(t){let e=t.getComponent();return e?.type==="VERSION"}var ny="@firebase/app",sT="0.10.13";var mr=new Zr("@firebase/app"),AL="@firebase/app-compat",ML="@firebase/analytics-compat",xL="@firebase/analytics",RL="@firebase/app-check-compat",PL="@firebase/app-check",NL="@firebase/auth",OL="@firebase/auth-compat",kL="@firebase/database",FL="@firebase/data-connect",VL="@firebase/database-compat",LL="@firebase/functions",UL="@firebase/functions-compat",jL="@firebase/installations",BL="@firebase/installations-compat",$L="@firebase/messaging",HL="@firebase/messaging-compat",qL="@firebase/performance",zL="@firebase/performance-compat",GL="@firebase/remote-config",WL="@firebase/remote-config-compat",KL="@firebase/storage",QL="@firebase/storage-compat",YL="@firebase/firestore",JL="@firebase/vertexai-preview",ZL="@firebase/firestore-compat",XL="firebase",e4="10.14.1";var ry="[DEFAULT]",t4={[ny]:"fire-core",[AL]:"fire-core-compat",[xL]:"fire-analytics",[ML]:"fire-analytics-compat",[PL]:"fire-app-check",[RL]:"fire-app-check-compat",[NL]:"fire-auth",[OL]:"fire-auth-compat",[kL]:"fire-rtdb",[FL]:"fire-data-connect",[VL]:"fire-rtdb-compat",[LL]:"fire-fn",[UL]:"fire-fn-compat",[jL]:"fire-iid",[BL]:"fire-iid-compat",[$L]:"fire-fcm",[HL]:"fire-fcm-compat",[qL]:"fire-perf",[zL]:"fire-perf-compat",[GL]:"fire-rc",[WL]:"fire-rc-compat",[KL]:"fire-gcs",[QL]:"fire-gcs-compat",[YL]:"fire-fst",[ZL]:"fire-fst-compat",[JL]:"fire-vertex","fire-js":"fire-js",[XL]:"fire-js-all"};var oc=new Map,n4=new Map,iy=new Map;function aT(t,e){try{t.container.addComponent(e)}catch(n){mr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ei(t){let e=t.name;if(iy.has(e))return mr.debug(`There were multiple attempts to register component ${e}.`),!1;iy.set(e,t);for(let n of oc.values())aT(n,t);for(let n of n4.values())aT(n,t);return!0}function cy(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function us(t){return t.settings!==void 0}var r4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xr=new pr("app","Firebase",r4);var oy=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new on("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xr.create("app-deleted",{appName:this._name})}};var ls=e4;function uy(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:ry,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Xr.create("bad-app-name",{appName:String(i)});if(n||(n=zg()),!n)throw Xr.create("no-options");let o=oc.get(i);if(o){if(cs(n,o.options)&&cs(r,o.config))return o;throw Xr.create("duplicate-app",{appName:i})}let s=new Dd(i);for(let u of iy.values())s.addComponent(u);let a=new oy(n,r,s);return oc.set(i,a),a}function ac(t=ry){let e=oc.get(t);if(!e&&t===ry&&zg())return uy();if(!e)throw Xr.create("no-app",{appName:t});return e}function Sd(){return Array.from(oc.values())}function ut(t,e,n){var r;let i=(r=t4[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),mr.warn(a.join(" "));return}ei(new on(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var i4="firebase-heartbeat-database",o4=1,sc="firebase-heartbeat-store",ey=null;function dT(){return ey||(ey=oT(i4,o4,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(sc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Xr.create("idb-open",{originalErrorMessage:t.message})})),ey}function s4(t){return M(this,null,function*(){try{let n=(yield dT()).transaction(sc),r=yield n.objectStore(sc).get(hT(t));return yield n.done,r}catch(e){if(e instanceof rn)mr.warn(e.message);else{let n=Xr.create("idb-get",{originalErrorMessage:e?.message});mr.warn(n.message)}}})}function cT(t,e){return M(this,null,function*(){try{let r=(yield dT()).transaction(sc,"readwrite");yield r.objectStore(sc).put(e,hT(t)),yield r.done}catch(n){if(n instanceof rn)mr.warn(n.message);else{let r=Xr.create("idb-set",{originalErrorMessage:n?.message});mr.warn(r.message)}}})}function hT(t){return`${t.name}!${t.options.appId}`}var a4=1024,c4=30*24*60*60*1e3,sy=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new ay(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return M(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=uT();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=c4}),this._storage.overwrite(this._heartbeatsCache))}catch(r){mr.warn(r)}})}getHeartbeatsHeader(){return M(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=uT(),{heartbeatsToSend:r,unsentEntries:i}=u4(this._heartbeatsCache.heartbeats),o=ic(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return mr.warn(n),""}})}};function uT(){return new Date().toISOString().substring(0,10)}function u4(t,e=a4){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),lT(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),lT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var ay=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return M(this,null,function*(){return Gg()?JD().then(()=>!0).catch(()=>!1):!1})}read(){return M(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield s4(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return M(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return cT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return M(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return cT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function lT(t){return ic(JSON.stringify({version:2,heartbeats:t})).length}function l4(t){ei(new on("platform-logger",e=>new ty(e),"PRIVATE")),ei(new on("heartbeat",e=>new sy(e),"PRIVATE")),ut(ny,sT,t),ut(ny,sT,"esm2017"),ut("fire-js","")}l4("");var d4="firebase",h4="10.14.1";ut(d4,h4,"app");var hs=new tr("ANGULARFIRE2_VERSION");function dy(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var uc=(t,e)=>{let n=e?[e]:Sd(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},cc=class{constructor(){return uc(f4)}},f4="app-check";function ds(){}var Ad=class{zone;delegate;constructor(e,n=Df){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,r)}},ly=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ds,{},ds,ds)),n.pipe(Xe({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},lc=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Ad(Zone.current)),this.insideAngular=n.run(()=>new Ad(Zone.current,lu)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(Y(Me))};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Md(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function p4(t){return Md().ngZone.runOutsideAngular(()=>t())}function Ui(t){return Md().ngZone.run(()=>t())}function m4(t){return g4(Md())(t)}function g4(t){return function(n){return n=n.lift(new ly(t.ngZone)),n.pipe(Ar(t.outsideAngular),Sr(t.insideAngular))}}var y4=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Ui(()=>t.apply(void 0,r))},wn=(t,e)=>function(){let n,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(n||=Ui(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ds,{},ds,ds))),r[o]=y4(r[o],n));let i=p4(()=>t.apply(this,r));if(!e)if(i instanceof ue){let o=Md();return i.pipe(Ar(o.outsideAngular),Sr(o.insideAngular))}else return Ui(()=>i);return i instanceof ue?i.pipe(m4):i instanceof Promise?Ui(()=>new Promise((o,s)=>i.then(a=>Ui(()=>o(a)),a=>Ui(()=>s(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Ui(()=>i)};var ji=class{constructor(e){return e}},dc=class{constructor(){return Sd()}};function v4(t){return t&&t.length===1?t[0]:new ji(ac())}var hy=new H("angularfire2._apps"),_4={provide:ji,useFactory:v4,deps:[[new Jt,hy]]},w4={provide:dc,deps:[[new Jt,hy]]};function I4(t){return(e,n)=>{let r=n.get(Vt);ut("angularfire",hs.full,"core"),ut("angularfire",hs.full,"app"),ut("angular",DC.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new ji(i)}}function fT(t,...e){return nr([_4,w4,{provide:hy,useFactory:I4(t),multi:!0,deps:[Me,xt,lc,...e]}])}var pT=wn(uy,!0);function ET(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var CT=ET,bT=new pr("auth","Firebase",ET());var Nd=new Zr("@firebase/auth");function C4(t,...e){Nd.logLevel<=ve.WARN&&Nd.warn(`Auth (${ls}): ${t}`,...e)}function Rd(t,...e){Nd.logLevel<=ve.ERROR&&Nd.error(`Auth (${ls}): ${t}`,...e)}function mT(t,...e){throw by(t,...e)}function Cy(t,...e){return by(t,...e)}function DT(t,e,n){let r=Object.assign(Object.assign({},CT()),{[e]:n});return new pr("auth","Firebase",r).create(e,{appName:t.name})}function Pd(t){return DT(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function by(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return bT.create(t,...e)}function Ae(t,e,...n){if(!t)throw by(e,...n)}function hc(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Rd(e),new Error(e)}function Od(t,e){t||hc(e)}function b4(){return gT()==="http:"||gT()==="https:"}function gT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function D4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(b4()||KD()||"connection"in navigator)?navigator.onLine:!0}function T4(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var $i=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Od(n>e,"Short delay should be less than long delay!"),this.isMobile=GD()||QD()}get(){return D4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function S4(t,e){Od(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var kd=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;hc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;hc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;hc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var A4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var M4=new $i(3e4,6e4);function TT(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Ud(o,s,a,u){return M(this,arguments,function*(t,e,n,r,i={}){return ST(t,i,()=>M(this,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=Wg(Object.assign({key:t.config.apiKey},h)).slice(1),g=yield t._getAdditionalHeaders();g["Content-Type"]="application/json",t.languageCode&&(g["X-Firebase-Locale"]=t.languageCode);let y=Object.assign({method:e,headers:g},l);return WD()||(y.referrerPolicy="no-referrer"),kd.fetch()(AT(t,t.config.apiHost,n,p),y)}))})}function ST(t,e,n){return M(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},A4),e);try{let i=new my(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw xd(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw xd(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw xd(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw xd(t,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw DT(t,h,l);mT(t,h)}}catch(i){if(i instanceof rn)throw i;mT(t,"network-request-failed",{message:String(i)})}})}function AT(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?S4(t.config,i):`${t.config.apiScheme}://${i}`}var my=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Cy(this.auth,"network-request-failed")),M4.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function xd(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Cy(t,e,r);return i.customData._tokenResponse=n,i}function x4(t,e){return M(this,null,function*(){return Ud(t,"POST","/v1/accounts:delete",e)})}function MT(t,e){return M(this,null,function*(){return Ud(t,"POST","/v1/accounts:lookup",e)})}function fc(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Dy(t,e=!1){return M(this,null,function*(){let n=Nt(t),r=yield n.getIdToken(e),i=xT(r);Ae(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:fc(fy(i.auth_time)),issuedAtTime:fc(fy(i.iat)),expirationTime:fc(fy(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function fy(t){return Number(t)*1e3}function xT(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Rd("JWT malformed, contained fewer than 3 sections"),null;try{let i=qg(n);return i?JSON.parse(i):(Rd("Failed to decode base64 JWT payload"),null)}catch(i){return Rd("Caught error parsing JWT payload as JSON",i?.toString()),null}}function yT(t){let e=xT(t);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function gy(t,e,n=!1){return M(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof rn&&R4(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function R4({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var yy=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>M(this,null,function*(){yield this.iteration()}),n)}iteration(){return M(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var mc=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=fc(this.lastLoginAt),this.creationTime=fc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Fd(t){return M(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield gy(t,MT(n,{idToken:r}));Ae(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?RT(o.providerUserInfo):[],a=P4(t.providerData,s),u=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new mc(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,p)})}function Ty(t){return M(this,null,function*(){let e=Nt(t);yield Fd(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function P4(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function RT(t){return t.map(e=>{var{providerId:n}=e,r=Tf(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function N4(t,e){return M(this,null,function*(){let n=yield ST(t,{},()=>M(this,null,function*(){let r=Wg({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=AT(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",kd.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function O4(t,e){return M(this,null,function*(){return Ud(t,"POST","/v2/accounts:revokeToken",TT(t,e))})}var pc=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):yT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");let n=yT(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return M(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return M(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield N4(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(Ae(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Ae(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Ae(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return hc("not implemented")}};function ti(t,e){Ae(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var gc=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Tf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new yy(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new mc(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return M(this,null,function*(){let n=yield gy(this,this.stsTokenManager.getToken(this.auth,e));return Ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Dy(this,e)}reload(){return Ty(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return M(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Fd(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return M(this,null,function*(){if(us(this.auth.app))return Promise.reject(Pd(this.auth));let e=yield this.getIdToken();return yield gy(this,x4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,u,l,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(i=n.email)!==null&&i!==void 0?i:void 0,y=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,T=(s=n.photoURL)!==null&&s!==void 0?s:void 0,N=(a=n.tenantId)!==null&&a!==void 0?a:void 0,R=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,F=(l=n.createdAt)!==null&&l!==void 0?l:void 0,J=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:z,emailVerified:X,isAnonymous:Pe,providerData:re,stsTokenManager:I}=n;Ae(z&&I,e,"internal-error");let v=pc.fromJSON(this.name,I);Ae(typeof z=="string",e,"internal-error"),ti(p,e.name),ti(g,e.name),Ae(typeof X=="boolean",e,"internal-error"),Ae(typeof Pe=="boolean",e,"internal-error"),ti(y,e.name),ti(T,e.name),ti(N,e.name),ti(R,e.name),ti(F,e.name),ti(J,e.name);let _=new t({uid:z,auth:e,email:g,emailVerified:X,displayName:p,isAnonymous:Pe,photoURL:T,phoneNumber:y,tenantId:N,stsTokenManager:v,createdAt:F,lastLoginAt:J});return re&&Array.isArray(re)&&(_.providerData=re.map(E=>Object.assign({},E))),R&&(_._redirectEventId=R),_}static _fromIdTokenResponse(e,n,r=!1){return M(this,null,function*(){let i=new pc;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Fd(o),o})}static _fromGetAccountInfoResponse(e,n,r){return M(this,null,function*(){let i=n.users[0];Ae(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?RT(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new pc;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new mc(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var vT=new Map;function Bi(t){Od(t instanceof Function,"Expected a class definition");let e=vT.get(t);return e?(Od(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,vT.set(t,e),e)}var k4=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return M(this,null,function*(){return!0})}_set(n,r){return M(this,null,function*(){this.storage[n]=r})}_get(n){return M(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return M(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),vy=k4;function py(t,e,n){return`firebase:${t}:${e}:${n}`}var Vd=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=py(this.userKey,i.apiKey,o),this.fullPersistenceKey=py("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return M(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?gc._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return M(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return M(this,null,function*(){if(!n.length)return new t(Bi(vy),e,r);let i=(yield Promise.all(n.map(l=>M(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||Bi(vy),s=py(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let h=yield l._get(s);if(h){let p=gc._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new t(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>M(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,r))})}};function _T(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(U4(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(F4(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(B4(e))return"Blackberry";if($4(e))return"Webos";if(V4(e))return"Safari";if((e.includes("chrome/")||L4(e))&&!e.includes("edge/"))return"Chrome";if(j4(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function F4(t=zt()){return/firefox\//i.test(t)}function V4(t=zt()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function L4(t=zt()){return/crios\//i.test(t)}function U4(t=zt()){return/iemobile/i.test(t)}function j4(t=zt()){return/android/i.test(t)}function B4(t=zt()){return/blackberry/i.test(t)}function $4(t=zt()){return/webos/i.test(t)}function PT(t,e=[]){let n;switch(t){case"Browser":n=_T(zt());break;case"Worker":n=`${_T(zt())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ls}/${r}`}var _y=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return M(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function H4(n){return M(this,arguments,function*(t,e={}){return Ud(t,"GET","/v2/passwordPolicy",TT(t,e))})}var q4=6,wy=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:q4,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Iy=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ld(this),this.idTokenSubscription=new Ld(this),this.beforeStateQueue=new _y(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Bi(n)),this._initializationPromise=this.queue(()=>M(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Vd.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return M(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return M(this,null,function*(){try{let n=yield MT(this,{idToken:e}),r=yield gc._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return M(this,null,function*(){var n;if(us(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return M(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return M(this,null,function*(){try{yield Fd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=T4()}_delete(){return M(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return M(this,null,function*(){if(us(this.app))return Promise.reject(Pd(this));let n=e?Nt(e):null;return n&&Ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return M(this,null,function*(){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>M(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return M(this,null,function*(){return us(this.app)?Promise.reject(Pd(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return us(this.app)?Promise.reject(Pd(this)):this.queue(()=>M(this,null,function*(){yield this.assertedPersistence.setPersistence(Bi(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return M(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return M(this,null,function*(){let e=yield H4(this),n=new wy(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new pr("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return M(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield O4(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return M(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return M(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Bi(e)||this._popupRedirectResolver;Ae(n,this,"argument-error"),this.redirectPersistenceManager=yield Vd.create(this,[Bi(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return M(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>M(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return M(this,null,function*(){if(e===this.currentUser)return this.queue(()=>M(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(n);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return M(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=PT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return M(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return M(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&C4(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function z4(t){return Nt(t)}var Ld=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=ZD(n=>this.observer=n)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var G4={loadJS(){return M(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function W4(t){G4=t}function K4(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function Q4(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Bi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}var s6=K4("rcb"),a6=new $i(3e4,6e4);var c6=new $i(2e3,1e4);var u6=10*60*1e3;var l6=new $i(3e4,6e4);var d6=new $i(5e3,15e3);var h6=encodeURIComponent("fac");var wT="@firebase/auth",IT="1.7.9";var Ey=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return M(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function Y4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function J4(t){ei(new on("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Ae(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:PT(t)},l=new Iy(r,i,o,u);return Q4(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ei(new on("auth-internal",e=>{let n=z4(e.getProvider("auth").getImmediate());return(r=>new Ey(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ut(wT,IT,Y4(t)),ut(wT,IT,"esm2017")}var Z4=5*60,f6=qD("authIdTokenMaxAge")||Z4;function X4(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}W4({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=Cy("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",X4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});J4("Browser");var Z2="auth";var jd=class{constructor(){return uc(Z2)}};var NT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},OT={};var ni,Sy;(function(){var t;function e(I,v){function _(){}_.prototype=v.prototype,I.D=v.prototype,I.prototype=new _,I.prototype.constructor=I,I.C=function(E,C,A){for(var w=Array(arguments.length-2),Gn=2;Gn<arguments.length;Gn++)w[Gn-2]=arguments[Gn];return v.prototype[C].apply(E,w)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,v,_){_||(_=0);var E=Array(16);if(typeof v=="string")for(var C=0;16>C;++C)E[C]=v.charCodeAt(_++)|v.charCodeAt(_++)<<8|v.charCodeAt(_++)<<16|v.charCodeAt(_++)<<24;else for(C=0;16>C;++C)E[C]=v[_++]|v[_++]<<8|v[_++]<<16|v[_++]<<24;v=I.g[0],_=I.g[1],C=I.g[2];var A=I.g[3],w=v+(A^_&(C^A))+E[0]+3614090360&4294967295;v=_+(w<<7&4294967295|w>>>25),w=A+(C^v&(_^C))+E[1]+3905402710&4294967295,A=v+(w<<12&4294967295|w>>>20),w=C+(_^A&(v^_))+E[2]+606105819&4294967295,C=A+(w<<17&4294967295|w>>>15),w=_+(v^C&(A^v))+E[3]+3250441966&4294967295,_=C+(w<<22&4294967295|w>>>10),w=v+(A^_&(C^A))+E[4]+4118548399&4294967295,v=_+(w<<7&4294967295|w>>>25),w=A+(C^v&(_^C))+E[5]+1200080426&4294967295,A=v+(w<<12&4294967295|w>>>20),w=C+(_^A&(v^_))+E[6]+2821735955&4294967295,C=A+(w<<17&4294967295|w>>>15),w=_+(v^C&(A^v))+E[7]+4249261313&4294967295,_=C+(w<<22&4294967295|w>>>10),w=v+(A^_&(C^A))+E[8]+1770035416&4294967295,v=_+(w<<7&4294967295|w>>>25),w=A+(C^v&(_^C))+E[9]+2336552879&4294967295,A=v+(w<<12&4294967295|w>>>20),w=C+(_^A&(v^_))+E[10]+4294925233&4294967295,C=A+(w<<17&4294967295|w>>>15),w=_+(v^C&(A^v))+E[11]+2304563134&4294967295,_=C+(w<<22&4294967295|w>>>10),w=v+(A^_&(C^A))+E[12]+1804603682&4294967295,v=_+(w<<7&4294967295|w>>>25),w=A+(C^v&(_^C))+E[13]+4254626195&4294967295,A=v+(w<<12&4294967295|w>>>20),w=C+(_^A&(v^_))+E[14]+2792965006&4294967295,C=A+(w<<17&4294967295|w>>>15),w=_+(v^C&(A^v))+E[15]+1236535329&4294967295,_=C+(w<<22&4294967295|w>>>10),w=v+(C^A&(_^C))+E[1]+4129170786&4294967295,v=_+(w<<5&4294967295|w>>>27),w=A+(_^C&(v^_))+E[6]+3225465664&4294967295,A=v+(w<<9&4294967295|w>>>23),w=C+(v^_&(A^v))+E[11]+643717713&4294967295,C=A+(w<<14&4294967295|w>>>18),w=_+(A^v&(C^A))+E[0]+3921069994&4294967295,_=C+(w<<20&4294967295|w>>>12),w=v+(C^A&(_^C))+E[5]+3593408605&4294967295,v=_+(w<<5&4294967295|w>>>27),w=A+(_^C&(v^_))+E[10]+38016083&4294967295,A=v+(w<<9&4294967295|w>>>23),w=C+(v^_&(A^v))+E[15]+3634488961&4294967295,C=A+(w<<14&4294967295|w>>>18),w=_+(A^v&(C^A))+E[4]+3889429448&4294967295,_=C+(w<<20&4294967295|w>>>12),w=v+(C^A&(_^C))+E[9]+568446438&4294967295,v=_+(w<<5&4294967295|w>>>27),w=A+(_^C&(v^_))+E[14]+3275163606&4294967295,A=v+(w<<9&4294967295|w>>>23),w=C+(v^_&(A^v))+E[3]+4107603335&4294967295,C=A+(w<<14&4294967295|w>>>18),w=_+(A^v&(C^A))+E[8]+1163531501&4294967295,_=C+(w<<20&4294967295|w>>>12),w=v+(C^A&(_^C))+E[13]+2850285829&4294967295,v=_+(w<<5&4294967295|w>>>27),w=A+(_^C&(v^_))+E[2]+4243563512&4294967295,A=v+(w<<9&4294967295|w>>>23),w=C+(v^_&(A^v))+E[7]+1735328473&4294967295,C=A+(w<<14&4294967295|w>>>18),w=_+(A^v&(C^A))+E[12]+2368359562&4294967295,_=C+(w<<20&4294967295|w>>>12),w=v+(_^C^A)+E[5]+4294588738&4294967295,v=_+(w<<4&4294967295|w>>>28),w=A+(v^_^C)+E[8]+2272392833&4294967295,A=v+(w<<11&4294967295|w>>>21),w=C+(A^v^_)+E[11]+1839030562&4294967295,C=A+(w<<16&4294967295|w>>>16),w=_+(C^A^v)+E[14]+4259657740&4294967295,_=C+(w<<23&4294967295|w>>>9),w=v+(_^C^A)+E[1]+2763975236&4294967295,v=_+(w<<4&4294967295|w>>>28),w=A+(v^_^C)+E[4]+1272893353&4294967295,A=v+(w<<11&4294967295|w>>>21),w=C+(A^v^_)+E[7]+4139469664&4294967295,C=A+(w<<16&4294967295|w>>>16),w=_+(C^A^v)+E[10]+3200236656&4294967295,_=C+(w<<23&4294967295|w>>>9),w=v+(_^C^A)+E[13]+681279174&4294967295,v=_+(w<<4&4294967295|w>>>28),w=A+(v^_^C)+E[0]+3936430074&4294967295,A=v+(w<<11&4294967295|w>>>21),w=C+(A^v^_)+E[3]+3572445317&4294967295,C=A+(w<<16&4294967295|w>>>16),w=_+(C^A^v)+E[6]+76029189&4294967295,_=C+(w<<23&4294967295|w>>>9),w=v+(_^C^A)+E[9]+3654602809&4294967295,v=_+(w<<4&4294967295|w>>>28),w=A+(v^_^C)+E[12]+3873151461&4294967295,A=v+(w<<11&4294967295|w>>>21),w=C+(A^v^_)+E[15]+530742520&4294967295,C=A+(w<<16&4294967295|w>>>16),w=_+(C^A^v)+E[2]+3299628645&4294967295,_=C+(w<<23&4294967295|w>>>9),w=v+(C^(_|~A))+E[0]+4096336452&4294967295,v=_+(w<<6&4294967295|w>>>26),w=A+(_^(v|~C))+E[7]+1126891415&4294967295,A=v+(w<<10&4294967295|w>>>22),w=C+(v^(A|~_))+E[14]+2878612391&4294967295,C=A+(w<<15&4294967295|w>>>17),w=_+(A^(C|~v))+E[5]+4237533241&4294967295,_=C+(w<<21&4294967295|w>>>11),w=v+(C^(_|~A))+E[12]+1700485571&4294967295,v=_+(w<<6&4294967295|w>>>26),w=A+(_^(v|~C))+E[3]+2399980690&4294967295,A=v+(w<<10&4294967295|w>>>22),w=C+(v^(A|~_))+E[10]+4293915773&4294967295,C=A+(w<<15&4294967295|w>>>17),w=_+(A^(C|~v))+E[1]+2240044497&4294967295,_=C+(w<<21&4294967295|w>>>11),w=v+(C^(_|~A))+E[8]+1873313359&4294967295,v=_+(w<<6&4294967295|w>>>26),w=A+(_^(v|~C))+E[15]+4264355552&4294967295,A=v+(w<<10&4294967295|w>>>22),w=C+(v^(A|~_))+E[6]+2734768916&4294967295,C=A+(w<<15&4294967295|w>>>17),w=_+(A^(C|~v))+E[13]+1309151649&4294967295,_=C+(w<<21&4294967295|w>>>11),w=v+(C^(_|~A))+E[4]+4149444226&4294967295,v=_+(w<<6&4294967295|w>>>26),w=A+(_^(v|~C))+E[11]+3174756917&4294967295,A=v+(w<<10&4294967295|w>>>22),w=C+(v^(A|~_))+E[2]+718787259&4294967295,C=A+(w<<15&4294967295|w>>>17),w=_+(A^(C|~v))+E[9]+3951481745&4294967295,I.g[0]=I.g[0]+v&4294967295,I.g[1]=I.g[1]+(C+(w<<21&4294967295|w>>>11))&4294967295,I.g[2]=I.g[2]+C&4294967295,I.g[3]=I.g[3]+A&4294967295}r.prototype.u=function(I,v){v===void 0&&(v=I.length);for(var _=v-this.blockSize,E=this.B,C=this.h,A=0;A<v;){if(C==0)for(;A<=_;)i(this,I,A),A+=this.blockSize;if(typeof I=="string"){for(;A<v;)if(E[C++]=I.charCodeAt(A++),C==this.blockSize){i(this,E),C=0;break}}else for(;A<v;)if(E[C++]=I[A++],C==this.blockSize){i(this,E),C=0;break}}this.h=C,this.o+=v},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var v=1;v<I.length-8;++v)I[v]=0;var _=8*this.o;for(v=I.length-8;v<I.length;++v)I[v]=_&255,_/=256;for(this.u(I),I=Array(16),v=_=0;4>v;++v)for(var E=0;32>E;E+=8)I[_++]=this.g[v]>>>E&255;return I};function o(I,v){var _=a;return Object.prototype.hasOwnProperty.call(_,I)?_[I]:_[I]=v(I)}function s(I,v){this.h=v;for(var _=[],E=!0,C=I.length-1;0<=C;C--){var A=I[C]|0;E&&A==v||(_[C]=A,E=!1)}this.g=_}var a={};function u(I){return-128<=I&&128>I?o(I,function(v){return new s([v|0],0>v?-1:0)}):new s([I|0],0>I?-1:0)}function l(I){if(isNaN(I)||!isFinite(I))return p;if(0>I)return R(l(-I));for(var v=[],_=1,E=0;I>=_;E++)v[E]=I/_|0,_*=4294967296;return new s(v,0)}function h(I,v){if(I.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(I.charAt(0)=="-")return R(h(I.substring(1),v));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=l(Math.pow(v,8)),E=p,C=0;C<I.length;C+=8){var A=Math.min(8,I.length-C),w=parseInt(I.substring(C,C+A),v);8>A?(A=l(Math.pow(v,A)),E=E.j(A).add(l(w))):(E=E.j(_),E=E.add(l(w)))}return E}var p=u(0),g=u(1),y=u(16777216);t=s.prototype,t.m=function(){if(N(this))return-R(this).m();for(var I=0,v=1,_=0;_<this.g.length;_++){var E=this.i(_);I+=(0<=E?E:4294967296+E)*v,v*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(T(this))return"0";if(N(this))return"-"+R(this).toString(I);for(var v=l(Math.pow(I,6)),_=this,E="";;){var C=X(_,v).g;_=F(_,C.j(v));var A=((0<_.g.length?_.g[0]:_.h)>>>0).toString(I);if(_=C,T(_))return A+E;for(;6>A.length;)A="0"+A;E=A+E}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function T(I){if(I.h!=0)return!1;for(var v=0;v<I.g.length;v++)if(I.g[v]!=0)return!1;return!0}function N(I){return I.h==-1}t.l=function(I){return I=F(this,I),N(I)?-1:T(I)?0:1};function R(I){for(var v=I.g.length,_=[],E=0;E<v;E++)_[E]=~I.g[E];return new s(_,~I.h).add(g)}t.abs=function(){return N(this)?R(this):this},t.add=function(I){for(var v=Math.max(this.g.length,I.g.length),_=[],E=0,C=0;C<=v;C++){var A=E+(this.i(C)&65535)+(I.i(C)&65535),w=(A>>>16)+(this.i(C)>>>16)+(I.i(C)>>>16);E=w>>>16,A&=65535,w&=65535,_[C]=w<<16|A}return new s(_,_[_.length-1]&-2147483648?-1:0)};function F(I,v){return I.add(R(v))}t.j=function(I){if(T(this)||T(I))return p;if(N(this))return N(I)?R(this).j(R(I)):R(R(this).j(I));if(N(I))return R(this.j(R(I)));if(0>this.l(y)&&0>I.l(y))return l(this.m()*I.m());for(var v=this.g.length+I.g.length,_=[],E=0;E<2*v;E++)_[E]=0;for(E=0;E<this.g.length;E++)for(var C=0;C<I.g.length;C++){var A=this.i(E)>>>16,w=this.i(E)&65535,Gn=I.i(C)>>>16,Fs=I.i(C)&65535;_[2*E+2*C]+=w*Fs,J(_,2*E+2*C),_[2*E+2*C+1]+=A*Fs,J(_,2*E+2*C+1),_[2*E+2*C+1]+=w*Gn,J(_,2*E+2*C+1),_[2*E+2*C+2]+=A*Gn,J(_,2*E+2*C+2)}for(E=0;E<v;E++)_[E]=_[2*E+1]<<16|_[2*E];for(E=v;E<2*v;E++)_[E]=0;return new s(_,0)};function J(I,v){for(;(I[v]&65535)!=I[v];)I[v+1]+=I[v]>>>16,I[v]&=65535,v++}function z(I,v){this.g=I,this.h=v}function X(I,v){if(T(v))throw Error("division by zero");if(T(I))return new z(p,p);if(N(I))return v=X(R(I),v),new z(R(v.g),R(v.h));if(N(v))return v=X(I,R(v)),new z(R(v.g),v.h);if(30<I.g.length){if(N(I)||N(v))throw Error("slowDivide_ only works with positive integers.");for(var _=g,E=v;0>=E.l(I);)_=Pe(_),E=Pe(E);var C=re(_,1),A=re(E,1);for(E=re(E,2),_=re(_,2);!T(E);){var w=A.add(E);0>=w.l(I)&&(C=C.add(_),A=w),E=re(E,1),_=re(_,1)}return v=F(I,C.j(v)),new z(C,v)}for(C=p;0<=I.l(v);){for(_=Math.max(1,Math.floor(I.m()/v.m())),E=Math.ceil(Math.log(_)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),A=l(_),w=A.j(v);N(w)||0<w.l(I);)_-=E,A=l(_),w=A.j(v);T(A)&&(A=g),C=C.add(A),I=F(I,w)}return new z(C,I)}t.A=function(I){return X(this,I).h},t.and=function(I){for(var v=Math.max(this.g.length,I.g.length),_=[],E=0;E<v;E++)_[E]=this.i(E)&I.i(E);return new s(_,this.h&I.h)},t.or=function(I){for(var v=Math.max(this.g.length,I.g.length),_=[],E=0;E<v;E++)_[E]=this.i(E)|I.i(E);return new s(_,this.h|I.h)},t.xor=function(I){for(var v=Math.max(this.g.length,I.g.length),_=[],E=0;E<v;E++)_[E]=this.i(E)^I.i(E);return new s(_,this.h^I.h)};function Pe(I){for(var v=I.g.length+1,_=[],E=0;E<v;E++)_[E]=I.i(E)<<1|I.i(E-1)>>>31;return new s(_,I.h)}function re(I,v){var _=v>>5;v%=32;for(var E=I.g.length-_,C=[],A=0;A<E;A++)C[A]=0<v?I.i(A+_)>>>v|I.i(A+_+1)<<32-v:I.i(A+_);return new s(C,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Sy=OT.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,ni=OT.Integer=s}).apply(typeof NT<"u"?NT:typeof self<"u"?self:typeof window<"u"?window:{});var Bd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},gr={};var Ay,X2,fs,My,yc,$d,xy,Ry,Py;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bd=="object"&&Bd];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var m=0;m<c.length-1;m++){var b=c[m];if(!(b in f))break e;f=f[b]}c=c[c.length-1],m=f[c],d=d(m),d!=m&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,m=!1,b={next:function(){if(!m&&f<c.length){var x=f++;return{value:d(x,c[x]),done:!1}}return m=!0,{done:!0,value:void 0}}};return b[Symbol.iterator]=function(){return b},b}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,m),c.apply(d,b)}}return function(){return c.apply(d,arguments)}}function g(c,d,f){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,g.apply(null,arguments)}function y(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var m=f.slice();return m.push.apply(m,arguments),c.apply(this,m)}}function T(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(m,b,x){for(var U=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)U[Ne-2]=arguments[Ne];return d.prototype[b].apply(m,U)}}function N(c){let d=c.length;if(0<d){let f=Array(d);for(let m=0;m<d;m++)f[m]=c[m];return f}return[]}function R(c,d){for(let f=1;f<arguments.length;f++){let m=arguments[f];if(u(m)){let b=c.length||0,x=m.length||0;c.length=b+x;for(let U=0;U<x;U++)c[b+U]=m[U]}else c.push(m)}}class F{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function J(c){return/^[\s\xa0]*$/.test(c)}function z(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function X(c){return X[" "](c),c}X[" "]=function(){};var Pe=z().indexOf("Gecko")!=-1&&!(z().toLowerCase().indexOf("webkit")!=-1&&z().indexOf("Edge")==-1)&&!(z().indexOf("Trident")!=-1||z().indexOf("MSIE")!=-1)&&z().indexOf("Edge")==-1;function re(c,d,f){for(let m in c)d.call(f,c[m],m,c)}function I(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function v(c){let d={};for(let f in c)d[f]=c[f];return d}let _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(c,d){let f,m;for(let b=1;b<arguments.length;b++){m=arguments[b];for(f in m)c[f]=m[f];for(let x=0;x<_.length;x++)f=_[x],Object.prototype.hasOwnProperty.call(m,f)&&(c[f]=m[f])}}function C(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function A(c){a.setTimeout(()=>{throw c},0)}function w(){var c=Nh;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class Gn{constructor(){this.h=this.g=null}add(d,f){let m=Fs.get();m.set(d,f),this.h?this.h.next=m:this.g=m,this.h=m}}var Fs=new F(()=>new UA,c=>c.reset());class UA{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Vs,Ls=!1,Nh=new Gn,j_=()=>{let c=a.Promise.resolve(void 0);Vs=()=>{c.then(jA)}};var jA=()=>{for(var c;c=w();){try{c.h.call(c.g)}catch(f){A(f)}var d=Fs;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}Ls=!1};function Er(){this.s=this.s,this.C=this.C}Er.prototype.s=!1,Er.prototype.ma=function(){this.s||(this.s=!0,this.N())},Er.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function pt(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}pt.prototype.h=function(){this.defaultPrevented=!0};var BA=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function Us(c,d){if(pt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,m=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(Pe){e:{try{X(d.nodeName);var b=!0;break e}catch{}b=!1}b||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:$A[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Us.aa.h.call(this)}}T(Us,pt);var $A={2:"touch",3:"pen",4:"mouse"};Us.prototype.h=function(){Us.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var js="closure_listenable_"+(1e6*Math.random()|0),HA=0;function qA(c,d,f,m,b){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!m,this.ha=b,this.key=++HA,this.da=this.fa=!1}function jc(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Bc(c){this.src=c,this.g={},this.h=0}Bc.prototype.add=function(c,d,f,m,b){var x=c.toString();c=this.g[x],c||(c=this.g[x]=[],this.h++);var U=kh(c,d,m,b);return-1<U?(d=c[U],f||(d.fa=!1)):(d=new qA(d,this.src,x,!!m,b),d.fa=f,c.push(d)),d};function Oh(c,d){var f=d.type;if(f in c.g){var m=c.g[f],b=Array.prototype.indexOf.call(m,d,void 0),x;(x=0<=b)&&Array.prototype.splice.call(m,b,1),x&&(jc(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function kh(c,d,f,m){for(var b=0;b<c.length;++b){var x=c[b];if(!x.da&&x.listener==d&&x.capture==!!f&&x.ha==m)return b}return-1}var Fh="closure_lm_"+(1e6*Math.random()|0),Vh={};function B_(c,d,f,m,b){if(m&&m.once)return H_(c,d,f,m,b);if(Array.isArray(d)){for(var x=0;x<d.length;x++)B_(c,d[x],f,m,b);return null}return f=Bh(f),c&&c[js]?c.K(d,f,l(m)?!!m.capture:!!m,b):$_(c,d,f,!1,m,b)}function $_(c,d,f,m,b,x){if(!d)throw Error("Invalid event type");var U=l(b)?!!b.capture:!!b,Ne=Uh(c);if(Ne||(c[Fh]=Ne=new Bc(c)),f=Ne.add(d,f,m,U,x),f.proxy)return f;if(m=zA(),f.proxy=m,m.src=c,m.listener=f,c.addEventListener)BA||(b=U),b===void 0&&(b=!1),c.addEventListener(d.toString(),m,b);else if(c.attachEvent)c.attachEvent(z_(d.toString()),m);else if(c.addListener&&c.removeListener)c.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return f}function zA(){function c(f){return d.call(c.src,c.listener,f)}let d=GA;return c}function H_(c,d,f,m,b){if(Array.isArray(d)){for(var x=0;x<d.length;x++)H_(c,d[x],f,m,b);return null}return f=Bh(f),c&&c[js]?c.L(d,f,l(m)?!!m.capture:!!m,b):$_(c,d,f,!0,m,b)}function q_(c,d,f,m,b){if(Array.isArray(d))for(var x=0;x<d.length;x++)q_(c,d[x],f,m,b);else m=l(m)?!!m.capture:!!m,f=Bh(f),c&&c[js]?(c=c.i,d=String(d).toString(),d in c.g&&(x=c.g[d],f=kh(x,f,m,b),-1<f&&(jc(x[f]),Array.prototype.splice.call(x,f,1),x.length==0&&(delete c.g[d],c.h--)))):c&&(c=Uh(c))&&(d=c.g[d.toString()],c=-1,d&&(c=kh(d,f,m,b)),(f=-1<c?d[c]:null)&&Lh(f))}function Lh(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[js])Oh(d.i,c);else{var f=c.type,m=c.proxy;d.removeEventListener?d.removeEventListener(f,m,c.capture):d.detachEvent?d.detachEvent(z_(f),m):d.addListener&&d.removeListener&&d.removeListener(m),(f=Uh(d))?(Oh(f,c),f.h==0&&(f.src=null,d[Fh]=null)):jc(c)}}}function z_(c){return c in Vh?Vh[c]:Vh[c]="on"+c}function GA(c,d){if(c.da)c=!0;else{d=new Us(d,this);var f=c.listener,m=c.ha||c.src;c.fa&&Lh(c),c=f.call(m,d)}return c}function Uh(c){return c=c[Fh],c instanceof Bc?c:null}var jh="__closure_events_fn_"+(1e9*Math.random()>>>0);function Bh(c){return typeof c=="function"?c:(c[jh]||(c[jh]=function(d){return c.handleEvent(d)}),c[jh])}function mt(){Er.call(this),this.i=new Bc(this),this.M=this,this.F=null}T(mt,Er),mt.prototype[js]=!0,mt.prototype.removeEventListener=function(c,d,f,m){q_(this,c,d,f,m)};function Dt(c,d){var f,m=c.F;if(m)for(f=[];m;m=m.F)f.push(m);if(c=c.M,m=d.type||d,typeof d=="string")d=new pt(d,c);else if(d instanceof pt)d.target=d.target||c;else{var b=d;d=new pt(m,c),E(d,b)}if(b=!0,f)for(var x=f.length-1;0<=x;x--){var U=d.g=f[x];b=$c(U,m,!0,d)&&b}if(U=d.g=c,b=$c(U,m,!0,d)&&b,b=$c(U,m,!1,d)&&b,f)for(x=0;x<f.length;x++)U=d.g=f[x],b=$c(U,m,!1,d)&&b}mt.prototype.N=function(){if(mt.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],m=0;m<f.length;m++)jc(f[m]);delete c.g[d],c.h--}}this.F=null},mt.prototype.K=function(c,d,f,m){return this.i.add(String(c),d,!1,f,m)},mt.prototype.L=function(c,d,f,m){return this.i.add(String(c),d,!0,f,m)};function $c(c,d,f,m){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var b=!0,x=0;x<d.length;++x){var U=d[x];if(U&&!U.da&&U.capture==f){var Ne=U.listener,dt=U.ha||U.src;U.fa&&Oh(c.i,U),b=Ne.call(dt,m)!==!1&&b}}return b&&!m.defaultPrevented}function G_(c,d,f){if(typeof c=="function")f&&(c=g(c,f));else if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function W_(c){c.g=G_(()=>{c.g=null,c.i&&(c.i=!1,W_(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class WA extends Er{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:W_(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Bs(c){Er.call(this),this.h=c,this.g={}}T(Bs,Er);var K_=[];function Q_(c){re(c.g,function(d,f){this.g.hasOwnProperty(f)&&Lh(d)},c),c.g={}}Bs.prototype.N=function(){Bs.aa.N.call(this),Q_(this)},Bs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $h=a.JSON.stringify,KA=a.JSON.parse,QA=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Hh(){}Hh.prototype.h=null;function Y_(c){return c.h||(c.h=c.i())}function J_(){}var $s={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function qh(){pt.call(this,"d")}T(qh,pt);function zh(){pt.call(this,"c")}T(zh,pt);var ui={},Z_=null;function Hc(){return Z_=Z_||new mt}ui.La="serverreachability";function X_(c){pt.call(this,ui.La,c)}T(X_,pt);function Hs(c){let d=Hc();Dt(d,new X_(d))}ui.STAT_EVENT="statevent";function e0(c,d){pt.call(this,ui.STAT_EVENT,c),this.stat=d}T(e0,pt);function Tt(c){let d=Hc();Dt(d,new e0(d,c))}ui.Ma="timingevent";function t0(c,d){pt.call(this,ui.Ma,c),this.size=d}T(t0,pt);function qs(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function zs(){this.g=!0}zs.prototype.xa=function(){this.g=!1};function YA(c,d,f,m,b,x){c.info(function(){if(c.g)if(x)for(var U="",Ne=x.split("&"),dt=0;dt<Ne.length;dt++){var De=Ne[dt].split("=");if(1<De.length){var gt=De[0];De=De[1];var yt=gt.split("_");U=2<=yt.length&&yt[1]=="type"?U+(gt+"="+De+"&"):U+(gt+"=redacted&")}}else U=null;else U=x;return"XMLHTTP REQ ("+m+") [attempt "+b+"]: "+d+`
`+f+`
`+U})}function JA(c,d,f,m,b,x,U){c.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+b+"]: "+d+`
`+f+`
`+x+" "+U})}function to(c,d,f,m){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+XA(c,f)+(m?" "+m:"")})}function ZA(c,d){c.info(function(){return"TIMEOUT: "+d})}zs.prototype.info=function(){};function XA(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var m=f[c];if(!(2>m.length)){var b=m[1];if(Array.isArray(b)&&!(1>b.length)){var x=b[0];if(x!="noop"&&x!="stop"&&x!="close")for(var U=1;U<b.length;U++)b[U]=""}}}}return $h(f)}catch{return d}}var qc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},n0={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Gh;function zc(){}T(zc,Hh),zc.prototype.g=function(){return new XMLHttpRequest},zc.prototype.i=function(){return{}},Gh=new zc;function Cr(c,d,f,m){this.j=c,this.i=d,this.l=f,this.R=m||1,this.U=new Bs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new r0}function r0(){this.i=null,this.g="",this.h=!1}var i0={},Wh={};function Kh(c,d,f){c.L=1,c.v=Qc(Wn(d)),c.m=f,c.P=!0,o0(c,null)}function o0(c,d){c.F=Date.now(),Gc(c),c.A=Wn(c.v);var f=c.A,m=c.R;Array.isArray(m)||(m=[String(m)]),_0(f.i,"t",m),c.C=0,f=c.j.J,c.h=new r0,c.g=V0(c.j,f?d:null,!c.m),0<c.O&&(c.M=new WA(g(c.Y,c,c.g),c.O)),d=c.U,f=c.g,m=c.ca;var b="readystatechange";Array.isArray(b)||(b&&(K_[0]=b.toString()),b=K_);for(var x=0;x<b.length;x++){var U=B_(f,b[x],m||d.handleEvent,!1,d.h||d);if(!U)break;d.g[U.key]=U}d=c.H?v(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),Hs(),YA(c.i,c.u,c.A,c.l,c.R,c.m)}Cr.prototype.ca=function(c){c=c.target;let d=this.M;d&&Kn(c)==3?d.j():this.Y(c)},Cr.prototype.Y=function(c){try{if(c==this.g)e:{let yt=Kn(this.g);var d=this.g.Ba();let io=this.g.Z();if(!(3>yt)&&(yt!=3||this.g&&(this.h.h||this.g.oa()||T0(this.g)))){this.J||yt!=4||d==7||(d==8||0>=io?Hs(3):Hs(2)),Qh(this);var f=this.g.Z();this.X=f;t:if(s0(this)){var m=T0(this.g);c="";var b=m.length,x=Kn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){li(this),Gs(this);var U="";break t}this.h.i=new a.TextDecoder}for(d=0;d<b;d++)this.h.h=!0,c+=this.h.i.decode(m[d],{stream:!(x&&d==b-1)});m.length=0,this.h.g+=c,this.C=0,U=this.h.g}else U=this.g.oa();if(this.o=f==200,JA(this.i,this.u,this.A,this.l,this.R,yt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Ne,dt=this.g;if((Ne=dt.g?dt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!J(Ne)){var De=Ne;break t}}De=null}if(f=De)to(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Yh(this,f);else{this.o=!1,this.s=3,Tt(12),li(this),Gs(this);break e}}if(this.P){f=!0;let an;for(;!this.J&&this.C<U.length;)if(an=eM(this,U),an==Wh){yt==4&&(this.s=4,Tt(14),f=!1),to(this.i,this.l,null,"[Incomplete Response]");break}else if(an==i0){this.s=4,Tt(15),to(this.i,this.l,U,"[Invalid Chunk]"),f=!1;break}else to(this.i,this.l,an,null),Yh(this,an);if(s0(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),yt!=4||U.length!=0||this.h.h||(this.s=1,Tt(16),f=!1),this.o=this.o&&f,!f)to(this.i,this.l,U,"[Invalid Chunked Response]"),li(this),Gs(this);else if(0<U.length&&!this.W){this.W=!0;var gt=this.j;gt.g==this&&gt.ba&&!gt.M&&(gt.j.info("Great, no buffering proxy detected. Bytes received: "+U.length),nf(gt),gt.M=!0,Tt(11))}}else to(this.i,this.l,U,null),Yh(this,U);yt==4&&li(this),this.o&&!this.J&&(yt==4?N0(this.j,this):(this.o=!1,Gc(this)))}else yM(this.g),f==400&&0<U.indexOf("Unknown SID")?(this.s=3,Tt(12)):(this.s=0,Tt(13)),li(this),Gs(this)}}}catch{}finally{}};function s0(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function eM(c,d){var f=c.C,m=d.indexOf(`
`,f);return m==-1?Wh:(f=Number(d.substring(f,m)),isNaN(f)?i0:(m+=1,m+f>d.length?Wh:(d=d.slice(m,m+f),c.C=m+f,d)))}Cr.prototype.cancel=function(){this.J=!0,li(this)};function Gc(c){c.S=Date.now()+c.I,a0(c,c.I)}function a0(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=qs(g(c.ba,c),d)}function Qh(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Cr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(ZA(this.i,this.A),this.L!=2&&(Hs(),Tt(17)),li(this),this.s=2,Gs(this)):a0(this,this.S-c)};function Gs(c){c.j.G==0||c.J||N0(c.j,c)}function li(c){Qh(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,Q_(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function Yh(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||Jh(f.h,c))){if(!c.K&&Jh(f.h,c)&&f.G==3){try{var m=f.Da.g.parse(d)}catch{m=null}if(Array.isArray(m)&&m.length==3){var b=m;if(b[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)eu(f),Zc(f);else break e;tf(f),Tt(18)}}else f.za=b[1],0<f.za-f.T&&37500>b[2]&&f.F&&f.v==0&&!f.C&&(f.C=qs(g(f.Za,f),6e3));if(1>=l0(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else hi(f,11)}else if((c.K||f.g==c)&&eu(f),!J(d))for(b=f.Da.g.parse(d),d=0;d<b.length;d++){let De=b[d];if(f.T=De[0],De=De[1],f.G==2)if(De[0]=="c"){f.K=De[1],f.ia=De[2];let gt=De[3];gt!=null&&(f.la=gt,f.j.info("VER="+f.la));let yt=De[4];yt!=null&&(f.Aa=yt,f.j.info("SVER="+f.Aa));let io=De[5];io!=null&&typeof io=="number"&&0<io&&(m=1.5*io,f.L=m,f.j.info("backChannelRequestTimeoutMs_="+m)),m=f;let an=c.g;if(an){let nu=an.g?an.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(nu){var x=m.h;x.g||nu.indexOf("spdy")==-1&&nu.indexOf("quic")==-1&&nu.indexOf("h2")==-1||(x.j=x.l,x.g=new Set,x.h&&(Zh(x,x.h),x.h=null))}if(m.D){let rf=an.g?an.g.getResponseHeader("X-HTTP-Session-Id"):null;rf&&(m.ya=rf,Ve(m.I,m.D,rf))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),m=f;var U=c;if(m.qa=F0(m,m.J?m.ia:null,m.W),U.K){d0(m.h,U);var Ne=U,dt=m.L;dt&&(Ne.I=dt),Ne.B&&(Qh(Ne),Gc(Ne)),m.g=U}else R0(m);0<f.i.length&&Xc(f)}else De[0]!="stop"&&De[0]!="close"||hi(f,7);else f.G==3&&(De[0]=="stop"||De[0]=="close"?De[0]=="stop"?hi(f,7):ef(f):De[0]!="noop"&&f.l&&f.l.ta(De),f.v=0)}}Hs(4)}catch{}}var tM=class{constructor(c,d){this.g=c,this.map=d}};function c0(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function u0(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function l0(c){return c.h?1:c.g?c.g.size:0}function Jh(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function Zh(c,d){c.g?c.g.add(d):c.h=d}function d0(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}c0.prototype.cancel=function(){if(this.i=h0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function h0(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return N(c.i)}function nM(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,m=0;m<f;m++)d.push(c[m]);return d}d=[],f=0;for(m in c)d[f++]=c[m];return d}function rM(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let m in c)d[f++]=m;return d}}}function f0(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=rM(c),m=nM(c),b=m.length,x=0;x<b;x++)d.call(void 0,m[x],f&&f[x],c)}var p0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function iM(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var m=c[f].indexOf("="),b=null;if(0<=m){var x=c[f].substring(0,m);b=c[f].substring(m+1)}else x=c[f];d(x,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function di(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof di){this.h=c.h,Wc(this,c.j),this.o=c.o,this.g=c.g,Kc(this,c.s),this.l=c.l;var d=c.i,f=new Qs;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),m0(this,f),this.m=c.m}else c&&(d=String(c).match(p0))?(this.h=!1,Wc(this,d[1]||"",!0),this.o=Ws(d[2]||""),this.g=Ws(d[3]||"",!0),Kc(this,d[4]),this.l=Ws(d[5]||"",!0),m0(this,d[6]||"",!0),this.m=Ws(d[7]||"")):(this.h=!1,this.i=new Qs(null,this.h))}di.prototype.toString=function(){var c=[],d=this.j;d&&c.push(Ks(d,g0,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(Ks(d,g0,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(Ks(f,f.charAt(0)=="/"?aM:sM,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",Ks(f,uM)),c.join("")};function Wn(c){return new di(c)}function Wc(c,d,f){c.j=f?Ws(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function Kc(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function m0(c,d,f){d instanceof Qs?(c.i=d,lM(c.i,c.h)):(f||(d=Ks(d,cM)),c.i=new Qs(d,c.h))}function Ve(c,d,f){c.i.set(d,f)}function Qc(c){return Ve(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ws(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ks(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,oM),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function oM(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var g0=/[#\/\?@]/g,sM=/[#\?:]/g,aM=/[#\?]/g,cM=/[#\?@]/g,uM=/#/g;function Qs(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function br(c){c.g||(c.g=new Map,c.h=0,c.i&&iM(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=Qs.prototype,t.add=function(c,d){br(this),this.i=null,c=no(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function y0(c,d){br(c),d=no(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function v0(c,d){return br(c),d=no(c,d),c.g.has(d)}t.forEach=function(c,d){br(this),this.g.forEach(function(f,m){f.forEach(function(b){c.call(d,b,m,this)},this)},this)},t.na=function(){br(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let m=0;m<d.length;m++){let b=c[m];for(let x=0;x<b.length;x++)f.push(d[m])}return f},t.V=function(c){br(this);let d=[];if(typeof c=="string")v0(this,c)&&(d=d.concat(this.g.get(no(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},t.set=function(c,d){return br(this),this.i=null,c=no(this,c),v0(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function _0(c,d,f){y0(c,d),0<f.length&&(c.i=null,c.g.set(no(c,d),N(f)),c.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var m=d[f];let x=encodeURIComponent(String(m)),U=this.V(m);for(m=0;m<U.length;m++){var b=x;U[m]!==""&&(b+="="+encodeURIComponent(String(U[m]))),c.push(b)}}return this.i=c.join("&")};function no(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function lM(c,d){d&&!c.j&&(br(c),c.i=null,c.g.forEach(function(f,m){var b=m.toLowerCase();m!=b&&(y0(this,m),_0(this,b,f))},c)),c.j=d}function dM(c,d){let f=new zs;if(a.Image){let m=new Image;m.onload=y(Dr,f,"TestLoadImage: loaded",!0,d,m),m.onerror=y(Dr,f,"TestLoadImage: error",!1,d,m),m.onabort=y(Dr,f,"TestLoadImage: abort",!1,d,m),m.ontimeout=y(Dr,f,"TestLoadImage: timeout",!1,d,m),a.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=c}else d(!1)}function hM(c,d){let f=new zs,m=new AbortController,b=setTimeout(()=>{m.abort(),Dr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:m.signal}).then(x=>{clearTimeout(b),x.ok?Dr(f,"TestPingServer: ok",!0,d):Dr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(b),Dr(f,"TestPingServer: error",!1,d)})}function Dr(c,d,f,m,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),m(f)}catch{}}function fM(){this.g=new QA}function pM(c,d,f){let m=f||"";try{f0(c,function(b,x){let U=b;l(b)&&(U=$h(b)),d.push(m+x+"="+encodeURIComponent(U))})}catch(b){throw d.push(m+"type="+encodeURIComponent("_badmap")),b}}function Ys(c){this.l=c.Ub||null,this.j=c.eb||!1}T(Ys,Hh),Ys.prototype.g=function(){return new Yc(this.l,this.j)},Ys.prototype.i=function(c){return function(){return c}}({});function Yc(c,d){mt.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(Yc,mt),t=Yc.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,Zs(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Js(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Zs(this)),this.g&&(this.readyState=3,Zs(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;w0(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function w0(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?Js(this):Zs(this),this.readyState==3&&w0(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Js(this))},t.Qa=function(c){this.g&&(this.response=c,Js(this))},t.ga=function(){this.g&&Js(this)};function Js(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Zs(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function Zs(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Yc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function I0(c){let d="";return re(c,function(f,m){d+=m,d+=":",d+=f,d+=`\r
`}),d}function Xh(c,d,f){e:{for(m in f){var m=!1;break e}m=!0}m||(f=I0(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Ve(c,d,f))}function He(c){mt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(He,mt);var mM=/^https?$/i,gM=["POST","PUT"];t=He.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,f,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Gh.g(),this.v=this.o?Y_(this.o):Y_(Gh),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(x){E0(this,x);return}if(c=f||"",f=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var b in m)f.set(b,m[b]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(let x of m.keys())f.set(x,m.get(x));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(f.keys()).find(x=>x.toLowerCase()=="content-type"),b=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(gM,d,void 0))||m||b||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[x,U]of f)this.g.setRequestHeader(x,U);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{D0(this),this.u=!0,this.g.send(c),this.u=!1}catch(x){E0(this,x)}};function E0(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,C0(c),Jc(c)}function C0(c){c.A||(c.A=!0,Dt(c,"complete"),Dt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Dt(this,"complete"),Dt(this,"abort"),Jc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Jc(this,!0)),He.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?b0(this):this.bb())},t.bb=function(){b0(this)};function b0(c){if(c.h&&typeof s<"u"&&(!c.v[1]||Kn(c)!=4||c.Z()!=2)){if(c.u&&Kn(c)==4)G_(c.Ea,0,c);else if(Dt(c,"readystatechange"),Kn(c)==4){c.h=!1;try{let U=c.Z();e:switch(U){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var m;if(m=U===0){var b=String(c.D).match(p0)[1]||null;!b&&a.self&&a.self.location&&(b=a.self.location.protocol.slice(0,-1)),m=!mM.test(b?b.toLowerCase():"")}f=m}if(f)Dt(c,"complete"),Dt(c,"success");else{c.m=6;try{var x=2<Kn(c)?c.g.statusText:""}catch{x=""}c.l=x+" ["+c.Z()+"]",C0(c)}}finally{Jc(c)}}}}function Jc(c,d){if(c.g){D0(c);let f=c.g,m=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||Dt(c,"ready");try{f.onreadystatechange=m}catch{}}}function D0(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Kn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Kn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),KA(d)}};function T0(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function yM(c){let d={};c=(c.g&&2<=Kn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<c.length;m++){if(J(c[m]))continue;var f=C(c[m]);let b=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let x=d[b]||[];d[b]=x,x.push(f)}I(d,function(m){return m.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xs(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function S0(c){this.Aa=0,this.i=[],this.j=new zs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Xs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Xs("baseRetryDelayMs",5e3,c),this.cb=Xs("retryDelaySeedMs",1e4,c),this.Wa=Xs("forwardChannelMaxRetries",2,c),this.wa=Xs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new c0(c&&c.concurrentRequestLimit),this.Da=new fM,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=S0.prototype,t.la=8,t.G=1,t.connect=function(c,d,f,m){Tt(0),this.W=c,this.H=d||{},f&&m!==void 0&&(this.H.OSID=f,this.H.OAID=m),this.F=this.X,this.I=F0(this,null,this.W),Xc(this)};function ef(c){if(A0(c),c.G==3){var d=c.U++,f=Wn(c.I);if(Ve(f,"SID",c.K),Ve(f,"RID",d),Ve(f,"TYPE","terminate"),ea(c,f),d=new Cr(c,c.j,d),d.L=2,d.v=Qc(Wn(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=V0(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Gc(d)}k0(c)}function Zc(c){c.g&&(nf(c),c.g.cancel(),c.g=null)}function A0(c){Zc(c),c.u&&(a.clearTimeout(c.u),c.u=null),eu(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Xc(c){if(!u0(c.h)&&!c.s){c.s=!0;var d=c.Ga;Vs||j_(),Ls||(Vs(),Ls=!0),Nh.add(d,c),c.B=0}}function vM(c,d){return l0(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=qs(g(c.Ga,c,d),O0(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let b=new Cr(this,this.j,c),x=this.o;if(this.S&&(x?(x=v(x),E(x,this.S)):x=this.S),this.m!==null||this.O||(b.H=x,x=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var m=this.i[f];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(d+=m,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=x0(this,b,d),f=Wn(this.I),Ve(f,"RID",c),Ve(f,"CVER",22),this.D&&Ve(f,"X-HTTP-Session-Id",this.D),ea(this,f),x&&(this.O?d="headers="+encodeURIComponent(String(I0(x)))+"&"+d:this.m&&Xh(f,this.m,x)),Zh(this.h,b),this.Ua&&Ve(f,"TYPE","init"),this.P?(Ve(f,"$req",d),Ve(f,"SID","null"),b.T=!0,Kh(b,f,null)):Kh(b,f,d),this.G=2}}else this.G==3&&(c?M0(this,c):this.i.length==0||u0(this.h)||M0(this))};function M0(c,d){var f;d?f=d.l:f=c.U++;let m=Wn(c.I);Ve(m,"SID",c.K),Ve(m,"RID",f),Ve(m,"AID",c.T),ea(c,m),c.m&&c.o&&Xh(m,c.m,c.o),f=new Cr(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=x0(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Zh(c.h,f),Kh(f,m,d)}function ea(c,d){c.H&&re(c.H,function(f,m){Ve(d,m,f)}),c.l&&f0({},function(f,m){Ve(d,m,f)})}function x0(c,d,f){f=Math.min(c.i.length,f);var m=c.l?g(c.l.Na,c.l,c):null;e:{var b=c.i;let x=-1;for(;;){let U=["count="+f];x==-1?0<f?(x=b[0].g,U.push("ofs="+x)):x=0:U.push("ofs="+x);let Ne=!0;for(let dt=0;dt<f;dt++){let De=b[dt].g,gt=b[dt].map;if(De-=x,0>De)x=Math.max(0,b[dt].g-100),Ne=!1;else try{pM(gt,U,"req"+De+"_")}catch{m&&m(gt)}}if(Ne){m=U.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,m}function R0(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;Vs||j_(),Ls||(Vs(),Ls=!0),Nh.add(d,c),c.v=0}}function tf(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=qs(g(c.Fa,c),O0(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,P0(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=qs(g(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Tt(10),Zc(this),P0(this))};function nf(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function P0(c){c.g=new Cr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=Wn(c.qa);Ve(d,"RID","rpc"),Ve(d,"SID",c.K),Ve(d,"AID",c.T),Ve(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ve(d,"TO",c.ja),Ve(d,"TYPE","xmlhttp"),ea(c,d),c.m&&c.o&&Xh(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=Qc(Wn(d)),f.m=null,f.P=!0,o0(f,c)}t.Za=function(){this.C!=null&&(this.C=null,Zc(this),tf(this),Tt(19))};function eu(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function N0(c,d){var f=null;if(c.g==d){eu(c),nf(c),c.g=null;var m=2}else if(Jh(c.h,d))f=d.D,d0(c.h,d),m=1;else return;if(c.G!=0){if(d.o)if(m==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var b=c.B;m=Hc(),Dt(m,new t0(m,f)),Xc(c)}else R0(c);else if(b=d.s,b==3||b==0&&0<d.X||!(m==1&&vM(c,d)||m==2&&tf(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),b){case 1:hi(c,5);break;case 4:hi(c,10);break;case 3:hi(c,6);break;default:hi(c,2)}}}function O0(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function hi(c,d){if(c.j.info("Error code "+d),d==2){var f=g(c.fb,c),m=c.Xa;let b=!m;m=new di(m||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Wc(m,"https"),Qc(m),b?dM(m.toString(),f):hM(m.toString(),f)}else Tt(2);c.G=0,c.l&&c.l.sa(d),k0(c),A0(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Tt(2)):(this.j.info("Failed to ping google.com"),Tt(1))};function k0(c){if(c.G=0,c.ka=[],c.l){let d=h0(c.h);(d.length!=0||c.i.length!=0)&&(R(c.ka,d),R(c.ka,c.i),c.h.i.length=0,N(c.i),c.i.length=0),c.l.ra()}}function F0(c,d,f){var m=f instanceof di?Wn(f):new di(f);if(m.g!="")d&&(m.g=d+"."+m.g),Kc(m,m.s);else{var b=a.location;m=b.protocol,d=d?d+"."+b.hostname:b.hostname,b=+b.port;var x=new di(null);m&&Wc(x,m),d&&(x.g=d),b&&Kc(x,b),f&&(x.l=f),m=x}return f=c.D,d=c.ya,f&&d&&Ve(m,f,d),Ve(m,"VER",c.la),ea(c,m),m}function V0(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new He(new Ys({eb:f})):new He(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function L0(){}t=L0.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function tu(){}tu.prototype.g=function(c,d){return new Lt(c,d)};function Lt(c,d){mt.call(this),this.g=new S0(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!J(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!J(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new ro(this)}T(Lt,mt),Lt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Lt.prototype.close=function(){ef(this.g)},Lt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=$h(c),c=f);d.i.push(new tM(d.Ya++,c)),d.G==3&&Xc(d)},Lt.prototype.N=function(){this.g.l=null,delete this.j,ef(this.g),delete this.g,Lt.aa.N.call(this)};function U0(c){qh.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}T(U0,qh);function j0(){zh.call(this),this.status=1}T(j0,zh);function ro(c){this.g=c}T(ro,L0),ro.prototype.ua=function(){Dt(this.g,"a")},ro.prototype.ta=function(c){Dt(this.g,new U0(c))},ro.prototype.sa=function(c){Dt(this.g,new j0)},ro.prototype.ra=function(){Dt(this.g,"b")},tu.prototype.createWebChannel=tu.prototype.g,Lt.prototype.send=Lt.prototype.o,Lt.prototype.open=Lt.prototype.m,Lt.prototype.close=Lt.prototype.close,Py=gr.createWebChannelTransport=function(){return new tu},Ry=gr.getStatEventTarget=function(){return Hc()},xy=gr.Event=ui,$d=gr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},qc.NO_ERROR=0,qc.TIMEOUT=8,qc.HTTP_ERROR=6,yc=gr.ErrorCode=qc,n0.COMPLETE="complete",My=gr.EventType=n0,J_.EventType=$s,$s.OPEN="a",$s.CLOSE="b",$s.ERROR="c",$s.MESSAGE="d",mt.prototype.listen=mt.prototype.K,fs=gr.WebChannel=J_,X2=gr.FetchXmlHttpFactory=Ys,He.prototype.listenOnce=He.prototype.L,He.prototype.getLastError=He.prototype.Ka,He.prototype.getLastErrorCode=He.prototype.Ba,He.prototype.getStatus=He.prototype.Z,He.prototype.getResponseJson=He.prototype.Oa,He.prototype.getResponseText=He.prototype.oa,He.prototype.send=He.prototype.ea,He.prototype.setWithCredentials=He.prototype.Ha,Ay=gr.XhrIo=He}).apply(typeof Bd<"u"?Bd:typeof self<"u"?self:typeof window<"u"?window:{});var kT="@firebase/firestore";var lt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};lt.UNAUTHENTICATED=new lt(null),lt.GOOGLE_CREDENTIALS=new lt("google-credentials-uid"),lt.FIRST_PARTY=new lt("first-party-uid"),lt.MOCK_USER=new lt("mock-user");var Os="10.14.0";var Gi=new Zr("@firebase/firestore");function vc(){return Gi.logLevel}function q(t,...e){if(Gi.logLevel<=ve.DEBUG){let n=e.map(p_);Gi.debug(`Firestore (${Os}): ${t}`,...n)}}function _r(t,...e){if(Gi.logLevel<=ve.ERROR){let n=e.map(p_);Gi.error(`Firestore (${Os}): ${t}`,...n)}}function ws(t,...e){if(Gi.logLevel<=ve.WARN){let n=e.map(p_);Gi.warn(`Firestore (${Os}): ${t}`,...n)}}function p_(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function oe(t="Unexpected state"){let e=`FIRESTORE (${Os}) INTERNAL ASSERTION FAILED: `+t;throw _r(e),new Error(e)}function Re(t,e){t||oe()}function ae(t,e){return t}var O={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Z=class extends rn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var yr=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Wd=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Vy=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(lt.UNAUTHENTICATED))}shutdown(){}},Ly=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Uy=class{constructor(e){this.t=e,this.currentUser=lt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Re(this.o===void 0);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new yr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new yr,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>M(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(q("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new yr)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Re(typeof r.accessToken=="string"),new Wd(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Re(e===null||typeof e=="string"),new lt(e)}},jy=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=lt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},By=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new jy(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(lt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},$y=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Hy=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Re(this.o===void 0);let r=o=>{o.error!=null&&q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,q("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Re(typeof n.token=="string"),this.R=n.token,new $y(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function eU(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Kd=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=eU(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}};function Te(t,e){return t<e?-1:t>e?1:0}function Is(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var ft=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Z(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Z(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Z(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Z(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Te(this.nanoseconds,e.nanoseconds):Te(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var de=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new ft(0,0))}static max(){return new t(new ft(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Qd=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&oe(),r===void 0?r=e.length-n:r>e.length-n&&oe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Ke=class t extends Qd{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new Z(O.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},tU=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Wt=class t extends Qd{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return tU.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new Z(O.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new Z(O.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Z(O.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Z(O.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var ne=class t{constructor(e){this.path=e}static fromPath(e){return new t(Ke.fromString(e))}static fromName(e){return new t(Ke.fromString(e).popFirst(5))}static empty(){return new t(Ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ke.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ke.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Ke(e.slice()))}};var qy=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};qy.UNKNOWN_ID=-1;function nU(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=de.fromTimestamp(r===1e9?new ft(n+1,0):new ft(n,r));return new Wi(i,ne.empty(),e)}function rU(t){return new Wi(t.readTime,t.key,-1)}var Wi=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(de.min(),ne.empty(),-1)}static max(){return new t(de.max(),ne.empty(),-1)}};function iU(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ne.comparator(t.documentKey,e.documentKey),n!==0?n:Te(t.largestBatchId,e.largestBatchId))}var oU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",zy=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Fc(t){return M(this,null,function*(){if(t.code!==O.FAILED_PRECONDITION||t.message!==oU)throw t;q("LocalStore","Unexpectedly lost primary lease")})}var L=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&oe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;n(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function sU(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Vc(t){return t.name==="IndexedDbTransactionError"}var pS=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function bh(t){return t==null}function bc(t){return t===0&&1/t==-1/0}function aU(t){return typeof t=="number"&&Number.isInteger(t)&&!bc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var cU=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],pW=[...cU,"documentOverlays"],uU=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],lU=uU,dU=[...lU,"indexConfiguration","indexState","indexEntries"];var mW=[...dU,"globals"];function FT(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Zi(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function mS(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Qe=class t{constructor(e,n){this.comparator=e,this.root=n||jn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,jn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,jn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ys(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ys(this.root,e,this.comparator,!1)}getReverseIterator(){return new ys(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ys(this.root,e,this.comparator,!0)}},ys=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},jn=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw oe();let e=this.left.check();if(e!==this.right.check())throw oe();return e+(this.isRed()?0:1)}};jn.EMPTY=null,jn.RED=!0,jn.BLACK=!1;jn.EMPTY=new class{constructor(){this.size=0}get key(){throw oe()}get value(){throw oe()}get color(){throw oe()}get left(){throw oe()}get right(){throw oe()}copy(e,n,r,i,o){return this}insert(e,n,r){return new jn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Ct=class t{constructor(e){this.comparator=e,this.data=new Qe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Yd(this.data.getIterator())}getIteratorFrom(e){return new Yd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Yd=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var sn=class t{constructor(e){this.fields=e,e.sort(Wt.comparator)}static empty(){return new t([])}unionWith(e){let n=new Ct(Wt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Is(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Jd=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var bt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Jd("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Te(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};bt.EMPTY_BYTE_STRING=new bt("");var hU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wr(t){if(Re(!!t),typeof t=="string"){let e=0,n=hU.exec(t);if(Re(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Be(t.seconds),nanos:Be(t.nanos)}}function Be(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function oi(t){return typeof t=="string"?bt.fromBase64String(t):bt.fromUint8Array(t)}function m_(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function g_(t){let e=t.mapValue.fields.__previous_value__;return m_(e)?g_(e):e}function Dc(t){let e=wr(t.mapValue.fields.__local_write_time__.timestampValue);return new ft(e.seconds,e.nanos)}var Gy=class{constructor(e,n,r,i,o,s,a,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}},Zd=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Hd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ki(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?m_(t)?4:yS(t)?9007199254740991:gS(t)?10:11:oe()}function Hn(t,e){if(t===e)return!0;let n=Ki(t);if(n!==Ki(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Dc(t).isEqual(Dc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=wr(i.timestampValue),a=wr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return oi(i.bytesValue).isEqual(oi(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Be(i.geoPointValue.latitude)===Be(o.geoPointValue.latitude)&&Be(i.geoPointValue.longitude)===Be(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Be(i.integerValue)===Be(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Be(i.doubleValue),a=Be(o.doubleValue);return s===a?bc(s)===bc(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Is(t.arrayValue.values||[],e.arrayValue.values||[],Hn);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(FT(s)!==FT(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!Hn(s[u],a[u])))return!1;return!0}(t,e);default:return oe()}}function Tc(t,e){return(t.values||[]).find(n=>Hn(n,e))!==void 0}function Es(t,e){if(t===e)return 0;let n=Ki(t),r=Ki(e);if(n!==r)return Te(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Te(t.booleanValue,e.booleanValue);case 2:return function(o,s){let a=Be(o.integerValue||o.doubleValue),u=Be(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return VT(t.timestampValue,e.timestampValue);case 4:return VT(Dc(t),Dc(e));case 5:return Te(t.stringValue,e.stringValue);case 6:return function(o,s){let a=oi(o),u=oi(s);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=Te(a[l],u[l]);if(h!==0)return h}return Te(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let a=Te(Be(o.latitude),Be(s.latitude));return a!==0?a:Te(Be(o.longitude),Be(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return LT(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,l,h;let p=o.fields||{},g=s.fields||{},y=(a=p.value)===null||a===void 0?void 0:a.arrayValue,T=(u=g.value)===null||u===void 0?void 0:u.arrayValue,N=Te(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((h=T?.values)===null||h===void 0?void 0:h.length)||0);return N!==0?N:LT(y,T)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Hd.mapValue&&s===Hd.mapValue)return 0;if(o===Hd.mapValue)return 1;if(s===Hd.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let g=Te(u[p],h[p]);if(g!==0)return g;let y=Es(a[u[p]],l[h[p]]);if(y!==0)return y}return Te(u.length,h.length)}(t.mapValue,e.mapValue);default:throw oe()}}function VT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Te(t,e);let n=wr(t),r=wr(e),i=Te(n.seconds,r.seconds);return i!==0?i:Te(n.nanos,r.nanos)}function LT(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=Es(n[i],r[i]);if(o)return o}return Te(n.length,r.length)}function Cs(t){return Wy(t)}function Wy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=wr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return oi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ne.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=Wy(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${Wy(n.fields[s])}`;return i+"}"}(t.mapValue):oe()}function Ky(t){return!!t&&"integerValue"in t}function y_(t){return!!t&&"arrayValue"in t}function UT(t){return!!t&&"nullValue"in t}function jT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function zd(t){return!!t&&"mapValue"in t}function gS(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function wc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Zi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=wc(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=wc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function yS(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Gt=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!zd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=wc(n)}setAll(e){let n=Wt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=wc(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());zd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Hn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];zd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Zi(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(wc(this.value))}};function vS(t){let e=[];return Zi(t.fields,(n,r)=>{let i=new Wt([n]);if(zd(r)){let o=vS(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new sn(e)}var In=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,de.min(),de.min(),de.min(),Gt.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,de.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,de.min(),de.min(),Gt.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,de.min(),de.min(),Gt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(de.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Gt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Gt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=de.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var bs=class{constructor(e,n){this.position=e,this.inclusive=n}};function BT(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=ne.comparator(ne.fromName(s.referenceValue),n.key):r=Es(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function $T(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Hn(t.position[n],e.position[n]))return!1;return!0}var Ds=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function fU(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Xd=class{},it=class t extends Xd{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Yy(e,n,r):n==="array-contains"?new Xy(e,r):n==="in"?new ev(e,r):n==="not-in"?new tv(e,r):n==="array-contains-any"?new nv(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Jy(e,r):new Zy(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Es(n,this.value)):n!==null&&Ki(this.value)===Ki(n)&&this.matchesComparison(Es(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return oe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},qn=class t extends Xd{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return _S(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function _S(t){return t.op==="and"}function wS(t){return pU(t)&&_S(t)}function pU(t){for(let e of t.filters)if(e instanceof qn)return!1;return!0}function Qy(t){if(t instanceof it)return t.field.canonicalString()+t.op.toString()+Cs(t.value);if(wS(t))return t.filters.map(e=>Qy(e)).join(",");{let e=t.filters.map(n=>Qy(n)).join(",");return`${t.op}(${e})`}}function IS(t,e){return t instanceof it?function(r,i){return i instanceof it&&r.op===i.op&&r.field.isEqual(i.field)&&Hn(r.value,i.value)}(t,e):t instanceof qn?function(r,i){return i instanceof qn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&IS(s,i.filters[a]),!0):!1}(t,e):void oe()}function ES(t){return t instanceof it?function(n){return`${n.field.canonicalString()} ${n.op} ${Cs(n.value)}`}(t):t instanceof qn?function(n){return n.op.toString()+" {"+n.getFilters().map(ES).join(" ,")+"}"}(t):"Filter"}var Yy=class extends it{constructor(e,n,r){super(e,n,r),this.key=ne.fromName(r.referenceValue)}matches(e){let n=ne.comparator(e.key,this.key);return this.matchesComparison(n)}},Jy=class extends it{constructor(e,n){super(e,"in",n),this.keys=CS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Zy=class extends it{constructor(e,n){super(e,"not-in",n),this.keys=CS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function CS(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ne.fromName(r.referenceValue))}var Xy=class extends it{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return y_(n)&&Tc(n.arrayValue,this.value)}},ev=class extends it{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Tc(this.value.arrayValue,n)}},tv=class extends it{constructor(e,n){super(e,"not-in",n)}matches(e){if(Tc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Tc(this.value.arrayValue,n)}},nv=class extends it{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!y_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Tc(this.value.arrayValue,r))}};var rv=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}};function HT(t,e=null,n=[],r=[],i=null,o=null,s=null){return new rv(t,e,n,r,i,o,s)}function v_(t){let e=ae(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Qy(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),bh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Cs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Cs(r)).join(",")),e.ue=n}return e.ue}function __(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!fU(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!IS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!$T(t.startAt,e.startAt)&&$T(t.endAt,e.endAt)}function iv(t){return ne.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Ts=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function mU(t,e,n,r,i,o,s,a){return new Ts(t,e,n,r,i,o,s,a)}function w_(t){return new Ts(t)}function qT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function gU(t){return t.collectionGroup!==null}function Ic(t){let e=ae(t);if(e.ce===null){e.ce=[];let n=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Ct(Wt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Ds(o,r))}),n.has(Wt.keyField().canonicalString())||e.ce.push(new Ds(Wt.keyField(),r))}return e.ce}function Bn(t){let e=ae(t);return e.le||(e.le=yU(e,Ic(t))),e.le}function yU(t,e){if(t.limitType==="F")return HT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Ds(i.field,o)});let n=t.endAt?new bs(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new bs(t.startAt.position,t.startAt.inclusive):null;return HT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ov(t,e,n){return new Ts(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Dh(t,e){return __(Bn(t),Bn(e))&&t.limitType===e.limitType}function bS(t){return`${v_(Bn(t))}|lt:${t.limitType}`}function ps(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>ES(i)).join(", ")}]`),bh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Cs(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Cs(i)).join(",")),`Target(${r})`}(Bn(t))}; limitType=${t.limitType})`}function Th(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ne.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of Ic(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){let l=BT(s,a,u);return s.inclusive?l<=0:l<0}(r.startAt,Ic(r),i)||r.endAt&&!function(s,a,u){let l=BT(s,a,u);return s.inclusive?l>=0:l>0}(r.endAt,Ic(r),i))}(t,e)}function vU(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function DS(t){return(e,n)=>{let r=!1;for(let i of Ic(t)){let o=_U(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function _U(t,e,n){let r=t.field.isKeyField()?ne.comparator(e.key,n.key):function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?Es(u,l):oe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return oe()}}var si=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Zi(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return mS(this.inner)}size(){return this.innerSize}};var wU=new Qe(ne.comparator);function Ir(){return wU}var TS=new Qe(ne.comparator);function _c(...t){let e=TS;for(let n of t)e=e.insert(n.key,n);return e}function SS(t){let e=TS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Hi(){return Ec()}function AS(){return Ec()}function Ec(){return new si(t=>t.toString(),(t,e)=>t.isEqual(e))}var IU=new Qe(ne.comparator),EU=new Ct(ne.comparator);function _e(...t){let e=EU;for(let n of t)e=e.add(n);return e}var CU=new Ct(Te);function bU(){return CU}function I_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bc(e)?"-0":e}}function MS(t){return{integerValue:""+t}}function DU(t,e){return aU(e)?MS(e):I_(t,e)}var Ss=class{constructor(){this._=void 0}};function TU(t,e,n){return t instanceof As?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&m_(o)&&(o=g_(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Qi?RS(t,e):t instanceof Yi?PS(t,e):function(i,o){let s=xS(i,o),a=zT(s)+zT(i.Pe);return Ky(s)&&Ky(i.Pe)?MS(a):I_(i.serializer,a)}(t,e)}function SU(t,e,n){return t instanceof Qi?RS(t,e):t instanceof Yi?PS(t,e):n}function xS(t,e){return t instanceof Ms?function(r){return Ky(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var As=class extends Ss{},Qi=class extends Ss{constructor(e){super(),this.elements=e}};function RS(t,e){let n=NS(e);for(let r of t.elements)n.some(i=>Hn(i,r))||n.push(r);return{arrayValue:{values:n}}}var Yi=class extends Ss{constructor(e){super(),this.elements=e}};function PS(t,e){let n=NS(e);for(let r of t.elements)n=n.filter(i=>!Hn(i,r));return{arrayValue:{values:n}}}var Ms=class extends Ss{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function zT(t){return Be(t.integerValue||t.doubleValue)}function NS(t){return y_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function AU(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Qi&&i instanceof Qi||r instanceof Yi&&i instanceof Yi?Is(r.elements,i.elements,Hn):r instanceof Ms&&i instanceof Ms?Hn(r.Pe,i.Pe):r instanceof As&&i instanceof As}(t.transform,e.transform)}var sv=class{constructor(e,n){this.version=e,this.transformResults=n}},vr=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Gd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var xs=class{};function OS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Sc(t.key,vr.none()):new Ji(t.key,t.data,vr.none());{let n=t.data,r=Gt.empty(),i=new Ct(Wt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new zn(t.key,r,new sn(i.toArray()),vr.none())}}function MU(t,e,n){t instanceof Ji?function(i,o,s){let a=i.value.clone(),u=WT(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof zn?function(i,o,s){if(!Gd(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=WT(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(kS(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Cc(t,e,n,r){return t instanceof Ji?function(o,s,a,u){if(!Gd(o.precondition,s))return a;let l=o.value.clone(),h=KT(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof zn?function(o,s,a,u){if(!Gd(o.precondition,s))return a;let l=KT(o.fieldTransforms,u,s),h=s.data;return h.setAll(kS(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(o,s,a){return Gd(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function xU(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=xS(r.transform,i||null);o!=null&&(n===null&&(n=Gt.empty()),n.set(r.field,o))}return n||null}function GT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Is(r,i,(o,s)=>AU(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Ji=class extends xs{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},zn=class extends xs{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function kS(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function WT(t,e,n){let r=new Map;Re(t.length===n.length);for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,SU(s,a,n[i]))}return r}function KT(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,TU(o,s,e))}return r}var Sc=class extends xs{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},av=class extends xs{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var cv=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&MU(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Cc(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Cc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=AS();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let u=OS(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(de.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),_e())}isEqual(e){return this.batchId===e.batchId&&Is(this.mutations,e.mutations,(n,r)=>GT(n,r))&&Is(this.baseMutations,e.baseMutations,(n,r)=>GT(n,r))}},uv=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Re(e.mutations.length===r.length);let i=function(){return IU}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var lv=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var dv=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var nt,Ce;function RU(t){switch(t){default:return oe();case O.CANCELLED:case O.UNKNOWN:case O.DEADLINE_EXCEEDED:case O.RESOURCE_EXHAUSTED:case O.INTERNAL:case O.UNAVAILABLE:case O.UNAUTHENTICATED:return!1;case O.INVALID_ARGUMENT:case O.NOT_FOUND:case O.ALREADY_EXISTS:case O.PERMISSION_DENIED:case O.FAILED_PRECONDITION:case O.ABORTED:case O.OUT_OF_RANGE:case O.UNIMPLEMENTED:case O.DATA_LOSS:return!0}}function FS(t){if(t===void 0)return _r("GRPC error has no .code"),O.UNKNOWN;switch(t){case nt.OK:return O.OK;case nt.CANCELLED:return O.CANCELLED;case nt.UNKNOWN:return O.UNKNOWN;case nt.DEADLINE_EXCEEDED:return O.DEADLINE_EXCEEDED;case nt.RESOURCE_EXHAUSTED:return O.RESOURCE_EXHAUSTED;case nt.INTERNAL:return O.INTERNAL;case nt.UNAVAILABLE:return O.UNAVAILABLE;case nt.UNAUTHENTICATED:return O.UNAUTHENTICATED;case nt.INVALID_ARGUMENT:return O.INVALID_ARGUMENT;case nt.NOT_FOUND:return O.NOT_FOUND;case nt.ALREADY_EXISTS:return O.ALREADY_EXISTS;case nt.PERMISSION_DENIED:return O.PERMISSION_DENIED;case nt.FAILED_PRECONDITION:return O.FAILED_PRECONDITION;case nt.ABORTED:return O.ABORTED;case nt.OUT_OF_RANGE:return O.OUT_OF_RANGE;case nt.UNIMPLEMENTED:return O.UNIMPLEMENTED;case nt.DATA_LOSS:return O.DATA_LOSS;default:return oe()}}(Ce=nt||(nt={}))[Ce.OK=0]="OK",Ce[Ce.CANCELLED=1]="CANCELLED",Ce[Ce.UNKNOWN=2]="UNKNOWN",Ce[Ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ce[Ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ce[Ce.NOT_FOUND=5]="NOT_FOUND",Ce[Ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ce[Ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ce[Ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ce[Ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ce[Ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ce[Ce.ABORTED=10]="ABORTED",Ce[Ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ce[Ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ce[Ce.INTERNAL=13]="INTERNAL",Ce[Ce.UNAVAILABLE=14]="UNAVAILABLE",Ce[Ce.DATA_LOSS=15]="DATA_LOSS";var QT=null;function PU(){return new TextEncoder}var NU=new ni([4294967295,4294967295],0);function YT(t){let e=PU().encode(t),n=new Sy;return n.update(e),new Uint8Array(n.digest())}function JT(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ni([n,r],0),new ni([i,o],0)]}var hv=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new qi(`Invalid padding: ${n}`);if(r<0)throw new qi(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new qi(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new qi(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=ni.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(ni.fromNumber(r)));return i.compare(NU)===1&&(i=new ni([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=YT(e),[r,i]=JT(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;let n=YT(e),[r,i]=JT(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},qi=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var eh=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Ac.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(de.min(),i,new Qe(Te),Ir(),_e())}},Ac=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,_e(),_e(),_e())}};var vs=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},th=class{constructor(e,n){this.targetId=e,this.me=n}},nh=class{constructor(e,n,r=bt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},rh=class{constructor(){this.fe=0,this.ge=XT(),this.pe=bt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=_e(),n=_e(),r=_e();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:oe()}}),new Ac(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=XT()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Re(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},fv=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ir(),this.qe=ZT(),this.Qe=new Qe(Te)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:oe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let o=i.target;if(iv(o))if(r===0){let s=new ne(o.path);this.Ue(n,s,In.newNoDocument(s,de.min()))}else Re(r===1);else{let s=this.Ye(n);if(s!==r){let a=this.Ze(e),u=a?this.Xe(a,e,s):1;if(u!==0){this.je(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}QT?.et(function(h,p,g,y,T){var N,R,F,J,z,X;let Pe={localCacheCount:h,existenceFilterCount:p.count,databaseId:g.database,projectId:g.projectId},re=p.unchangedNames;return re&&(Pe.bloomFilter={applied:T===0,hashCount:(N=re?.hashCount)!==null&&N!==void 0?N:0,bitmapLength:(J=(F=(R=re?.bits)===null||R===void 0?void 0:R.bitmap)===null||F===void 0?void 0:F.length)!==null&&J!==void 0?J:0,padding:(X=(z=re?.bits)===null||z===void 0?void 0:z.padding)!==null&&X!==void 0?X:0,mightContain:I=>{var v;return(v=y?.mightContain(I))!==null&&v!==void 0&&v}}),Pe}(s,e.me,this.Le.tt(),a,u))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,a;try{s=oi(r).toUint8Array()}catch(u){if(u instanceof Jd)return ws("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new hv(s,i,o)}catch(u){return ws(u instanceof qi?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((o,s)=>{let a=this.Je(s);if(a){if(o.current&&iv(a.target)){let u=new ne(a.target.path);this.ke.get(u)!==null||this.it(s,u)||this.Ue(s,u,In.newNoDocument(u,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=_e();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let i=new eh(e,n,this.Qe,this.ke,r);return this.ke=Ir(),this.qe=ZT(),this.Qe=new Qe(Te),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new rh,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Ct(Te),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||q("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new rh),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function ZT(){return new Qe(ne.comparator)}function XT(){return new Qe(ne.comparator)}var OU={asc:"ASCENDING",desc:"DESCENDING"},kU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},FU={and:"AND",or:"OR"},pv=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function mv(t,e){return t.useProto3Json||bh(e)?e:{value:e}}function ih(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function VS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function VU(t,e){return ih(t,e.toTimestamp())}function $n(t){return Re(!!t),de.fromTimestamp(function(n){let r=wr(n);return new ft(r.seconds,r.nanos)}(t))}function E_(t,e){return gv(t,e).canonicalString()}function gv(t,e){let n=function(i){return new Ke(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function LS(t){let e=Ke.fromString(t);return Re(HS(e)),e}function yv(t,e){return E_(t.databaseId,e.path)}function Ny(t,e){let n=LS(e);if(n.get(1)!==t.databaseId.projectId)throw new Z(O.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Z(O.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ne(jS(n))}function US(t,e){return E_(t.databaseId,e)}function LU(t){let e=LS(t);return e.length===4?Ke.emptyPath():jS(e)}function vv(t){return new Ke(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function jS(t){return Re(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function eS(t,e,n){return{name:yv(t,e),fields:n.value.mapValue.fields}}function UU(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:oe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(Re(h===void 0||typeof h=="string"),bt.fromBase64String(h||"")):(Re(h===void 0||h instanceof Buffer||h instanceof Uint8Array),bt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let h=l.code===void 0?O.UNKNOWN:FS(l.code);return new Z(h,l.message||"")}(s);n=new nh(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Ny(t,r.document.name),o=$n(r.document.updateTime),s=r.document.createTime?$n(r.document.createTime):de.min(),a=new Gt({mapValue:{fields:r.document.fields}}),u=In.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];n=new vs(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Ny(t,r.document),o=r.readTime?$n(r.readTime):de.min(),s=In.newNoDocument(i,o),a=r.removedTargetIds||[];n=new vs([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Ny(t,r.document),o=r.removedTargetIds||[];n=new vs([],o,i,null)}else{if(!("filter"in e))return oe();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new dv(i,o),a=r.targetId;n=new th(a,s)}}return n}function jU(t,e){let n;if(e instanceof Ji)n={update:eS(t,e.key,e.value)};else if(e instanceof Sc)n={delete:yv(t,e.key)};else if(e instanceof zn)n={update:eS(t,e.key,e.data),updateMask:QU(e.fieldMask)};else{if(!(e instanceof av))return oe();n={verify:yv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof As)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Qi)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Yi)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ms)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw oe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:VU(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:oe()}(t,e.precondition)),n}function BU(t,e){return t&&t.length>0?(Re(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?$n(i.updateTime):$n(o);return s.isEqual(de.min())&&(s=$n(o)),new sv(s,i.transformResults||[])}(n,e))):[]}function $U(t,e){return{documents:[US(t,e.path)]}}function HU(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=US(t,i);let o=function(l){if(l.length!==0)return $S(qn.create(l,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(g){return{field:ms(g.field),direction:GU(g.dir)}}(h))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=mv(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i}}function qU(t){let e=LU(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Re(r===1);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(p){let g=BS(p);return g instanceof qn&&wS(g)?g.getFilters():[g]}(n.where));let s=[];n.orderBy&&(s=function(p){return p.map(g=>function(T){return new Ds(gs(T.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(g))}(n.orderBy));let a=null;n.limit&&(a=function(p){let g;return g=typeof p=="object"?p.value:p,bh(g)?null:g}(n.limit));let u=null;n.startAt&&(u=function(p){let g=!!p.before,y=p.values||[];return new bs(y,g)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let g=!p.before,y=p.values||[];return new bs(y,g)}(n.endAt)),mU(e,i,s,o,a,"F",u,l)}function zU(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return oe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function BS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=gs(n.unaryFilter.field);return it.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=gs(n.unaryFilter.field);return it.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=gs(n.unaryFilter.field);return it.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=gs(n.unaryFilter.field);return it.create(s,"!=",{nullValue:"NULL_VALUE"});default:return oe()}}(t):t.fieldFilter!==void 0?function(n){return it.create(gs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return oe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return qn.create(n.compositeFilter.filters.map(r=>BS(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return oe()}}(n.compositeFilter.op))}(t):oe()}function GU(t){return OU[t]}function WU(t){return kU[t]}function KU(t){return FU[t]}function ms(t){return{fieldPath:t.canonicalString()}}function gs(t){return Wt.fromServerFormat(t.fieldPath)}function $S(t){return t instanceof it?function(n){if(n.op==="=="){if(jT(n.value))return{unaryFilter:{field:ms(n.field),op:"IS_NAN"}};if(UT(n.value))return{unaryFilter:{field:ms(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(jT(n.value))return{unaryFilter:{field:ms(n.field),op:"IS_NOT_NAN"}};if(UT(n.value))return{unaryFilter:{field:ms(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ms(n.field),op:WU(n.op),value:n.value}}}(t):t instanceof qn?function(n){let r=n.getFilters().map(i=>$S(i));return r.length===1?r[0]:{compositeFilter:{op:KU(n.op),filters:r}}}(t):oe()}function QU(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function HS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Mc=class t{constructor(e,n,r,i,o=de.min(),s=de.min(),a=bt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var _v=class{constructor(e){this.ct=e}};function YU(t){let e=qU({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ov(e,e.limit,"L"):e}var oh=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Be(e.integerValue));else if("doubleValue"in e){let r=Be(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),bc(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=wr(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(oi(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?yS(e)?this.dt(n,Number.MAX_SAFE_INTEGER):gS(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):oe()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let o=e.fields||{};this.dt(n,53);let s="value",a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(Be(a)),this.Vt(s,n),this.Tt(o[s],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),ne.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};oh.vt=new oh;var wv=class{constructor(){this.un=new Iv}addToCollectionParentIndex(e,n){return this.un.add(n),L.resolve()}getCollectionParents(e,n){return L.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return L.resolve()}deleteFieldIndex(e,n){return L.resolve()}deleteAllFieldIndexes(e){return L.resolve()}createTargetIndexes(e,n){return L.resolve()}getDocumentsMatchingTarget(e,n){return L.resolve(null)}getIndexType(e,n){return L.resolve(0)}getFieldIndexes(e,n){return L.resolve([])}getNextCollectionGroupToUpdate(e){return L.resolve(null)}getMinOffset(e,n){return L.resolve(Wi.min())}getMinOffsetFromCollectionGroup(e,n){return L.resolve(Wi.min())}updateCollectionGroup(e,n,r){return L.resolve()}updateIndexEntries(e,n){return L.resolve()}},Iv=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ct(Ke.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ct(Ke.comparator)).toArray()}};var yW=new Uint8Array(0);var Un=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Un.DEFAULT_COLLECTION_PERCENTILE=10,Un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Un.DEFAULT=new Un(41943040,Un.DEFAULT_COLLECTION_PERCENTILE,Un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Un.DISABLED=new Un(-1,0,0);var xc=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var Ev=class{constructor(){this.changes=new si(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,In.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?L.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Cv=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var bv=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Cc(r.mutation,i,sn.empty(),ft.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,_e()).next(()=>r))}getLocalViewOfDocuments(e,n,r=_e()){let i=Hi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=_c();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=Hi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,_e()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Ir(),s=Ec(),a=function(){return Ec()}();return n.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof zn)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),Cc(h.mutation,l,h.mutation.getFieldMask(),ft.now())):s.set(l.key,sn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),n.forEach((l,h)=>{var p;return a.set(l,new Cv(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let r=Ec(),i=new Qe((s,a)=>s-a),o=_e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let h=r.get(u)||sn.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||_e()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=AS();h.forEach(g=>{if(!o.has(g)){let y=OS(n.get(g),r.get(g));y!==null&&p.set(g,y),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return L.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return ne.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):gU(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):L.resolve(Hi()),a=-1,u=o;return s.next(l=>L.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?L.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{u=u.insert(h,g)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,_e())).next(h=>({batchId:a,changes:SS(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ne(n)).next(r=>{let i=_c();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=_c();return this.indexManager.getCollectionParents(e,o).next(a=>L.forEach(a,u=>{let l=function(p,g){return new Ts(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,g)=>{s=s.insert(p,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,In.newInvalidDocument(h)))});let a=_c();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&Cc(h.mutation,l,sn.empty(),ft.now()),Th(n,l)&&(a=a.insert(u,l))}),a})}};var Dv=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return L.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:$n(i.createTime)}}(n)),L.resolve()}getNamedQuery(e,n){return L.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:YU(i.bundledQuery),readTime:$n(i.readTime)}}(n)),L.resolve()}};var Tv=class{constructor(){this.overlays=new Qe(ne.comparator),this.Ir=new Map}getOverlay(e,n){return L.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Hi();return L.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),L.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),L.resolve()}getOverlaysForCollection(e,n,r){let i=Hi(),o=n.length+1,s=new ne(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return L.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Qe((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=Hi(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=Hi(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return L.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new lv(n,r));let o=this.Ir.get(n);o===void 0&&(o=_e(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}};var Sv=class{constructor(){this.sessionToken=bt.EMPTY_BYTE_STRING}getSessionToken(e){return L.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,L.resolve()}};var Rc=class{constructor(){this.Tr=new Ct(rt.Er),this.dr=new Ct(rt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new rt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new rt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new ne(new Ke([])),r=new rt(n,e),i=new rt(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new ne(new Ke([])),r=new rt(n,e),i=new rt(n,e+1),o=_e();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new rt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},rt=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ne.comparator(e.key,n.key)||Te(e.wr,n.wr)}static Ar(e,n){return Te(e.wr,n.wr)||ne.comparator(e.key,n.key)}};var Av=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Ct(rt.Er)}checkEmpty(e){return L.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new cv(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.br=this.br.add(new rt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return L.resolve(s)}lookupMutationBatch(e,n){return L.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),o=i<0?0:i;return L.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new rt(n,0),i=new rt(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{let a=this.Dr(s.wr);o.push(a)}),L.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ct(Te);return n.forEach(i=>{let o=new rt(i,0),s=new rt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),L.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;ne.isDocumentKey(o)||(o=o.child(""));let s=new rt(new ne(o),0),a=new Ct(Te);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.wr)),!0)},s),L.resolve(this.Cr(a))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Re(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return L.forEach(n.mutations,i=>{let o=new rt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new rt(n,0),i=this.br.firstAfterOrEqual(r);return L.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,L.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var Mv=class{constructor(e){this.Mr=e,this.docs=function(){return new Qe(ne.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return L.resolve(r?r.document.mutableCopy():In.newInvalidDocument(n))}getEntries(e,n){let r=Ir();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():In.newInvalidDocument(i))}),L.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Ir(),s=n.path,a=new ne(s.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||iU(rU(h),r)<=0||(i.has(h.key)||Th(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return L.resolve(o)}getAllFromCollectionGroup(e,n,r,i){oe()}Or(e,n){return L.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new xv(this)}getSize(e){return L.resolve(this.size)}},xv=class extends Ev{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),L.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var Rv=class{constructor(e){this.persistence=e,this.Nr=new si(n=>v_(n),__),this.lastRemoteSnapshotVersion=de.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Rc,this.targetCount=0,this.kr=xc.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),L.resolve()}getLastRemoteSnapshotVersion(e){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return L.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),L.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new xc(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,L.resolve()}updateTargetData(e,n){return this.Kn(n),L.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,L.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),L.waitFor(o).next(()=>i)}getTargetCount(e){return L.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return L.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),L.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),L.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),L.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return L.resolve(r)}containsKey(e,n){return L.resolve(this.Br.containsKey(n))}};var Pv=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new pS(0),this.Kr=!1,this.Kr=!0,this.$r=new Sv,this.referenceDelegate=e(this),this.Ur=new Rv(this),this.indexManager=new wv,this.remoteDocumentCache=function(i){return new Mv(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new _v(n),this.Gr=new Dv(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Tv,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new Av(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){q("MemoryPersistence","Starting transaction:",e);let i=new Nv(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return L.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},Nv=class extends zy{constructor(e){super(),this.currentSequenceNumber=e}},Ov=class t{constructor(e){this.persistence=e,this.Jr=new Rc,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw oe()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),L.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),L.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),L.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.Xr,r=>{let i=ne.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,de.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return L.or([()=>L.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var kv=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=_e(),i=_e();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var Fv=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Vv=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return YD()?8:sU(zt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new Fv;return this.Xi(e,n,s).next(a=>{if(o.result=a,this.zi)return this.es(e,n,s,a.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(vc()<=ve.DEBUG&&q("QueryEngine","SDK will not create cache indexes for query:",ps(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),L.resolve()):(vc()<=ve.DEBUG&&q("QueryEngine","Query:",ps(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(vc()<=ve.DEBUG&&q("QueryEngine","The SDK decides to create cache indexes for query:",ps(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Bn(n))):L.resolve())}Yi(e,n){if(qT(n))return L.resolve(null);let r=Bn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=ov(n,null,"F"),r=Bn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=_e(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(n,a);return this.ns(n,l,s,u.readTime)?this.Yi(e,ov(n,null,"F")):this.rs(e,l,n,u)}))})))}Zi(e,n,r,i){return qT(n)||i.isEqual(de.min())?L.resolve(null):this.Ji.getDocuments(e,r).next(o=>{let s=this.ts(n,o);return this.ns(n,s,r,i)?L.resolve(null):(vc()<=ve.DEBUG&&q("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ps(n)),this.rs(e,s,n,nU(i,-1)).next(a=>a))})}ts(e,n){let r=new Ct(DS(e));return n.forEach((i,o)=>{Th(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return vc()<=ve.DEBUG&&q("QueryEngine","Using full collection scan to execute query:",ps(n)),this.Ji.getDocumentsMatchingQuery(e,n,Wi.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var Lv=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Qe(Te),this._s=new si(o=>v_(o),__),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new bv(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function JU(t,e,n,r){return new Lv(t,e,n,r)}function qS(t,e){return M(this,null,function*(){let n=ae(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=_e();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:s,addedBatchIds:a}))})})})}function ZU(t,e){let n=ae(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,g=p.keys(),y=L.resolve();return g.forEach(T=>{y=y.next(()=>h.getEntry(u,T)).next(N=>{let R=l.docVersions.get(T);Re(R!==null),N.version.compareTo(R)<0&&(p.applyToRemoteDocument(N,l),N.isValidDocument()&&(N.setReadTime(l.commitVersion),h.addEntry(N)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=_e();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function zS(t){let e=ae(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function XU(t,e){let n=ae(t),r=e.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let a=[];e.targetChanges.forEach((h,p)=>{let g=i.get(p);if(!g)return;a.push(n.Ur.removeMatchingKeys(o,h.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(o,h.addedDocuments,p)));let y=g.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(bt.EMPTY_BYTE_STRING,de.min()).withLastLimboFreeSnapshotVersion(de.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),function(N,R,F){return N.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=3e8?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(g,y,h)&&a.push(n.Ur.updateTargetData(o,y))});let u=Ir(),l=_e();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(ej(o,s,e.documentUpdates).next(h=>{u=h.Ps,l=h.Is})),!r.isEqual(de.min())){let h=n.Ur.getLastRemoteSnapshotVersion(o).next(p=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return L.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(n.os=i,o))}function ej(t,e,n){let r=_e(),i=_e();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Ir();return n.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(de.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):q("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ps:s,Is:i}})}function tj(t,e){let n=ae(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function nj(t,e){let n=ae(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,L.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new Mc(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}function Uv(t,e,n){return M(this,null,function*(){let r=ae(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Vc(s))throw s;q("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function tS(t,e,n){let r=ae(t),i=de.min(),o=_e();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,h){let p=ae(u),g=p._s.get(h);return g!==void 0?L.resolve(p.os.get(g)):p.Ur.getTargetData(l,h)}(r,s,Bn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:de.min(),n?o:_e())).next(a=>(rj(r,vU(e),a),{documents:a,Ts:o})))}function rj(t,e,n){let r=t.us.get(e)||de.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}var sh=class{constructor(){this.activeTargetIds=bU()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var jv=class{constructor(){this.so=new sh,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new sh,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Bv=class{_o(e){}shutdown(){}};var ah=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){q("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){q("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var qd=null;function Oy(){return qd===null?qd=function(){return 268435456+Math.round(2147483648*Math.random())}():qd++,"0x"+qd.toString(16)}var ij={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var $v=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var Et="WebChannelConnection",Hv=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){let a=Oy(),u=this.xo(n,r.toUriEncodedString());q("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,o,s),this.No(n,u,l,i).then(h=>(q("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw ws("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",u,"request:",i),h})}Lo(n,r,i,o,s,a){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Os}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){let i=ij[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let o=Oy();return new Promise((s,a)=>{let u=new Ay;u.setWithCredentials(!0),u.listenOnce(My.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case yc.NO_ERROR:let h=u.getResponseJson();q(Et,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case yc.TIMEOUT:q(Et,`RPC '${e}' ${o} timed out`),a(new Z(O.DEADLINE_EXCEEDED,"Request time out"));break;case yc.HTTP_ERROR:let p=u.getStatus();if(q(Et,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);let y=g?.error;if(y&&y.status&&y.message){let T=function(R){let F=R.toLowerCase().replace(/_/g,"-");return Object.values(O).indexOf(F)>=0?F:O.UNKNOWN}(y.status);a(new Z(T,y.message))}else a(new Z(O.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new Z(O.UNAVAILABLE,"Connection failed."));break;default:oe()}}finally{q(Et,`RPC '${e}' ${o} completed.`)}});let l=JSON.stringify(i);q(Et,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",l,r,15)})}Bo(e,n,r){let i=Oy(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Py(),a=Ry(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let h=o.join("");q(Et,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u),g=!1,y=!1,T=new $v({Io:R=>{y?q(Et,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(g||(q(Et,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),q(Et,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},To:()=>p.close()}),N=(R,F,J)=>{R.listen(F,z=>{try{J(z)}catch(X){setTimeout(()=>{throw X},0)}})};return N(p,fs.EventType.OPEN,()=>{y||(q(Et,`RPC '${e}' stream ${i} transport opened.`),T.yo())}),N(p,fs.EventType.CLOSE,()=>{y||(y=!0,q(Et,`RPC '${e}' stream ${i} transport closed`),T.So())}),N(p,fs.EventType.ERROR,R=>{y||(y=!0,ws(Et,`RPC '${e}' stream ${i} transport errored:`,R),T.So(new Z(O.UNAVAILABLE,"The operation could not be completed")))}),N(p,fs.EventType.MESSAGE,R=>{var F;if(!y){let J=R.data[0];Re(!!J);let z=J,X=z.error||((F=z[0])===null||F===void 0?void 0:F.error);if(X){q(Et,`RPC '${e}' stream ${i} received error:`,X);let Pe=X.status,re=function(_){let E=nt[_];if(E!==void 0)return FS(E)}(Pe),I=X.message;re===void 0&&(re=O.INTERNAL,I="Unknown error status: "+Pe+" with message "+X.message),y=!0,T.So(new Z(re,I)),p.close()}else q(Et,`RPC '${e}' stream ${i} received:`,J),T.bo(J)}}),N(a,xy.STAT_EVENT,R=>{R.stat===$d.PROXY?q(Et,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===$d.NOPROXY&&q(Et,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{T.wo()},0),T}};function ky(){return typeof document<"u"?document:null}function Sh(t){return new pv(t,!0)}var ch=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&q("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var uh=class{constructor(e,n,r,i,o,s,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new ch(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return M(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return M(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return M(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===O.RESOURCE_EXHAUSTED?(_r(n.toString()),_r("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===O.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new Z(O.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>M(this,null,function*(){this.state=0,this.start()}))}I_(e){return q("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(q("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},qv=class extends uh{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=UU(this.serializer,e),r=function(o){if(!("targetChange"in o))return de.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?de.min():s.readTime?$n(s.readTime):de.min()}(e);return this.listener.d_(n,r)}A_(e){let n={};n.database=vv(this.serializer),n.addTarget=function(o,s){let a,u=s.target;if(a=iv(u)?{documents:$U(o,u)}:{query:HU(o,u)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=VS(o,s.resumeToken);let l=mv(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(de.min())>0){a.readTime=ih(o,s.snapshotVersion.toTimestamp());let l=mv(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=zU(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){let n={};n.database=vv(this.serializer),n.removeTarget=e,this.a_(n)}},zv=class extends uh{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Re(!!e.streamToken),this.lastStreamToken=e.streamToken,Re(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Re(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=BU(e.writeResults,e.commitTime),r=$n(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=vv(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>jU(this.serializer,r))};this.a_(n)}};var Gv=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Z(O.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,gv(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Z(O.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,gv(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Z(O.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},Wv=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(_r(n),this.D_=!1):q("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var Kv=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(()=>M(this,null,function*(){Xi(this)&&(q("RemoteStore","Restarting streams for network reachability change."),yield function(u){return M(this,null,function*(){let l=ae(u);l.L_.add(4),yield Lc(l),l.q_.set("Unknown"),l.L_.delete(4),yield Ah(l)})}(this))}))}),this.q_=new Wv(r,i)}};function Ah(t){return M(this,null,function*(){if(Xi(t))for(let e of t.B_)yield e(!0)})}function Lc(t){return M(this,null,function*(){for(let e of t.B_)yield e(!1)})}function GS(t,e){let n=ae(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),T_(n)?D_(n):ks(n).r_()&&b_(n,e))}function C_(t,e){let n=ae(t),r=ks(n);n.N_.delete(e),r.r_()&&WS(n,e),n.N_.size===0&&(r.r_()?r.o_():Xi(n)&&n.q_.set("Unknown"))}function b_(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(de.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ks(t).A_(e)}function WS(t,e){t.Q_.xe(e),ks(t).R_(e)}function D_(t){t.Q_=new fv({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),ks(t).start(),t.q_.v_()}function T_(t){return Xi(t)&&!ks(t).n_()&&t.N_.size>0}function Xi(t){return ae(t).L_.size===0}function KS(t){t.Q_=void 0}function oj(t){return M(this,null,function*(){t.q_.set("Online")})}function sj(t){return M(this,null,function*(){t.N_.forEach((e,n)=>{b_(t,e)})})}function aj(t,e){return M(this,null,function*(){KS(t),T_(t)?(t.q_.M_(e),D_(t)):t.q_.set("Unknown")})}function cj(t,e,n){return M(this,null,function*(){if(t.q_.set("Online"),e instanceof nh&&e.state===2&&e.cause)try{yield function(i,o){return M(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))})}(t,e)}catch(r){q("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield lh(t,r)}else if(e instanceof vs?t.Q_.Ke(e):e instanceof th?t.Q_.He(e):t.Q_.We(e),!n.isEqual(de.min()))try{let r=yield zS(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){let a=o.Q_.rt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.N_.get(l);h&&o.N_.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.N_.get(u);if(!h)return;o.N_.set(u,h.withResumeToken(bt.EMPTY_BYTE_STRING,h.snapshotVersion)),WS(o,u);let p=new Mc(h.target,u,l,h.sequenceNumber);b_(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){q("RemoteStore","Failed to raise snapshot:",r),yield lh(t,r)}})}function lh(t,e,n){return M(this,null,function*(){if(!Vc(e))throw e;t.L_.add(1),yield Lc(t),t.q_.set("Offline"),n||(n=()=>zS(t.localStore)),t.asyncQueue.enqueueRetryable(()=>M(this,null,function*(){q("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield Ah(t)}))})}function QS(t,e){return e().catch(n=>lh(t,n,e))}function Mh(t){return M(this,null,function*(){let e=ae(t),n=ai(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;uj(e);)try{let i=yield tj(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,lj(e,i)}catch(i){yield lh(e,i)}YS(e)&&JS(e)})}function uj(t){return Xi(t)&&t.O_.length<10}function lj(t,e){t.O_.push(e);let n=ai(t);n.r_()&&n.V_&&n.m_(e.mutations)}function YS(t){return Xi(t)&&!ai(t).n_()&&t.O_.length>0}function JS(t){ai(t).start()}function dj(t){return M(this,null,function*(){ai(t).p_()})}function hj(t){return M(this,null,function*(){let e=ai(t);for(let n of t.O_)e.m_(n.mutations)})}function fj(t,e,n){return M(this,null,function*(){let r=t.O_.shift(),i=uv.from(r,e,n);yield QS(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Mh(t)})}function pj(t,e){return M(this,null,function*(){e&&ai(t).V_&&(yield function(r,i){return M(this,null,function*(){if(function(s){return RU(s)&&s!==O.ABORTED}(i.code)){let o=r.O_.shift();ai(r).s_(),yield QS(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Mh(r)}})}(t,e)),YS(t)&&JS(t)})}function nS(t,e){return M(this,null,function*(){let n=ae(t);n.asyncQueue.verifyOperationInProgress(),q("RemoteStore","RemoteStore received new credentials");let r=Xi(n);n.L_.add(3),yield Lc(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield Ah(n)})}function mj(t,e){return M(this,null,function*(){let n=ae(t);e?(n.L_.delete(2),yield Ah(n)):e||(n.L_.add(2),yield Lc(n),n.q_.set("Unknown"))})}function ks(t){return t.K_||(t.K_=function(n,r,i){let o=ae(n);return o.w_(),new qv(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:oj.bind(null,t),Ro:sj.bind(null,t),mo:aj.bind(null,t),d_:cj.bind(null,t)}),t.B_.push(e=>M(this,null,function*(){e?(t.K_.s_(),T_(t)?D_(t):t.q_.set("Unknown")):(yield t.K_.stop(),KS(t))}))),t.K_}function ai(t){return t.U_||(t.U_=function(n,r,i){let o=ae(n);return o.w_(),new zv(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:dj.bind(null,t),mo:pj.bind(null,t),f_:hj.bind(null,t),g_:fj.bind(null,t)}),t.B_.push(e=>M(this,null,function*(){e?(t.U_.s_(),yield Mh(t)):(yield t.U_.stop(),t.O_.length>0&&(q("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var Qv=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new yr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Z(O.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function S_(t,e){if(_r("AsyncQueue",`${e}: ${t}`),Vc(t))return new Z(O.UNAVAILABLE,`${e}: ${t}`);throw t}var dh=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ne.comparator(n.key,r.key):(n,r)=>ne.comparator(n.key,r.key),this.keyedMap=_c(),this.sortedSet=new Qe(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var hh=class{constructor(){this.W_=new Qe(ne.comparator)}track(e){let n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):oe():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}},Rs=class t{constructor(e,n,r,i,o,s,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,dh.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Dh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var Yv=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},Jv=class{constructor(){this.queries=rS(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=ae(n),o=i.queries;i.queries=rS(),o.forEach((s,a)=>{for(let u of a.j_)u.onError(r)})})(this,new Z(O.ABORTED,"Firestore shutting down"))}};function rS(){return new si(t=>bS(t),Dh)}function gj(t,e){return M(this,null,function*(){let n=ae(t),r=3,i=e.query,o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new Yv,r=e.J_()?0:1);try{switch(r){case 0:o.z_=yield n.onListen(i,!0);break;case 1:o.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){let a=S_(s,`Initialization of query '${ps(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&A_(n)})}function yj(t,e){return M(this,null,function*(){let n=ae(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function vj(t,e){let n=ae(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&A_(n)}function _j(t,e,n){let r=ae(t),i=r.queries.get(e);if(i)for(let o of i.j_)o.onError(n);r.queries.delete(e)}function A_(t){t.Y_.forEach(e=>{e.next()})}var Zv,iS;(iS=Zv||(Zv={})).ea="default",iS.Cache="cache";var Xv=class{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Rs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Rs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Zv.Cache}};var fh=class{constructor(e){this.key=e}},ph=class{constructor(e){this.key=e}},e_=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=_e(),this.mutatedKeys=_e(),this.Aa=DS(e),this.Ra=new dh(this.Aa)}get Va(){return this.Ta}ma(e,n){let r=n?n.fa:new hh,i=n?n.Ra:this.Ra,o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let g=i.get(h),y=Th(this.query,p)?p:null,T=!!g&&this.mutatedKeys.has(g.key),N=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),R=!1;g&&y?g.data.isEqual(y.data)?T!==N&&(r.track({type:3,doc:y}),R=!0):this.ga(g,y)||(r.track({type:2,doc:y}),R=!0,(u&&this.Aa(y,u)>0||l&&this.Aa(y,l)<0)&&(a=!0)):!g&&y?(r.track({type:0,doc:y}),R=!0):g&&!y&&(r.track({type:1,doc:g}),R=!0,(u||l)&&(a=!0)),R&&(y?(s=s.add(y),o=N?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let s=e.fa.G_();s.sort((h,p)=>function(y,T){let N=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return oe()}};return N(y)-N(T)}(h.type,p.type)||this.Aa(h.doc,p.doc)),this.pa(r),i=i!=null&&i;let a=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,s.length!==0||l?{snapshot:new Rs(this.query,e.Ra,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new hh,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=_e(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let n=[];return e.forEach(r=>{this.da.has(r)||n.push(new ph(r))}),this.da.forEach(r=>{e.has(r)||n.push(new fh(r))}),n}ba(e){this.Ta=e.Ts,this.da=_e();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Rs.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},t_=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},n_=class{constructor(e){this.key=e,this.va=!1}},r_=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new si(a=>bS(a),Dh),this.Ma=new Map,this.xa=new Set,this.Oa=new Qe(ne.comparator),this.Na=new Map,this.La=new Rc,this.Ba={},this.ka=new Map,this.qa=xc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function wj(t,e,n=!0){return M(this,null,function*(){let r=rA(t),i,o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=yield ZS(r,e,n,!0),i})}function Ij(t,e){return M(this,null,function*(){let n=rA(t);yield ZS(n,e,!0,!1)})}function ZS(t,e,n,r){return M(this,null,function*(){let i=yield nj(t.localStore,Bn(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n),a;return r&&(a=yield Ej(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&GS(t.remoteStore,i),a})}function Ej(t,e,n,r,i){return M(this,null,function*(){t.Ka=(p,g,y)=>function(N,R,F,J){return M(this,null,function*(){let z=R.view.ma(F);z.ns&&(z=yield tS(N.localStore,R.query,!1).then(({documents:I})=>R.view.ma(I,z)));let X=J&&J.targetChanges.get(R.targetId),Pe=J&&J.targetMismatches.get(R.targetId)!=null,re=R.view.applyChanges(z,N.isPrimaryClient,X,Pe);return sS(N,R.targetId,re.wa),re.snapshot})}(t,p,g,y);let o=yield tS(t.localStore,e,!0),s=new e_(e,o.Ts),a=s.ma(o.documents),u=Ac.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(a,t.isPrimaryClient,u);sS(t,n,l.wa);let h=new t_(e,n,s);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),l.snapshot})}function Cj(t,e,n){return M(this,null,function*(){let r=ae(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!Dh(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Uv(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&C_(r.remoteStore,i.targetId),i_(r,i.targetId)}).catch(Fc))):(i_(r,i.targetId),yield Uv(r.localStore,i.targetId,!0))})}function bj(t,e){return M(this,null,function*(){let n=ae(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),C_(n.remoteStore,r.targetId))})}function Dj(t,e,n){return M(this,null,function*(){let r=Pj(t);try{let i=yield function(s,a){let u=ae(s),l=ft.now(),h=a.reduce((y,T)=>y.add(T.key),_e()),p,g;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let T=Ir(),N=_e();return u.cs.getEntries(y,h).next(R=>{T=R,T.forEach((F,J)=>{J.isValidDocument()||(N=N.add(F))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,T)).next(R=>{p=R;let F=[];for(let J of a){let z=xU(J,p.get(J.key).overlayedDocument);z!=null&&F.push(new zn(J.key,z,vS(z.value.mapValue),vr.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,F,a)}).next(R=>{g=R;let F=R.applyToLocalDocumentSet(p,N);return u.documentOverlayCache.saveOverlays(y,R.batchId,F)})}).then(()=>({batchId:g.batchId,changes:SS(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let l=s.Ba[s.currentUser.toKey()];l||(l=new Qe(Te)),l=l.insert(a,u),s.Ba[s.currentUser.toKey()]=l}(r,i.batchId,n),yield Uc(r,i.changes),yield Mh(r.remoteStore)}catch(i){let o=S_(i,"Failed to persist write");n.reject(o)}})}function XS(t,e){return M(this,null,function*(){let n=ae(t);try{let r=yield XU(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Na.get(o);s&&(Re(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?Re(s.va):i.removedDocuments.size>0&&(Re(s.va),s.va=!1))}),yield Uc(n,r,e)}catch(r){yield Fc(r)}})}function oS(t,e,n){let r=ae(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((o,s)=>{let a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let u=ae(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let g of p.j_)g.Z_(a)&&(l=!0)}),l&&A_(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Tj(t,e,n){return M(this,null,function*(){let r=ae(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Na.get(e),o=i&&i.key;if(o){let s=new Qe(ne.comparator);s=s.insert(o,In.newNoDocument(o,de.min()));let a=_e().add(o),u=new eh(de.min(),new Map,new Qe(Te),s,a);yield XS(r,u),r.Oa=r.Oa.remove(o),r.Na.delete(e),M_(r)}else yield Uv(r.localStore,e,!1).then(()=>i_(r,e,n)).catch(Fc)})}function Sj(t,e){return M(this,null,function*(){let n=ae(t),r=e.batch.batchId;try{let i=yield ZU(n.localStore,e);tA(n,r,null),eA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Uc(n,i)}catch(i){yield Fc(i)}})}function Aj(t,e,n){return M(this,null,function*(){let r=ae(t);try{let i=yield function(s,a){let u=ae(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(Re(p!==null),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);tA(r,e,n),eA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Uc(r,i)}catch(i){yield Fc(i)}})}function eA(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function tA(t,e,n){let r=ae(t),i=r.Ba[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function i_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||nA(t,r)})}function nA(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(C_(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),M_(t))}function sS(t,e,n){for(let r of n)r instanceof fh?(t.La.addReference(r.key,e),Mj(t,r)):r instanceof ph?(q("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||nA(t,r.key)):oe()}function Mj(t,e){let n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(q("SyncEngine","New document in limbo: "+n),t.xa.add(r),M_(t))}function M_(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new ne(Ke.fromString(e)),r=t.qa.next();t.Na.set(r,new n_(n)),t.Oa=t.Oa.insert(n,r),GS(t.remoteStore,new Mc(Bn(w_(n.path)),r,"TargetPurposeLimboResolution",pS.oe))}}function Uc(t,e,n){return M(this,null,function*(){let r=ae(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{s.push(r.Ka(u,e,n).then(l=>{var h;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=n?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=kv.Wi(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.Ca.d_(i),yield function(u,l){return M(this,null,function*(){let h=ae(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>L.forEach(l,g=>L.forEach(g.$i,y=>h.persistence.referenceDelegate.addReference(p,g.targetId,y)).next(()=>L.forEach(g.Ui,y=>h.persistence.referenceDelegate.removeReference(p,g.targetId,y)))))}catch(p){if(!Vc(p))throw p;q("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let g=p.targetId;if(!p.fromCache){let y=h.os.get(g),T=y.snapshotVersion,N=y.withLastLimboFreeSnapshotVersion(T);h.os=h.os.insert(g,N)}}})}(r.localStore,o))})}function xj(t,e){return M(this,null,function*(){let n=ae(t);if(!n.currentUser.isEqual(e)){q("SyncEngine","User change. New user:",e.toKey());let r=yield qS(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(u=>{u.reject(new Z(O.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Uc(n,r.hs)}})}function Rj(t,e){let n=ae(t),r=n.Na.get(e);if(r&&r.va)return _e().add(r.key);{let i=_e(),o=n.Ma.get(e);if(!o)return i;for(let s of o){let a=n.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function rA(t){let e=ae(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=XS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Rj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Tj.bind(null,e),e.Ca.d_=vj.bind(null,e.eventManager),e.Ca.$a=_j.bind(null,e.eventManager),e}function Pj(t){let e=ae(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Sj.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Aj.bind(null,e),e}var aS=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return M(this,null,function*(){this.serializer=Sh(n.databaseInfo.databaseId),this.sharedClientState=this.Wa(n),this.persistence=this.Ga(n),yield this.persistence.start(),this.localStore=this.za(n),this.gcScheduler=this.ja(n,this.localStore),this.indexBackfillerScheduler=this.Ha(n,this.localStore)})}ja(n,r){return null}Ha(n,r){return null}za(n){return JU(this.persistence,new Vv,n.initialUser,this.serializer)}Ga(n){return new Pv(Ov.Zr,this.serializer)}Wa(n){return new jv}terminate(){return M(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})();var Nj=(()=>{class t{initialize(n,r){return M(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>oS(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=xj.bind(null,this.syncEngine),yield mj(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new Jv}()}createDatastore(n){let r=Sh(n.databaseInfo.databaseId),i=function(s){return new Hv(s)}(n.databaseInfo);return function(s,a,u,l){return new Gv(s,a,u,l)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,o,s,a,u){return new Kv(i,o,s,a,u)}(this.localStore,this.datastore,n.asyncQueue,r=>oS(this.syncEngine,r,0),function(){return ah.D()?new ah:new Bv}())}createSyncEngine(n,r){return function(o,s,a,u,l,h,p){let g=new r_(o,s,a,u,l,h);return p&&(g.Qa=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return M(this,null,function*(){var n,r;yield function(o){return M(this,null,function*(){let s=ae(o);q("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield Lc(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var o_=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):_r("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var s_=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=lt.UNAUTHENTICATED,this.clientId=Kd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>M(this,null,function*(){q("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(q("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new yr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>M(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=S_(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Fy(t,e){return M(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),q("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>M(this,null,function*(){r.isEqual(i)||(yield qS(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function cS(t,e){return M(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield Oj(t);q("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>nS(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>nS(e.remoteStore,i)),t._onlineComponents=e})}function Oj(t){return M(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){q("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Fy(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===O.FAILED_PRECONDITION||i.code===O.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;ws("Error using user provided cache. Falling back to memory cache: "+n),yield Fy(t,new aS)}}else q("FirestoreClient","Using default OfflineComponentProvider"),yield Fy(t,new aS);return t._offlineComponents})}function iA(t){return M(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(q("FirestoreClient","Using user provided OnlineComponentProvider"),yield cS(t,t._uninitializedComponentsProvider._online)):(q("FirestoreClient","Using default OnlineComponentProvider"),yield cS(t,new Nj))),t._onlineComponents})}function kj(t){return iA(t).then(e=>e.syncEngine)}function uS(t){return M(this,null,function*(){let e=yield iA(t),n=e.eventManager;return n.onListen=wj.bind(null,e.syncEngine),n.onUnlisten=Cj.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Ij.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=bj.bind(null,e.syncEngine),n})}function oA(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var lS=new Map;function sA(t,e,n){if(!n)throw new Z(O.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Fj(t,e,n,r){if(e===!0&&r===!0)throw new Z(O.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function dS(t){if(!ne.isDocumentKey(t))throw new Z(O.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function hS(t){if(ne.isDocumentKey(t))throw new Z(O.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function x_(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":oe()}function ri(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Z(O.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=x_(t);throw new Z(O.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var mh=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Z(O.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Z(O.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Fj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=oA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Z(O.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Z(O.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Z(O.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Ps=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mh({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Z(O.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Z(O.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mh(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Vy;switch(r.type){case"firstParty":return new By(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Z(O.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return M(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=lS.get(n);r&&(q("ComponentProvider","Removing Datastore"),lS.delete(n),r.terminate())}(this),Promise.resolve()}};function aA(t,e,n,r={}){var i;let o=(t=ri(t,Ps))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&ws("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=lt.MOCK_USER;else{a=zD(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new Z(O.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new lt(l)}t._authCredentials=new Ly(new Wd(a,u))}}var gh=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Kt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ii(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},ii=class t extends gh{constructor(e,n,r){super(e,n,w_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Kt(this.firestore,null,new ne(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function cA(t,e,...n){if(t=Nt(t),sA("collection","path",e),t instanceof Ps){let r=Ke.fromString(e,...n);return hS(r),new ii(t,null,r)}{if(!(t instanceof Kt||t instanceof ii))throw new Z(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ke.fromString(e,...n));return hS(r),new ii(t.firestore,null,r)}}function R_(t,e,...n){if(t=Nt(t),arguments.length===1&&(e=Kd.newId()),sA("doc","path",e),t instanceof Ps){let r=Ke.fromString(e,...n);return dS(r),new Kt(t,null,new ne(r))}{if(!(t instanceof Kt||t instanceof ii))throw new Z(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ke.fromString(e,...n));return dS(r),new Kt(t.firestore,t instanceof ii?t.converter:null,new ne(r))}}var yh=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new ch(this,"async_queue_retry"),this.Vu=()=>{let r=ky();r&&q("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let n=ky();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let n=ky();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let n=new yr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return M(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Vc(e))throw e;q("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw _r("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);let i=Qv.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&oe()}verifyOperationInProgress(){}wu(){return M(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let n=this.Tu.indexOf(e);this.Tu.splice(n,1)}};function fS(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}var ci=class extends Ps{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new yh,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return M(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new yh(e),this._firestoreClient=void 0,yield e}})}};function uA(t,e){let n=typeof t=="object"?t:ac(),r=typeof t=="string"?t:e||"(default)",i=cy(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=HD("firestore");o&&aA(i,...o)}return i}function lA(t){if(t._terminated)throw new Z(O.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Vj(t),t._firestoreClient}function Vj(t){var e,n,r;let i=t._freezeSettings(),o=function(a,u,l,h){return new Gy(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,oA(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new s_(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(t._componentsProvider))}var Pc=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(bt.fromBase64String(e))}catch(n){throw new Z(O.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(bt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Ns=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Z(O.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Nc=class{constructor(e){this._methodName=e}};var Oc=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Z(O.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Z(O.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Te(this._lat,e._lat)||Te(this._long,e._long)}};var kc=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var Lj=/^__.*__$/,a_=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new zn(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ji(e,this.data,n,this.fieldTransforms)}},vh=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new zn(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function dA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw oe()}}var c_=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return wh(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(dA(this.Cu)&&Lj.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},u_=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Sh(e)}Qu(e,n,r,i=!1){return new c_({Cu:e,methodName:n,qu:r,path:Wt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function hA(t){let e=t._freezeSettings(),n=Sh(t._databaseId);return new u_(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Uj(t,e,n,r,i,o={}){let s=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);P_("Data must be an object, but it was:",s,r);let a=fA(r,s),u,l;if(o.merge)u=new sn(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let g=l_(e,p,n);if(!s.contains(g))throw new Z(O.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);mA(h,g)||h.push(g)}u=new sn(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new a_(new Gt(a),u,l)}var _h=class t extends Nc{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function jj(t,e,n,r){let i=t.Qu(1,e,n);P_("Data must be an object, but it was:",i,r);let o=[],s=Gt.empty();Zi(r,(u,l)=>{let h=N_(e,u,n);l=Nt(l);let p=i.Nu(h);if(l instanceof _h)o.push(h);else{let g=xh(l,p);g!=null&&(o.push(h),s.set(h,g))}});let a=new sn(o);return new vh(s,a,i.fieldTransforms)}function Bj(t,e,n,r,i,o){let s=t.Qu(1,e,n),a=[l_(e,r,n)],u=[i];if(o.length%2!=0)throw new Z(O.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<o.length;g+=2)a.push(l_(e,o[g])),u.push(o[g+1]);let l=[],h=Gt.empty();for(let g=a.length-1;g>=0;--g)if(!mA(l,a[g])){let y=a[g],T=u[g];T=Nt(T);let N=s.Nu(y);if(T instanceof _h)l.push(y);else{let R=xh(T,N);R!=null&&(l.push(y),h.set(y,R))}}let p=new sn(l);return new vh(h,p,s.fieldTransforms)}function xh(t,e){if(pA(t=Nt(t)))return P_("Unsupported field value:",e,t),fA(t,e);if(t instanceof Nc)return function(r,i){if(!dA(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let u=xh(a,i.Lu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Nt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return DU(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=ft.fromDate(r);return{timestampValue:ih(i.serializer,o)}}if(r instanceof ft){let o=new ft(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ih(i.serializer,o)}}if(r instanceof Oc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Pc)return{bytesValue:VS(i.serializer,r._byteString)};if(r instanceof Kt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:E_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof kc)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.Bu("VectorValues must only contain numeric values.");return I_(a.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${x_(r)}`)}(t,e)}function fA(t,e){let n={};return mS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zi(t,(r,i)=>{let o=xh(i,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function pA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ft||t instanceof Oc||t instanceof Pc||t instanceof Kt||t instanceof Nc||t instanceof kc)}function P_(t,e,n){if(!pA(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=x_(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function l_(t,e,n){if((e=Nt(e))instanceof Ns)return e._internalPath;if(typeof e=="string")return N_(t,e);throw wh("Field path arguments must be of type string or ",t,!1,void 0,n)}var $j=new RegExp("[~\\*/\\[\\]]");function N_(t,e,n){if(e.search($j)>=0)throw wh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ns(...e.split("."))._internalPath}catch{throw wh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function wh(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new Z(O.INVALID_ARGUMENT,a+t+u)}function mA(t,e){return t.some(n=>n.isEqual(e))}var Ih=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new d_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(gA("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},d_=class extends Ih{data(){return super.data()}};function gA(t,e){return typeof e=="string"?N_(t,e):e instanceof Ns?e._internalPath:e._delegate._internalPath}function Hj(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Z(O.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var h_=class{convertValue(e,n="none"){switch(Ki(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Be(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(oi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw oe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Zi(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;let o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Be(s.doubleValue));return new kc(o)}convertGeoPoint(e){return new Oc(Be(e.latitude),Be(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=g_(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Dc(e));default:return null}}convertTimestamp(e){let n=wr(e);return new ft(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Ke.fromString(e);Re(HS(r));let i=new Zd(r.get(1),r.get(3)),o=new ne(r.popFirst(5));return i.isEqual(n)||_r(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function qj(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var zi=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Eh=class extends Ih{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new _s(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(gA("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},_s=class extends Eh{data(e={}){return super.data(e)}},f_=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new zi(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new _s(this._firestore,this._userDataWriter,r.key,r,new zi(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Z(O.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new _s(i._firestore,i._userDataWriter,a.doc.key,a.doc,new zi(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new _s(i._firestore,i._userDataWriter,a.doc.key,a.doc,new zi(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:zj(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function zj(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return oe()}}var Ch=class extends h_{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pc(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Kt(this.firestore,null,n)}};function yA(t,e,n,...r){t=ri(t,Kt);let i=ri(t.firestore,ci),o=hA(i),s;return s=typeof(e=Nt(e))=="string"||e instanceof Ns?Bj(o,"updateDoc",t._key,e,n,r):jj(o,"updateDoc",t._key,e),k_(i,[s.toMutation(t._key,vr.exists(!0))])}function vA(t){return k_(ri(t.firestore,ci),[new Sc(t._key,vr.none())])}function _A(t,e){let n=ri(t.firestore,ci),r=R_(t),i=qj(t.converter,e);return k_(n,[Uj(hA(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,vr.exists(!1))]).then(()=>r)}function O_(t,...e){var n,r,i;t=Nt(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||fS(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(fS(e[s])){let p=e[s];e[s]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(t instanceof Kt)l=ri(t.firestore,ci),h=w_(t._key.path),u={next:p=>{e[s]&&e[s](Gj(l,t,p))},error:e[s+1],complete:e[s+2]};else{let p=ri(t,gh);l=ri(p.firestore,ci),h=p._query;let g=new Ch(l);u={next:y=>{e[s]&&e[s](new f_(l,g,p,y))},error:e[s+1],complete:e[s+2]},Hj(t._query)}return function(g,y,T,N){let R=new o_(N),F=new Xv(y,R,T);return g.asyncQueue.enqueueAndForget(()=>M(this,null,function*(){return gj(yield uS(g),F)})),()=>{R.Za(),g.asyncQueue.enqueueAndForget(()=>M(this,null,function*(){return yj(yield uS(g),F)}))}}(lA(l),h,a,u)}function k_(t,e){return function(r,i){let o=new yr;return r.asyncQueue.enqueueAndForget(()=>M(this,null,function*(){return Dj(yield kj(r),i,o)})),o.promise}(lA(t),e)}function Gj(t,e,n){let r=n.docs.get(e._key),i=new Ch(t);return new Eh(t,i,e._key,r,new zi(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Os=i})(ls),ei(new on("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new ci(new Uy(r.getProvider("auth-internal")),new Hy(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new Z(O.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zd(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),ut(kT,"4.7.3",e),ut(kT,"4.7.3","esm2017")})();var Rh=function(){return Rh=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Rh.apply(this,arguments)};var Qj={includeMetadataChanges:!1};function wA(t,e){return e===void 0&&(e=Qj),new ue(function(n){var r=O_(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function IA(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:Rh(Rh({},r),(n={},n[e.idField]=t.id,n))}function EA(t){return wA(t,{includeMetadataChanges:!0}).pipe(ie(function(e){return e.docs}))}function CA(t,e){return e===void 0&&(e={}),EA(t).pipe(ie(function(n){return n.map(function(r){return IA(r,e)})}))}var eo=class{constructor(e){return e}},bA="firestore",F_=class{constructor(){return uc(bA)}};var V_=new H("angularfire2.firestore-instances");function Yj(t,e){let n=dy(bA,t,e);return n&&new eo(n)}function Jj(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new eo(r)}}var Zj={provide:F_,deps:[[new Jt,V_]]},Xj={provide:eo,useFactory:Yj,deps:[[new Jt,V_],ji]};function DA(t,...e){return ut("angularfire",hs.full,"fst"),nr([Xj,Zj,{provide:V_,useFactory:Jj(t),multi:!0,deps:[Me,xt,lc,dc,[new Jt,jd],[new Jt,cc],...e]}])}var TA=wn(CA,!0);var SA=wn(_A,!0);var L_=wn(cA,!0);var AA=wn(vA,!0);var U_=wn(R_,!0);var MA=wn(uA,!0);var xA=wn(yA,!0);var RA=(()=>{let e=class e{constructor(r){this.firestore=r,this.collectionName="products"}getProducts(){let r=L_(this.firestore,this.collectionName);return TA(r,{idField:"id"})}addProduct(r){let i=L_(this.firestore,this.collectionName);return SA(i,r).then(()=>{})}updateProduct(r){let i=U_(this.firestore,`${this.collectionName}/${r.id}`);return xA(i,j({},r))}deleteProduct(r){let i=U_(this.firestore,`${this.collectionName}/${r}`);return AA(i)}};e.\u0275fac=function(i){return new(i||e)(Y(eo))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function n3(t,e){if(t&1&&(D(0,"div",20),P(1),S()),t&2){let n=K(2);V(),Ee(n.nameError)}}function r3(t,e){if(t&1&&(D(0,"div",20),P(1),S()),t&2){let n=K(2);V(),Ee(n.descriptionError)}}function i3(t,e){if(t&1&&(D(0,"div",20),P(1),S()),t&2){let n=K(2);V(),Ee(n.imageUrlError)}}function o3(t,e){if(t&1&&(D(0,"option",21),P(1),S()),t&2){let n=e.$implicit;le("value",n),V(),Ee(n)}}function s3(t,e){if(t&1){let n=Pt();D(0,"form",4),W("ngSubmit",function(){ee(n);let i=K();return te(i.addProduct())}),D(1,"div",5)(2,"label",6),P(3,"\u041D\u0430\u0437\u0432\u0430 \u0442\u043E\u0432\u0430\u0440\u0443"),S(),D(4,"input",7),je("ngModelChange",function(i){ee(n);let o=K();return $e(o.productName,i)||(o.productName=i),te(i)}),W("ngModelChange",function(){ee(n);let i=K();return te(i.onNameChange())}),S(),Fe(5,n3,2,1,"div",8),S(),D(6,"div",5)(7,"label",9),P(8,"\u041E\u043F\u0438\u0441 \u0442\u043E\u0432\u0430\u0440\u0443"),S(),D(9,"textarea",10),je("ngModelChange",function(i){ee(n);let o=K();return $e(o.productDescription,i)||(o.productDescription=i),te(i)}),W("ngModelChange",function(){ee(n);let i=K();return te(i.onDescriptionChange())}),S(),Fe(10,r3,2,1,"div",8),S(),D(11,"div",5)(12,"label",11),P(13,"URL \u043A\u0430\u0440\u0442\u0438\u043D\u043A\u0438 \u0442\u043E\u0432\u0430\u0440\u0443"),S(),D(14,"input",12),je("ngModelChange",function(i){ee(n);let o=K();return $e(o.productImageUrl,i)||(o.productImageUrl=i),te(i)}),W("blur",function(){ee(n);let i=K();return te(i.checkImageUrl())}),S(),Fe(15,i3,2,1,"div",8),S(),D(16,"div",5)(17,"label",13),P(18,"\u0426\u0456\u043D\u0430"),S(),D(19,"input",14),je("ngModelChange",function(i){ee(n);let o=K();return $e(o.productPrice,i)||(o.productPrice=i),te(i)}),S()(),D(20,"div",5)(21,"label",15),P(22,"\u041A\u0430\u0442\u0435\u0433\u043E\u0440\u0456\u044F \u0442\u043E\u0432\u0430\u0440\u0443"),S(),D(23,"select",16),je("ngModelChange",function(i){ee(n);let o=K();return $e(o.productCategory,i)||(o.productCategory=i),te(i)}),Fe(24,o3,2,2,"option",17),S()(),D(25,"button",18),P(26,"\u0414\u043E\u0434\u0430\u0442\u0438 \u0442\u043E\u0432\u0430\u0440"),S(),D(27,"button",19),W("click",function(){ee(n);let i=K();return te(i.cancelEdit())}),P(28,"\u041E\u0447\u0438\u0441\u0442\u0438\u0442\u0438"),S()()}if(t&2){let n=K();V(4),Ue("ngModel",n.productName),V(),le("ngIf",n.nameError),V(4),Ue("ngModel",n.productDescription),V(),le("ngIf",n.descriptionError),V(4),Ue("ngModel",n.productImageUrl),V(),le("ngIf",n.imageUrlError),V(4),Ue("ngModel",n.productPrice),V(4),Ue("ngModel",n.productCategory),V(),le("ngForOf",n.categories),V(),le("disabled",!n.isFormValid())}}function a3(t,e){if(t&1&&(D(0,"div",20),P(1),S()),t&2){let n=K(2);V(),Ee(n.nameError)}}function c3(t,e){if(t&1&&(D(0,"div",20),P(1),S()),t&2){let n=K(2);V(),Ee(n.descriptionError)}}function u3(t,e){if(t&1&&(D(0,"div",20),P(1),S()),t&2){let n=K(2);V(),Ee(n.imageUrlError)}}function l3(t,e){if(t&1&&(D(0,"option",21),P(1),S()),t&2){let n=e.$implicit;le("value",n),V(),Ee(n)}}function d3(t,e){if(t&1){let n=Pt();D(0,"form",4),W("ngSubmit",function(){ee(n);let i=K();return te(i.updateProduct())}),D(1,"h3"),P(2,"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u0442\u043E\u0432\u0430\u0440"),S(),D(3,"div",5)(4,"label",22),P(5,"\u041D\u0430\u0437\u0432\u0430 \u0442\u043E\u0432\u0430\u0440\u0443"),S(),D(6,"input",23),je("ngModelChange",function(i){ee(n);let o=K();return $e(o.productName,i)||(o.productName=i),te(i)}),W("ngModelChange",function(){ee(n);let i=K();return te(i.onNameChange())}),S(),Fe(7,a3,2,1,"div",8),S(),D(8,"div",5)(9,"label",24),P(10,"\u041E\u043F\u0438\u0441 \u0442\u043E\u0432\u0430\u0440\u0443"),S(),D(11,"textarea",25),je("ngModelChange",function(i){ee(n);let o=K();return $e(o.productDescription,i)||(o.productDescription=i),te(i)}),W("ngModelChange",function(){ee(n);let i=K();return te(i.onDescriptionChange())}),S(),Fe(12,c3,2,1,"div",8),S(),D(13,"div",5)(14,"label",26),P(15,"URL \u043A\u0430\u0440\u0442\u0438\u043D\u043A\u0438 \u0442\u043E\u0432\u0430\u0440\u0443"),S(),D(16,"input",27),je("ngModelChange",function(i){ee(n);let o=K();return $e(o.productImageUrl,i)||(o.productImageUrl=i),te(i)}),W("blur",function(){ee(n);let i=K();return te(i.checkImageUrl())}),S(),Fe(17,u3,2,1,"div",8),S(),D(18,"div",5)(19,"label",28),P(20,"\u0426\u0456\u043D\u0430"),S(),D(21,"input",29),je("ngModelChange",function(i){ee(n);let o=K();return $e(o.productPrice,i)||(o.productPrice=i),te(i)}),S()(),D(22,"div",5)(23,"label",30),P(24,"\u041A\u0430\u0442\u0435\u0433\u043E\u0440\u0456\u044F \u0442\u043E\u0432\u0430\u0440\u0443"),S(),D(25,"select",31),je("ngModelChange",function(i){ee(n);let o=K();return $e(o.productCategory,i)||(o.productCategory=i),te(i)}),Fe(26,l3,2,2,"option",17),S()(),D(27,"button",18),P(28,"\u041E\u043D\u043E\u0432\u0438\u0442\u0438 \u0442\u043E\u0432\u0430\u0440"),S(),D(29,"button",19),W("click",function(){ee(n);let i=K();return te(i.cancelEdit())}),P(30,"\u0417\u0430\u043A\u0440\u0438\u0442\u0438"),S()()}if(t&2){let n=K();V(6),Ue("ngModel",n.productName),V(),le("ngIf",n.nameError),V(4),Ue("ngModel",n.productDescription),V(),le("ngIf",n.descriptionError),V(4),Ue("ngModel",n.productImageUrl),V(),le("ngIf",n.imageUrlError),V(4),Ue("ngModel",n.productPrice),V(4),Ue("ngModel",n.productCategory),V(),le("ngForOf",n.categories),V(),le("disabled",!n.isFormValid())}}function h3(t,e){if(t&1){let n=Pt();D(0,"div",32),fe(1,"img",33),D(2,"h4"),P(3),S(),D(4,"p"),P(5),S(),D(6,"p"),P(7),S(),D(8,"p"),P(9),S(),D(10,"button",34),W("click",function(){let i=ee(n).$implicit,o=K();return te(o.openEditForm(i))}),P(11,"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438"),S(),D(12,"button",35),W("click",function(){let i=ee(n).$implicit,o=K();return te(o.confirmDeleteProduct(i.id))}),P(13,"\u0412\u0438\u0434\u0430\u043B\u0438\u0442\u0438"),S()()}if(t&2){let n=e.$implicit;V(),On("alt",n.name),le("src",n.imageUrl,Pn),V(2),Ee(n.name),V(2),Ee(n.description),V(2),_a("\u0426\u0456\u043D\u0430: ",n.price," $"),V(2),_a("\u041A\u0430\u0442\u0435\u0433\u043E\u0440\u0456\u044F: ",n.category,"")}}function f3(t,e){if(t&1){let n=Pt();D(0,"div",36)(1,"div",37)(2,"h4"),P(3,"\u041F\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0436\u0435\u043D\u043D\u044F \u0432\u0438\u0434\u0430\u043B\u0435\u043D\u043D\u044F"),S(),D(4,"p"),P(5,"\u0412\u0438 \u0432\u043F\u0435\u0432\u043D\u0435\u043D\u0456, \u0449\u043E \u0445\u043E\u0447\u0435\u0442\u0435 \u0432\u0438\u0434\u0430\u043B\u0438\u0442\u0438 \u0446\u0435\u0439 \u0442\u043E\u0432\u0430\u0440?"),S(),D(6,"button",35),W("click",function(){ee(n);let i=K();return i.deleteProduct(),te(i.closeModal())}),P(7,"\u0422\u0430\u043A"),S(),D(8,"button",38),W("click",function(){ee(n);let i=K();return te(i.closeModal())}),P(9,"\u041D\u0456"),S()()()}}var PA=(()=>{let e=class e{constructor(r){this.adminService=r,this.productName="",this.productDescription="",this.productImageUrl="",this.productPrice=null,this.productCategory="",this.products=[],this.categories=["\u041B\u0456\u0445\u0442\u0430\u0440\u0438\u043A\u0438","\u0420\u043E\u0437\u0443\u043C\u043D\u0456 \u0413\u043E\u0434\u0438\u043D\u043D\u0438\u043A\u0438","\u041D\u0430\u0432\u0443\u0448\u043D\u0438\u043A\u0438","\u0422\u0443\u0440\u0438\u0441\u0442\u0438\u0447\u043D\u0456 \u041A\u0430\u043C\u0435\u0440\u0438","\u041D\u0430\u043C\u0435\u0442\u0438"],this.showModal=!1,this.showEditForm=!1,this.productToDeleteId=null,this.productToEdit=null,this.imageUrlValid=!0,this.nameError="",this.descriptionError="",this.imageUrlError=""}ngOnInit(){this.loadProducts()}addProduct(){if(this.isFormValid()){let r={name:this.productName,description:this.productDescription,imageUrl:this.productImageUrl,price:this.productPrice,category:this.productCategory};this.adminService.addProduct(r).then(()=>{this.loadProducts(),this.resetForm()})}else alert("\u0411\u0443\u0434\u044C \u043B\u0430\u0441\u043A\u0430, \u0437\u0430\u043F\u043E\u0432\u043D\u0456\u0442\u044C \u0443\u0441\u0456 \u043F\u043E\u043B\u044F \u043A\u043E\u0440\u0435\u043A\u0442\u043D\u043E.")}confirmDeleteProduct(r){this.productToDeleteId=r,this.showModal=!0}deleteProduct(){this.productToDeleteId!==null&&this.adminService.deleteProduct(this.productToDeleteId.toString()).then(()=>{this.loadProducts(),this.closeModal()})}openEditForm(r){this.productToEdit=j({},r),this.productName=r.name,this.productDescription=r.description,this.productImageUrl=r.imageUrl,this.productPrice=r.price,this.productCategory=r.category,this.showEditForm=!0}updateProduct(){if(this.isFormValid()){let r={id:this.productToEdit.id,name:this.productName,description:this.productDescription,imageUrl:this.productImageUrl,price:this.productPrice,category:this.productCategory};this.adminService.updateProduct(r).then(()=>{this.loadProducts(),this.resetForm(),this.showEditForm=!1})}else alert("\u0411\u0443\u0434\u044C \u043B\u0430\u0441\u043A\u0430, \u0437\u0430\u043F\u043E\u0432\u043D\u0456\u0442\u044C \u0443\u0441\u0456 \u043F\u043E\u043B\u044F \u043A\u043E\u0440\u0435\u043A\u0442\u043D\u043E.")}closeModal(){this.showModal=!1,this.productToDeleteId=null}cancelEdit(){this.resetForm(),this.showEditForm=!1}loadProducts(){this.adminService.getProducts().subscribe(r=>{this.products=r})}isFormValid(){return this.validateName(this.productName)&&this.validateDescription(this.productDescription)&&this.imageUrlValid&&this.productPrice!==null&&!!this.productCategory}resetForm(){this.productName="",this.productDescription="",this.productImageUrl="",this.productPrice=null,this.productCategory="",this.nameError="",this.descriptionError="",this.imageUrlError=""}checkImageUrl(){this.validateImageUrl(this.productImageUrl).subscribe(r=>{this.imageUrlValid=r,r?this.imageUrlError="":this.imageUrlError="\u041D\u0435\u043A\u043E\u0440\u0435\u043A\u0442\u043D\u0438\u0439 URL \u043A\u0430\u0440\u0442\u0438\u043D\u043A\u0438. \u041F\u0435\u0440\u0435\u0432\u0456\u0440\u0442\u0435 URL \u0456 \u0441\u043F\u0440\u043E\u0431\u0443\u0439\u0442\u0435 \u0449\u0435 \u0440\u0430\u0437."})}validateName(r){return/^[a-zA-Z--\s+\-,.';]+$/.test(r)}validateDescription(r){return/^[a-zA-Z--0-9\s+\-,.';]+$/.test(r)}validateImageUrl(r){return new ue(i=>{let o=new Image;return o.onload=()=>{i.next(!0),i.complete()},o.onerror=()=>{i.next(!1),i.complete()},o.src=r,()=>{o.onload=o.onerror=null}}).pipe(En(()=>G(!1)))}onNameChange(){this.validateName(this.productName)?this.nameError="":this.nameError="\u0412 \u043F\u043E\u043B\u0435 \u0434\u043B\u044F \u0432\u0432\u0435\u0434\u0435\u043D\u043D\u044F \u043D\u0430\u0437\u0432\u0438 \u0442\u043E\u0432\u0430\u0440\u0443 \u043C\u043E\u0436\u043D\u0430 \u0432\u0432\u043E\u0434\u0438\u0442\u0438 \u043B\u0438\u0448\u0435 \u043B\u0456\u0442\u0435\u0440\u0438 (\u0443\u043A\u0440\u0430\u0457\u043D\u0441\u044C\u043A\u0456 \u0442\u0430 \u0430\u043D\u0433\u043B\u0456\u0439\u0441\u044C\u043A\u0456) \u0442\u0430 \u043F\u0440\u043E\u0431\u0456\u043B\u0438!"}onDescriptionChange(){this.validateDescription(this.productDescription)?this.descriptionError="":this.descriptionError="\u0412 \u043F\u043E\u043B\u0456 \u0434\u043B\u044F \u0432\u0432\u0435\u0434\u0435\u043D\u043D\u044F \u043E\u043F\u0438\u0441\u0443 \u0442\u043E\u0432\u0430\u0440\u0443 \u043C\u043E\u0436\u043D\u0430 \u0432\u0432\u043E\u0434\u0438\u0442\u0438 \u043B\u0438\u0448\u0435 \u043B\u0456\u0442\u0435\u0440\u0438 (\u0443\u043A\u0440\u0430\u0457\u043D\u0441\u044C\u043A\u0456 \u0442\u0430 \u0430\u043D\u0433\u043B\u0456\u0439\u0441\u044C\u043A\u0456), \u043F\u0440\u043E\u0431\u0456\u043B\u0438 \u0442\u0430 \u0446\u0438\u0444\u0440\u0438!"}};e.\u0275fac=function(i){return new(i||e)($(RA))},e.\u0275cmp=Ge({type:e,selectors:[["app-admin"]],standalone:!0,features:[We],decls:7,vars:4,consts:[[1,"container"],[3,"ngSubmit",4,"ngIf"],["class","product-item",4,"ngFor","ngForOf"],["class","modal",4,"ngIf"],[3,"ngSubmit"],[1,"form-group"],["for","productName"],["id","productName","name","productName","placeholder","\u041D\u0430\u0437\u0432\u0430 \u0442\u043E\u0432\u0430\u0440\u0443","required","",1,"form-control",3,"ngModelChange","ngModel"],["class","text-danger",4,"ngIf"],["for","productDescription"],["id","productDescription","name","productDescription","placeholder","\u041E\u043F\u0438\u0441 \u0442\u043E\u0432\u0430\u0440\u0443","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","productImageUrl"],["id","productImageUrl","name","productImageUrl","placeholder","URL \u043A\u0430\u0440\u0442\u0438\u043D\u043A\u0438 \u0442\u043E\u0432\u0430\u0440\u0443","required","",1,"form-control",3,"ngModelChange","blur","ngModel"],["for","productPrice"],["id","productPrice","type","number","name","productPrice","placeholder","\u0426\u0456\u043D\u0430","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","productCategory"],["id","productCategory","name","productCategory","required","",1,"form-control",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["type","submit",1,"btn","btn-success",3,"disabled"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"text-danger"],[3,"value"],["for","editProductName"],["id","editProductName","name","editProductName","placeholder","\u041D\u0430\u0437\u0432\u0430 \u0442\u043E\u0432\u0430\u0440\u0443","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","editProductDescription"],["id","editProductDescription","name","editProductDescription","placeholder","\u041E\u043F\u0438\u0441 \u0442\u043E\u0432\u0430\u0440\u0443","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","editProductImageUrl"],["id","editProductImageUrl","name","editProductImageUrl","placeholder","URL \u043A\u0430\u0440\u0442\u0438\u043D\u043A\u0438 \u0442\u043E\u0432\u0430\u0440\u0443","required","",1,"form-control",3,"ngModelChange","blur","ngModel"],["for","editProductPrice"],["id","editProductPrice","type","number","name","editProductPrice","placeholder","\u0426\u0456\u043D\u0430","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","editProductCategory"],["id","editProductCategory","name","editProductCategory","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"product-item"],[1,"product-image",3,"src","alt"],[1,"btn","btn-warning",3,"click"],[1,"btn","btn-danger",3,"click"],[1,"modal"],[1,"modal-content"],[1,"btn","btn-secondary",3,"click"]],template:function(i,o){i&1&&(D(0,"div",0),Fe(1,s3,29,10,"form",1)(2,d3,31,10,"form",1),D(3,"h3"),P(4,"\u0421\u043F\u0438\u0441\u043E\u043A \u0442\u043E\u0432\u0430\u0440\u0456\u0432"),S(),Fe(5,h3,14,6,"div",2)(6,f3,10,0,"div",3),S()),i&2&&(V(),le("ngIf",!o.showEditForm),V(),le("ngIf",o.showEditForm),V(3),le("ngForOf",o.products),V(),le("ngIf",o.showModal))},dependencies:[ht,qr,zr,tn,zo,td,nd,en,tg,Go,kn,qo,ki,yn,Oi],styles:[".container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}.product-item[_ngcontent-%COMP%]{box-sizing:border-box;padding:10px}.product-image[_ngcontent-%COMP%]{width:100px}.btn-success[_ngcontent-%COMP%]{background-color:#28a745;border-color:#28a745}.btn-success[_ngcontent-%COMP%]:hover{background-color:#218838;border-color:#1e7e34}.btn-danger[_ngcontent-%COMP%]{background-color:#dc3545;border-color:#dc3545}.btn-danger[_ngcontent-%COMP%]:hover{background-color:#c82333;border-color:#bd2130}.modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;align-items:center;justify-content:center}.modal-content[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:5px;box-shadow:0 0 10px #0000001a;text-align:center;width:300px;animation:_ngcontent-%COMP%_zoomIn .3s ease-in}.modal-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-top:0}.modal-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:10px}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_zoomIn{0%{transform:scale(.7);opacity:0}to{transform:scale(1);opacity:1}}@keyframes _ngcontent-%COMP%_fadeOut{0%{opacity:1}to{opacity:0}}.fade-out[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeOut .3s ease-out}@media (max-width: 768px){.container[_ngcontent-%COMP%]{padding:10px}.product-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;text-align:center;margin-bottom:15px}.product-image[_ngcontent-%COMP%]{max-width:80%;height:auto;margin:0 0 10px}.modal-content[_ngcontent-%COMP%]{width:90%;max-width:400px;padding:15px}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.btn[_ngcontent-%COMP%]{width:100%;margin-bottom:10px}}@media (min-width: 769px) and (max-width: 1024px){.container[_ngcontent-%COMP%]{padding:15px}.product-item[_ngcontent-%COMP%]{flex-direction:row}.product-image[_ngcontent-%COMP%]{max-width:100px;height:auto;margin-right:15px}.modal-content[_ngcontent-%COMP%]{width:80%;max-width:500px;padding:20px}.btn[_ngcontent-%COMP%]{margin:5px}}.form-control[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;margin-bottom:10px}.btn[_ngcontent-%COMP%]{width:auto;padding:10px 20px}h3[_ngcontent-%COMP%]{font-size:1.5rem}.product-item[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.2rem}p[_ngcontent-%COMP%]{font-size:.9rem}.btn-success[_ngcontent-%COMP%], .btn-danger[_ngcontent-%COMP%], .btn-warning[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%]{padding:8px 16px;font-size:.9rem}"]});let t=e;return t})();function p3(t,e){if(t&1&&(D(0,"div",18)(1,"p"),P(2),S()()),t&2){let n=e.$implicit;V(2),Ee(n)}}function m3(t,e){if(t&1){let n=Pt();D(0,"div",19),W("click",function(){ee(n);let i=K(2);return te(i.closeModal())}),D(1,"div",20),W("click",function(i){return ee(n),te(i.stopPropagation())}),D(2,"div",21)(3,"h4",22),P(4,"\u041A\u043E\u0448\u0438\u043A"),S(),D(5,"button",23),W("click",function(){ee(n);let i=K(2);return te(i.closeModal())}),P(6,"\xD7"),S()(),D(7,"div",24)(8,"div",25),fe(9,"img",26),D(10,"div",27)(11,"h5"),P(12),S(),D(13,"p",28),P(14),S(),D(15,"div",29)(16,"button",30),W("click",function(){ee(n);let i=K(2);return te(i.decreaseQuantity())}),P(17,"-"),S(),D(18,"span",31),P(19),S(),D(20,"button",30),W("click",function(){ee(n);let i=K(2);return te(i.increaseQuantity())}),P(21,"+"),S()()()(),D(22,"div",32)(23,"button",33),W("click",function(){ee(n);let i=K(2);return te(i.addToCart())}),P(24,"\u041E\u0444\u043E\u0440\u043C\u0438\u0442\u0438 \u0437\u0430\u043C\u043E\u0432\u043B\u0435\u043D\u043D\u044F"),S()()()()()}if(t&2){let n=K(2);V(9),On("alt",n.product.name),le("src",n.product.imageUrl,Pn),V(3),Ee(n.product.name),V(2),cr("",n.product.price," ",n.currency,""),V(5),Ee(n.quantity)}}function g3(t,e){if(t&1){let n=Pt();D(0,"div",1)(1,"div",2)(2,"div",3),fe(3,"img",4),S(),D(4,"div",5)(5,"h3",6),P(6),S(),D(7,"p",7),P(8,"\u0404 \u0432 \u043D\u0430\u044F\u0432\u043D\u043E\u0441\u0442\u0456"),S(),D(9,"p",8),P(10),S(),D(11,"button",9),W("click",function(){ee(n);let i=K();return te(i.openModal())}),P(12,"\u041A\u0443\u043F\u0438\u0442\u0438"),S(),D(13,"button",10),W("click",function(){ee(n);let i=K();return te(i.goBack())}),P(14,"\u041D\u0430\u0437\u0430\u0434"),S(),D(15,"h4",11),P(16,"\u041E\u043F\u0438\u0441 \u0442\u043E\u0432\u0430\u0440\u0443"),S(),D(17,"p",12),P(18),S(),D(19,"h4",13),P(20,"\u041A\u043E\u043C\u0435\u043D\u0442\u0430\u0440\u0456:"),S(),Fe(21,p3,3,1,"div",14),D(22,"textarea",15),je("ngModelChange",function(i){ee(n);let o=K();return $e(o.newComment,i)||(o.newComment=i),te(i)}),S(),D(23,"button",16),W("click",function(){ee(n);let i=K();return te(i.addComment())}),P(24,"\u0414\u043E\u0434\u0430\u0442\u0438 \u043A\u043E\u043C\u0435\u043D\u0442\u0430\u0440"),S()()(),Fe(25,m3,25,6,"div",17),S()}if(t&2){let n=K();V(3),On("alt",n.product.name),le("src",n.product.imageUrl,Pn),V(3),Ee(n.product.name),V(4),cr("",n.product.price," ",n.currency,""),V(8),Ee(n.product.description),V(3),le("ngForOf",n.comments),V(),Ue("ngModel",n.newComment),V(3),le("ngIf",n.showModal)}}var NA=(()=>{let e=class e{constructor(r,i,o,s){this.route=r,this.productService=i,this.cartService=o,this.router=s,this.comments=[],this.newComment="",this.currency="$",this.showModal=!1,this.quantity=1}ngOnInit(){let r=this.route.snapshot.paramMap.get("id");r&&this.productService.getProductById(+r).subscribe(i=>{this.product=i,this.loadComments()})}openModal(){this.showModal=!0}closeModal(){this.showModal=!1}addToCart(){this.cartService.addToCart(this.product,this.quantity),this.closeModal(),this.router.navigate(["/cart"])}increaseQuantity(){this.quantity++}decreaseQuantity(){this.quantity>1&&this.quantity--}goBack(){this.router.navigate(["/"])}addComment(){if(this.newComment.trim()){let r=this.newComment.replace(/(|||@)/g,"*");this.comments.push(r),this.product&&this.product.id&&localStorage.setItem(this.product.id,JSON.stringify(this.comments)),this.newComment=""}}loadComments(){if(this.product&&this.product.id){let r=localStorage.getItem(this.product.id);this.comments=r?JSON.parse(r):[]}}};e.\u0275fac=function(i){return new(i||e)($(Vn),$(Ed),$(as),$(at))},e.\u0275cmp=Ge({type:e,selectors:[["app-product"]],standalone:!0,features:[We],decls:1,vars:1,consts:[["class","product-container container",4,"ngIf"],[1,"product-container","container"],[1,"row"],[1,"col-md-4","d-flex","align-items-start"],[1,"product-image","img-fluid",3,"src","alt"],[1,"col-md-8"],[1,"product-name"],[1,"product-stock"],[1,"product-price"],[1,"btn","btn-success","buy-button",3,"click"],[1,"btn","btn-secondary","back-button",3,"click"],[1,"product-description-title"],[1,"product-description"],[1,"comments-title"],["class","comment",4,"ngFor","ngForOf"],["placeholder","\u041D\u0430\u043F\u0438\u0448\u0456\u0442\u044C \u0432\u0430\u0448 \u043A\u043E\u043C\u0435\u043D\u0442\u0430\u0440...",1,"form-control","comment-textarea",3,"ngModelChange","ngModel"],[1,"btn","btn-success","add-comment-button",3,"click"],["class","modal-overlay",3,"click",4,"ngIf"],[1,"comment"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"modal-title"],[1,"close-button",3,"click"],[1,"modal-body"],[1,"modal-product-info"],[1,"modal-product-image",3,"src","alt"],[1,"modal-product-details"],[1,"modal-product-price"],[1,"quantity-control"],[1,"quantity-button",3,"click"],[1,"quantity"],[1,"modal-footer"],[1,"btn","btn-success",3,"click"]],template:function(i,o){i&1&&Fe(0,g3,26,9,"div",0),i&2&&le("ngIf",o.product)},dependencies:[ht,qr,zr,tn,en,kn,yn],styles:[".product-container[_ngcontent-%COMP%]{margin-top:20px}.product-name[_ngcontent-%COMP%]{font-weight:700;font-size:1.5rem;margin-bottom:10px}.product-stock[_ngcontent-%COMP%]{color:#28a745;font-size:.9rem;margin-bottom:15px}.product-price[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:20px}.buy-button[_ngcontent-%COMP%], .back-button[_ngcontent-%COMP%], .add-comment-button[_ngcontent-%COMP%]{margin-right:10px;transition:background-color .3s,transform .2s}.buy-button[_ngcontent-%COMP%]:hover{background-color:#218838;transform:scale(1.05)}.back-button[_ngcontent-%COMP%]:hover{background-color:#6c757d;transform:scale(1.05)}.product-description-title[_ngcontent-%COMP%], .comments-title[_ngcontent-%COMP%]{text-align:center;margin-top:20px}.product-description[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}.comment[_ngcontent-%COMP%]{border-bottom:1px solid #dee2e6;padding-bottom:10px;margin-bottom:10px}.comment-textarea[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:10px}.add-comment-button[_ngcontent-%COMP%]{margin-top:10px;transition:background-color .3s,transform .2s}.add-comment-button[_ngcontent-%COMP%]:hover{background-color:#218838;transform:scale(1.05)}.align-items-start[_ngcontent-%COMP%]{align-items:flex-start}.product-image[_ngcontent-%COMP%]{max-width:100%;border-radius:8px}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;align-items:center;justify-content:center;animation:_ngcontent-%COMP%_fadeIn .3s ease-in}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:8px;width:80%;max-width:500px;padding:20px;position:relative;animation:_ngcontent-%COMP%_scaleUp .3s ease-in-out}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.modal-title[_ngcontent-%COMP%]{font-size:1.5rem}.close-button[_ngcontent-%COMP%]{background:none;border:none;font-size:1.5rem;cursor:pointer;transition:color .3s ease}.close-button[_ngcontent-%COMP%]:hover{color:#dc3545}.modal-body[_ngcontent-%COMP%]{margin-top:15px}.modal-product-info[_ngcontent-%COMP%]{display:flex;align-items:center}.modal-product-image[_ngcontent-%COMP%]{width:80px;height:80px;object-fit:cover;margin-right:15px}.modal-product-details[_ngcontent-%COMP%]{flex:1}.modal-product-price[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700}.quantity-control[_ngcontent-%COMP%]{display:flex;align-items:center;margin-top:10px}.quantity-button[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none;padding:5px 10px;cursor:pointer}.quantity[_ngcontent-%COMP%]{margin:0 10px}.quantity-button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:20px}.btn-success[_ngcontent-%COMP%]{background-color:#28a745;border-color:#28a745}.btn-success[_ngcontent-%COMP%]:hover{background-color:#218838}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_scaleUp{0%{transform:scale(.9)}to{transform:scale(1)}}"]});let t=e;return t})();var Ph=(()=>{let e=class e{constructor(r,i){this.router=r,this.cartService=i,this.cartItemCount=0}ngOnInit(){this.cartService.getCartItemCount().subscribe(r=>this.cartItemCount=r)}goToCart(){this.router.navigate(["/cart"])}};e.\u0275fac=function(i){return new(i||e)($(at),$(as))},e.\u0275cmp=Ge({type:e,selectors:[["app-header"]],standalone:!0,features:[We],decls:19,vars:1,consts:[[1,"navbar","navbar-expand-lg","navbar-light","bg-light"],["routerLink","/","routerLinkActive","active",1,"navbar-brand"],["src","./icons/logo.png","alt","Logo",1,"logo"],["type","button","data-toggle","collapse","data-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse"],[1,"navbar-nav","ml-auto"],[1,"nav-item"],["routerLink","/","routerLinkActive","active",1,"nav-link"],[1,"nav-link",3,"click"],["src","./icons/shopping-cart.svg","alt","Cart",1,"cart-icon"],[1,"custom-badge"],["routerLink","/admin-login","routerLinkActive","active",1,"nav-link"]],template:function(i,o){i&1&&(D(0,"nav",0)(1,"a",1),fe(2,"img",2),S(),D(3,"button",3),fe(4,"span",4),S(),D(5,"div",5)(6,"ul",6)(7,"li",7)(8,"a",8),P(9,"\u0413\u043E\u043B\u043E\u0432\u043D\u0430"),S()(),D(10,"li",7)(11,"a",9),W("click",function(){return o.goToCart()}),fe(12,"img",10),P(13," \u041A\u043E\u0448\u0438\u043A "),D(14,"span",11),P(15),S()()(),D(16,"li",7)(17,"a",12),P(18,"\u0410\u0434\u043C\u0456\u043D"),S()()()()()),i&2&&(V(15),Ee(o.cartItemCount))},dependencies:[os,rs,DD],styles:[`.navbar[_ngcontent-%COMP%]{margin-bottom:20px;padding:.5rem 1rem;background-color:#f8f9fa;box-shadow:0 2px 4px #0000001a}.logo[_ngcontent-%COMP%]{height:40px;margin-right:1rem}.navbar-toggler[_ngcontent-%COMP%]{border:none}.navbar-toggler-icon[_ngcontent-%COMP%]{background-image:url("data:image/svg+xml;charset=utf8,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'%3e%3cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M4 6h16M4 12h16M4 18h16' /%3e%3c/svg%3e")}.navbar-nav[_ngcontent-%COMP%]{flex-direction:row;margin-left:auto}.nav-item[_ngcontent-%COMP%]{margin-left:1rem}.nav-link[_ngcontent-%COMP%]{font-weight:700;color:#333;font-size:1rem;padding:.5rem 1rem;transition:color .3s ease}.nav-link[_ngcontent-%COMP%]:hover{color:#007bff;cursor:pointer}.nav-link[_ngcontent-%COMP%]:hover   .cart-icon[_ngcontent-%COMP%]{transform:scale(1.1)}.custom-badge[_ngcontent-%COMP%]{display:inline-block;padding:.25em .4em;font-size:75%;font-weight:700;line-height:1;color:#fff;text-align:center;white-space:nowrap;vertical-align:baseline;border-radius:.2rem;background-color:#dc3545}.cart-icon[_ngcontent-%COMP%]{height:20px;margin-right:.5rem;transition:transform .3s ease}@media (max-width: 992px){.navbar-nav[_ngcontent-%COMP%]{flex-direction:column;text-align:center;padding-top:1rem;margin-top:1rem}.nav-item[_ngcontent-%COMP%]{margin-left:0;margin-bottom:.5rem}.navbar-brand[_ngcontent-%COMP%]{margin-right:auto}}.navbar-collapse[_ngcontent-%COMP%]{max-height:0;transition:max-height .3s ease}.navbar-collapse.collapse.show[_ngcontent-%COMP%]{max-height:500px;transition:max-height .3s ease-in}.navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:1rem;border-bottom:1px solid #ddd}.navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:last-child{border-bottom:none}`]});let t=e;return t})();var OA=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ge({type:e,selectors:[["app-footer"]],standalone:!0,features:[We],decls:37,vars:0,consts:[[1,"container","footer-container"],[1,"row","footer-row"],[1,"col-xs-12","col-sm-6","col-md-6","text-center"],[1,"fas","fa-location-arrow"],["href","tel: 04737875657","type","tel",1,"tel"],[1,"fas","fa-mobile-alt"],[1,"col-xs-12","col-md-6","col-sm-6","social-section"],[1,"text-center"],[1,"text-center","social-buttons"],["href","https://www.facebook.com/?locale=uk_UA",1,"btn","btn-default","btn-lg","social-button","link-facebook"],[1,"fab","fa-facebook"],["href","https://x.com/?lang=uk",1,"btn","btn-default","btn-lg","social-button","link-twitter"],[1,"fab","fa-twitter"],["href","https://www.linkedin.com/",1,"btn","btn-default","btn-lg","social-button","link-linkedin"],[1,"fab","fa-linkedin"],["href","https://instagram.com/",1,"btn","btn-default","btn-lg","social-button","link-instagram"],[1,"fab","fa-instagram"],[1,"footer-hr"],[1,"author"],[1,"fas","fa-heart"]],template:function(i,o){i&1&&(D(0,"footer")(1,"div",0)(2,"div",1)(3,"div",2)(4,"address")(5,"strong"),fe(6,"i",3),P(7," TERRA"),S(),fe(8,"br"),P(9," \u0406\u043D\u0442\u0435\u0440\u043D\u0435\u0442-\u043C\u0430\u0433\u0430\u0437\u0438\u043D \u0442\u0443\u0440\u0438\u0441\u0442\u0438\u0447\u043D\u043E\u0433\u043E \u0441\u043F\u043E\u0440\u044F\u0434\u0436\u0435\u043D\u043D\u044F,"),fe(10,"br"),P(11," \u043C. \u0427\u0435\u0440\u043A\u0430\u0441\u0438, \u0432\u0443\u043B. \u0411\u0430\u0439\u0434\u0438 \u0412\u0438\u0448\u043D\u0435\u0432\u0435\u0446\u044C\u043A\u043E\u0433\u043E, 39"),fe(12,"br")(13,"br"),D(14,"a",4),fe(15,"i",5),D(16,"span"),P(17," 04737875657"),S()()()(),D(18,"div",6)(19,"div",7)(20,"h4",7),P(21,"\u0412\u0438 \u043D\u0430\u0441 \u0437\u043D\u0430\u0439\u0434\u0438\u0442\u0435 \u0443 \u0441\u043E\u0446\u043C\u0435\u0440\u0435\u0436\u0430\u0445"),S(),D(22,"div",8)(23,"a",9),fe(24,"i",10),S(),D(25,"a",11),fe(26,"i",12),S(),D(27,"a",13),fe(28,"i",14),S(),D(29,"a",15),fe(30,"i",16),S()(),fe(31,"hr",17),D(32,"h4",18),P(33,"\u0417\u0440\u043E\u0431\u043B\u0435\u043D\u043E \u0437\u0430 \u0434\u043E\u043F\u043E\u043C\u043E\u0433\u043E\u044E "),fe(34,"i",19),D(35,"strong"),P(36,"Angular"),S()()()()()()())},styles:["footer[_ngcontent-%COMP%]{background-color:#2c3e50;color:#fff;font-size:1.5em;text-align:center;padding:2%;margin-top:40px}a.tel[_ngcontent-%COMP%], a.tel[_ngcontent-%COMP%]:hover{text-decoration:none;color:#fff}a.social-button[_ngcontent-%COMP%]{background:#fff;font-size:20px;border-radius:50%;margin:5px}.address-container[_ngcontent-%COMP%]{display:inline-block;margin:0 auto}a.link-facebook[_ngcontent-%COMP%], a.link-twitter[_ngcontent-%COMP%], a.link-codepen[_ngcontent-%COMP%], a.link-linkedin[_ngcontent-%COMP%], a.link-instagram[_ngcontent-%COMP%]{transition:.4s ease}a.link-twitter[_ngcontent-%COMP%]{color:#1da1f2}a.link-facebook[_ngcontent-%COMP%]{color:#3b5998}a.link-linkedin[_ngcontent-%COMP%]{color:#007bb6}a.link-instagram[_ngcontent-%COMP%]{color:#e95950}a.link-facebook[_ngcontent-%COMP%]:hover{background-color:#3b5998;color:#fff}a.link-twitter[_ngcontent-%COMP%]:hover{background-color:#1da1f2;color:#fff}a.link-codepen[_ngcontent-%COMP%]:hover{background-color:#000;color:#fff}a.link-linkedin[_ngcontent-%COMP%]:hover{background-color:#007bb6;color:#fff}a.link-instagram[_ngcontent-%COMP%]:hover{background-color:#e95950;color:#fff}.btn-default[_ngcontent-%COMP%]{color:#333;background-color:#fff;border-color:transparent!important}.fa-heart[_ngcontent-%COMP%]{color:#f32323}h4.author[_ngcontent-%COMP%]{letter-spacing:4px}hr.copyright[_ngcontent-%COMP%]{opacity:.4}"]});let t=e;return t})();function y3(t,e){if(t&1&&(D(0,"p",10),P(1),S()),t&2){let n=K();V(),Ee(n.errorMessage)}}var kA=(()=>{let e=class e{constructor(r){this.router=r,this.username="",this.password="",this.errorMessage=""}login(){this.username==="admin"&&this.password==="admin"?this.router.navigate(["/admin"]):this.errorMessage="\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u043B\u043E\u0433\u0456\u043D \u0430\u0431\u043E \u043F\u0430\u0440\u043E\u043B\u044C"}};e.\u0275fac=function(i){return new(i||e)($(at))},e.\u0275cmp=Ge({type:e,selectors:[["app-admin-login"]],standalone:!0,features:[We],decls:14,vars:3,consts:[[1,"login-container"],[1,"login-form",3,"ngSubmit"],["src","./icons/logo.png","alt","Logo",1,"logo"],[1,"form-group"],["for","username"],["id","username","name","username","placeholder","\u041B\u043E\u0433\u0456\u043D","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","password"],["id","password","type","password","name","password","placeholder","\u041F\u0430\u0440\u043E\u043B\u044C","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-success"],["class","text-danger",4,"ngIf"],[1,"text-danger"]],template:function(i,o){i&1&&(D(0,"div",0)(1,"form",1),W("ngSubmit",function(){return o.login()}),fe(2,"img",2),D(3,"div",3)(4,"label",4),P(5,"\u041B\u043E\u0433\u0456\u043D"),S(),D(6,"input",5),je("ngModelChange",function(a){return $e(o.username,a)||(o.username=a),a}),S()(),D(7,"div",3)(8,"label",6),P(9,"\u041F\u0430\u0440\u043E\u043B\u044C"),S(),D(10,"input",7),je("ngModelChange",function(a){return $e(o.password,a)||(o.password=a),a}),S()(),D(11,"button",8),P(12,"\u0412\u0445\u0456\u0434"),S(),Fe(13,y3,2,1,"p",9),S()()),i&2&&(V(6),Ue("ngModel",o.username),V(4),Ue("ngModel",o.password),V(3),le("ngIf",o.errorMessage))},dependencies:[ht,zr,tn,zo,en,kn,qo,ki,yn,Oi],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:70vh;background-color:#f8f9fa}.login-form[_ngcontent-%COMP%]{background:#fff;padding:2rem;border-radius:8px;box-shadow:0 0 10px #0000001a;text-align:center}.logo[_ngcontent-%COMP%]{max-width:100px;margin-bottom:1rem}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.btn-success[_ngcontent-%COMP%]{background-color:#28a745;border-color:#28a745}.btn-success[_ngcontent-%COMP%]:hover{background-color:#218838;border-color:#1e7e34}"]});let t=e;return t})();var FA=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ge({type:e,selectors:[["app-root"]],standalone:!0,features:[We],decls:3,vars:0,template:function(i,o){i&1&&fe(0,"app-header")(1,"router-outlet")(2,"app-footer")},dependencies:[os,Ng,ht,Lb,tn,Ph,OA,ib]});let t=e;return t})();var VA=[{path:"",component:VD},{path:"header",component:Ph},{path:"cart",component:LD},{path:"product/:id",component:NA},{path:"admin-login",component:kA},{path:"admin",component:PA},{path:"**",component:PD}];var LA={production:!1,firebase:{apiKey:"AIzaSyCDXEjp5yiLttF-2eUZKNHH6z3Y755yws8",authDomain:"hiking-equipment-store.firebaseapp.com",databaseURL:"https://hiking-equipment-store-default-rtdb.europe-west1.firebasedatabase.app",projectId:"hiking-equipment-store",storageBucket:"hiking-equipment-store.firebasestorage.app",messagingSenderId:"553591568312",appId:"1:553591568312:web:c4e43771d9e053d6d6814d",measurementId:"G-C3M4EFX3LH"}};hb(FA,{providers:[SD(VA),Hm(),fT(()=>pT(LA.firebase)),DA(()=>MA())]}).catch(t=>console.error(t));
