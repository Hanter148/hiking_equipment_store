var fR=Object.defineProperty,pR=Object.defineProperties;var gR=Object.getOwnPropertyDescriptors;var jE=Object.getOwnPropertySymbols,mR=Object.getPrototypeOf,yR=Object.prototype.hasOwnProperty,vR=Object.prototype.propertyIsEnumerable,_R=Reflect.get;var UE=(t,e,n)=>e in t?fR(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,j=(t,e)=>{for(var n in e||={})yR.call(e,n)&&UE(t,n,e[n]);if(jE)for(var n of jE(e))vR.call(e,n)&&UE(t,n,e[n]);return t},Ee=(t,e)=>pR(t,gR(e));var Xr=(t,e,n)=>_R(mR(t),n,e);var E=(t,e,n)=>new Promise((r,i)=>{var o=u=>{try{a(n.next(u))}catch(l){i(l)}},s=u=>{try{a(n.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((n=n.apply(t,e)).next())});var mp=null;var gp=1,yp=Symbol("SIGNAL");function Ae(t){let e=mp;return mp=t,e}function BE(){return mp}var vp={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function wR(t){if(!(Cp(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===gp)){if(!t.producerMustRecompute(t)&&!wp(t)){t.dirty=!1,t.lastCleanEpoch=gp;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=gp}}function _p(t){return t&&(t.nextProducerIndex=0),Ae(t)}function $E(t,e){if(Ae(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Cp(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Ip(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function wp(t){bp(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(wR(n),r!==n.version))return!0}return!1}function Ep(t){if(bp(t),Cp(t))for(let e=0;e<t.producerNode.length;e++)Ip(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Ip(t,e){if(ER(t),t.liveConsumerNode.length===1&&IR(t))for(let r=0;r<t.producerNode.length;r++)Ip(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];bp(i),i.producerIndexOfThis[r]=e}}function Cp(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function bp(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function ER(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function IR(t){return t.producerNode!==void 0}function CR(){throw new Error}var bR=CR;function HE(t){bR=t}function ue(t){return typeof t=="function"}function qo(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Wu=qo(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Wi(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ke=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(ue(r))try{r()}catch(o){e=o instanceof Wu?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{zE(o)}catch(s){e=e??[],s instanceof Wu?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Wu(e)}}add(e){var n;if(e&&e!==this)if(this.closed)zE(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Wi(n,e)}remove(e){let{_finalizers:n}=this;n&&Wi(n,e),e instanceof t&&e._removeParent(this)}};Ke.EMPTY=(()=>{let t=new Ke;return t.closed=!0,t})();var Dp=Ke.EMPTY;function Ku(t){return t instanceof Ke||t&&"closed"in t&&ue(t.remove)&&ue(t.add)&&ue(t.unsubscribe)}function zE(t){ue(t)?t():t.unsubscribe()}var In={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Go={setTimeout(t,e,...n){let{delegate:r}=Go;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Go;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Qu(t){Go.setTimeout(()=>{let{onUnhandledError:e}=In;if(e)e(t);else throw t})}function qa(){}var qE=Tp("C",void 0,void 0);function GE(t){return Tp("E",void 0,t)}function WE(t){return Tp("N",t,void 0)}function Tp(t,e,n){return{kind:t,value:e,error:n}}var Ki=null;function Wo(t){if(In.useDeprecatedSynchronousErrorHandling){let e=!Ki;if(e&&(Ki={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Ki;if(Ki=null,n)throw r}}else t()}function KE(t){In.useDeprecatedSynchronousErrorHandling&&Ki&&(Ki.errorThrown=!0,Ki.error=t)}var Qi=class extends Ke{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Ku(e)&&e.add(this)):this.destination=SR}static create(e,n,r){return new Ko(e,n,r)}next(e){this.isStopped?Ap(WE(e),this):this._next(e)}error(e){this.isStopped?Ap(GE(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Ap(qE,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},DR=Function.prototype.bind;function Sp(t,e){return DR.call(t,e)}var Mp=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Yu(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Yu(r)}else Yu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Yu(n)}}},Ko=class extends Qi{constructor(e,n,r){super();let i;if(ue(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&In.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Sp(e.next,o),error:e.error&&Sp(e.error,o),complete:e.complete&&Sp(e.complete,o)}):i=e}this.destination=new Mp(i)}};function Yu(t){In.useDeprecatedSynchronousErrorHandling?KE(t):Qu(t)}function TR(t){throw t}function Ap(t,e){let{onStoppedNotification:n}=In;n&&Go.setTimeout(()=>n(t,e))}var SR={closed:!0,next:qa,error:TR,complete:qa};var Qo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Xt(t){return t}function Ju(...t){return xp(t)}function xp(t){return t.length===0?Xt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var de=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=MR(n)?n:new Ko(n,r,i);return Wo(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=QE(r),new r((i,o)=>{let s=new Ko({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Qo](){return this}pipe(...n){return xp(n)(this)}toPromise(n){return n=QE(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function QE(t){var e;return(e=t??In.Promise)!==null&&e!==void 0?e:Promise}function AR(t){return t&&ue(t.next)&&ue(t.error)&&ue(t.complete)}function MR(t){return t&&t instanceof Qi||AR(t)&&Ku(t)}function Pp(t){return ue(t?.lift)}function Ce(t){return e=>{if(Pp(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ve(t,e,n,r,i){return new Rp(t,e,n,r,i)}var Rp=class extends Qi{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Yo(){return Ce((t,e)=>{let n=null;t._refCount++;let r=ve(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Jo=class extends de{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Pp(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ke;let n=this.getSubject();e.add(this.source.subscribe(ve(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ke.EMPTY)}return e}refCount(){return Yo()(this)}};var YE=qo(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var mt=(()=>{class t extends de{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Zu(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new YE}next(n){Wo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Wo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Wo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Dp:(this.currentObservers=null,o.push(n),new Ke(()=>{this.currentObservers=null,Wi(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new de;return n.source=this,n}}return t.create=(e,n)=>new Zu(e,n),t})(),Zu=class extends mt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Dp}};var ut=class extends mt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Np={now(){return(Np.delegate||Date).now()},delegate:void 0};var Xu=class extends Ke{constructor(e,n){super()}schedule(e,n=0){return this}};var Ga={setInterval(t,e,...n){let{delegate:r}=Ga;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Ga;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Zo=class extends Xu{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return Ga.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Ga.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Wi(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Xo=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Xo.now=Np.now;var es=class extends Xo{constructor(e,n=Xo.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var el=new es(Zo),Op=el;var tl=class extends Zo{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var nl=class extends es{};var kp=new nl(tl);var en=new de(t=>t.complete());function rl(t){return t&&ue(t.schedule)}function JE(t){return t[t.length-1]}function il(t){return ue(JE(t))?t.pop():void 0}function ei(t){return rl(JE(t))?t.pop():void 0}function Fp(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function XE(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function ZE(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Yi(t){return this instanceof Yi?(this.v=t,this):new Yi(t)}function eI(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i={},a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(T){return Promise.resolve(T).then(y,p)}}function a(y,T){r[y]&&(i[y]=function(R){return new Promise(function(x,F){o.push([y,R,x,F])>1||u(y,R)})},T&&(i[y]=T(i[y])))}function u(y,T){try{l(r[y](T))}catch(R){m(o[0][3],R)}}function l(y){y.value instanceof Yi?Promise.resolve(y.value.v).then(h,p):m(o[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function m(y,T){y(T),o.shift(),o.length&&u(o[0][0],o[0][1])}}function tI(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof ZE=="function"?ZE(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var ol=t=>t&&typeof t.length=="number"&&typeof t!="function";function sl(t){return ue(t?.then)}function al(t){return ue(t[Qo])}function cl(t){return Symbol.asyncIterator&&ue(t?.[Symbol.asyncIterator])}function ul(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function xR(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ll=xR();function dl(t){return ue(t?.[ll])}function hl(t){return eI(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Yi(n.read());if(i)return yield Yi(void 0);yield yield Yi(r)}}finally{n.releaseLock()}})}function fl(t){return ue(t?.getReader)}function nt(t){if(t instanceof de)return t;if(t!=null){if(al(t))return PR(t);if(ol(t))return RR(t);if(sl(t))return NR(t);if(cl(t))return nI(t);if(dl(t))return OR(t);if(fl(t))return kR(t)}throw ul(t)}function PR(t){return new de(e=>{let n=t[Qo]();if(ue(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function RR(t){return new de(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function NR(t){return new de(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Qu)})}function OR(t){return new de(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function nI(t){return new de(e=>{FR(t,e).catch(n=>e.error(n))})}function kR(t){return nI(hl(t))}function FR(t,e){var n,r,i,o;return XE(this,void 0,void 0,function*(){try{for(n=tI(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function Wt(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function ti(t,e=0){return Ce((n,r)=>{n.subscribe(ve(r,i=>Wt(r,t,()=>r.next(i),e),()=>Wt(r,t,()=>r.complete(),e),i=>Wt(r,t,()=>r.error(i),e)))})}function ni(t,e=0){return Ce((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function rI(t,e){return nt(t).pipe(ni(e),ti(e))}function iI(t,e){return nt(t).pipe(ni(e),ti(e))}function oI(t,e){return new de(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function sI(t,e){return new de(n=>{let r;return Wt(n,e,()=>{r=t[ll](),Wt(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>ue(r?.return)&&r.return()})}function pl(t,e){if(!t)throw new Error("Iterable cannot be null");return new de(n=>{Wt(n,e,()=>{let r=t[Symbol.asyncIterator]();Wt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function aI(t,e){return pl(hl(t),e)}function cI(t,e){if(t!=null){if(al(t))return rI(t,e);if(ol(t))return oI(t,e);if(sl(t))return iI(t,e);if(cl(t))return pl(t,e);if(dl(t))return sI(t,e);if(fl(t))return aI(t,e)}throw ul(t)}function ke(t,e){return e?cI(t,e):nt(t)}function J(...t){let e=ei(t);return ke(t,e)}function ts(t,e){let n=ue(t)?t:()=>t,r=i=>i.error(n());return new de(e?i=>e.schedule(r,0,i):r)}function Vp(t){return!!t&&(t instanceof de||ue(t.lift)&&ue(t.subscribe))}var fr=qo(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function uI(t){return t instanceof Date&&!isNaN(t)}function X(t,e){return Ce((n,r)=>{let i=0;n.subscribe(ve(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:VR}=Array;function LR(t,e){return VR(e)?t(...e):t(e)}function gl(t){return X(e=>LR(t,e))}var{isArray:jR}=Array,{getPrototypeOf:UR,prototype:BR,keys:$R}=Object;function ml(t){if(t.length===1){let e=t[0];if(jR(e))return{args:e,keys:null};if(HR(e)){let n=$R(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function HR(t){return t&&typeof t=="object"&&UR(t)===BR}function yl(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Wa(...t){let e=ei(t),n=il(t),{args:r,keys:i}=ml(t);if(r.length===0)return ke([],e);let o=new de(zR(r,e,i?s=>yl(i,s):Xt));return n?o.pipe(gl(n)):o}function zR(t,e,n=Xt){return r=>{lI(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)lI(e,()=>{let l=ke(t[u],e),h=!1;l.subscribe(ve(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function lI(t,e,n){t?Wt(n,t,e):e()}function dI(t,e,n,r,i,o,s,a){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},y=R=>l<r?T(R):u.push(R),T=R=>{o&&e.next(R),l++;let x=!1;nt(n(R,h++)).subscribe(ve(e,F=>{i?.(F),o?y(F):e.next(F)},()=>{x=!0},void 0,()=>{if(x)try{for(l--;u.length&&l<r;){let F=u.shift();s?Wt(e,s,()=>T(F)):T(F)}m()}catch(F){e.error(F)}}))};return t.subscribe(ve(e,y,()=>{p=!0,m()})),()=>{a?.()}}function rt(t,e,n=1/0){return ue(e)?rt((r,i)=>X((o,s)=>e(r,o,i,s))(nt(t(r,i))),n):(typeof e=="number"&&(n=e),Ce((r,i)=>dI(r,i,t,n)))}function ri(t=1/0){return rt(Xt,t)}function hI(){return ri(1)}function ns(...t){return hI()(ke(t,ei(t)))}function vl(t){return new de(e=>{nt(t()).subscribe(e)})}function Lp(...t){let e=il(t),{args:n,keys:r}=ml(t),i=new de(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;nt(n[h]).subscribe(ve(o,m=>{p||(p=!0,l--),a[h]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?yl(r,a):a),o.complete())}))}});return e?i.pipe(gl(e)):i}function jp(t=0,e,n=Op){let r=-1;return e!=null&&(rl(e)?n=e:r=e),new de(i=>{let o=uI(t)?+t-n.now():t;o<0&&(o=0);let s=0;return n.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function Ut(t,e){return Ce((n,r)=>{let i=0;n.subscribe(ve(r,o=>t.call(e,o,i++)&&r.next(o)))})}function ii(t){return Ce((e,n)=>{let r=null,i=!1,o;r=e.subscribe(ve(n,void 0,void 0,s=>{o=nt(t(s,ii(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function fI(t,e,n,r,i){return(o,s)=>{let a=n,u=e,l=0;o.subscribe(ve(s,h=>{let p=l++;u=a?t(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function pr(t,e){return ue(e)?rt(t,e,1):rt(t,1)}function oi(t){return Ce((e,n)=>{let r=!1;e.subscribe(ve(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function gr(t){return t<=0?()=>en:Ce((e,n)=>{let r=0;e.subscribe(ve(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Up(t){return X(()=>t)}function _l(t=qR){return Ce((e,n)=>{let r=!1;e.subscribe(ve(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function qR(){return new fr}function si(t){return Ce((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Fn(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ut((i,o)=>t(i,o,r)):Xt,gr(1),n?oi(e):_l(()=>new fr))}function rs(t){return t<=0?()=>en:Ce((e,n)=>{let r=[];e.subscribe(ve(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Bp(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ut((i,o)=>t(i,o,r)):Xt,rs(1),n?oi(e):_l(()=>new fr))}function wl(t,e){return Ce(fI(t,e,arguments.length>=2,!0))}function El(...t){let e=ei(t);return Ce((n,r)=>{(e?ns(t,n,e):ns(t,n)).subscribe(r)})}function Kt(t,e){return Ce((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(ve(r,u=>{i?.unsubscribe();let l=0,h=o++;nt(t(u,h)).subscribe(i=ve(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function $p(t){return Ce((e,n)=>{nt(t).subscribe(ve(n,()=>n.complete(),qa)),!n.closed&&e.subscribe(n)})}function it(t,e,n){let r=ue(t)||e||n?{next:t,error:e,complete:n}:t;return r?Ce((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(ve(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Xt}var eC="https://g.co/ng/security#xss",G=class extends Error{constructor(e,n){super(td(e,n)),this.code=e}};function td(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function nc(t){return{toString:t}.toString()}var Il="__parameters__";function GR(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function tC(t,e,n){return nc(()=>{let r=GR(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(Il)?u[Il]:Object.defineProperty(u,Il,{value:[]})[Il];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var mr=globalThis;function Fe(t){for(let e in t)if(t[e]===Fe)return e;throw Error("Could not find renamed property on target object.")}function WR(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function $t(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map($t).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function pI(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var KR=Fe({__forward_ref__:Fe});function zn(t){return t.__forward_ref__=zn,t.toString=function(){return $t(this())},t}function Bt(t){return nC(t)?t():t}function nC(t){return typeof t=="function"&&t.hasOwnProperty(KR)&&t.__forward_ref__===zn}function H(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function qn(t){return{providers:t.providers||[],imports:t.imports||[]}}function nd(t){return gI(t,iC)||gI(t,oC)}function rC(t){return nd(t)!==null}function gI(t,e){return t.hasOwnProperty(e)?t[e]:null}function QR(t){let e=t&&(t[iC]||t[oC]);return e||null}function mI(t){return t&&(t.hasOwnProperty(yI)||t.hasOwnProperty(YR))?t[yI]:null}var iC=Fe({\u0275prov:Fe}),yI=Fe({\u0275inj:Fe}),oC=Fe({ngInjectableDef:Fe}),YR=Fe({ngInjectorDef:Fe}),$=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=H({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function sC(t){return t&&!!t.\u0275providers}var JR=Fe({\u0275cmp:Fe}),ZR=Fe({\u0275dir:Fe}),XR=Fe({\u0275pipe:Fe}),eN=Fe({\u0275mod:Fe}),Rl=Fe({\u0275fac:Fe}),Ka=Fe({__NG_ELEMENT_ID__:Fe}),vI=Fe({__NG_ENV_ID__:Fe});function us(t){return typeof t=="string"?t:t==null?"":String(t)}function tN(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():us(t)}function nN(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new G(-200,t)}function Zg(t,e){throw new G(-201,!1)}var me=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(me||{}),ig;function aC(){return ig}function Qt(t){let e=ig;return ig=t,e}function cC(t,e,n){let r=nd(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&me.Optional)return null;if(e!==void 0)return e;Zg(t,"Injector")}var rN={},Qa=rN,og="__NG_DI_FLAG__",Nl="ngTempTokenPath",iN="ngTokenPath",oN=/\n/gm,sN="\u0275",_I="__source",as;function aN(){return as}function ai(t){let e=as;return as=t,e}function cN(t,e=me.Default){if(as===void 0)throw new G(-203,!1);return as===null?cC(t,void 0,e):as.get(t,e&me.Optional?null:void 0,e)}function W(t,e=me.Default){return(aC()||cN)(Bt(t),e)}function k(t,e=me.Default){return W(t,rd(e))}function rd(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function sg(t){let e=[];for(let n=0;n<t.length;n++){let r=Bt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new G(900,!1);let i,o=me.Default;for(let s=0;s<r.length;s++){let a=r[s],u=uN(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(W(i,o))}else e.push(W(r))}return e}function uC(t,e){return t[og]=e,t.prototype[og]=e,t}function uN(t){return t[og]}function lN(t,e,n,r){let i=t[Nl];throw e[_I]&&i.unshift(e[_I]),t.message=dN(`
`+t.message,i,n,r),t[iN]=i,t[Nl]=null,t}function dN(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==sN?t.slice(2):t;let i=$t(e);if(Array.isArray(e))i=e.map($t).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):$t(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(oN,`
  `)}`}var dt=uC(tC("Optional"),8);var Xg=uC(tC("SkipSelf"),4);function eo(t,e){let n=t.hasOwnProperty(Rl);return n?t[Rl]:null}function hN(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function fN(t){return t.flat(Number.POSITIVE_INFINITY)}function em(t,e){t.forEach(n=>Array.isArray(n)?em(n,e):e(n))}function lC(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Ol(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function pN(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function gN(t,e,n){let r=rc(t,e);return r>=0?t[r|1]=n:(r=~r,pN(t,r,e,n)),r}function Hp(t,e){let n=rc(t,e);if(n>=0)return t[n|1]}function rc(t,e){return mN(t,e,1)}function mN(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var ls={},dn=[],ds=new $(""),dC=new $("",-1),hC=new $(""),kl=class{get(e,n=Qa){if(n===Qa){let r=new Error(`NullInjectorError: No provider for ${$t(e)}!`);throw r.name="NullInjectorError",r}return n}},fC=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(fC||{}),jn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(jn||{}),hs=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(hs||{});function yN(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function ag(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];vN(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function pC(t){return t===3||t===4||t===6}function vN(t){return t.charCodeAt(0)===64}function Ya(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?wI(t,n,i,null,e[++r]):wI(t,n,i,null,null))}}return t}function wI(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var gC="ng-template";function _N(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&yN(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(tm(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function tm(t){return t.type===4&&t.value!==gC}function wN(t,e,n){let r=t.type===4&&!n?gC:t.value;return e===r}function EN(t,e,n){let r=4,i=t.attrs,o=i!==null?bN(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!Cn(r)&&!Cn(u))return!1;if(s&&Cn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!wN(t,u,n)||u===""&&e.length===1){if(Cn(r))return!1;s=!0}}else if(r&8){if(i===null||!_N(t,i,u,n)){if(Cn(r))return!1;s=!0}}else{let l=e[++a],h=IN(u,i,tm(t),n);if(h===-1){if(Cn(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(Cn(r))return!1;s=!0}}}}return Cn(r)||s}function Cn(t){return(t&1)===0}function IN(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return DN(e,t)}function CN(t,e,n=!1){for(let r=0;r<e.length;r++)if(EN(t,e[r],n))return!0;return!1}function bN(t){for(let e=0;e<t.length;e++){let n=t[e];if(pC(n))return e}return t.length}function DN(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function EI(t,e){return t?":not("+e.trim()+")":e}function TN(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Cn(s)&&(e+=EI(o,i),i=""),r=s,o=o||!Cn(r);n++}return i!==""&&(e+=EI(o,i)),e}function SN(t){return t.map(TN).join(",")}function AN(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!Cn(i))break;i=o}r++}return{attrs:e,classes:n}}function Ye(t){return nc(()=>{let e=wC(t),n=Ee(j({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===fC.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||jn.Emulated,styles:t.styles||dn,_:null,schemas:t.schemas||null,tView:null,id:""});EC(n);let r=t.dependencies;return n.directiveDefs=CI(r,!1),n.pipeDefs=CI(r,!0),n.id=PN(n),n})}function MN(t){return di(t)||mC(t)}function xN(t){return t!==null}function Gn(t){return nc(()=>({type:t.type,bootstrap:t.bootstrap||dn,declarations:t.declarations||dn,imports:t.imports||dn,exports:t.exports||dn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function II(t,e){if(t==null)return ls;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=hs.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==hs.None?[r,a]:r,e[o]=s):n[o]=r}return n}function Be(t){return nc(()=>{let e=wC(t);return EC(e),e})}function nm(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function di(t){return t[JR]||null}function mC(t){return t[ZR]||null}function yC(t){return t[XR]||null}function vC(t){let e=di(t)||mC(t)||yC(t);return e!==null?e.standalone:!1}function _C(t,e){let n=t[eN]||null;if(!n&&e===!0)throw new Error(`Type ${$t(t)} does not have '\u0275mod' property.`);return n}function wC(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||ls,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||dn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:II(t.inputs,e),outputs:II(t.outputs),debugInfo:null}}function EC(t){t.features?.forEach(e=>e(t))}function CI(t,e){if(!t)return null;let n=e?yC:MN;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(xN)}function PN(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function nn(t){return{\u0275providers:t}}function RN(...t){return{\u0275providers:IC(!0,t),\u0275fromNgModule:!0}}function IC(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return em(e,s=>{let a=s;cg(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&CC(i,o),n}function CC(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];rm(i,o=>{e(o,r)})}}function cg(t,e,n,r){if(t=Bt(t),!t)return!1;let i=null,o=mI(t),s=!o&&di(t);if(!o&&!s){let u=t.ngModule;if(o=mI(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)cg(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{em(o.imports,h=>{cg(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&CC(l,e)}if(!a){let l=eo(i)||(()=>new i);e({provide:i,useFactory:l,deps:dn},i),e({provide:hC,useValue:i,multi:!0},i),e({provide:ds,useValue:()=>W(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=t;rm(u,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function rm(t,e){for(let n of t)sC(n)&&(n=n.\u0275providers),Array.isArray(n)?rm(n,e):e(n)}var NN=Fe({provide:String,useValue:Fe});function bC(t){return t!==null&&typeof t=="object"&&NN in t}function ON(t){return!!(t&&t.useExisting)}function kN(t){return!!(t&&t.useFactory)}function fs(t){return typeof t=="function"}function FN(t){return!!t.useClass}var id=new $(""),Tl={},VN={},zp;function im(){return zp===void 0&&(zp=new kl),zp}var xt=class{},Ja=class extends xt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,lg(e,s=>this.processProvider(s)),this.records.set(dC,is(void 0,this)),i.has("environment")&&this.records.set(xt,is(void 0,this));let o=this.records.get(id);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(hC,dn,me.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Ae(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ae(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=ai(this),r=Qt(void 0),i;try{return e()}finally{ai(n),Qt(r)}}get(e,n=Qa,r=me.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(vI))return e[vI](this);r=rd(r);let i,o=ai(this),s=Qt(void 0);try{if(!(r&me.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=$N(e)&&nd(e);l&&this.injectableDefInScope(l)?u=is(ug(e),Tl):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&me.Self?im():this.parent;return n=r&me.Optional&&n===Qa?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Nl]=a[Nl]||[]).unshift($t(e)),o)throw a;return lN(a,e,"R3InjectorError",this.source)}else throw a}finally{Qt(s),ai(o)}}resolveInjectorInitializers(){let e=Ae(null),n=ai(this),r=Qt(void 0),i;try{let o=this.get(ds,dn,me.Self);for(let s of o)s()}finally{ai(n),Qt(r),Ae(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push($t(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new G(205,!1)}processProvider(e){e=Bt(e);let n=fs(e)?e:Bt(e&&e.provide),r=jN(e);if(!fs(e)&&e.multi===!0){let i=this.records.get(n);i||(i=is(void 0,Tl,!0),i.factory=()=>sg(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=Ae(null);try{return n.value===Tl&&(n.value=VN,n.value=n.factory()),typeof n.value=="object"&&n.value&&BN(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Ae(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Bt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function ug(t){let e=nd(t),n=e!==null?e.factory:eo(t);if(n!==null)return n;if(t instanceof $)throw new G(204,!1);if(t instanceof Function)return LN(t);throw new G(204,!1)}function LN(t){if(t.length>0)throw new G(204,!1);let n=QR(t);return n!==null?()=>n.factory(t):()=>new t}function jN(t){if(bC(t))return is(void 0,t.useValue);{let e=DC(t);return is(e,Tl)}}function DC(t,e,n){let r;if(fs(t)){let i=Bt(t);return eo(i)||ug(i)}else if(bC(t))r=()=>Bt(t.useValue);else if(kN(t))r=()=>t.useFactory(...sg(t.deps||[]));else if(ON(t))r=()=>W(Bt(t.useExisting));else{let i=Bt(t&&(t.useClass||t.provide));if(UN(t))r=()=>new i(...sg(t.deps));else return eo(i)||ug(i)}return r}function is(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function UN(t){return!!t.deps}function BN(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function $N(t){return typeof t=="function"||typeof t=="object"&&t instanceof $}function lg(t,e){for(let n of t)Array.isArray(n)?lg(n,e):n&&sC(n)?lg(n.\u0275providers,e):e(n)}function rn(t,e){t instanceof Ja&&t.assertNotDestroyed();let n,r=ai(t),i=Qt(void 0);try{return e()}finally{ai(r),Qt(i)}}function TC(){return aC()!==void 0||aN()!=null}function HN(t){if(!TC())throw new G(-203,!1)}function zN(t){return typeof t=="function"}var Er=0,he=1,re=2,Pt=3,bn=4,Tn=5,Fl=6,Vl=7,Dn=8,ps=9,Un=10,ot=11,Za=12,bI=13,Es=14,Bn=15,to=16,os=17,yr=18,od=19,SC=20,ui=21,qp=22,hn=23,fn=25,AC=1;var no=7,Ll=8,gs=9,tn=10,jl=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(jl||{});function li(t){return Array.isArray(t)&&typeof t[AC]=="object"}function Ir(t){return Array.isArray(t)&&t[AC]===!0}function MC(t){return(t.flags&4)!==0}function sd(t){return t.componentOffset>-1}function om(t){return(t.flags&1)===1}function hi(t){return!!t.template}function dg(t){return(t[re]&512)!==0}var hg=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function xC(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Cr(){return PC}function PC(t){return t.type.prototype.ngOnChanges&&(t.setInput=GN),qN}Cr.ngInherit=!0;function qN(){let t=NC(this),e=t?.current;if(e){let n=t.previous;if(n===ls)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function GN(t,e,n,r,i){let o=this.declaredInputs[r],s=NC(t)||WN(t,{previous:ls,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new hg(l&&l.currentValue,n,u===ls),xC(t,e,i,n)}var RC="__ngSimpleChanges__";function NC(t){return t[RC]||null}function WN(t,e){return t[RC]=e}var DI=null;var Vn=function(t,e,n){DI?.(t,e,n)},KN="svg",QN="math";function $n(t){for(;Array.isArray(t);)t=t[Er];return t}function OC(t,e){return $n(e[t])}function pn(t,e){return $n(e[t.index])}function kC(t,e){return t.data[e]}function sm(t,e){return t[e]}function pi(t,e){let n=e[t];return li(n)?n:n[Er]}function YN(t){return(t[re]&4)===4}function am(t){return(t[re]&128)===128}function JN(t){return Ir(t[Pt])}function Ul(t,e){return e==null?null:t[e]}function FC(t){t[os]=0}function VC(t){t[re]&1024||(t[re]|=1024,am(t)&&ad(t))}function ZN(t,e){for(;t>0;)e=e[Es],t--;return e}function Xa(t){return!!(t[re]&9216||t[hn]?.dirty)}function fg(t){t[Un].changeDetectionScheduler?.notify(7),t[re]&64&&(t[re]|=1024),Xa(t)&&ad(t)}function ad(t){t[Un].changeDetectionScheduler?.notify(0);let e=ro(t);for(;e!==null&&!(e[re]&8192||(e[re]|=8192,!am(e)));)e=ro(e)}function LC(t,e){if((t[re]&256)===256)throw new G(911,!1);t[ui]===null&&(t[ui]=[]),t[ui].push(e)}function XN(t,e){if(t[ui]===null)return;let n=t[ui].indexOf(e);n!==-1&&t[ui].splice(n,1)}function ro(t){let e=t[Pt];return Ir(e)?e[Pt]:e}var ge={lFrame:KC(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var jC=!1;function eO(){return ge.lFrame.elementDepthCount}function tO(){ge.lFrame.elementDepthCount++}function nO(){ge.lFrame.elementDepthCount--}function UC(){return ge.bindingsEnabled}function rO(){return ge.skipHydrationRootTNode!==null}function iO(t){return ge.skipHydrationRootTNode===t}function oO(){ge.skipHydrationRootTNode=null}function Ie(){return ge.lFrame.lView}function yt(){return ge.lFrame.tView}function oe(t){return ge.lFrame.contextLView=t,t[Dn]}function se(t){return ge.lFrame.contextLView=null,t}function Rt(){let t=BC();for(;t!==null&&t.type===64;)t=t.parent;return t}function BC(){return ge.lFrame.currentTNode}function sO(){let t=ge.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function ic(t,e){let n=ge.lFrame;n.currentTNode=t,n.isParent=e}function $C(){return ge.lFrame.isParent}function aO(){ge.lFrame.isParent=!1}function cO(){return ge.lFrame.contextLView}function HC(){return jC}function TI(t){jC=t}function cm(){let t=ge.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function uO(){return ge.lFrame.bindingIndex}function lO(t){return ge.lFrame.bindingIndex=t}function cd(){return ge.lFrame.bindingIndex++}function zC(t){let e=ge.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function dO(){return ge.lFrame.inI18n}function hO(t,e){let n=ge.lFrame;n.bindingIndex=n.bindingRootIndex=t,pg(e)}function fO(){return ge.lFrame.currentDirectiveIndex}function pg(t){ge.lFrame.currentDirectiveIndex=t}function pO(t){let e=ge.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function qC(){return ge.lFrame.currentQueryIndex}function um(t){ge.lFrame.currentQueryIndex=t}function gO(t){let e=t[he];return e.type===2?e.declTNode:e.type===1?t[Tn]:null}function GC(t,e,n){if(n&me.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&me.Host);)if(i=gO(o),i===null||(o=o[Es],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=ge.lFrame=WC();return r.currentTNode=e,r.lView=t,!0}function lm(t){let e=WC(),n=t[he];ge.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function WC(){let t=ge.lFrame,e=t===null?null:t.child;return e===null?KC(t):e}function KC(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function QC(){let t=ge.lFrame;return ge.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var YC=QC;function dm(){let t=QC();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function mO(t){return(ge.lFrame.contextLView=ZN(t,ge.lFrame.contextLView))[Dn]}function ho(){return ge.lFrame.selectedIndex}function io(t){ge.lFrame.selectedIndex=t}function ud(){let t=ge.lFrame;return kC(t.tView,t.selectedIndex)}function yO(){return ge.lFrame.currentNamespace}var JC=!0;function hm(){return JC}function fm(t){JC=t}function vO(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=PC(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function pm(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function Sl(t,e,n){ZC(t,e,3,n)}function Al(t,e,n,r){(t[re]&3)===n&&ZC(t,e,n,r)}function Gp(t,e){let n=t[re];(n&3)===e&&(n&=16383,n+=1,t[re]=n)}function ZC(t,e,n,r){let i=r!==void 0?t[os]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[os]+=65536),(a<o||o==-1)&&(_O(t,n,e,u),t[os]=(t[os]&4294901760)+u+2),u++}function SI(t,e){Vn(4,t,e);let n=Ae(null);try{e.call(t)}finally{Ae(n),Vn(5,t,e)}}function _O(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[re]>>14<t[os]>>16&&(t[re]&3)===e&&(t[re]+=16384,SI(a,o)):SI(a,o)}var cs=-1,oo=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function wO(t){return t instanceof oo}function EO(t){return(t.flags&8)!==0}function IO(t){return(t.flags&16)!==0}var Wp={},gg=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=rd(r);let i=this.injector.get(e,Wp,r);return i!==Wp||n===Wp?i:this.parentInjector.get(e,n,r)}};function XC(t){return t!==cs}function Bl(t){return t&32767}function CO(t){return t>>16}function $l(t,e){let n=CO(t),r=e;for(;n>0;)r=r[Es],n--;return r}var mg=!0;function Hl(t){let e=mg;return mg=t,e}var bO=256,eb=bO-1,tb=5,DO=0,Ln={};function TO(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ka)&&(r=n[Ka]),r==null&&(r=n[Ka]=DO++);let i=r&eb,o=1<<i;e.data[t+(i>>tb)]|=o}function zl(t,e){let n=nb(t,e);if(n!==-1)return n;let r=e[he];r.firstCreatePass&&(t.injectorIndex=e.length,Kp(r.data,t),Kp(e,null),Kp(r.blueprint,null));let i=gm(t,e),o=t.injectorIndex;if(XC(i)){let s=Bl(i),a=$l(i,e),u=a[he].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function Kp(t,e){t.push(0,0,0,0,0,0,0,0,e)}function nb(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function gm(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=ab(i),r===null)return cs;if(n++,i=i[Es],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return cs}function yg(t,e,n){TO(t,e,n)}function SO(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(pC(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function rb(t,e,n){if(n&me.Optional||t!==void 0)return t;Zg(e,"NodeInjector")}function ib(t,e,n,r){if(n&me.Optional&&r===void 0&&(r=null),!(n&(me.Self|me.Host))){let i=t[ps],o=Qt(void 0);try{return i?i.get(e,r,n&me.Optional):cC(e,r,n&me.Optional)}finally{Qt(o)}}return rb(r,e,n)}function ob(t,e,n,r=me.Default,i){if(t!==null){if(e[re]&2048&&!(r&me.Self)){let s=PO(t,e,n,r,Ln);if(s!==Ln)return s}let o=sb(t,e,n,r,Ln);if(o!==Ln)return o}return ib(e,n,r,i)}function sb(t,e,n,r,i){let o=MO(n);if(typeof o=="function"){if(!GC(e,t,r))return r&me.Host?rb(i,n,r):ib(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&me.Optional))Zg(n);else return s}finally{YC()}}else if(typeof o=="number"){let s=null,a=nb(t,e),u=cs,l=r&me.Host?e[Bn][Tn]:null;for((a===-1||r&me.SkipSelf)&&(u=a===-1?gm(t,e):e[a+8],u===cs||!MI(r,!1)?a=-1:(s=e[he],a=Bl(u),e=$l(u,e)));a!==-1;){let h=e[he];if(AI(o,a,h.data)){let p=AO(a,e,n,s,r,l);if(p!==Ln)return p}u=e[a+8],u!==cs&&MI(r,e[he].data[a+8]===l)&&AI(o,a,e)?(s=h,a=Bl(u),e=$l(u,e)):a=-1}}return i}function AO(t,e,n,r,i,o){let s=e[he],a=s.data[t+8],u=r==null?sd(a)&&mg:r!=s&&(a.type&3)!==0,l=i&me.Host&&o===a,h=Ml(a,s,n,u,l);return h!==null?so(e,s,h,a):Ln}function Ml(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,u=t.directiveStart,l=t.directiveEnd,h=o>>20,p=r?a:a+h,m=i?a+h:l;for(let y=p;y<m;y++){let T=s[y];if(y<u&&n===T||y>=u&&T.type===n)return y}if(i){let y=s[u];if(y&&hi(y)&&y.type===n)return u}return null}function so(t,e,n,r){let i=t[n],o=e.data;if(wO(i)){let s=i;s.resolving&&nN(tN(o[n]));let a=Hl(s.canSeeViewProviders);s.resolving=!0;let u,l=s.injectImpl?Qt(s.injectImpl):null,h=GC(t,r,me.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&vO(n,o[n],e)}finally{l!==null&&Qt(l),Hl(a),s.resolving=!1,YC()}}return i}function MO(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Ka)?t[Ka]:void 0;return typeof e=="number"?e>=0?e&eb:xO:e}function AI(t,e,n){let r=1<<t;return!!(n[e+(t>>tb)]&r)}function MI(t,e){return!(t&me.Self)&&!(t&me.Host&&e)}var Xi=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return ob(this._tNode,this._lView,e,rd(r),n)}};function xO(){return new Xi(Rt(),Ie())}function br(t){return nc(()=>{let e=t.prototype.constructor,n=e[Rl]||vg(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Rl]||vg(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function vg(t){return nC(t)?()=>{let e=vg(Bt(t));return e&&e()}:eo(t)}function PO(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[re]&2048&&!(s[re]&512);){let a=sb(o,s,n,r|me.Self,Ln);if(a!==Ln)return a;let u=o.parent;if(!u){let l=s[SC];if(l){let h=l.get(n,Ln,r);if(h!==Ln)return h}u=ab(s),s=s[Es]}o=u}return i}function ab(t){let e=t[he],n=e.type;return n===2?e.declTNode:n===1?t[Tn]:null}function mm(t){return SO(Rt(),t)}function xI(t,e=null,n=null,r){let i=cb(t,e,n,r);return i.resolveInjectorInitializers(),i}function cb(t,e=null,n=null,r,i=new Set){let o=[n||dn,RN(t)];return r=r||(typeof t=="object"?void 0:$t(t)),new Ja(o,e||im(),r||null,i)}var Zi=class Zi{static create(e,n){if(Array.isArray(e))return xI({name:""},n,e,"");{let r=e.name??"";return xI({name:r},e.parent,e.providers,r)}}};Zi.THROW_IF_NOT_FOUND=Qa,Zi.NULL=new kl,Zi.\u0275prov=H({token:Zi,providedIn:"any",factory:()=>W(dC)}),Zi.__NG_ELEMENT_ID__=-1;var lt=Zi;var RO=new $("");RO.__NG_ELEMENT_ID__=t=>{let e=Rt();if(e===null)throw new G(204,!1);if(e.type&2)return e.value;if(t&me.Optional)return null;throw new G(204,!1)};var NO="ngOriginalError";function Qp(t){return t[NO]}var Hn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Qp(e);for(;n&&Qp(n);)n=Qp(n);return n||null}},ub=new $("",{providedIn:"root",factory:()=>k(Hn).handleError.bind(void 0)}),ym=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=OO,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),_g=class extends ym{constructor(e){super(),this._lView=e}onDestroy(e){return LC(this._lView,e),()=>XN(this._lView,e)}};function OO(){return new _g(Ie())}function kO(){return Is(Rt(),Ie())}function Is(t,e){return new Ht(pn(t,e))}var Ht=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=kO;let t=e;return t})();function FO(t){return t instanceof Ht?t.nativeElement:t}var Dr=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ut(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275prov=H({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();var wg=class extends mt{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,TC()&&(this.destroyRef=k(ym,{optional:!0})??void 0,this.pendingTasks=k(Dr,{optional:!0})??void 0)}emit(e){let n=Ae(null);try{super.next(e)}finally{Ae(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Ke&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},Qe=wg;function VO(){return this._results[Symbol.iterator]()}var Eg=class t{get changes(){return this._changes??=new Qe}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=VO)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=fN(e);(this._changesDetected=!hN(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function lb(t){return(t.flags&128)===128}var db=new Map,LO=0;function jO(){return LO++}function UO(t){db.set(t[od],t)}function BO(t){db.delete(t[od])}var PI="__ngContext__";function ao(t,e){li(e)?(t[PI]=e[od],UO(e)):t[PI]=e}function hb(t){return pb(t[Za])}function fb(t){return pb(t[bn])}function pb(t){for(;t!==null&&!Ir(t);)t=t[bn];return t}var Ig;function gb(t){Ig=t}function $O(){if(Ig!==void 0)return Ig;if(typeof document<"u")return document;throw new G(210,!1)}var vm=new $("",{providedIn:"root",factory:()=>HO}),HO="ng",_m=new $(""),Ct=new $("",{providedIn:"platform",factory:()=>"unknown"});var wm=new $("",{providedIn:"root",factory:()=>$O().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var zO="h",qO="b";var GO=()=>null;function Em(t,e,n=!1){return GO(t,e,n)}var mb=!1,WO=new $("",{providedIn:"root",factory:()=>mb});var Cl;function KO(){if(Cl===void 0&&(Cl=null,mr.trustedTypes))try{Cl=mr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Cl}function RI(t){return KO()?.createScriptURL(t)||t}var ql=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${eC})`}};function oc(t){return t instanceof ql?t.changingThisBreaksApplicationSecurity:t}function Im(t,e){let n=QO(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${eC})`)}return n===e}function QO(t){return t instanceof ql&&t.getTypeName()||null}var YO=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function yb(t){return t=String(t),t.match(YO)?t:"unsafe:"+t}var ld=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(ld||{});function Wn(t){let e=_b();return e?e.sanitize(ld.URL,t)||"":Im(t,"URL")?oc(t):yb(us(t))}function JO(t){let e=_b();if(e)return RI(e.sanitize(ld.RESOURCE_URL,t)||"");if(Im(t,"ResourceURL"))return RI(oc(t));throw new G(904,!1)}function ZO(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?JO:Wn}function vb(t,e,n){return ZO(e,n)(t)}function _b(){let t=Ie();return t&&t[Un].sanitizer}function wb(t){return t instanceof Function?t():t}function XO(t){return(t??k(lt)).get(Ct)==="browser"}var vr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(vr||{}),e1;function Cm(t,e){return e1(t,e)}function ss(t,e,n,r,i){if(r!=null){let o,s=!1;Ir(r)?o=r:li(r)&&(s=!0,r=r[Er]);let a=$n(r);t===0&&n!==null?i==null?Db(e,n,a):Gl(e,n,a,i||null,!0):t===1&&n!==null?Gl(e,n,a,i||null,!0):t===2?m1(e,a,s):t===3&&e.destroyNode(a),o!=null&&v1(e,t,o,n,i)}}function t1(t,e){return t.createText(e)}function n1(t,e,n){t.setValue(e,n)}function Eb(t,e,n){return t.createElement(e,n)}function r1(t,e){Ib(t,e),e[Er]=null,e[Tn]=null}function i1(t,e,n,r,i,o){r[Er]=i,r[Tn]=e,dd(t,r,n,1,i,o)}function Ib(t,e){e[Un].changeDetectionScheduler?.notify(8),dd(t,e,e[ot],2,null,null)}function o1(t){let e=t[Za];if(!e)return Yp(t[he],t);for(;e;){let n=null;if(li(e))n=e[Za];else{let r=e[tn];r&&(n=r)}if(!n){for(;e&&!e[bn]&&e!==t;)li(e)&&Yp(e[he],e),e=e[Pt];e===null&&(e=t),li(e)&&Yp(e[he],e),n=e&&e[bn]}e=n}}function s1(t,e,n,r){let i=tn+r,o=n.length;r>0&&(n[i-1][bn]=e),r<o-tn?(e[bn]=n[i],lC(n,tn+r,e)):(n.push(e),e[bn]=null),e[Pt]=n;let s=e[to];s!==null&&n!==s&&Cb(s,e);let a=e[yr];a!==null&&a.insertView(t),fg(e),e[re]|=128}function Cb(t,e){let n=t[gs],r=e[Pt];if(li(r))t[re]|=jl.HasTransplantedViews;else{let i=r[Pt][Bn];e[Bn]!==i&&(t[re]|=jl.HasTransplantedViews)}n===null?t[gs]=[e]:n.push(e)}function bm(t,e){let n=t[gs],r=n.indexOf(e);n.splice(r,1)}function Cg(t,e){if(t.length<=tn)return;let n=tn+e,r=t[n];if(r){let i=r[to];i!==null&&i!==t&&bm(i,r),e>0&&(t[n-1][bn]=r[bn]);let o=Ol(t,tn+e);r1(r[he],r);let s=o[yr];s!==null&&s.detachView(o[he]),r[Pt]=null,r[bn]=null,r[re]&=-129}return r}function bb(t,e){if(!(e[re]&256)){let n=e[ot];n.destroyNode&&dd(t,e,n,3,null,null),o1(e)}}function Yp(t,e){if(e[re]&256)return;let n=Ae(null);try{e[re]&=-129,e[re]|=256,e[hn]&&Ep(e[hn]),c1(t,e),a1(t,e),e[he].type===1&&e[ot].destroy();let r=e[to];if(r!==null&&Ir(e[Pt])){r!==e[Pt]&&bm(r,e);let i=e[yr];i!==null&&i.detachView(t)}BO(e)}finally{Ae(n)}}function a1(t,e){let n=t.cleanup,r=e[Vl];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[Vl]=null);let i=e[ui];if(i!==null){e[ui]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function c1(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof oo)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];Vn(4,a,u);try{u.call(a)}finally{Vn(5,a,u)}}else{Vn(4,i,o);try{o.call(i)}finally{Vn(5,i,o)}}}}}function u1(t,e,n){return l1(t,e.parent,n)}function l1(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[Er];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===jn.None||o===jn.Emulated)return null}return pn(r,n)}}function Gl(t,e,n,r,i){t.insertBefore(e,n,r,i)}function Db(t,e,n){t.appendChild(e,n)}function NI(t,e,n,r,i){r!==null?Gl(t,e,n,r,i):Db(t,e,n)}function d1(t,e,n,r){t.removeChild(e,n,r)}function Dm(t,e){return t.parentNode(e)}function h1(t,e){return t.nextSibling(e)}function f1(t,e,n){return g1(t,e,n)}function p1(t,e,n){return t.type&40?pn(t,n):null}var g1=p1,OI;function Tm(t,e,n,r){let i=u1(t,r,e),o=e[ot],s=r.parent||e[Tn],a=f1(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)NI(o,i,n[u],a,!1);else NI(o,i,n,a,!1);OI!==void 0&&OI(o,r,e,n,i)}function xl(t,e){if(e!==null){let n=e.type;if(n&3)return pn(e,t);if(n&4)return bg(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return xl(t,r);{let i=t[e.index];return Ir(i)?bg(-1,i):$n(i)}}else{if(n&32)return Cm(e,t)()||$n(t[e.index]);{let r=Tb(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=ro(t[Bn]);return xl(i,r)}else return xl(t,e.next)}}}return null}function Tb(t,e){if(e!==null){let r=t[Bn][Tn],i=e.projection;return r.projection[i]}return null}function bg(t,e){let n=tn+t+1;if(n<e.length){let r=e[n],i=r[he].firstChild;if(i!==null)return xl(r,i)}return e[no]}function m1(t,e,n){let r=Dm(t,e);r&&d1(t,r,e,n)}function Sm(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],u=n.type;if(s&&e===0&&(a&&ao($n(a),r),n.flags|=2),(n.flags&32)!==32)if(u&8)Sm(t,e,n.child,r,i,o,!1),ss(e,t,i,a,o);else if(u&32){let l=Cm(n,r),h;for(;h=l();)ss(e,t,i,h,o);ss(e,t,i,a,o)}else u&16?y1(t,e,r,n,i,o):ss(e,t,i,a,o);n=s?n.projectionNext:n.next}}function dd(t,e,n,r,i,o){Sm(n,r,t.firstChild,e,i,o,!1)}function y1(t,e,n,r,i,o){let s=n[Bn],u=s[Tn].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];ss(e,t,i,h,o)}else{let l=u,h=s[Pt];lb(r)&&(l.flags|=128),Sm(t,e,l,h,i,o,!0)}}function v1(t,e,n,r,i){let o=n[no],s=$n(n);o!==s&&ss(e,t,r,o,i);for(let a=tn;a<n.length;a++){let u=n[a];dd(u[he],u,t,e,r,o)}}function _1(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:vr.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=vr.Important),t.setStyle(n,r,i,o))}}function w1(t,e,n){t.setAttribute(e,"style",n)}function Sb(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function Ab(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&ag(t,e,r),i!==null&&Sb(t,e,i),o!==null&&w1(t,e,o)}var Kn={};function U(t=1){Mb(yt(),Ie(),ho()+t,!1)}function Mb(t,e,n,r){if(!r)if((e[re]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Sl(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Al(e,o,0,n)}io(n)}function B(t,e=me.Default){let n=Ie();if(n===null)return W(t,e);let r=Rt();return ob(r,n,Bt(t),e)}function xb(){let t="invalid";throw new Error(t)}function Pb(t,e,n,r,i,o){let s=Ae(null);try{let a=null;i&hs.SignalBased&&(a=e[r][yp]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&hs.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):xC(e,a,r,o)}finally{Ae(s)}}function E1(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)io(~i);else{let o=i,s=n[++r],a=n[++r];hO(s,o);let u=e[o];a(2,u)}}}finally{io(-1)}}function hd(t,e,n,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[Er]=i,p[re]=r|4|128|8|64,(l!==null||t&&t[re]&2048)&&(p[re]|=2048),FC(p),p[Pt]=p[Es]=t,p[Dn]=n,p[Un]=s||t&&t[Un],p[ot]=a||t&&t[ot],p[ps]=u||t&&t[ps]||null,p[Tn]=o,p[od]=jO(),p[Fl]=h,p[SC]=l,p[Bn]=e.type==2?t[Bn]:p,p}function fd(t,e,n,r,i){let o=t.data[e];if(o===null)o=I1(t,e,n,r,i),dO()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=sO();o.injectorIndex=s===null?-1:s.injectorIndex}return ic(o,!0),o}function I1(t,e,n,r,i){let o=BC(),s=$C(),a=s?o:o&&o.parent,u=t.data[e]=A1(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),o!==null&&(s?o.child==null&&u.parent!==null&&(o.child=u):o.next===null&&(o.next=u,u.prev=o)),u}function Rb(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Nb(t,e,n,r,i){let o=ho(),s=r&2;try{io(-1),s&&e.length>fn&&Mb(t,e,fn,!1),Vn(s?2:0,i),n(r,i)}finally{io(o),Vn(s?3:1,i)}}function Ob(t,e,n){if(MC(e)){let r=Ae(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let u=n[s];a.contentQueries(1,u,s)}}}finally{Ae(r)}}}function kb(t,e,n){UC()&&(O1(t,e,n,pn(n,e)),(n.flags&64)===64&&Ub(t,e,n))}function Fb(t,e,n=pn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function Vb(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Am(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Am(t,e,n,r,i,o,s,a,u,l,h){let p=fn+r,m=p+i,y=C1(p,m),T=typeof l=="function"?l():l;return y[he]={type:t,blueprint:y,template:n,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:T,incompleteFirstPass:!1,ssrId:h}}function C1(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Kn);return n}function b1(t,e,n,r){let o=r.get(WO,mb)||n===jn.ShadowDom,s=t.selectRootElement(e,o);return D1(s),s}function D1(t){T1(t)}var T1=()=>null;function S1(t,e,n,r){let i=Hb(e);i.push(n),t.firstCreatePass&&zb(t).push(r,i.length-1)}function A1(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return rO()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function kI(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,u=hs.None;Array.isArray(s)?(a=s[0],u=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}t===0?FI(r,n,l,a,u):FI(r,n,l,a)}return r}function FI(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function M1(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],u=null,l=null;for(let h=r;h<i;h++){let p=o[h],m=n?n.get(p):null,y=m?m.inputs:null,T=m?m.outputs:null;u=kI(0,p.inputs,h,u,y),l=kI(1,p.outputs,h,l,T);let R=u!==null&&s!==null&&!tm(e)?q1(u,h,s):null;a.push(R)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}function x1(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Mm(t,e,n,r,i,o,s,a){let u=pn(e,n),l=e.inputs,h;!a&&l!=null&&(h=l[r])?(xm(t,n,h,r,i),sd(e)&&P1(n,e.index)):e.type&3?(r=x1(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)):e.type&12}function P1(t,e){let n=pi(e,t);n[re]&16||(n[re]|=64)}function Lb(t,e,n,r){if(UC()){let i=r===null?null:{"":-1},o=F1(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&jb(t,e,n,s,i,a),i&&V1(n,r,i)}n.mergedAttrs=Ya(n.mergedAttrs,n.attrs)}function jb(t,e,n,r,i,o){for(let l=0;l<r.length;l++)yg(zl(n,e),t,r[l].type);j1(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let h=r[l];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,u=Rb(t,e,r.length,null);for(let l=0;l<r.length;l++){let h=r[l];n.mergedAttrs=Ya(n.mergedAttrs,h.hostAttrs),U1(t,n,e,u,h),L1(u,h,i),h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let p=h.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}M1(t,n,o)}function R1(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;N1(s)!=a&&s.push(a),s.push(n,r,o)}}function N1(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function O1(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;sd(n)&&B1(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||zl(n,e),ao(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let u=t.data[a],l=so(e,t,a,n);if(ao(l,e),s!==null&&z1(e,a-i,l,u,n,s),hi(u)){let h=pi(n.index,e);h[Dn]=so(e,t,a,n)}}}function Ub(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=fO();try{io(o);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];pg(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&k1(u,l)}}finally{io(-1),pg(s)}}function k1(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function F1(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(CN(e,s.selectors,!1))if(r||(r=[]),hi(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let u=a.length;Dg(t,e,u)}else r.unshift(s),Dg(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Dg(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function V1(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new G(-301,!1);r.push(e[i],o)}}}function L1(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;hi(e)&&(n[""]=t)}}function j1(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function U1(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=eo(i.type,!0)),s=new oo(o,hi(i),B);t.blueprint[r]=s,n[r]=s,R1(t,e,r,Rb(t,n,i.hostVars,Kn),i)}function B1(t,e,n){let r=pn(e,t),i=Vb(n),o=t[Un].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=pd(t,hd(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function $1(t,e,n,r,i,o){let s=pn(t,e);H1(e[ot],s,o,t.value,n,r,i)}function H1(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?us(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function z1(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let u=s[a++],l=s[a++],h=s[a++],p=s[a++];Pb(r,n,u,l,h,p)}}function q1(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function Bb(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function $b(t,e){let n=t.contentQueries;if(n!==null){let r=Ae(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];um(o),a.contentQueries(2,e[s],s)}}}finally{Ae(r)}}}function pd(t,e){return t[Za]?t[bI][bn]=e:t[Za]=e,t[bI]=e,e}function Tg(t,e,n){um(0);let r=Ae(null);try{e(t,n)}finally{Ae(r)}}function Hb(t){return t[Vl]??=[]}function zb(t){return t.cleanup??=[]}function qb(t,e){let n=t[ps],r=n?n.get(Hn,null):null;r&&r.handleError(e)}function xm(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],u=n[o++],l=e[s],h=t.data[s];Pb(h,l,r,a,u,i)}}function Gb(t,e,n){let r=OC(e,t);n1(t[ot],r,n)}function G1(t,e){let n=pi(e,t),r=n[he];W1(r,n);let i=n[Er];i!==null&&n[Fl]===null&&(n[Fl]=Em(i,n[ps])),Pm(r,n,n[Dn])}function W1(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Pm(t,e,n){lm(e);try{let r=t.viewQuery;r!==null&&Tg(1,r,n);let i=t.template;i!==null&&Nb(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[yr]?.finishViewCreation(t),t.staticContentQueries&&$b(t,e),t.staticViewQueries&&Tg(2,t.viewQuery,n);let o=t.components;o!==null&&K1(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[re]&=-5,dm()}}function K1(t,e){for(let n=0;n<e.length;n++)G1(t,e[n])}function Q1(t,e,n,r){let i=Ae(null);try{let o=e.tView,a=t[re]&4096?4096:16,u=hd(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[to]=l;let h=t[yr];return h!==null&&(u[yr]=h.createEmbeddedView(o)),Pm(o,u,n),u}finally{Ae(i)}}function VI(t,e){return!e||e.firstChild===null||lb(t)}function Y1(t,e,n,r=!0){let i=e[he];if(s1(i,e,t,n),r){let s=bg(n,t),a=e[ot],u=Dm(a,t[no]);u!==null&&i1(i,t[Tn],a,e,u,s)}let o=e[Fl];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Wl(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push($n(o)),Ir(o)&&J1(o,r);let s=n.type;if(s&8)Wl(t,e,n.child,r);else if(s&32){let a=Cm(n,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=Tb(e,n);if(Array.isArray(a))r.push(...a);else{let u=ro(e[Bn]);Wl(u[he],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function J1(t,e){for(let n=tn;n<t.length;n++){let r=t[n],i=r[he].firstChild;i!==null&&Wl(r[he],r,i,e)}t[no]!==t[Er]&&e.push(t[no])}var Wb=[];function Z1(t){return t[hn]??X1(t)}function X1(t){let e=Wb.pop()??Object.create(tk);return e.lView=t,e}function ek(t){t.lView[hn]!==t&&(t.lView=null,Wb.push(t))}var tk=Ee(j({},vp),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{ad(t.lView)},consumerOnSignalRead(){this.lView[hn]=this}});function nk(t){let e=t[hn]??Object.create(rk);return e.lView=t,e}var rk=Ee(j({},vp),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=ro(t.lView);for(;e&&!Kb(e[he]);)e=ro(e);e&&VC(e)},consumerOnSignalRead(){this.lView[hn]=this}});function Kb(t){return t.type!==2}var ik=100;function Qb(t,e=!0,n=0){let r=t[Un],i=r.rendererFactory,o=!1;o||i.begin?.();try{ok(t,n)}catch(s){throw e&&qb(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function ok(t,e){let n=HC();try{TI(!0),Sg(t,e);let r=0;for(;Xa(t);){if(r===ik)throw new G(103,!1);r++,Sg(t,1)}}finally{TI(n)}}function sk(t,e,n,r){let i=e[re];if((i&256)===256)return;let o=!1,s=!1;!o&&e[Un].inlineEffectRunner?.flush(),lm(e);let a=!0,u=null,l=null;o||(Kb(t)?(l=Z1(e),u=_p(l)):BE()===null?(a=!1,l=nk(e),u=_p(l)):e[hn]&&(Ep(e[hn]),e[hn]=null));try{FC(e),lO(t.bindingStartIndex),n!==null&&Nb(t,e,n,2,r);let h=(i&3)===3;if(!o)if(h){let y=t.preOrderCheckHooks;y!==null&&Sl(e,y,null)}else{let y=t.preOrderHooks;y!==null&&Al(e,y,0,null),Gp(e,0)}if(s||ak(e),Yb(e,0),t.contentQueries!==null&&$b(t,e),!o)if(h){let y=t.contentCheckHooks;y!==null&&Sl(e,y)}else{let y=t.contentHooks;y!==null&&Al(e,y,1),Gp(e,1)}E1(t,e);let p=t.components;p!==null&&Zb(e,p,0);let m=t.viewQuery;if(m!==null&&Tg(2,m,r),!o)if(h){let y=t.viewCheckHooks;y!==null&&Sl(e,y)}else{let y=t.viewHooks;y!==null&&Al(e,y,2),Gp(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[qp]){for(let y of e[qp])y();e[qp]=null}o||(e[re]&=-73)}catch(h){throw o||ad(e),h}finally{l!==null&&($E(l,u),a&&ek(l)),dm()}}function Yb(t,e){for(let n=hb(t);n!==null;n=fb(n))for(let r=tn;r<n.length;r++){let i=n[r];Jb(i,e)}}function ak(t){for(let e=hb(t);e!==null;e=fb(e)){if(!(e[re]&jl.HasTransplantedViews))continue;let n=e[gs];for(let r=0;r<n.length;r++){let i=n[r];VC(i)}}}function ck(t,e,n){let r=pi(e,t);Jb(r,n)}function Jb(t,e){am(t)&&Sg(t,e)}function Sg(t,e){let r=t[he],i=t[re],o=t[hn],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&wp(o)),s||=!1,o&&(o.dirty=!1),t[re]&=-9217,s)sk(r,t,r.template,t[Dn]);else if(i&8192){Yb(t,1);let a=r.components;a!==null&&Zb(t,a,1)}}function Zb(t,e,n){for(let r=0;r<e.length;r++)ck(t,e[r],n)}function Rm(t,e){let n=HC()?64:1088;for(t[Un].changeDetectionScheduler?.notify(e);t;){t[re]|=n;let r=ro(t);if(dg(t)&&!r)return t;t=r}return null}var co=class{get rootNodes(){let e=this._lView,n=e[he];return Wl(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Dn]}set context(e){this._lView[Dn]=e}get destroyed(){return(this._lView[re]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Pt];if(Ir(e)){let n=e[Ll],r=n?n.indexOf(this):-1;r>-1&&(Cg(e,r),Ol(n,r))}this._attachedToViewContainer=!1}bb(this._lView[he],this._lView)}onDestroy(e){LC(this._lView,e)}markForCheck(){Rm(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[re]&=-129}reattach(){fg(this._lView),this._lView[re]|=128}detectChanges(){this._lView[re]|=1024,Qb(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new G(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=dg(this._lView),n=this._lView[to];n!==null&&!e&&bm(n,this._lView),Ib(this._lView[he],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new G(902,!1);this._appRef=e;let n=dg(this._lView),r=this._lView[to];r!==null&&!n&&Cb(r,this._lView),fg(this._lView)}},uo=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=dk;let t=e;return t})(),uk=uo,lk=class extends uk{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=Q1(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new co(i)}};function dk(){return Nm(Rt(),Ie())}function Nm(t,e){return t.type&4?new lk(e,t,Is(t,e)):null}var YW=new RegExp(`^(\\d+)*(${qO}|${zO})*(.*)`);var hk=()=>null;function LI(t,e){return hk(t,e)}var ms=class{},Xb=new $("",{providedIn:"root",factory:()=>!1});var eD=new $(""),Ag=class{},Kl=class{};function fk(t){let e=Error(`No component factory found for ${$t(t)}.`);return e[pk]=t,e}var pk="ngComponent";var Mg=class{resolveComponentFactory(e){throw fk(e)}},$m=class $m{};$m.NULL=new Mg;var ys=$m,vs=class{},Sn=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>gk();let t=e;return t})();function gk(){let t=Ie(),e=Rt(),n=pi(e.index,t);return(li(n)?n:t)[ot]}var mk=(()=>{let e=class e{};e.\u0275prov=H({token:e,providedIn:"root",factory:()=>null});let t=e;return t})();var jI=new Set;function gd(t){jI.has(t)||(jI.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function tD(t){let e=!0;return setTimeout(()=>{e&&(e=!1,t())}),typeof mr.requestAnimationFrame=="function"&&mr.requestAnimationFrame(()=>{e&&(e=!1,t())}),()=>{e=!1}}function UI(t){let e=!0;return queueMicrotask(()=>{e&&t()}),()=>{e=!1}}function BI(...t){}var be=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Qe(!1),this.onMicrotaskEmpty=new Qe(!1),this.onStable=new Qe(!1),this.onError=new Qe(!1),typeof Zone>"u")throw new G(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.callbackScheduled=!1,_k(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new G(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new G(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,yk,BI,BI);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},yk={};function Om(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function vk(t){t.isCheckStableRunning||t.callbackScheduled||(t.callbackScheduled=!0,Zone.root.run(()=>{tD(()=>{t.callbackScheduled=!1,xg(t),t.isCheckStableRunning=!0,Om(t),t.isCheckStableRunning=!1})}),xg(t))}function _k(t){let e=()=>{vk(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(wk(a))return n.invokeTask(i,o,s,a);try{return $I(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),HI(t)}},onInvoke:(n,r,i,o,s,a,u)=>{try{return $I(t),n.invoke(i,o,s,a,u)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!Ek(a)&&e(),HI(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,xg(t),Om(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function xg(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function $I(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function HI(t){t._nesting--,Om(t)}var Pg=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Qe,this.onMicrotaskEmpty=new Qe,this.onStable=new Qe,this.onError=new Qe}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function wk(t){return nD(t,"__ignore_ng_zone__")}function Ek(t){return nD(t,"__scheduler_tick__")}function nD(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var ci=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(ci||{}),Ik={destroy(){}};function md(t,e){!e&&HN(md);let n=e?.injector??k(lt);if(!XO(n))return Ik;gd("NgAfterNextRender");let r=n.get(km),i=r.handler??=new Ng,o=e?.phase??ci.MixedReadWrite,s=()=>{i.unregister(u),a()},a=n.get(ym).onDestroy(s),u=rn(n,()=>new Rg(o,()=>{s(),t()}));return i.register(u),{destroy:s}}var Rg=class{constructor(e,n){this.phase=e,this.callbackFn=n,this.zone=k(be),this.errorHandler=k(Hn,{optional:!0}),k(ms,{optional:!0})?.notify(6)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},Ng=class{constructor(){this.executingCallbacks=!1,this.buckets={[ci.EarlyRead]:new Set,[ci.Write]:new Set,[ci.MixedReadWrite]:new Set,[ci.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let n of e)n.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},km=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=H({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function Og(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=pI(i,a);else if(o==2){let u=a,l=e[++s];r=pI(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Ql=class extends ys{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=di(e);return new _s(n,this.ngModule)}};function zI(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function Ck(t){let e=t.toLowerCase();return e==="svg"?KN:e==="math"?QN:null}var _s=class extends Kl{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=zI(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return zI(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=SN(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=Ae(null);try{i=i||this.ngModule;let s=i instanceof xt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new gg(e,s):e,u=a.get(vs,null);if(u===null)throw new G(407,!1);let l=a.get(mk,null),h=a.get(km,null),p=a.get(ms,null),m={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:h,changeDetectionScheduler:p},y=u.createRenderer(null,this.componentDef),T=this.componentDef.selectors[0][0]||"div",R=r?b1(y,r,this.componentDef.encapsulation,a):Eb(y,T,Ck(T)),x=512;this.componentDef.signals?x|=4096:this.componentDef.onPush||(x|=16);let F=null;R!==null&&(F=Em(R,a,!0));let K=Am(0,null,null,1,0,null,null,null,null,null,null),q=hd(null,K,null,x,null,null,m,y,a,null,F);lm(q);let Y,Ne;try{let te=this.componentDef,I,v=null;te.findHostDirectiveDefs?(I=[],v=new Map,te.findHostDirectiveDefs(te,I,v),I.push(te)):I=[te];let _=bk(q,R),C=Dk(_,R,te,I,q,m,y);Ne=kC(K,fn),R&&Ak(y,te,R,r),n!==void 0&&Mk(Ne,this.ngContentSelectors,n),Y=Sk(C,te,I,v,q,[xk]),Pm(K,q,null)}finally{dm()}return new kg(this.componentType,Y,Is(Ne,q),q,Ne)}finally{Ae(o)}}},kg=class extends Ag{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new co(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;xm(o[he],o,i,e,n),this.previousInputValues.set(e,n);let s=pi(this._tNode.index,o);Rm(s,1)}}get injector(){return new Xi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function bk(t,e){let n=t[he],r=fn;return t[r]=e,fd(n,r,2,"#host",null)}function Dk(t,e,n,r,i,o,s){let a=i[he];Tk(r,t,e,s);let u=null;e!==null&&(u=Em(e,i[ps]));let l=o.rendererFactory.createRenderer(e,n),h=16;n.signals?h=4096:n.onPush&&(h=64);let p=hd(i,Vb(n),null,h,i[t.index],t,o,l,null,null,u);return a.firstCreatePass&&Dg(a,t,r.length-1),pd(i,p),i[t.index]=p}function Tk(t,e,n,r){for(let i of t)e.mergedAttrs=Ya(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Og(e,e.mergedAttrs,!0),n!==null&&Ab(r,n,e))}function Sk(t,e,n,r,i,o){let s=Rt(),a=i[he],u=pn(s,i);jb(a,i,s,n,null,r);for(let h=0;h<n.length;h++){let p=s.directiveStart+h,m=so(i,a,p,s);ao(m,i)}Ub(a,i,s),u&&ao(u,i);let l=so(i,a,s.directiveStart+s.componentOffset,s);if(t[Dn]=i[Dn]=l,o!==null)for(let h of o)h(l,e);return Ob(a,s,i),l}function Ak(t,e,n,r){if(r)ag(t,n,["ng-version","18.0.5"]);else{let{attrs:i,classes:o}=AN(e.selectors[0]);i&&ag(t,n,i),o&&o.length>0&&Sb(t,n,o.join(" "))}}function Mk(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function xk(){let t=Rt();pm(Ie()[he],t)}var gi=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Pk;let t=e;return t})();function Pk(){let t=Rt();return iD(t,Ie())}var Rk=gi,rD=class extends Rk{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Is(this._hostTNode,this._hostLView)}get injector(){return new Xi(this._hostTNode,this._hostLView)}get parentInjector(){let e=gm(this._hostTNode,this._hostLView);if(XC(e)){let n=$l(e,this._hostLView),r=Bl(e),i=n[he].data[r+8];return new Xi(i,n)}else return new Xi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=qI(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-tn}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=LI(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,VI(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!zN(e),a;if(s)a=n;else{let T=n||{};a=T.index,r=T.injector,i=T.projectableNodes,o=T.environmentInjector||T.ngModuleRef}let u=s?e:new _s(di(e)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let R=(s?l:this.parentInjector).get(xt,null);R&&(o=R)}let h=di(u.componentType??{}),p=LI(this._lContainer,h?.id??null),m=p?.firstChild??null,y=u.create(l,i,m,o);return this.insertImpl(y.hostView,a,VI(this._hostTNode,p)),y}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(JN(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[Pt],l=new rD(u,u[Tn],u[Pt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return Y1(s,i,o,r),e.attachToViewContainerRef(),lC(Jp(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=qI(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Cg(this._lContainer,n);r&&(Ol(Jp(this._lContainer),n),bb(r[he],r))}detach(e){let n=this._adjustIndex(e,-1),r=Cg(this._lContainer,n);return r&&Ol(Jp(this._lContainer),n)!=null?new co(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function qI(t){return t[Ll]}function Jp(t){return t[Ll]||(t[Ll]=[])}function iD(t,e){let n,r=e[t.index];return Ir(r)?n=r:(n=Bb(r,e,null,t),e[t.index]=n,pd(e,n)),Ok(n,e,t,r),new rD(n,t,e)}function Nk(t,e){let n=t[ot],r=n.createComment(""),i=pn(e,t),o=Dm(n,i);return Gl(n,o,r,h1(n,i),!1),r}var Ok=Vk,kk=()=>!1;function Fk(t,e,n){return kk(t,e,n)}function Vk(t,e,n,r){if(t[no])return;let i;n.type&8?i=$n(r):i=Nk(e,n),t[no]=i}var Fg=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Vg=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)Fm(e,n).matches!==null&&this.queries[n].setDirty()}},Yl=class{constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=qk(e):this.predicate=e}},Lg=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},jg=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,n,Lk(n,o)),this.matchTNodeWithReadOption(e,n,Ml(n,e,o,!1,!1))}else r===uo?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Ml(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Ht||i===gi||i===uo&&n.type&4)this.addMatch(n.index,-2);else{let o=Ml(n,e,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function Lk(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function jk(t,e){return t.type&11?Is(t,e):t.type&4?Nm(t,e):null}function Uk(t,e,n,r){return n===-1?jk(e,t):n===-2?Bk(t,e,r):so(t,t[he],n,e)}function Bk(t,e,n){if(n===Ht)return Is(e,t);if(n===uo)return Nm(e,t);if(n===gi)return iD(e,t)}function oD(t,e,n,r){let i=e[yr].queries[r];if(i.matches===null){let o=t.data,s=n.matches,a=[];for(let u=0;s!==null&&u<s.length;u+=2){let l=s[u];if(l<0)a.push(null);else{let h=o[l];a.push(Uk(e,h,s[u+1],n.metadata.read))}}i.matches=a}return i.matches}function Ug(t,e,n,r){let i=t.queries.getByIndex(n),o=i.matches;if(o!==null){let s=oD(t,e,i,n);for(let a=0;a<o.length;a+=2){let u=o[a];if(u>0)r.push(s[a/2]);else{let l=o[a+1],h=e[-u];for(let p=tn;p<h.length;p++){let m=h[p];m[to]===m[Pt]&&Ug(m[he],m,l,r)}if(h[gs]!==null){let p=h[gs];for(let m=0;m<p.length;m++){let y=p[m];Ug(y[he],y,l,r)}}}}}return r}function $k(t,e){return t[yr].queries[e].queryList}function sD(t,e,n){let r=new Eg((n&4)===4);return S1(t,e,r,r.destroy),(e[yr]??=new Vg).queries.push(new Fg(r))-1}function Hk(t,e,n){let r=yt();return r.firstCreatePass&&(aD(r,new Yl(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),sD(r,Ie(),e)}function zk(t,e,n,r){let i=yt();if(i.firstCreatePass){let o=Rt();aD(i,new Yl(e,n,r),o.index),Gk(i,t),(n&2)===2&&(i.staticContentQueries=!0)}return sD(i,Ie(),n)}function qk(t){return t.split(",").map(e=>e.trim())}function aD(t,e,n){t.queries===null&&(t.queries=new Lg),t.queries.track(new jg(e,n))}function Gk(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function Fm(t,e){return t.queries.getByIndex(e)}function Wk(t,e){let n=t[he],r=Fm(n,e);return r.crossesNgTemplate?Ug(n,t,e,[]):oD(n,t,r,e)}function Kk(t){return typeof t=="function"&&t[yp]!==void 0}function cD(t){return Kk(t)&&typeof t.set=="function"}function Qk(t){return Object.getPrototypeOf(t.prototype).constructor}function gn(t){let e=Qk(t.type),n=!0,r=[t];for(;e;){let i;if(hi(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new G(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=bl(t.inputs),s.inputTransforms=bl(t.inputTransforms),s.declaredInputs=bl(t.declaredInputs),s.outputs=bl(t.outputs);let a=i.hostBindings;a&&eF(t,a);let u=i.viewQuery,l=i.contentQueries;if(u&&Zk(t,u),l&&Xk(t,l),Yk(t,i),WR(t.outputs,i.outputs),hi(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===gn&&(n=!1)}}e=Object.getPrototypeOf(e)}Jk(r)}function Yk(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function Jk(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ya(i.hostAttrs,n=Ya(n,i.hostAttrs))}}function bl(t){return t===ls?{}:t===dn?[]:t}function Zk(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function Xk(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function eF(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function Vm(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var fi=class{},ec=class{};var Bg=class extends fi{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ql(this);let i=_C(e);this._bootstrapComponents=wb(i.bootstrap),this._r3Injector=cb(e,n,[{provide:fi,useValue:this},{provide:ys,useValue:this.componentFactoryResolver},...r],$t(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},$g=class extends ec{constructor(e){super(),this.moduleType=e}create(e){return new Bg(this.moduleType,e,[])}};var Jl=class extends fi{constructor(e){super(),this.componentFactoryResolver=new Ql(this),this.instance=null;let n=new Ja([...e.providers,{provide:fi,useValue:this},{provide:ys,useValue:this.componentFactoryResolver}],e.parent||im(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function yd(t,e,n=null){return new Jl({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function uD(t){return nF(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function tF(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function nF(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function Lm(t,e,n){return t[e]=n}function _r(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function jm(t,e,n,r){let i=_r(t,e,n);return _r(t,e+1,r)||i}function rF(t,e,n,r,i){let o=jm(t,e,n,r);return _r(t,e+2,i)||o}function iF(t){return(t.flags&32)===32}function oF(t,e,n,r,i,o,s,a,u){let l=e.consts,h=fd(e,t,4,s||null,a||null);Lb(e,n,h,Ul(l,u)),pm(e,h);let p=h.tView=Am(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function sF(t,e,n,r,i,o,s,a,u,l){let h=n+fn,p=e.firstCreatePass?oF(h,e,t,r,i,o,s,a,u):e.data[h];ic(p,!1);let m=aF(e,t,p,n);hm()&&Tm(e,t,m,p),ao(m,t);let y=Bb(m,t,m,p);return t[h]=y,pd(t,y),Fk(y,p,t),om(p)&&kb(e,t,p),u!=null&&Fb(t,p,l),p}function et(t,e,n,r,i,o,s,a){let u=Ie(),l=yt(),h=Ul(l.consts,o);return sF(u,l,t,e,n,r,i,h,s,a),et}var aF=cF;function cF(t,e,n,r){return fm(!0),e[ot].createComment("")}function sc(t,e,n,r){let i=Ie(),o=cd();if(_r(i,o,e)){let s=yt(),a=ud();$1(a,i,t,e,n,r)}return sc}function lD(t,e,n,r){return _r(t,cd(),n)?e+us(n)+r:Kn}function uF(t,e,n,r,i,o){let s=uO(),a=jm(t,s,n,i);return zC(2),a?e+us(n)+r+us(i)+o:Kn}function Dl(t,e){return t<<17|e<<2}function lo(t){return t>>17&32767}function lF(t){return(t&2)==2}function dF(t,e){return t&131071|e<<17}function Hg(t){return t|2}function ws(t){return(t&131068)>>2}function Zp(t,e){return t&-131069|e<<2}function hF(t){return(t&1)===1}function zg(t){return t|1}function fF(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=lo(s),u=ws(s);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||rc(p,h)>0)&&(l=!0)}else h=n;if(i)if(u!==0){let m=lo(t[a+1]);t[r+1]=Dl(m,a),m!==0&&(t[m+1]=Zp(t[m+1],r)),t[a+1]=dF(t[a+1],r)}else t[r+1]=Dl(a,0),a!==0&&(t[a+1]=Zp(t[a+1],r)),a=r;else t[r+1]=Dl(u,0),a===0?a=r:t[u+1]=Zp(t[u+1],r),u=r;l&&(t[r+1]=Hg(t[r+1])),GI(t,h,r,!0),GI(t,h,r,!1),pF(e,h,t,r,o),s=Dl(a,u),o?e.classBindings=s:e.styleBindings=s}function pF(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&rc(o,e)>=0&&(n[r+1]=zg(n[r+1]))}function GI(t,e,n,r){let i=t[n+1],o=e===null,s=r?lo(i):ws(i),a=!1;for(;s!==0&&(a===!1||o);){let u=t[s],l=t[s+1];gF(u,e)&&(a=!0,t[s+1]=r?zg(l):Hg(l)),s=r?lo(l):ws(l)}a&&(t[n+1]=r?Hg(i):zg(i))}function gF(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?rc(t,e)>=0:!1}function ye(t,e,n){let r=Ie(),i=cd();if(_r(r,i,e)){let o=yt(),s=ud();Mm(o,s,r,t,e,r[ot],n,!1)}return ye}function WI(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";xm(t,n,o[s],s,r)}function vd(t,e){return mF(t,e,null,!0),vd}function mF(t,e,n,r){let i=Ie(),o=yt(),s=zC(2);if(o.firstUpdatePass&&vF(o,t,s,r),e!==Kn&&_r(i,s,e)){let a=o.data[ho()];CF(o,a,i,i[ot],t,i[s+1]=bF(e,n),r,s)}}function yF(t,e){return e>=t.expandoStartIndex}function vF(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[ho()],s=yF(t,n);DF(o,r)&&e===null&&!s&&(e=!1),e=_F(i,o,e,r),fF(i,o,e,n,s,r)}}function _F(t,e,n,r){let i=pO(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Xp(null,t,e,n,r),n=tc(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=Xp(i,t,e,n,r),o===null){let u=wF(t,e,r);u!==void 0&&Array.isArray(u)&&(u=Xp(null,t,e,u[1],r),u=tc(u,e.attrs,r),EF(t,e,r,u))}else o=IF(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function wF(t,e,n){let r=n?e.classBindings:e.styleBindings;if(ws(r)!==0)return t[lo(r)]}function EF(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[lo(i)]=r}function IF(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=tc(r,s,n)}return tc(r,e.attrs,n)}function Xp(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=tc(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function tc(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),gN(t,s,n?!0:e[++o]))}return t===void 0?null:t}function CF(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],h=hF(l)?KI(u,e,n,i,ws(l),s):void 0;if(!Zl(h)){Zl(o)||lF(l)&&(o=KI(u,null,n,i,a,s));let p=OC(ho(),n);_1(r,s,p,i,o)}}function KI(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,m=n[i+1];m===Kn&&(m=p?dn:void 0);let y=p?Hp(m,r):h===r?m:void 0;if(l&&!Zl(y)&&(y=Hp(u,r)),Zl(y)&&(a=y,s))return a;let T=t[i+1];i=s?lo(T):ws(T)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=Hp(u,r))}return a}function Zl(t){return t!==void 0}function bF(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=$t(oc(t)))),t}function DF(t,e){return(t.flags&(e?8:16))!==0}function TF(t,e,n,r,i,o){let s=e.consts,a=Ul(s,i),u=fd(e,t,2,r,a);return Lb(e,n,u,Ul(s,o)),u.attrs!==null&&Og(u,u.attrs,!1),u.mergedAttrs!==null&&Og(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function S(t,e,n,r){let i=Ie(),o=yt(),s=fn+t,a=i[ot],u=o.firstCreatePass?TF(s,o,i,e,n,r):o.data[s],l=SF(o,i,u,a,e,t);i[s]=l;let h=om(u);return ic(u,!0),Ab(a,l,u),!iF(u)&&hm()&&Tm(o,i,l,u),eO()===0&&ao(l,i),tO(),h&&(kb(o,i,u),Ob(o,u,i)),r!==null&&Fb(i,u),S}function M(){let t=Rt();$C()?aO():(t=t.parent,ic(t,!1));let e=t;iO(e)&&oO(),nO();let n=yt();return n.firstCreatePass&&(pm(n,t),MC(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&EO(e)&&WI(n,e,Ie(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&IO(e)&&WI(n,e,Ie(),e.stylesWithoutHost,!1),M}function fe(t,e,n,r){return S(t,e,n,r),M(),fe}var SF=(t,e,n,r,i,o)=>(fm(!0),Eb(r,i,yO()));function zt(){return Ie()}var Ji=void 0;function AF(t){let e=t,n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&r===0?1:5}var MF=["en",[["a","p"],["AM","PM"],Ji],[["AM","PM"],Ji,Ji],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ji,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ji,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ji,"{1} 'at' {0}",Ji],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",AF],eg={};function mn(t){let e=xF(t),n=QI(e);if(n)return n;let r=e.split("-")[0];if(n=QI(r),n)return n;if(r==="en")return MF;throw new G(701,!1)}function QI(t){return t in eg||(eg[t]=mr.ng&&mr.ng.common&&mr.ng.common.locales&&mr.ng.common.locales[t]),eg[t]}var tt=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(tt||{});function xF(t){return t.toLowerCase().replace(/_/g,"-")}var Xl="en-US";var PF=Xl;function RF(t){typeof t=="string"&&(PF=t.toLowerCase().replace(/_/g,"-"))}var NF=(t,e,n)=>{};function Z(t,e,n,r){let i=Ie(),o=yt(),s=Rt();return dD(o,i,i[ot],s,t,e,r),Z}function OF(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[Vl],u=i[o+2];return a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function dD(t,e,n,r,i,o,s){let a=om(r),l=t.firstCreatePass&&zb(t),h=e[Dn],p=Hb(e),m=!0;if(r.type&3||s){let R=pn(r,e),x=s?s(R):R,F=p.length,K=s?Y=>s($n(Y[r.index])):r.index,q=null;if(!s&&a&&(q=OF(t,e,i,r.index)),q!==null){let Y=q.__ngLastListenerFn__||q;Y.__ngNextListenerFn__=o,q.__ngLastListenerFn__=o,m=!1}else{o=JI(r,e,h,o),NF(R,i,o);let Y=n.listen(x,i,o);p.push(o,Y),l&&l.push(i,K,F,F+1)}}else o=JI(r,e,h,o);let y=r.outputs,T;if(m&&y!==null&&(T=y[i])){let R=T.length;if(R)for(let x=0;x<R;x+=2){let F=T[x],K=T[x+1],Ne=e[F][K].subscribe(o),te=p.length;p.push(o,Ne),l&&l.push(i,r.index,te,-(te+1))}}}function YI(t,e,n,r){let i=Ae(null);try{return Vn(6,e,n),n(r)!==!1}catch(o){return qb(t,o),!1}finally{Vn(7,e,n),Ae(i)}}function JI(t,e,n,r){return function i(o){if(o===Function)return r;let s=t.componentOffset>-1?pi(t.index,e):e;Rm(s,5);let a=YI(e,n,r,o),u=i.__ngNextListenerFn__;for(;u;)a=YI(e,n,u,o)&&a,u=u.__ngNextListenerFn__;return a}}function ie(t=1){return mO(t)}function Qn(t,e,n){return hD(t,"",e,"",n),Qn}function hD(t,e,n,r,i){let o=Ie(),s=lD(o,e,n,r);if(s!==Kn){let a=yt(),u=ud();Mm(a,u,o,t,s,o[ot],i,!1)}return hD}function fD(t,e,n,r){zk(t,e,n,r)}function pD(t,e,n){Hk(t,e,n)}function _d(t){let e=Ie(),n=yt(),r=qC();um(r+1);let i=Fm(n,r);if(t.dirty&&YN(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let o=Wk(e,r);t.reset(o,FO),t.notifyOnChanges()}return!0}return!1}function wd(){return $k(Ie(),qC())}function kF(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function ac(t){let e=cO();return sm(e,fn+t)}function N(t,e=""){let n=Ie(),r=yt(),i=t+fn,o=r.firstCreatePass?fd(r,i,1,e,null):r.data[i],s=FF(r,n,o,e,t);n[i]=s,hm()&&Tm(r,n,s,o),ic(o,!1)}var FF=(t,e,n,r,i)=>(fm(!0),t1(e[ot],r));function Ve(t){return fo("",t,""),Ve}function fo(t,e,n){let r=Ie(),i=lD(r,t,e,n);return i!==Kn&&Gb(r,ho(),i),fo}function Tr(t,e,n,r,i){let o=Ie(),s=uF(o,t,e,n,r,i);return s!==Kn&&Gb(o,ho(),s),Tr}function $e(t,e,n){cD(e)&&(e=e());let r=Ie(),i=cd();if(_r(r,i,e)){let o=yt(),s=ud();Mm(o,s,r,t,e,r[ot],n,!1)}return $e}function qe(t,e){let n=cD(t);return n&&t.set(e),n}function He(t,e){let n=Ie(),r=yt(),i=Rt();return dD(r,n,n[ot],i,t,e),He}function VF(t,e,n){let r=yt();if(r.firstCreatePass){let i=hi(t);qg(n,r.data,r.blueprint,i,!0),qg(e,r.data,r.blueprint,i,!1)}}function qg(t,e,n,r,i){if(t=Bt(t),Array.isArray(t))for(let o=0;o<t.length;o++)qg(t[o],e,n,r,i);else{let o=yt(),s=Ie(),a=Rt(),u=fs(t)?t:Bt(t.provide),l=DC(t),h=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if(fs(t)||!t.multi){let y=new oo(l,i,B),T=ng(u,e,i?h:h+m,p);T===-1?(yg(zl(a,s),o,u),tg(o,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(y),s.push(y)):(n[T]=y,s[T]=y)}else{let y=ng(u,e,h+m,p),T=ng(u,e,h,h+m),R=y>=0&&n[y],x=T>=0&&n[T];if(i&&!x||!i&&!R){yg(zl(a,s),o,u);let F=UF(i?jF:LF,n.length,i,r,l);!i&&x&&(n[T].providerFactory=F),tg(o,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(F),s.push(F)}else{let F=gD(n[i?T:y],l,!i&&r);tg(o,t,y>-1?y:T,F)}!i&&r&&x&&n[T].componentProviders++}}}function tg(t,e,n,r){let i=fs(e),o=FN(e);if(i||o){let u=(o?Bt(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[r,u]):l[h+1].push(r,u)}else l.push(n,u)}}}function gD(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function ng(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function LF(t,e,n,r){return Gg(this.multi,[])}function jF(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=so(n,n[he],this.providerFactory.index,r);o=a.slice(0,s),Gg(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],Gg(i,o);return o}function Gg(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function UF(t,e,n,r,i){let o=new oo(t,n,B);return o.multi=[],o.index=e,o.componentProviders=0,gD(o,i,r&&!n),o}function mi(t,e=[]){return n=>{n.providersResolver=(r,i)=>VF(r,i?i(t):t,e)}}var BF=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=IC(!1,r.type),o=i.length>0?yd([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=H({token:e,providedIn:"environment",factory:()=>new e(W(xt))});let t=e;return t})();function Je(t){gd("NgStandalone"),t.getStandaloneInjector=e=>e.get(BF).getOrCreateStandaloneInjector(t)}function Ed(t,e,n,r){return $F(Ie(),cm(),t,e,n,r)}function Um(t,e){let n=t[e];return n===Kn?void 0:n}function $F(t,e,n,r,i,o){let s=e+n;return _r(t,s,i)?Lm(t,s+1,o?r.call(o,i):r(i)):Um(t,s+1)}function HF(t,e,n,r,i,o,s){let a=e+n;return jm(t,a,i,o)?Lm(t,a+2,s?r.call(s,i,o):r(i,o)):Um(t,a+2)}function zF(t,e,n,r,i,o,s,a){let u=e+n;return rF(t,u,i,o,s)?Lm(t,u+3,a?r.call(a,i,o,s):r(i,o,s)):Um(t,u+3)}function Id(t,e){let n=yt(),r,i=t+fn;n.firstCreatePass?(r=qF(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=eo(r.type,!0)),s,a=Qt(B);try{let u=Hl(!1),l=o();return Hl(u),kF(n,Ie(),i,l),l}finally{Qt(a)}}function qF(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function mD(t,e,n,r){let i=t+fn,o=Ie(),s=sm(o,i);return vD(o,i)?HF(o,cm(),e,s.transform,n,r,s):s.transform(n,r)}function yD(t,e,n,r,i){let o=t+fn,s=Ie(),a=sm(s,o);return vD(s,o)?zF(s,cm(),e,a.transform,n,r,i,a):a.transform(n,r,i)}function vD(t,e){return t[he].data[e].pure}var wr=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},_D=new wr("18.0.5");var Cd=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var wD=new $("");function po(t){return!!t&&typeof t.then=="function"}function ED(t){return!!t&&typeof t.subscribe=="function"}var bd=new $(""),ID=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=k(bd,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let o of this.appInits){let s=o();if(po(s))r.push(s);else if(ED(s)){let a=new Promise((u,l)=>{s.subscribe({complete:u,error:l})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),cc=new $("");function GF(){HE(()=>{throw new G(600,!1)})}function WF(t){return t.isBoundToModule}var KF=10;function QF(t,e,n){try{let r=n();return po(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var go=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=k(ub),this.afterRenderEffectManager=k(km),this.zonelessEnabled=k(Xb),this.externalTestViews=new Set,this.beforeRender=new mt,this.afterTick=new mt,this.componentTypes=[],this.components=[],this.isStable=k(Dr).hasPendingTasks.pipe(X(r=>!r)),this._injector=k(xt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let o=r instanceof Kl;if(!this._injector.get(ID).done){let y=!o&&vC(r),T=!1;throw new G(405,T)}let a;o?a=r:a=this._injector.get(ys).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let u=WF(a)?void 0:this._injector.get(fi),l=i||a.selector,h=a.create(lt.NULL,[],l,u),p=h.location.nativeElement,m=h.injector.get(wD,null);return m?.registerApplication(p),h.onDestroy(()=>{this.detachView(h.hostView),rg(this.components,h),m?.unregisterApplication(p)}),this._loadComponent(h),h}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new G(101,!1);let i=Ae(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(o){this.internalErrorHandler(o)}finally{this._runningTick=!1,Ae(i),this.afterTick.next()}}detectChangesInAttachedViews(r){let i=null;this._injector.destroyed||(i=this._injector.get(vs,null,{optional:!0}));let o=0,s=this.afterRenderEffectManager;for(;o<KF;){let a=o===0;if(r||!a){this.beforeRender.next(a);for(let{_lView:u,notifyErrorHandler:l}of this._views)YF(u,l,a,this.zonelessEnabled)}else i?.begin?.(),i?.end?.();if(o++,s.executeInternalCallbacks(),!this.allViews.some(({_lView:u})=>Xa(u))&&(s.execute(),!this.allViews.some(({_lView:u})=>Xa(u))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;rg(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(cc,[]);[...this._bootstrapListeners,...i].forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>rg(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new G(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function rg(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function YF(t,e,n,r){if(!n&&!Xa(t))return;Qb(t,e,n&&!r?0:1)}var Wg=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Dd=(()=>{let e=class e{compileModuleSync(r){return new $g(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),o=_C(r),s=wb(o.declarations).reduce((a,u)=>{let l=di(u);return l&&a.push(new _s(l)),a},[]);return new Wg(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var JF=(()=>{let e=class e{constructor(){this.zone=k(be),this.changeDetectionScheduler=k(ms),this.applicationRef=k(go)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function ZF({ngZoneFactory:t,ignoreChangesOutsideZone:e}){return t??=()=>new be(eV()),[{provide:be,useFactory:t},{provide:ds,multi:!0,useFactory:()=>{let n=k(JF,{optional:!0});return()=>n.initialize()}},{provide:ds,multi:!0,useFactory:()=>{let n=k(tV);return()=>{n.initialize()}}},{provide:ub,useFactory:XF},e===!0?{provide:eD,useValue:!0}:[]]}function XF(){let t=k(be),e=k(Hn);return n=>t.runOutsideAngular(()=>e.handleError(n))}function eV(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var tV=(()=>{let e=class e{constructor(){this.subscription=new Ke,this.initialized=!1,this.zone=k(be),this.pendingTasks=k(Dr)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{be.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{be.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var nV=(()=>{let e=class e{constructor(){this.appRef=k(go),this.taskService=k(Dr),this.ngZone=k(be),this.zonelessEnabled=k(Xb),this.disableScheduling=k(eD,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Ke,this.cancelScheduledCallback=null,this.shouldRefreshViews=!1,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Pg||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&r===5)return;switch(r){case 3:case 2:case 0:case 4:case 5:case 1:{this.shouldRefreshViews=!0;break}case 8:case 7:case 6:case 9:default:}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?UI:tD;this.pendingRenderTaskId=this.taskService.add(),this.zoneIsDefined?Zone.root.run(()=>{this.cancelScheduledCallback=i(()=>{this.tick(this.shouldRefreshViews)})}):this.cancelScheduledCallback=i(()=>{this.tick(this.shouldRefreshViews)})}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&be.isInAngularZone())}tick(r){if(this.runningTick||this.appRef.destroyed)return;let i=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick(r)},void 0,this.schedulerTickApplyArgs)}catch(o){throw this.taskService.remove(i),o}finally{this.cleanup()}this.useMicrotaskScheduler=!0,UI(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(i)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.shouldRefreshViews=!1,this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function rV(){return typeof $localize<"u"&&$localize.locale||Xl}var Td=new $("",{providedIn:"root",factory:()=>k(Td,me.Optional|me.SkipSelf)||rV()});var CD=new $("");var Pl=null;function iV(t=[],e){return lt.create({name:e,providers:[{provide:id,useValue:"platform"},{provide:CD,useValue:new Set([()=>Pl=null])},...t]})}function oV(t=[]){if(Pl)return Pl;let e=iV(t);return Pl=e,GF(),sV(e),e}function sV(t){t.get(_m,null)?.forEach(n=>n())}function bD(){return!1}var yi=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=aV;let t=e;return t})();function aV(t){return cV(Rt(),Ie(),(t&16)===16)}function cV(t,e,n){if(sd(t)&&!n){let r=pi(t.index,e);return new co(r,r)}else if(t.type&175){let r=e[Bn];return new co(r,e)}return null}var Kg=class{constructor(){}supports(e){return uD(e)}create(e){return new Qg(e)}},uV=(t,e)=>e,Qg=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||uV}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<ZI(r,i,o)?n:r,a=ZI(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=u-i;if(l!=h){for(let m=0;m<l;m++){let y=m<o.length?o[m]:o[m]=0,T=y+m;h<=T&&T<l&&(o[m]=y+1)}let p=s.previousIndex;o[p]=h-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!uD(e))throw new G(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,tF(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new Yg(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new ed),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new ed),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Yg=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Jg=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},ed=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new Jg,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function ZI(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function XI(){return new Bm([new Kg])}var Bm=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let o=i.factories.slice();r=r.concat(o)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||XI()),deps:[[e,new Xg,new dt]]}}find(r){let i=this.factories.find(o=>o.supports(r));if(i!=null)return i;throw new G(901,!1)}};e.\u0275prov=H({token:e,providedIn:"root",factory:XI});let t=e;return t})();function DD(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=oV(r),o=[ZF({}),{provide:ms,useExisting:nV},...n||[]],a=new Jl({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,u=a.get(be);return u.run(()=>{a.resolveInjectorInitializers();let l=a.get(Hn,null),h;u.runOutsideAngular(()=>{h=u.onError.subscribe({next:y=>{l.handleError(y)}})});let p=()=>a.destroy(),m=i.get(CD);return m.add(p),a.onDestroy(()=>{h.unsubscribe(),m.delete(p)}),QF(l,u,()=>{let y=a.get(ID);return y.runInitializers(),y.donePromise.then(()=>{let T=a.get(Td,Xl);RF(T||Xl);let R=a.get(go);return e!==void 0&&R.bootstrap(e),R})})})}catch(e){return Promise.reject(e)}}function vi(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function TD(t){let e=di(t);if(!e)return null;let n=new _s(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var ND=null;function xr(){return ND}function OD(t){ND??=t}var kd=class{};var Nt=new $(""),Jm=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:()=>k(lV),providedIn:"platform"});let t=e;return t})(),kD=new $(""),lV=(()=>{let e=class e extends Jm{constructor(){super(),this._doc=k(Nt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return xr().getBaseHref(this._doc)}onPopState(r){let i=xr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=xr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function Zm(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function SD(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Ar(t){return t&&t[0]!=="?"?"?"+t:t}var Pr=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:()=>k(Xm),providedIn:"root"});let t=e;return t})(),FD=new $(""),Xm=(()=>{let e=class e extends Pr{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??k(Nt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return Zm(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+Ar(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+Ar(s));this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+Ar(s));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(W(Jm),W(FD,8))},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),VD=(()=>{let e=class e extends Pr{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=Zm(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+Ar(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+Ar(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(W(Jm),W(FD,8))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})(),bs=(()=>{let e=class e{constructor(r){this._subject=new Qe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=fV(SD(AD(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Ar(i))}normalize(r){return e.stripTrailingSlash(hV(this._basePath,AD(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Ar(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Ar(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}};e.normalizeQueryParams=Ar,e.joinWithSlash=Zm,e.stripTrailingSlash=SD,e.\u0275fac=function(i){return new(i||e)(W(Pr))},e.\u0275prov=H({token:e,factory:()=>dV(),providedIn:"root"});let t=e;return t})();function dV(){return new bs(W(Pr))}function hV(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function AD(t){return t.replace(/\/index.html$/,"")}function fV(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var qt=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(qt||{}),Le=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(Le||{}),on=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(on||{}),_i={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function pV(t){return mn(t)[tt.LocaleId]}function gV(t,e,n){let r=mn(t),i=[r[tt.DayPeriodsFormat],r[tt.DayPeriodsStandalone]],o=yn(i,e);return yn(o,n)}function mV(t,e,n){let r=mn(t),i=[r[tt.DaysFormat],r[tt.DaysStandalone]],o=yn(i,e);return yn(o,n)}function yV(t,e,n){let r=mn(t),i=[r[tt.MonthsFormat],r[tt.MonthsStandalone]],o=yn(i,e);return yn(o,n)}function vV(t,e){let r=mn(t)[tt.Eras];return yn(r,e)}function Sd(t,e){let n=mn(t);return yn(n[tt.DateFormat],e)}function Ad(t,e){let n=mn(t);return yn(n[tt.TimeFormat],e)}function Md(t,e){let r=mn(t)[tt.DateTimeFormat];return yn(r,e)}function Vd(t,e){let n=mn(t),r=n[tt.NumberSymbols][e];if(typeof r>"u"){if(e===_i.CurrencyDecimal)return n[tt.NumberSymbols][_i.Decimal];if(e===_i.CurrencyGroup)return n[tt.NumberSymbols][_i.Group]}return r}function LD(t){if(!t[tt.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[tt.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function _V(t){let e=mn(t);return LD(e),(e[tt.ExtraData][2]||[]).map(r=>typeof r=="string"?Hm(r):[Hm(r[0]),Hm(r[1])])}function wV(t,e,n){let r=mn(t);LD(r);let i=[r[tt.ExtraData][0],r[tt.ExtraData][1]],o=yn(i,e)||[];return yn(o,n)||[]}function yn(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function Hm(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var EV=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,xd={},IV=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,Mr=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(Mr||{}),xe=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(xe||{}),Me=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(Me||{});function CV(t,e,n,r){let i=RV(t);e=Sr(n,e)||e;let s=[],a;for(;e;)if(a=IV.exec(e),a){s=s.concat(a.slice(1));let h=s.pop();if(!h)break;e=h}else{s.push(e);break}let u=i.getTimezoneOffset();r&&(u=UD(r,u),i=PV(i,r,!0));let l="";return s.forEach(h=>{let p=MV(h);l+=p?p(i,n,u):h==="''"?"'":h.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function Fd(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function Sr(t,e){let n=pV(t);if(xd[n]??={},xd[n][e])return xd[n][e];let r="";switch(e){case"shortDate":r=Sd(t,on.Short);break;case"mediumDate":r=Sd(t,on.Medium);break;case"longDate":r=Sd(t,on.Long);break;case"fullDate":r=Sd(t,on.Full);break;case"shortTime":r=Ad(t,on.Short);break;case"mediumTime":r=Ad(t,on.Medium);break;case"longTime":r=Ad(t,on.Long);break;case"fullTime":r=Ad(t,on.Full);break;case"short":let i=Sr(t,"shortTime"),o=Sr(t,"shortDate");r=Pd(Md(t,on.Short),[i,o]);break;case"medium":let s=Sr(t,"mediumTime"),a=Sr(t,"mediumDate");r=Pd(Md(t,on.Medium),[s,a]);break;case"long":let u=Sr(t,"longTime"),l=Sr(t,"longDate");r=Pd(Md(t,on.Long),[u,l]);break;case"full":let h=Sr(t,"fullTime"),p=Sr(t,"fullDate");r=Pd(Md(t,on.Full),[h,p]);break}return r&&(xd[n][e]=r),r}function Pd(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function An(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function bV(t,e){return An(t,3).substring(0,e)}function st(t,e,n=0,r=!1,i=!1){return function(o,s){let a=DV(t,o);if((n>0||a>-n)&&(a+=n),t===xe.Hours)a===0&&n===-12&&(a=12);else if(t===xe.FractionalSeconds)return bV(a,e);let u=Vd(s,_i.MinusSign);return An(a,e,u,r,i)}}function DV(t,e){switch(t){case xe.FullYear:return e.getFullYear();case xe.Month:return e.getMonth();case xe.Date:return e.getDate();case xe.Hours:return e.getHours();case xe.Minutes:return e.getMinutes();case xe.Seconds:return e.getSeconds();case xe.FractionalSeconds:return e.getMilliseconds();case xe.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function je(t,e,n=qt.Format,r=!1){return function(i,o){return TV(i,o,t,e,n,r)}}function TV(t,e,n,r,i,o){switch(n){case Me.Months:return yV(e,i,r)[t.getMonth()];case Me.Days:return mV(e,i,r)[t.getDay()];case Me.DayPeriods:let s=t.getHours(),a=t.getMinutes();if(o){let l=_V(e),h=wV(e,i,r),p=l.findIndex(m=>{if(Array.isArray(m)){let[y,T]=m,R=s>=y.hours&&a>=y.minutes,x=s<T.hours||s===T.hours&&a<T.minutes;if(y.hours<T.hours){if(R&&x)return!0}else if(R||x)return!0}else if(m.hours===s&&m.minutes===a)return!0;return!1});if(p!==-1)return h[p]}return gV(e,i,r)[s<12?0:1];case Me.Eras:return vV(e,r)[t.getFullYear()<=0?0:1];default:let u=n;throw new Error(`unexpected translation type ${u}`)}}function Rd(t){return function(e,n,r){let i=-1*r,o=Vd(n,_i.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case Mr.Short:return(i>=0?"+":"")+An(s,2,o)+An(Math.abs(i%60),2,o);case Mr.ShortGMT:return"GMT"+(i>=0?"+":"")+An(s,1,o);case Mr.Long:return"GMT"+(i>=0?"+":"")+An(s,2,o)+":"+An(Math.abs(i%60),2,o);case Mr.Extended:return r===0?"Z":(i>=0?"+":"")+An(s,2,o)+":"+An(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}var SV=0,Od=4;function AV(t){let e=Fd(t,SV,1).getDay();return Fd(t,0,1+(e<=Od?Od:Od+7)-e)}function jD(t){let e=t.getDay(),n=e===0?-3:Od-e;return Fd(t.getFullYear(),t.getMonth(),t.getDate()+n)}function zm(t,e=!1){return function(n,r){let i;if(e){let o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();i=1+Math.floor((s+o)/7)}else{let o=jD(n),s=AV(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return An(i,t,Vd(r,_i.MinusSign))}}function Nd(t,e=!1){return function(n,r){let o=jD(n).getFullYear();return An(o,t,Vd(r,_i.MinusSign),e)}}var qm={};function MV(t){if(qm[t])return qm[t];let e;switch(t){case"G":case"GG":case"GGG":e=je(Me.Eras,Le.Abbreviated);break;case"GGGG":e=je(Me.Eras,Le.Wide);break;case"GGGGG":e=je(Me.Eras,Le.Narrow);break;case"y":e=st(xe.FullYear,1,0,!1,!0);break;case"yy":e=st(xe.FullYear,2,0,!0,!0);break;case"yyy":e=st(xe.FullYear,3,0,!1,!0);break;case"yyyy":e=st(xe.FullYear,4,0,!1,!0);break;case"Y":e=Nd(1);break;case"YY":e=Nd(2,!0);break;case"YYY":e=Nd(3);break;case"YYYY":e=Nd(4);break;case"M":case"L":e=st(xe.Month,1,1);break;case"MM":case"LL":e=st(xe.Month,2,1);break;case"MMM":e=je(Me.Months,Le.Abbreviated);break;case"MMMM":e=je(Me.Months,Le.Wide);break;case"MMMMM":e=je(Me.Months,Le.Narrow);break;case"LLL":e=je(Me.Months,Le.Abbreviated,qt.Standalone);break;case"LLLL":e=je(Me.Months,Le.Wide,qt.Standalone);break;case"LLLLL":e=je(Me.Months,Le.Narrow,qt.Standalone);break;case"w":e=zm(1);break;case"ww":e=zm(2);break;case"W":e=zm(1,!0);break;case"d":e=st(xe.Date,1);break;case"dd":e=st(xe.Date,2);break;case"c":case"cc":e=st(xe.Day,1);break;case"ccc":e=je(Me.Days,Le.Abbreviated,qt.Standalone);break;case"cccc":e=je(Me.Days,Le.Wide,qt.Standalone);break;case"ccccc":e=je(Me.Days,Le.Narrow,qt.Standalone);break;case"cccccc":e=je(Me.Days,Le.Short,qt.Standalone);break;case"E":case"EE":case"EEE":e=je(Me.Days,Le.Abbreviated);break;case"EEEE":e=je(Me.Days,Le.Wide);break;case"EEEEE":e=je(Me.Days,Le.Narrow);break;case"EEEEEE":e=je(Me.Days,Le.Short);break;case"a":case"aa":case"aaa":e=je(Me.DayPeriods,Le.Abbreviated);break;case"aaaa":e=je(Me.DayPeriods,Le.Wide);break;case"aaaaa":e=je(Me.DayPeriods,Le.Narrow);break;case"b":case"bb":case"bbb":e=je(Me.DayPeriods,Le.Abbreviated,qt.Standalone,!0);break;case"bbbb":e=je(Me.DayPeriods,Le.Wide,qt.Standalone,!0);break;case"bbbbb":e=je(Me.DayPeriods,Le.Narrow,qt.Standalone,!0);break;case"B":case"BB":case"BBB":e=je(Me.DayPeriods,Le.Abbreviated,qt.Format,!0);break;case"BBBB":e=je(Me.DayPeriods,Le.Wide,qt.Format,!0);break;case"BBBBB":e=je(Me.DayPeriods,Le.Narrow,qt.Format,!0);break;case"h":e=st(xe.Hours,1,-12);break;case"hh":e=st(xe.Hours,2,-12);break;case"H":e=st(xe.Hours,1);break;case"HH":e=st(xe.Hours,2);break;case"m":e=st(xe.Minutes,1);break;case"mm":e=st(xe.Minutes,2);break;case"s":e=st(xe.Seconds,1);break;case"ss":e=st(xe.Seconds,2);break;case"S":e=st(xe.FractionalSeconds,1);break;case"SS":e=st(xe.FractionalSeconds,2);break;case"SSS":e=st(xe.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Rd(Mr.Short);break;case"ZZZZZ":e=Rd(Mr.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Rd(Mr.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Rd(Mr.Long);break;default:return null}return qm[t]=e,e}function UD(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function xV(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function PV(t,e,n){let r=n?-1:1,i=t.getTimezoneOffset(),o=UD(e,i);return xV(t,r*(o-i))}function RV(t){if(MD(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,o=1,s=1]=t.split("-").map(a=>+a);return Fd(i,o-1,s)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(EV))return NV(r)}let e=new Date(t);if(!MD(e))throw new Error(`Unable to convert "${t}" into a date`);return e}function NV(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,u=Number(t[6]||0),l=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return o.call(e,s,a,u,l),e}function MD(t){return t instanceof Date&&!isNaN(t.valueOf())}function Ld(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Gm=/\s+/,xD=[],BD=(()=>{let e=class e{constructor(r,i){this._ngEl=r,this._renderer=i,this.initialClasses=xD,this.stateMap=new Map}set klass(r){this.initialClasses=r!=null?r.trim().split(Gm):xD}set ngClass(r){this.rawClass=typeof r=="string"?r.trim().split(Gm):r}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(let i of r)this._updateState(i,!0);else if(r!=null)for(let i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){let o=this.stateMap.get(r);o!==void 0?(o.enabled!==i&&(o.changed=!0,o.enabled=i),o.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let r of this.stateMap){let i=r[0],o=r[1];o.changed?(this._toggleClass(i,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),o.touched=!1}}_toggleClass(r,i){r=r.trim(),r.length>0&&r.split(Gm).forEach(o=>{i?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}};e.\u0275fac=function(i){return new(i||e)(B(Ht),B(Sn))},e.\u0275dir=Be({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var Wm=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},wi=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,o){this._viewContainer=r,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((o,s,a)=>{if(o.previousIndex==null)i.createEmbeddedView(this._template,new Wm(o.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(s===null?void 0:s);else if(s!==null){let u=i.get(s);i.move(u,a),PD(u,o)}});for(let o=0,s=i.length;o<s;o++){let u=i.get(o).context;u.index=o,u.count=s,u.ngForOf=this._ngForOf}r.forEachIdentityChange(o=>{let s=i.get(o.currentIndex);PD(s,o)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(B(gi),B(uo),B(Bm))},e.\u0275dir=Be({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function PD(t,e){t.context.$implicit=e.item}var Ei=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new Km,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){RD("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){RD("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(B(gi),B(uo))},e.\u0275dir=Be({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),Km=class{constructor(){this.$implicit=null,this.ngIf=null}};function RD(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${$t(e)}'.`)}function $D(t,e){return new G(2100,!1)}var OV="mediumDate",kV=new $(""),FV=new $(""),HD=(()=>{let e=class e{constructor(r,i,o){this.locale=r,this.defaultTimezone=i,this.defaultOptions=o}transform(r,i,o,s){if(r==null||r===""||r!==r)return null;try{let a=i??this.defaultOptions?.dateFormat??OV,u=o??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return CV(r,a,s||this.locale,u)}catch(a){throw $D(e,a.message)}}};e.\u0275fac=function(i){return new(i||e)(B(Td,16),B(kV,24),B(FV,24))},e.\u0275pipe=nm({name:"date",type:e,pure:!0,standalone:!0});let t=e;return t})();var zD=(()=>{let e=class e{transform(r,i,o){if(r==null)return null;if(!this.supports(r))throw $D(e,r);return r.slice(i,o)}supports(r){return typeof r=="string"||Array.isArray(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275pipe=nm({name:"slice",type:e,pure:!1,standalone:!0});let t=e;return t})();var bt=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Gn({type:e}),e.\u0275inj=qn({});let t=e;return t})(),ey="browser",VV="server";function ty(t){return t===ey}function Ds(t){return t===VV}var qD=(()=>{let e=class e{};e.\u0275prov=H({token:e,providedIn:"root",factory:()=>ty(k(Ct))?new Qm(k(Nt),window):new Ym});let t=e;return t})(),Qm=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=LV(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function LV(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var Ym=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Cs=class{};var lc=class{},Ud=class{},Rr=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=i.toLowerCase(),s=n.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var ry=class{encodeKey(e){return GD(e)}encodeValue(e){return GD(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function jV(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],u=n.get(s)||[];u.push(a),n.set(s,u)}),n}var UV=/%(\d[a-f0-9])/gi,BV={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function GD(t){return encodeURIComponent(t).replace(UV,(e,n)=>BV[n]??e)}function jd(t){return`${t}`}var Ci=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new ry,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=jV(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(jd):[jd(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(jd(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(jd(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var iy=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function $V(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function WD(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function KD(t){return typeof Blob<"u"&&t instanceof Blob}function QD(t){return typeof FormData<"u"&&t instanceof FormData}function HV(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var uc=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if($V(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Rr,this.context??=new iy,!this.params)this.params=new Ci,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),u=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+u+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||WD(this.body)||KD(this.body)||QD(this.body)||HV(this.body)?this.body:this.body instanceof Ci?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||QD(this.body)?null:KD(this.body)?this.body.type||null:WD(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Ci?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,u=e.reportProgress??this.reportProgress,l=e.headers||this.headers,h=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((m,y)=>m.set(y,e.setHeaders[y]),l)),e.setParams&&(h=Object.keys(e.setParams).reduce((m,y)=>m.set(y,e.setParams[y]),h)),new t(n,r,s,{params:h,headers:l,context:p,reportProgress:u,responseType:i,withCredentials:a,transferCache:o})}},bi=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(bi||{}),dc=class{constructor(e,n=200,r="OK"){this.headers=e.headers||new Rr,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Bd=class t extends dc{constructor(e={}){super(e),this.type=bi.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},hc=class t extends dc{constructor(e={}){super(e),this.type=bi.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Ii=class extends dc{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},eT=200,zV=204;function ny(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var qV=(()=>{let e=class e{constructor(r){this.handler=r}request(r,i,o={}){let s;if(r instanceof uc)s=r;else{let l;o.headers instanceof Rr?l=o.headers:l=new Rr(o.headers);let h;o.params&&(o.params instanceof Ci?h=o.params:h=new Ci({fromObject:o.params})),s=new uc(r,i,o.body!==void 0?o.body:null,{headers:l,context:o.context,params:h,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let a=J(s).pipe(pr(l=>this.handler.handle(l)));if(r instanceof uc||o.observe==="events")return a;let u=a.pipe(Ut(l=>l instanceof hc));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return u.pipe(X(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return u.pipe(X(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return u.pipe(X(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return u.pipe(X(l=>l.body))}case"response":return u;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:new Ci().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,o={}){return this.request("PATCH",r,ny(o,i))}post(r,i,o={}){return this.request("POST",r,ny(o,i))}put(r,i,o={}){return this.request("PUT",r,ny(o,i))}};e.\u0275fac=function(i){return new(i||e)(W(lc))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})(),GV=/^\)\]\}',?\n/,WV="X-Request-URL";function YD(t){if(t.url)return t.url;let e=WV.toLocaleLowerCase();return t.headers.get(e)}var KV=(()=>{let e=class e{constructor(){this.fetchImpl=k(oy,{optional:!0})?.fetch??fetch.bind(globalThis),this.ngZone=k(be)}handle(r){return new de(i=>{let o=new AbortController;return this.doRequest(r,o.signal,i).then(sy,s=>i.error(new Ii({error:s}))),()=>o.abort()})}doRequest(r,i,o){return E(this,null,function*(){let s=this.createRequestInit(r),a;try{let T=this.fetchImpl(r.urlWithParams,j({signal:i},s));QV(T),o.next({type:bi.Sent}),a=yield T}catch(T){o.error(new Ii({error:T,status:T.status??0,statusText:T.statusText,url:r.urlWithParams,headers:T.headers}));return}let u=new Rr(a.headers),l=a.statusText,h=YD(a)??r.urlWithParams,p=a.status,m=null;if(r.reportProgress&&o.next(new Bd({headers:u,status:p,statusText:l,url:h})),a.body){let T=a.headers.get("content-length"),R=[],x=a.body.getReader(),F=0,K,q,Y=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>E(this,null,function*(){for(;;){let{done:te,value:I}=yield x.read();if(te)break;if(R.push(I),F+=I.length,r.reportProgress){q=r.responseType==="text"?(q??"")+(K??=new TextDecoder).decode(I,{stream:!0}):void 0;let v=()=>o.next({type:bi.DownloadProgress,total:T?+T:void 0,loaded:F,partialText:q});Y?Y.run(v):v()}}}));let Ne=this.concatChunks(R,F);try{let te=a.headers.get("Content-Type")??"";m=this.parseBody(r,Ne,te)}catch(te){o.error(new Ii({error:te,headers:new Rr(a.headers),status:a.status,statusText:a.statusText,url:YD(a)??r.urlWithParams}));return}}p===0&&(p=m?eT:0),p>=200&&p<300?(o.next(new hc({body:m,headers:u,status:p,statusText:l,url:h})),o.complete()):o.error(new Ii({error:m,headers:u,status:p,statusText:l,url:h}))})}parseBody(r,i,o){switch(r.responseType){case"json":let s=new TextDecoder().decode(i).replace(GV,"");return s===""?null:JSON.parse(s);case"text":return new TextDecoder().decode(i);case"blob":return new Blob([i],{type:o});case"arraybuffer":return i.buffer}}createRequestInit(r){let i={},o=r.withCredentials?"include":void 0;if(r.headers.forEach((s,a)=>i[s]=a.join(",")),i.Accept??="application/json, text/plain, */*",!i["Content-Type"]){let s=r.detectContentTypeHeader();s!==null&&(i["Content-Type"]=s)}return{body:r.serializeBody(),method:r.method,headers:i,credentials:o}}concatChunks(r,i){let o=new Uint8Array(i),s=0;for(let a of r)o.set(a,s),s+=a.length;return o}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})(),oy=class{};function sy(){}function QV(t){t.then(sy,sy)}function tT(t,e){return e(t)}function YV(t,e){return(n,r)=>e.intercept(n,{handle:i=>t(i,r)})}function JV(t,e,n){return(r,i)=>rn(n,()=>e(r,o=>t(o,i)))}var ZV=new $(""),ay=new $(""),XV=new $(""),nT=new $("",{providedIn:"root",factory:()=>!0});function eL(){let t=null;return(e,n)=>{t===null&&(t=(k(ZV,{optional:!0})??[]).reduceRight(YV,tT));let r=k(Dr);if(k(nT)){let o=r.add();return t(e,n).pipe(si(()=>r.remove(o)))}else return t(e,n)}}var JD=(()=>{let e=class e extends lc{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=k(Dr),this.contributeToStability=k(nT)}handle(r){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(ay),...this.injector.get(XV,[])]));this.chain=i.reduceRight((o,s)=>JV(o,s,this.injector),tT)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(r,o=>this.backend.handle(o)).pipe(si(()=>this.pendingTasks.remove(i)))}else return this.chain(r,i=>this.backend.handle(i))}};e.\u0275fac=function(i){return new(i||e)(W(Ud),W(xt))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})();var tL=/^\)\]\}',?\n/;function nL(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var ZD=(()=>{let e=class e{constructor(r){this.xhrFactory=r}handle(r){if(r.method==="JSONP")throw new G(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?ke(i.\u0275loadImpl()):J(null)).pipe(Kt(()=>new de(s=>{let a=i.build();if(a.open(r.method,r.urlWithParams),r.withCredentials&&(a.withCredentials=!0),r.headers.forEach((x,F)=>a.setRequestHeader(x,F.join(","))),r.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){let x=r.detectContentTypeHeader();x!==null&&a.setRequestHeader("Content-Type",x)}if(r.responseType){let x=r.responseType.toLowerCase();a.responseType=x!=="json"?x:"text"}let u=r.serializeBody(),l=null,h=()=>{if(l!==null)return l;let x=a.statusText||"OK",F=new Rr(a.getAllResponseHeaders()),K=nL(a)||r.url;return l=new Bd({headers:F,status:a.status,statusText:x,url:K}),l},p=()=>{let{headers:x,status:F,statusText:K,url:q}=h(),Y=null;F!==zV&&(Y=typeof a.response>"u"?a.responseText:a.response),F===0&&(F=Y?eT:0);let Ne=F>=200&&F<300;if(r.responseType==="json"&&typeof Y=="string"){let te=Y;Y=Y.replace(tL,"");try{Y=Y!==""?JSON.parse(Y):null}catch(I){Y=te,Ne&&(Ne=!1,Y={error:I,text:Y})}}Ne?(s.next(new hc({body:Y,headers:x,status:F,statusText:K,url:q||void 0})),s.complete()):s.error(new Ii({error:Y,headers:x,status:F,statusText:K,url:q||void 0}))},m=x=>{let{url:F}=h(),K=new Ii({error:x,status:a.status||0,statusText:a.statusText||"Unknown Error",url:F||void 0});s.error(K)},y=!1,T=x=>{y||(s.next(h()),y=!0);let F={type:bi.DownloadProgress,loaded:x.loaded};x.lengthComputable&&(F.total=x.total),r.responseType==="text"&&a.responseText&&(F.partialText=a.responseText),s.next(F)},R=x=>{let F={type:bi.UploadProgress,loaded:x.loaded};x.lengthComputable&&(F.total=x.total),s.next(F)};return a.addEventListener("load",p),a.addEventListener("error",m),a.addEventListener("timeout",m),a.addEventListener("abort",m),r.reportProgress&&(a.addEventListener("progress",T),u!==null&&a.upload&&a.upload.addEventListener("progress",R)),a.send(u),s.next({type:bi.Sent}),()=>{a.removeEventListener("error",m),a.removeEventListener("abort",m),a.removeEventListener("load",p),a.removeEventListener("timeout",m),r.reportProgress&&(a.removeEventListener("progress",T),u!==null&&a.upload&&a.upload.removeEventListener("progress",R)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(i){return new(i||e)(W(Cs))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})(),rT=new $(""),rL="XSRF-TOKEN",iL=new $("",{providedIn:"root",factory:()=>rL}),oL="X-XSRF-TOKEN",sL=new $("",{providedIn:"root",factory:()=>oL}),$d=class{},aL=(()=>{let e=class e{constructor(r,i,o){this.doc=r,this.platform=i,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ld(r,this.cookieName),this.lastCookieString=r),this.lastToken}};e.\u0275fac=function(i){return new(i||e)(W(Nt),W(Ct),W(iL))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})();function cL(t,e){let n=t.url.toLowerCase();if(!k(rT)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=k($d).getToken(),i=k(sL);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var iT=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(iT||{});function uL(t,e){return{\u0275kind:t,\u0275providers:e}}function cy(...t){let e=[qV,ZD,JD,{provide:lc,useExisting:JD},{provide:Ud,useFactory:()=>k(KV,{optional:!0})??k(ZD)},{provide:ay,useValue:cL,multi:!0},{provide:rT,useValue:!0},{provide:$d,useClass:aL}];for(let n of t)e.push(...n.\u0275providers);return nn(e)}var XD=new $("");function lL(){return uL(iT.LegacyInterceptors,[{provide:XD,useFactory:eL},{provide:ay,useExisting:XD,multi:!0}])}var oT=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Gn({type:e}),e.\u0275inj=qn({providers:[cy(lL())]});let t=e;return t})();var dy=class extends kd{constructor(){super(...arguments),this.supportsDOMEvents=!0}},hy=class t extends dy{static makeCurrent(){OD(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=dL();return n==null?null:hL(n)}resetBaseElement(){fc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Ld(document.cookie,e)}},fc=null;function dL(){return fc=fc||document.querySelector("base"),fc?fc.getAttribute("href"):null}function hL(t){return new URL(t,document.baseURI).pathname}var fL=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})(),fy=new $(""),uT=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new G(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(W(fy),W(be))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})(),Hd=class{constructor(e){this._doc=e}},uy="ng-app-id",lT=(()=>{let e=class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Ds(s),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(o=>o.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${uy}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(o=>{o.textContent!=null&&i.set(o.textContent,o)}),i}return null}changeUsageCount(r,i){let o=this.styleRef;if(o.has(r)){let s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===r)return o.delete(i),s.removeAttribute(uy),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(uy,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let o=this.getStyleElement(r,i),s=this.styleRef,a=s.get(i)?.elements;a?a.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(W(Nt),W(vm),W(wm,8),W(Ct))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})(),ly={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},gy=/%COMP%/g,dT="%COMP%",pL=`_nghost-${dT}`,gL=`_ngcontent-${dT}`,mL=!0,yL=new $("",{providedIn:"root",factory:()=>mL});function vL(t){return gL.replace(gy,t)}function _L(t){return pL.replace(gy,t)}function hT(t,e){return e.map(n=>n.replace(gy,t))}var sT=(()=>{let e=class e{constructor(r,i,o,s,a,u,l,h=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=u,this.ngZone=l,this.nonce=h,this.rendererByCompId=new Map,this.platformIsServer=Ds(u),this.defaultRenderer=new pc(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===jn.ShadowDom&&(i=Ee(j({},i),{encapsulation:jn.Emulated}));let o=this.getOrCreateRenderer(r,i);return o instanceof zd?o.applyToHost(r):o instanceof gc&&o.applyStyles(),o}getOrCreateRenderer(r,i){let o=this.rendererByCompId,s=o.get(i.id);if(!s){let a=this.doc,u=this.ngZone,l=this.eventManager,h=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(i.encapsulation){case jn.Emulated:s=new zd(l,h,i,this.appId,p,a,u,m);break;case jn.ShadowDom:return new py(l,h,r,i,a,u,this.nonce,m);default:s=new gc(l,h,i,p,a,u,m);break}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(W(uT),W(lT),W(vm),W(yL),W(Nt),W(Ct),W(be),W(wm))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})(),pc=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(ly[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(aT(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(aT(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new G(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=ly[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=ly[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(vr.DashCase|vr.Important)?e.style.setProperty(n,r,i&vr.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&vr.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=xr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function aT(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var py=class extends pc{constructor(e,n,r,i,o,s,a,u){super(e,o,s,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=hT(i.id,i.styles);for(let h of l){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},gc=class extends pc{constructor(e,n,r,i,o,s,a,u){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?hT(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},zd=class extends gc{constructor(e,n,r,i,o,s,a,u){let l=i+"-"+r.id;super(e,n,r,o,s,a,u,l),this.contentAttr=vL(l),this.hostAttr=_L(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},wL=(()=>{let e=class e extends Hd{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}};e.\u0275fac=function(i){return new(i||e)(W(Nt))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})(),cT=["alt","control","meta","shift"],EL={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},IL={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},CL=(()=>{let e=class e extends Hd{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,o){let s=e.parseEventName(i),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>xr().onAndCancel(r,s.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(i.pop()),a="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),a="code."),cT.forEach(h=>{let p=i.indexOf(h);p>-1&&(i.splice(p,1),a+=h+".")}),a+=s,i.length!=0||s.length===0)return null;let l={};return l.domEventName=o,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let o=EL[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),cT.forEach(a=>{if(a!==o){let u=IL[a];u(r)&&(s+=a+".")}}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(W(Nt))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})();function fT(t,e){return DD(j({rootComponent:t},bL(e)))}function bL(t){return{appProviders:[...ML,...t?.providers??[]],platformProviders:AL}}function DL(){hy.makeCurrent()}function TL(){return new Hn}function SL(){return gb(document),document}var AL=[{provide:Ct,useValue:ey},{provide:_m,useValue:DL,multi:!0},{provide:Nt,useFactory:SL,deps:[]}];var ML=[{provide:id,useValue:"root"},{provide:Hn,useFactory:TL,deps:[]},{provide:fy,useClass:wL,multi:!0,deps:[Nt,be,Ct]},{provide:fy,useClass:CL,multi:!0,deps:[Nt]},sT,lT,uT,{provide:vs,useExisting:sT},{provide:Cs,useClass:fL,deps:[]},[]];var pT=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(W(Nt))},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var pe="primary",Pc=Symbol("RouteTitle"),wy=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Ps(t){return new wy(t)}function PL(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function RL(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Yn(t[n],e[n]))return!1;return!0}function Yn(t,e){let n=t?Ey(t):void 0,r=e?Ey(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!DT(t[i],e[i]))return!1;return!0}function Ey(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function DT(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function TT(t){return t.length>0?t[t.length-1]:null}function Si(t){return Vp(t)?t:po(t)?ke(Promise.resolve(t)):J(t)}var NL={exact:AT,subset:MT},ST={exact:OL,subset:kL,ignored:()=>!0};function gT(t,e,n){return NL[n.paths](t.root,e.root,n.matrixParams)&&ST[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function OL(t,e){return Yn(t,e)}function AT(t,e,n){if(!vo(t.segments,e.segments)||!Wd(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!AT(t.children[r],e.children[r],n))return!1;return!0}function kL(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>DT(t[n],e[n]))}function MT(t,e,n){return xT(t,e,e.segments,n)}function xT(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!vo(i,n)||e.hasChildren()||!Wd(i,n,r))}else if(t.segments.length===n.length){if(!vo(t.segments,n)||!Wd(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!MT(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!vo(t.segments,i)||!Wd(t.segments,i,r)||!t.children[pe]?!1:xT(t.children[pe],e,o,r)}}function Wd(t,e,n){return e.every((r,i)=>ST[n](t[i].parameters,r.parameters))}var Di=class{constructor(e=new Pe([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ps(this.queryParams),this._queryParamMap}toString(){return LL.serialize(this)}},Pe=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Kd(this)}},yo=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Ps(this.parameters),this._parameterMap}toString(){return RT(this)}};function FL(t,e){return vo(t,e)&&t.every((n,r)=>Yn(n.parameters,e[r].parameters))}function vo(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function VL(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===pe&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==pe&&(n=n.concat(e(i,r)))}),n}var Rc=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:()=>new Rs,providedIn:"root"});let t=e;return t})(),Rs=class{parse(e){let n=new Cy(e);return new Di(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${mc(e.root,!0)}`,r=BL(e.queryParams),i=typeof e.fragment=="string"?`#${jL(e.fragment)}`:"";return`${n}${r}${i}`}},LL=new Rs;function Kd(t){return t.segments.map(e=>RT(e)).join("/")}function mc(t,e){if(!t.hasChildren())return Kd(t);if(e){let n=t.children[pe]?mc(t.children[pe],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==pe&&r.push(`${i}:${mc(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=VL(t,(r,i)=>i===pe?[mc(t.children[pe],!1)]:[`${i}:${mc(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[pe]!=null?`${Kd(t)}/${n[0]}`:`${Kd(t)}/(${n.join("//")})`}}function PT(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function qd(t){return PT(t).replace(/%3B/gi,";")}function jL(t){return encodeURI(t)}function Iy(t){return PT(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Qd(t){return decodeURIComponent(t)}function mT(t){return Qd(t.replace(/\+/g,"%20"))}function RT(t){return`${Iy(t.path)}${UL(t.parameters)}`}function UL(t){return Object.entries(t).map(([e,n])=>`;${Iy(e)}=${Iy(n)}`).join("")}function BL(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${qd(n)}=${qd(i)}`).join("&"):`${qd(n)}=${qd(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var $L=/^[^\/()?;#]+/;function my(t){let e=t.match($L);return e?e[0]:""}var HL=/^[^\/()?;=#]+/;function zL(t){let e=t.match(HL);return e?e[0]:""}var qL=/^[^=?&#]+/;function GL(t){let e=t.match(qL);return e?e[0]:""}var WL=/^[^&#]+/;function KL(t){let e=t.match(WL);return e?e[0]:""}var Cy=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Pe([],{}):new Pe([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[pe]=new Pe(e,n)),r}parseSegment(){let e=my(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new G(4009,!1);return this.capture(e),new yo(Qd(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=zL(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=my(this.remaining);i&&(r=i,this.capture(r))}e[Qd(n)]=Qd(r)}parseQueryParam(e){let n=GL(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=KL(this.remaining);s&&(r=s,this.capture(r))}let i=mT(n),o=mT(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=my(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new G(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=pe);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[pe]:new Pe([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new G(4011,!1)}};function NT(t){return t.segments.length>0?new Pe([],{[pe]:t}):t}function OT(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=OT(i);if(r===pe&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new Pe(t.segments,e);return QL(n)}function QL(t){if(t.numberOfChildren===1&&t.children[pe]){let e=t.children[pe];return new Pe(t.segments.concat(e.segments),e.children)}return t}function Ic(t){return t instanceof Di}function YL(t,e,n=null,r=null){let i=kT(t);return FT(i,e,n,r)}function kT(t){let e;function n(o){let s={};for(let u of o.children){let l=n(u);s[u.outlet]=l}let a=new Pe(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=NT(r);return e??i}function FT(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return yy(i,i,i,n,r);let o=JL(e);if(o.toRoot())return yy(i,i,new Pe([],{}),n,r);let s=ZL(o,i,t),a=s.processChildren?_c(s.segmentGroup,s.index,o.commands):LT(s.segmentGroup,s.index,o.commands);return yy(i,s.segmentGroup,a,n,r)}function Yd(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Cc(t){return typeof t=="object"&&t!=null&&t.outlets}function yy(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;t===e?s=n:s=VT(t,e,n);let a=NT(OT(s));return new Di(a,o,i)}function VT(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=VT(o,e,n)}),new Pe(t.segments,r)}var Jd=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Yd(r[0]))throw new G(4003,!1);let i=r.find(Cc);if(i&&i!==TT(r))throw new G(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function JL(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Jd(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Jd(n,e,r)}var As=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function ZL(t,e,n){if(t.isAbsolute)return new As(e,!0,0);if(!n)return new As(e,!1,NaN);if(n.parent===null)return new As(n,!0,0);let r=Yd(t.commands[0])?0:1,i=n.segments.length-1+r;return XL(n,i,t.numberOfDoubleDots)}function XL(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new G(4005,!1);i=r.segments.length}return new As(r,!1,i-o)}function e4(t){return Cc(t[0])?t[0].outlets:{[pe]:t}}function LT(t,e,n){if(t??=new Pe([],{}),t.segments.length===0&&t.hasChildren())return _c(t,e,n);let r=t4(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new Pe(t.segments.slice(0,r.pathIndex),{});return o.children[pe]=new Pe(t.segments.slice(r.pathIndex),t.children),_c(o,0,i)}else return r.match&&i.length===0?new Pe(t.segments,{}):r.match&&!t.hasChildren()?by(t,e,n):r.match?_c(t,0,i):by(t,e,n)}function _c(t,e,n){if(n.length===0)return new Pe(t.segments,{});{let r=e4(n),i={};if(Object.keys(r).some(o=>o!==pe)&&t.children[pe]&&t.numberOfChildren===1&&t.children[pe].segments.length===0){let o=_c(t.children[pe],e,n);return new Pe(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=LT(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Pe(t.segments,i)}}function t4(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(Cc(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!vT(u,l,s))return o;r+=2}else{if(!vT(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function by(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(Cc(o)){let u=n4(o.outlets);return new Pe(r,u)}if(i===0&&Yd(n[0])){let u=t.segments[e];r.push(new yo(u.path,yT(n[0]))),i++;continue}let s=Cc(o)?o.outlets[pe]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Yd(a)?(r.push(new yo(s,yT(a))),i+=2):(r.push(new yo(s,{})),i++)}return new Pe(r,{})}function n4(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=by(new Pe([],{}),0,r))}),e}function yT(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function vT(t,e,n){return t==n.path&&Yn(e,n.parameters)}var wc="imperative",_t=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(_t||{}),vn=class{constructor(e,n){this.id=e,this.url=n}},Ns=class extends vn{constructor(e,n,r="imperative",i=null){super(e,n),this.type=_t.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},xn=class extends vn{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=_t.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},an=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(an||{}),Zd=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Zd||{}),Nr=class extends vn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=_t.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Ti=class extends vn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=_t.NavigationSkipped}},bc=class extends vn{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=_t.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Xd=class extends vn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=_t.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Dy=class extends vn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=_t.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ty=class extends vn{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=_t.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Sy=class extends vn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=_t.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ay=class extends vn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=_t.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},My=class{constructor(e){this.route=e,this.type=_t.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},xy=class{constructor(e){this.route=e,this.type=_t.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Py=class{constructor(e){this.snapshot=e,this.type=_t.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ry=class{constructor(e){this.snapshot=e,this.type=_t.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ny=class{constructor(e){this.snapshot=e,this.type=_t.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Oy=class{constructor(e){this.snapshot=e,this.type=_t.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},eh=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=_t.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Dc=class{},Os=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};var ky=class{constructor(e){this.injector=e,this.outlet=null,this.route=null,this.children=new Nc(this.injector),this.attachRef=null}},Nc=(()=>{let e=class e{constructor(r){this.parentInjector=r,this.contexts=new Map}onChildOutletCreated(r,i){let o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new ky(this.parentInjector),this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)(W(xt))},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),th=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Fy(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Fy(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Vy(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Vy(e,this._root).map(n=>n.value)}};function Fy(t,e){if(t===e.value)return e;for(let n of e.children){let r=Fy(t,n);if(r)return r}return null}function Vy(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Vy(t,n);if(r.length)return r.unshift(e),r}return[]}var sn=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Ss(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var nh=class extends th{constructor(e,n){super(e),this.snapshot=n,Gy(this,e)}toString(){return this.snapshot.toString()}};function jT(t){let e=r4(t),n=new ut([new yo("",{})]),r=new ut({}),i=new ut({}),o=new ut({}),s=new ut(""),a=new Jn(n,r,o,s,i,pe,t,e.root);return a.snapshot=e.root,new nh(new sn(a,[]),e)}function r4(t){let e={},n={},r={},i="",o=new Ms([],e,r,i,n,pe,t,null,{});return new ih("",new sn(o,[]))}var Jn=class{constructor(e,n,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(X(l=>l[Pc]))??J(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(X(e=>Ps(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(X(e=>Ps(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function rh(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:j(j({},e.params),t.params),data:j(j({},e.data),t.data),resolve:j(j(j(j({},t.data),e.data),i?.data),t._resolvedData)}:r={params:j({},t.params),data:j({},t.data),resolve:j(j({},t.data),t._resolvedData??{})},i&&BT(i)&&(r.resolve[Pc]=i.title),r}var Ms=class{get title(){return this.data?.[Pc]}constructor(e,n,r,i,o,s,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ps(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ps(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},ih=class extends th{constructor(e,n){super(n),this.url=e,Gy(this,n)}toString(){return UT(this._root)}};function Gy(t,e){e.value._routerState=t,e.children.forEach(n=>Gy(t,n))}function UT(t){let e=t.children.length>0?` { ${t.children.map(UT).join(", ")} } `:"";return`${t.value}${e}`}function vy(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Yn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Yn(e.params,n.params)||t.paramsSubject.next(n.params),RL(e.url,n.url)||t.urlSubject.next(n.url),Yn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Ly(t,e){let n=Yn(t.params,e.params)&&FL(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Ly(t.parent,e.parent))}function BT(t){return typeof t.title=="string"||t.title===null}var Wy=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=pe,this.activateEvents=new Qe,this.deactivateEvents=new Qe,this.attachEvents=new Qe,this.detachEvents=new Qe,this.parentContexts=k(Nc),this.location=k(gi),this.changeDetector=k(yi),this.inputBinder=k(ch,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new G(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new G(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new G(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new G(4013,!1);this._activatedRoute=r;let o=this.location,a=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,l=new jy(r,u,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Be({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Cr]});let t=e;return t})(),jy=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Jn?this.route:e===Nc?this.childContexts:this.parent.get(e,n)}},ch=new $(""),_T=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:i}=r,o=Wa([i.queryParams,i.params,i.data]).pipe(Kt(([s,a,u],l)=>(u=j(j(j({},s),a),u),l===0?J(u):Promise.resolve(u)))).subscribe(s=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(r);return}let a=TD(i.component);if(!a){this.unsubscribeFromRouteData(r);return}for(let{templateName:u}of a.inputs)r.activatedComponentRef.setInput(u,s[u])});this.outletDataSubscriptions.set(r,o)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})();function i4(t,e,n){let r=Tc(t,e._root,n?n._root:void 0);return new nh(r,e)}function Tc(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=o4(t,e,n);return new sn(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Tc(t,a)),s}}let r=s4(e.value),i=e.children.map(o=>Tc(t,o));return new sn(r,i)}}function o4(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Tc(t,r,i);return Tc(t,r)})}function s4(t){return new Jn(new ut(t.url),new ut(t.params),new ut(t.queryParams),new ut(t.fragment),new ut(t.data),t.outlet,t.component,t)}var Sc=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},$T="ngNavigationCancelingError";function oh(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Ic(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=HT(!1,an.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function HT(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[$T]=!0,n.cancellationCode=e,n}function a4(t){return zT(t)&&Ic(t.url)}function zT(t){return!!t&&t[$T]}var c4=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ye({type:e,selectors:[["ng-component"]],standalone:!0,features:[Je],decls:1,vars:0,template:function(i,o){i&1&&fe(0,"router-outlet")},dependencies:[Wy],encapsulation:2});let t=e;return t})();function u4(t,e){return t.providers&&!t._injector&&(t._injector=yd(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Ky(t){let e=t.children&&t.children.map(Ky),n=e?Ee(j({},t),{children:e}):j({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==pe&&(n.component=c4),n}function Mn(t){return t.outlet||pe}function l4(t,e){let n=t.filter(r=>Mn(r)===e);return n.push(...t.filter(r=>Mn(r)!==e)),n}function Oc(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var d4=(t,e,n,r)=>X(i=>(new Uy(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Uy=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),vy(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Ss(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Ss(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Ss(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Ss(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Oy(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Ry(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(vy(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),vy(a.route.value),this.activateChildRoutes(e,null,s.children)}else{let a=Oc(i.snapshot);s.attachRef=null,s.route=i,s.injector=a??s.injector,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}},sh=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},xs=class{constructor(e,n){this.component=e,this.route=n}};function h4(t,e,n){let r=t._root,i=e?e._root:null;return yc(r,i,n,[r.value])}function f4(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Vs(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!rC(t)?t:e.get(t):r}function yc(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Ss(e);return t.children.forEach(s=>{p4(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Ec(a,n.getContext(s),i)),i}function p4(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=g4(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new sh(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?yc(t,e,a?a.children:null,r,i):yc(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new xs(a.outlet.component,s))}else s&&Ec(e,a,i),i.canActivateChecks.push(new sh(r)),o.component?yc(t,null,a?a.children:null,r,i):yc(t,null,n,r,i);return i}function g4(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!vo(t.url,e.url);case"pathParamsOrQueryParamsChange":return!vo(t.url,e.url)||!Yn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ly(t,e)||!Yn(t.queryParams,e.queryParams);case"paramsChange":default:return!Ly(t,e)}}function Ec(t,e,n){let r=Ss(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Ec(s,e.children.getContext(o),n):Ec(s,null,n):Ec(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new xs(e.outlet.component,i)):n.canDeactivateChecks.push(new xs(null,i)):n.canDeactivateChecks.push(new xs(null,i))}function kc(t){return typeof t=="function"}function m4(t){return typeof t=="boolean"}function y4(t){return t&&kc(t.canLoad)}function v4(t){return t&&kc(t.canActivate)}function _4(t){return t&&kc(t.canActivateChild)}function w4(t){return t&&kc(t.canDeactivate)}function E4(t){return t&&kc(t.canMatch)}function qT(t){return t instanceof fr||t?.name==="EmptyError"}var Gd=Symbol("INITIAL_VALUE");function ks(){return Kt(t=>Wa(t.map(e=>e.pipe(gr(1),El(Gd)))).pipe(X(e=>{for(let n of e)if(n!==!0){if(n===Gd)return Gd;if(n===!1||I4(n))return n}return!0}),Ut(e=>e!==Gd),gr(1)))}function I4(t){return Ic(t)||t instanceof Sc}function C4(t,e){return rt(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?J(Ee(j({},n),{guardsResult:!0})):b4(s,r,i,t).pipe(rt(a=>a&&m4(a)?D4(r,o,t,e):J(a)),X(a=>Ee(j({},n),{guardsResult:a})))})}function b4(t,e,n,r){return ke(t).pipe(rt(i=>x4(i.component,i.route,n,e,r)),Fn(i=>i!==!0,!0))}function D4(t,e,n,r){return ke(e).pipe(pr(i=>ns(S4(i.route.parent,r),T4(i.route,r),M4(t,i.path,n),A4(t,i.route,n))),Fn(i=>i!==!0,!0))}function T4(t,e){return t!==null&&e&&e(new Ny(t)),J(!0)}function S4(t,e){return t!==null&&e&&e(new Py(t)),J(!0)}function A4(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return J(!0);let i=r.map(o=>vl(()=>{let s=Oc(e)??n,a=Vs(o,s),u=v4(a)?a.canActivate(e,t):rn(s,()=>a(e,t));return Si(u).pipe(Fn())}));return J(i).pipe(ks())}function M4(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>f4(s)).filter(s=>s!==null).map(s=>vl(()=>{let a=s.guards.map(u=>{let l=Oc(s.node)??n,h=Vs(u,l),p=_4(h)?h.canActivateChild(r,t):rn(l,()=>h(r,t));return Si(p).pipe(Fn())});return J(a).pipe(ks())}));return J(o).pipe(ks())}function x4(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return J(!0);let s=o.map(a=>{let u=Oc(e)??i,l=Vs(a,u),h=w4(l)?l.canDeactivate(t,e,n,r):rn(u,()=>l(t,e,n,r));return Si(h).pipe(Fn())});return J(s).pipe(ks())}function P4(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return J(!0);let o=i.map(s=>{let a=Vs(s,t),u=y4(a)?a.canLoad(e,n):rn(t,()=>a(e,n));return Si(u)});return J(o).pipe(ks(),GT(r))}function GT(t){return Ju(it(e=>{if(typeof e!="boolean")throw oh(t,e)}),X(e=>e===!0))}function R4(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return J(!0);let o=i.map(s=>{let a=Vs(s,t),u=E4(a)?a.canMatch(e,n):rn(t,()=>a(e,n));return Si(u)});return J(o).pipe(ks(),GT(r))}var Ac=class{constructor(e){this.segmentGroup=e||null}},Mc=class extends Error{constructor(e){super(),this.urlTree=e}};function Ts(t){return ts(new Ac(t))}function N4(t){return ts(new G(4e3,!1))}function O4(t){return ts(HT(!1,an.GuardRejected))}var By=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return J(r);if(i.numberOfChildren>1||!i.children[pe])return N4(`${e.redirectTo}`);i=i.children[pe]}}applyRedirectCommands(e,n,r,i,o){if(typeof n!="string"){let a=n,{queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,params:y,data:T,title:R}=i,x=rn(o,()=>a({params:y,data:T,queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,title:R}));if(x instanceof Di)throw new Mc(x);n=x}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new Mc(s);return s}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new Di(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new Pe(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new G(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},$y={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function k4(t,e,n,r,i){let o=Qy(t,e,n);return o.matched?(r=u4(e,r),R4(r,e,n,i).pipe(X(s=>s===!0?o:j({},$y)))):J(o)}function Qy(t,e,n){if(e.path==="**")return F4(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?j({},$y):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||PL)(n,t,e);if(!i)return j({},$y);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?j(j({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function F4(t){return{matched:!0,parameters:t.length>0?TT(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function wT(t,e,n,r){return n.length>0&&j4(t,n,r)?{segmentGroup:new Pe(e,L4(r,new Pe(n,t.children))),slicedSegments:[]}:n.length===0&&U4(t,n,r)?{segmentGroup:new Pe(t.segments,V4(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Pe(t.segments,t.children),slicedSegments:n}}function V4(t,e,n,r){let i={};for(let o of n)if(uh(t,e,o)&&!r[Mn(o)]){let s=new Pe([],{});i[Mn(o)]=s}return j(j({},r),i)}function L4(t,e){let n={};n[pe]=e;for(let r of t)if(r.path===""&&Mn(r)!==pe){let i=new Pe([],{});n[Mn(r)]=i}return n}function j4(t,e,n){return n.some(r=>uh(t,e,r)&&Mn(r)!==pe)}function U4(t,e,n){return n.some(r=>uh(t,e,r))}function uh(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function B4(t,e,n,r){return Mn(t)!==r&&(r===pe||!uh(e,n,t))?!1:Qy(e,t,n).matched}function $4(t,e,n){return e.length===0&&!t.children[n]}var Hy=class{};function H4(t,e,n,r,i,o,s="emptyOnly"){return new zy(t,e,n,r,i,s,o).recognize()}var z4=31,zy=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new By(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new G(4002,`'${e.segmentGroup}'`)}recognize(){let e=wT(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(X(({children:n,rootSnapshot:r})=>{let i=new sn(r,n),o=new ih("",i),s=YL(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new Ms([],Object.freeze({}),Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),pe,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,pe,n).pipe(X(r=>({children:r,rootSnapshot:n})),ii(r=>{if(r instanceof Mc)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Ac?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(X(s=>s instanceof sn?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return ke(o).pipe(pr(s=>{let a=r.children[s],u=l4(n,s);return this.processSegmentGroup(e,u,a,s,i)}),wl((s,a)=>(s.push(...a),s)),oi(null),Bp(),rt(s=>{if(s===null)return Ts(r);let a=WT(s);return q4(a),J(a)}))}processSegment(e,n,r,i,o,s,a){return ke(n).pipe(pr(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,o,s,a).pipe(ii(l=>{if(l instanceof Ac)return J(null);throw l}))),Fn(u=>!!u),ii(u=>{if(qT(u))return $4(r,i,o)?J(new Hy):Ts(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,o,s,a,u){return B4(r,i,o,s)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,u):Ts(i):Ts(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:m}=Qy(n,i,o);if(!u)return Ts(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>z4&&(this.allowRedirects=!1));let y=new Ms(o,l,Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,ET(i),Mn(i),i.component??i._loadedComponent??null,i,IT(i)),T=rh(y,a,this.paramsInheritanceStrategy);y.params=Object.freeze(T.params),y.data=Object.freeze(T.data);let R=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,y,e);return this.applyRedirects.lineralizeSegments(i,R).pipe(rt(x=>this.processSegment(e,r,n,x.concat(m),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a=k4(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(Kt(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Kt(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:y}=u,T=new Ms(m,p,Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,ET(r),Mn(r),r.component??r._loadedComponent??null,r,IT(r)),R=rh(T,s,this.paramsInheritanceStrategy);T.params=Object.freeze(R.params),T.data=Object.freeze(R.data);let{segmentGroup:x,slicedSegments:F}=wT(n,m,y,l);if(F.length===0&&x.hasChildren())return this.processChildren(h,l,x,T).pipe(X(q=>new sn(T,q)));if(l.length===0&&F.length===0)return J(new sn(T,[]));let K=Mn(r)===o;return this.processSegment(h,l,x,F,K?pe:o,!0,T).pipe(X(q=>new sn(T,q instanceof sn?[q]:[])))}))):Ts(n)))}getChildConfig(e,n,r){return n.children?J({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?J({routes:n._loadedRoutes,injector:n._loadedInjector}):P4(e,n,r,this.urlSerializer).pipe(rt(i=>i?this.configLoader.loadChildren(e,n).pipe(it(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):O4(n))):J({routes:[],injector:e})}};function q4(t){t.sort((e,n)=>e.value.outlet===pe?-1:n.value.outlet===pe?1:e.value.outlet.localeCompare(n.value.outlet))}function G4(t){let e=t.value.routeConfig;return e&&e.path===""}function WT(t){let e=[],n=new Set;for(let r of t){if(!G4(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=WT(r.children);e.push(new sn(r.value,i))}return e.filter(r=>!n.has(r))}function ET(t){return t.data||{}}function IT(t){return t.resolve||{}}function W4(t,e,n,r,i,o){return rt(s=>H4(t,e,n,r,s.extractedUrl,i,o).pipe(X(({state:a,tree:u})=>Ee(j({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function K4(t,e){return rt(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return J(n);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of KT(u))s.add(l);let a=0;return ke(s).pipe(pr(u=>o.has(u)?Q4(u,r,t,e):(u.data=rh(u,u.parent,t).resolve,J(void 0))),it(()=>a++),rs(1),rt(u=>a===s.size?J(n):en))})}function KT(t){let e=t.children.map(n=>KT(n)).flat();return[t,...e]}function Q4(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!BT(i)&&(o[Pc]=i.title),Y4(o,t,e,r).pipe(X(s=>(t._resolvedData=s,t.data=rh(t,t.parent,n).resolve,null)))}function Y4(t,e,n,r){let i=Ey(t);if(i.length===0)return J({});let o={};return ke(i).pipe(rt(s=>J4(t[s],e,n,r).pipe(Fn(),it(a=>{if(a instanceof Sc)throw oh(new Rs,a);o[s]=a}))),rs(1),Up(o),ii(s=>qT(s)?en:ts(s)))}function J4(t,e,n,r){let i=Oc(e)??r,o=Vs(t,i),s=o.resolve?o.resolve(e,n):rn(i,()=>o(e,n));return Si(s)}function _y(t){return Kt(e=>{let n=t(e);return n?ke(n).pipe(X(()=>e)):J(e)})}var QT=(()=>{let e=class e{buildTitle(r){let i,o=r.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===pe);return i}getResolvedTitleForRoute(r){return r.data[Pc]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:()=>k(Z4),providedIn:"root"});let t=e;return t})(),Z4=(()=>{let e=class e extends QT{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(W(pT))},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Fc=new $("",{providedIn:"root",factory:()=>({})}),xc=new $(""),Yy=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=k(Dd)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return J(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Si(r.loadComponent()).pipe(X(YT),it(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),si(()=>{this.componentLoaders.delete(r)})),o=new Jo(i,()=>new mt).pipe(Yo());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return J({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=X4(i,this.compiler,r,this.onLoadEndListener).pipe(si(()=>{this.childrenLoaders.delete(i)})),a=new Jo(s,()=>new mt).pipe(Yo());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function X4(t,e,n,r){return Si(t.loadChildren()).pipe(X(YT),rt(i=>i instanceof ec||Array.isArray(i)?J(i):ke(e.compileModuleAsync(i))),X(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(xc,[],{optional:!0,self:!0}).flat()),{routes:s.map(Ky),injector:o}}))}function e2(t){return t&&typeof t=="object"&&"default"in t}function YT(t){return e2(t)?t.default:t}var Jy=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:()=>k(t2),providedIn:"root"});let t=e;return t})(),t2=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),JT=new $(""),ZT=new $("");function n2(t,e,n){let r=t.get(ZT),i=t.get(Nt);return t.get(be).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),r2(t))),{onViewTransitionCreated:u}=r;return u&&rn(t,()=>u({transition:a,from:e,to:n})),s})}function r2(t){return new Promise(e=>{md(()=>setTimeout(e),{injector:t,phase:ci.Read})})}var i2=new $(""),Zy=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new mt,this.transitionAbortSubject=new mt,this.configLoader=k(Yy),this.environmentInjector=k(xt),this.urlSerializer=k(Rc),this.rootContexts=k(Nc),this.location=k(bs),this.inputBindingEnabled=k(ch,{optional:!0})!==null,this.titleStrategy=k(QT),this.options=k(Fc,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=k(Jy),this.createViewTransition=k(JT,{optional:!0}),this.navigationErrorHandler=k(i2,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>J(void 0),this.rootComponentType=null;let r=o=>this.events.next(new My(o)),i=o=>this.events.next(new xy(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(Ee(j(j({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,o){return this.transitions=new ut({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:wc,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ut(s=>s.id!==0),X(s=>Ee(j({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Kt(s=>{let a=!1,u=!1;return J(s).pipe(Kt(l=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",an.SupersededByNewNavigation),en;this.currentTransition=s,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?Ee(j({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let h=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!h&&p!=="reload"){let m="";return this.events.next(new Ti(l.id,this.urlSerializer.serialize(l.rawUrl),m,Zd.IgnoredSameUrlNavigation)),l.resolve(!1),en}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return J(l).pipe(Kt(m=>{let y=this.transitions?.getValue();return this.events.next(new Ns(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),y!==this.transitions?.getValue()?en:Promise.resolve(m)}),W4(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),it(m=>{s.targetSnapshot=m.targetSnapshot,s.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation=Ee(j({},this.currentNavigation),{finalUrl:m.urlAfterRedirects});let y=new Xd(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(y)}));if(h&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:m,extractedUrl:y,source:T,restoredState:R,extras:x}=l,F=new Ns(m,this.urlSerializer.serialize(y),T,R);this.events.next(F);let K=jT(this.rootComponentType).snapshot;return this.currentTransition=s=Ee(j({},l),{targetSnapshot:K,urlAfterRedirects:y,extras:Ee(j({},x),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=y,J(s)}else{let m="";return this.events.next(new Ti(l.id,this.urlSerializer.serialize(l.extractedUrl),m,Zd.IgnoredByUrlHandlingStrategy)),l.resolve(!1),en}}),it(l=>{let h=new Dy(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),X(l=>(this.currentTransition=s=Ee(j({},l),{guards:h4(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),s)),C4(this.environmentInjector,l=>this.events.next(l)),it(l=>{if(s.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw oh(this.urlSerializer,l.guardsResult);let h=new Ty(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(h)}),Ut(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",an.GuardRejected),!1)),_y(l=>{if(l.guards.canActivateChecks.length)return J(l).pipe(it(h=>{let p=new Sy(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}),Kt(h=>{let p=!1;return J(h).pipe(K4(this.paramsInheritanceStrategy,this.environmentInjector),it({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(h,"",an.NoDataFromResolver)}}))}),it(h=>{let p=new Ay(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}))}),_y(l=>{let h=p=>{let m=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(p.routeConfig).pipe(it(y=>{p.component=y}),X(()=>{})));for(let y of p.children)m.push(...h(y));return m};return Wa(h(l.targetSnapshot.root)).pipe(oi(null),gr(1))}),_y(()=>this.afterPreactivation()),Kt(()=>{let{currentSnapshot:l,targetSnapshot:h}=s,p=this.createViewTransition?.(this.environmentInjector,l.root,h.root);return p?ke(p).pipe(X(()=>s)):J(s)}),X(l=>{let h=i4(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s=Ee(j({},l),{targetRouterState:h}),this.currentNavigation.targetRouterState=h,s}),it(()=>{this.events.next(new Dc)}),d4(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),gr(1),it({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new xn(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),$p(this.transitionAbortSubject.pipe(it(l=>{throw l}))),si(()=>{!a&&!u&&this.cancelNavigationTransition(s,"",an.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),ii(l=>{if(u=!0,zT(l))this.events.next(new Nr(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),a4(l)?this.events.next(new Os(l.url,l.navigationBehaviorOptions)):s.resolve(!1);else{let h=new bc(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0);try{let p=rn(this.environmentInjector,()=>this.navigationErrorHandler?.(h));if(p instanceof Sc){let{message:m,cancellationCode:y}=oh(this.urlSerializer,p);this.events.next(new Nr(s.id,this.urlSerializer.serialize(s.extractedUrl),m,y)),this.events.next(new Os(p.redirectTo,p.navigationBehaviorOptions))}else{this.events.next(h);let m=r.errorHandler(l);s.resolve(!!m)}}catch(p){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(p)}}return en}))}))}cancelNavigationTransition(r,i,o){let s=new Nr(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function o2(t){return t!==wc}var s2=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:()=>k(a2),providedIn:"root"});let t=e;return t})(),qy=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},a2=(()=>{let e=class e extends qy{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=br(e)))(o||e)}})(),e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),XT=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:()=>k(c2),providedIn:"root"});let t=e;return t})(),c2=(()=>{let e=class e extends XT{constructor(){super(...arguments),this.location=k(bs),this.urlSerializer=k(Rc),this.options=k(Fc,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=k(Jy),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Di,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=jT(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof Ns)this.stateMemento=this.createStateMemento();else if(r instanceof Ti)this.rawUrlTree=i.initialUrl;else if(r instanceof Xd){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(o,i)}}else r instanceof Dc?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof Nr&&(r.code===an.GuardRejected||r.code===an.NoDataFromResolver)?this.restoreHistory(i):r instanceof bc?this.restoreHistory(i,!0):r instanceof xn&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let o=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let s=this.browserPageId,a=j(j({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(o,"",a)}else{let s=j(j({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===r.finalUrl&&s===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=br(e)))(o||e)}})(),e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),vc=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(vc||{});function eS(t,e){t.events.pipe(Ut(n=>n instanceof xn||n instanceof Nr||n instanceof bc||n instanceof Ti),X(n=>n instanceof xn||n instanceof Ti?vc.COMPLETE:(n instanceof Nr?n.code===an.Redirect||n.code===an.SupersededByNewNavigation:!1)?vc.REDIRECTING:vc.FAILED),Ut(n=>n!==vc.REDIRECTING),gr(1)).subscribe(()=>{e()})}function u2(t){throw t}var l2={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},d2={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},vt=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=k(Cd),this.stateManager=k(XT),this.options=k(Fc,{optional:!0})||{},this.pendingTasks=k(Dr),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=k(Zy),this.urlSerializer=k(Rc),this.location=k(bs),this.urlHandlingStrategy=k(Jy),this._events=new mt,this.errorHandler=this.options.errorHandler||u2,this.navigated=!1,this.routeReuseStrategy=k(s2),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=k(xc,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!k(ch,{optional:!0}),this.eventsSubscription=new Ke,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof Nr&&i.code!==an.Redirect&&i.code!==an.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof xn)this.navigated=!0;else if(i instanceof Os){let a=i.navigationBehaviorOptions,u=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),l=j({info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||o2(o.source)},a);this.scheduleNavigation(u,wc,null,l,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}f2(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),wc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let l=j({},o);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let u=this.parseUrl(r);this.scheduleNavigation(u,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Ky),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:u,preserveFragment:l}=i,h=l?this.currentUrlTree.fragment:a,p=null;switch(u){case"merge":p=j(j({},this.currentUrlTree.queryParams),s);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=s||null}p!==null&&(p=this.removeEmptyProps(p));let m;try{let y=o?o.snapshot:this.routerState.snapshot.root;m=kT(y)}catch{(typeof r[0]!="string"||r[0][0]!=="/")&&(r=[]),m=this.currentUrlTree.root}return FT(m,r,p,h??null)}navigateByUrl(r,i={skipLocationChange:!1}){let o=Ic(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,wc,null,i)}navigate(r,i={skipLocationChange:!1}){return h2(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let o;if(i===!0?o=j({},l2):i===!1?o=j({},d2):o=i,Ic(r))return gT(this.currentUrlTree,r,o);let s=this.parseUrl(r);return gT(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.entries(r).reduce((i,[o,s])=>(s!=null&&(i[o]=s),i),{})}scheduleNavigation(r,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let u,l,h;a?(u=a.resolve,l=a.reject,h=a.promise):h=new Promise((m,y)=>{u=m,l=y});let p=this.pendingTasks.add();return eS(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:s,resolve:u,reject:l,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(m=>Promise.reject(m))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function h2(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new G(4008,!1)}function f2(t){return!(t instanceof Dc)&&!(t instanceof Os)}var Fs=(()=>{let e=class e{constructor(r,i,o,s,a,u){this.router=r,this.route=i,this.tabIndexAttribute=o,this.renderer=s,this.el=a,this.locationStrategy=u,this.href=null,this.commands=null,this.onChanges=new mt,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let l=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=r.events.subscribe(h=>{h instanceof xn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,o,s,a){let u=this.urlTree;if(u===null||this.isAnchorElement&&(r!==0||i||o||s||a||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(u,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:vb(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let o=this.renderer,s=this.el.nativeElement;i!==null?o.setAttribute(s,r,i):o.removeAttribute(s,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(B(vt),B(Jn),mm("tabindex"),B(Sn),B(Ht),B(Pr))},e.\u0275dir=Be({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,o){i&1&&Z("click",function(a){return o.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&sc("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",vi],skipLocationChange:[2,"skipLocationChange","skipLocationChange",vi],replaceUrl:[2,"replaceUrl","replaceUrl",vi],routerLink:"routerLink"},standalone:!0,features:[Vm,Cr]});let t=e;return t})(),tS=(()=>{let e=class e{get isActive(){return this._isActive}constructor(r,i,o,s,a){this.router=r,this.element=i,this.renderer=o,this.cdr=s,this.link=a,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Qe,this.routerEventsSubscription=r.events.subscribe(u=>{u instanceof xn&&this.update()})}ngAfterContentInit(){J(this.links.changes,J(null)).pipe(ri()).subscribe(r=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let r=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=ke(r).pipe(ri()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(r){let i=Array.isArray(r)?r:r.split(" ");this.classes=i.filter(o=>!!o)}ngOnChanges(r){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let r=this.hasActiveLinks();this.classes.forEach(i=>{r?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),r&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==r&&(this._isActive=r,this.cdr.markForCheck(),this.isActiveChange.emit(r))})}isLinkActive(r){let i=p2(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return o=>{let s=o.urlTree;return s?r.isActive(s,i):!1}}hasActiveLinks(){let r=this.isLinkActive(this.router);return this.link&&r(this.link)||this.links.some(r)}};e.\u0275fac=function(i){return new(i||e)(B(vt),B(Ht),B(Sn),B(yi),B(Fs,8))},e.\u0275dir=Be({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(i,o,s){if(i&1&&fD(s,Fs,5),i&2){let a;_d(a=wd())&&(o.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Cr]});let t=e;return t})();function p2(t){return!!t.paths}var ah=class{};var g2=(()=>{let e=class e{constructor(r,i,o,s,a){this.router=r,this.injector=o,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Ut(r=>r instanceof xn),pr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){let o=[];for(let s of i){s.providers&&!s._injector&&(s._injector=yd(s.providers,r,`Route: ${s.path}`));let a=s._injector??r,u=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&o.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&o.push(this.processRoutes(u,s.children??s._loadedRoutes))}return ke(o).pipe(ri())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let o;i.loadChildren&&i.canLoad===void 0?o=this.loader.loadChildren(r,i):o=J(null);let s=o.pipe(rt(a=>a===null?J(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));if(i.loadComponent&&!i._loadedComponent){let a=this.loader.loadComponent(i);return ke([s,a]).pipe(ri())}else return s})}};e.\u0275fac=function(i){return new(i||e)(W(vt),W(Dd),W(xt),W(ah),W(Yy))},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),nS=new $(""),m2=(()=>{let e=class e{constructor(r,i,o,s,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=o,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=k(xt),a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Ns?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof xn?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof Ti&&r.code===Zd.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof eh&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>E(this,null,function*(){yield new Promise(o=>{setTimeout(()=>{o()}),md(()=>{o()},{injector:this.environmentInjector})}),this.zone.run(()=>{this.transitions.events.next(new eh(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(i){xb()},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})();function rS(t,...e){return nn([{provide:xc,multi:!0,useValue:t},[],{provide:Jn,useFactory:iS,deps:[vt]},{provide:cc,multi:!0,useFactory:oS},e.map(n=>n.\u0275providers)])}function iS(t){return t.routerState.root}function Vc(t,e){return{\u0275kind:t,\u0275providers:e}}function oS(){let t=k(lt);return e=>{let n=t.get(go);if(e!==n.components[0])return;let r=t.get(vt),i=t.get(sS);t.get(Xy)===1&&r.initialNavigation(),t.get(aS,null,me.Optional)?.setUpPreloading(),t.get(nS,null,me.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var sS=new $("",{factory:()=>new mt}),Xy=new $("",{providedIn:"root",factory:()=>1});function y2(){return Vc(2,[{provide:Xy,useValue:0},{provide:bd,multi:!0,deps:[lt],useFactory:e=>{let n=e.get(kD,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(vt),o=e.get(sS);eS(i,()=>{r(!0)}),e.get(Zy).afterPreactivation=()=>(r(!0),o.closed?J(void 0):o),i.initialNavigation()}))}}])}function v2(){return Vc(3,[{provide:bd,multi:!0,useFactory:()=>{let e=k(vt);return()=>{e.setUpLocationChangeListener()}}},{provide:Xy,useValue:2}])}var aS=new $("");function _2(t){return Vc(0,[{provide:aS,useExisting:g2},{provide:ah,useExisting:t}])}function w2(){return Vc(8,[_T,{provide:ch,useExisting:_T}])}function E2(t){let e=[{provide:JT,useValue:n2},{provide:ZT,useValue:j({skipNextTransition:!!t?.skipInitialTransition},t)}];return Vc(9,e)}var CT=new $("ROUTER_FORROOT_GUARD"),I2=[bs,{provide:Rc,useClass:Rs},vt,Nc,{provide:Jn,useFactory:iS,deps:[vt]},Yy,[]],Ls=(()=>{let e=class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[I2,[],{provide:xc,multi:!0,useValue:r},{provide:CT,useFactory:T2,deps:[[vt,new dt,new Xg]]},{provide:Fc,useValue:i||{}},i?.useHash?b2():D2(),C2(),i?.preloadingStrategy?_2(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?S2(i):[],i?.bindToComponentInputs?w2().\u0275providers:[],i?.enableViewTransitions?E2().\u0275providers:[],A2()]}}static forChild(r){return{ngModule:e,providers:[{provide:xc,multi:!0,useValue:r}]}}};e.\u0275fac=function(i){return new(i||e)(W(CT,8))},e.\u0275mod=Gn({type:e}),e.\u0275inj=qn({});let t=e;return t})();function C2(){return{provide:nS,useFactory:()=>{let t=k(qD),e=k(be),n=k(Fc),r=k(Zy),i=k(Rc);return n.scrollOffset&&t.setOffset(n.scrollOffset),new m2(i,r,t,e,n)}}}function b2(){return{provide:Pr,useClass:VD}}function D2(){return{provide:Pr,useClass:Xm}}function T2(t){return"guarded"}function S2(t){return[t.initialNavigation==="disabled"?v2().\u0275providers:[],t.initialNavigation==="enabledBlocking"?y2().\u0275providers:[]]}var bT=new $("");function A2(){return[{provide:bT,useFactory:oS},{provide:cc,multi:!0,useExisting:bT}]}var Us=(()=>{let e=class e{constructor(){this.cartSubject=new ut(this.loadCart()),this.cart$=this.cartSubject.asObservable()}loadCart(){let r=localStorage.getItem("cart");return r?JSON.parse(r):[]}saveCart(r){localStorage.setItem("cart",JSON.stringify(r)),this.cartSubject.next(r)}calculateTotal(r){return r.reduce((i,o)=>i+o.product.price*o.quantity,0)}getTotalAmount(){return this.cart$.pipe(X(r=>this.calculateTotal(r)))}getCartItems(){return this.cart$}getCartItemCount(){return this.cart$.pipe(X(r=>r.reduce((i,o)=>i+o.quantity,0)))}addToCart(r,i){let o=this.loadCart(),s=o.findIndex(a=>a.product.id===r.id);s===-1?o.push({product:r,quantity:i}):o[s].quantity+=i,this.saveCart(o)}increaseQuantity(r){let i=this.loadCart(),o=i.findIndex(s=>s.product.id===r);o!==-1&&(i[o].quantity+=1,this.saveCart(i))}decreaseQuantity(r){let i=this.loadCart(),o=i.findIndex(s=>s.product.id===r);o!==-1&&i[o].quantity>1&&(i[o].quantity-=1,this.saveCart(i))}removeFromCart(r){let i=this.loadCart();i=i.filter(o=>o.product.id!==r),this.saveCart(i)}checkout(){return J(this.saveCart([])).pipe(X(()=>{}))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var lh=(()=>{let e=class e{constructor(r,i){this.router=r,this.cartService=i,this.cartItemCount=0}ngOnInit(){this.cartService.getCartItemCount().subscribe(r=>this.cartItemCount=r)}goToCart(){this.router.navigate(["/cart"])}};e.\u0275fac=function(i){return new(i||e)(B(vt),B(Us))},e.\u0275cmp=Ye({type:e,selectors:[["app-header"]],standalone:!0,features:[Je],decls:19,vars:1,consts:[[1,"navbar","navbar-expand-lg","navbar-light","bg-light"],["routerLink","/","routerLinkActive","active",1,"navbar-brand"],["src","./icons/logo.png","alt","Logo",1,"logo"],["type","button","data-toggle","collapse","data-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse"],[1,"navbar-nav","ml-auto"],[1,"nav-item"],["routerLink","/","routerLinkActive","active",1,"nav-link"],[1,"nav-link",3,"click"],["src","./icons/shopping-cart.svg","alt","Cart",1,"cart-icon"],[1,"custom-badge"],["routerLink","/admin-login","routerLinkActive","active",1,"nav-link"]],template:function(i,o){i&1&&(S(0,"nav",0)(1,"a",1),fe(2,"img",2),M(),S(3,"button",3),fe(4,"span",4),M(),S(5,"div",5)(6,"ul",6)(7,"li",7)(8,"a",8),N(9,"\u0413\u043E\u043B\u043E\u0432\u043D\u0430"),M()(),S(10,"li",7)(11,"a",9),Z("click",function(){return o.goToCart()}),fe(12,"img",10),N(13," \u041A\u043E\u0448\u0438\u043A "),S(14,"span",11),N(15),M()()(),S(16,"li",7)(17,"a",12),N(18,"\u0410\u0434\u043C\u0456\u043D"),M()()()()()),i&2&&(U(15),Ve(o.cartItemCount))},dependencies:[Ls,Fs,tS],styles:[`.navbar[_ngcontent-%COMP%]{margin-bottom:20px;padding:.5rem 1rem;background-color:#f8f9fa;box-shadow:0 2px 4px #0000001a}.logo[_ngcontent-%COMP%]{height:40px;margin-right:1rem}.navbar-toggler[_ngcontent-%COMP%]{border:none}.navbar-toggler-icon[_ngcontent-%COMP%]{background-image:url("data:image/svg+xml;charset=utf8,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'%3e%3cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M4 6h16M4 12h16M4 18h16' /%3e%3c/svg%3e")}.navbar-nav[_ngcontent-%COMP%]{flex-direction:row;margin-left:auto}.nav-item[_ngcontent-%COMP%]{margin-left:1rem}.nav-link[_ngcontent-%COMP%]{font-weight:700;color:#333;font-size:1rem;padding:.5rem 1rem;transition:color .3s ease}.nav-link[_ngcontent-%COMP%]:hover{color:#007bff;cursor:pointer}.nav-link[_ngcontent-%COMP%]:hover   .cart-icon[_ngcontent-%COMP%]{transform:scale(1.1)}.custom-badge[_ngcontent-%COMP%]{display:inline-block;padding:.25em .4em;font-size:75%;font-weight:700;line-height:1;color:#fff;text-align:center;white-space:nowrap;vertical-align:baseline;border-radius:.2rem;background-color:#dc3545}.cart-icon[_ngcontent-%COMP%]{height:20px;margin-right:.5rem;transition:transform .3s ease}@media (max-width: 992px){.navbar-nav[_ngcontent-%COMP%]{flex-direction:column;text-align:center;padding-top:1rem;margin-top:1rem}.nav-item[_ngcontent-%COMP%]{margin-left:0;margin-bottom:.5rem}.navbar-brand[_ngcontent-%COMP%]{margin-right:auto}}.navbar-collapse[_ngcontent-%COMP%]{max-height:0;transition:max-height .3s ease}.navbar-collapse.collapse.show[_ngcontent-%COMP%]{max-height:500px;transition:max-height .3s ease-in}.navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:1rem;border-bottom:1px solid #ddd}.navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:last-child{border-bottom:none}`]});let t=e;return t})();var cS=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ye({type:e,selectors:[["app-footer"]],standalone:!0,features:[Je],decls:37,vars:0,consts:[[1,"container","footer-container"],[1,"row","footer-row"],[1,"col-xs-12","col-sm-6","col-md-6","text-center"],[1,"fas","fa-location-arrow"],["href","tel: 04737875657","type","tel",1,"tel"],[1,"fas","fa-mobile-alt"],[1,"col-xs-12","col-md-6","col-sm-6","social-section"],[1,"text-center"],[1,"text-center","social-buttons"],["href","https://www.facebook.com/?locale=uk_UA",1,"btn","btn-default","btn-lg","social-button","link-facebook"],[1,"fab","fa-facebook"],["href","https://x.com/?lang=uk",1,"btn","btn-default","btn-lg","social-button","link-twitter"],[1,"fab","fa-twitter"],["href","https://www.linkedin.com/",1,"btn","btn-default","btn-lg","social-button","link-linkedin"],[1,"fab","fa-linkedin"],["href","https://instagram.com/",1,"btn","btn-default","btn-lg","social-button","link-instagram"],[1,"fab","fa-instagram"],[1,"footer-hr"],[1,"author"],[1,"fas","fa-heart"]],template:function(i,o){i&1&&(S(0,"footer")(1,"div",0)(2,"div",1)(3,"div",2)(4,"address")(5,"strong"),fe(6,"i",3),N(7," TERRA"),M(),fe(8,"br"),N(9," \u0406\u043D\u0442\u0435\u0440\u043D\u0435\u0442-\u043C\u0430\u0433\u0430\u0437\u0438\u043D \u0442\u0443\u0440\u0438\u0441\u0442\u0438\u0447\u043D\u043E\u0433\u043E \u0441\u043F\u043E\u0440\u044F\u0434\u0436\u0435\u043D\u043D\u044F,"),fe(10,"br"),N(11," \u043C. \u0427\u0435\u0440\u043A\u0430\u0441\u0438, \u0432\u0443\u043B. \u0411\u0430\u0439\u0434\u0438 \u0412\u0438\u0448\u043D\u0435\u0432\u0435\u0446\u044C\u043A\u043E\u0433\u043E, 39"),fe(12,"br")(13,"br"),S(14,"a",4),fe(15,"i",5),S(16,"span"),N(17," 04737875657"),M()()()(),S(18,"div",6)(19,"div",7)(20,"h4",7),N(21,"\u0412\u0438 \u043D\u0430\u0441 \u0437\u043D\u0430\u0439\u0434\u0438\u0442\u0435 \u0443 \u0441\u043E\u0446\u043C\u0435\u0440\u0435\u0436\u0430\u0445"),M(),S(22,"div",8)(23,"a",9),fe(24,"i",10),M(),S(25,"a",11),fe(26,"i",12),M(),S(27,"a",13),fe(28,"i",14),M(),S(29,"a",15),fe(30,"i",16),M()(),fe(31,"hr",17),S(32,"h4",18),N(33,"\u0417\u0440\u043E\u0431\u043B\u0435\u043D\u043E \u0437\u0430 \u0434\u043E\u043F\u043E\u043C\u043E\u0433\u043E\u044E "),fe(34,"i",19),S(35,"strong"),N(36,"Angular"),M()()()()()()())},styles:["footer[_ngcontent-%COMP%]{background-color:#2c3e50;color:#fff;font-size:1.5em;text-align:center;padding:2%;margin-top:40px}a.tel[_ngcontent-%COMP%], a.tel[_ngcontent-%COMP%]:hover{text-decoration:none;color:#fff}a.social-button[_ngcontent-%COMP%]{background:#fff;font-size:20px;border-radius:50%;margin:5px}.address-container[_ngcontent-%COMP%]{display:inline-block;margin:0 auto}a.link-facebook[_ngcontent-%COMP%], a.link-twitter[_ngcontent-%COMP%], a.link-codepen[_ngcontent-%COMP%], a.link-linkedin[_ngcontent-%COMP%], a.link-instagram[_ngcontent-%COMP%]{transition:.4s ease}a.link-twitter[_ngcontent-%COMP%]{color:#1da1f2}a.link-facebook[_ngcontent-%COMP%]{color:#3b5998}a.link-linkedin[_ngcontent-%COMP%]{color:#007bb6}a.link-instagram[_ngcontent-%COMP%]{color:#e95950}a.link-facebook[_ngcontent-%COMP%]:hover{background-color:#3b5998;color:#fff}a.link-twitter[_ngcontent-%COMP%]:hover{background-color:#1da1f2;color:#fff}a.link-codepen[_ngcontent-%COMP%]:hover{background-color:#000;color:#fff}a.link-linkedin[_ngcontent-%COMP%]:hover{background-color:#007bb6;color:#fff}a.link-instagram[_ngcontent-%COMP%]:hover{background-color:#e95950;color:#fff}.btn-default[_ngcontent-%COMP%]{color:#333;background-color:#fff;border-color:transparent!important}.fa-heart[_ngcontent-%COMP%]{color:#f32323}h4.author[_ngcontent-%COMP%]{letter-spacing:4px}hr.copyright[_ngcontent-%COMP%]{opacity:.4}"]});let t=e;return t})();var lS=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},M2=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},dh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,m=(a&15)<<2|l>>6,y=l&63;u||(y=64,s||(m=64)),r.push(n[h],n[p],n[m],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(lS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):M2(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new nv;let m=o<<2|a>>4;if(r.push(m),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let T=l<<6&192|p;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},nv=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},x2=function(t){let e=lS(t);return dh.encodeByteArray(e,!0)},Lc=function(t){return x2(t).replace(/\./g,"")},iv=function(t){try{return dh.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function ov(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var P2=()=>ov().__FIREBASE_DEFAULTS__,R2=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},N2=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&iv(t[1]);return e&&JSON.parse(e)},hh=()=>{try{return P2()||R2()||N2()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},sv=t=>{var e,n;return(n=(e=hh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},dS=t=>{let e=sv(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},av=()=>{var t;return(t=hh())===null||t===void 0?void 0:t.config},cv=t=>{var e;return(e=hh())===null||e===void 0?void 0:e[`_${t}`]};var Or=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function hS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Lc(JSON.stringify(n)),Lc(JSON.stringify(s)),""].join(".")}function wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(wt())}function O2(){var t;let e=(t=hh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function pS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function gS(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function mS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function yS(){let t=wt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function vS(){return!O2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Bs(){try{return typeof indexedDB=="object"}catch{return!1}}function _S(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var k2="FirebaseError",cn=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=k2,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pn.prototype.create)}},Pn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?F2(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new cn(i,a,r)}};function F2(t,e){return t.replace(V2,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var V2=/\{\$([^}]+)}/g;function wS(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function _o(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(uS(o)&&uS(s)){if(!_o(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function uS(t){return t!==null&&typeof t=="object"}function jc(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ES(t,e){let n=new rv(t,e);return n.subscribe.bind(n)}var rv=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");L2(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=tv),i.error===void 0&&(i.error=tv),i.complete===void 0&&(i.complete=tv);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function L2(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function tv(){}var IS=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{let e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})};var j2=1e3,U2=2,B2=4*60*60*1e3,$2=.5;function CS(t,e=j2,n=U2){let r=e*Math.pow(n,t),i=Math.round($2*r*(Math.random()-.5)*2);return Math.min(B2,r+i)}function ft(t){return t&&t._delegate?t._delegate:t}var Gt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var wo="[DEFAULT]";var uv=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Or;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(z2(e))try{this.getOrInitializeService({instanceIdentifier:wo})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=wo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return E(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=wo){return this.instances.has(e)}getOptions(e=wo){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:H2(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=wo){return this.component?this.component.multipleInstances?e:wo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function H2(t){return t===wo?void 0:t}function z2(t){return t.instantiationMode==="EAGER"}var fh=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new uv(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var q2=[],_e=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(_e||{}),G2={debug:_e.DEBUG,verbose:_e.VERBOSE,info:_e.INFO,warn:_e.WARN,error:_e.ERROR,silent:_e.SILENT},W2=_e.INFO,K2={[_e.DEBUG]:"log",[_e.VERBOSE]:"log",[_e.INFO]:"info",[_e.WARN]:"warn",[_e.ERROR]:"error"},Q2=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=K2[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Zn=class{constructor(e){this.name=e,this._logLevel=W2,this._logHandler=Q2,this._userLogHandler=null,q2.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in _e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?G2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,_e.DEBUG,...e),this._logHandler(this,_e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,_e.VERBOSE,...e),this._logHandler(this,_e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,_e.INFO,...e),this._logHandler(this,_e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,_e.WARN,...e),this._logHandler(this,_e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,_e.ERROR,...e),this._logHandler(this,_e.ERROR,...e)}};var Y2=(t,e)=>e.some(n=>t instanceof n),bS,DS;function J2(){return bS||(bS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Z2(){return DS||(DS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var TS=new WeakMap,dv=new WeakMap,SS=new WeakMap,lv=new WeakMap,fv=new WeakMap;function X2(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Xn(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&TS.set(n,t)}).catch(()=>{}),fv.set(e,t),e}function ej(t){if(dv.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});dv.set(t,e)}var hv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return dv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||SS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Xn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function AS(t){hv=t(hv)}function tj(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(ph(this),e,...n);return SS.set(r,e.sort?e.sort():[e]),Xn(r)}:Z2().includes(t)?function(...e){return t.apply(ph(this),e),Xn(TS.get(this))}:function(...e){return Xn(t.apply(ph(this),e))}}function nj(t){return typeof t=="function"?tj(t):(t instanceof IDBTransaction&&ej(t),Y2(t,J2())?new Proxy(t,hv):t)}function Xn(t){if(t instanceof IDBRequest)return X2(t);if(lv.has(t))return lv.get(t);let e=nj(t);return e!==t&&(lv.set(t,e),fv.set(e,t)),e}var ph=t=>fv.get(t);function xS(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=Xn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Xn(s.result),u.oldVersion,u.newVersion,Xn(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var rj=["get","getKey","getAll","getAllKeys","count"],ij=["put","add","delete","clear"],pv=new Map;function MS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(pv.get(e))return pv.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=ij.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||rj.includes(n)))return;let o=function(s,...a){return E(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&u.done]))[0]})};return pv.set(e,o),o}AS(t=>Ee(j({},t),{get:(e,n,r)=>MS(e,n)||t.get(e,n,r),has:(e,n)=>!!MS(e,n)||t.has(e,n)}));var mv=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(oj(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function oj(t){let e=t.getComponent();return e?.type==="VERSION"}var yv="@firebase/app",PS="0.10.13";var kr=new Zn("@firebase/app"),sj="@firebase/app-compat",aj="@firebase/analytics-compat",cj="@firebase/analytics",uj="@firebase/app-check-compat",lj="@firebase/app-check",dj="@firebase/auth",hj="@firebase/auth-compat",fj="@firebase/database",pj="@firebase/data-connect",gj="@firebase/database-compat",mj="@firebase/functions",yj="@firebase/functions-compat",vj="@firebase/installations",_j="@firebase/installations-compat",wj="@firebase/messaging",Ej="@firebase/messaging-compat",Ij="@firebase/performance",Cj="@firebase/performance-compat",bj="@firebase/remote-config",Dj="@firebase/remote-config-compat",Tj="@firebase/storage",Sj="@firebase/storage-compat",Aj="@firebase/firestore",Mj="@firebase/vertexai-preview",xj="@firebase/firestore-compat",Pj="firebase",Rj="10.14.1";var vv="[DEFAULT]",Nj={[yv]:"fire-core",[sj]:"fire-core-compat",[cj]:"fire-analytics",[aj]:"fire-analytics-compat",[lj]:"fire-app-check",[uj]:"fire-app-check-compat",[dj]:"fire-auth",[hj]:"fire-auth-compat",[fj]:"fire-rtdb",[pj]:"fire-data-connect",[gj]:"fire-rtdb-compat",[mj]:"fire-fn",[yj]:"fire-fn-compat",[vj]:"fire-iid",[_j]:"fire-iid-compat",[wj]:"fire-fcm",[Ej]:"fire-fcm-compat",[Ij]:"fire-perf",[Cj]:"fire-perf-compat",[bj]:"fire-rc",[Dj]:"fire-rc-compat",[Tj]:"fire-gcs",[Sj]:"fire-gcs-compat",[Aj]:"fire-fst",[xj]:"fire-fst-compat",[Mj]:"fire-vertex","fire-js":"fire-js",[Pj]:"fire-js-all"};var Uc=new Map,Oj=new Map,_v=new Map;function RS(t,e){try{t.container.addComponent(e)}catch(n){kr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Rn(t){let e=t.name;if(_v.has(e))return kr.debug(`There were multiple attempts to register component ${e}.`),!1;_v.set(e,t);for(let n of Uc.values())RS(n,t);for(let n of Oj.values())RS(n,t);return!0}function Mi(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Fr(t){return t.settings!==void 0}var kj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ai=new Pn("app","Firebase",kj);var wv=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Gt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ai.create("app-deleted",{appName:this._name})}};var xi=Rj;function Cv(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:vv,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ai.create("bad-app-name",{appName:String(i)});if(n||(n=av()),!n)throw Ai.create("no-options");let o=Uc.get(i);if(o){if(_o(n,o.options)&&_o(r,o.config))return o;throw Ai.create("duplicate-app",{appName:i})}let s=new fh(i);for(let u of _v.values())s.addComponent(u);let a=new wv(n,r,s);return Uc.set(i,a),a}function Pi(t=vv){let e=Uc.get(t);if(!e&&t===vv&&av())return Cv();if(!e)throw Ai.create("no-app",{appName:t});return e}function gh(){return Array.from(Uc.values())}function Ge(t,e,n){var r;let i=(r=Nj[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),kr.warn(a.join(" "));return}Rn(new Gt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var Fj="firebase-heartbeat-database",Vj=1,Bc="firebase-heartbeat-store",gv=null;function FS(){return gv||(gv=xS(Fj,Vj,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Bc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ai.create("idb-open",{originalErrorMessage:t.message})})),gv}function Lj(t){return E(this,null,function*(){try{let n=(yield FS()).transaction(Bc),r=yield n.objectStore(Bc).get(VS(t));return yield n.done,r}catch(e){if(e instanceof cn)kr.warn(e.message);else{let n=Ai.create("idb-get",{originalErrorMessage:e?.message});kr.warn(n.message)}}})}function NS(t,e){return E(this,null,function*(){try{let r=(yield FS()).transaction(Bc,"readwrite");yield r.objectStore(Bc).put(e,VS(t)),yield r.done}catch(n){if(n instanceof cn)kr.warn(n.message);else{let r=Ai.create("idb-set",{originalErrorMessage:n?.message});kr.warn(r.message)}}})}function VS(t){return`${t.name}!${t.options.appId}`}var jj=1024,Uj=30*24*60*60*1e3,Ev=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Iv(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return E(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=OS();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=Uj}),this._storage.overwrite(this._heartbeatsCache))}catch(r){kr.warn(r)}})}getHeartbeatsHeader(){return E(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=OS(),{heartbeatsToSend:r,unsentEntries:i}=Bj(this._heartbeatsCache.heartbeats),o=Lc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return kr.warn(n),""}})}};function OS(){return new Date().toISOString().substring(0,10)}function Bj(t,e=jj){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),kS(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),kS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Iv=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return E(this,null,function*(){return Bs()?_S().then(()=>!0).catch(()=>!1):!1})}read(){return E(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield Lj(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return E(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return NS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return E(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return NS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function kS(t){return Lc(JSON.stringify({version:2,heartbeats:t})).length}function $j(t){Rn(new Gt("platform-logger",e=>new mv(e),"PRIVATE")),Rn(new Gt("heartbeat",e=>new Ev(e),"PRIVATE")),Ge(yv,PS,t),Ge(yv,PS,"esm2017"),Ge("fire-js","")}$j("");var Hj="firebase",zj="10.14.1";Ge(Hj,zj,"app");var Vr=new wr("ANGULARFIRE2_VERSION");function Hs(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var zs=(t,e)=>{let n=e?[e]:gh(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Ri=class{constructor(){return zs(Dv)}},Dv="app-check";function $s(){}var mh=class{zone;delegate;constructor(e,n=kp){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,r)}},bv=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",$s,{},$s,$s)),n.pipe(it({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Ni=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new mh(Zone.current)),this.insideAngular=n.run(()=>new mh(Zone.current,el)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(W(be))};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function yh(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function qj(t){return yh().ngZone.runOutsideAngular(()=>t())}function Eo(t){return yh().ngZone.run(()=>t())}function Gj(t){return Wj(yh())(t)}function Wj(t){return function(n){return n=n.lift(new bv(t.ngZone)),n.pipe(ni(t.outsideAngular),ti(t.insideAngular))}}var Kj=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Eo(()=>t.apply(void 0,r))},Ot=(t,e)=>function(){let n,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(n||=Eo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",$s,{},$s,$s))),r[o]=Kj(r[o],n));let i=qj(()=>t.apply(this,r));if(!e)if(i instanceof de){let o=yh();return i.pipe(ni(o.outsideAngular),ti(o.insideAngular))}else return Eo(()=>i);return i instanceof de?i.pipe(Gj):i instanceof Promise?Eo(()=>new Promise((o,s)=>i.then(a=>Eo(()=>o(a)),a=>Eo(()=>s(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Eo(()=>i)};var Nn=class{constructor(e){return e}},Lr=class{constructor(){return gh()}};function Qj(t){return t&&t.length===1?t[0]:new Nn(Pi())}var Tv=new $("angularfire2._apps"),Yj={provide:Nn,useFactory:Qj,deps:[[new dt,Tv]]},Jj={provide:Lr,deps:[[new dt,Tv]]};function Zj(t){return(e,n)=>{let r=n.get(Ct);Ge("angularfire",Vr.full,"core"),Ge("angularfire",Vr.full,"app"),Ge("angular",_D.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new Nn(i)}}function LS(t,...e){return nn([Yj,Jj,{provide:Tv,useFactory:Zj(t),multi:!0,deps:[be,lt,Ni,...e]}])}var jS=Ot(Cv,!0);var Av=new Map,GS={activated:!1,tokenObservers:[]},Xj={initialized:!1,enabled:!1};function pt(t){return Av.get(t)||Object.assign({},GS)}function eU(t,e){return Av.set(t,e),Av.get(t)}function Ih(){return Xj}var WS="https://content-firebaseappcheck.googleapis.com/v1",tU="exchangeRecaptchaV3Token";var nU="exchangeDebugToken",US={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},rU=24*60*60*1e3;var Mv=class{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return E(this,null,function*(){this.stop();try{this.pending=new Or,this.pending.promise.catch(n=>{}),yield iU(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Or,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function iU(t){return new Promise(e=>{setTimeout(e,t)})}var oU={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},Yt=new Pn("appCheck","AppCheck",oU);function BS(t=!1){var e;return t?(e=self.grecaptcha)===null||e===void 0?void 0:e.enterprise:self.grecaptcha}function Pv(t){if(!pt(t).activated)throw Yt.create("use-before-activation",{appName:t.name})}function KS(t){let e=Math.round(t/1e3),n=Math.floor(e/(3600*24)),r=Math.floor((e-n*3600*24)/3600),i=Math.floor((e-n*3600*24-r*3600)/60),o=e-n*3600*24-r*3600-i*60,s="";return n&&(s+=vh(n)+"d:"),r&&(s+=vh(r)+"h:"),s+=vh(i)+"m:"+vh(o)+"s",s}function vh(t){return t===0?"00":t>=10?t.toString():"0"+t}function Rv(r,i){return E(this,arguments,function*({url:t,body:e},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let y=yield s.getHeartbeatsHeader();y&&(o["X-Firebase-Client"]=y)}let a={method:"POST",body:JSON.stringify(e),headers:o},u;try{u=yield fetch(t,a)}catch(y){throw Yt.create("fetch-network-error",{originalErrorMessage:y?.message})}if(u.status!==200)throw Yt.create("fetch-status-error",{httpStatus:u.status});let l;try{l=yield u.json()}catch(y){throw Yt.create("fetch-parse-error",{originalErrorMessage:y?.message})}let h=l.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw Yt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let p=Number(h[1])*1e3,m=Date.now();return{token:l.token,expireTimeMillis:m+p,issuedAtTimeMillis:m}})}function sU(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${WS}/projects/${n}/apps/${r}:${tU}?key=${i}`,body:{recaptcha_v3_token:e}}}function QS(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${WS}/projects/${n}/apps/${r}:${nU}?key=${i}`,body:{debug_token:e}}}var aU="firebase-app-check-database",cU=1,$c="firebase-app-check-store",YS="debug-token",_h=null;function JS(){return _h||(_h=new Promise((t,e)=>{try{let n=indexedDB.open(aU,cU);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Yt.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore($c,{keyPath:"compositeKey"})}}}catch(n){e(Yt.create("storage-open",{originalErrorMessage:n?.message}))}}),_h)}function uU(t){return XS(eA(t))}function lU(t,e){return ZS(eA(t),e)}function dU(t){return ZS(YS,t)}function hU(){return XS(YS)}function ZS(t,e){return E(this,null,function*(){let r=(yield JS()).transaction($c,"readwrite"),o=r.objectStore($c).put({compositeKey:t,value:e});return new Promise((s,a)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;a(Yt.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})})}function XS(t){return E(this,null,function*(){let n=(yield JS()).transaction($c,"readonly"),i=n.objectStore($c).get(t);return new Promise((o,s)=>{i.onsuccess=a=>{let u=a.target.result;o(u?u.value:void 0)},n.onerror=a=>{var u;s(Yt.create("storage-get",{originalErrorMessage:(u=a.target.error)===null||u===void 0?void 0:u.message}))}})})}function eA(t){return`${t.options.appId}-${t.name}`}var Hc=new Zn("@firebase/app-check");function fU(t){return E(this,null,function*(){if(Bs()){let e;try{e=yield uU(t)}catch(n){Hc.warn(`Failed to read token from IndexedDB. Error: ${n}`)}return e}})}function Sv(t,e){return Bs()?lU(t,e).catch(n=>{Hc.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function pU(){return E(this,null,function*(){let t;try{t=yield hU()}catch{}if(t)return t;{let e=IS();return dU(e).catch(n=>Hc.warn(`Failed to persist debug token to IndexedDB. Error: ${n}`)),e}})}function Nv(){return Ih().enabled}function Ov(){return E(this,null,function*(){let t=Ih();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}function gU(){let t=ov(),e=Ih();if(e.initialized=!0,typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN!="string"&&t.FIREBASE_APPCHECK_DEBUG_TOKEN!==!0)return;e.enabled=!0;let n=new Or;e.token=n,typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN=="string"?n.resolve(t.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(pU())}var mU={error:"UNKNOWN_ERROR"};function yU(t){return dh.encodeString(JSON.stringify(t),!1)}function wh(t,e=!1){return E(this,null,function*(){let n=t.app;Pv(n);let r=pt(n),i=r.token,o;if(i&&!qs(i)&&(r.token=void 0,i=void 0),!i){let u=yield r.cachedTokenPromise;u&&(qs(u)?i=u:yield Sv(n,void 0))}if(!e&&i&&qs(i))return{token:i.token};let s=!1;if(Nv()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Rv(QS(n,yield Ov()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),s=!0);let u=yield r.exchangeTokenPromise;return yield Sv(n,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),s=!0),i=yield pt(n).exchangeTokenPromise}catch(u){u.code==="appCheck/throttled"?Hc.warn(u.message):Hc.error(u),o=u}let a;return i?o?qs(i)?a={token:i.token,internalError:o}:a=HS(o):(a={token:i.token},r.token=i,yield Sv(n,i)):a=HS(o),s&&rA(n,a),a})}function vU(t){return E(this,null,function*(){let e=t.app;Pv(e);let{provider:n}=pt(e);if(Nv()){let r=yield Ov(),{token:i}=yield Rv(QS(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield n.getToken();return{token:r}}})}function tA(t,e,n,r){let{app:i}=t,o=pt(i),s={next:n,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&qs(o.token)){let a=o.token;Promise.resolve().then(()=>{n({token:a.token}),$S(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>$S(t))}function nA(t,e){let n=pt(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function $S(t){let{app:e}=t,n=pt(e),r=n.tokenRefresher;r||(r=_U(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function _U(t){let{app:e}=t;return new Mv(()=>E(this,null,function*(){let n=pt(e),r;if(n.token?r=yield wh(t,!0):r=yield wh(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=pt(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},US.RETRIAL_MIN_WAIT,US.RETRIAL_MAX_WAIT)}function rA(t,e){let n=pt(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function qs(t){return t.expireTimeMillis-Date.now()>0}function HS(t){return{token:yU(mU),error:t}}var xv=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=pt(this.app);for(let n of e)nA(this.app,n.next);return Promise.resolve()}};function wU(t,e){return new xv(t,e)}function EU(t){return{getToken:e=>wh(t,e),getLimitedUseToken:()=>vU(t),addTokenListener:e=>tA(t,"INTERNAL",e),removeTokenListener:e=>nA(t.app,e)}}var IU="@firebase/app-check",CU="0.8.8";var bU="https://www.google.com/recaptcha/api.js";function DU(t,e){let n=new Or,r=pt(t);r.reCAPTCHAState={initialized:n};let i=TU(t),o=BS(!1);return o?zS(t,e,o,i,n):MU(()=>{let s=BS(!1);if(!s)throw new Error("no recaptcha");zS(t,e,s,i,n)}),n.promise}function zS(t,e,n,r,i){n.ready(()=>{AU(t,e,n,r),i.resolve(n)})}function TU(t){let e=`fire_app_check_${t.name}`,n=document.createElement("div");return n.id=e,n.style.display="none",document.body.appendChild(n),e}function SU(t){return E(this,null,function*(){Pv(t);let n=yield pt(t).reCAPTCHAState.initialized.promise;return new Promise((r,i)=>{let o=pt(t).reCAPTCHAState;n.ready(()=>{r(n.execute(o.widgetId,{action:"fire_app_check"}))})})})}function AU(t,e,n,r){let i=n.render(r,{sitekey:e,size:"invisible",callback:()=>{pt(t).reCAPTCHAState.succeeded=!0},"error-callback":()=>{pt(t).reCAPTCHAState.succeeded=!1}}),o=pt(t);o.reCAPTCHAState=Object.assign(Object.assign({},o.reCAPTCHAState),{widgetId:i})}function MU(t){let e=document.createElement("script");e.src=bU,e.onload=t,document.head.appendChild(e)}var Eh=class t{constructor(e){this._siteKey=e,this._throttleData=null}getToken(){return E(this,null,function*(){var e,n,r;PU(this._throttleData);let i=yield SU(this._app).catch(s=>{throw Yt.create("recaptcha-error")});if(!(!((e=pt(this._app).reCAPTCHAState)===null||e===void 0)&&e.succeeded))throw Yt.create("recaptcha-error");let o;try{o=yield Rv(sU(this._app,i),this._heartbeatServiceProvider)}catch(s){throw!((n=s.code)===null||n===void 0)&&n.includes("fetch-status-error")?(this._throttleData=xU(Number((r=s.customData)===null||r===void 0?void 0:r.httpStatus),this._throttleData),Yt.create("throttled",{time:KS(this._throttleData.allowRequestsAfter-Date.now()),httpStatus:this._throttleData.httpStatus})):s}return this._throttleData=null,o})}initialize(e){this._app=e,this._heartbeatServiceProvider=Mi(e,"heartbeat"),DU(e,this._siteKey).catch(()=>{})}isEqual(e){return e instanceof t?this._siteKey===e._siteKey:!1}};function xU(t,e){if(t===404||t===403)return{backoffCount:1,allowRequestsAfter:Date.now()+rU,httpStatus:t};{let n=e?e.backoffCount:0,r=CS(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+r,httpStatus:t}}}function PU(t){if(t&&Date.now()-t.allowRequestsAfter<=0)throw Yt.create("throttled",{time:KS(t.allowRequestsAfter-Date.now()),httpStatus:t.httpStatus})}function iA(t=Pi(),e){t=ft(t);let n=Mi(t,"app-check");if(Ih().initialized||gU(),Nv()&&Ov().then(i=>console.log(`App Check debug token: ${i}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(o.isTokenAutoRefreshEnabled===e.isTokenAutoRefreshEnabled&&o.provider.isEqual(e.provider))return i;throw Yt.create("already-initialized",{appName:t.name})}let r=n.initialize({options:e});return RU(t,e.provider,e.isTokenAutoRefreshEnabled),pt(t).isTokenAutoRefreshEnabled&&tA(r,"INTERNAL",()=>{}),r}function RU(t,e,n){let r=eU(t,Object.assign({},GS));r.activated=!0,r.provider=e,r.cachedTokenPromise=fU(t).then(i=>(i&&qs(i)&&(r.token=i,rA(t,{token:i.token})),i)),r.isTokenAutoRefreshEnabled=n===void 0?t.automaticDataCollectionEnabled:n,r.provider.initialize(t)}function oA(t,e){return E(this,null,function*(){let n=yield wh(t,e);if(n.error)throw n.error;return{token:n.token}})}var NU="app-check",qS="app-check-internal";function OU(){Rn(new Gt(NU,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return wU(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(qS).initialize()})),Rn(new Gt(qS,t=>{let e=t.getProvider("app-check").getImmediate();return EU(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Ge(IU,CU)}OU();var Io=class{constructor(e){return e}};var kv=new $("angularfire2.app-check-instances");function kU(t,e){let n=Hs(Dv,t,e);return n&&new Io(n)}var FU=["localhost","0.0.0.0","127.0.0.1"],VU=typeof window<"u"&&FU.includes(window.location.hostname);function LU(t){return(e,n,r)=>{!Ds(r)&&(bD()||VU)&&(globalThis.FIREBASE_APPCHECK_DEBUG_TOKEN??=!0);let i=e.runOutsideAngular(()=>t(n));return new Io(i)}}var jU={provide:Ri,deps:[[new dt,kv]]},UU={provide:Io,useFactory:kU,deps:[[new dt,kv],Nn,Ct]};function sA(t,...e){return Ge("angularfire",Vr.full,"app-check"),nn([UU,jU,{provide:kv,useFactory:LU(t),multi:!0,deps:[be,lt,Ct,Ni,Lr,...e]}])}var aA=Ot(oA,!0),cA=Ot(iA,!0);var uA=(()=>{let e=class e{constructor(r){this.appCheck=r}ngOnInit(){this.logAppCheckToken()}logAppCheckToken(){aA(this.appCheck).then(r=>{}).catch(r=>{console.error("Error getting App Check Token:",r)})}};e.\u0275fac=function(i){return new(i||e)(B(Io))},e.\u0275cmp=Ye({type:e,selectors:[["app-root"]],standalone:!0,features:[Je],decls:3,vars:0,template:function(i,o){i&1&&fe(0,"app-header")(1,"router-outlet")(2,"app-footer")},dependencies:[Ls,Wy,bt,lh,cS,oT]});let t=e;return t})();var _A=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(B(Sn),B(Ht))},e.\u0275dir=Be({type:e});let t=e;return t})(),xh=(()=>{let e=class e extends _A{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=br(e)))(o||e)}})(),e.\u0275dir=Be({type:e,features:[gn]});let t=e;return t})(),Yc=new $("");var $U={provide:Yc,useExisting:zn(()=>_n),multi:!0};function HU(){let t=xr()?xr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var zU=new $(""),_n=(()=>{let e=class e extends _A{constructor(r,i,o){super(r,i),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!HU())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(B(Sn),B(Ht),B(zU,8))},e.\u0275dir=Be({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&Z("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[mi([$U]),gn]});let t=e;return t})();function qU(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}var Vv=new $(""),wA=new $("");function GU(t){return qU(t.value)?{required:!0}:null}function lA(t){return null}function EA(t){return t!=null}function IA(t){return po(t)?ke(t):t}function CA(t){let e={};return t.forEach(n=>{e=n!=null?j(j({},e),n):e}),Object.keys(e).length===0?null:e}function bA(t,e){return e.map(n=>n(t))}function WU(t){return!t.validate}function DA(t){return t.map(e=>WU(e)?e:n=>e.validate(n))}function KU(t){if(!t)return null;let e=t.filter(EA);return e.length==0?null:function(n){return CA(bA(n,e))}}function Lv(t){return t!=null?KU(DA(t)):null}function QU(t){if(!t)return null;let e=t.filter(EA);return e.length==0?null:function(n){let r=bA(n,e).map(IA);return Lp(r).pipe(X(CA))}}function jv(t){return t!=null?QU(DA(t)):null}function dA(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function YU(t){return t._rawValidators}function JU(t){return t._rawAsyncValidators}function Fv(t){return t?Array.isArray(t)?t:[t]:[]}function bh(t,e){return Array.isArray(t)?t.includes(e):t===e}function hA(t,e){let n=Fv(e);return Fv(t).forEach(i=>{bh(n,i)||n.push(i)}),n}function fA(t,e){return Fv(e).filter(n=>!bh(t,n))}var Dh=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Lv(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=jv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Ks=class extends Dh{get formDirective(){return null}get path(){return null}},Qc=class extends Dh{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Th=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},ZU={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},rY=Ee(j({},ZU),{"[class.ng-submitted]":"isSubmitted"}),er=(()=>{let e=class e extends Th{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(B(Qc,2))},e.\u0275dir=Be({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&vd("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[gn]});let t=e;return t})(),Ys=(()=>{let e=class e extends Th{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(B(Ks,10))},e.\u0275dir=Be({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,o){i&2&&vd("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[gn]});let t=e;return t})();var zc="VALID",Ch="INVALID",Gs="PENDING",qc="DISABLED",Qs=class{},Sh=class extends Qs{constructor(e,n){super(),this.value=e,this.source=n}},Wc=class extends Qs{constructor(e,n){super(),this.pristine=e,this.source=n}},Kc=class extends Qs{constructor(e,n){super(),this.touched=e,this.source=n}},Ws=class extends Qs{constructor(e,n){super(),this.status=e,this.source=n}};function TA(t){return(Ph(t)?t.validators:t)||null}function XU(t){return Array.isArray(t)?Lv(t):t||null}function SA(t,e){return(Ph(e)?e.asyncValidators:t)||null}function e3(t){return Array.isArray(t)?jv(t):t||null}function Ph(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function t3(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new G(1e3,"");if(!r[n])throw new G(1001,"")}function n3(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new G(1002,"")})}var Ah=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._events=new mt,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===zc}get invalid(){return this.status===Ch}get pending(){return this.status==Gs}get disabled(){return this.status===qc}get enabled(){return this.status!==qc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(hA(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(hA(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(fA(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(fA(e,this._rawAsyncValidators))}hasValidator(e){return bh(this._rawValidators,e)}hasAsyncValidator(e){return bh(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(Ee(j({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Kc(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new Kc(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(Ee(j({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Wc(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new Wc(!0,r))}markAsPending(e={}){this.status=Gs;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ws(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(Ee(j({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=qc,this.errors=null,this._forEachChild(i=>{i.disable(Ee(j({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Sh(this.value,r)),this._events.next(new Ws(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Ee(j({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=zc,this._forEachChild(r=>{r.enable(Ee(j({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Ee(j({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===zc||this.status===Gs)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Sh(this.value,n)),this._events.next(new Ws(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(Ee(j({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?qc:zc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Gs,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=IA(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Ws(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new Qe,this.statusChanges=new Qe}_calculateStatus(){return this._allControlsDisabled()?qc:this.errors?Ch:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Gs)?Gs:this._anyControlsHaveStatus(Ch)?Ch:zc}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new Wc(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new Kc(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Ph(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=XU(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=e3(this._rawAsyncValidators)}},Mh=class extends Ah{constructor(e,n,r){super(TA(n),SA(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){n3(this,!0,e),Object.keys(e).forEach(r=>{t3(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Uv=new $("CallSetDisabledState",{providedIn:"root",factory:()=>Bv}),Bv="always";function r3(t,e){return[...e.path,t]}function AA(t,e,n=Bv){MA(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),o3(t,e),a3(t,e),s3(t,e),i3(t,e)}function pA(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function i3(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function MA(t,e){let n=YU(t);e.validator!==null?t.setValidators(dA(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=JU(t);e.asyncValidator!==null?t.setAsyncValidators(dA(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();pA(e._rawValidators,i),pA(e._rawAsyncValidators,i)}function o3(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&xA(t,e)})}function s3(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&xA(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function xA(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function a3(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function c3(t,e){t==null,MA(t,e)}function u3(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function l3(t){return Object.getPrototypeOf(t.constructor)===xh}function d3(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function h3(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===_n?n=o:l3(o)?r=o:i=o}),i||r||n||null}var f3={provide:Ks,useExisting:zn(()=>Co)},Gc=Promise.resolve(),Co=(()=>{let e=class e extends Ks{constructor(r,i,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Qe,this.form=new Mh({},Lv(r),jv(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){Gc.then(()=>{let i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),AA(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){Gc.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){Gc.then(()=>{let i=this._findContainer(r.path),o=new Mh({});c3(o,r),i.registerControl(r.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){Gc.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){Gc.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submitted=!0,d3(this.form,this._directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}};e.\u0275fac=function(i){return new(i||e)(B(Vv,10),B(wA,10),B(Uv,8))},e.\u0275dir=Be({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,o){i&1&&Z("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[mi([f3]),gn]});let t=e;return t})();function gA(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function mA(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var p3=class extends Ah{constructor(e=null,n,r){super(TA(n),SA(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ph(n)&&(n.nonNullable||n.initialValueIsDefault)&&(mA(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){gA(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){gA(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){mA(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var g3={provide:Qc,useExisting:zn(()=>On)},yA=Promise.resolve(),On=(()=>{let e=class e extends Qc{constructor(r,i,o,s,a,u){super(),this._changeDetectorRef=a,this.callSetDisabledState=u,this.control=new p3,this._registered=!1,this.name="",this.update=new Qe,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=h3(this,s)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),u3(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){AA(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){yA.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,o=i!==0&&vi(i);yA.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?r3(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(B(Ks,9),B(Vv,10),B(wA,10),B(Yc,10),B(yi,8),B(Uv,8))},e.\u0275dir=Be({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[mi([g3]),gn,Cr]});let t=e;return t})(),Js=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Be({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})(),m3={provide:Yc,useExisting:zn(()=>$v),multi:!0},$v=(()=>{let e=class e extends xh{writeValue(r){let i=r??"";this.setProperty("value",i)}registerOnChange(r){this.onChange=i=>{r(i==""?null:parseFloat(i))}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=br(e)))(o||e)}})(),e.\u0275dir=Be({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,o){i&1&&Z("input",function(a){return o.onChange(a.target.value)})("blur",function(){return o.onTouched()})},features:[mi([m3]),gn]});let t=e;return t})();var y3={provide:Yc,useExisting:zn(()=>Zs),multi:!0};function PA(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function v3(t){return t.split(":")[0]}var Zs=(()=>{let e=class e extends xh{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i=this._getOptionId(r),o=PA(i,r);this.setProperty("value",o)}registerOnChange(r){this.onChange=i=>{this.value=this._getOptionValue(i),r(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),r))return i;return null}_getOptionValue(r){let i=v3(r);return this._optionMap.has(i)?this._optionMap.get(i):r}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=br(e)))(o||e)}})(),e.\u0275dir=Be({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,o){i&1&&Z("change",function(a){return o.onChange(a.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[mi([y3]),gn]});let t=e;return t})(),Rh=(()=>{let e=class e{constructor(r,i,o){this._element=r,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(r){this._select!=null&&(this._select._optionMap.set(this.id,r),this._setElementValue(PA(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._setElementValue(r),this._select&&this._select.writeValue(this._select.value)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(B(Ht),B(Sn),B(Zs,9))},e.\u0275dir=Be({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})(),_3={provide:Yc,useExisting:zn(()=>RA),multi:!0};function vA(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function w3(t){return t.split(":")[0]}var RA=(()=>{let e=class e extends xh{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i;if(Array.isArray(r)){let o=r.map(s=>this._getOptionId(s));i=(s,a)=>{s._setSelected(o.indexOf(a.toString())>-1)}}else i=(o,s)=>{o._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(r){this.onChange=i=>{let o=[],s=i.selectedOptions;if(s!==void 0){let a=s;for(let u=0;u<a.length;u++){let l=a[u],h=this._getOptionValue(l.value);o.push(h)}}else{let a=i.options;for(let u=0;u<a.length;u++){let l=a[u];if(l.selected){let h=this._getOptionValue(l.value);o.push(h)}}}this.value=o,r(o)}}_registerOption(r){let i=(this._idCounter++).toString();return this._optionMap.set(i,r),i}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,r))return i;return null}_getOptionValue(r){let i=w3(r);return this._optionMap.has(i)?this._optionMap.get(i)._value:r}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=br(e)))(o||e)}})(),e.\u0275dir=Be({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,o){i&1&&Z("change",function(a){return o.onChange(a.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[mi([_3]),gn]});let t=e;return t})(),Nh=(()=>{let e=class e{constructor(r,i,o){this._element=r,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(r){this._select!=null&&(this._value=r,this._setElementValue(vA(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._select?(this._value=r,this._setElementValue(vA(this.id,r)),this._select.writeValue(this._select.value)):this._setElementValue(r)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}_setSelected(r){this._renderer.setProperty(this._element.nativeElement,"selected",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(B(Ht),B(Sn),B(RA,9))},e.\u0275dir=Be({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})();var E3=(()=>{let e=class e{constructor(){this._validator=lA}ngOnChanges(r){if(this.inputName in r){let i=this.normalizeInput(r[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):lA,this._onChange&&this._onChange()}}validate(r){return this._validator(r)}registerOnValidatorChange(r){this._onChange=r}enabled(r){return r!=null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Be({type:e,features:[Cr]});let t=e;return t})();var I3={provide:Vv,useExisting:zn(()=>bo),multi:!0};var bo=(()=>{let e=class e extends E3{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=vi,this.createValidator=r=>GU}enabled(r){return r}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=br(e)))(o||e)}})(),e.\u0275dir=Be({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,o){i&2&&sc("required",o._enabled?"":null)},inputs:{required:"required"},features:[mi([I3]),gn]});let t=e;return t})();var C3=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Gn({type:e}),e.\u0275inj=qn({});let t=e;return t})();var tr=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:Uv,useValue:r.callSetDisabledState??Bv}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Gn({type:e}),e.\u0275inj=qn({imports:[C3]});let t=e;return t})();var b3=["slides"],NA=(()=>{let e=class e{constructor(r){this.platformId=r,this.intervalForSlider=1e4,this.withBackground=!1,this.showArrows=!0,this.dragging=!1}onClickLeft(){if(this.slides){let r=this.slides.nativeElement,i=r.scrollWidth/r.children.length;r.scrollLeft-=i,r.scrollLeft<0&&(r.scrollLeft=r.scrollWidth-i)}}onClickRight(){if(this.slides){let r=this.slides.nativeElement,i=r.scrollWidth/r.children.length;r.scrollLeft+=i,r.scrollLeft>=r.scrollWidth&&(r.scrollLeft=0)}}ngAfterViewInit(){ty(this.platformId)&&(this.autoSlideSub=jp(this.intervalForSlider,this.intervalForSlider).subscribe(()=>this.onClickRight()))}onDrag(r,i){if(i==="start")this.dragging=!0;else if(i==="end")this.dragging=!1;else if(i==="move"&&this.dragging){let o=this.slides.nativeElement,s=r instanceof MouseEvent?r.movementX:r.touches[0].clientX;o.scrollLeft-=s}}ngOnDestroy(){this.autoSlideSub&&this.autoSlideSub.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)(B(Ct))},e.\u0275cmp=Ye({type:e,selectors:[["app-carousel"]],viewQuery:function(i,o){if(i&1&&pD(b3,5),i&2){let s;_d(s=wd())&&(o.slides=s.first)}},inputs:{intervalForSlider:"intervalForSlider",withBackground:"withBackground",showArrows:"showArrows"},standalone:!0,features:[Je],decls:13,vars:0,consts:[["slides",""],["id","carouselExampleIndicators","data-ride","carousel",1,"carousel","slide"],[1,"carousel-inner"],[1,"carousel-item","active"],["src","./slide/slide1.jpg","alt","Slide 1",1,"d-block","w-100"],[1,"carousel-item"],["src","./slide/slide2.jpg","alt","Slide 2",1,"d-block","w-100"],["src","./slide/slide3.jpg","alt","Slide 3",1,"d-block","w-100"],["href","#carouselExampleIndicators","role","button","data-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],["href","#carouselExampleIndicators","role","button","data-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"]],template:function(i,o){i&1&&(S(0,"div",1)(1,"div",2,0)(3,"div",3),fe(4,"img",4),M(),S(5,"div",5),fe(6,"img",6),M(),S(7,"div",5),fe(8,"img",7),M()(),S(9,"a",8),fe(10,"span",9),M(),S(11,"a",10),fe(12,"span",11),M()())},dependencies:[bt],styles:[".carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:50vh;object-fit:cover}.carousel-container[_ngcontent-%COMP%]{position:relative;width:100%;height:50vh;overflow:hidden}.carousel-inner[_ngcontent-%COMP%]{display:flex;overflow:hidden;width:100%;height:100%}.carousel-item[_ngcontent-%COMP%]{background:linear-gradient(to bottom,#fff,#7a73f6);display:flex;align-items:center;justify-content:center;transition:transform 5s ease-in-out}@media (max-width: 576px){.carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:40vh}}"]});let t=e;return t})();function KA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var QA=KA,YA=new Pn("auth","Firebase",KA());var jh=new Zn("@firebase/auth");function D3(t,...e){jh.logLevel<=_e.WARN&&jh.warn(`Auth (${xi}): ${t}`,...e)}function kh(t,...e){jh.logLevel<=_e.ERROR&&jh.error(`Auth (${xi}): ${t}`,...e)}function ki(t,...e){throw c_(t,...e)}function To(t,...e){return c_(t,...e)}function JA(t,e,n){let r=Object.assign(Object.assign({},QA()),{[e]:n});return new Pn("auth","Firebase",r).create(e,{appName:t.name})}function Do(t){return JA(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function c_(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return YA.create(t,...e)}function ae(t,e,...n){if(!t)throw c_(e,...n)}function jr(t){let e="INTERNAL ASSERTION FAILED: "+t;throw kh(e),new Error(e)}function Fi(t,e){t||jr(e)}function Gv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function T3(){return OA()==="http:"||OA()==="https:"}function OA(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function S3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(T3()||gS()||"connection"in navigator)?navigator.onLine:!0}function A3(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var So=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Fi(n>e,"Short delay should be less than long delay!"),this.isMobile=fS()||mS()}get(){return S3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function u_(t,e){Fi(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Uh=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;jr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;jr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;jr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var M3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var x3=new So(3e4,6e4);function l_(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function ea(o,s,a,u){return E(this,arguments,function*(t,e,n,r,i={}){return ZA(t,i,()=>E(this,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=jc(Object.assign({key:t.config.apiKey},h)).slice(1),m=yield t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);let y=Object.assign({method:e,headers:m},l);return pS()||(y.referrerPolicy="no-referrer"),Uh.fetch()(XA(t,t.config.apiHost,n,p),y)}))})}function ZA(t,e,n){return E(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},M3),e);try{let i=new Wv(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Oh(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Oh(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw Oh(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw Oh(t,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw JA(t,h,l);ki(t,h)}}catch(i){if(i instanceof cn)throw i;ki(t,"network-request-failed",{message:String(i)})}})}function P3(o,s,a,u){return E(this,arguments,function*(t,e,n,r,i={}){let l=yield ea(t,e,n,r,i);return"mfaPendingCredential"in l&&ki(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function XA(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?u_(t.config,i):`${t.config.apiScheme}://${i}`}var Wv=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(To(this.auth,"network-request-failed")),x3.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Oh(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=To(t,e,r);return i.customData._tokenResponse=n,i}function R3(t,e){return E(this,null,function*(){return ea(t,"POST","/v1/accounts:delete",e)})}function eM(t,e){return E(this,null,function*(){return ea(t,"POST","/v1/accounts:lookup",e)})}function Zc(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function d_(t,e=!1){return E(this,null,function*(){let n=ft(t),r=yield n.getIdToken(e),i=h_(r);ae(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Zc(Hv(i.auth_time)),issuedAtTime:Zc(Hv(i.iat)),expirationTime:Zc(Hv(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function Hv(t){return Number(t)*1e3}function h_(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return kh("JWT malformed, contained fewer than 3 sections"),null;try{let i=iv(n);return i?JSON.parse(i):(kh("Failed to decode base64 JWT payload"),null)}catch(i){return kh("Caught error parsing JWT payload as JSON",i?.toString()),null}}function kA(t){let e=h_(t);return ae(e,"internal-error"),ae(typeof e.exp<"u","internal-error"),ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function eu(t,e,n=!1){return E(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof cn&&N3(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function N3({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Kv=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>E(this,null,function*(){yield this.iteration()}),n)}iteration(){return E(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var tu=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zc(this.lastLoginAt),this.creationTime=Zc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Bh(t){return E(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield eu(t,eM(n,{idToken:r}));ae(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?tM(o.providerUserInfo):[],a=O3(t.providerData,s),u=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new tu(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,p)})}function f_(t){return E(this,null,function*(){let e=ft(t);yield Bh(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function O3(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function tM(t){return t.map(e=>{var{providerId:n}=e,r=Fp(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function k3(t,e){return E(this,null,function*(){let n=yield ZA(t,{},()=>E(this,null,function*(){let r=jc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=XA(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Uh.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function F3(t,e){return E(this,null,function*(){return ea(t,"POST","/v2/accounts:revokeToken",l_(t,e))})}var Xc=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ae(e.idToken,"internal-error"),ae(typeof e.idToken<"u","internal-error"),ae(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):kA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ae(e.length!==0,"internal-error");let n=kA(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return E(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return E(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield k3(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(ae(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(ae(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(ae(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return jr("not implemented")}};function Oi(t,e){ae(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Xs=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Fp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Kv(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new tu(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return E(this,null,function*(){let n=yield eu(this,this.stsTokenManager.getToken(this.auth,e));return ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return d_(this,e)}reload(){return f_(this)}_assign(e){this!==e&&(ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return E(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Bh(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return E(this,null,function*(){if(Fr(this.auth.app))return Promise.reject(Do(this.auth));let e=yield this.getIdToken();return yield eu(this,R3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,u,l,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,y=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,T=(s=n.photoURL)!==null&&s!==void 0?s:void 0,R=(a=n.tenantId)!==null&&a!==void 0?a:void 0,x=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,F=(l=n.createdAt)!==null&&l!==void 0?l:void 0,K=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:q,emailVerified:Y,isAnonymous:Ne,providerData:te,stsTokenManager:I}=n;ae(q&&I,e,"internal-error");let v=Xc.fromJSON(this.name,I);ae(typeof q=="string",e,"internal-error"),Oi(p,e.name),Oi(m,e.name),ae(typeof Y=="boolean",e,"internal-error"),ae(typeof Ne=="boolean",e,"internal-error"),Oi(y,e.name),Oi(T,e.name),Oi(R,e.name),Oi(x,e.name),Oi(F,e.name),Oi(K,e.name);let _=new t({uid:q,auth:e,email:m,emailVerified:Y,displayName:p,isAnonymous:Ne,photoURL:T,phoneNumber:y,tenantId:R,stsTokenManager:v,createdAt:F,lastLoginAt:K});return te&&Array.isArray(te)&&(_.providerData=te.map(C=>Object.assign({},C))),x&&(_._redirectEventId=x),_}static _fromIdTokenResponse(e,n,r=!1){return E(this,null,function*(){let i=new Xc;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Bh(o),o})}static _fromGetAccountInfoResponse(e,n,r){return E(this,null,function*(){let i=n.users[0];ae(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?tM(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Xc;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new tu(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var FA=new Map;function Ur(t){Fi(t instanceof Function,"Expected a class definition");let e=FA.get(t);return e?(Fi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,FA.set(t,e),e)}var V3=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return E(this,null,function*(){return!0})}_set(n,r){return E(this,null,function*(){this.storage[n]=r})}_get(n){return E(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return E(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Qv=V3;function Fh(t,e,n){return`firebase:${t}:${e}:${n}`}var $h=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Fh(this.userKey,i.apiKey,o),this.fullPersistenceKey=Fh("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return E(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Xs._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return E(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return E(this,null,function*(){if(!n.length)return new t(Ur(Qv),e,r);let i=(yield Promise.all(n.map(l=>E(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||Ur(Qv),s=Fh(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let h=yield l._get(s);if(h){let p=Xs._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new t(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>E(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,r))})}};function VA(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(oM(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(nM(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(aM(e))return"Blackberry";if(cM(e))return"Webos";if(rM(e))return"Safari";if((e.includes("chrome/")||iM(e))&&!e.includes("edge/"))return"Chrome";if(sM(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function nM(t=wt()){return/firefox\//i.test(t)}function rM(t=wt()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function iM(t=wt()){return/crios\//i.test(t)}function oM(t=wt()){return/iemobile/i.test(t)}function sM(t=wt()){return/android/i.test(t)}function aM(t=wt()){return/blackberry/i.test(t)}function cM(t=wt()){return/webos/i.test(t)}function p_(t=wt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function L3(t=wt()){var e;return p_(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function j3(){return yS()&&document.documentMode===10}function uM(t=wt()){return p_(t)||sM(t)||cM(t)||aM(t)||/windows phone/i.test(t)||oM(t)}function lM(t,e=[]){let n;switch(t){case"Browser":n=VA(wt());break;case"Worker":n=`${VA(wt())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${xi}/${r}`}var Yv=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return E(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function U3(n){return E(this,arguments,function*(t,e={}){return ea(t,"GET","/v2/passwordPolicy",l_(t,e))})}var B3=6,Jv=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:B3,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Zv=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Hh(this),this.idTokenSubscription=new Hh(this),this.beforeStateQueue=new Yv(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=YA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ur(n)),this._initializationPromise=this.queue(()=>E(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield $h.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return E(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return E(this,null,function*(){try{let n=yield eM(this,{idToken:e}),r=yield Xs._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return E(this,null,function*(){var n;if(Fr(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ae(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return E(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return E(this,null,function*(){try{yield Bh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=A3()}_delete(){return E(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return E(this,null,function*(){if(Fr(this.app))return Promise.reject(Do(this));let n=e?ft(e):null;return n&&ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return E(this,null,function*(){if(!this._deleted)return e&&ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>E(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return E(this,null,function*(){return Fr(this.app)?Promise.reject(Do(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Fr(this.app)?Promise.reject(Do(this)):this.queue(()=>E(this,null,function*(){yield this.assertedPersistence.setPersistence(Ur(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return E(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return E(this,null,function*(){let e=yield U3(this),n=new Jv(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Pn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return E(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield F3(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return E(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return E(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Ur(e)||this._popupRedirectResolver;ae(n,this,"argument-error"),this.redirectPersistenceManager=yield $h.create(this,[Ur(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return E(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>E(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return E(this,null,function*(){if(e===this.currentUser)return this.queue(()=>E(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ae(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(n);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return E(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=lM(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return E(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return E(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&D3(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function g_(t){return ft(t)}var Hh=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=ES(n=>this.observer=n)}get next(){return ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var m_={loadJS(){return E(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function $3(t){m_=t}function H3(t){return m_.loadJS(t)}function z3(){return m_.gapiScript}function dM(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function y_(t,e){let n=Mi(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(_o(o,e??{}))return i;ki(i,"already-initialized")}return n.initialize({options:e})}function q3(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Ur);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function v_(t,e,n){let r=g_(t);ae(r._canInitEmulator,r,"emulator-config-failed"),ae(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=hM(e),{host:s,port:a}=G3(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||W3()}function hM(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function G3(t){let e=hM(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:LA(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:LA(s)}}}function LA(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function W3(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var zh=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return jr("not implemented")}_getIdTokenResponse(e){return jr("not implemented")}_linkToIdToken(e,n){return jr("not implemented")}_getReauthenticationResolver(e){return jr("not implemented")}};function zv(t,e){return E(this,null,function*(){return P3(t,"POST","/v1/accounts:signInWithIdp",l_(t,e))})}var qh=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Xv=class extends qh{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var nu=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return E(this,null,function*(){let o=yield Xs._fromIdTokenResponse(e,r,i),s=jA(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return E(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=jA(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function jA(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var e_=class t extends cn{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function fM(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?e_._fromErrorAndOperation(t,o,e,r):o})}function K3(t,e,n=!1){return E(this,null,function*(){let r=yield eu(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return nu._forOperation(t,"link",r)})}function Q3(t,e,n=!1){return E(this,null,function*(){let{auth:r}=t;if(Fr(r.app))return Promise.reject(Do(r));let i="reauthenticate";try{let o=yield eu(t,fM(r,i,e,t),n);ae(o.idToken,r,"internal-error");let s=h_(o.idToken);ae(s,r,"internal-error");let{sub:a}=s;return ae(t.uid===a,r,"user-mismatch"),nu._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&ki(r,"user-mismatch"),o}})}function Y3(t,e,n=!1){return E(this,null,function*(){if(Fr(t.app))return Promise.reject(Do(t));let r="signIn",i=yield fM(t,r,e),o=yield nu._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})}function __(t,e,n,r){return ft(t).onIdTokenChanged(e,n,r)}function w_(t,e,n){return ft(t).beforeAuthStateChanged(e,n)}var Gh="__sak";var Wh=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Gh,"1"),this.storage.removeItem(Gh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var J3=1e3,Z3=10,X3=(()=>{class t extends Wh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=uM(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);j3()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,Z3):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},J3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return E(this,null,function*(){yield Xr(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return E(this,null,function*(){let r=yield Xr(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return E(this,null,function*(){yield Xr(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),pM=X3;var eB=(()=>{class t extends Wh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),E_=eB;function tB(t){return Promise.all(t.map(e=>E(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var nB=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return E(this,null,function*(){let r=n,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(h=>E(this,null,function*(){return h(r.origin,s)})),l=yield tB(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function gM(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var t_=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return E(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let l=gM("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let m=p;if(m.data.eventId===l)switch(m.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(m.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function nr(){return window}function rB(t){nr().location.href=t}function mM(){return typeof nr().WorkerGlobalScope<"u"&&typeof nr().importScripts=="function"}function iB(){return E(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function oB(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function sB(){return mM()?self:null}var yM="firebaseLocalStorageDb",aB=1,Kh="firebaseLocalStorage",vM="fbase_key",Ao=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Yh(t,e){return t.transaction([Kh],e?"readwrite":"readonly").objectStore(Kh)}function cB(){let t=indexedDB.deleteDatabase(yM);return new Ao(t).toPromise()}function n_(){let t=indexedDB.open(yM,aB);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Kh,{keyPath:vM})}catch(i){n(i)}}),t.addEventListener("success",()=>E(this,null,function*(){let r=t.result;r.objectStoreNames.contains(Kh)?e(r):(r.close(),yield cB(),e(yield n_()))}))})}function UA(t,e,n){return E(this,null,function*(){let r=Yh(t,!0).put({[vM]:e,value:n});return new Ao(r).toPromise()})}function uB(t,e){return E(this,null,function*(){let n=Yh(t,!1).get(e),r=yield new Ao(n).toPromise();return r===void 0?null:r.value})}function BA(t,e){let n=Yh(t,!0).delete(e);return new Ao(n).toPromise()}var lB=800,dB=3,hB=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return E(this,null,function*(){return this.db?this.db:(this.db=yield n_(),this.db)})}_withRetries(n){return E(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>dB)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return E(this,null,function*(){return mM()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return E(this,null,function*(){this.receiver=nB._getInstance(sB()),this.receiver._subscribe("keyChanged",(n,r)=>E(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>E(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return E(this,null,function*(){var n,r;if(this.activeServiceWorker=yield iB(),!this.activeServiceWorker)return;this.sender=new t_(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return E(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||oB()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return E(this,null,function*(){try{if(!indexedDB)return!1;let n=yield n_();return yield UA(n,Gh,"1"),yield BA(n,Gh),!0}catch{}return!1})}_withPendingWrite(n){return E(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return E(this,null,function*(){return this._withPendingWrite(()=>E(this,null,function*(){return yield this._withRetries(i=>UA(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return E(this,null,function*(){let r=yield this._withRetries(i=>uB(i,n));return this.localCache[n]=r,r})}_remove(n){return E(this,null,function*(){return this._withPendingWrite(()=>E(this,null,function*(){return yield this._withRetries(r=>BA(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return E(this,null,function*(){let n=yield this._withRetries(o=>{let s=Yh(o,!1).getAll();return new Ao(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>E(this,null,function*(){return this._poll()}),lB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),_M=hB;var IY=dM("rcb"),CY=new So(3e4,6e4);function fB(t,e){return e?Ur(e):(ae(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var ru=class extends zh{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return zv(e,this._buildIdpRequest())}_linkToIdToken(e,n){return zv(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return zv(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function pB(t){return Y3(t.auth,new ru(t),t.bypassAuthState)}function gB(t){let{auth:e,user:n}=t;return ae(n,e,"internal-error"),Q3(n,new ru(t),t.bypassAuthState)}function mB(t){return E(this,null,function*(){let{auth:e,user:n}=t;return ae(n,e,"internal-error"),K3(n,new ru(t),t.bypassAuthState)})}var r_=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>E(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return E(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return pB;case"linkViaPopup":case"linkViaRedirect":return mB;case"reauthViaPopup":case"reauthViaRedirect":return gB;default:ki(this.auth,"internal-error")}}resolve(e){Fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var bY=new So(2e3,1e4);var yB="pendingRedirect",Vh=new Map,i_=class t extends r_{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return E(this,null,function*(){let e=Vh.get(this.auth._key());if(!e){try{let r=(yield vB(this.resolver,this.auth))?yield Xr(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Vh.set(this.auth._key(),e)}return this.bypassAuthState||Vh.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return E(this,null,function*(){if(e.type==="signInViaRedirect")return Xr(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Xr(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return E(this,null,function*(){})}cleanUp(){}};function vB(t,e){return E(this,null,function*(){let n=EB(e),r=wB(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function _B(t,e){Vh.set(t._key(),e)}function wB(t){return Ur(t._redirectPersistence)}function EB(t){return Fh(yB,t.config.apiKey,t.name)}function IB(t,e,n=!1){return E(this,null,function*(){if(Fr(t.app))return Promise.reject(Do(t));let r=g_(t),i=fB(r,e),s=yield new i_(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var CB=10*60*1e3,o_=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!bB(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!wM(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(To(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=CB&&this.cachedEventUids.clear(),this.cachedEventUids.has($A(e))}saveEventToCache(e){this.cachedEventUids.add($A(e)),this.lastProcessedEventTime=Date.now()}};function $A(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function wM({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function bB(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wM(t);default:return!1}}function DB(n){return E(this,arguments,function*(t,e={}){return ea(t,"GET","/v1/projects",e)})}var TB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,SB=/^https?/;function AB(t){return E(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield DB(t);for(let n of e)try{if(MB(n))return}catch{}ki(t,"unauthorized-domain")})}function MB(t){let e=Gv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!SB.test(n))return!1;if(TB.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var xB=new So(3e4,6e4);function HA(){let t=nr().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function PB(t){return new Promise((e,n)=>{var r,i,o;function s(){HA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{HA(),n(To(t,"network-request-failed"))},timeout:xB.get()})}if(!((i=(r=nr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=nr().gapi)===null||o===void 0)&&o.load)s();else{let a=dM("iframefcb");return nr()[a]=()=>{gapi.load?s():n(To(t,"network-request-failed"))},H3(`${z3()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw Lh=null,e})}var Lh=null;function RB(t){return Lh=Lh||PB(t),Lh}var NB=new So(5e3,15e3),OB="__/auth/iframe",kB="emulator/auth/iframe",FB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},VB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function LB(t){let e=t.config;ae(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?u_(e,kB):`https://${t.config.authDomain}/${OB}`,r={apiKey:e.apiKey,appName:t.name,v:xi},i=VB.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${jc(r).slice(1)}`}function jB(t){return E(this,null,function*(){let e=yield RB(t),n=nr().gapi;return ae(n,t,"internal-error"),e.open({where:document.body,url:LB(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:FB,dontclear:!0},r=>new Promise((i,o)=>E(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=To(t,"network-request-failed"),a=nr().setTimeout(()=>{o(s)},NB.get());function u(){nr().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var UB={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},BB=500,$B=600,HB="_blank",zB="http://localhost",Qh=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function qB(t,e,n,r=BB,i=$B){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},UB),{width:r.toString(),height:i.toString(),top:o,left:s}),l=wt().toLowerCase();n&&(a=iM(l)?HB:n),nM(l)&&(e=e||zB,u.scrollbars="yes");let h=Object.entries(u).reduce((m,[y,T])=>`${m}${y}=${T},`,"");if(L3(l)&&a!=="_self")return GB(e||"",a),new Qh(null);let p=window.open(e||"",a,h);ae(p,t,"popup-blocked");try{p.focus()}catch{}return new Qh(p)}function GB(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var WB="__/auth/handler",KB="emulator/auth/handler",QB=encodeURIComponent("fac");function zA(t,e,n,r,i,o){return E(this,null,function*(){ae(t.config.authDomain,t,"auth-domain-config-required"),ae(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:xi,eventId:i};if(e instanceof qh){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",wS(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof Xv){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield t._getAppCheckToken(),l=u?`#${QB}=${encodeURIComponent(u)}`:"";return`${YB(t)}?${jc(a).slice(1)}${l}`})}function YB({config:t}){return t.emulator?u_(t,KB):`https://${t.authDomain}/${WB}`}var qv="webStorageSupport",s_=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=E_,this._completeRedirectFn=IB,this._overrideRedirectResult=_B}_openPopup(e,n,r,i){return E(this,null,function*(){var o;Fi((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield zA(e,n,r,Gv(),i);return qB(e,s,gM())})}_openRedirect(e,n,r,i){return E(this,null,function*(){yield this._originValidation(e);let o=yield zA(e,n,r,Gv(),i);return rB(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Fi(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return E(this,null,function*(){let n=yield jB(e),r=new o_(e);return n.register("authEvent",i=>(ae(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(qv,{type:qv},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[qv];s!==void 0&&n(!!s),ki(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=AB(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return uM()||rM()||p_()}},EM=s_;var qA="@firebase/auth",GA="1.7.9";var a_=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return E(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function JB(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ZB(t){Rn(new Gt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;ae(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:lM(t)},l=new Zv(r,i,o,u);return q3(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Rn(new Gt("auth-internal",e=>{let n=g_(e.getProvider("auth").getImmediate());return(r=>new a_(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ge(qA,GA,JB(t)),Ge(qA,GA,"esm2017")}var XB=5*60,e$=cv("authIdTokenMaxAge")||XB,WA=null,t$=t=>e=>E(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>e$)return;let i=n?.token;WA!==i&&(WA=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function I_(t=Pi()){let e=Mi(t,"auth");if(e.isInitialized())return e.getImmediate();let n=y_(t,{popupRedirectResolver:EM,persistence:[_M,pM,E_]}),r=cv("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=t$(o.toString());w_(n,s,()=>s(n.currentUser)),__(n,a=>s(a))}}let i=sv("auth");return i&&v_(n,`http://${i}`),n}function n$(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}$3({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=To("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",n$().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ZB("Browser");var IM="auth",iu=class{constructor(e){return e}},ou=class{constructor(){return zs(IM)}};var C_=new $("angularfire2.auth-instances");function Y$(t,e){let n=Hs(IM,t,e);return n&&new iu(n)}function J$(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new iu(r)}}var Z$={provide:ou,deps:[[new dt,C_]]},X$={provide:iu,useFactory:Y$,deps:[[new dt,C_],Nn]};function CM(t,...e){return Ge("angularfire",Vr.full,"auth"),nn([X$,Z$,{provide:C_,useFactory:J$(t),multi:!0,deps:[be,lt,Ni,Lr,[new dt,Ri],...e]}])}var bM=Ot(I_,!0);var DM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},TM={};var Vi,b_;(function(){var t;function e(I,v){function _(){}_.prototype=v.prototype,I.D=v.prototype,I.prototype=new _,I.prototype.constructor=I,I.C=function(C,b,A){for(var w=Array(arguments.length-2),lr=2;lr<arguments.length;lr++)w[lr-2]=arguments[lr];return v.prototype[b].apply(C,w)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,v,_){_||(_=0);var C=Array(16);if(typeof v=="string")for(var b=0;16>b;++b)C[b]=v.charCodeAt(_++)|v.charCodeAt(_++)<<8|v.charCodeAt(_++)<<16|v.charCodeAt(_++)<<24;else for(b=0;16>b;++b)C[b]=v[_++]|v[_++]<<8|v[_++]<<16|v[_++]<<24;v=I.g[0],_=I.g[1],b=I.g[2];var A=I.g[3],w=v+(A^_&(b^A))+C[0]+3614090360&4294967295;v=_+(w<<7&4294967295|w>>>25),w=A+(b^v&(_^b))+C[1]+3905402710&4294967295,A=v+(w<<12&4294967295|w>>>20),w=b+(_^A&(v^_))+C[2]+606105819&4294967295,b=A+(w<<17&4294967295|w>>>15),w=_+(v^b&(A^v))+C[3]+3250441966&4294967295,_=b+(w<<22&4294967295|w>>>10),w=v+(A^_&(b^A))+C[4]+4118548399&4294967295,v=_+(w<<7&4294967295|w>>>25),w=A+(b^v&(_^b))+C[5]+1200080426&4294967295,A=v+(w<<12&4294967295|w>>>20),w=b+(_^A&(v^_))+C[6]+2821735955&4294967295,b=A+(w<<17&4294967295|w>>>15),w=_+(v^b&(A^v))+C[7]+4249261313&4294967295,_=b+(w<<22&4294967295|w>>>10),w=v+(A^_&(b^A))+C[8]+1770035416&4294967295,v=_+(w<<7&4294967295|w>>>25),w=A+(b^v&(_^b))+C[9]+2336552879&4294967295,A=v+(w<<12&4294967295|w>>>20),w=b+(_^A&(v^_))+C[10]+4294925233&4294967295,b=A+(w<<17&4294967295|w>>>15),w=_+(v^b&(A^v))+C[11]+2304563134&4294967295,_=b+(w<<22&4294967295|w>>>10),w=v+(A^_&(b^A))+C[12]+1804603682&4294967295,v=_+(w<<7&4294967295|w>>>25),w=A+(b^v&(_^b))+C[13]+4254626195&4294967295,A=v+(w<<12&4294967295|w>>>20),w=b+(_^A&(v^_))+C[14]+2792965006&4294967295,b=A+(w<<17&4294967295|w>>>15),w=_+(v^b&(A^v))+C[15]+1236535329&4294967295,_=b+(w<<22&4294967295|w>>>10),w=v+(b^A&(_^b))+C[1]+4129170786&4294967295,v=_+(w<<5&4294967295|w>>>27),w=A+(_^b&(v^_))+C[6]+3225465664&4294967295,A=v+(w<<9&4294967295|w>>>23),w=b+(v^_&(A^v))+C[11]+643717713&4294967295,b=A+(w<<14&4294967295|w>>>18),w=_+(A^v&(b^A))+C[0]+3921069994&4294967295,_=b+(w<<20&4294967295|w>>>12),w=v+(b^A&(_^b))+C[5]+3593408605&4294967295,v=_+(w<<5&4294967295|w>>>27),w=A+(_^b&(v^_))+C[10]+38016083&4294967295,A=v+(w<<9&4294967295|w>>>23),w=b+(v^_&(A^v))+C[15]+3634488961&4294967295,b=A+(w<<14&4294967295|w>>>18),w=_+(A^v&(b^A))+C[4]+3889429448&4294967295,_=b+(w<<20&4294967295|w>>>12),w=v+(b^A&(_^b))+C[9]+568446438&4294967295,v=_+(w<<5&4294967295|w>>>27),w=A+(_^b&(v^_))+C[14]+3275163606&4294967295,A=v+(w<<9&4294967295|w>>>23),w=b+(v^_&(A^v))+C[3]+4107603335&4294967295,b=A+(w<<14&4294967295|w>>>18),w=_+(A^v&(b^A))+C[8]+1163531501&4294967295,_=b+(w<<20&4294967295|w>>>12),w=v+(b^A&(_^b))+C[13]+2850285829&4294967295,v=_+(w<<5&4294967295|w>>>27),w=A+(_^b&(v^_))+C[2]+4243563512&4294967295,A=v+(w<<9&4294967295|w>>>23),w=b+(v^_&(A^v))+C[7]+1735328473&4294967295,b=A+(w<<14&4294967295|w>>>18),w=_+(A^v&(b^A))+C[12]+2368359562&4294967295,_=b+(w<<20&4294967295|w>>>12),w=v+(_^b^A)+C[5]+4294588738&4294967295,v=_+(w<<4&4294967295|w>>>28),w=A+(v^_^b)+C[8]+2272392833&4294967295,A=v+(w<<11&4294967295|w>>>21),w=b+(A^v^_)+C[11]+1839030562&4294967295,b=A+(w<<16&4294967295|w>>>16),w=_+(b^A^v)+C[14]+4259657740&4294967295,_=b+(w<<23&4294967295|w>>>9),w=v+(_^b^A)+C[1]+2763975236&4294967295,v=_+(w<<4&4294967295|w>>>28),w=A+(v^_^b)+C[4]+1272893353&4294967295,A=v+(w<<11&4294967295|w>>>21),w=b+(A^v^_)+C[7]+4139469664&4294967295,b=A+(w<<16&4294967295|w>>>16),w=_+(b^A^v)+C[10]+3200236656&4294967295,_=b+(w<<23&4294967295|w>>>9),w=v+(_^b^A)+C[13]+681279174&4294967295,v=_+(w<<4&4294967295|w>>>28),w=A+(v^_^b)+C[0]+3936430074&4294967295,A=v+(w<<11&4294967295|w>>>21),w=b+(A^v^_)+C[3]+3572445317&4294967295,b=A+(w<<16&4294967295|w>>>16),w=_+(b^A^v)+C[6]+76029189&4294967295,_=b+(w<<23&4294967295|w>>>9),w=v+(_^b^A)+C[9]+3654602809&4294967295,v=_+(w<<4&4294967295|w>>>28),w=A+(v^_^b)+C[12]+3873151461&4294967295,A=v+(w<<11&4294967295|w>>>21),w=b+(A^v^_)+C[15]+530742520&4294967295,b=A+(w<<16&4294967295|w>>>16),w=_+(b^A^v)+C[2]+3299628645&4294967295,_=b+(w<<23&4294967295|w>>>9),w=v+(b^(_|~A))+C[0]+4096336452&4294967295,v=_+(w<<6&4294967295|w>>>26),w=A+(_^(v|~b))+C[7]+1126891415&4294967295,A=v+(w<<10&4294967295|w>>>22),w=b+(v^(A|~_))+C[14]+2878612391&4294967295,b=A+(w<<15&4294967295|w>>>17),w=_+(A^(b|~v))+C[5]+4237533241&4294967295,_=b+(w<<21&4294967295|w>>>11),w=v+(b^(_|~A))+C[12]+1700485571&4294967295,v=_+(w<<6&4294967295|w>>>26),w=A+(_^(v|~b))+C[3]+2399980690&4294967295,A=v+(w<<10&4294967295|w>>>22),w=b+(v^(A|~_))+C[10]+4293915773&4294967295,b=A+(w<<15&4294967295|w>>>17),w=_+(A^(b|~v))+C[1]+2240044497&4294967295,_=b+(w<<21&4294967295|w>>>11),w=v+(b^(_|~A))+C[8]+1873313359&4294967295,v=_+(w<<6&4294967295|w>>>26),w=A+(_^(v|~b))+C[15]+4264355552&4294967295,A=v+(w<<10&4294967295|w>>>22),w=b+(v^(A|~_))+C[6]+2734768916&4294967295,b=A+(w<<15&4294967295|w>>>17),w=_+(A^(b|~v))+C[13]+1309151649&4294967295,_=b+(w<<21&4294967295|w>>>11),w=v+(b^(_|~A))+C[4]+4149444226&4294967295,v=_+(w<<6&4294967295|w>>>26),w=A+(_^(v|~b))+C[11]+3174756917&4294967295,A=v+(w<<10&4294967295|w>>>22),w=b+(v^(A|~_))+C[2]+718787259&4294967295,b=A+(w<<15&4294967295|w>>>17),w=_+(A^(b|~v))+C[9]+3951481745&4294967295,I.g[0]=I.g[0]+v&4294967295,I.g[1]=I.g[1]+(b+(w<<21&4294967295|w>>>11))&4294967295,I.g[2]=I.g[2]+b&4294967295,I.g[3]=I.g[3]+A&4294967295}r.prototype.u=function(I,v){v===void 0&&(v=I.length);for(var _=v-this.blockSize,C=this.B,b=this.h,A=0;A<v;){if(b==0)for(;A<=_;)i(this,I,A),A+=this.blockSize;if(typeof I=="string"){for(;A<v;)if(C[b++]=I.charCodeAt(A++),b==this.blockSize){i(this,C),b=0;break}}else for(;A<v;)if(C[b++]=I[A++],b==this.blockSize){i(this,C),b=0;break}}this.h=b,this.o+=v},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var v=1;v<I.length-8;++v)I[v]=0;var _=8*this.o;for(v=I.length-8;v<I.length;++v)I[v]=_&255,_/=256;for(this.u(I),I=Array(16),v=_=0;4>v;++v)for(var C=0;32>C;C+=8)I[_++]=this.g[v]>>>C&255;return I};function o(I,v){var _=a;return Object.prototype.hasOwnProperty.call(_,I)?_[I]:_[I]=v(I)}function s(I,v){this.h=v;for(var _=[],C=!0,b=I.length-1;0<=b;b--){var A=I[b]|0;C&&A==v||(_[b]=A,C=!1)}this.g=_}var a={};function u(I){return-128<=I&&128>I?o(I,function(v){return new s([v|0],0>v?-1:0)}):new s([I|0],0>I?-1:0)}function l(I){if(isNaN(I)||!isFinite(I))return p;if(0>I)return x(l(-I));for(var v=[],_=1,C=0;I>=_;C++)v[C]=I/_|0,_*=4294967296;return new s(v,0)}function h(I,v){if(I.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(I.charAt(0)=="-")return x(h(I.substring(1),v));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=l(Math.pow(v,8)),C=p,b=0;b<I.length;b+=8){var A=Math.min(8,I.length-b),w=parseInt(I.substring(b,b+A),v);8>A?(A=l(Math.pow(v,A)),C=C.j(A).add(l(w))):(C=C.j(_),C=C.add(l(w)))}return C}var p=u(0),m=u(1),y=u(16777216);t=s.prototype,t.m=function(){if(R(this))return-x(this).m();for(var I=0,v=1,_=0;_<this.g.length;_++){var C=this.i(_);I+=(0<=C?C:4294967296+C)*v,v*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(T(this))return"0";if(R(this))return"-"+x(this).toString(I);for(var v=l(Math.pow(I,6)),_=this,C="";;){var b=Y(_,v).g;_=F(_,b.j(v));var A=((0<_.g.length?_.g[0]:_.h)>>>0).toString(I);if(_=b,T(_))return A+C;for(;6>A.length;)A="0"+A;C=A+C}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function T(I){if(I.h!=0)return!1;for(var v=0;v<I.g.length;v++)if(I.g[v]!=0)return!1;return!0}function R(I){return I.h==-1}t.l=function(I){return I=F(this,I),R(I)?-1:T(I)?0:1};function x(I){for(var v=I.g.length,_=[],C=0;C<v;C++)_[C]=~I.g[C];return new s(_,~I.h).add(m)}t.abs=function(){return R(this)?x(this):this},t.add=function(I){for(var v=Math.max(this.g.length,I.g.length),_=[],C=0,b=0;b<=v;b++){var A=C+(this.i(b)&65535)+(I.i(b)&65535),w=(A>>>16)+(this.i(b)>>>16)+(I.i(b)>>>16);C=w>>>16,A&=65535,w&=65535,_[b]=w<<16|A}return new s(_,_[_.length-1]&-2147483648?-1:0)};function F(I,v){return I.add(x(v))}t.j=function(I){if(T(this)||T(I))return p;if(R(this))return R(I)?x(this).j(x(I)):x(x(this).j(I));if(R(I))return x(this.j(x(I)));if(0>this.l(y)&&0>I.l(y))return l(this.m()*I.m());for(var v=this.g.length+I.g.length,_=[],C=0;C<2*v;C++)_[C]=0;for(C=0;C<this.g.length;C++)for(var b=0;b<I.g.length;b++){var A=this.i(C)>>>16,w=this.i(C)&65535,lr=I.i(b)>>>16,Ta=I.i(b)&65535;_[2*C+2*b]+=w*Ta,K(_,2*C+2*b),_[2*C+2*b+1]+=A*Ta,K(_,2*C+2*b+1),_[2*C+2*b+1]+=w*lr,K(_,2*C+2*b+1),_[2*C+2*b+2]+=A*lr,K(_,2*C+2*b+2)}for(C=0;C<v;C++)_[C]=_[2*C+1]<<16|_[2*C];for(C=v;C<2*v;C++)_[C]=0;return new s(_,0)};function K(I,v){for(;(I[v]&65535)!=I[v];)I[v+1]+=I[v]>>>16,I[v]&=65535,v++}function q(I,v){this.g=I,this.h=v}function Y(I,v){if(T(v))throw Error("division by zero");if(T(I))return new q(p,p);if(R(I))return v=Y(x(I),v),new q(x(v.g),x(v.h));if(R(v))return v=Y(I,x(v)),new q(x(v.g),v.h);if(30<I.g.length){if(R(I)||R(v))throw Error("slowDivide_ only works with positive integers.");for(var _=m,C=v;0>=C.l(I);)_=Ne(_),C=Ne(C);var b=te(_,1),A=te(C,1);for(C=te(C,2),_=te(_,2);!T(C);){var w=A.add(C);0>=w.l(I)&&(b=b.add(_),A=w),C=te(C,1),_=te(_,1)}return v=F(I,b.j(v)),new q(b,v)}for(b=p;0<=I.l(v);){for(_=Math.max(1,Math.floor(I.m()/v.m())),C=Math.ceil(Math.log(_)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),A=l(_),w=A.j(v);R(w)||0<w.l(I);)_-=C,A=l(_),w=A.j(v);T(A)&&(A=m),b=b.add(A),I=F(I,w)}return new q(b,I)}t.A=function(I){return Y(this,I).h},t.and=function(I){for(var v=Math.max(this.g.length,I.g.length),_=[],C=0;C<v;C++)_[C]=this.i(C)&I.i(C);return new s(_,this.h&I.h)},t.or=function(I){for(var v=Math.max(this.g.length,I.g.length),_=[],C=0;C<v;C++)_[C]=this.i(C)|I.i(C);return new s(_,this.h|I.h)},t.xor=function(I){for(var v=Math.max(this.g.length,I.g.length),_=[],C=0;C<v;C++)_[C]=this.i(C)^I.i(C);return new s(_,this.h^I.h)};function Ne(I){for(var v=I.g.length+1,_=[],C=0;C<v;C++)_[C]=I.i(C)<<1|I.i(C-1)>>>31;return new s(_,I.h)}function te(I,v){var _=v>>5;v%=32;for(var C=I.g.length-_,b=[],A=0;A<C;A++)b[A]=0<v?I.i(A+_)>>>v|I.i(A+_+1)<<32-v:I.i(A+_);return new s(b,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,b_=TM.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,Vi=TM.Integer=s}).apply(typeof DM<"u"?DM:typeof self<"u"?self:typeof window<"u"?window:{});var Jh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Br={};var D_,eH,ta,T_,su,Zh,S_,A_,M_;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Jh=="object"&&Jh];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var D=c[g];if(!(D in f))break e;f=f[D]}c=c[c.length-1],g=f[c],d=d(g),d!=g&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,g=!1,D={next:function(){if(!g&&f<c.length){var P=f++;return{value:d(P,c[P]),done:!1}}return g=!0,{done:!0,value:void 0}}};return D[Symbol.iterator]=function(){return D},D}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var D=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(D,g),c.apply(d,D)}}return function(){return c.apply(d,arguments)}}function m(c,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function y(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function T(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(g,D,P){for(var L=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)L[Oe-2]=arguments[Oe];return d.prototype[D].apply(g,L)}}function R(c){let d=c.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=c[g];return f}return[]}function x(c,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let D=c.length||0,P=g.length||0;c.length=D+P;for(let L=0;L<P;L++)c[D+L]=g[L]}else c.push(g)}}class F{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function K(c){return/^[\s\xa0]*$/.test(c)}function q(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function Y(c){return Y[" "](c),c}Y[" "]=function(){};var Ne=q().indexOf("Gecko")!=-1&&!(q().toLowerCase().indexOf("webkit")!=-1&&q().indexOf("Edge")==-1)&&!(q().indexOf("Trident")!=-1||q().indexOf("MSIE")!=-1)&&q().indexOf("Edge")==-1;function te(c,d,f){for(let g in c)d.call(f,c[g],g,c)}function I(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function v(c){let d={};for(let f in c)d[f]=c[f];return d}let _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(c,d){let f,g;for(let D=1;D<arguments.length;D++){g=arguments[D];for(f in g)c[f]=g[f];for(let P=0;P<_.length;P++)f=_[P],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function b(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function A(c){a.setTimeout(()=>{throw c},0)}function w(){var c=zf;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class lr{constructor(){this.h=this.g=null}add(d,f){let g=Ta.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var Ta=new F(()=>new NP,c=>c.reset());class NP{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Sa,Aa=!1,zf=new lr,Lw=()=>{let c=a.Promise.resolve(void 0);Sa=()=>{c.then(OP)}};var OP=()=>{for(var c;c=w();){try{c.h.call(c.g)}catch(f){A(f)}var d=Ta;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}Aa=!1};function Qr(){this.s=this.s,this.C=this.C}Qr.prototype.s=!1,Qr.prototype.ma=function(){this.s||(this.s=!0,this.N())},Qr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Tt(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}Tt.prototype.h=function(){this.defaultPrevented=!0};var kP=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function Ma(c,d){if(Tt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(Ne){e:{try{Y(d.nodeName);var D=!0;break e}catch{}D=!1}D||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:FP[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ma.aa.h.call(this)}}T(Ma,Tt);var FP={2:"touch",3:"pen",4:"mouse"};Ma.prototype.h=function(){Ma.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var xa="closure_listenable_"+(1e6*Math.random()|0),VP=0;function LP(c,d,f,g,D){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=D,this.key=++VP,this.da=this.fa=!1}function xu(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Pu(c){this.src=c,this.g={},this.h=0}Pu.prototype.add=function(c,d,f,g,D){var P=c.toString();c=this.g[P],c||(c=this.g[P]=[],this.h++);var L=Gf(c,d,g,D);return-1<L?(d=c[L],f||(d.fa=!1)):(d=new LP(d,this.src,P,!!g,D),d.fa=f,c.push(d)),d};function qf(c,d){var f=d.type;if(f in c.g){var g=c.g[f],D=Array.prototype.indexOf.call(g,d,void 0),P;(P=0<=D)&&Array.prototype.splice.call(g,D,1),P&&(xu(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function Gf(c,d,f,g){for(var D=0;D<c.length;++D){var P=c[D];if(!P.da&&P.listener==d&&P.capture==!!f&&P.ha==g)return D}return-1}var Wf="closure_lm_"+(1e6*Math.random()|0),Kf={};function jw(c,d,f,g,D){if(g&&g.once)return Bw(c,d,f,g,D);if(Array.isArray(d)){for(var P=0;P<d.length;P++)jw(c,d[P],f,g,D);return null}return f=Zf(f),c&&c[xa]?c.K(d,f,l(g)?!!g.capture:!!g,D):Uw(c,d,f,!1,g,D)}function Uw(c,d,f,g,D,P){if(!d)throw Error("Invalid event type");var L=l(D)?!!D.capture:!!D,Oe=Yf(c);if(Oe||(c[Wf]=Oe=new Pu(c)),f=Oe.add(d,f,g,L,P),f.proxy)return f;if(g=jP(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)kP||(D=L),D===void 0&&(D=!1),c.addEventListener(d.toString(),g,D);else if(c.attachEvent)c.attachEvent(Hw(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function jP(){function c(f){return d.call(c.src,c.listener,f)}let d=UP;return c}function Bw(c,d,f,g,D){if(Array.isArray(d)){for(var P=0;P<d.length;P++)Bw(c,d[P],f,g,D);return null}return f=Zf(f),c&&c[xa]?c.L(d,f,l(g)?!!g.capture:!!g,D):Uw(c,d,f,!0,g,D)}function $w(c,d,f,g,D){if(Array.isArray(d))for(var P=0;P<d.length;P++)$w(c,d[P],f,g,D);else g=l(g)?!!g.capture:!!g,f=Zf(f),c&&c[xa]?(c=c.i,d=String(d).toString(),d in c.g&&(P=c.g[d],f=Gf(P,f,g,D),-1<f&&(xu(P[f]),Array.prototype.splice.call(P,f,1),P.length==0&&(delete c.g[d],c.h--)))):c&&(c=Yf(c))&&(d=c.g[d.toString()],c=-1,d&&(c=Gf(d,f,g,D)),(f=-1<c?d[c]:null)&&Qf(f))}function Qf(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[xa])qf(d.i,c);else{var f=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(f,g,c.capture):d.detachEvent?d.detachEvent(Hw(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=Yf(d))?(qf(f,c),f.h==0&&(f.src=null,d[Wf]=null)):xu(c)}}}function Hw(c){return c in Kf?Kf[c]:Kf[c]="on"+c}function UP(c,d){if(c.da)c=!0;else{d=new Ma(d,this);var f=c.listener,g=c.ha||c.src;c.fa&&Qf(c),c=f.call(g,d)}return c}function Yf(c){return c=c[Wf],c instanceof Pu?c:null}var Jf="__closure_events_fn_"+(1e9*Math.random()>>>0);function Zf(c){return typeof c=="function"?c:(c[Jf]||(c[Jf]=function(d){return c.handleEvent(d)}),c[Jf])}function St(){Qr.call(this),this.i=new Pu(this),this.M=this,this.F=null}T(St,Qr),St.prototype[xa]=!0,St.prototype.removeEventListener=function(c,d,f,g){$w(this,c,d,f,g)};function Lt(c,d){var f,g=c.F;if(g)for(f=[];g;g=g.F)f.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new Tt(d,c);else if(d instanceof Tt)d.target=d.target||c;else{var D=d;d=new Tt(g,c),C(d,D)}if(D=!0,f)for(var P=f.length-1;0<=P;P--){var L=d.g=f[P];D=Ru(L,g,!0,d)&&D}if(L=d.g=c,D=Ru(L,g,!0,d)&&D,D=Ru(L,g,!1,d)&&D,f)for(P=0;P<f.length;P++)L=d.g=f[P],D=Ru(L,g,!1,d)&&D}St.prototype.N=function(){if(St.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],g=0;g<f.length;g++)xu(f[g]);delete c.g[d],c.h--}}this.F=null},St.prototype.K=function(c,d,f,g){return this.i.add(String(c),d,!1,f,g)},St.prototype.L=function(c,d,f,g){return this.i.add(String(c),d,!0,f,g)};function Ru(c,d,f,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var D=!0,P=0;P<d.length;++P){var L=d[P];if(L&&!L.da&&L.capture==f){var Oe=L.listener,It=L.ha||L.src;L.fa&&qf(c.i,L),D=Oe.call(It,g)!==!1&&D}}return D&&!g.defaultPrevented}function zw(c,d,f){if(typeof c=="function")f&&(c=m(c,f));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function qw(c){c.g=zw(()=>{c.g=null,c.i&&(c.i=!1,qw(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class BP extends Qr{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:qw(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pa(c){Qr.call(this),this.h=c,this.g={}}T(Pa,Qr);var Gw=[];function Ww(c){te(c.g,function(d,f){this.g.hasOwnProperty(f)&&Qf(d)},c),c.g={}}Pa.prototype.N=function(){Pa.aa.N.call(this),Ww(this)},Pa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xf=a.JSON.stringify,$P=a.JSON.parse,HP=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function ep(){}ep.prototype.h=null;function Kw(c){return c.h||(c.h=c.i())}function Qw(){}var Ra={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function tp(){Tt.call(this,"d")}T(tp,Tt);function np(){Tt.call(this,"c")}T(np,Tt);var Hi={},Yw=null;function Nu(){return Yw=Yw||new St}Hi.La="serverreachability";function Jw(c){Tt.call(this,Hi.La,c)}T(Jw,Tt);function Na(c){let d=Nu();Lt(d,new Jw(d))}Hi.STAT_EVENT="statevent";function Zw(c,d){Tt.call(this,Hi.STAT_EVENT,c),this.stat=d}T(Zw,Tt);function jt(c){let d=Nu();Lt(d,new Zw(d,c))}Hi.Ma="timingevent";function Xw(c,d){Tt.call(this,Hi.Ma,c),this.size=d}T(Xw,Tt);function Oa(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function ka(){this.g=!0}ka.prototype.xa=function(){this.g=!1};function zP(c,d,f,g,D,P){c.info(function(){if(c.g)if(P)for(var L="",Oe=P.split("&"),It=0;It<Oe.length;It++){var Te=Oe[It].split("=");if(1<Te.length){var At=Te[0];Te=Te[1];var Mt=At.split("_");L=2<=Mt.length&&Mt[1]=="type"?L+(At+"="+Te+"&"):L+(At+"=redacted&")}}else L=null;else L=P;return"XMLHTTP REQ ("+g+") [attempt "+D+"]: "+d+`
`+f+`
`+L})}function qP(c,d,f,g,D,P,L){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+D+"]: "+d+`
`+f+`
`+P+" "+L})}function Bo(c,d,f,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+WP(c,f)+(g?" "+g:"")})}function GP(c,d){c.info(function(){return"TIMEOUT: "+d})}ka.prototype.info=function(){};function WP(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var g=f[c];if(!(2>g.length)){var D=g[1];if(Array.isArray(D)&&!(1>D.length)){var P=D[0];if(P!="noop"&&P!="stop"&&P!="close")for(var L=1;L<D.length;L++)D[L]=""}}}}return Xf(f)}catch{return d}}var Ou={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},eE={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},rp;function ku(){}T(ku,ep),ku.prototype.g=function(){return new XMLHttpRequest},ku.prototype.i=function(){return{}},rp=new ku;function Yr(c,d,f,g){this.j=c,this.i=d,this.l=f,this.R=g||1,this.U=new Pa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new tE}function tE(){this.i=null,this.g="",this.h=!1}var nE={},ip={};function op(c,d,f){c.L=1,c.v=ju(dr(d)),c.m=f,c.P=!0,rE(c,null)}function rE(c,d){c.F=Date.now(),Fu(c),c.A=dr(c.v);var f=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),yE(f.i,"t",g),c.C=0,f=c.j.J,c.h=new tE,c.g=kE(c.j,f?d:null,!c.m),0<c.O&&(c.M=new BP(m(c.Y,c,c.g),c.O)),d=c.U,f=c.g,g=c.ca;var D="readystatechange";Array.isArray(D)||(D&&(Gw[0]=D.toString()),D=Gw);for(var P=0;P<D.length;P++){var L=jw(f,D[P],g||d.handleEvent,!1,d.h||d);if(!L)break;d.g[L.key]=L}d=c.H?v(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),Na(),zP(c.i,c.u,c.A,c.l,c.R,c.m)}Yr.prototype.ca=function(c){c=c.target;let d=this.M;d&&hr(c)==3?d.j():this.Y(c)},Yr.prototype.Y=function(c){try{if(c==this.g)e:{let Mt=hr(this.g);var d=this.g.Ba();let zo=this.g.Z();if(!(3>Mt)&&(Mt!=3||this.g&&(this.h.h||this.g.oa()||bE(this.g)))){this.J||Mt!=4||d==7||(d==8||0>=zo?Na(3):Na(2)),sp(this);var f=this.g.Z();this.X=f;t:if(iE(this)){var g=bE(this.g);c="";var D=g.length,P=hr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){zi(this),Fa(this);var L="";break t}this.h.i=new a.TextDecoder}for(d=0;d<D;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(P&&d==D-1)});g.length=0,this.h.g+=c,this.C=0,L=this.h.g}else L=this.g.oa();if(this.o=f==200,qP(this.i,this.u,this.A,this.l,this.R,Mt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Oe,It=this.g;if((Oe=It.g?It.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!K(Oe)){var Te=Oe;break t}}Te=null}if(f=Te)Bo(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ap(this,f);else{this.o=!1,this.s=3,jt(12),zi(this),Fa(this);break e}}if(this.P){f=!0;let En;for(;!this.J&&this.C<L.length;)if(En=KP(this,L),En==ip){Mt==4&&(this.s=4,jt(14),f=!1),Bo(this.i,this.l,null,"[Incomplete Response]");break}else if(En==nE){this.s=4,jt(15),Bo(this.i,this.l,L,"[Invalid Chunk]"),f=!1;break}else Bo(this.i,this.l,En,null),ap(this,En);if(iE(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Mt!=4||L.length!=0||this.h.h||(this.s=1,jt(16),f=!1),this.o=this.o&&f,!f)Bo(this.i,this.l,L,"[Invalid Chunked Response]"),zi(this),Fa(this);else if(0<L.length&&!this.W){this.W=!0;var At=this.j;At.g==this&&At.ba&&!At.M&&(At.j.info("Great, no buffering proxy detected. Bytes received: "+L.length),fp(At),At.M=!0,jt(11))}}else Bo(this.i,this.l,L,null),ap(this,L);Mt==4&&zi(this),this.o&&!this.J&&(Mt==4?PE(this.j,this):(this.o=!1,Fu(this)))}else dR(this.g),f==400&&0<L.indexOf("Unknown SID")?(this.s=3,jt(12)):(this.s=0,jt(13)),zi(this),Fa(this)}}}catch{}finally{}};function iE(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function KP(c,d){var f=c.C,g=d.indexOf(`
`,f);return g==-1?ip:(f=Number(d.substring(f,g)),isNaN(f)?nE:(g+=1,g+f>d.length?ip:(d=d.slice(g,g+f),c.C=g+f,d)))}Yr.prototype.cancel=function(){this.J=!0,zi(this)};function Fu(c){c.S=Date.now()+c.I,oE(c,c.I)}function oE(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Oa(m(c.ba,c),d)}function sp(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Yr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(GP(this.i,this.A),this.L!=2&&(Na(),jt(17)),zi(this),this.s=2,Fa(this)):oE(this,this.S-c)};function Fa(c){c.j.G==0||c.J||PE(c.j,c)}function zi(c){sp(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,Ww(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function ap(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||cp(f.h,c))){if(!c.K&&cp(f.h,c)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var D=g;if(D[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)zu(f),$u(f);else break e;hp(f),jt(18)}}else f.za=D[1],0<f.za-f.T&&37500>D[2]&&f.F&&f.v==0&&!f.C&&(f.C=Oa(m(f.Za,f),6e3));if(1>=cE(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Gi(f,11)}else if((c.K||f.g==c)&&zu(f),!K(d))for(D=f.Da.g.parse(d),d=0;d<D.length;d++){let Te=D[d];if(f.T=Te[0],Te=Te[1],f.G==2)if(Te[0]=="c"){f.K=Te[1],f.ia=Te[2];let At=Te[3];At!=null&&(f.la=At,f.j.info("VER="+f.la));let Mt=Te[4];Mt!=null&&(f.Aa=Mt,f.j.info("SVER="+f.Aa));let zo=Te[5];zo!=null&&typeof zo=="number"&&0<zo&&(g=1.5*zo,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let En=c.g;if(En){let Gu=En.g?En.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gu){var P=g.h;P.g||Gu.indexOf("spdy")==-1&&Gu.indexOf("quic")==-1&&Gu.indexOf("h2")==-1||(P.j=P.l,P.g=new Set,P.h&&(up(P,P.h),P.h=null))}if(g.D){let pp=En.g?En.g.getResponseHeader("X-HTTP-Session-Id"):null;pp&&(g.ya=pp,Ue(g.I,g.D,pp))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var L=c;if(g.qa=OE(g,g.J?g.ia:null,g.W),L.K){uE(g.h,L);var Oe=L,It=g.L;It&&(Oe.I=It),Oe.B&&(sp(Oe),Fu(Oe)),g.g=L}else ME(g);0<f.i.length&&Hu(f)}else Te[0]!="stop"&&Te[0]!="close"||Gi(f,7);else f.G==3&&(Te[0]=="stop"||Te[0]=="close"?Te[0]=="stop"?Gi(f,7):dp(f):Te[0]!="noop"&&f.l&&f.l.ta(Te),f.v=0)}}Na(4)}catch{}}var QP=class{constructor(c,d){this.g=c,this.map=d}};function sE(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function aE(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function cE(c){return c.h?1:c.g?c.g.size:0}function cp(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function up(c,d){c.g?c.g.add(d):c.h=d}function uE(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}sE.prototype.cancel=function(){if(this.i=lE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function lE(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return R(c.i)}function YP(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,g=0;g<f;g++)d.push(c[g]);return d}d=[],f=0;for(g in c)d[f++]=c[g];return d}function JP(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let g in c)d[f++]=g;return d}}}function dE(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=JP(c),g=YP(c),D=g.length,P=0;P<D;P++)d.call(void 0,g[P],f&&f[P],c)}var hE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ZP(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var g=c[f].indexOf("="),D=null;if(0<=g){var P=c[f].substring(0,g);D=c[f].substring(g+1)}else P=c[f];d(P,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}function qi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof qi){this.h=c.h,Vu(this,c.j),this.o=c.o,this.g=c.g,Lu(this,c.s),this.l=c.l;var d=c.i,f=new ja;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),fE(this,f),this.m=c.m}else c&&(d=String(c).match(hE))?(this.h=!1,Vu(this,d[1]||"",!0),this.o=Va(d[2]||""),this.g=Va(d[3]||"",!0),Lu(this,d[4]),this.l=Va(d[5]||"",!0),fE(this,d[6]||"",!0),this.m=Va(d[7]||"")):(this.h=!1,this.i=new ja(null,this.h))}qi.prototype.toString=function(){var c=[],d=this.j;d&&c.push(La(d,pE,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(La(d,pE,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(La(f,f.charAt(0)=="/"?tR:eR,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",La(f,rR)),c.join("")};function dr(c){return new qi(c)}function Vu(c,d,f){c.j=f?Va(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function Lu(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function fE(c,d,f){d instanceof ja?(c.i=d,iR(c.i,c.h)):(f||(d=La(d,nR)),c.i=new ja(d,c.h))}function Ue(c,d,f){c.i.set(d,f)}function ju(c){return Ue(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Va(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function La(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,XP),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function XP(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var pE=/[#\/\?@]/g,eR=/[#\?:]/g,tR=/[#\?]/g,nR=/[#\?@]/g,rR=/#/g;function ja(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function Jr(c){c.g||(c.g=new Map,c.h=0,c.i&&ZP(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=ja.prototype,t.add=function(c,d){Jr(this),this.i=null,c=$o(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function gE(c,d){Jr(c),d=$o(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function mE(c,d){return Jr(c),d=$o(c,d),c.g.has(d)}t.forEach=function(c,d){Jr(this),this.g.forEach(function(f,g){f.forEach(function(D){c.call(d,D,g,this)},this)},this)},t.na=function(){Jr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let D=c[g];for(let P=0;P<D.length;P++)f.push(d[g])}return f},t.V=function(c){Jr(this);let d=[];if(typeof c=="string")mE(this,c)&&(d=d.concat(this.g.get($o(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},t.set=function(c,d){return Jr(this),this.i=null,c=$o(this,c),mE(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function yE(c,d,f){gE(c,d),0<f.length&&(c.i=null,c.g.set($o(c,d),R(f)),c.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let P=encodeURIComponent(String(g)),L=this.V(g);for(g=0;g<L.length;g++){var D=P;L[g]!==""&&(D+="="+encodeURIComponent(String(L[g]))),c.push(D)}}return this.i=c.join("&")};function $o(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function iR(c,d){d&&!c.j&&(Jr(c),c.i=null,c.g.forEach(function(f,g){var D=g.toLowerCase();g!=D&&(gE(this,g),yE(this,D,f))},c)),c.j=d}function oR(c,d){let f=new ka;if(a.Image){let g=new Image;g.onload=y(Zr,f,"TestLoadImage: loaded",!0,d,g),g.onerror=y(Zr,f,"TestLoadImage: error",!1,d,g),g.onabort=y(Zr,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=y(Zr,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function sR(c,d){let f=new ka,g=new AbortController,D=setTimeout(()=>{g.abort(),Zr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(P=>{clearTimeout(D),P.ok?Zr(f,"TestPingServer: ok",!0,d):Zr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(D),Zr(f,"TestPingServer: error",!1,d)})}function Zr(c,d,f,g,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),g(f)}catch{}}function aR(){this.g=new HP}function cR(c,d,f){let g=f||"";try{dE(c,function(D,P){let L=D;l(D)&&(L=Xf(D)),d.push(g+P+"="+encodeURIComponent(L))})}catch(D){throw d.push(g+"type="+encodeURIComponent("_badmap")),D}}function Ua(c){this.l=c.Ub||null,this.j=c.eb||!1}T(Ua,ep),Ua.prototype.g=function(){return new Uu(this.l,this.j)},Ua.prototype.i=function(c){return function(){return c}}({});function Uu(c,d){St.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(Uu,St),t=Uu.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,$a(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ba(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,$a(this)),this.g&&(this.readyState=3,$a(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;vE(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function vE(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?Ba(this):$a(this),this.readyState==3&&vE(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Ba(this))},t.Qa=function(c){this.g&&(this.response=c,Ba(this))},t.ga=function(){this.g&&Ba(this)};function Ba(c){c.readyState=4,c.l=null,c.j=null,c.v=null,$a(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function $a(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Uu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function _E(c){let d="";return te(c,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function lp(c,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=_E(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Ue(c,d,f))}function We(c){St.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(We,St);var uR=/^https?$/i,lR=["POST","PUT"];t=We.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():rp.g(),this.v=this.o?Kw(this.o):Kw(rp),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(P){wE(this,P);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var D in g)f.set(D,g[D]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let P of g.keys())f.set(P,g.get(P));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(P=>P.toLowerCase()=="content-type"),D=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(lR,d,void 0))||g||D||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[P,L]of f)this.g.setRequestHeader(P,L);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{CE(this),this.u=!0,this.g.send(c),this.u=!1}catch(P){wE(this,P)}};function wE(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,EE(c),Bu(c)}function EE(c){c.A||(c.A=!0,Lt(c,"complete"),Lt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Lt(this,"complete"),Lt(this,"abort"),Bu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bu(this,!0)),We.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?IE(this):this.bb())},t.bb=function(){IE(this)};function IE(c){if(c.h&&typeof s<"u"&&(!c.v[1]||hr(c)!=4||c.Z()!=2)){if(c.u&&hr(c)==4)zw(c.Ea,0,c);else if(Lt(c,"readystatechange"),hr(c)==4){c.h=!1;try{let L=c.Z();e:switch(L){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=L===0){var D=String(c.D).match(hE)[1]||null;!D&&a.self&&a.self.location&&(D=a.self.location.protocol.slice(0,-1)),g=!uR.test(D?D.toLowerCase():"")}f=g}if(f)Lt(c,"complete"),Lt(c,"success");else{c.m=6;try{var P=2<hr(c)?c.g.statusText:""}catch{P=""}c.l=P+" ["+c.Z()+"]",EE(c)}}finally{Bu(c)}}}}function Bu(c,d){if(c.g){CE(c);let f=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||Lt(c,"ready");try{f.onreadystatechange=g}catch{}}}function CE(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function hr(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<hr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),$P(d)}};function bE(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function dR(c){let d={};c=(c.g&&2<=hr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(K(c[g]))continue;var f=b(c[g]);let D=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let P=d[D]||[];d[D]=P,P.push(f)}I(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ha(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function DE(c){this.Aa=0,this.i=[],this.j=new ka,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ha("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ha("baseRetryDelayMs",5e3,c),this.cb=Ha("retryDelaySeedMs",1e4,c),this.Wa=Ha("forwardChannelMaxRetries",2,c),this.wa=Ha("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new sE(c&&c.concurrentRequestLimit),this.Da=new aR,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=DE.prototype,t.la=8,t.G=1,t.connect=function(c,d,f,g){jt(0),this.W=c,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=OE(this,null,this.W),Hu(this)};function dp(c){if(TE(c),c.G==3){var d=c.U++,f=dr(c.I);if(Ue(f,"SID",c.K),Ue(f,"RID",d),Ue(f,"TYPE","terminate"),za(c,f),d=new Yr(c,c.j,d),d.L=2,d.v=ju(dr(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=kE(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Fu(d)}NE(c)}function $u(c){c.g&&(fp(c),c.g.cancel(),c.g=null)}function TE(c){$u(c),c.u&&(a.clearTimeout(c.u),c.u=null),zu(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Hu(c){if(!aE(c.h)&&!c.s){c.s=!0;var d=c.Ga;Sa||Lw(),Aa||(Sa(),Aa=!0),zf.add(d,c),c.B=0}}function hR(c,d){return cE(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Oa(m(c.Ga,c,d),RE(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let D=new Yr(this,this.j,c),P=this.o;if(this.S&&(P?(P=v(P),C(P,this.S)):P=this.S),this.m!==null||this.O||(D.H=P,P=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=AE(this,D,d),f=dr(this.I),Ue(f,"RID",c),Ue(f,"CVER",22),this.D&&Ue(f,"X-HTTP-Session-Id",this.D),za(this,f),P&&(this.O?d="headers="+encodeURIComponent(String(_E(P)))+"&"+d:this.m&&lp(f,this.m,P)),up(this.h,D),this.Ua&&Ue(f,"TYPE","init"),this.P?(Ue(f,"$req",d),Ue(f,"SID","null"),D.T=!0,op(D,f,null)):op(D,f,d),this.G=2}}else this.G==3&&(c?SE(this,c):this.i.length==0||aE(this.h)||SE(this))};function SE(c,d){var f;d?f=d.l:f=c.U++;let g=dr(c.I);Ue(g,"SID",c.K),Ue(g,"RID",f),Ue(g,"AID",c.T),za(c,g),c.m&&c.o&&lp(g,c.m,c.o),f=new Yr(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=AE(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),up(c.h,f),op(f,g,d)}function za(c,d){c.H&&te(c.H,function(f,g){Ue(d,g,f)}),c.l&&dE({},function(f,g){Ue(d,g,f)})}function AE(c,d,f){f=Math.min(c.i.length,f);var g=c.l?m(c.l.Na,c.l,c):null;e:{var D=c.i;let P=-1;for(;;){let L=["count="+f];P==-1?0<f?(P=D[0].g,L.push("ofs="+P)):P=0:L.push("ofs="+P);let Oe=!0;for(let It=0;It<f;It++){let Te=D[It].g,At=D[It].map;if(Te-=P,0>Te)P=Math.max(0,D[It].g-100),Oe=!1;else try{cR(At,L,"req"+Te+"_")}catch{g&&g(At)}}if(Oe){g=L.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,g}function ME(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;Sa||Lw(),Aa||(Sa(),Aa=!0),zf.add(d,c),c.v=0}}function hp(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Oa(m(c.Fa,c),RE(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,xE(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Oa(m(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,jt(10),$u(this),xE(this))};function fp(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function xE(c){c.g=new Yr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=dr(c.qa);Ue(d,"RID","rpc"),Ue(d,"SID",c.K),Ue(d,"AID",c.T),Ue(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ue(d,"TO",c.ja),Ue(d,"TYPE","xmlhttp"),za(c,d),c.m&&c.o&&lp(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=ju(dr(d)),f.m=null,f.P=!0,rE(f,c)}t.Za=function(){this.C!=null&&(this.C=null,$u(this),hp(this),jt(19))};function zu(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function PE(c,d){var f=null;if(c.g==d){zu(c),fp(c),c.g=null;var g=2}else if(cp(c.h,d))f=d.D,uE(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var D=c.B;g=Nu(),Lt(g,new Xw(g,f)),Hu(c)}else ME(c);else if(D=d.s,D==3||D==0&&0<d.X||!(g==1&&hR(c,d)||g==2&&hp(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),D){case 1:Gi(c,5);break;case 4:Gi(c,10);break;case 3:Gi(c,6);break;default:Gi(c,2)}}}function RE(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function Gi(c,d){if(c.j.info("Error code "+d),d==2){var f=m(c.fb,c),g=c.Xa;let D=!g;g=new qi(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Vu(g,"https"),ju(g),D?oR(g.toString(),f):sR(g.toString(),f)}else jt(2);c.G=0,c.l&&c.l.sa(d),NE(c),TE(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),jt(2)):(this.j.info("Failed to ping google.com"),jt(1))};function NE(c){if(c.G=0,c.ka=[],c.l){let d=lE(c.h);(d.length!=0||c.i.length!=0)&&(x(c.ka,d),x(c.ka,c.i),c.h.i.length=0,R(c.i),c.i.length=0),c.l.ra()}}function OE(c,d,f){var g=f instanceof qi?dr(f):new qi(f);if(g.g!="")d&&(g.g=d+"."+g.g),Lu(g,g.s);else{var D=a.location;g=D.protocol,d=d?d+"."+D.hostname:D.hostname,D=+D.port;var P=new qi(null);g&&Vu(P,g),d&&(P.g=d),D&&Lu(P,D),f&&(P.l=f),g=P}return f=c.D,d=c.ya,f&&d&&Ue(g,f,d),Ue(g,"VER",c.la),za(c,g),g}function kE(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new We(new Ua({eb:f})):new We(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function FE(){}t=FE.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function qu(){}qu.prototype.g=function(c,d){return new Zt(c,d)};function Zt(c,d){St.call(this),this.g=new DE(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!K(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!K(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new Ho(this)}T(Zt,St),Zt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Zt.prototype.close=function(){dp(this.g)},Zt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=Xf(c),c=f);d.i.push(new QP(d.Ya++,c)),d.G==3&&Hu(d)},Zt.prototype.N=function(){this.g.l=null,delete this.j,dp(this.g),delete this.g,Zt.aa.N.call(this)};function VE(c){tp.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}T(VE,tp);function LE(){np.call(this),this.status=1}T(LE,np);function Ho(c){this.g=c}T(Ho,FE),Ho.prototype.ua=function(){Lt(this.g,"a")},Ho.prototype.ta=function(c){Lt(this.g,new VE(c))},Ho.prototype.sa=function(c){Lt(this.g,new LE)},Ho.prototype.ra=function(){Lt(this.g,"b")},qu.prototype.createWebChannel=qu.prototype.g,Zt.prototype.send=Zt.prototype.o,Zt.prototype.open=Zt.prototype.m,Zt.prototype.close=Zt.prototype.close,M_=Br.createWebChannelTransport=function(){return new qu},A_=Br.getStatEventTarget=function(){return Nu()},S_=Br.Event=Hi,Zh=Br.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ou.NO_ERROR=0,Ou.TIMEOUT=8,Ou.HTTP_ERROR=6,su=Br.ErrorCode=Ou,eE.COMPLETE="complete",T_=Br.EventType=eE,Qw.EventType=Ra,Ra.OPEN="a",Ra.CLOSE="b",Ra.ERROR="c",Ra.MESSAGE="d",St.prototype.listen=St.prototype.K,ta=Br.WebChannel=Qw,eH=Br.FetchXmlHttpFactory=Ua,We.prototype.listenOnce=We.prototype.L,We.prototype.getLastError=We.prototype.Ka,We.prototype.getLastErrorCode=We.prototype.Ba,We.prototype.getStatus=We.prototype.Z,We.prototype.getResponseJson=We.prototype.Oa,We.prototype.getResponseText=We.prototype.oa,We.prototype.send=We.prototype.ea,We.prototype.setWithCredentials=We.prototype.Ha,D_=Br.XhrIo=We}).apply(typeof Jh<"u"?Jh:typeof self<"u"?self:typeof window<"u"?window:{});var SM="@firebase/firestore";var Et=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Et.UNAUTHENTICATED=new Et(null),Et.GOOGLE_CREDENTIALS=new Et("google-credentials-uid"),Et.FIRST_PARTY=new Et("first-party-uid"),Et.MOCK_USER=new Et("mock-user");var Ia="10.14.0";var Ro=new Zn("@firebase/firestore");function au(){return Ro.logLevel}function z(t,...e){if(Ro.logLevel<=_e.DEBUG){let n=e.map(dw);Ro.debug(`Firestore (${Ia}): ${t}`,...n)}}function qr(t,...e){if(Ro.logLevel<=_e.ERROR){let n=e.map(dw);Ro.error(`Firestore (${Ia}): ${t}`,...n)}}function ca(t,...e){if(Ro.logLevel<=_e.WARN){let n=e.map(dw);Ro.warn(`Firestore (${Ia}): ${t}`,...n)}}function dw(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function ne(t="Unexpected state"){let e=`FIRESTORE (${Ia}) INTERNAL ASSERTION FAILED: `+t;throw qr(e),new Error(e)}function Re(t,e){t||ne()}function ce(t,e){return t}var O={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Q=class extends cn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var $r=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var rf=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},O_=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Et.UNAUTHENTICATED))}shutdown(){}},k_=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},F_=class{constructor(e){this.t=e,this.currentUser=Et.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Re(this.o===void 0);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new $r;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new $r,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>E(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(z("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new $r)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Re(typeof r.accessToken=="string"),new rf(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Re(e===null||typeof e=="string"),new Et(e)}},V_=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Et.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},L_=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new V_(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Et.FIRST_PARTY))}shutdown(){}invalidateToken(){}},j_=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},U_=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Re(this.o===void 0);let r=o=>{o.error!=null&&z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,z("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Re(typeof n.token=="string"),this.R=n.token,new j_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function tH(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var of=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=tH(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}};function Se(t,e){return t<e?-1:t>e?1:0}function ua(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var Dt=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Q(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Q(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Q(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Q(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Se(this.nanoseconds,e.nanoseconds):Se(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var le=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new Dt(0,0))}static max(){return new t(new Dt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var sf=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&ne(),r===void 0?r=e.length-n:r>e.length-n&&ne(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Ze=class t extends sf{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new Q(O.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},nH=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ln=class t extends sf{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return nH.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new Q(O.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new Q(O.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Q(O.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Q(O.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var ee=class t{constructor(e){this.path=e}static fromPath(e){return new t(Ze.fromString(e))}static fromName(e){return new t(Ze.fromString(e).popFirst(5))}static empty(){return new t(Ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ze.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Ze(e.slice()))}};var B_=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};B_.UNKNOWN_ID=-1;function rH(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=le.fromTimestamp(r===1e9?new Dt(n+1,0):new Dt(n,r));return new No(i,ee.empty(),e)}function iH(t){return new No(t.readTime,t.key,-1)}var No=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(le.min(),ee.empty(),-1)}static max(){return new t(le.max(),ee.empty(),-1)}};function oH(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ee.comparator(t.documentKey,e.documentKey),n!==0?n:Se(t.largestBatchId,e.largestBatchId))}var sH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",$_=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Du(t){return E(this,null,function*(){if(t.code!==O.FAILED_PRECONDITION||t.message!==sH)throw t;z("LocalStore","Unexpectedly lost primary lease")})}var V=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ne(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;n(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function aH(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Tu(t){return t.name==="IndexedDbTransactionError"}var sx=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function kf(t){return t==null}function fu(t){return t===0&&1/t==-1/0}function cH(t){return typeof t=="number"&&Number.isInteger(t)&&!fu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var uH=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],CJ=[...uH,"documentOverlays"],lH=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],dH=lH,hH=[...dH,"indexConfiguration","indexState","indexEntries"];var bJ=[...hH,"globals"];function AM(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Lo(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ax(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Xe=class t{constructor(e,n){this.comparator=e,this.root=n||ir.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ir.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ir.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new oa(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new oa(this.root,e,this.comparator,!1)}getReverseIterator(){return new oa(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new oa(this.root,e,this.comparator,!0)}},oa=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},ir=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ne();let e=this.left.check();if(e!==this.right.check())throw ne();return e+(this.isRed()?0:1)}};ir.EMPTY=null,ir.RED=!0,ir.BLACK=!1;ir.EMPTY=new class{constructor(){this.size=0}get key(){throw ne()}get value(){throw ne()}get color(){throw ne()}get left(){throw ne()}get right(){throw ne()}copy(e,n,r,i,o){return this}insert(e,n,r){return new ir(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Ft=class t{constructor(e){this.comparator=e,this.data=new Xe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new af(this.data.getIterator())}getIteratorFrom(e){return new af(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},af=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var wn=class t{constructor(e){this.fields=e,e.sort(ln.comparator)}static empty(){return new t([])}unionWith(e){let n=new Ft(ln.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ua(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var cf=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Vt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new cf("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Se(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Vt.EMPTY_BYTE_STRING=new Vt("");var fH=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gr(t){if(Re(!!t),typeof t=="string"){let e=0,n=fH.exec(t);if(Re(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ze(t.seconds),nanos:ze(t.nanos)}}function ze(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ji(t){return typeof t=="string"?Vt.fromBase64String(t):Vt.fromUint8Array(t)}function hw(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function fw(t){let e=t.mapValue.fields.__previous_value__;return hw(e)?fw(e):e}function pu(t){let e=Gr(t.mapValue.fields.__local_write_time__.timestampValue);return new Dt(e.seconds,e.nanos)}var H_=class{constructor(e,n,r,i,o,s,a,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}},uf=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Xh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Oo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?hw(t)?4:ux(t)?9007199254740991:cx(t)?10:11:ne()}function ar(t,e){if(t===e)return!0;let n=Oo(t);if(n!==Oo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return pu(t).isEqual(pu(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Gr(i.timestampValue),a=Gr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return ji(i.bytesValue).isEqual(ji(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return ze(i.geoPointValue.latitude)===ze(o.geoPointValue.latitude)&&ze(i.geoPointValue.longitude)===ze(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return ze(i.integerValue)===ze(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=ze(i.doubleValue),a=ze(o.doubleValue);return s===a?fu(s)===fu(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return ua(t.arrayValue.values||[],e.arrayValue.values||[],ar);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(AM(s)!==AM(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!ar(s[u],a[u])))return!1;return!0}(t,e);default:return ne()}}function gu(t,e){return(t.values||[]).find(n=>ar(n,e))!==void 0}function la(t,e){if(t===e)return 0;let n=Oo(t),r=Oo(e);if(n!==r)return Se(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Se(t.booleanValue,e.booleanValue);case 2:return function(o,s){let a=ze(o.integerValue||o.doubleValue),u=ze(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return MM(t.timestampValue,e.timestampValue);case 4:return MM(pu(t),pu(e));case 5:return Se(t.stringValue,e.stringValue);case 6:return function(o,s){let a=ji(o),u=ji(s);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=Se(a[l],u[l]);if(h!==0)return h}return Se(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let a=Se(ze(o.latitude),ze(s.latitude));return a!==0?a:Se(ze(o.longitude),ze(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return xM(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,l,h;let p=o.fields||{},m=s.fields||{},y=(a=p.value)===null||a===void 0?void 0:a.arrayValue,T=(u=m.value)===null||u===void 0?void 0:u.arrayValue,R=Se(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((h=T?.values)===null||h===void 0?void 0:h.length)||0);return R!==0?R:xM(y,T)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Xh.mapValue&&s===Xh.mapValue)return 0;if(o===Xh.mapValue)return 1;if(s===Xh.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=Se(u[p],h[p]);if(m!==0)return m;let y=la(a[u[p]],l[h[p]]);if(y!==0)return y}return Se(u.length,h.length)}(t.mapValue,e.mapValue);default:throw ne()}}function MM(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Se(t,e);let n=Gr(t),r=Gr(e),i=Se(n.seconds,r.seconds);return i!==0?i:Se(n.nanos,r.nanos)}function xM(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=la(n[i],r[i]);if(o)return o}return Se(n.length,r.length)}function da(t){return z_(t)}function z_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Gr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ji(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ee.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=z_(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${z_(n.fields[s])}`;return i+"}"}(t.mapValue):ne()}function q_(t){return!!t&&"integerValue"in t}function pw(t){return!!t&&"arrayValue"in t}function PM(t){return!!t&&"nullValue"in t}function RM(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function tf(t){return!!t&&"mapValue"in t}function cx(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function uu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Lo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=uu(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=uu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function ux(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var un=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!tf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=uu(n)}setAll(e){let n=ln.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=uu(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());tf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ar(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];tf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Lo(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(uu(this.value))}};function lx(t){let e=[];return Lo(t.fields,(n,r)=>{let i=new ln([n]);if(tf(r)){let o=lx(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new wn(e)}var kn=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,le.min(),le.min(),le.min(),un.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,le.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,le.min(),le.min(),un.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,le.min(),le.min(),un.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var ha=class{constructor(e,n){this.position=e,this.inclusive=n}};function NM(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=ee.comparator(ee.fromName(s.referenceValue),n.key):r=la(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function OM(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ar(t.position[n],e.position[n]))return!1;return!0}var fa=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function pH(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var lf=class{},gt=class t extends lf{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new W_(e,n,r):n==="array-contains"?new Y_(e,r):n==="in"?new J_(e,r):n==="not-in"?new Z_(e,r):n==="array-contains-any"?new X_(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new K_(e,r):new Q_(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(la(n,this.value)):n!==null&&Oo(this.value)===Oo(n)&&this.matchesComparison(la(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ne()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},cr=class t extends lf{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return dx(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function dx(t){return t.op==="and"}function hx(t){return gH(t)&&dx(t)}function gH(t){for(let e of t.filters)if(e instanceof cr)return!1;return!0}function G_(t){if(t instanceof gt)return t.field.canonicalString()+t.op.toString()+da(t.value);if(hx(t))return t.filters.map(e=>G_(e)).join(",");{let e=t.filters.map(n=>G_(n)).join(",");return`${t.op}(${e})`}}function fx(t,e){return t instanceof gt?function(r,i){return i instanceof gt&&r.op===i.op&&r.field.isEqual(i.field)&&ar(r.value,i.value)}(t,e):t instanceof cr?function(r,i){return i instanceof cr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&fx(s,i.filters[a]),!0):!1}(t,e):void ne()}function px(t){return t instanceof gt?function(n){return`${n.field.canonicalString()} ${n.op} ${da(n.value)}`}(t):t instanceof cr?function(n){return n.op.toString()+" {"+n.getFilters().map(px).join(" ,")+"}"}(t):"Filter"}var W_=class extends gt{constructor(e,n,r){super(e,n,r),this.key=ee.fromName(r.referenceValue)}matches(e){let n=ee.comparator(e.key,this.key);return this.matchesComparison(n)}},K_=class extends gt{constructor(e,n){super(e,"in",n),this.keys=gx("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Q_=class extends gt{constructor(e,n){super(e,"not-in",n),this.keys=gx("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function gx(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ee.fromName(r.referenceValue))}var Y_=class extends gt{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return pw(n)&&gu(n.arrayValue,this.value)}},J_=class extends gt{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&gu(this.value.arrayValue,n)}},Z_=class extends gt{constructor(e,n){super(e,"not-in",n)}matches(e){if(gu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!gu(this.value.arrayValue,n)}},X_=class extends gt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!pw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>gu(this.value.arrayValue,r))}};var e0=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}};function kM(t,e=null,n=[],r=[],i=null,o=null,s=null){return new e0(t,e,n,r,i,o,s)}function gw(t){let e=ce(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>G_(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),kf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>da(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>da(r)).join(",")),e.ue=n}return e.ue}function mw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!pH(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!fx(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!OM(t.startAt,e.startAt)&&OM(t.endAt,e.endAt)}function t0(t){return ee.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var pa=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function mH(t,e,n,r,i,o,s,a){return new pa(t,e,n,r,i,o,s,a)}function yw(t){return new pa(t)}function FM(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function yH(t){return t.collectionGroup!==null}function lu(t){let e=ce(t);if(e.ce===null){e.ce=[];let n=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Ft(ln.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new fa(o,r))}),n.has(ln.keyField().canonicalString())||e.ce.push(new fa(ln.keyField(),r))}return e.ce}function or(t){let e=ce(t);return e.le||(e.le=vH(e,lu(t))),e.le}function vH(t,e){if(t.limitType==="F")return kM(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new fa(i.field,o)});let n=t.endAt?new ha(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ha(t.startAt.position,t.startAt.inclusive):null;return kM(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function n0(t,e,n){return new pa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ff(t,e){return mw(or(t),or(e))&&t.limitType===e.limitType}function mx(t){return`${gw(or(t))}|lt:${t.limitType}`}function na(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>px(i)).join(", ")}]`),kf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>da(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>da(i)).join(",")),`Target(${r})`}(or(t))}; limitType=${t.limitType})`}function Vf(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ee.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of lu(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){let l=NM(s,a,u);return s.inclusive?l<=0:l<0}(r.startAt,lu(r),i)||r.endAt&&!function(s,a,u){let l=NM(s,a,u);return s.inclusive?l>=0:l>0}(r.endAt,lu(r),i))}(t,e)}function _H(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function yx(t){return(e,n)=>{let r=!1;for(let i of lu(t)){let o=wH(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function wH(t,e,n){let r=t.field.isKeyField()?ee.comparator(e.key,n.key):function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?la(u,l):ne()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ne()}}var Ui=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Lo(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return ax(this.inner)}size(){return this.innerSize}};var EH=new Xe(ee.comparator);function Wr(){return EH}var vx=new Xe(ee.comparator);function cu(...t){let e=vx;for(let n of t)e=e.insert(n.key,n);return e}function _x(t){let e=vx;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Mo(){return du()}function wx(){return du()}function du(){return new Ui(t=>t.toString(),(t,e)=>t.isEqual(e))}var IH=new Xe(ee.comparator),CH=new Ft(ee.comparator);function we(...t){let e=CH;for(let n of t)e=e.add(n);return e}var bH=new Ft(Se);function DH(){return bH}function vw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fu(e)?"-0":e}}function Ex(t){return{integerValue:""+t}}function TH(t,e){return cH(e)?Ex(e):vw(t,e)}var ga=class{constructor(){this._=void 0}};function SH(t,e,n){return t instanceof ma?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&hw(o)&&(o=fw(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof ko?Cx(t,e):t instanceof Fo?bx(t,e):function(i,o){let s=Ix(i,o),a=VM(s)+VM(i.Pe);return q_(s)&&q_(i.Pe)?Ex(a):vw(i.serializer,a)}(t,e)}function AH(t,e,n){return t instanceof ko?Cx(t,e):t instanceof Fo?bx(t,e):n}function Ix(t,e){return t instanceof ya?function(r){return q_(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var ma=class extends ga{},ko=class extends ga{constructor(e){super(),this.elements=e}};function Cx(t,e){let n=Dx(e);for(let r of t.elements)n.some(i=>ar(i,r))||n.push(r);return{arrayValue:{values:n}}}var Fo=class extends ga{constructor(e){super(),this.elements=e}};function bx(t,e){let n=Dx(e);for(let r of t.elements)n=n.filter(i=>!ar(i,r));return{arrayValue:{values:n}}}var ya=class extends ga{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function VM(t){return ze(t.integerValue||t.doubleValue)}function Dx(t){return pw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function MH(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof ko&&i instanceof ko||r instanceof Fo&&i instanceof Fo?ua(r.elements,i.elements,ar):r instanceof ya&&i instanceof ya?ar(r.Pe,i.Pe):r instanceof ma&&i instanceof ma}(t.transform,e.transform)}var r0=class{constructor(e,n){this.version=e,this.transformResults=n}},Hr=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function nf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var va=class{};function Tx(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new mu(t.key,Hr.none()):new Vo(t.key,t.data,Hr.none());{let n=t.data,r=un.empty(),i=new Ft(ln.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new ur(t.key,r,new wn(i.toArray()),Hr.none())}}function xH(t,e,n){t instanceof Vo?function(i,o,s){let a=i.value.clone(),u=jM(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ur?function(i,o,s){if(!nf(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=jM(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(Sx(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function hu(t,e,n,r){return t instanceof Vo?function(o,s,a,u){if(!nf(o.precondition,s))return a;let l=o.value.clone(),h=UM(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof ur?function(o,s,a,u){if(!nf(o.precondition,s))return a;let l=UM(o.fieldTransforms,u,s),h=s.data;return h.setAll(Sx(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(o,s,a){return nf(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function PH(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=Ix(r.transform,i||null);o!=null&&(n===null&&(n=un.empty()),n.set(r.field,o))}return n||null}function LM(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ua(r,i,(o,s)=>MH(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Vo=class extends va{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},ur=class extends va{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function Sx(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function jM(t,e,n){let r=new Map;Re(t.length===n.length);for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,AH(s,a,n[i]))}return r}function UM(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,SH(o,s,e))}return r}var mu=class extends va{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},i0=class extends va{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var o0=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&xH(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=hu(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=hu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=wx();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let u=Tx(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(le.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),we())}isEqual(e){return this.batchId===e.batchId&&ua(this.mutations,e.mutations,(n,r)=>LM(n,r))&&ua(this.baseMutations,e.baseMutations,(n,r)=>LM(n,r))}},s0=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Re(e.mutations.length===r.length);let i=function(){return IH}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var a0=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var c0=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var at,De;function RH(t){switch(t){default:return ne();case O.CANCELLED:case O.UNKNOWN:case O.DEADLINE_EXCEEDED:case O.RESOURCE_EXHAUSTED:case O.INTERNAL:case O.UNAVAILABLE:case O.UNAUTHENTICATED:return!1;case O.INVALID_ARGUMENT:case O.NOT_FOUND:case O.ALREADY_EXISTS:case O.PERMISSION_DENIED:case O.FAILED_PRECONDITION:case O.ABORTED:case O.OUT_OF_RANGE:case O.UNIMPLEMENTED:case O.DATA_LOSS:return!0}}function Ax(t){if(t===void 0)return qr("GRPC error has no .code"),O.UNKNOWN;switch(t){case at.OK:return O.OK;case at.CANCELLED:return O.CANCELLED;case at.UNKNOWN:return O.UNKNOWN;case at.DEADLINE_EXCEEDED:return O.DEADLINE_EXCEEDED;case at.RESOURCE_EXHAUSTED:return O.RESOURCE_EXHAUSTED;case at.INTERNAL:return O.INTERNAL;case at.UNAVAILABLE:return O.UNAVAILABLE;case at.UNAUTHENTICATED:return O.UNAUTHENTICATED;case at.INVALID_ARGUMENT:return O.INVALID_ARGUMENT;case at.NOT_FOUND:return O.NOT_FOUND;case at.ALREADY_EXISTS:return O.ALREADY_EXISTS;case at.PERMISSION_DENIED:return O.PERMISSION_DENIED;case at.FAILED_PRECONDITION:return O.FAILED_PRECONDITION;case at.ABORTED:return O.ABORTED;case at.OUT_OF_RANGE:return O.OUT_OF_RANGE;case at.UNIMPLEMENTED:return O.UNIMPLEMENTED;case at.DATA_LOSS:return O.DATA_LOSS;default:return ne()}}(De=at||(at={}))[De.OK=0]="OK",De[De.CANCELLED=1]="CANCELLED",De[De.UNKNOWN=2]="UNKNOWN",De[De.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",De[De.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",De[De.NOT_FOUND=5]="NOT_FOUND",De[De.ALREADY_EXISTS=6]="ALREADY_EXISTS",De[De.PERMISSION_DENIED=7]="PERMISSION_DENIED",De[De.UNAUTHENTICATED=16]="UNAUTHENTICATED",De[De.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",De[De.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",De[De.ABORTED=10]="ABORTED",De[De.OUT_OF_RANGE=11]="OUT_OF_RANGE",De[De.UNIMPLEMENTED=12]="UNIMPLEMENTED",De[De.INTERNAL=13]="INTERNAL",De[De.UNAVAILABLE=14]="UNAVAILABLE",De[De.DATA_LOSS=15]="DATA_LOSS";var BM=null;function NH(){return new TextEncoder}var OH=new Vi([4294967295,4294967295],0);function $M(t){let e=NH().encode(t),n=new b_;return n.update(e),new Uint8Array(n.digest())}function HM(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Vi([n,r],0),new Vi([i,o],0)]}var u0=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new xo(`Invalid padding: ${n}`);if(r<0)throw new xo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new xo(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new xo(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Vi.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Vi.fromNumber(r)));return i.compare(OH)===1&&(i=new Vi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=$M(e),[r,i]=HM(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;let n=$M(e),[r,i]=HM(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},xo=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var df=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,yu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(le.min(),i,new Xe(Se),Wr(),we())}},yu=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,we(),we(),we())}};var sa=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},hf=class{constructor(e,n){this.targetId=e,this.me=n}},ff=class{constructor(e,n,r=Vt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},pf=class{constructor(){this.fe=0,this.ge=qM(),this.pe=Vt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=we(),n=we(),r=we();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ne()}}),new yu(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=qM()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Re(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},l0=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Wr(),this.qe=zM(),this.Qe=new Xe(Se)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ne()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let o=i.target;if(t0(o))if(r===0){let s=new ee(o.path);this.Ue(n,s,kn.newNoDocument(s,le.min()))}else Re(r===1);else{let s=this.Ye(n);if(s!==r){let a=this.Ze(e),u=a?this.Xe(a,e,s):1;if(u!==0){this.je(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}BM?.et(function(h,p,m,y,T){var R,x,F,K,q,Y;let Ne={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},te=p.unchangedNames;return te&&(Ne.bloomFilter={applied:T===0,hashCount:(R=te?.hashCount)!==null&&R!==void 0?R:0,bitmapLength:(K=(F=(x=te?.bits)===null||x===void 0?void 0:x.bitmap)===null||F===void 0?void 0:F.length)!==null&&K!==void 0?K:0,padding:(Y=(q=te?.bits)===null||q===void 0?void 0:q.padding)!==null&&Y!==void 0?Y:0,mightContain:I=>{var v;return(v=y?.mightContain(I))!==null&&v!==void 0&&v}}),Ne}(s,e.me,this.Le.tt(),a,u))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,a;try{s=ji(r).toUint8Array()}catch(u){if(u instanceof cf)return ca("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new u0(s,i,o)}catch(u){return ca(u instanceof xo?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((o,s)=>{let a=this.Je(s);if(a){if(o.current&&t0(a.target)){let u=new ee(a.target.path);this.ke.get(u)!==null||this.it(s,u)||this.Ue(s,u,kn.newNoDocument(u,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=we();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let i=new df(e,n,this.Qe,this.ke,r);return this.ke=Wr(),this.qe=zM(),this.Qe=new Xe(Se),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new pf,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Ft(Se),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||z("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new pf),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function zM(){return new Xe(ee.comparator)}function qM(){return new Xe(ee.comparator)}var kH={asc:"ASCENDING",desc:"DESCENDING"},FH={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},VH={and:"AND",or:"OR"},d0=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function h0(t,e){return t.useProto3Json||kf(e)?e:{value:e}}function gf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Mx(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function LH(t,e){return gf(t,e.toTimestamp())}function sr(t){return Re(!!t),le.fromTimestamp(function(n){let r=Gr(n);return new Dt(r.seconds,r.nanos)}(t))}function _w(t,e){return f0(t,e).canonicalString()}function f0(t,e){let n=function(i){return new Ze(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function xx(t){let e=Ze.fromString(t);return Re(kx(e)),e}function p0(t,e){return _w(t.databaseId,e.path)}function x_(t,e){let n=xx(e);if(n.get(1)!==t.databaseId.projectId)throw new Q(O.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Q(O.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ee(Rx(n))}function Px(t,e){return _w(t.databaseId,e)}function jH(t){let e=xx(t);return e.length===4?Ze.emptyPath():Rx(e)}function g0(t){return new Ze(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Rx(t){return Re(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function GM(t,e,n){return{name:p0(t,e),fields:n.value.mapValue.fields}}function UH(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:ne()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(Re(h===void 0||typeof h=="string"),Vt.fromBase64String(h||"")):(Re(h===void 0||h instanceof Buffer||h instanceof Uint8Array),Vt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let h=l.code===void 0?O.UNKNOWN:Ax(l.code);return new Q(h,l.message||"")}(s);n=new ff(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=x_(t,r.document.name),o=sr(r.document.updateTime),s=r.document.createTime?sr(r.document.createTime):le.min(),a=new un({mapValue:{fields:r.document.fields}}),u=kn.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];n=new sa(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=x_(t,r.document),o=r.readTime?sr(r.readTime):le.min(),s=kn.newNoDocument(i,o),a=r.removedTargetIds||[];n=new sa([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=x_(t,r.document),o=r.removedTargetIds||[];n=new sa([],o,i,null)}else{if(!("filter"in e))return ne();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new c0(i,o),a=r.targetId;n=new hf(a,s)}}return n}function BH(t,e){let n;if(e instanceof Vo)n={update:GM(t,e.key,e.value)};else if(e instanceof mu)n={delete:p0(t,e.key)};else if(e instanceof ur)n={update:GM(t,e.key,e.data),updateMask:YH(e.fieldMask)};else{if(!(e instanceof i0))return ne();n={verify:p0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof ma)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ko)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Fo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ya)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw ne()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:LH(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ne()}(t,e.precondition)),n}function $H(t,e){return t&&t.length>0?(Re(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?sr(i.updateTime):sr(o);return s.isEqual(le.min())&&(s=sr(o)),new r0(s,i.transformResults||[])}(n,e))):[]}function HH(t,e){return{documents:[Px(t,e.path)]}}function zH(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Px(t,i);let o=function(l){if(l.length!==0)return Ox(cr.create(l,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(m){return{field:ra(m.field),direction:WH(m.dir)}}(h))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=h0(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i}}function qH(t){let e=jH(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Re(r===1);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(p){let m=Nx(p);return m instanceof cr&&hx(m)?m.getFilters():[m]}(n.where));let s=[];n.orderBy&&(s=function(p){return p.map(m=>function(T){return new fa(ia(T.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(p){let m;return m=typeof p=="object"?p.value:p,kf(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(p){let m=!!p.before,y=p.values||[];return new ha(y,m)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let m=!p.before,y=p.values||[];return new ha(y,m)}(n.endAt)),mH(e,i,s,o,a,"F",u,l)}function GH(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ne()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Nx(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=ia(n.unaryFilter.field);return gt.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=ia(n.unaryFilter.field);return gt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=ia(n.unaryFilter.field);return gt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=ia(n.unaryFilter.field);return gt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ne()}}(t):t.fieldFilter!==void 0?function(n){return gt.create(ia(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ne()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return cr.create(n.compositeFilter.filters.map(r=>Nx(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ne()}}(n.compositeFilter.op))}(t):ne()}function WH(t){return kH[t]}function KH(t){return FH[t]}function QH(t){return VH[t]}function ra(t){return{fieldPath:t.canonicalString()}}function ia(t){return ln.fromServerFormat(t.fieldPath)}function Ox(t){return t instanceof gt?function(n){if(n.op==="=="){if(RM(n.value))return{unaryFilter:{field:ra(n.field),op:"IS_NAN"}};if(PM(n.value))return{unaryFilter:{field:ra(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(RM(n.value))return{unaryFilter:{field:ra(n.field),op:"IS_NOT_NAN"}};if(PM(n.value))return{unaryFilter:{field:ra(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ra(n.field),op:KH(n.op),value:n.value}}}(t):t instanceof cr?function(n){let r=n.getFilters().map(i=>Ox(i));return r.length===1?r[0]:{compositeFilter:{op:QH(n.op),filters:r}}}(t):ne()}function YH(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function kx(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var vu=class t{constructor(e,n,r,i,o=le.min(),s=le.min(),a=Vt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var m0=class{constructor(e){this.ct=e}};function JH(t){let e=qH({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?n0(e,e.limit,"L"):e}var mf=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(ze(e.integerValue));else if("doubleValue"in e){let r=ze(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),fu(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=Gr(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(ji(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?ux(e)?this.dt(n,Number.MAX_SAFE_INTEGER):cx(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):ne()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let o=e.fields||{};this.dt(n,53);let s="value",a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(ze(a)),this.Vt(s,n),this.Tt(o[s],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),ee.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};mf.vt=new mf;var y0=class{constructor(){this.un=new v0}addToCollectionParentIndex(e,n){return this.un.add(n),V.resolve()}getCollectionParents(e,n){return V.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return V.resolve()}deleteFieldIndex(e,n){return V.resolve()}deleteAllFieldIndexes(e){return V.resolve()}createTargetIndexes(e,n){return V.resolve()}getDocumentsMatchingTarget(e,n){return V.resolve(null)}getIndexType(e,n){return V.resolve(0)}getFieldIndexes(e,n){return V.resolve([])}getNextCollectionGroupToUpdate(e){return V.resolve(null)}getMinOffset(e,n){return V.resolve(No.min())}getMinOffsetFromCollectionGroup(e,n){return V.resolve(No.min())}updateCollectionGroup(e,n,r){return V.resolve()}updateIndexEntries(e,n){return V.resolve()}},v0=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ft(Ze.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ft(Ze.comparator)).toArray()}};var TJ=new Uint8Array(0);var rr=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};rr.DEFAULT_COLLECTION_PERCENTILE=10,rr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rr.DEFAULT=new rr(41943040,rr.DEFAULT_COLLECTION_PERCENTILE,rr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rr.DISABLED=new rr(-1,0,0);var _u=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var _0=class{constructor(){this.changes=new Ui(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,kn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?V.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var w0=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var E0=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&hu(r.mutation,i,wn.empty(),Dt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,we()).next(()=>r))}getLocalViewOfDocuments(e,n,r=we()){let i=Mo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=cu();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=Mo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,we()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Wr(),s=du(),a=function(){return du()}();return n.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof ur)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),hu(h.mutation,l,h.mutation.getFieldMask(),Dt.now())):s.set(l.key,wn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),n.forEach((l,h)=>{var p;return a.set(l,new w0(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let r=du(),i=new Xe((s,a)=>s-a),o=we();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let h=r.get(u)||wn.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||we()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=wx();h.forEach(m=>{if(!o.has(m)){let y=Tx(n.get(m),r.get(m));y!==null&&p.set(m,y),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return V.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return ee.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):yH(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):V.resolve(Mo()),a=-1,u=o;return s.next(l=>V.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?V.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,we())).next(h=>({batchId:a,changes:_x(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ee(n)).next(r=>{let i=cu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=cu();return this.indexManager.getCollectionParents(e,o).next(a=>V.forEach(a,u=>{let l=function(p,m){return new pa(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,kn.newInvalidDocument(h)))});let a=cu();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&hu(h.mutation,l,wn.empty(),Dt.now()),Vf(n,l)&&(a=a.insert(u,l))}),a})}};var I0=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return V.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:sr(i.createTime)}}(n)),V.resolve()}getNamedQuery(e,n){return V.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:JH(i.bundledQuery),readTime:sr(i.readTime)}}(n)),V.resolve()}};var C0=class{constructor(){this.overlays=new Xe(ee.comparator),this.Ir=new Map}getOverlay(e,n){return V.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Mo();return V.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),V.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),V.resolve()}getOverlaysForCollection(e,n,r){let i=Mo(),o=n.length+1,s=new ee(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return V.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Xe((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=Mo(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=Mo(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return V.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new a0(n,r));let o=this.Ir.get(n);o===void 0&&(o=we(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}};var b0=class{constructor(){this.sessionToken=Vt.EMPTY_BYTE_STRING}getSessionToken(e){return V.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,V.resolve()}};var wu=class{constructor(){this.Tr=new Ft(ct.Er),this.dr=new Ft(ct.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new ct(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new ct(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new ee(new Ze([])),r=new ct(n,e),i=new ct(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new ee(new Ze([])),r=new ct(n,e),i=new ct(n,e+1),o=we();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new ct(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},ct=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ee.comparator(e.key,n.key)||Se(e.wr,n.wr)}static Ar(e,n){return Se(e.wr,n.wr)||ee.comparator(e.key,n.key)}};var D0=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Ft(ct.Er)}checkEmpty(e){return V.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new o0(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.br=this.br.add(new ct(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return V.resolve(s)}lookupMutationBatch(e,n){return V.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),o=i<0?0:i;return V.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return V.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return V.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new ct(n,0),i=new ct(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{let a=this.Dr(s.wr);o.push(a)}),V.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ft(Se);return n.forEach(i=>{let o=new ct(i,0),s=new ct(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),V.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;ee.isDocumentKey(o)||(o=o.child(""));let s=new ct(new ee(o),0),a=new Ft(Se);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.wr)),!0)},s),V.resolve(this.Cr(a))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Re(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return V.forEach(n.mutations,i=>{let o=new ct(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new ct(n,0),i=this.br.firstAfterOrEqual(r);return V.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,V.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var T0=class{constructor(e){this.Mr=e,this.docs=function(){return new Xe(ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return V.resolve(r?r.document.mutableCopy():kn.newInvalidDocument(n))}getEntries(e,n){let r=Wr();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():kn.newInvalidDocument(i))}),V.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Wr(),s=n.path,a=new ee(s.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||oH(iH(h),r)<=0||(i.has(h.key)||Vf(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return V.resolve(o)}getAllFromCollectionGroup(e,n,r,i){ne()}Or(e,n){return V.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new S0(this)}getSize(e){return V.resolve(this.size)}},S0=class extends _0{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),V.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var A0=class{constructor(e){this.persistence=e,this.Nr=new Ui(n=>gw(n),mw),this.lastRemoteSnapshotVersion=le.min(),this.highestTargetId=0,this.Lr=0,this.Br=new wu,this.targetCount=0,this.kr=_u.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),V.resolve()}getLastRemoteSnapshotVersion(e){return V.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return V.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),V.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),V.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new _u(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,V.resolve()}updateTargetData(e,n){return this.Kn(n),V.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,V.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),V.waitFor(o).next(()=>i)}getTargetCount(e){return V.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return V.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),V.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),V.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),V.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return V.resolve(r)}containsKey(e,n){return V.resolve(this.Br.containsKey(n))}};var M0=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new sx(0),this.Kr=!1,this.Kr=!0,this.$r=new b0,this.referenceDelegate=e(this),this.Ur=new A0(this),this.indexManager=new y0,this.remoteDocumentCache=function(i){return new T0(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new m0(n),this.Gr=new I0(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new C0,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new D0(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){z("MemoryPersistence","Starting transaction:",e);let i=new x0(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return V.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},x0=class extends $_{constructor(e){super(),this.currentSequenceNumber=e}},P0=class t{constructor(e){this.persistence=e,this.Jr=new wu,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw ne()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),V.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),V.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),V.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return V.forEach(this.Xr,r=>{let i=ee.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,le.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return V.or([()=>V.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var R0=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=we(),i=we();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var N0=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var O0=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return vS()?8:aH(wt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new N0;return this.Xi(e,n,s).next(a=>{if(o.result=a,this.zi)return this.es(e,n,s,a.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(au()<=_e.DEBUG&&z("QueryEngine","SDK will not create cache indexes for query:",na(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),V.resolve()):(au()<=_e.DEBUG&&z("QueryEngine","Query:",na(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(au()<=_e.DEBUG&&z("QueryEngine","The SDK decides to create cache indexes for query:",na(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,or(n))):V.resolve())}Yi(e,n){if(FM(n))return V.resolve(null);let r=or(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=n0(n,null,"F"),r=or(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=we(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(n,a);return this.ns(n,l,s,u.readTime)?this.Yi(e,n0(n,null,"F")):this.rs(e,l,n,u)}))})))}Zi(e,n,r,i){return FM(n)||i.isEqual(le.min())?V.resolve(null):this.Ji.getDocuments(e,r).next(o=>{let s=this.ts(n,o);return this.ns(n,s,r,i)?V.resolve(null):(au()<=_e.DEBUG&&z("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),na(n)),this.rs(e,s,n,rH(i,-1)).next(a=>a))})}ts(e,n){let r=new Ft(yx(e));return n.forEach((i,o)=>{Vf(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return au()<=_e.DEBUG&&z("QueryEngine","Using full collection scan to execute query:",na(n)),this.Ji.getDocumentsMatchingQuery(e,n,No.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var k0=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Xe(Se),this._s=new Ui(o=>gw(o),mw),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new E0(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function ZH(t,e,n,r){return new k0(t,e,n,r)}function Fx(t,e){return E(this,null,function*(){let n=ce(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=we();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:s,addedBatchIds:a}))})})})}function XH(t,e){let n=ce(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,m=p.keys(),y=V.resolve();return m.forEach(T=>{y=y.next(()=>h.getEntry(u,T)).next(R=>{let x=l.docVersions.get(T);Re(x!==null),R.version.compareTo(x)<0&&(p.applyToRemoteDocument(R,l),R.isValidDocument()&&(R.setReadTime(l.commitVersion),h.addEntry(R)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=we();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function Vx(t){let e=ce(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function ez(t,e){let n=ce(t),r=e.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let a=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;a.push(n.Ur.removeMatchingKeys(o,h.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(o,h.addedDocuments,p)));let y=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(Vt.EMPTY_BYTE_STRING,le.min()).withLastLimboFreeSnapshotVersion(le.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),function(R,x,F){return R.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=3e8?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(m,y,h)&&a.push(n.Ur.updateTargetData(o,y))});let u=Wr(),l=we();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(tz(o,s,e.documentUpdates).next(h=>{u=h.Ps,l=h.Is})),!r.isEqual(le.min())){let h=n.Ur.getLastRemoteSnapshotVersion(o).next(p=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return V.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(n.os=i,o))}function tz(t,e,n){let r=we(),i=we();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Wr();return n.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(le.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):z("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ps:s,Is:i}})}function nz(t,e){let n=ce(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function rz(t,e){let n=ce(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,V.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new vu(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}function F0(t,e,n){return E(this,null,function*(){let r=ce(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Tu(s))throw s;z("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function WM(t,e,n){let r=ce(t),i=le.min(),o=we();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,h){let p=ce(u),m=p._s.get(h);return m!==void 0?V.resolve(p.os.get(m)):p.Ur.getTargetData(l,h)}(r,s,or(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:le.min(),n?o:we())).next(a=>(iz(r,_H(e),a),{documents:a,Ts:o})))}function iz(t,e,n){let r=t.us.get(e)||le.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}var yf=class{constructor(){this.activeTargetIds=DH()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var V0=class{constructor(){this.so=new yf,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new yf,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var L0=class{_o(e){}shutdown(){}};var vf=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){z("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){z("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var ef=null;function P_(){return ef===null?ef=function(){return 268435456+Math.round(2147483648*Math.random())}():ef++,"0x"+ef.toString(16)}var oz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var j0=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var kt="WebChannelConnection",U0=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){let a=P_(),u=this.xo(n,r.toUriEncodedString());z("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,o,s),this.No(n,u,l,i).then(h=>(z("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw ca("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",u,"request:",i),h})}Lo(n,r,i,o,s,a){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ia}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){let i=oz[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let o=P_();return new Promise((s,a)=>{let u=new D_;u.setWithCredentials(!0),u.listenOnce(T_.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case su.NO_ERROR:let h=u.getResponseJson();z(kt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case su.TIMEOUT:z(kt,`RPC '${e}' ${o} timed out`),a(new Q(O.DEADLINE_EXCEEDED,"Request time out"));break;case su.HTTP_ERROR:let p=u.getStatus();if(z(kt,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);let y=m?.error;if(y&&y.status&&y.message){let T=function(x){let F=x.toLowerCase().replace(/_/g,"-");return Object.values(O).indexOf(F)>=0?F:O.UNKNOWN}(y.status);a(new Q(T,y.message))}else a(new Q(O.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new Q(O.UNAVAILABLE,"Connection failed."));break;default:ne()}}finally{z(kt,`RPC '${e}' ${o} completed.`)}});let l=JSON.stringify(i);z(kt,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",l,r,15)})}Bo(e,n,r){let i=P_(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=M_(),a=A_(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let h=o.join("");z(kt,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u),m=!1,y=!1,T=new j0({Io:x=>{y?z(kt,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(m||(z(kt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),z(kt,`RPC '${e}' stream ${i} sending:`,x),p.send(x))},To:()=>p.close()}),R=(x,F,K)=>{x.listen(F,q=>{try{K(q)}catch(Y){setTimeout(()=>{throw Y},0)}})};return R(p,ta.EventType.OPEN,()=>{y||(z(kt,`RPC '${e}' stream ${i} transport opened.`),T.yo())}),R(p,ta.EventType.CLOSE,()=>{y||(y=!0,z(kt,`RPC '${e}' stream ${i} transport closed`),T.So())}),R(p,ta.EventType.ERROR,x=>{y||(y=!0,ca(kt,`RPC '${e}' stream ${i} transport errored:`,x),T.So(new Q(O.UNAVAILABLE,"The operation could not be completed")))}),R(p,ta.EventType.MESSAGE,x=>{var F;if(!y){let K=x.data[0];Re(!!K);let q=K,Y=q.error||((F=q[0])===null||F===void 0?void 0:F.error);if(Y){z(kt,`RPC '${e}' stream ${i} received error:`,Y);let Ne=Y.status,te=function(_){let C=at[_];if(C!==void 0)return Ax(C)}(Ne),I=Y.message;te===void 0&&(te=O.INTERNAL,I="Unknown error status: "+Ne+" with message "+Y.message),y=!0,T.So(new Q(te,I)),p.close()}else z(kt,`RPC '${e}' stream ${i} received:`,K),T.bo(K)}}),R(a,S_.STAT_EVENT,x=>{x.stat===Zh.PROXY?z(kt,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===Zh.NOPROXY&&z(kt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{T.wo()},0),T}};function R_(){return typeof document<"u"?document:null}function Lf(t){return new d0(t,!0)}var _f=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&z("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var wf=class{constructor(e,n,r,i,o,s,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new _f(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return E(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return E(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return E(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===O.RESOURCE_EXHAUSTED?(qr(n.toString()),qr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===O.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new Q(O.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>E(this,null,function*(){this.state=0,this.start()}))}I_(e){return z("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(z("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},B0=class extends wf{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=UH(this.serializer,e),r=function(o){if(!("targetChange"in o))return le.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?le.min():s.readTime?sr(s.readTime):le.min()}(e);return this.listener.d_(n,r)}A_(e){let n={};n.database=g0(this.serializer),n.addTarget=function(o,s){let a,u=s.target;if(a=t0(u)?{documents:HH(o,u)}:{query:zH(o,u)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=Mx(o,s.resumeToken);let l=h0(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(le.min())>0){a.readTime=gf(o,s.snapshotVersion.toTimestamp());let l=h0(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=GH(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){let n={};n.database=g0(this.serializer),n.removeTarget=e,this.a_(n)}},$0=class extends wf{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Re(!!e.streamToken),this.lastStreamToken=e.streamToken,Re(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Re(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=$H(e.writeResults,e.commitTime),r=sr(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=g0(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>BH(this.serializer,r))};this.a_(n)}};var H0=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Q(O.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,f0(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Q(O.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,f0(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Q(O.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},z0=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(qr(n),this.D_=!1):z("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var q0=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(()=>E(this,null,function*(){jo(this)&&(z("RemoteStore","Restarting streams for network reachability change."),yield function(u){return E(this,null,function*(){let l=ce(u);l.L_.add(4),yield Su(l),l.q_.set("Unknown"),l.L_.delete(4),yield jf(l)})}(this))}))}),this.q_=new z0(r,i)}};function jf(t){return E(this,null,function*(){if(jo(t))for(let e of t.B_)yield e(!0)})}function Su(t){return E(this,null,function*(){for(let e of t.B_)yield e(!1)})}function Lx(t,e){let n=ce(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Cw(n)?Iw(n):Ca(n).r_()&&Ew(n,e))}function ww(t,e){let n=ce(t),r=Ca(n);n.N_.delete(e),r.r_()&&jx(n,e),n.N_.size===0&&(r.r_()?r.o_():jo(n)&&n.q_.set("Unknown"))}function Ew(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(le.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ca(t).A_(e)}function jx(t,e){t.Q_.xe(e),Ca(t).R_(e)}function Iw(t){t.Q_=new l0({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Ca(t).start(),t.q_.v_()}function Cw(t){return jo(t)&&!Ca(t).n_()&&t.N_.size>0}function jo(t){return ce(t).L_.size===0}function Ux(t){t.Q_=void 0}function sz(t){return E(this,null,function*(){t.q_.set("Online")})}function az(t){return E(this,null,function*(){t.N_.forEach((e,n)=>{Ew(t,e)})})}function cz(t,e){return E(this,null,function*(){Ux(t),Cw(t)?(t.q_.M_(e),Iw(t)):t.q_.set("Unknown")})}function uz(t,e,n){return E(this,null,function*(){if(t.q_.set("Online"),e instanceof ff&&e.state===2&&e.cause)try{yield function(i,o){return E(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))})}(t,e)}catch(r){z("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Ef(t,r)}else if(e instanceof sa?t.Q_.Ke(e):e instanceof hf?t.Q_.He(e):t.Q_.We(e),!n.isEqual(le.min()))try{let r=yield Vx(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){let a=o.Q_.rt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.N_.get(l);h&&o.N_.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.N_.get(u);if(!h)return;o.N_.set(u,h.withResumeToken(Vt.EMPTY_BYTE_STRING,h.snapshotVersion)),jx(o,u);let p=new vu(h.target,u,l,h.sequenceNumber);Ew(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){z("RemoteStore","Failed to raise snapshot:",r),yield Ef(t,r)}})}function Ef(t,e,n){return E(this,null,function*(){if(!Tu(e))throw e;t.L_.add(1),yield Su(t),t.q_.set("Offline"),n||(n=()=>Vx(t.localStore)),t.asyncQueue.enqueueRetryable(()=>E(this,null,function*(){z("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield jf(t)}))})}function Bx(t,e){return e().catch(n=>Ef(t,n,e))}function Uf(t){return E(this,null,function*(){let e=ce(t),n=Bi(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;lz(e);)try{let i=yield nz(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,dz(e,i)}catch(i){yield Ef(e,i)}$x(e)&&Hx(e)})}function lz(t){return jo(t)&&t.O_.length<10}function dz(t,e){t.O_.push(e);let n=Bi(t);n.r_()&&n.V_&&n.m_(e.mutations)}function $x(t){return jo(t)&&!Bi(t).n_()&&t.O_.length>0}function Hx(t){Bi(t).start()}function hz(t){return E(this,null,function*(){Bi(t).p_()})}function fz(t){return E(this,null,function*(){let e=Bi(t);for(let n of t.O_)e.m_(n.mutations)})}function pz(t,e,n){return E(this,null,function*(){let r=t.O_.shift(),i=s0.from(r,e,n);yield Bx(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Uf(t)})}function gz(t,e){return E(this,null,function*(){e&&Bi(t).V_&&(yield function(r,i){return E(this,null,function*(){if(function(s){return RH(s)&&s!==O.ABORTED}(i.code)){let o=r.O_.shift();Bi(r).s_(),yield Bx(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Uf(r)}})}(t,e)),$x(t)&&Hx(t)})}function KM(t,e){return E(this,null,function*(){let n=ce(t);n.asyncQueue.verifyOperationInProgress(),z("RemoteStore","RemoteStore received new credentials");let r=jo(n);n.L_.add(3),yield Su(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield jf(n)})}function mz(t,e){return E(this,null,function*(){let n=ce(t);e?(n.L_.delete(2),yield jf(n)):e||(n.L_.add(2),yield Su(n),n.q_.set("Unknown"))})}function Ca(t){return t.K_||(t.K_=function(n,r,i){let o=ce(n);return o.w_(),new B0(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:sz.bind(null,t),Ro:az.bind(null,t),mo:cz.bind(null,t),d_:uz.bind(null,t)}),t.B_.push(e=>E(this,null,function*(){e?(t.K_.s_(),Cw(t)?Iw(t):t.q_.set("Unknown")):(yield t.K_.stop(),Ux(t))}))),t.K_}function Bi(t){return t.U_||(t.U_=function(n,r,i){let o=ce(n);return o.w_(),new $0(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:hz.bind(null,t),mo:gz.bind(null,t),f_:fz.bind(null,t),g_:pz.bind(null,t)}),t.B_.push(e=>E(this,null,function*(){e?(t.U_.s_(),yield Uf(t)):(yield t.U_.stop(),t.O_.length>0&&(z("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var G0=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new $r,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Q(O.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function bw(t,e){if(qr("AsyncQueue",`${e}: ${t}`),Tu(t))return new Q(O.UNAVAILABLE,`${e}: ${t}`);throw t}var If=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ee.comparator(n.key,r.key):(n,r)=>ee.comparator(n.key,r.key),this.keyedMap=cu(),this.sortedSet=new Xe(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var Cf=class{constructor(){this.W_=new Xe(ee.comparator)}track(e){let n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ne():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}},_a=class t{constructor(e,n,r,i,o,s,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,If.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ff(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var W0=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},K0=class{constructor(){this.queries=QM(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=ce(n),o=i.queries;i.queries=QM(),o.forEach((s,a)=>{for(let u of a.j_)u.onError(r)})})(this,new Q(O.ABORTED,"Firestore shutting down"))}};function QM(){return new Ui(t=>mx(t),Ff)}function yz(t,e){return E(this,null,function*(){let n=ce(t),r=3,i=e.query,o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new W0,r=e.J_()?0:1);try{switch(r){case 0:o.z_=yield n.onListen(i,!0);break;case 1:o.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){let a=bw(s,`Initialization of query '${na(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&Dw(n)})}function vz(t,e){return E(this,null,function*(){let n=ce(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function _z(t,e){let n=ce(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&Dw(n)}function wz(t,e,n){let r=ce(t),i=r.queries.get(e);if(i)for(let o of i.j_)o.onError(n);r.queries.delete(e)}function Dw(t){t.Y_.forEach(e=>{e.next()})}var Q0,YM;(YM=Q0||(Q0={})).ea="default",YM.Cache="cache";var Y0=class{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new _a(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=_a.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Q0.Cache}};var bf=class{constructor(e){this.key=e}},Df=class{constructor(e){this.key=e}},J0=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=we(),this.mutatedKeys=we(),this.Aa=yx(e),this.Ra=new If(this.Aa)}get Va(){return this.Ta}ma(e,n){let r=n?n.fa:new Cf,i=n?n.Ra:this.Ra,o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),y=Vf(this.query,p)?p:null,T=!!m&&this.mutatedKeys.has(m.key),R=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),x=!1;m&&y?m.data.isEqual(y.data)?T!==R&&(r.track({type:3,doc:y}),x=!0):this.ga(m,y)||(r.track({type:2,doc:y}),x=!0,(u&&this.Aa(y,u)>0||l&&this.Aa(y,l)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),x=!0):m&&!y&&(r.track({type:1,doc:m}),x=!0,(u||l)&&(a=!0)),x&&(y?(s=s.add(y),o=R?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let s=e.fa.G_();s.sort((h,p)=>function(y,T){let R=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ne()}};return R(y)-R(T)}(h.type,p.type)||this.Aa(h.doc,p.doc)),this.pa(r),i=i!=null&&i;let a=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,s.length!==0||l?{snapshot:new _a(this.query,e.Ra,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Cf,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=we(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let n=[];return e.forEach(r=>{this.da.has(r)||n.push(new Df(r))}),this.da.forEach(r=>{e.has(r)||n.push(new bf(r))}),n}ba(e){this.Ta=e.Ts,this.da=we();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return _a.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},Z0=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},X0=class{constructor(e){this.key=e,this.va=!1}},ew=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Ui(a=>mx(a),Ff),this.Ma=new Map,this.xa=new Set,this.Oa=new Xe(ee.comparator),this.Na=new Map,this.La=new wu,this.Ba={},this.ka=new Map,this.qa=_u.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function Ez(t,e,n=!0){return E(this,null,function*(){let r=Qx(t),i,o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=yield zx(r,e,n,!0),i})}function Iz(t,e){return E(this,null,function*(){let n=Qx(t);yield zx(n,e,!0,!1)})}function zx(t,e,n,r){return E(this,null,function*(){let i=yield rz(t.localStore,or(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n),a;return r&&(a=yield Cz(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&Lx(t.remoteStore,i),a})}function Cz(t,e,n,r,i){return E(this,null,function*(){t.Ka=(p,m,y)=>function(R,x,F,K){return E(this,null,function*(){let q=x.view.ma(F);q.ns&&(q=yield WM(R.localStore,x.query,!1).then(({documents:I})=>x.view.ma(I,q)));let Y=K&&K.targetChanges.get(x.targetId),Ne=K&&K.targetMismatches.get(x.targetId)!=null,te=x.view.applyChanges(q,R.isPrimaryClient,Y,Ne);return ZM(R,x.targetId,te.wa),te.snapshot})}(t,p,m,y);let o=yield WM(t.localStore,e,!0),s=new J0(e,o.Ts),a=s.ma(o.documents),u=yu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(a,t.isPrimaryClient,u);ZM(t,n,l.wa);let h=new Z0(e,n,s);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),l.snapshot})}function bz(t,e,n){return E(this,null,function*(){let r=ce(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!Ff(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield F0(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&ww(r.remoteStore,i.targetId),tw(r,i.targetId)}).catch(Du))):(tw(r,i.targetId),yield F0(r.localStore,i.targetId,!0))})}function Dz(t,e){return E(this,null,function*(){let n=ce(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ww(n.remoteStore,r.targetId))})}function Tz(t,e,n){return E(this,null,function*(){let r=Nz(t);try{let i=yield function(s,a){let u=ce(s),l=Dt.now(),h=a.reduce((y,T)=>y.add(T.key),we()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let T=Wr(),R=we();return u.cs.getEntries(y,h).next(x=>{T=x,T.forEach((F,K)=>{K.isValidDocument()||(R=R.add(F))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,T)).next(x=>{p=x;let F=[];for(let K of a){let q=PH(K,p.get(K.key).overlayedDocument);q!=null&&F.push(new ur(K.key,q,lx(q.value.mapValue),Hr.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,F,a)}).next(x=>{m=x;let F=x.applyToLocalDocumentSet(p,R);return u.documentOverlayCache.saveOverlays(y,x.batchId,F)})}).then(()=>({batchId:m.batchId,changes:_x(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let l=s.Ba[s.currentUser.toKey()];l||(l=new Xe(Se)),l=l.insert(a,u),s.Ba[s.currentUser.toKey()]=l}(r,i.batchId,n),yield Au(r,i.changes),yield Uf(r.remoteStore)}catch(i){let o=bw(i,"Failed to persist write");n.reject(o)}})}function qx(t,e){return E(this,null,function*(){let n=ce(t);try{let r=yield ez(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Na.get(o);s&&(Re(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?Re(s.va):i.removedDocuments.size>0&&(Re(s.va),s.va=!1))}),yield Au(n,r,e)}catch(r){yield Du(r)}})}function JM(t,e,n){let r=ce(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((o,s)=>{let a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let u=ce(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.j_)m.Z_(a)&&(l=!0)}),l&&Dw(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Sz(t,e,n){return E(this,null,function*(){let r=ce(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Na.get(e),o=i&&i.key;if(o){let s=new Xe(ee.comparator);s=s.insert(o,kn.newNoDocument(o,le.min()));let a=we().add(o),u=new df(le.min(),new Map,new Xe(Se),s,a);yield qx(r,u),r.Oa=r.Oa.remove(o),r.Na.delete(e),Tw(r)}else yield F0(r.localStore,e,!1).then(()=>tw(r,e,n)).catch(Du)})}function Az(t,e){return E(this,null,function*(){let n=ce(t),r=e.batch.batchId;try{let i=yield XH(n.localStore,e);Wx(n,r,null),Gx(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Au(n,i)}catch(i){yield Du(i)}})}function Mz(t,e,n){return E(this,null,function*(){let r=ce(t);try{let i=yield function(s,a){let u=ce(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(Re(p!==null),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);Wx(r,e,n),Gx(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Au(r,i)}catch(i){yield Du(i)}})}function Gx(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function Wx(t,e,n){let r=ce(t),i=r.Ba[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function tw(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||Kx(t,r)})}function Kx(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(ww(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Tw(t))}function ZM(t,e,n){for(let r of n)r instanceof bf?(t.La.addReference(r.key,e),xz(t,r)):r instanceof Df?(z("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||Kx(t,r.key)):ne()}function xz(t,e){let n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(z("SyncEngine","New document in limbo: "+n),t.xa.add(r),Tw(t))}function Tw(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new ee(Ze.fromString(e)),r=t.qa.next();t.Na.set(r,new X0(n)),t.Oa=t.Oa.insert(n,r),Lx(t.remoteStore,new vu(or(yw(n.path)),r,"TargetPurposeLimboResolution",sx.oe))}}function Au(t,e,n){return E(this,null,function*(){let r=ce(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{s.push(r.Ka(u,e,n).then(l=>{var h;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=n?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=R0.Wi(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.Ca.d_(i),yield function(u,l){return E(this,null,function*(){let h=ce(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>V.forEach(l,m=>V.forEach(m.$i,y=>h.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>V.forEach(m.Ui,y=>h.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!Tu(p))throw p;z("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let y=h.os.get(m),T=y.snapshotVersion,R=y.withLastLimboFreeSnapshotVersion(T);h.os=h.os.insert(m,R)}}})}(r.localStore,o))})}function Pz(t,e){return E(this,null,function*(){let n=ce(t);if(!n.currentUser.isEqual(e)){z("SyncEngine","User change. New user:",e.toKey());let r=yield Fx(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(u=>{u.reject(new Q(O.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Au(n,r.hs)}})}function Rz(t,e){let n=ce(t),r=n.Na.get(e);if(r&&r.va)return we().add(r.key);{let i=we(),o=n.Ma.get(e);if(!o)return i;for(let s of o){let a=n.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function Qx(t){let e=ce(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=qx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Rz.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Sz.bind(null,e),e.Ca.d_=_z.bind(null,e.eventManager),e.Ca.$a=wz.bind(null,e.eventManager),e}function Nz(t){let e=ce(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Az.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Mz.bind(null,e),e}var XM=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return E(this,null,function*(){this.serializer=Lf(n.databaseInfo.databaseId),this.sharedClientState=this.Wa(n),this.persistence=this.Ga(n),yield this.persistence.start(),this.localStore=this.za(n),this.gcScheduler=this.ja(n,this.localStore),this.indexBackfillerScheduler=this.Ha(n,this.localStore)})}ja(n,r){return null}Ha(n,r){return null}za(n){return ZH(this.persistence,new O0,n.initialUser,this.serializer)}Ga(n){return new M0(P0.Zr,this.serializer)}Wa(n){return new V0}terminate(){return E(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})();var Oz=(()=>{class t{initialize(n,r){return E(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>JM(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Pz.bind(null,this.syncEngine),yield mz(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new K0}()}createDatastore(n){let r=Lf(n.databaseInfo.databaseId),i=function(s){return new U0(s)}(n.databaseInfo);return function(s,a,u,l){return new H0(s,a,u,l)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,o,s,a,u){return new q0(i,o,s,a,u)}(this.localStore,this.datastore,n.asyncQueue,r=>JM(this.syncEngine,r,0),function(){return vf.D()?new vf:new L0}())}createSyncEngine(n,r){return function(o,s,a,u,l,h,p){let m=new ew(o,s,a,u,l,h);return p&&(m.Qa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return E(this,null,function*(){var n,r;yield function(o){return E(this,null,function*(){let s=ce(o);z("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield Su(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var nw=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):qr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var rw=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Et.UNAUTHENTICATED,this.clientId=of.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>E(this,null,function*(){z("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(z("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new $r;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>E(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=bw(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function N_(t,e){return E(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),z("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>E(this,null,function*(){r.isEqual(i)||(yield Fx(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function ex(t,e){return E(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield kz(t);z("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>KM(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>KM(e.remoteStore,i)),t._onlineComponents=e})}function kz(t){return E(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){z("FirestoreClient","Using user provided OfflineComponentProvider");try{yield N_(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===O.FAILED_PRECONDITION||i.code===O.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;ca("Error using user provided cache. Falling back to memory cache: "+n),yield N_(t,new XM)}}else z("FirestoreClient","Using default OfflineComponentProvider"),yield N_(t,new XM);return t._offlineComponents})}function Yx(t){return E(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(z("FirestoreClient","Using user provided OnlineComponentProvider"),yield ex(t,t._uninitializedComponentsProvider._online)):(z("FirestoreClient","Using default OnlineComponentProvider"),yield ex(t,new Oz))),t._onlineComponents})}function Fz(t){return Yx(t).then(e=>e.syncEngine)}function tx(t){return E(this,null,function*(){let e=yield Yx(t),n=e.eventManager;return n.onListen=Ez.bind(null,e.syncEngine),n.onUnlisten=bz.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Iz.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Dz.bind(null,e.syncEngine),n})}function Jx(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var nx=new Map;function Zx(t,e,n){if(!n)throw new Q(O.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Vz(t,e,n,r){if(e===!0&&r===!0)throw new Q(O.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function rx(t){if(!ee.isDocumentKey(t))throw new Q(O.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function ix(t){if(ee.isDocumentKey(t))throw new Q(O.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Sw(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ne()}function zr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Q(O.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Sw(t);throw new Q(O.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var Tf=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Q(O.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Q(O.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Vz("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Jx((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Q(O.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Q(O.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Q(O.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},wa=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Tf({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Q(O.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Q(O.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Tf(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new O_;switch(r.type){case"firstParty":return new L_(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Q(O.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return E(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=nx.get(n);r&&(z("ComponentProvider","Removing Datastore"),nx.delete(n),r.terminate())}(this),Promise.resolve()}};function Xx(t,e,n,r={}){var i;let o=(t=zr(t,wa))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&ca("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=Et.MOCK_USER;else{a=hS(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new Q(O.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Et(l)}t._authCredentials=new k_(new rf(a,u))}}var Sf=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Jt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Li(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Li=class t extends Sf{constructor(e,n,r){super(e,n,yw(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Jt(this.firestore,null,new ee(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function eP(t,e,...n){if(t=ft(t),Zx("collection","path",e),t instanceof wa){let r=Ze.fromString(e,...n);return ix(r),new Li(t,null,r)}{if(!(t instanceof Jt||t instanceof Li))throw new Q(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ze.fromString(e,...n));return ix(r),new Li(t.firestore,null,r)}}function tP(t,e,...n){if(t=ft(t),arguments.length===1&&(e=of.newId()),Zx("doc","path",e),t instanceof wa){let r=Ze.fromString(e,...n);return rx(r),new Jt(t,null,new ee(r))}{if(!(t instanceof Jt||t instanceof Li))throw new Q(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ze.fromString(e,...n));return rx(r),new Jt(t.firestore,t instanceof Li?t.converter:null,new ee(r))}}var Af=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new _f(this,"async_queue_retry"),this.Vu=()=>{let r=R_();r&&z("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let n=R_();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let n=R_();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let n=new $r;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return E(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Tu(e))throw e;z("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw qr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);let i=G0.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&ne()}verifyOperationInProgress(){}wu(){return E(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let n=this.Tu.indexOf(e);this.Tu.splice(n,1)}};function ox(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}var $i=class extends wa{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Af,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return E(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Af(e),this._firestoreClient=void 0,yield e}})}};function nP(t,e){let n=typeof t=="object"?t:Pi(),r=typeof t=="string"?t:e||"(default)",i=Mi(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=dS("firestore");o&&Xx(i,...o)}return i}function rP(t){if(t._terminated)throw new Q(O.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Lz(t),t._firestoreClient}function Lz(t){var e,n,r;let i=t._freezeSettings(),o=function(a,u,l,h){return new H_(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,Jx(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new rw(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(t._componentsProvider))}var Eu=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Vt.fromBase64String(e))}catch(n){throw new Q(O.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Vt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Ea=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Q(O.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ln(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Iu=class{constructor(e){this._methodName=e}};var Cu=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Q(O.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Q(O.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Se(this._lat,e._lat)||Se(this._long,e._long)}};var bu=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var jz=/^__.*__$/,iw=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ur(e,this.data,this.fieldMask,n,this.fieldTransforms):new Vo(e,this.data,n,this.fieldTransforms)}},Mf=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ur(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function iP(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ne()}}var ow=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Pf(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(iP(this.Cu)&&jz.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},sw=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Lf(e)}Qu(e,n,r,i=!1){return new ow({Cu:e,methodName:n,qu:r,path:ln.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function oP(t){let e=t._freezeSettings(),n=Lf(t._databaseId);return new sw(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Uz(t,e,n,r,i,o={}){let s=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);Aw("Data must be an object, but it was:",s,r);let a=sP(r,s),u,l;if(o.merge)u=new wn(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let m=aw(e,p,n);if(!s.contains(m))throw new Q(O.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);cP(h,m)||h.push(m)}u=new wn(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new iw(new un(a),u,l)}var xf=class t extends Iu{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function Bz(t,e,n,r){let i=t.Qu(1,e,n);Aw("Data must be an object, but it was:",i,r);let o=[],s=un.empty();Lo(r,(u,l)=>{let h=Mw(e,u,n);l=ft(l);let p=i.Nu(h);if(l instanceof xf)o.push(h);else{let m=Bf(l,p);m!=null&&(o.push(h),s.set(h,m))}});let a=new wn(o);return new Mf(s,a,i.fieldTransforms)}function $z(t,e,n,r,i,o){let s=t.Qu(1,e,n),a=[aw(e,r,n)],u=[i];if(o.length%2!=0)throw new Q(O.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<o.length;m+=2)a.push(aw(e,o[m])),u.push(o[m+1]);let l=[],h=un.empty();for(let m=a.length-1;m>=0;--m)if(!cP(l,a[m])){let y=a[m],T=u[m];T=ft(T);let R=s.Nu(y);if(T instanceof xf)l.push(y);else{let x=Bf(T,R);x!=null&&(l.push(y),h.set(y,x))}}let p=new wn(l);return new Mf(h,p,s.fieldTransforms)}function Bf(t,e){if(aP(t=ft(t)))return Aw("Unsupported field value:",e,t),sP(t,e);if(t instanceof Iu)return function(r,i){if(!iP(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let u=Bf(a,i.Lu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=ft(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return TH(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=Dt.fromDate(r);return{timestampValue:gf(i.serializer,o)}}if(r instanceof Dt){let o=new Dt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:gf(i.serializer,o)}}if(r instanceof Cu)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Eu)return{bytesValue:Mx(i.serializer,r._byteString)};if(r instanceof Jt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:_w(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof bu)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.Bu("VectorValues must only contain numeric values.");return vw(a.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Sw(r)}`)}(t,e)}function sP(t,e){let n={};return ax(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Lo(t,(r,i)=>{let o=Bf(i,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function aP(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Dt||t instanceof Cu||t instanceof Eu||t instanceof Jt||t instanceof Iu||t instanceof bu)}function Aw(t,e,n){if(!aP(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=Sw(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function aw(t,e,n){if((e=ft(e))instanceof Ea)return e._internalPath;if(typeof e=="string")return Mw(t,e);throw Pf("Field path arguments must be of type string or ",t,!1,void 0,n)}var Hz=new RegExp("[~\\*/\\[\\]]");function Mw(t,e,n){if(e.search(Hz)>=0)throw Pf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ea(...e.split("."))._internalPath}catch{throw Pf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Pf(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new Q(O.INVALID_ARGUMENT,a+t+u)}function cP(t,e){return t.some(n=>n.isEqual(e))}var Rf=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Jt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new cw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(uP("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},cw=class extends Rf{data(){return super.data()}};function uP(t,e){return typeof e=="string"?Mw(t,e):e instanceof Ea?e._internalPath:e._delegate._internalPath}function zz(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Q(O.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var uw=class{convertValue(e,n="none"){switch(Oo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ze(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ji(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ne()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Lo(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;let o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>ze(s.doubleValue));return new bu(o)}convertGeoPoint(e){return new Cu(ze(e.latitude),ze(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=fw(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(pu(e));default:return null}}convertTimestamp(e){let n=Gr(e);return new Dt(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Ze.fromString(e);Re(kx(r));let i=new uf(r.get(1),r.get(3)),o=new ee(r.popFirst(5));return i.isEqual(n)||qr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function qz(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var Po=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Nf=class extends Rf{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new aa(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(uP("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},aa=class extends Nf{data(e={}){return super.data(e)}},lw=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Po(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new aa(this._firestore,this._userDataWriter,r.key,r,new Po(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Q(O.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new aa(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Po(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new aa(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Po(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:Gz(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function Gz(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ne()}}var Of=class extends uw{constructor(e){super(),this.firestore=e}convertBytes(e){return new Eu(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Jt(this.firestore,null,n)}};function lP(t,e,n){t=zr(t,Jt);let r=zr(t.firestore,$i),i=qz(t.converter,e,n);return Pw(r,[Uz(oP(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Hr.none())])}function dP(t,e,n,...r){t=zr(t,Jt);let i=zr(t.firestore,$i),o=oP(i),s;return s=typeof(e=ft(e))=="string"||e instanceof Ea?$z(o,"updateDoc",t._key,e,n,r):Bz(o,"updateDoc",t._key,e),Pw(i,[s.toMutation(t._key,Hr.exists(!0))])}function hP(t){return Pw(zr(t.firestore,$i),[new mu(t._key,Hr.none())])}function xw(t,...e){var n,r,i;t=ft(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||ox(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(ox(e[s])){let p=e[s];e[s]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(t instanceof Jt)l=zr(t.firestore,$i),h=yw(t._key.path),u={next:p=>{e[s]&&e[s](Wz(l,t,p))},error:e[s+1],complete:e[s+2]};else{let p=zr(t,Sf);l=zr(p.firestore,$i),h=p._query;let m=new Of(l);u={next:y=>{e[s]&&e[s](new lw(l,m,p,y))},error:e[s+1],complete:e[s+2]},zz(t._query)}return function(m,y,T,R){let x=new nw(R),F=new Y0(y,x,T);return m.asyncQueue.enqueueAndForget(()=>E(this,null,function*(){return yz(yield tx(m),F)})),()=>{x.Za(),m.asyncQueue.enqueueAndForget(()=>E(this,null,function*(){return vz(yield tx(m),F)}))}}(rP(l),h,a,u)}function Pw(t,e){return function(r,i){let o=new $r;return r.asyncQueue.enqueueAndForget(()=>E(this,null,function*(){return Tz(yield Fz(r),i,o)})),o.promise}(rP(t),e)}function Wz(t,e,n){let r=n.docs.get(e._key),i=new Of(t);return new Nf(t,i,e._key,r,new Po(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Ia=i})(xi),Rn(new Gt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new $i(new F_(r.getProvider("auth-internal")),new U_(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new Q(O.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new uf(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Ge(SM,"4.7.3",e),Ge(SM,"4.7.3","esm2017")})();var $f=function(){return $f=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},$f.apply(this,arguments)};var Yz={includeMetadataChanges:!1};function Rw(t,e){return e===void 0&&(e=Yz),new de(function(n){var r=xw(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function fP(t){return Rw(t,{includeMetadataChanges:!0})}function pP(t,e){return e===void 0&&(e={}),fP(t).pipe(X(function(n){return Nw(n,e)}))}function Nw(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:$f($f({},r),(n={},n[e.idField]=t.id,n))}function gP(t){return Rw(t,{includeMetadataChanges:!0}).pipe(X(function(e){return e.docs}))}function mP(t,e){return e===void 0&&(e={}),gP(t).pipe(X(function(n){return n.map(function(r){return Nw(r,e)})}))}var Kr=class{constructor(e){return e}},yP="firestore",Ow=class{constructor(){return zs(yP)}};var kw=new $("angularfire2.firestore-instances");function Jz(t,e){let n=Hs(yP,t,e);return n&&new Kr(n)}function Zz(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Kr(r)}}var Xz={provide:Ow,deps:[[new dt,kw]]},eq={provide:Kr,useFactory:Jz,deps:[[new dt,kw],Nn]};function vP(t,...e){return Ge("angularfire",Vr.full,"fst"),nn([eq,Xz,{provide:kw,useFactory:Zz(t),multi:!0,deps:[be,lt,Ni,Lr,[new dt,ou],[new dt,Ri],...e]}])}var Mu=Ot(mP,!0);var _P=Ot(pP,!0);var ba=Ot(eP,!0);var wP=Ot(hP,!0);var Uo=Ot(tP,!0);var EP=Ot(nP,!0);var Hf=Ot(lP,!0);var IP=Ot(dP,!0);var Da=(()=>{let e=class e{constructor(r){this.firestore=r,this.collectionName="products",this.commentsCollectionName="comments"}getProducts(){let r=ba(this.firestore,this.collectionName);return Mu(r,{idField:"id"})}getProductById(r){let i=Uo(this.firestore,`${this.collectionName}/${r}`);return _P(i,{idField:"id"})}getComments(r){let i=ba(this.firestore,`${this.collectionName}/${r}/${this.commentsCollectionName}`);return Mu(i,{idField:"id"})}addComment(r,i){let o=["\u043A\u043E\u043A\u043E\u0441","\u0431\u0430\u043D\u0430\u043D","\u043F\u043E\u0433\u0430\u043D\u0438\u0439","@"],s=i.replace(new RegExp(`(${o.map(l=>l.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")).join("|")})`,"gi"),l=>"*".repeat(l.length)),a=ba(this.firestore,`${this.collectionName}/${r}/${this.commentsCollectionName}`),u=Uo(a);return Hf(u,{text:s,timestamp:new Date().toISOString()})}};e.\u0275fac=function(i){return new(i||e)(W(Kr))},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var bP=t=>({disabled:t}),tq=t=>({active:t});function nq(t,e){if(t&1){let n=zt();S(0,"div",13)(1,"div",14),fe(2,"img",15),S(3,"div",16)(4,"h5",17),N(5),M(),S(6,"p",18),N(7),M(),S(8,"button",19),Z("click",function(){let i=oe(n).$implicit,o=ie();return se(o.viewProduct(i.id))}),N(9,"\u041F\u0435\u0440\u0435\u0439\u0442\u0438 \u0434\u043E \u0442\u043E\u0432\u0430\u0440\u0443"),M()()()()}if(t&2){let n=e.$implicit,r=ie();U(2),Qn("alt",n.name),ye("src",n.imageUrl,Wn),U(3),Ve(n.name),U(2),Tr("",n.price," ",r.currency,"")}}function rq(t,e){if(t&1){let n=zt();S(0,"li",8)(1,"a",20),Z("click",function(){let i=oe(n).$implicit,o=ie();return se(o.changePage(i))}),N(2),M()()}if(t&2){let n=e.$implicit,r=ie();ye("ngClass",Ed(2,tq,n===r.currentPage)),U(2),Ve(n)}}var DP=(()=>{let e=class e{constructor(r,i){this.productService=r,this.router=i,this.products=[],this.filteredProducts=[],this.searchText="",this.currency="$",this.itemsPerPage=5,this.currentPage=1,this.totalPages=1,this.pages=[],this.categories=["\u041B\u0456\u0445\u0442\u0430\u0440\u0438\u043A\u0438","\u0420\u043E\u0437\u0443\u043C\u043D\u0456 \u0433\u043E\u0434\u0438\u043D\u043D\u0438\u043A\u0438","\u041D\u0430\u0432\u0443\u0448\u043D\u0438\u043A\u0438","\u0422\u0443\u0440\u0438\u0441\u0442\u0438\u0447\u043D\u0456 \u041A\u0430\u043C\u0435\u0440\u0438","\u041D\u0430\u043C\u0435\u0442\u0438"],this.selectedCategory="all"}ngOnInit(){this.loadProducts()}loadProducts(){this.productService.getProducts().subscribe(r=>{console.log("\u041E\u0442\u0440\u0438\u043C\u0430\u043D\u0456 \u043F\u0440\u043E\u0434\u0443\u043A\u0442\u0438:",r),this.products=r,this.applyFilters()})}getPaginatedProducts(){let r=(this.currentPage-1)*this.itemsPerPage,i=this.currentPage*this.itemsPerPage;return this.filteredProducts.slice(r,i)}updatePagination(){this.totalPages=Math.ceil(this.filteredProducts.length/this.itemsPerPage),this.pages=Array.from({length:this.totalPages},(r,i)=>i+1)}onSearchTextChange(){this.applyFilters(),this.updatePagination(),this.currentPage=1}filterByCategory(r){this.selectedCategory=r,this.applyFilters(),this.updatePagination(),this.currentPage=1}applyFilters(){let r=this.products;this.selectedCategory!=="all"&&(r=r.filter(i=>i.category===this.selectedCategory)),this.searchText&&(r=r.filter(i=>i.name.toLowerCase().includes(this.searchText.toLowerCase()))),this.filteredProducts=r,this.updatePagination()}changePage(r){r>=1&&r<=this.totalPages&&(this.currentPage=r)}viewProduct(r){this.router.navigate([`/product/${r}`])}};e.\u0275fac=function(i){return new(i||e)(B(Da),B(vt))},e.\u0275cmp=Ye({type:e,selectors:[["app-home"]],standalone:!0,features:[Je],decls:30,vars:13,consts:[[1,"container-fluid","mt-4"],["type","search","placeholder","\u0424\u0456\u043B\u044C\u0442\u0440 \u0437\u0430 \u043D\u0430\u0437\u0432\u043E\u044E","aria-label","Search",1,"form-control","mb-4","mt-4",3,"ngModelChange","ngModel"],[1,"text-center","mb-4"],[1,"btn","btn-outline-primary",3,"click"],[1,"row"],["class","col-12 col-md-2 mb-4",4,"ngFor","ngForOf"],["aria-label","Page navigation"],[1,"pagination","justify-content-center"],[1,"page-item",3,"ngClass"],["aria-label","Previous",1,"page-link",3,"click"],["aria-hidden","true"],["class","page-item",3,"ngClass",4,"ngFor","ngForOf"],["aria-label","Next",1,"page-link",3,"click"],[1,"col-12","col-md-2","mb-4"],[1,"card"],[1,"card-img-top",3,"src","alt"],[1,"card-body","text-center"],[1,"card-title"],[1,"card-text"],[1,"btn","btn-primary",3,"click"],[1,"page-link",3,"click"]],template:function(i,o){i&1&&(S(0,"div",0),fe(1,"app-carousel"),S(2,"input",1),He("ngModelChange",function(a){return qe(o.searchText,a)||(o.searchText=a),a}),Z("ngModelChange",function(){return o.onSearchTextChange()}),M(),S(3,"div",2)(4,"button",3),Z("click",function(){return o.filterByCategory("all")}),N(5,"\u0423\u0441\u0456"),M(),S(6,"button",3),Z("click",function(){return o.filterByCategory("\u041B\u0456\u0445\u0442\u0430\u0440\u0438\u043A\u0438")}),N(7,"\u041B\u0456\u0445\u0442\u0430\u0440\u0438\u043A\u0438"),M(),S(8,"button",3),Z("click",function(){return o.filterByCategory("\u0420\u043E\u0437\u0443\u043C\u043D\u0456 \u0413\u043E\u0434\u0438\u043D\u043D\u0438\u043A\u0438")}),N(9,"\u0420\u043E\u0437\u0443\u043C\u043D\u0456 \u0413\u043E\u0434\u0438\u043D\u043D\u0438\u043A\u0438"),M(),S(10,"button",3),Z("click",function(){return o.filterByCategory("\u041D\u0430\u0432\u0443\u0448\u043D\u0438\u043A\u0438")}),N(11,"\u041D\u0430\u0432\u0443\u0448\u043D\u0438\u043A\u0438"),M(),S(12,"button",3),Z("click",function(){return o.filterByCategory("\u0422\u0443\u0440\u0438\u0441\u0442\u0438\u0447\u043D\u0456 \u041A\u0430\u043C\u0435\u0440\u0438")}),N(13,"\u0422\u0443\u0440\u0438\u0441\u0442\u0438\u0447\u043D\u0456 \u041A\u0430\u043C\u0435\u0440\u0438"),M(),S(14,"button",3),Z("click",function(){return o.filterByCategory("\u041D\u0430\u043C\u0435\u0442\u0438")}),N(15,"\u041D\u0430\u043C\u0435\u0442\u0438"),M()(),S(16,"div",4),et(17,nq,10,5,"div",5),Id(18,"slice"),M(),S(19,"nav",6)(20,"ul",7)(21,"li",8)(22,"a",9),Z("click",function(){return o.changePage(o.currentPage-1)}),S(23,"span",10),N(24,"\xAB"),M()()(),et(25,rq,3,4,"li",11),S(26,"li",8)(27,"a",12),Z("click",function(){return o.changePage(o.currentPage+1)}),S(28,"span",10),N(29,"\xBB"),M()()()()()()),i&2&&(U(2),$e("ngModel",o.searchText),U(15),ye("ngForOf",yD(18,5,o.getPaginatedProducts(),0,5)),U(4),ye("ngClass",Ed(9,bP,o.currentPage===1)),U(4),ye("ngForOf",o.pages),U(),ye("ngClass",Ed(11,bP,o.currentPage===o.totalPages)))},dependencies:[bt,BD,wi,zD,tr,_n,er,On,NA],styles:[".card[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;height:100%;border:1px solid #ddd;border-radius:.375rem;overflow:hidden}.card-img-top[_ngcontent-%COMP%]{height:150px;object-fit:cover}.card-body[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center;text-align:center}.card-title[_ngcontent-%COMP%]{font-size:1rem}.card-text[_ngcontent-%COMP%]{font-size:.875rem}.carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:50vh;object-fit:cover}.btn-outline-primary[_ngcontent-%COMP%]{margin:.25rem}.pagination[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{padding:.5rem 1rem}.page-link[_ngcontent-%COMP%]{cursor:pointer}@media (max-width: 576px){.card-img-top[_ngcontent-%COMP%]{height:120px}.carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:40vh}}@media (min-width: 992px){.col-md-2[_ngcontent-%COMP%]{flex:0 0 20%;max-width:20%}}"]});let t=e;return t})();function iq(t,e){if(t&1){let n=zt();S(0,"div",27),fe(1,"img",28),S(2,"h4",29),N(3),M(),S(4,"div",30)(5,"p",31),N(6),M()(),S(7,"div",32)(8,"button",33),Z("click",function(){let i=oe(n).$implicit,o=ie();return se(o.increaseQuantity(i.product.id))}),N(9,"+"),M(),S(10,"span",34),N(11),M(),S(12,"button",33),Z("click",function(){let i=oe(n).$implicit,o=ie();return se(o.decreaseQuantity(i.product.id))}),N(13,"-"),M()(),S(14,"div",30)(15,"p",8),N(16),M()(),S(17,"button",35),Z("click",function(){let i=oe(n).$implicit,o=ie();return se(o.removeFromCart(i.product.id))}),N(18,"\u041F\u0440\u0438\u0431\u0440\u0430\u0442\u0438"),M()()}if(t&2){let n=e.$implicit,r=ie();U(),Qn("alt",n.product.name),ye("src",n.product.imageUrl,Wn),U(2),Ve(n.product.name),U(3),Tr("",n.product.price," ",r.currency,""),U(5),Ve(n.quantity),U(5),Tr("\u0417\u0430\u0433\u0430\u043B\u044C\u043D\u0430 \u0441\u0443\u043C\u0430 \u0442\u043E\u0432\u0430\u0440\u0443: ",n.product.price*n.quantity," ",r.currency,"")}}function oq(t,e){t&1&&(S(0,"small",36),N(1,"\u041D\u0435\u043A\u043E\u0440\u0435\u043A\u0442\u043D\u0438\u0439 \u0444\u043E\u0440\u043C\u0430\u0442. \u0412\u0438\u043A\u043E\u0440\u0438\u0441\u0442\u043E\u0432\u0443\u0439\u0442\u0435 \u0442\u0456\u043B\u044C\u043A\u0438 \u0431\u0443\u043A\u0432\u0438."),M())}function sq(t,e){if(t&1&&(S(0,"small",36),N(1),M()),t&2){ie();let n=ac(18);U(),Ve(n.errors==null?null:n.errors.customError)}}function aq(t,e){if(t&1&&(S(0,"option",37),N(1),M()),t&2){let n=e.$implicit;ye("value",n),U(),Ve(n)}}function cq(t,e){if(t&1){let n=zt();S(0,"div",38),Z("click",function(){oe(n);let i=ie();return se(i.closeConfirmation())}),S(1,"div",39),Z("click",function(i){return oe(n),se(i.stopPropagation())}),S(2,"p",40),N(3,"\u0412\u0430\u0448 \u0442\u043E\u0432\u0430\u0440 \u043E\u0444\u043E\u0440\u043C\u043B\u0435\u043D\u0438\u0439, \u0434\u044F\u043A\u0443\u0454\u043C\u043E \u0437\u0430 \u043F\u043E\u043A\u0443\u043F\u043A\u0443!"),M(),S(4,"button",41),Z("click",function(){oe(n);let i=ie();return se(i.closeConfirmation())}),N(5,"\u0417\u0430\u043A\u0440\u0438\u0442\u0438"),M()()()}}var TP=(()=>{let e=class e{constructor(r){this.cartService=r,this.cartItems=[],this.totalAmount=0,this.currency="$",this.showConfirmation=!1,this.order={recipientName:"",phone:"",delivery:"",payment:""},this.branches=["\u0412\u0456\u0434\u0434\u0456\u043B\u0435\u043D\u043D\u044F 1","\u0412\u0456\u0434\u0434\u0456\u043B\u0435\u043D\u043D\u044F 2"]}ngOnInit(){this.cartService.getCartItems().subscribe(r=>{this.cartItems=r,this.updateTotalAmount()})}updateTotalAmount(){this.cartService.getTotalAmount().subscribe(r=>this.totalAmount=r)}increaseQuantity(r){this.cartService.increaseQuantity(r),this.updateTotalAmount()}decreaseQuantity(r){this.cartService.decreaseQuantity(r),this.updateTotalAmount()}removeFromCart(r){this.cartService.removeFromCart(r),this.updateTotalAmount()}checkout(){this.cartService.checkout().subscribe(()=>{this.cartItems=[],this.totalAmount=0},r=>{console.error("Checkout error",r)})}submitOrder(){this.validateOrder()&&this.cartService.checkout().subscribe(()=>{this.showConfirmation=!0,this.cartItems=[],this.totalAmount=0,this.order={recipientName:"",phone:"",delivery:"",payment:""}},r=>{console.error("Checkout error",r)})}closeConfirmation(){this.showConfirmation=!1}formatPhone(r){let i=r.replace(/[^\d]/g,"");return i.length===12?`+${i}`:i}onPhoneInput(r){let i=r.target,o=i.value,s=o.replace(/[^\d]/g,"");s.length>12&&(o=s.slice(0,12)),i.value=this.formatPhone(o),this.order.phone=i.value}validatePhone(){let r=/^\+\d{12}$/;return this.order.phone.replace(/[^\d]/g,"").length!==12?"\u041D\u0435\u043A\u043E\u0440\u0435\u043A\u0442\u043D\u0438\u0439 \u0444\u043E\u0440\u043C\u0430\u0442 \u0442\u0435\u043B\u0435\u0444\u043E\u043D\u0443. \u0412\u0432\u0435\u0434\u0456\u0442\u044C 12 \u0446\u0438\u0444\u0440.":r.test(this.order.phone)?null:"\u041D\u0435\u043A\u043E\u0440\u0435\u043A\u0442\u043D\u0438\u0439 \u0444\u043E\u0440\u043C\u0430\u0442 \u0442\u0435\u043B\u0435\u0444\u043E\u043D\u0443. \u0412\u0438\u043A\u043E\u0440\u0438\u0441\u0442\u043E\u0432\u0443\u0439\u0442\u0435 \u0444\u043E\u0440\u043C\u0430\u0442: +380000000000."}validateRecipientName(r){let i=r.target;/^[a-zA-Z--\s]*$/.test(i.value)||(i.value=i.value.replace(/[^a-zA-Z--\s]/g,""))}updateCart(){this.cartService.getCartItems().subscribe(r=>{this.cartItems=r,this.calculateTotal()})}calculateTotal(){this.totalAmount=this.cartItems.reduce((r,i)=>r+i.product.price*i.quantity,0)}validateOrder(){let r=this.validatePhone();return r?(alert(r),!1):!0}};e.\u0275fac=function(i){return new(i||e)(B(Us))},e.\u0275cmp=Ye({type:e,selectors:[["app-cart"]],standalone:!0,features:[Je],decls:44,vars:10,consts:[["orderForm","ngForm"],["recipientName","ngModel"],["phone","ngModel"],["delivery","ngModel"],["payment","ngModel"],[1,"container"],["class","cart-item d-flex align-items-center justify-content-between border rounded mb-3 p-3",4,"ngFor","ngForOf"],[1,"text-center","mt-4"],[1,"font-weight-bold"],[1,"mt-4",3,"ngSubmit"],[1,"form-group"],["for","recipientName"],["type","text","id","recipientName","name","recipientName","required","","placeholder","\u041F\u0440\u0456\u0437\u0432\u0438\u0449\u0435 \u0406\u043C'\u044F \u041F\u043E\u0431\u0430\u0442\u044C\u043A\u043E\u0432\u0456",1,"form-control",3,"ngModelChange","input","ngModel"],["class","text-danger",4,"ngIf"],["for","phone"],["type","tel","id","phone","name","phone","required","","placeholder","+380000000000",1,"form-control",3,"ngModelChange","input","ngModel"],["for","delivery"],["id","delivery","name","delivery","required","",1,"form-control",3,"ngModelChange","ngModel"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["for","payment"],["id","payment","name","payment","required","",1,"form-control",3,"ngModelChange","ngModel"],["value","pay-now"],["value","invoice"],["value","installments"],["type","submit",1,"btn","btn-success","btn-block",3,"disabled"],["class","confirmation-overlay",3,"click",4,"ngIf"],[1,"cart-item","d-flex","align-items-center","justify-content-between","border","rounded","mb-3","p-3"],[1,"cart-item-image",3,"src","alt"],[1,"cart-item-name","font-weight-bold"],[1,"total-row"],[1,"cart-item-price"],[1,"quantity-control","d-flex","align-items-center"],[1,"btn","btn-outline-primary","btn-sm",3,"click"],[1,"mx-2"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"text-danger"],[3,"value"],[1,"confirmation-overlay",3,"click"],[1,"confirmation-content",3,"click"],[1,"confirmation-text"],[1,"btn","btn-success",3,"click"]],template:function(i,o){if(i&1){let s=zt();S(0,"div",5)(1,"div",5),et(2,iq,19,8,"div",6),M(),S(3,"div",7)(4,"h2",8),N(5,"\u0417\u0430\u043C\u043E\u0432\u043B\u0435\u043D\u043D\u044F"),M(),S(6,"form",9,0),Z("ngSubmit",function(){return oe(s),se(o.submitOrder())}),S(8,"div",10)(9,"label",11),N(10,"\u041E\u0442\u0440\u0438\u043C\u0443\u0432\u0430\u0447:"),M(),S(11,"input",12,1),He("ngModelChange",function(u){return oe(s),qe(o.order.recipientName,u)||(o.order.recipientName=u),se(u)}),Z("input",function(u){return oe(s),se(o.validateRecipientName(u))}),M(),et(13,oq,2,0,"small",13),M(),S(14,"div",10)(15,"label",14),N(16,"\u041C\u043E\u0431\u0456\u043B\u044C\u043D\u0438\u0439 \u0442\u0435\u043B\u0435\u0444\u043E\u043D:"),M(),S(17,"input",15,2),He("ngModelChange",function(u){return oe(s),qe(o.order.phone,u)||(o.order.phone=u),se(u)}),Z("input",function(u){return oe(s),se(o.onPhoneInput(u))}),M(),et(19,sq,2,1,"small",13),M(),S(20,"div",10)(21,"label",16),N(22,"\u0414\u043E\u0441\u0442\u0430\u0432\u043A\u0430:"),M(),S(23,"select",17,3),He("ngModelChange",function(u){return oe(s),qe(o.order.delivery,u)||(o.order.delivery=u),se(u)}),S(25,"option",18),N(26,"\u041E\u0431\u0435\u0440\u0456\u0442\u044C \u0432\u0456\u0434\u0434\u0456\u043B\u0435\u043D\u043D\u044F"),M(),et(27,aq,2,2,"option",19),M()(),S(28,"div",10)(29,"label",20),N(30,"\u041E\u043F\u043B\u0430\u0442\u0430:"),M(),S(31,"select",21,4),He("ngModelChange",function(u){return oe(s),qe(o.order.payment,u)||(o.order.payment=u),se(u)}),S(33,"option",18),N(34,"\u041E\u0431\u0435\u0440\u0456\u0442\u044C \u0441\u043F\u043E\u0441\u0456\u0431 \u043E\u043F\u043B\u0430\u0442\u0438"),M(),S(35,"option",22),N(36,"\u041E\u043F\u043B\u0430\u0442\u0438\u0442\u0438 \u0437\u0430\u0440\u0430\u0437"),M(),S(37,"option",23),N(38,"\u0411\u0435\u0437\u0433\u043E\u0442\u0456\u0432\u043A\u043E\u0432\u0438\u0439 \u0440\u0430\u0445\u0443\u043D\u043E\u043A"),M(),S(39,"option",24),N(40,"\u041E\u043F\u043B\u0430\u0442\u0430 \u0447\u0430\u0441\u0442\u0438\u043D\u0430\u043C\u0438"),M()()(),S(41,"button",25),N(42,"\u041E\u0444\u043E\u0440\u043C\u0438\u0442\u0438 \u043F\u043E\u043A\u0443\u043F\u043A\u0443"),M()()(),et(43,cq,6,0,"div",26),M()}if(i&2){let s=ac(7),a=ac(12),u=ac(18);U(2),ye("ngForOf",o.cartItems),U(9),$e("ngModel",o.order.recipientName),U(2),ye("ngIf",a.invalid&&a.touched),U(4),$e("ngModel",o.order.phone),U(2),ye("ngIf",u.errors==null?null:u.errors.customError),U(4),$e("ngModel",o.order.delivery),U(4),ye("ngForOf",o.branches),U(4),$e("ngModel",o.order.payment),U(10),ye("disabled",!s.valid),U(2),ye("ngIf",o.showConfirmation)}},dependencies:[bt,wi,Ei,tr,Js,Rh,Nh,_n,Zs,er,Ys,bo,On,Co],styles:[".total-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;width:100%}.total-row[_ngcontent-%COMP%]   .font-weight-bold[_ngcontent-%COMP%]{margin:0;text-align:left;flex:1}.cart-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;background-color:#f9f9f9;padding:15px}.cart-item[_ngcontent-%COMP%]   .btn-danger[_ngcontent-%COMP%]{margin-left:auto}.cart-item-image[_ngcontent-%COMP%]{width:60px;height:60px;object-fit:cover;margin-right:15px}.cart-item-name[_ngcontent-%COMP%]{font-size:1rem;flex:1;margin:0 15px}.quantity-control[_ngcontent-%COMP%]{display:flex;align-items:center;margin-right:15px}.font-weight-bold[_ngcontent-%COMP%]{margin-right:15px}.btn-danger[_ngcontent-%COMP%]{margin-left:15px}@media (max-width: 768px){.cart-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.cart-item-image[_ngcontent-%COMP%]{margin-bottom:10px}.cart-item-name[_ngcontent-%COMP%], .font-weight-bold[_ngcontent-%COMP%], .quantity-control[_ngcontent-%COMP%]{margin:10px 0}.btn-danger[_ngcontent-%COMP%]{margin-top:10px}}.cart-item-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.cart-item-details[_ngcontent-%COMP%]   .font-weight-bold[_ngcontent-%COMP%]{margin-top:10px}.cart-item[_ngcontent-%COMP%]{background-color:#f9f9f9}#btn[_ngcontent-%COMP%]{width:90px}#img[_ngcontent-%COMP%]{margin:15px}#total[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px}.cart-item-image[_ngcontent-%COMP%]{width:80px;height:80px;object-fit:cover}.cart-item-name[_ngcontent-%COMP%]{font-size:1.2rem}.cart-item-price[_ngcontent-%COMP%]{font-size:1rem;color:#333}.quantity-control[_ngcontent-%COMP%]{margin-top:.5rem}.quantity-control[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:30px;height:30px}.btn-danger[_ngcontent-%COMP%]{background-color:#dc3545;border-color:#dc3545}.btn-danger[_ngcontent-%COMP%]:hover{background-color:#c82333;border-color:#bd2130}.confirmation-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center}.confirmation-content[_ngcontent-%COMP%]{background-color:#fff;padding:2rem;border-radius:5px;text-align:center;animation:_ngcontent-%COMP%_fadeIn .3s ease-in}.confirmation-text[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:1rem}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.form-control[_ngcontent-%COMP%]{border-radius:.25rem;border-color:#ced4da}.btn-success[_ngcontent-%COMP%]{background-color:#28a745;border-color:#28a745}.btn-success[_ngcontent-%COMP%]:hover{background-color:#218838;border-color:#1e7e34}.confirmation-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.confirmation-content[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:8px;text-align:center}.confirmation-text[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:20px}.container[_ngcontent-%COMP%]{padding:1rem}.cart-item[_ngcontent-%COMP%]{margin-bottom:1rem}.btn[_ngcontent-%COMP%]{width:auto}@media (max-width: 768px){.cart-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.cart-item-image[_ngcontent-%COMP%]{width:100px;height:100px}.cart-item-name[_ngcontent-%COMP%]{font-size:1rem}.cart-item-price[_ngcontent-%COMP%]{font-size:.9rem}.quantity-control[_ngcontent-%COMP%]{margin-top:1rem;flex-direction:column}.quantity-control[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:40px;height:40px}.btn-danger[_ngcontent-%COMP%], .btn-success[_ngcontent-%COMP%]{width:100%}#btn[_ngcontent-%COMP%]{width:100%;margin-top:.5rem}#img[_ngcontent-%COMP%], #total[_ngcontent-%COMP%]{margin:10px 0}.confirmation-content[_ngcontent-%COMP%]{width:90%;max-width:400px;padding:1rem}}@media (min-width: 769px) and (max-width: 1024px){.cart-item[_ngcontent-%COMP%]{flex-direction:row}.cart-item-image[_ngcontent-%COMP%]{width:100px;height:100px}.cart-item-name[_ngcontent-%COMP%]{font-size:1.1rem}.cart-item-price[_ngcontent-%COMP%]{font-size:.95rem}.quantity-control[_ngcontent-%COMP%]{margin-top:.5rem;flex-direction:row}.quantity-control[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:35px;height:35px}}"]});let t=e;return t})();function uq(t,e){if(t&1&&(S(0,"div",18)(1,"p",19),N(2),M(),S(3,"small",20),N(4),Id(5,"date"),M()()),t&2){let n=e.$implicit;U(2),Ve(n.text),U(2),Ve(mD(5,2,n.timestamp,"dd.MM.yyyy HH:mm"))}}function lq(t,e){if(t&1){let n=zt();S(0,"div",21),Z("click",function(){oe(n);let i=ie(2);return se(i.closeModal())}),S(1,"div",22),Z("click",function(i){return oe(n),se(i.stopPropagation())}),S(2,"div",23)(3,"h4",24),N(4,"\u041A\u043E\u0448\u0438\u043A"),M(),S(5,"button",25),Z("click",function(){oe(n);let i=ie(2);return se(i.closeModal())}),N(6,"\xD7"),M()(),S(7,"div",26)(8,"div",27),fe(9,"img",28),S(10,"div",29)(11,"h5"),N(12),M(),S(13,"p",30),N(14),M(),S(15,"div",31)(16,"button",32),Z("click",function(){oe(n);let i=ie(2);return se(i.decreaseQuantity())}),N(17,"-"),M(),S(18,"span",33),N(19),M(),S(20,"button",32),Z("click",function(){oe(n);let i=ie(2);return se(i.increaseQuantity())}),N(21,"+"),M()()()(),S(22,"div",34)(23,"button",35),Z("click",function(){oe(n);let i=ie(2);return se(i.addToCart())}),N(24,"\u041E\u0444\u043E\u0440\u043C\u0438\u0442\u0438 \u0437\u0430\u043C\u043E\u0432\u043B\u0435\u043D\u043D\u044F"),M()()()()()}if(t&2){let n=ie(2);U(9),Qn("alt",n.product.name),ye("src",n.product.imageUrl,Wn),U(3),Ve(n.product.name),U(2),Tr("\u0417\u0430\u0433\u0430\u043B\u044C\u043D\u0430 \u0441\u0443\u043C\u0430: ",n.totalPrice," ",n.currency,""),U(5),Ve(n.quantity)}}function dq(t,e){if(t&1){let n=zt();S(0,"div",1)(1,"div",2)(2,"div",3),fe(3,"img",4),M(),S(4,"div",5)(5,"h3",6),N(6),M(),S(7,"p",7),N(8,"\u0404 \u0432 \u043D\u0430\u044F\u0432\u043D\u043E\u0441\u0442\u0456"),M(),S(9,"p",8),N(10),M(),S(11,"button",9),Z("click",function(){oe(n);let i=ie();return se(i.openModal())}),N(12,"\u041A\u0443\u043F\u0438\u0442\u0438"),M(),S(13,"button",10),Z("click",function(){oe(n);let i=ie();return se(i.goBack())}),N(14,"\u041D\u0430\u0437\u0430\u0434"),M(),S(15,"h4",11),N(16,"\u041E\u043F\u0438\u0441 \u0442\u043E\u0432\u0430\u0440\u0443"),M(),S(17,"p",12),N(18),M(),S(19,"h4",13),N(20,"\u041A\u043E\u043C\u0435\u043D\u0442\u0430\u0440\u0456:"),M(),et(21,uq,6,5,"div",14),S(22,"textarea",15),He("ngModelChange",function(i){oe(n);let o=ie();return qe(o.newComment,i)||(o.newComment=i),se(i)}),M(),S(23,"button",16),Z("click",function(){oe(n);let i=ie();return se(i.addComment())}),N(24,"\u0414\u043E\u0434\u0430\u0442\u0438 \u043A\u043E\u043C\u0435\u043D\u0442\u0430\u0440"),M()()(),et(25,lq,25,6,"div",17),M()}if(t&2){let n=ie();U(3),Qn("alt",n.product.name),ye("src",n.product.imageUrl,Wn),U(3),Ve(n.product.name),U(4),Tr("",n.product.price," ",n.currency,""),U(8),Ve(n.product.description),U(3),ye("ngForOf",n.comments),U(),$e("ngModel",n.newComment),U(3),ye("ngIf",n.showModal)}}var SP=(()=>{let e=class e{constructor(r,i,o,s){this.route=r,this.productService=i,this.cartService=o,this.router=s,this.comments=[],this.newComment="",this.currency="$",this.showModal=!1,this.quantity=1}ngOnInit(){let r=this.route.snapshot.paramMap.get("id");r&&this.productService.getProductById(r).subscribe(i=>{this.product=i,this.loadComments()})}get totalPrice(){return this.product?this.product.price*this.quantity:0}openModal(){this.showModal=!0}closeModal(){this.showModal=!1}addToCart(){this.product&&(this.cartService.addToCart(this.product,this.quantity),this.closeModal(),this.router.navigate(["/cart"]))}increaseQuantity(){this.quantity++}decreaseQuantity(){this.quantity>1&&this.quantity--}goBack(){this.router.navigate(["/"])}addComment(){if(this.newComment.trim()&&this.product&&this.product.id){let r=["\u043A\u043E\u043A\u043E\u0441","\u0431\u0430\u043D\u0430\u043D","\u043F\u043E\u0433\u0430\u043D\u0438\u0439","@"],i=this.newComment.replace(new RegExp(`(${r.map(o=>o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")).join("|")})`,"gi"),o=>"*".repeat(o.length));this.productService.addComment(this.product.id,i).then(()=>{this.comments.push({text:i,timestamp:new Date().toISOString()}),this.newComment=""})}}loadComments(){this.product&&this.product.id&&this.productService.getComments(this.product.id).subscribe(r=>{this.comments=r.sort((i,o)=>new Date(o.timestamp).getTime()-new Date(i.timestamp).getTime())})}};e.\u0275fac=function(i){return new(i||e)(B(Jn),B(Da),B(Us),B(vt))},e.\u0275cmp=Ye({type:e,selectors:[["app-product"]],standalone:!0,features:[Je],decls:1,vars:1,consts:[["class","product-container container",4,"ngIf"],[1,"product-container","container"],[1,"row"],[1,"col-md-4","d-flex","align-items-start"],[1,"product-image","img-fluid",3,"src","alt"],[1,"col-md-8"],[1,"product-name"],[1,"product-stock"],[1,"product-price"],[1,"btn","btn-success","buy-button",3,"click"],[1,"btn","btn-secondary","back-button",3,"click"],[1,"product-description-title"],[1,"product-description"],[1,"comments-title"],["class","comment",4,"ngFor","ngForOf"],["placeholder","\u041D\u0430\u043F\u0438\u0448\u0456\u0442\u044C \u0432\u0430\u0448 \u043A\u043E\u043C\u0435\u043D\u0442\u0430\u0440...",1,"form-control","comment-textarea",3,"ngModelChange","ngModel"],[1,"btn","btn-success","add-comment-button",3,"click"],["class","modal-overlay",3,"click",4,"ngIf"],[1,"comment"],[1,"comment-text"],[1,"comment-timestamp"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"modal-title"],[1,"close-button",3,"click"],[1,"modal-body"],[1,"modal-product-info"],[1,"modal-product-image",3,"src","alt"],[1,"modal-product-details"],[1,"modal-product-total"],[1,"quantity-control"],[1,"quantity-button",3,"click"],[1,"quantity"],[1,"modal-footer"],[1,"btn","btn-success",3,"click"]],template:function(i,o){i&1&&et(0,dq,26,9,"div",0),i&2&&ye("ngIf",o.product)},dependencies:[bt,wi,Ei,HD,tr,_n,er,On],styles:[".comment[_ngcontent-%COMP%]{margin-bottom:10px;padding:5px;border-bottom:1px solid #ddd}.comment-text[_ngcontent-%COMP%]{font-size:13px;line-height:1.4;margin:0;color:#333}.comment-timestamp[_ngcontent-%COMP%]{font-size:10px;color:#777;display:block;margin-top:2px;text-align:right;font-style:italic}.product-container[_ngcontent-%COMP%]{margin-top:20px}.product-name[_ngcontent-%COMP%]{font-weight:700;font-size:1.5rem;margin-bottom:10px}.product-stock[_ngcontent-%COMP%]{color:#28a745;font-size:.9rem;margin-bottom:15px}.product-price[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:20px}.buy-button[_ngcontent-%COMP%], .back-button[_ngcontent-%COMP%], .add-comment-button[_ngcontent-%COMP%]{margin-right:10px;transition:background-color .3s,transform .2s}.buy-button[_ngcontent-%COMP%]:hover{background-color:#218838;transform:scale(1.05)}.back-button[_ngcontent-%COMP%]:hover{background-color:#6c757d;transform:scale(1.05)}.product-description-title[_ngcontent-%COMP%], .comments-title[_ngcontent-%COMP%]{text-align:center;margin-top:20px}.product-description[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}.comment[_ngcontent-%COMP%]{border-bottom:1px solid #dee2e6;padding-bottom:10px;margin-bottom:10px}.comment-textarea[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:10px}.add-comment-button[_ngcontent-%COMP%]{margin-top:10px;transition:background-color .3s,transform .2s}.add-comment-button[_ngcontent-%COMP%]:hover{background-color:#218838;transform:scale(1.05)}.align-items-start[_ngcontent-%COMP%]{align-items:flex-start}.product-image[_ngcontent-%COMP%]{max-width:100%;border-radius:8px}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;align-items:center;justify-content:center;animation:_ngcontent-%COMP%_fadeIn .3s ease-in}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:8px;width:80%;max-width:500px;padding:20px;position:relative;animation:_ngcontent-%COMP%_scaleUp .3s ease-in-out}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.modal-title[_ngcontent-%COMP%]{font-size:1.5rem}.close-button[_ngcontent-%COMP%]{background:none;border:none;font-size:1.5rem;cursor:pointer;transition:color .3s ease}.close-button[_ngcontent-%COMP%]:hover{color:#dc3545}.modal-body[_ngcontent-%COMP%]{margin-top:15px}.modal-product-info[_ngcontent-%COMP%]{display:flex;align-items:center}.modal-product-image[_ngcontent-%COMP%]{width:80px;height:80px;object-fit:cover;margin-right:15px}.modal-product-details[_ngcontent-%COMP%]{flex:1}.modal-product-price[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700}.quantity-control[_ngcontent-%COMP%]{display:flex;align-items:center;margin-top:10px}.quantity-button[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none;padding:5px 10px;cursor:pointer}.quantity[_ngcontent-%COMP%]{margin:0 10px}.quantity-button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:20px}.btn-success[_ngcontent-%COMP%]{background-color:#28a745;border-color:#28a745}.btn-success[_ngcontent-%COMP%]:hover{background-color:#218838}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_scaleUp{0%{transform:scale(.9)}to{transform:scale(1)}}"]});let t=e;return t})();var AP=(()=>{let e=class e{constructor(r){this.firestore=r,this.productsCollection=ba(this.firestore,"products")}getProducts(){return Mu(this.productsCollection,{idField:"id"})}addProduct(r){let i=Uo(this.productsCollection);return Hf(i,Ee(j({},r),{id:i.id}))}deleteProduct(r){let i=Uo(this.firestore,`products/${r}`);return wP(i)}updateProduct(r){let i=Uo(this.firestore,`products/${r.id}`);return IP(i,j({},r))}};e.\u0275fac=function(i){return new(i||e)(W(Kr))},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function fq(t,e){if(t&1&&(S(0,"option",18),N(1),M()),t&2){let n=e.$implicit;ye("value",n),U(),fo(" ",n," ")}}function pq(t,e){if(t&1){let n=zt();S(0,"form",4),Z("ngSubmit",function(){oe(n);let i=ie();return se(i.addProduct())}),S(1,"div",5)(2,"label",6),N(3,"\u041D\u0430\u0437\u0432\u0430 \u0442\u043E\u0432\u0430\u0440\u0443"),M(),S(4,"input",7),He("ngModelChange",function(i){oe(n);let o=ie();return qe(o.productName,i)||(o.productName=i),se(i)}),M()(),S(5,"div",5)(6,"label",8),N(7,"\u041E\u043F\u0438\u0441 \u0442\u043E\u0432\u0430\u0440\u0443"),M(),S(8,"textarea",9),He("ngModelChange",function(i){oe(n);let o=ie();return qe(o.productDescription,i)||(o.productDescription=i),se(i)}),M()(),S(9,"div",5)(10,"label",10),N(11,"URL \u043A\u0430\u0440\u0442\u0438\u043D\u043A\u0438 \u0442\u043E\u0432\u0430\u0440\u0443"),M(),S(12,"input",11),He("ngModelChange",function(i){oe(n);let o=ie();return qe(o.productImageUrl,i)||(o.productImageUrl=i),se(i)}),M()(),S(13,"div",5)(14,"label",12),N(15,"\u0426\u0456\u043D\u0430"),M(),S(16,"input",13),He("ngModelChange",function(i){oe(n);let o=ie();return qe(o.productPrice,i)||(o.productPrice=i),se(i)}),M()(),S(17,"div",5)(18,"label",14),N(19,"\u041A\u0430\u0442\u0435\u0433\u043E\u0440\u0456\u044F \u0442\u043E\u0432\u0430\u0440\u0443"),M(),S(20,"select",15),He("ngModelChange",function(i){oe(n);let o=ie();return qe(o.productCategory,i)||(o.productCategory=i),se(i)}),et(21,fq,2,2,"option",16),M()(),S(22,"button",17),N(23,"\u0414\u043E\u0434\u0430\u0442\u0438 \u0442\u043E\u0432\u0430\u0440"),M()()}if(t&2){let n=ie();U(4),$e("ngModel",n.productName),U(4),$e("ngModel",n.productDescription),U(4),$e("ngModel",n.productImageUrl),U(4),$e("ngModel",n.productPrice),U(4),$e("ngModel",n.productCategory),U(),ye("ngForOf",n.categories),U(),ye("disabled",!n.isFormValid())}}function gq(t,e){if(t&1&&(S(0,"option",18),N(1),M()),t&2){let n=e.$implicit;ye("value",n),U(),fo(" ",n," ")}}function mq(t,e){if(t&1){let n=zt();S(0,"form",4),Z("ngSubmit",function(){oe(n);let i=ie();return se(i.updateProduct())}),S(1,"h3"),N(2,"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u0442\u043E\u0432\u0430\u0440"),M(),S(3,"div",5)(4,"label",19),N(5,"\u041D\u0430\u0437\u0432\u0430 \u0442\u043E\u0432\u0430\u0440\u0443"),M(),S(6,"input",20),He("ngModelChange",function(i){oe(n);let o=ie();return qe(o.productName,i)||(o.productName=i),se(i)}),M()(),S(7,"div",5)(8,"label",21),N(9,"\u041E\u043F\u0438\u0441 \u0442\u043E\u0432\u0430\u0440\u0443"),M(),S(10,"textarea",22),He("ngModelChange",function(i){oe(n);let o=ie();return qe(o.productDescription,i)||(o.productDescription=i),se(i)}),M()(),S(11,"div",5)(12,"label",23),N(13,"URL \u043A\u0430\u0440\u0442\u0438\u043D\u043A\u0438 \u0442\u043E\u0432\u0430\u0440\u0443"),M(),S(14,"input",24),He("ngModelChange",function(i){oe(n);let o=ie();return qe(o.productImageUrl,i)||(o.productImageUrl=i),se(i)}),M()(),S(15,"div",5)(16,"label",25),N(17,"\u0426\u0456\u043D\u0430"),M(),S(18,"input",26),He("ngModelChange",function(i){oe(n);let o=ie();return qe(o.productPrice,i)||(o.productPrice=i),se(i)}),M()(),S(19,"div",5)(20,"label",27),N(21,"\u041A\u0430\u0442\u0435\u0433\u043E\u0440\u0456\u044F \u0442\u043E\u0432\u0430\u0440\u0443"),M(),S(22,"select",28),He("ngModelChange",function(i){oe(n);let o=ie();return qe(o.productCategory,i)||(o.productCategory=i),se(i)}),et(23,gq,2,2,"option",16),M()(),S(24,"button",17),N(25,"\u041E\u043D\u043E\u0432\u0438\u0442\u0438 \u0442\u043E\u0432\u0430\u0440"),M()()}if(t&2){let n=ie();U(6),$e("ngModel",n.productName),U(4),$e("ngModel",n.productDescription),U(4),$e("ngModel",n.productImageUrl),U(4),$e("ngModel",n.productPrice),U(4),$e("ngModel",n.productCategory),U(),ye("ngForOf",n.categories),U(),ye("disabled",!n.isFormValid())}}function yq(t,e){if(t&1){let n=zt();S(0,"div",29),fe(1,"img",30),S(2,"h4"),N(3),M(),S(4,"p"),N(5),M(),S(6,"p"),N(7),M(),S(8,"p"),N(9),M(),S(10,"button",31),Z("click",function(){let i=oe(n).$implicit,o=ie();return se(o.openEditForm(i))}),N(11,"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438"),M(),S(12,"button",32),Z("click",function(){let i=oe(n).$implicit,o=ie();return se(o.confirmDeleteProduct(i.id))}),N(13,"\u0412\u0438\u0434\u0430\u043B\u0438\u0442\u0438"),M()()}if(t&2){let n=e.$implicit;U(),Qn("alt",n.name),ye("src",n.imageUrl,Wn),U(2),Ve(n.name),U(2),Ve(n.description),U(2),fo("\u0426\u0456\u043D\u0430: ",n.price," $"),U(2),fo("\u041A\u0430\u0442\u0435\u0433\u043E\u0440\u0456\u044F: ",n.category,"")}}function vq(t,e){if(t&1){let n=zt();S(0,"div",33)(1,"div",34)(2,"h4"),N(3,"\u041F\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0436\u0435\u043D\u043D\u044F \u0432\u0438\u0434\u0430\u043B\u0435\u043D\u043D\u044F"),M(),S(4,"p"),N(5,"\u0412\u0438 \u0432\u043F\u0435\u0432\u043D\u0435\u043D\u0456, \u0449\u043E \u0445\u043E\u0447\u0435\u0442\u0435 \u0432\u0438\u0434\u0430\u043B\u0438\u0442\u0438 \u0446\u0435\u0439 \u0442\u043E\u0432\u0430\u0440?"),M(),S(6,"button",32),Z("click",function(){oe(n);let i=ie();return i.deleteProduct(),se(i.closeModal())}),N(7,"\u0422\u0430\u043A"),M(),S(8,"button",35),Z("click",function(){oe(n);let i=ie();return se(i.closeModal())}),N(9,"\u041D\u0456"),M()()()}}var MP=(()=>{let e=class e{constructor(r,i){this.adminService=r,this.productService=i,this.productName="",this.productDescription="",this.productImageUrl="",this.productPrice=null,this.productCategory="",this.products=[],this.categories=["\u041B\u0456\u0445\u0442\u0430\u0440\u0438\u043A\u0438","\u0420\u043E\u0437\u0443\u043C\u043D\u0456 \u0413\u043E\u0434\u0438\u043D\u043D\u0438\u043A\u0438","\u041D\u0430\u0432\u0443\u0448\u043D\u0438\u043A\u0438","\u0422\u0443\u0440\u0438\u0441\u0442\u0438\u0447\u043D\u0456 \u041A\u0430\u043C\u0435\u0440\u0438","\u041D\u0430\u043C\u0435\u0442\u0438"],this.showModal=!1,this.showEditForm=!1,this.productToDeleteId=null,this.productToEdit=null,this.errorMessage=null,this.selectedProductComments=[]}ngOnInit(){this.loadProducts()}loadProducts(){this.adminService.getProducts().subscribe(r=>{this.products=r},r=>{console.error("Error loading products:",r),this.errorMessage="Failed to load products. Please try again later."})}addProduct(){if(this.isFormValid()){let r={id:"",name:this.productName,description:this.productDescription,imageUrl:this.productImageUrl,price:this.productPrice,category:this.productCategory};this.adminService.addProduct(r).then(()=>{this.loadProducts(),this.resetForm()}).catch(i=>{console.error("Error adding product:",i),this.errorMessage="Failed to add product. Please try again later."})}}deleteProduct(){this.productToDeleteId&&this.adminService.deleteProduct(this.productToDeleteId).then(()=>{this.loadProducts(),this.closeModal()}).catch(r=>{console.error("Error deleting product:",r),this.errorMessage="Failed to delete product. Please try again later."})}openEditForm(r){this.productToEdit=j({},r),this.productName=r.name,this.productDescription=r.description,this.productImageUrl=r.imageUrl,this.productPrice=r.price,this.productCategory=r.category,this.showEditForm=!0}updateProduct(){if(this.productToEdit&&this.isFormValid()){let r={id:this.productToEdit.id,name:this.productName,description:this.productDescription,imageUrl:this.productImageUrl,price:this.productPrice,category:this.productCategory};this.adminService.updateProduct(r).then(()=>{this.loadProducts(),this.resetForm(),this.showEditForm=!1}).catch(i=>{console.error("Error updating product:",i),this.errorMessage="Failed to update product. Please try again later."})}else this.errorMessage="Invalid form data or no product selected."}confirmDeleteProduct(r){this.productToDeleteId=r,this.showModal=!0}closeModal(){this.showModal=!1,this.productToDeleteId=null}resetForm(){this.productName="",this.productDescription="",this.productImageUrl="",this.productPrice=null,this.productCategory="",this.productToEdit=null,this.showEditForm=!1}isFormValid(){return this.productName.trim()!==""&&this.productDescription.trim()!==""&&this.productImageUrl.trim()!==""&&this.productPrice!==null&&this.productPrice>0&&this.productCategory.trim()!==""}};e.\u0275fac=function(i){return new(i||e)(B(AP),B(Da))},e.\u0275cmp=Ye({type:e,selectors:[["app-admin"]],standalone:!0,features:[Je],decls:7,vars:4,consts:[[1,"container"],[3,"ngSubmit",4,"ngIf"],["class","product-item",4,"ngFor","ngForOf"],["class","modal",4,"ngIf"],[3,"ngSubmit"],[1,"form-group"],["for","productName"],["id","productName","name","productName","placeholder","\u041D\u0430\u0437\u0432\u0430 \u0442\u043E\u0432\u0430\u0440\u0443","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","productDescription"],["id","productDescription","name","productDescription","placeholder","\u041E\u043F\u0438\u0441 \u0442\u043E\u0432\u0430\u0440\u0443","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","productImageUrl"],["id","productImageUrl","name","productImageUrl","placeholder","URL \u043A\u0430\u0440\u0442\u0438\u043D\u043A\u0438 \u0442\u043E\u0432\u0430\u0440\u0443","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","productPrice"],["id","productPrice","type","number","name","productPrice","placeholder","\u0426\u0456\u043D\u0430","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","productCategory"],["id","productCategory","name","productCategory","required","",1,"form-control",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["type","submit",1,"btn","btn-success",3,"disabled"],[3,"value"],["for","editProductName"],["id","editProductName","name","editProductName","placeholder","\u041D\u0430\u0437\u0432\u0430 \u0442\u043E\u0432\u0430\u0440\u0443","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","editProductDescription"],["id","editProductDescription","name","editProductDescription","placeholder","\u041E\u043F\u0438\u0441 \u0442\u043E\u0432\u0430\u0440\u0443","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","editProductImageUrl"],["id","editProductImageUrl","name","editProductImageUrl","placeholder","URL \u043A\u0430\u0440\u0442\u0438\u043D\u043A\u0438 \u0442\u043E\u0432\u0430\u0440\u0443","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","editProductPrice"],["id","editProductPrice","type","number","name","editProductPrice","placeholder","\u0426\u0456\u043D\u0430","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","editProductCategory"],["id","editProductCategory","name","editProductCategory","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"product-item"],[1,"product-image",3,"src","alt"],[1,"btn","btn-warning",3,"click"],[1,"btn","btn-danger",3,"click"],[1,"modal"],[1,"modal-content"],[1,"btn","btn-secondary",3,"click"]],template:function(i,o){i&1&&(S(0,"div",0),et(1,pq,24,7,"form",1)(2,mq,26,7,"form",1),S(3,"h3"),N(4,"\u0421\u043F\u0438\u0441\u043E\u043A \u0442\u043E\u0432\u0430\u0440\u0456\u0432"),M(),et(5,yq,14,6,"div",2)(6,vq,10,0,"div",3),M()),i&2&&(U(),ye("ngIf",!o.showEditForm),U(),ye("ngIf",o.showEditForm),U(3),ye("ngForOf",o.products),U(),ye("ngIf",o.showModal))},dependencies:[bt,wi,Ei,tr,Js,Rh,Nh,_n,$v,Zs,er,Ys,bo,On,Co],styles:[".container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}.product-item[_ngcontent-%COMP%]{box-sizing:border-box;padding:10px}.product-image[_ngcontent-%COMP%]{width:100px}.btn-success[_ngcontent-%COMP%]{background-color:#28a745;border-color:#28a745}.btn-success[_ngcontent-%COMP%]:hover{background-color:#218838;border-color:#1e7e34}.btn-danger[_ngcontent-%COMP%]{background-color:#dc3545;border-color:#dc3545}.btn-danger[_ngcontent-%COMP%]:hover{background-color:#c82333;border-color:#bd2130}.modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;align-items:center;justify-content:center}.modal-content[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:5px;box-shadow:0 0 10px #0000001a;text-align:center;width:300px;animation:_ngcontent-%COMP%_zoomIn .3s ease-in}.modal-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-top:0}.modal-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:10px}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_zoomIn{0%{transform:scale(.7);opacity:0}to{transform:scale(1);opacity:1}}@keyframes _ngcontent-%COMP%_fadeOut{0%{opacity:1}to{opacity:0}}.fade-out[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeOut .3s ease-out}@media (max-width: 768px){.container[_ngcontent-%COMP%]{padding:10px}.product-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;text-align:center;margin-bottom:15px}.product-image[_ngcontent-%COMP%]{max-width:80%;height:auto;margin:0 0 10px}.modal-content[_ngcontent-%COMP%]{width:90%;max-width:400px;padding:15px}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.btn[_ngcontent-%COMP%]{width:100%;margin-bottom:10px}}@media (min-width: 769px) and (max-width: 1024px){.container[_ngcontent-%COMP%]{padding:15px}.product-item[_ngcontent-%COMP%]{flex-direction:row}.product-image[_ngcontent-%COMP%]{max-width:100px;height:auto;margin-right:15px}.modal-content[_ngcontent-%COMP%]{width:80%;max-width:500px;padding:20px}.btn[_ngcontent-%COMP%]{margin:5px}}.form-control[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;margin-bottom:10px}.btn[_ngcontent-%COMP%]{width:auto;padding:10px 20px}h3[_ngcontent-%COMP%]{font-size:1.5rem}.product-item[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.2rem}p[_ngcontent-%COMP%]{font-size:.9rem}.btn-success[_ngcontent-%COMP%], .btn-danger[_ngcontent-%COMP%], .btn-warning[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%]{padding:8px 16px;font-size:.9rem}"]});let t=e;return t})();var xP=(()=>{let e=class e{constructor(){this.firstDigit="4",this.secondDigit="0",this.thirdDigit="4"}randomNum(){return Math.floor(Math.random()*9)+1}ngOnInit(){let r=0,i=30,o=setInterval(()=>{r>40?(clearInterval(o),this.thirdDigit="4"):(this.thirdDigit=this.randomNum().toString(),r++)},i),s=setInterval(()=>{r>80?(clearInterval(s),this.secondDigit="0"):(this.secondDigit=this.randomNum().toString(),r++)},i),a=setInterval(()=>{r>100?(clearInterval(a),this.firstDigit="4"):(this.firstDigit=this.randomNum().toString(),r++)},i)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ye({type:e,selectors:[["app-not-found"]],standalone:!0,features:[Je],decls:22,vars:3,consts:[[1,"error","d-flex","justify-content-center","align-items-center","vh-50","bg-light"],[1,"container","text-center"],[1,"container-error-404"],[1,"clip"],[1,"shadow"],[1,"digit","thirdDigit"],[1,"digit","secondDigit"],[1,"digit","firstDigit"],[1,"msg"],[1,"triangle"],[1,"h1"],["routerLink","/",1,"btn","btn-primary"]],template:function(i,o){i&1&&(S(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"span",5),N(6),M()()(),S(7,"div",3)(8,"div",4)(9,"span",6),N(10),M()()(),S(11,"div",3)(12,"div",4)(13,"span",7),N(14),M()()(),S(15,"div",8),N(16,"OH!"),fe(17,"span",9),M()(),S(18,"h2",10),N(19,"\u0412\u0438\u0431\u0430\u0447\u0442\u0435! \u0421\u0442\u043E\u0440\u0456\u043D\u043A\u0430 \u043D\u0435 \u0437\u043D\u0430\u0439\u0434\u0435\u043D\u0430."),M(),S(20,"a",11),N(21,"\u041F\u0435\u0440\u0435\u0439\u0442\u0438 \u043D\u0430 \u0433\u043E\u043B\u043E\u0432\u043D\u0443"),M()()()),i&2&&(U(6),Ve(o.thirdDigit),U(4),Ve(o.secondDigit),U(4),Ve(o.firstDigit))},dependencies:[bt,Ls,Fs],styles:['*[_ngcontent-%COMP%]{font-family:PT Sans Caption,sans-serif,arial,Times New Roman;box-sizing:border-box}.error[_ngcontent-%COMP%]{background-color:#f8f9fa}.error[_ngcontent-%COMP%]   .container-error-404[_ngcontent-%COMP%]{position:relative;height:250px;padding-top:40px;text-align:center}.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]{display:inline-block;transform:skew(-45deg)}.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]   .shadow[_ngcontent-%COMP%]{height:180px;overflow:hidden}.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]:nth-of-type(2)   .shadow[_ngcontent-%COMP%]{width:130px;position:relative;box-shadow:inset 20px 0 20px -15px #969696cc,20px 0 20px -15px #969696cc}.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]:nth-of-type(3)   .shadow[_ngcontent-%COMP%]:after, .error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]:nth-of-type(1)   .shadow[_ngcontent-%COMP%]:after{content:"";position:absolute;right:-8px;bottom:0;z-index:9999;height:100%;width:10px;background:linear-gradient(90deg,transparent,rgba(173,173,173,.8),transparent);border-radius:50%}.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]:nth-of-type(3)   .shadow[_ngcontent-%COMP%]:after{left:-8px}.error[_ngcontent-%COMP%]   .digit[_ngcontent-%COMP%]{width:150px;height:150px;line-height:150px;font-size:120px;font-weight:700;color:#fff;background:#07b3f9;border-radius:50%;display:inline-block;transform:skew(45deg)}.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]:nth-of-type(2)   .digit[_ngcontent-%COMP%]{left:-10%}.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]:nth-of-type(1)   .digit[_ngcontent-%COMP%]{right:-20%}.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]:nth-of-type(3)   .digit[_ngcontent-%COMP%]{left:-20%}.error[_ngcontent-%COMP%]   .msg[_ngcontent-%COMP%]{position:relative;z-index:9999;background:#535353;color:#a2a2a2;border-radius:50%;font-style:italic;display:block;width:80px;height:80px;line-height:80px;font-size:32px;top:-190px;left:30%}.error[_ngcontent-%COMP%]   span.triangle[_ngcontent-%COMP%]{position:absolute;z-index:999;transform:rotate(45deg);content:"";width:0;height:0;border-left:20px solid #535353;border-top:15px solid transparent;border-bottom:15px solid transparent;top:70%;right:0}.error[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#a2a2a2;font-weight:700;padding-bottom:20px;font-size:32px}.error[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;font-weight:700}.error[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}@media (max-width: 767px){.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]   .shadow[_ngcontent-%COMP%]{height:100px}.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]:nth-of-type(2)   .shadow[_ngcontent-%COMP%]{width:80px}.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]:nth-of-type(1)   .shadow[_ngcontent-%COMP%], .error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]:nth-of-type(3)   .shadow[_ngcontent-%COMP%]{width:100px}.error[_ngcontent-%COMP%]   .digit[_ngcontent-%COMP%]{width:80px;height:80px;line-height:80px;font-size:52px}.error[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px}.error[_ngcontent-%COMP%]   .msg[_ngcontent-%COMP%]{top:-110px;left:15%;width:40px;height:40px;line-height:40px;font-size:18px}.error[_ngcontent-%COMP%]   span.triangle[_ngcontent-%COMP%]{border-left:10px solid #535353;border-top:8px solid transparent;border-bottom:8px solid transparent}.error[_ngcontent-%COMP%]   .container-error-404[_ngcontent-%COMP%]{height:150px}}']});let t=e;return t})();function _q(t,e){if(t&1&&(S(0,"p",10),N(1),M()),t&2){let n=ie();U(),Ve(n.errorMessage)}}var PP=(()=>{let e=class e{constructor(r){this.router=r,this.username="",this.password="",this.errorMessage=""}login(){this.username==="admin"&&this.password==="Uthjtdlytghf73"?this.router.navigate(["/admin"]):this.errorMessage="\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u043B\u043E\u0433\u0456\u043D \u0430\u0431\u043E \u043F\u0430\u0440\u043E\u043B\u044C"}};e.\u0275fac=function(i){return new(i||e)(B(vt))},e.\u0275cmp=Ye({type:e,selectors:[["app-admin-login"]],standalone:!0,features:[Je],decls:14,vars:3,consts:[[1,"login-container"],[1,"login-form",3,"ngSubmit"],["src","./icons/logo.png","alt","Logo",1,"logo"],[1,"form-group"],["for","username"],["id","username","name","username","placeholder","\u041B\u043E\u0433\u0456\u043D","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","password"],["id","password","type","password","name","password","placeholder","\u041F\u0430\u0440\u043E\u043B\u044C","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-success"],["class","text-danger",4,"ngIf"],[1,"text-danger"]],template:function(i,o){i&1&&(S(0,"div",0)(1,"form",1),Z("ngSubmit",function(){return o.login()}),fe(2,"img",2),S(3,"div",3)(4,"label",4),N(5,"\u041B\u043E\u0433\u0456\u043D"),M(),S(6,"input",5),He("ngModelChange",function(a){return qe(o.username,a)||(o.username=a),a}),M()(),S(7,"div",3)(8,"label",6),N(9,"\u041F\u0430\u0440\u043E\u043B\u044C"),M(),S(10,"input",7),He("ngModelChange",function(a){return qe(o.password,a)||(o.password=a),a}),M()(),S(11,"button",8),N(12,"\u0412\u0445\u0456\u0434"),M(),et(13,_q,2,1,"p",9),M()()),i&2&&(U(6),$e("ngModel",o.username),U(4),$e("ngModel",o.password),U(3),ye("ngIf",o.errorMessage))},dependencies:[bt,Ei,tr,Js,_n,er,Ys,bo,On,Co],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:70vh;background-color:#f8f9fa}.login-form[_ngcontent-%COMP%]{background:#fff;padding:2rem;border-radius:8px;box-shadow:0 0 10px #0000001a;text-align:center}.logo[_ngcontent-%COMP%]{max-width:100px;margin-bottom:1rem}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.btn-success[_ngcontent-%COMP%]{background-color:#28a745;border-color:#28a745}.btn-success[_ngcontent-%COMP%]:hover{background-color:#218838;border-color:#1e7e34}"]});let t=e;return t})();var RP=[{path:"",component:DP},{path:"header",component:lh},{path:"cart",component:TP},{path:"product/:id",component:SP},{path:"admin-login",component:PP},{path:"admin",component:MP},{path:"**",component:xP}];var Vw={production:!1,firebase:{apiKey:"AIzaSyCDXEjp5yiLttF-2eUZKNHH6z3Y755yws8",authDomain:"hiking-equipment-store.firebaseapp.com",databaseURL:"https://hiking-equipment-store-default-rtdb.europe-west1.firebasedatabase.app",projectId:"hiking-equipment-store",storageBucket:"hiking-equipment-store.appspot.com",messagingSenderId:"553591568312",appId:"1:553591568312:web:c4e43771d9e053d6d6814d",measurementId:"G-C3M4EFX3LH"},appCheck:{recaptchaSiteKey:"6LeykZMqAAAAAFddpBQyGNnkKElOUDDIMdroXsYV"}};fT(uA,{providers:[rS(RP),cy(),CM(()=>bM()),LS(()=>jS(Vw.firebase)),vP(()=>EP()),sA(()=>cA(void 0,{provider:new Eh(Vw.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}).catch(t=>console.error(t));
