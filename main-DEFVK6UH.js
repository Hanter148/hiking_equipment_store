var BR=Object.defineProperty,$R=Object.defineProperties;var HR=Object.getOwnPropertyDescriptors;var KE=Object.getOwnPropertySymbols,zR=Object.getPrototypeOf,qR=Object.prototype.hasOwnProperty,GR=Object.prototype.propertyIsEnumerable,WR=Reflect.get;var QE=(t,e,n)=>e in t?BR(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,j=(t,e)=>{for(var n in e||={})qR.call(e,n)&&QE(t,n,e[n]);if(KE)for(var n of KE(e))GR.call(e,n)&&QE(t,n,e[n]);return t},ye=(t,e)=>$R(t,HR(e));var ii=(t,e,n)=>WR(zR(t),n,e);var w=(t,e,n)=>new Promise((r,i)=>{var o=u=>{try{a(n.next(u))}catch(l){i(l)}},s=u=>{try{a(n.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((n=n.apply(t,e)).next())});var Mp=null;var Ap=1,xp=Symbol("SIGNAL");function xe(t){let e=Mp;return Mp=t,e}function YE(){return Mp}var Pp={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function KR(t){if(!(Fp(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Ap)){if(!t.producerMustRecompute(t)&&!Np(t)){t.dirty=!1,t.lastCleanEpoch=Ap;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Ap}}function Rp(t){return t&&(t.nextProducerIndex=0),xe(t)}function JE(t,e){if(xe(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Fp(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)kp(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Np(t){Vp(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(KR(n),r!==n.version))return!0}return!1}function Op(t){if(Vp(t),Fp(t))for(let e=0;e<t.producerNode.length;e++)kp(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function kp(t,e){if(QR(t),t.liveConsumerNode.length===1&&YR(t))for(let r=0;r<t.producerNode.length;r++)kp(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Vp(i),i.producerIndexOfThis[r]=e}}function Fp(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Vp(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function QR(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function YR(t){return t.producerNode!==void 0}function JR(){throw new Error}var ZR=JR;function ZE(t){ZR=t}function de(t){return typeof t=="function"}function Jo(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var ol=Jo(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Ji(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ye=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(de(r))try{r()}catch(o){e=o instanceof ol?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{XE(o)}catch(s){e=e??[],s instanceof ol?e=[...e,...s.errors]:e.push(s)}}if(e)throw new ol(e)}}add(e){var n;if(e&&e!==this)if(this.closed)XE(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Ji(n,e)}remove(e){let{_finalizers:n}=this;n&&Ji(n,e),e instanceof t&&e._removeParent(this)}};Ye.EMPTY=(()=>{let t=new Ye;return t.closed=!0,t})();var Lp=Ye.EMPTY;function sl(t){return t instanceof Ye||t&&"closed"in t&&de(t.remove)&&de(t.add)&&de(t.unsubscribe)}function XE(t){de(t)?t():t.unsubscribe()}var bn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Zo={setTimeout(t,e,...n){let{delegate:r}=Zo;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Zo;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function al(t){Zo.setTimeout(()=>{let{onUnhandledError:e}=bn;if(e)e(t);else throw t})}function Ja(){}var eI=jp("C",void 0,void 0);function tI(t){return jp("E",void 0,t)}function nI(t){return jp("N",t,void 0)}function jp(t,e,n){return{kind:t,value:e,error:n}}var Zi=null;function Xo(t){if(bn.useDeprecatedSynchronousErrorHandling){let e=!Zi;if(e&&(Zi={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Zi;if(Zi=null,n)throw r}}else t()}function rI(t){bn.useDeprecatedSynchronousErrorHandling&&Zi&&(Zi.errorThrown=!0,Zi.error=t)}var Xi=class extends Ye{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,sl(e)&&e.add(this)):this.destination=t1}static create(e,n,r){return new es(e,n,r)}next(e){this.isStopped?Bp(nI(e),this):this._next(e)}error(e){this.isStopped?Bp(tI(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Bp(eI,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},XR=Function.prototype.bind;function Up(t,e){return XR.call(t,e)}var $p=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){cl(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){cl(r)}else cl(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){cl(n)}}},es=class extends Xi{constructor(e,n,r){super();let i;if(de(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&bn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Up(e.next,o),error:e.error&&Up(e.error,o),complete:e.complete&&Up(e.complete,o)}):i=e}this.destination=new $p(i)}};function cl(t){bn.useDeprecatedSynchronousErrorHandling?rI(t):al(t)}function e1(t){throw t}function Bp(t,e){let{onStoppedNotification:n}=bn;n&&Zo.setTimeout(()=>n(t,e))}var t1={closed:!0,next:Ja,error:e1,complete:Ja};var ts=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Xt(t){return t}function ul(...t){return Hp(t)}function Hp(t){return t.length===0?Xt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var pe=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=r1(n)?n:new es(n,r,i);return Xo(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=iI(r),new r((i,o)=>{let s=new es({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[ts](){return this}pipe(...n){return Hp(n)(this)}toPromise(n){return n=iI(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function iI(t){var e;return(e=t??bn.Promise)!==null&&e!==void 0?e:Promise}function n1(t){return t&&de(t.next)&&de(t.error)&&de(t.complete)}function r1(t){return t&&t instanceof Xi||n1(t)&&sl(t)}function zp(t){return de(t?.lift)}function Ie(t){return e=>{if(zp(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function _e(t,e,n,r,i){return new qp(t,e,n,r,i)}var qp=class extends Xi{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function ns(){return Ie((t,e)=>{let n=null;t._refCount++;let r=_e(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var rs=class extends pe{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,zp(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ye;let n=this.getSubject();e.add(this.source.subscribe(_e(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ye.EMPTY)}return e}refCount(){return ns()(this)}};var oI=Jo(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var wt=(()=>{class t extends pe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new ll(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new oI}next(n){Xo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Xo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Xo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Lp:(this.currentObservers=null,o.push(n),new Ye(()=>{this.currentObservers=null,Ji(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new pe;return n.source=this,n}}return t.create=(e,n)=>new ll(e,n),t})(),ll=class extends wt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Lp}};var mt=class extends wt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Gp={now(){return(Gp.delegate||Date).now()},delegate:void 0};var dl=class extends Ye{constructor(e,n){super()}schedule(e,n=0){return this}};var Za={setInterval(t,e,...n){let{delegate:r}=Za;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Za;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var is=class extends dl{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return Za.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Za.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Ji(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var os=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};os.now=Gp.now;var ss=class extends os{constructor(e,n=os.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var as=new ss(is),Wp=as;var hl=class extends is{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var fl=class extends ss{};var Kp=new fl(hl);var en=new pe(t=>t.complete());function pl(t){return t&&de(t.schedule)}function sI(t){return t[t.length-1]}function gl(t){return de(sI(t))?t.pop():void 0}function oi(t){return pl(sI(t))?t.pop():void 0}function Qp(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function cI(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function aI(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function eo(t){return this instanceof eo?(this.v=t,this):new eo(t)}function uI(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i={},a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(S){return Promise.resolve(S).then(y,p)}}function a(y,S){r[y]&&(i[y]=function(N){return new Promise(function(x,V){o.push([y,N,x,V])>1||u(y,N)})},S&&(i[y]=S(i[y])))}function u(y,S){try{l(r[y](S))}catch(N){m(o[0][3],N)}}function l(y){y.value instanceof eo?Promise.resolve(y.value.v).then(h,p):m(o[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function m(y,S){y(S),o.shift(),o.length&&u(o[0][0],o[0][1])}}function lI(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof aI=="function"?aI(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var ml=t=>t&&typeof t.length=="number"&&typeof t!="function";function yl(t){return de(t?.then)}function vl(t){return de(t[ts])}function _l(t){return Symbol.asyncIterator&&de(t?.[Symbol.asyncIterator])}function wl(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function i1(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var El=i1();function Il(t){return de(t?.[El])}function Cl(t){return uI(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield eo(n.read());if(i)return yield eo(void 0);yield yield eo(r)}}finally{n.releaseLock()}})}function bl(t){return de(t?.getReader)}function it(t){if(t instanceof pe)return t;if(t!=null){if(vl(t))return o1(t);if(ml(t))return s1(t);if(yl(t))return a1(t);if(_l(t))return dI(t);if(Il(t))return c1(t);if(bl(t))return u1(t)}throw wl(t)}function o1(t){return new pe(e=>{let n=t[ts]();if(de(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function s1(t){return new pe(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function a1(t){return new pe(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,al)})}function c1(t){return new pe(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function dI(t){return new pe(e=>{l1(t,e).catch(n=>e.error(n))})}function u1(t){return dI(Cl(t))}function l1(t,e){var n,r,i,o;return cI(this,void 0,void 0,function*(){try{for(n=lI(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function Kt(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function si(t,e=0){return Ie((n,r)=>{n.subscribe(_e(r,i=>Kt(r,t,()=>r.next(i),e),()=>Kt(r,t,()=>r.complete(),e),i=>Kt(r,t,()=>r.error(i),e)))})}function ai(t,e=0){return Ie((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function hI(t,e){return it(t).pipe(ai(e),si(e))}function fI(t,e){return it(t).pipe(ai(e),si(e))}function pI(t,e){return new pe(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function gI(t,e){return new pe(n=>{let r;return Kt(n,e,()=>{r=t[El](),Kt(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>de(r?.return)&&r.return()})}function Dl(t,e){if(!t)throw new Error("Iterable cannot be null");return new pe(n=>{Kt(n,e,()=>{let r=t[Symbol.asyncIterator]();Kt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function mI(t,e){return Dl(Cl(t),e)}function yI(t,e){if(t!=null){if(vl(t))return hI(t,e);if(ml(t))return pI(t,e);if(yl(t))return fI(t,e);if(_l(t))return Dl(t,e);if(Il(t))return gI(t,e);if(bl(t))return mI(t,e)}throw wl(t)}function Ue(t,e){return e?yI(t,e):it(t)}function te(...t){let e=oi(t);return Ue(t,e)}function cs(t,e){let n=de(t)?t:()=>t,r=i=>i.error(n());return new pe(e?i=>e.schedule(r,0,i):r)}function Yp(t){return!!t&&(t instanceof pe||de(t.lift)&&de(t.subscribe))}var Cr=Jo(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function vI(t){return t instanceof Date&&!isNaN(t)}function ie(t,e){return Ie((n,r)=>{let i=0;n.subscribe(_e(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:d1}=Array;function h1(t,e){return d1(e)?t(...e):t(e)}function Tl(t){return ie(e=>h1(t,e))}var{isArray:f1}=Array,{getPrototypeOf:p1,prototype:g1,keys:m1}=Object;function Sl(t){if(t.length===1){let e=t[0];if(f1(e))return{args:e,keys:null};if(y1(e)){let n=m1(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function y1(t){return t&&typeof t=="object"&&p1(t)===g1}function Al(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Xa(...t){let e=oi(t),n=gl(t),{args:r,keys:i}=Sl(t);if(r.length===0)return Ue([],e);let o=new pe(v1(r,e,i?s=>Al(i,s):Xt));return n?o.pipe(Tl(n)):o}function v1(t,e,n=Xt){return r=>{_I(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)_I(e,()=>{let l=Ue(t[u],e),h=!1;l.subscribe(_e(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function _I(t,e,n){t?Kt(n,t,e):e()}function wI(t,e,n,r,i,o,s,a){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},y=N=>l<r?S(N):u.push(N),S=N=>{o&&e.next(N),l++;let x=!1;it(n(N,h++)).subscribe(_e(e,V=>{i?.(V),o?y(V):e.next(V)},()=>{x=!0},void 0,()=>{if(x)try{for(l--;u.length&&l<r;){let V=u.shift();s?Kt(e,s,()=>S(V)):S(V)}m()}catch(V){e.error(V)}}))};return t.subscribe(_e(e,y,()=>{p=!0,m()})),()=>{a?.()}}function ot(t,e,n=1/0){return de(e)?ot((r,i)=>ie((o,s)=>e(r,o,i,s))(it(t(r,i))),n):(typeof e=="number"&&(n=e),Ie((r,i)=>wI(r,i,t,n)))}function ci(t=1/0){return ot(Xt,t)}function EI(){return ci(1)}function us(...t){return EI()(Ue(t,oi(t)))}function Ml(t){return new pe(e=>{it(t()).subscribe(e)})}function Jp(...t){let e=gl(t),{args:n,keys:r}=Sl(t),i=new pe(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;it(n[h]).subscribe(_e(o,m=>{p||(p=!0,l--),a[h]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?Al(r,a):a),o.complete())}))}});return e?i.pipe(Tl(e)):i}function II(t=0,e,n=Wp){let r=-1;return e!=null&&(pl(e)?n=e:r=e),new pe(i=>{let o=vI(t)?+t-n.now():t;o<0&&(o=0);let s=0;return n.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function Zp(t=0,e=as){return t<0&&(t=0),II(t,t,e)}function Bt(t,e){return Ie((n,r)=>{let i=0;n.subscribe(_e(r,o=>t.call(e,o,i++)&&r.next(o)))})}function ui(t){return Ie((e,n)=>{let r=null,i=!1,o;r=e.subscribe(_e(n,void 0,void 0,s=>{o=it(t(s,ui(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function CI(t,e,n,r,i){return(o,s)=>{let a=n,u=e,l=0;o.subscribe(_e(s,h=>{let p=l++;u=a?t(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function br(t,e){return de(e)?ot(t,e,1):ot(t,1)}function li(t){return Ie((e,n)=>{let r=!1;e.subscribe(_e(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Dr(t){return t<=0?()=>en:Ie((e,n)=>{let r=0;e.subscribe(_e(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Xp(t){return ie(()=>t)}function xl(t=_1){return Ie((e,n)=>{let r=!1;e.subscribe(_e(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function _1(){return new Cr}function di(t){return Ie((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Hn(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Bt((i,o)=>t(i,o,r)):Xt,Dr(1),n?li(e):xl(()=>new Cr))}function ls(t){return t<=0?()=>en:Ie((e,n)=>{let r=[];e.subscribe(_e(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function eg(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Bt((i,o)=>t(i,o,r)):Xt,ls(1),n?li(e):xl(()=>new Cr))}function Pl(t,e){return Ie(CI(t,e,arguments.length>=2,!0))}function Rl(...t){let e=oi(t);return Ie((n,r)=>{(e?us(t,n,e):us(t,n)).subscribe(r)})}function Qt(t,e){return Ie((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(_e(r,u=>{i?.unsubscribe();let l=0,h=o++;it(t(u,h)).subscribe(i=_e(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function tg(t){return Ie((e,n)=>{it(t).subscribe(_e(n,()=>n.complete(),Ja)),!n.closed&&e.subscribe(n)})}function st(t,e,n){let r=de(t)||e||n?{next:t,error:e,complete:n}:t;return r?Ie((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(_e(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Xt}var lC="https://g.co/ng/security#xss",Z=class extends Error{constructor(e,n){super(hd(e,n)),this.code=e}};function hd(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function cc(t){return{toString:t}.toString()}var Nl="__parameters__";function w1(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function dC(t,e,n){return cc(()=>{let r=w1(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(Nl)?u[Nl]:Object.defineProperty(u,Nl,{value:[]})[Nl];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Tr=globalThis;function Be(t){for(let e in t)if(t[e]===Be)return e;throw Error("Could not find renamed property on target object.")}function E1(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Ht(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Ht).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function bI(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var I1=Be({__forward_ref__:Be});function Mn(t){return t.__forward_ref__=Mn,t.toString=function(){return Ht(this())},t}function $t(t){return hC(t)?t():t}function hC(t){return typeof t=="function"&&t.hasOwnProperty(I1)&&t.__forward_ref__===Mn}function z(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Jn(t){return{providers:t.providers||[],imports:t.imports||[]}}function fd(t){return DI(t,pC)||DI(t,gC)}function fC(t){return fd(t)!==null}function DI(t,e){return t.hasOwnProperty(e)?t[e]:null}function C1(t){let e=t&&(t[pC]||t[gC]);return e||null}function TI(t){return t&&(t.hasOwnProperty(SI)||t.hasOwnProperty(b1))?t[SI]:null}var pC=Be({\u0275prov:Be}),SI=Be({\u0275inj:Be}),gC=Be({ngInjectableDef:Be}),b1=Be({ngInjectorDef:Be}),H=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=z({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function mC(t){return t&&!!t.\u0275providers}var D1=Be({\u0275cmp:Be}),T1=Be({\u0275dir:Be}),S1=Be({\u0275pipe:Be}),A1=Be({\u0275mod:Be}),Hl=Be({\u0275fac:Be}),ec=Be({__NG_ELEMENT_ID__:Be}),AI=Be({__NG_ENV_ID__:Be});function ms(t){return typeof t=="string"?t:t==null?"":String(t)}function M1(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():ms(t)}function x1(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new Z(-200,t)}function dm(t,e){throw new Z(-201,!1)}var ve=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ve||{}),yg;function yC(){return yg}function Yt(t){let e=yg;return yg=t,e}function vC(t,e,n){let r=fd(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&ve.Optional)return null;if(e!==void 0)return e;dm(t,"Injector")}var P1={},tc=P1,vg="__NG_DI_FLAG__",zl="ngTempTokenPath",R1="ngTokenPath",N1=/\n/gm,O1="\u0275",MI="__source",ps;function k1(){return ps}function hi(t){let e=ps;return ps=t,e}function F1(t,e=ve.Default){if(ps===void 0)throw new Z(-203,!1);return ps===null?vC(t,void 0,e):ps.get(t,e&ve.Optional?null:void 0,e)}function G(t,e=ve.Default){return(yC()||F1)($t(t),e)}function F(t,e=ve.Default){return G(t,pd(e))}function pd(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function _g(t){let e=[];for(let n=0;n<t.length;n++){let r=$t(t[n]);if(Array.isArray(r)){if(r.length===0)throw new Z(900,!1);let i,o=ve.Default;for(let s=0;s<r.length;s++){let a=r[s],u=V1(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(G(i,o))}else e.push(G(r))}return e}function _C(t,e){return t[vg]=e,t.prototype[vg]=e,t}function V1(t){return t[vg]}function L1(t,e,n,r){let i=t[zl];throw e[MI]&&i.unshift(e[MI]),t.message=j1(`
`+t.message,i,n,r),t[R1]=i,t[zl]=null,t}function j1(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==O1?t.slice(2):t;let i=Ht(e);if(Array.isArray(e))i=e.map(Ht).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Ht(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(N1,`
  `)}`}var vt=_C(dC("Optional"),8);var hm=_C(dC("SkipSelf"),4);function io(t,e){let n=t.hasOwnProperty(Hl);return n?t[Hl]:null}function U1(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function B1(t){return t.flat(Number.POSITIVE_INFINITY)}function fm(t,e){t.forEach(n=>Array.isArray(n)?fm(n,e):e(n))}function wC(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function ql(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function $1(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function H1(t,e,n){let r=uc(t,e);return r>=0?t[r|1]=n:(r=~r,$1(t,r,e,n)),r}function ng(t,e){let n=uc(t,e);if(n>=0)return t[n|1]}function uc(t,e){return z1(t,e,1)}function z1(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var ys={},pn=[],vs=new H(""),EC=new H("",-1),IC=new H(""),Gl=class{get(e,n=tc){if(n===tc){let r=new Error(`NullInjectorError: No provider for ${Ht(e)}!`);throw r.name="NullInjectorError",r}return n}},CC=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(CC||{}),Gn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Gn||{}),_s=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(_s||{});function q1(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function wg(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];G1(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function bC(t){return t===3||t===4||t===6}function G1(t){return t.charCodeAt(0)===64}function nc(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?xI(t,n,i,null,e[++r]):xI(t,n,i,null,null))}}return t}function xI(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var DC="ng-template";function W1(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&q1(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(pm(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function pm(t){return t.type===4&&t.value!==DC}function K1(t,e,n){let r=t.type===4&&!n?DC:t.value;return e===r}function Q1(t,e,n){let r=4,i=t.attrs,o=i!==null?Z1(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!Dn(r)&&!Dn(u))return!1;if(s&&Dn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!K1(t,u,n)||u===""&&e.length===1){if(Dn(r))return!1;s=!0}}else if(r&8){if(i===null||!W1(t,i,u,n)){if(Dn(r))return!1;s=!0}}else{let l=e[++a],h=Y1(u,i,pm(t),n);if(h===-1){if(Dn(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(Dn(r))return!1;s=!0}}}}return Dn(r)||s}function Dn(t){return(t&1)===0}function Y1(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return X1(e,t)}function J1(t,e,n=!1){for(let r=0;r<e.length;r++)if(Q1(t,e[r],n))return!0;return!1}function Z1(t){for(let e=0;e<t.length;e++){let n=t[e];if(bC(n))return e}return t.length}function X1(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function PI(t,e){return t?":not("+e.trim()+")":e}function eN(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Dn(s)&&(e+=PI(o,i),i=""),r=s,o=o||!Dn(r);n++}return i!==""&&(e+=PI(o,i)),e}function tN(t){return t.map(eN).join(",")}function nN(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!Dn(i))break;i=o}r++}return{attrs:e,classes:n}}function Ze(t){return cc(()=>{let e=PC(t),n=ye(j({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===CC.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Gn.Emulated,styles:t.styles||pn,_:null,schemas:t.schemas||null,tView:null,id:""});RC(n);let r=t.dependencies;return n.directiveDefs=NI(r,!1),n.pipeDefs=NI(r,!0),n.id=oN(n),n})}function rN(t){return mi(t)||SC(t)}function iN(t){return t!==null}function Zn(t){return cc(()=>({type:t.type,bootstrap:t.bootstrap||pn,declarations:t.declarations||pn,imports:t.imports||pn,exports:t.exports||pn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function RI(t,e){if(t==null)return ys;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=_s.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==_s.None?[r,a]:r,e[o]=s):n[o]=r}return n}function qe(t){return cc(()=>{let e=PC(t);return RC(e),e})}function TC(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function mi(t){return t[D1]||null}function SC(t){return t[T1]||null}function AC(t){return t[S1]||null}function MC(t){let e=mi(t)||SC(t)||AC(t);return e!==null?e.standalone:!1}function xC(t,e){let n=t[A1]||null;if(!n&&e===!0)throw new Error(`Type ${Ht(t)} does not have '\u0275mod' property.`);return n}function PC(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||ys,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||pn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:RI(t.inputs,e),outputs:RI(t.outputs),debugInfo:null}}function RC(t){t.features?.forEach(e=>e(t))}function NI(t,e){if(!t)return null;let n=e?AC:rN;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(iN)}function oN(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function nn(t){return{\u0275providers:t}}function sN(...t){return{\u0275providers:NC(!0,t),\u0275fromNgModule:!0}}function NC(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return fm(e,s=>{let a=s;Eg(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&OC(i,o),n}function OC(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];gm(i,o=>{e(o,r)})}}function Eg(t,e,n,r){if(t=$t(t),!t)return!1;let i=null,o=TI(t),s=!o&&mi(t);if(!o&&!s){let u=t.ngModule;if(o=TI(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)Eg(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{fm(o.imports,h=>{Eg(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&OC(l,e)}if(!a){let l=io(i)||(()=>new i);e({provide:i,useFactory:l,deps:pn},i),e({provide:IC,useValue:i,multi:!0},i),e({provide:vs,useValue:()=>G(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=t;gm(u,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function gm(t,e){for(let n of t)mC(n)&&(n=n.\u0275providers),Array.isArray(n)?gm(n,e):e(n)}var aN=Be({provide:String,useValue:Be});function kC(t){return t!==null&&typeof t=="object"&&aN in t}function cN(t){return!!(t&&t.useExisting)}function uN(t){return!!(t&&t.useFactory)}function ws(t){return typeof t=="function"}function lN(t){return!!t.useClass}var gd=new H(""),Vl={},dN={},rg;function mm(){return rg===void 0&&(rg=new Gl),rg}var Rt=class{},rc=class extends Rt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Cg(e,s=>this.processProvider(s)),this.records.set(EC,ds(void 0,this)),i.has("environment")&&this.records.set(Rt,ds(void 0,this));let o=this.records.get(gd);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(IC,pn,ve.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=xe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),xe(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=hi(this),r=Yt(void 0),i;try{return e()}finally{hi(n),Yt(r)}}get(e,n=tc,r=ve.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(AI))return e[AI](this);r=pd(r);let i,o=hi(this),s=Yt(void 0);try{if(!(r&ve.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=mN(e)&&fd(e);l&&this.injectableDefInScope(l)?u=ds(Ig(e),Vl):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&ve.Self?mm():this.parent;return n=r&ve.Optional&&n===tc?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[zl]=a[zl]||[]).unshift(Ht(e)),o)throw a;return L1(a,e,"R3InjectorError",this.source)}else throw a}finally{Yt(s),hi(o)}}resolveInjectorInitializers(){let e=xe(null),n=hi(this),r=Yt(void 0),i;try{let o=this.get(vs,pn,ve.Self);for(let s of o)s()}finally{hi(n),Yt(r),xe(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Ht(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Z(205,!1)}processProvider(e){e=$t(e);let n=ws(e)?e:$t(e&&e.provide),r=fN(e);if(!ws(e)&&e.multi===!0){let i=this.records.get(n);i||(i=ds(void 0,Vl,!0),i.factory=()=>_g(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=xe(null);try{return n.value===Vl&&(n.value=dN,n.value=n.factory()),typeof n.value=="object"&&n.value&&gN(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{xe(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=$t(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Ig(t){let e=fd(t),n=e!==null?e.factory:io(t);if(n!==null)return n;if(t instanceof H)throw new Z(204,!1);if(t instanceof Function)return hN(t);throw new Z(204,!1)}function hN(t){if(t.length>0)throw new Z(204,!1);let n=C1(t);return n!==null?()=>n.factory(t):()=>new t}function fN(t){if(kC(t))return ds(void 0,t.useValue);{let e=FC(t);return ds(e,Vl)}}function FC(t,e,n){let r;if(ws(t)){let i=$t(t);return io(i)||Ig(i)}else if(kC(t))r=()=>$t(t.useValue);else if(uN(t))r=()=>t.useFactory(..._g(t.deps||[]));else if(cN(t))r=()=>G($t(t.useExisting));else{let i=$t(t&&(t.useClass||t.provide));if(pN(t))r=()=>new i(..._g(t.deps));else return io(i)||Ig(i)}return r}function ds(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function pN(t){return!!t.deps}function gN(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function mN(t){return typeof t=="function"||typeof t=="object"&&t instanceof H}function Cg(t,e){for(let n of t)Array.isArray(n)?Cg(n,e):n&&mC(n)?Cg(n.\u0275providers,e):e(n)}function rn(t,e){t instanceof rc&&t.assertNotDestroyed();let n,r=hi(t),i=Yt(void 0);try{return e()}finally{hi(r),Yt(i)}}function VC(){return yC()!==void 0||k1()!=null}function yN(t){if(!VC())throw new Z(-203,!1)}function vN(t){return typeof t=="function"}var xr=0,ge=1,ce=2,Nt=3,Tn=4,xn=5,Wl=6,Kl=7,Sn=8,Es=9,Wn=10,at=11,ic=12,OI=13,As=14,Kn=15,oo=16,hs=17,Sr=18,md=19,LC=20,pi=21,ig=22,gn=23,An=25,jC=1;var so=7,Ql=8,Is=9,tn=10,Yl=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Yl||{});function gi(t){return Array.isArray(t)&&typeof t[jC]=="object"}function Pr(t){return Array.isArray(t)&&t[jC]===!0}function UC(t){return(t.flags&4)!==0}function yd(t){return t.componentOffset>-1}function ym(t){return(t.flags&1)===1}function yi(t){return!!t.template}function bg(t){return(t[ce]&512)!==0}var Dg=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function BC(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Rr(){return $C}function $C(t){return t.type.prototype.ngOnChanges&&(t.setInput=wN),_N}Rr.ngInherit=!0;function _N(){let t=zC(this),e=t?.current;if(e){let n=t.previous;if(n===ys)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function wN(t,e,n,r,i){let o=this.declaredInputs[r],s=zC(t)||EN(t,{previous:ys,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new Dg(l&&l.currentValue,n,u===ys),BC(t,e,i,n)}var HC="__ngSimpleChanges__";function zC(t){return t[HC]||null}function EN(t,e){return t[HC]=e}var kI=null;var zn=function(t,e,n){kI?.(t,e,n)},qC="svg",IN="math";function Qn(t){for(;Array.isArray(t);)t=t[xr];return t}function GC(t,e){return Qn(e[t])}function mn(t,e){return Qn(e[t.index])}function WC(t,e){return t.data[e]}function KC(t,e){return t[e]}function wi(t,e){let n=e[t];return gi(n)?n:n[xr]}function CN(t){return(t[ce]&4)===4}function vm(t){return(t[ce]&128)===128}function bN(t){return Pr(t[Nt])}function Jl(t,e){return e==null?null:t[e]}function QC(t){t[hs]=0}function YC(t){t[ce]&1024||(t[ce]|=1024,vm(t)&&vd(t))}function DN(t,e){for(;t>0;)e=e[As],t--;return e}function oc(t){return!!(t[ce]&9216||t[gn]?.dirty)}function Tg(t){t[Wn].changeDetectionScheduler?.notify(7),t[ce]&64&&(t[ce]|=1024),oc(t)&&vd(t)}function vd(t){t[Wn].changeDetectionScheduler?.notify(0);let e=ao(t);for(;e!==null&&!(e[ce]&8192||(e[ce]|=8192,!vm(e)));)e=ao(e)}function JC(t,e){if((t[ce]&256)===256)throw new Z(911,!1);t[pi]===null&&(t[pi]=[]),t[pi].push(e)}function TN(t,e){if(t[pi]===null)return;let n=t[pi].indexOf(e);n!==-1&&t[pi].splice(n,1)}function ao(t){let e=t[Nt];return Pr(e)?e[Nt]:e}var he={lFrame:cb(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var ZC=!1;function SN(){return he.lFrame.elementDepthCount}function AN(){he.lFrame.elementDepthCount++}function MN(){he.lFrame.elementDepthCount--}function XC(){return he.bindingsEnabled}function xN(){return he.skipHydrationRootTNode!==null}function PN(t){return he.skipHydrationRootTNode===t}function RN(){he.skipHydrationRootTNode=null}function be(){return he.lFrame.lView}function Et(){return he.lFrame.tView}function Q(t){return he.lFrame.contextLView=t,t[Sn]}function Y(t){return he.lFrame.contextLView=null,t}function Ot(){let t=eb();for(;t!==null&&t.type===64;)t=t.parent;return t}function eb(){return he.lFrame.currentTNode}function NN(){let t=he.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function lc(t,e){let n=he.lFrame;n.currentTNode=t,n.isParent=e}function tb(){return he.lFrame.isParent}function ON(){he.lFrame.isParent=!1}function kN(){return he.lFrame.contextLView}function nb(){return ZC}function FI(t){ZC=t}function rb(){let t=he.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function FN(){return he.lFrame.bindingIndex}function VN(t){return he.lFrame.bindingIndex=t}function _d(){return he.lFrame.bindingIndex++}function ib(t){let e=he.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function LN(){return he.lFrame.inI18n}function jN(t,e){let n=he.lFrame;n.bindingIndex=n.bindingRootIndex=t,Sg(e)}function UN(){return he.lFrame.currentDirectiveIndex}function Sg(t){he.lFrame.currentDirectiveIndex=t}function BN(t){let e=he.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function ob(){return he.lFrame.currentQueryIndex}function _m(t){he.lFrame.currentQueryIndex=t}function $N(t){let e=t[ge];return e.type===2?e.declTNode:e.type===1?t[xn]:null}function sb(t,e,n){if(n&ve.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&ve.Host);)if(i=$N(o),i===null||(o=o[As],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=he.lFrame=ab();return r.currentTNode=e,r.lView=t,!0}function wm(t){let e=ab(),n=t[ge];he.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function ab(){let t=he.lFrame,e=t===null?null:t.child;return e===null?cb(t):e}function cb(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function ub(){let t=he.lFrame;return he.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var lb=ub;function Em(){let t=ub();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function HN(t){return(he.lFrame.contextLView=DN(t,he.lFrame.contextLView))[Sn]}function mo(){return he.lFrame.selectedIndex}function co(t){he.lFrame.selectedIndex=t}function wd(){let t=he.lFrame;return WC(t.tView,t.selectedIndex)}function yo(){he.lFrame.currentNamespace=qC}function dc(){zN()}function zN(){he.lFrame.currentNamespace=null}function qN(){return he.lFrame.currentNamespace}var db=!0;function Im(){return db}function Cm(t){db=t}function GN(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=$C(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function bm(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function Ll(t,e,n){hb(t,e,3,n)}function jl(t,e,n,r){(t[ce]&3)===n&&hb(t,e,n,r)}function og(t,e){let n=t[ce];(n&3)===e&&(n&=16383,n+=1,t[ce]=n)}function hb(t,e,n,r){let i=r!==void 0?t[hs]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[hs]+=65536),(a<o||o==-1)&&(WN(t,n,e,u),t[hs]=(t[hs]&4294901760)+u+2),u++}function VI(t,e){zn(4,t,e);let n=xe(null);try{e.call(t)}finally{xe(n),zn(5,t,e)}}function WN(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[ce]>>14<t[hs]>>16&&(t[ce]&3)===e&&(t[ce]+=16384,VI(a,o)):VI(a,o)}var gs=-1,uo=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function KN(t){return t instanceof uo}function QN(t){return(t.flags&8)!==0}function YN(t){return(t.flags&16)!==0}var sg={},Ag=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=pd(r);let i=this.injector.get(e,sg,r);return i!==sg||n===sg?i:this.parentInjector.get(e,n,r)}};function fb(t){return t!==gs}function Zl(t){return t&32767}function JN(t){return t>>16}function Xl(t,e){let n=JN(t),r=e;for(;n>0;)r=r[As],n--;return r}var Mg=!0;function ed(t){let e=Mg;return Mg=t,e}var ZN=256,pb=ZN-1,gb=5,XN=0,qn={};function eO(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(ec)&&(r=n[ec]),r==null&&(r=n[ec]=XN++);let i=r&pb,o=1<<i;e.data[t+(i>>gb)]|=o}function td(t,e){let n=mb(t,e);if(n!==-1)return n;let r=e[ge];r.firstCreatePass&&(t.injectorIndex=e.length,ag(r.data,t),ag(e,null),ag(r.blueprint,null));let i=Dm(t,e),o=t.injectorIndex;if(fb(i)){let s=Zl(i),a=Xl(i,e),u=a[ge].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function ag(t,e){t.push(0,0,0,0,0,0,0,0,e)}function mb(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Dm(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=Eb(i),r===null)return gs;if(n++,i=i[As],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return gs}function xg(t,e,n){eO(t,e,n)}function tO(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(bC(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function yb(t,e,n){if(n&ve.Optional||t!==void 0)return t;dm(e,"NodeInjector")}function vb(t,e,n,r){if(n&ve.Optional&&r===void 0&&(r=null),!(n&(ve.Self|ve.Host))){let i=t[Es],o=Yt(void 0);try{return i?i.get(e,r,n&ve.Optional):vC(e,r,n&ve.Optional)}finally{Yt(o)}}return yb(r,e,n)}function _b(t,e,n,r=ve.Default,i){if(t!==null){if(e[ce]&2048&&!(r&ve.Self)){let s=oO(t,e,n,r,qn);if(s!==qn)return s}let o=wb(t,e,n,r,qn);if(o!==qn)return o}return vb(e,n,r,i)}function wb(t,e,n,r,i){let o=rO(n);if(typeof o=="function"){if(!sb(e,t,r))return r&ve.Host?yb(i,n,r):vb(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&ve.Optional))dm(n);else return s}finally{lb()}}else if(typeof o=="number"){let s=null,a=mb(t,e),u=gs,l=r&ve.Host?e[Kn][xn]:null;for((a===-1||r&ve.SkipSelf)&&(u=a===-1?Dm(t,e):e[a+8],u===gs||!jI(r,!1)?a=-1:(s=e[ge],a=Zl(u),e=Xl(u,e)));a!==-1;){let h=e[ge];if(LI(o,a,h.data)){let p=nO(a,e,n,s,r,l);if(p!==qn)return p}u=e[a+8],u!==gs&&jI(r,e[ge].data[a+8]===l)&&LI(o,a,e)?(s=h,a=Zl(u),e=Xl(u,e)):a=-1}}return i}function nO(t,e,n,r,i,o){let s=e[ge],a=s.data[t+8],u=r==null?yd(a)&&Mg:r!=s&&(a.type&3)!==0,l=i&ve.Host&&o===a,h=Ul(a,s,n,u,l);return h!==null?lo(e,s,h,a):qn}function Ul(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,u=t.directiveStart,l=t.directiveEnd,h=o>>20,p=r?a:a+h,m=i?a+h:l;for(let y=p;y<m;y++){let S=s[y];if(y<u&&n===S||y>=u&&S.type===n)return y}if(i){let y=s[u];if(y&&yi(y)&&y.type===n)return u}return null}function lo(t,e,n,r){let i=t[n],o=e.data;if(KN(i)){let s=i;s.resolving&&x1(M1(o[n]));let a=ed(s.canSeeViewProviders);s.resolving=!0;let u,l=s.injectImpl?Yt(s.injectImpl):null,h=sb(t,r,ve.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&GN(n,o[n],e)}finally{l!==null&&Yt(l),ed(a),s.resolving=!1,lb()}}return i}function rO(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(ec)?t[ec]:void 0;return typeof e=="number"?e>=0?e&pb:iO:e}function LI(t,e,n){let r=1<<t;return!!(n[e+(t>>gb)]&r)}function jI(t,e){return!(t&ve.Self)&&!(t&ve.Host&&e)}var ro=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return _b(this._tNode,this._lView,e,pd(r),n)}};function iO(){return new ro(Ot(),be())}function Xn(t){return cc(()=>{let e=t.prototype.constructor,n=e[Hl]||Pg(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Hl]||Pg(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Pg(t){return hC(t)?()=>{let e=Pg($t(t));return e&&e()}:io(t)}function oO(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[ce]&2048&&!(s[ce]&512);){let a=wb(o,s,n,r|ve.Self,qn);if(a!==qn)return a;let u=o.parent;if(!u){let l=s[LC];if(l){let h=l.get(n,qn,r);if(h!==qn)return h}u=Eb(s),s=s[As]}o=u}return i}function Eb(t){let e=t[ge],n=e.type;return n===2?e.declTNode:n===1?t[xn]:null}function Tm(t){return tO(Ot(),t)}function UI(t,e=null,n=null,r){let i=Ib(t,e,n,r);return i.resolveInjectorInitializers(),i}function Ib(t,e=null,n=null,r,i=new Set){let o=[n||pn,sN(t)];return r=r||(typeof t=="object"?void 0:Ht(t)),new rc(o,e||mm(),r||null,i)}var no=class no{static create(e,n){if(Array.isArray(e))return UI({name:""},n,e,"");{let r=e.name??"";return UI({name:r},e.parent,e.providers,r)}}};no.THROW_IF_NOT_FOUND=tc,no.NULL=new Gl,no.\u0275prov=z({token:no,providedIn:"any",factory:()=>G(EC)}),no.__NG_ELEMENT_ID__=-1;var yt=no;var sO=new H("");sO.__NG_ELEMENT_ID__=t=>{let e=Ot();if(e===null)throw new Z(204,!1);if(e.type&2)return e.value;if(t&ve.Optional)return null;throw new Z(204,!1)};var aO="ngOriginalError";function cg(t){return t[aO]}var Yn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&cg(e);for(;n&&cg(n);)n=cg(n);return n||null}},Cb=new H("",{providedIn:"root",factory:()=>F(Yn).handleError.bind(void 0)}),Sm=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=cO,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),Rg=class extends Sm{constructor(e){super(),this._lView=e}onDestroy(e){return JC(this._lView,e),()=>TN(this._lView,e)}};function cO(){return new Rg(be())}function uO(){return Ms(Ot(),be())}function Ms(t,e){return new zt(mn(t,e))}var zt=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=uO;let t=e;return t})();function lO(t){return t instanceof zt?t.nativeElement:t}var Nr=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new mt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275prov=z({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();var Ng=class extends wt{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,VC()&&(this.destroyRef=F(Sm,{optional:!0})??void 0,this.pendingTasks=F(Nr,{optional:!0})??void 0)}emit(e){let n=xe(null);try{super.next(e)}finally{xe(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Ye&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},Je=Ng;function dO(){return this._results[Symbol.iterator]()}var Og=class t{get changes(){return this._changes??=new Je}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=dO)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=B1(e);(this._changesDetected=!U1(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function bb(t){return(t.flags&128)===128}var Db=new Map,hO=0;function fO(){return hO++}function pO(t){Db.set(t[md],t)}function gO(t){Db.delete(t[md])}var BI="__ngContext__";function ho(t,e){gi(e)?(t[BI]=e[md],pO(e)):t[BI]=e}function Tb(t){return Ab(t[ic])}function Sb(t){return Ab(t[Tn])}function Ab(t){for(;t!==null&&!Pr(t);)t=t[Tn];return t}var kg;function Mb(t){kg=t}function mO(){if(kg!==void 0)return kg;if(typeof document<"u")return document;throw new Z(210,!1)}var Am=new H("",{providedIn:"root",factory:()=>yO}),yO="ng",Mm=new H(""),Tt=new H("",{providedIn:"platform",factory:()=>"unknown"});var xm=new H("",{providedIn:"root",factory:()=>mO().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var vO="h",_O="b";var wO=()=>null;function Pm(t,e,n=!1){return wO(t,e,n)}var xb=!1,EO=new H("",{providedIn:"root",factory:()=>xb});var Ol;function IO(){if(Ol===void 0&&(Ol=null,Tr.trustedTypes))try{Ol=Tr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Ol}function $I(t){return IO()?.createScriptURL(t)||t}var nd=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${lC})`}};function hc(t){return t instanceof nd?t.changingThisBreaksApplicationSecurity:t}function Rm(t,e){let n=CO(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${lC})`)}return n===e}function CO(t){return t instanceof nd&&t.getTypeName()||null}var bO=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Pb(t){return t=String(t),t.match(bO)?t:"unsafe:"+t}var Ed=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Ed||{});function Pn(t){let e=Nb();return e?e.sanitize(Ed.URL,t)||"":Rm(t,"URL")?hc(t):Pb(ms(t))}function DO(t){let e=Nb();if(e)return $I(e.sanitize(Ed.RESOURCE_URL,t)||"");if(Rm(t,"ResourceURL"))return $I(hc(t));throw new Z(904,!1)}function TO(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?DO:Pn}function Rb(t,e,n){return TO(e,n)(t)}function Nb(){let t=be();return t&&t[Wn].sanitizer}function Ob(t){return t instanceof Function?t():t}function SO(t){return(t??F(yt)).get(Tt)==="browser"}var Ar=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Ar||{}),AO;function Nm(t,e){return AO(t,e)}function fs(t,e,n,r,i){if(r!=null){let o,s=!1;Pr(r)?o=r:gi(r)&&(s=!0,r=r[xr]);let a=Qn(r);t===0&&n!==null?i==null?jb(e,n,a):rd(e,n,a,i||null,!0):t===1&&n!==null?rd(e,n,a,i||null,!0):t===2?zO(e,a,s):t===3&&e.destroyNode(a),o!=null&&GO(e,t,o,n,i)}}function MO(t,e){return t.createText(e)}function xO(t,e,n){t.setValue(e,n)}function kb(t,e,n){return t.createElement(e,n)}function PO(t,e){Fb(t,e),e[xr]=null,e[xn]=null}function RO(t,e,n,r,i,o){r[xr]=i,r[xn]=e,Id(t,r,n,1,i,o)}function Fb(t,e){e[Wn].changeDetectionScheduler?.notify(8),Id(t,e,e[at],2,null,null)}function NO(t){let e=t[ic];if(!e)return ug(t[ge],t);for(;e;){let n=null;if(gi(e))n=e[ic];else{let r=e[tn];r&&(n=r)}if(!n){for(;e&&!e[Tn]&&e!==t;)gi(e)&&ug(e[ge],e),e=e[Nt];e===null&&(e=t),gi(e)&&ug(e[ge],e),n=e&&e[Tn]}e=n}}function OO(t,e,n,r){let i=tn+r,o=n.length;r>0&&(n[i-1][Tn]=e),r<o-tn?(e[Tn]=n[i],wC(n,tn+r,e)):(n.push(e),e[Tn]=null),e[Nt]=n;let s=e[oo];s!==null&&n!==s&&Vb(s,e);let a=e[Sr];a!==null&&a.insertView(t),Tg(e),e[ce]|=128}function Vb(t,e){let n=t[Is],r=e[Nt];if(gi(r))t[ce]|=Yl.HasTransplantedViews;else{let i=r[Nt][Kn];e[Kn]!==i&&(t[ce]|=Yl.HasTransplantedViews)}n===null?t[Is]=[e]:n.push(e)}function Om(t,e){let n=t[Is],r=n.indexOf(e);n.splice(r,1)}function Fg(t,e){if(t.length<=tn)return;let n=tn+e,r=t[n];if(r){let i=r[oo];i!==null&&i!==t&&Om(i,r),e>0&&(t[n-1][Tn]=r[Tn]);let o=ql(t,tn+e);PO(r[ge],r);let s=o[Sr];s!==null&&s.detachView(o[ge]),r[Nt]=null,r[Tn]=null,r[ce]&=-129}return r}function Lb(t,e){if(!(e[ce]&256)){let n=e[at];n.destroyNode&&Id(t,e,n,3,null,null),NO(e)}}function ug(t,e){if(e[ce]&256)return;let n=xe(null);try{e[ce]&=-129,e[ce]|=256,e[gn]&&Op(e[gn]),FO(t,e),kO(t,e),e[ge].type===1&&e[at].destroy();let r=e[oo];if(r!==null&&Pr(e[Nt])){r!==e[Nt]&&Om(r,e);let i=e[Sr];i!==null&&i.detachView(t)}gO(e)}finally{xe(n)}}function kO(t,e){let n=t.cleanup,r=e[Kl];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[Kl]=null);let i=e[pi];if(i!==null){e[pi]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function FO(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof uo)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];zn(4,a,u);try{u.call(a)}finally{zn(5,a,u)}}else{zn(4,i,o);try{o.call(i)}finally{zn(5,i,o)}}}}}function VO(t,e,n){return LO(t,e.parent,n)}function LO(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[xr];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===Gn.None||o===Gn.Emulated)return null}return mn(r,n)}}function rd(t,e,n,r,i){t.insertBefore(e,n,r,i)}function jb(t,e,n){t.appendChild(e,n)}function HI(t,e,n,r,i){r!==null?rd(t,e,n,r,i):jb(t,e,n)}function jO(t,e,n,r){t.removeChild(e,n,r)}function km(t,e){return t.parentNode(e)}function UO(t,e){return t.nextSibling(e)}function BO(t,e,n){return HO(t,e,n)}function $O(t,e,n){return t.type&40?mn(t,n):null}var HO=$O,zI;function Fm(t,e,n,r){let i=VO(t,r,e),o=e[at],s=r.parent||e[xn],a=BO(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)HI(o,i,n[u],a,!1);else HI(o,i,n,a,!1);zI!==void 0&&zI(o,r,e,n,i)}function Bl(t,e){if(e!==null){let n=e.type;if(n&3)return mn(e,t);if(n&4)return Vg(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Bl(t,r);{let i=t[e.index];return Pr(i)?Vg(-1,i):Qn(i)}}else{if(n&32)return Nm(e,t)()||Qn(t[e.index]);{let r=Ub(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=ao(t[Kn]);return Bl(i,r)}else return Bl(t,e.next)}}}return null}function Ub(t,e){if(e!==null){let r=t[Kn][xn],i=e.projection;return r.projection[i]}return null}function Vg(t,e){let n=tn+t+1;if(n<e.length){let r=e[n],i=r[ge].firstChild;if(i!==null)return Bl(r,i)}return e[so]}function zO(t,e,n){let r=km(t,e);r&&jO(t,r,e,n)}function Vm(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],u=n.type;if(s&&e===0&&(a&&ho(Qn(a),r),n.flags|=2),(n.flags&32)!==32)if(u&8)Vm(t,e,n.child,r,i,o,!1),fs(e,t,i,a,o);else if(u&32){let l=Nm(n,r),h;for(;h=l();)fs(e,t,i,h,o);fs(e,t,i,a,o)}else u&16?qO(t,e,r,n,i,o):fs(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Id(t,e,n,r,i,o){Vm(n,r,t.firstChild,e,i,o,!1)}function qO(t,e,n,r,i,o){let s=n[Kn],u=s[xn].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];fs(e,t,i,h,o)}else{let l=u,h=s[Nt];bb(r)&&(l.flags|=128),Vm(t,e,l,h,i,o,!0)}}function GO(t,e,n,r,i){let o=n[so],s=Qn(n);o!==s&&fs(e,t,r,o,i);for(let a=tn;a<n.length;a++){let u=n[a];Id(u[ge],u,t,e,r,o)}}function WO(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Ar.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Ar.Important),t.setStyle(n,r,i,o))}}function KO(t,e,n){t.setAttribute(e,"style",n)}function Bb(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function $b(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&wg(t,e,r),i!==null&&Bb(t,e,i),o!==null&&KO(t,e,o)}var er={};function O(t=1){Hb(Et(),be(),mo()+t,!1)}function Hb(t,e,n,r){if(!r)if((e[ce]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Ll(e,o,n)}else{let o=t.preOrderHooks;o!==null&&jl(e,o,0,n)}co(n)}function $(t,e=ve.Default){let n=be();if(n===null)return G(t,e);let r=Ot();return _b(r,n,$t(t),e)}function zb(){let t="invalid";throw new Error(t)}function qb(t,e,n,r,i,o){let s=xe(null);try{let a=null;i&_s.SignalBased&&(a=e[r][xp]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&_s.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):BC(e,a,r,o)}finally{xe(s)}}function QO(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)co(~i);else{let o=i,s=n[++r],a=n[++r];jN(s,o);let u=e[o];a(2,u)}}}finally{co(-1)}}function Cd(t,e,n,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[xr]=i,p[ce]=r|4|128|8|64,(l!==null||t&&t[ce]&2048)&&(p[ce]|=2048),QC(p),p[Nt]=p[As]=t,p[Sn]=n,p[Wn]=s||t&&t[Wn],p[at]=a||t&&t[at],p[Es]=u||t&&t[Es]||null,p[xn]=o,p[md]=fO(),p[Wl]=h,p[LC]=l,p[Kn]=e.type==2?t[Kn]:p,p}function bd(t,e,n,r,i){let o=t.data[e];if(o===null)o=YO(t,e,n,r,i),LN()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=NN();o.injectorIndex=s===null?-1:s.injectorIndex}return lc(o,!0),o}function YO(t,e,n,r,i){let o=eb(),s=tb(),a=s?o:o&&o.parent,u=t.data[e]=nk(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),o!==null&&(s?o.child==null&&u.parent!==null&&(o.child=u):o.next===null&&(o.next=u,u.prev=o)),u}function Gb(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Wb(t,e,n,r,i){let o=mo(),s=r&2;try{co(-1),s&&e.length>An&&Hb(t,e,An,!1),zn(s?2:0,i),n(r,i)}finally{co(o),zn(s?3:1,i)}}function Kb(t,e,n){if(UC(e)){let r=xe(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let u=n[s];a.contentQueries(1,u,s)}}}finally{xe(r)}}}function Qb(t,e,n){XC()&&(ck(t,e,n,mn(n,e)),(n.flags&64)===64&&eD(t,e,n))}function Yb(t,e,n=mn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function Jb(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Lm(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Lm(t,e,n,r,i,o,s,a,u,l,h){let p=An+r,m=p+i,y=JO(p,m),S=typeof l=="function"?l():l;return y[ge]={type:t,blueprint:y,template:n,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:S,incompleteFirstPass:!1,ssrId:h}}function JO(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:er);return n}function ZO(t,e,n,r){let o=r.get(EO,xb)||n===Gn.ShadowDom,s=t.selectRootElement(e,o);return XO(s),s}function XO(t){ek(t)}var ek=()=>null;function tk(t,e,n,r){let i=rD(e);i.push(n),t.firstCreatePass&&iD(t).push(r,i.length-1)}function nk(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return xN()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function qI(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,u=_s.None;Array.isArray(s)?(a=s[0],u=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}t===0?GI(r,n,l,a,u):GI(r,n,l,a)}return r}function GI(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function rk(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],u=null,l=null;for(let h=r;h<i;h++){let p=o[h],m=n?n.get(p):null,y=m?m.inputs:null,S=m?m.outputs:null;u=qI(0,p.inputs,h,u,y),l=qI(1,p.outputs,h,l,S);let N=u!==null&&s!==null&&!pm(e)?_k(u,h,s):null;a.push(N)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}function ik(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function jm(t,e,n,r,i,o,s,a){let u=mn(e,n),l=e.inputs,h;!a&&l!=null&&(h=l[r])?(Um(t,n,h,r,i),yd(e)&&ok(n,e.index)):e.type&3?(r=ik(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)):e.type&12}function ok(t,e){let n=wi(e,t);n[ce]&16||(n[ce]|=64)}function Zb(t,e,n,r){if(XC()){let i=r===null?null:{"":-1},o=lk(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&Xb(t,e,n,s,i,a),i&&dk(n,r,i)}n.mergedAttrs=nc(n.mergedAttrs,n.attrs)}function Xb(t,e,n,r,i,o){for(let l=0;l<r.length;l++)xg(td(n,e),t,r[l].type);fk(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let h=r[l];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,u=Gb(t,e,r.length,null);for(let l=0;l<r.length;l++){let h=r[l];n.mergedAttrs=nc(n.mergedAttrs,h.hostAttrs),pk(t,n,e,u,h),hk(u,h,i),h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let p=h.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}rk(t,n,o)}function sk(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;ak(s)!=a&&s.push(a),s.push(n,r,o)}}function ak(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function ck(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;yd(n)&&gk(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||td(n,e),ho(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let u=t.data[a],l=lo(e,t,a,n);if(ho(l,e),s!==null&&vk(e,a-i,l,u,n,s),yi(u)){let h=wi(n.index,e);h[Sn]=lo(e,t,a,n)}}}function eD(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=UN();try{co(o);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];Sg(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&uk(u,l)}}finally{co(-1),Sg(s)}}function uk(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function lk(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(J1(e,s.selectors,!1))if(r||(r=[]),yi(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let u=a.length;Lg(t,e,u)}else r.unshift(s),Lg(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Lg(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function dk(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new Z(-301,!1);r.push(e[i],o)}}}function hk(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;yi(e)&&(n[""]=t)}}function fk(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function pk(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=io(i.type,!0)),s=new uo(o,yi(i),$);t.blueprint[r]=s,n[r]=s,sk(t,e,r,Gb(t,n,i.hostVars,er),i)}function gk(t,e,n){let r=mn(e,t),i=Jb(n),o=t[Wn].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=Dd(t,Cd(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function mk(t,e,n,r,i,o){let s=mn(t,e);yk(e[at],s,o,t.value,n,r,i)}function yk(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?ms(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function vk(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let u=s[a++],l=s[a++],h=s[a++],p=s[a++];qb(r,n,u,l,h,p)}}function _k(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function tD(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function nD(t,e){let n=t.contentQueries;if(n!==null){let r=xe(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];_m(o),a.contentQueries(2,e[s],s)}}}finally{xe(r)}}}function Dd(t,e){return t[ic]?t[OI][Tn]=e:t[ic]=e,t[OI]=e,e}function jg(t,e,n){_m(0);let r=xe(null);try{e(t,n)}finally{xe(r)}}function rD(t){return t[Kl]??=[]}function iD(t){return t.cleanup??=[]}function oD(t,e){let n=t[Es],r=n?n.get(Yn,null):null;r&&r.handleError(e)}function Um(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],u=n[o++],l=e[s],h=t.data[s];qb(h,l,r,a,u,i)}}function sD(t,e,n){let r=GC(e,t);xO(t[at],r,n)}function wk(t,e){let n=wi(e,t),r=n[ge];Ek(r,n);let i=n[xr];i!==null&&n[Wl]===null&&(n[Wl]=Pm(i,n[Es])),Bm(r,n,n[Sn])}function Ek(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Bm(t,e,n){wm(e);try{let r=t.viewQuery;r!==null&&jg(1,r,n);let i=t.template;i!==null&&Wb(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Sr]?.finishViewCreation(t),t.staticContentQueries&&nD(t,e),t.staticViewQueries&&jg(2,t.viewQuery,n);let o=t.components;o!==null&&Ik(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[ce]&=-5,Em()}}function Ik(t,e){for(let n=0;n<e.length;n++)wk(t,e[n])}function Ck(t,e,n,r){let i=xe(null);try{let o=e.tView,a=t[ce]&4096?4096:16,u=Cd(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[oo]=l;let h=t[Sr];return h!==null&&(u[Sr]=h.createEmbeddedView(o)),Bm(o,u,n),u}finally{xe(i)}}function WI(t,e){return!e||e.firstChild===null||bb(t)}function bk(t,e,n,r=!0){let i=e[ge];if(OO(i,e,t,n),r){let s=Vg(n,t),a=e[at],u=km(a,t[so]);u!==null&&RO(i,t[xn],a,e,u,s)}let o=e[Wl];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function id(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(Qn(o)),Pr(o)&&Dk(o,r);let s=n.type;if(s&8)id(t,e,n.child,r);else if(s&32){let a=Nm(n,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=Ub(e,n);if(Array.isArray(a))r.push(...a);else{let u=ao(e[Kn]);id(u[ge],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function Dk(t,e){for(let n=tn;n<t.length;n++){let r=t[n],i=r[ge].firstChild;i!==null&&id(r[ge],r,i,e)}t[so]!==t[xr]&&e.push(t[so])}var aD=[];function Tk(t){return t[gn]??Sk(t)}function Sk(t){let e=aD.pop()??Object.create(Mk);return e.lView=t,e}function Ak(t){t.lView[gn]!==t&&(t.lView=null,aD.push(t))}var Mk=ye(j({},Pp),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{vd(t.lView)},consumerOnSignalRead(){this.lView[gn]=this}});function xk(t){let e=t[gn]??Object.create(Pk);return e.lView=t,e}var Pk=ye(j({},Pp),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=ao(t.lView);for(;e&&!cD(e[ge]);)e=ao(e);e&&YC(e)},consumerOnSignalRead(){this.lView[gn]=this}});function cD(t){return t.type!==2}var Rk=100;function uD(t,e=!0,n=0){let r=t[Wn],i=r.rendererFactory,o=!1;o||i.begin?.();try{Nk(t,n)}catch(s){throw e&&oD(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function Nk(t,e){let n=nb();try{FI(!0),Ug(t,e);let r=0;for(;oc(t);){if(r===Rk)throw new Z(103,!1);r++,Ug(t,1)}}finally{FI(n)}}function Ok(t,e,n,r){let i=e[ce];if((i&256)===256)return;let o=!1,s=!1;!o&&e[Wn].inlineEffectRunner?.flush(),wm(e);let a=!0,u=null,l=null;o||(cD(t)?(l=Tk(e),u=Rp(l)):YE()===null?(a=!1,l=xk(e),u=Rp(l)):e[gn]&&(Op(e[gn]),e[gn]=null));try{QC(e),VN(t.bindingStartIndex),n!==null&&Wb(t,e,n,2,r);let h=(i&3)===3;if(!o)if(h){let y=t.preOrderCheckHooks;y!==null&&Ll(e,y,null)}else{let y=t.preOrderHooks;y!==null&&jl(e,y,0,null),og(e,0)}if(s||kk(e),lD(e,0),t.contentQueries!==null&&nD(t,e),!o)if(h){let y=t.contentCheckHooks;y!==null&&Ll(e,y)}else{let y=t.contentHooks;y!==null&&jl(e,y,1),og(e,1)}QO(t,e);let p=t.components;p!==null&&hD(e,p,0);let m=t.viewQuery;if(m!==null&&jg(2,m,r),!o)if(h){let y=t.viewCheckHooks;y!==null&&Ll(e,y)}else{let y=t.viewHooks;y!==null&&jl(e,y,2),og(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[ig]){for(let y of e[ig])y();e[ig]=null}o||(e[ce]&=-73)}catch(h){throw o||vd(e),h}finally{l!==null&&(JE(l,u),a&&Ak(l)),Em()}}function lD(t,e){for(let n=Tb(t);n!==null;n=Sb(n))for(let r=tn;r<n.length;r++){let i=n[r];dD(i,e)}}function kk(t){for(let e=Tb(t);e!==null;e=Sb(e)){if(!(e[ce]&Yl.HasTransplantedViews))continue;let n=e[Is];for(let r=0;r<n.length;r++){let i=n[r];YC(i)}}}function Fk(t,e,n){let r=wi(e,t);dD(r,n)}function dD(t,e){vm(t)&&Ug(t,e)}function Ug(t,e){let r=t[ge],i=t[ce],o=t[gn],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Np(o)),s||=!1,o&&(o.dirty=!1),t[ce]&=-9217,s)Ok(r,t,r.template,t[Sn]);else if(i&8192){lD(t,1);let a=r.components;a!==null&&hD(t,a,1)}}function hD(t,e,n){for(let r=0;r<e.length;r++)Fk(t,e[r],n)}function $m(t,e){let n=nb()?64:1088;for(t[Wn].changeDetectionScheduler?.notify(e);t;){t[ce]|=n;let r=ao(t);if(bg(t)&&!r)return t;t=r}return null}var fo=class{get rootNodes(){let e=this._lView,n=e[ge];return id(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Sn]}set context(e){this._lView[Sn]=e}get destroyed(){return(this._lView[ce]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Nt];if(Pr(e)){let n=e[Ql],r=n?n.indexOf(this):-1;r>-1&&(Fg(e,r),ql(n,r))}this._attachedToViewContainer=!1}Lb(this._lView[ge],this._lView)}onDestroy(e){JC(this._lView,e)}markForCheck(){$m(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ce]&=-129}reattach(){Tg(this._lView),this._lView[ce]|=128}detectChanges(){this._lView[ce]|=1024,uD(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Z(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=bg(this._lView),n=this._lView[oo];n!==null&&!e&&Om(n,this._lView),Fb(this._lView[ge],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Z(902,!1);this._appRef=e;let n=bg(this._lView),r=this._lView[oo];r!==null&&!n&&Vb(r,this._lView),Tg(this._lView)}},po=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=jk;let t=e;return t})(),Vk=po,Lk=class extends Vk{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=Ck(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new fo(i)}};function jk(){return Hm(Ot(),be())}function Hm(t,e){return t.type&4?new Lk(e,t,Ms(t,e)):null}var O7=new RegExp(`^(\\d+)*(${_O}|${vO})*(.*)`);var Uk=()=>null;function KI(t,e){return Uk(t,e)}var Cs=class{},fD=new H("",{providedIn:"root",factory:()=>!1});var pD=new H(""),Bg=class{},od=class{};function Bk(t){let e=Error(`No component factory found for ${Ht(t)}.`);return e[$k]=t,e}var $k="ngComponent";var $g=class{resolveComponentFactory(e){throw Bk(e)}},Qm=class Qm{};Qm.NULL=new $g;var bs=Qm,Ds=class{},Rn=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>Hk();let t=e;return t})();function Hk(){let t=be(),e=Ot(),n=wi(e.index,t);return(gi(n)?n:t)[at]}var zk=(()=>{let e=class e{};e.\u0275prov=z({token:e,providedIn:"root",factory:()=>null});let t=e;return t})();var QI=new Set;function Td(t){QI.has(t)||(QI.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function gD(t){let e=!0;return setTimeout(()=>{e&&(e=!1,t())}),typeof Tr.requestAnimationFrame=="function"&&Tr.requestAnimationFrame(()=>{e&&(e=!1,t())}),()=>{e=!1}}function YI(t){let e=!0;return queueMicrotask(()=>{e&&t()}),()=>{e=!1}}function JI(...t){}var Ce=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Je(!1),this.onMicrotaskEmpty=new Je(!1),this.onStable=new Je(!1),this.onError=new Je(!1),typeof Zone>"u")throw new Z(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.callbackScheduled=!1,Wk(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new Z(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new Z(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,qk,JI,JI);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},qk={};function zm(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Gk(t){t.isCheckStableRunning||t.callbackScheduled||(t.callbackScheduled=!0,Zone.root.run(()=>{gD(()=>{t.callbackScheduled=!1,Hg(t),t.isCheckStableRunning=!0,zm(t),t.isCheckStableRunning=!1})}),Hg(t))}function Wk(t){let e=()=>{Gk(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(Kk(a))return n.invokeTask(i,o,s,a);try{return ZI(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),XI(t)}},onInvoke:(n,r,i,o,s,a,u)=>{try{return ZI(t),n.invoke(i,o,s,a,u)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!Qk(a)&&e(),XI(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,Hg(t),zm(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function Hg(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function ZI(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function XI(t){t._nesting--,zm(t)}var zg=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Je,this.onMicrotaskEmpty=new Je,this.onStable=new Je,this.onError=new Je}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function Kk(t){return mD(t,"__ignore_ng_zone__")}function Qk(t){return mD(t,"__scheduler_tick__")}function mD(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var fi=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(fi||{}),Yk={destroy(){}};function Sd(t,e){!e&&yN(Sd);let n=e?.injector??F(yt);if(!SO(n))return Yk;Td("NgAfterNextRender");let r=n.get(qm),i=r.handler??=new Gg,o=e?.phase??fi.MixedReadWrite,s=()=>{i.unregister(u),a()},a=n.get(Sm).onDestroy(s),u=rn(n,()=>new qg(o,()=>{s(),t()}));return i.register(u),{destroy:s}}var qg=class{constructor(e,n){this.phase=e,this.callbackFn=n,this.zone=F(Ce),this.errorHandler=F(Yn,{optional:!0}),F(Cs,{optional:!0})?.notify(6)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},Gg=class{constructor(){this.executingCallbacks=!1,this.buckets={[fi.EarlyRead]:new Set,[fi.Write]:new Set,[fi.MixedReadWrite]:new Set,[fi.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let n of e)n.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},qm=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=z({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function Wg(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=bI(i,a);else if(o==2){let u=a,l=e[++s];r=bI(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var sd=class extends bs{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=mi(e);return new Ts(n,this.ngModule)}};function eC(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function Jk(t){let e=t.toLowerCase();return e==="svg"?qC:e==="math"?IN:null}var Ts=class extends od{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=eC(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return eC(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=tN(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=xe(null);try{i=i||this.ngModule;let s=i instanceof Rt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Ag(e,s):e,u=a.get(Ds,null);if(u===null)throw new Z(407,!1);let l=a.get(zk,null),h=a.get(qm,null),p=a.get(Cs,null),m={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:h,changeDetectionScheduler:p},y=u.createRenderer(null,this.componentDef),S=this.componentDef.selectors[0][0]||"div",N=r?ZO(y,r,this.componentDef.encapsulation,a):kb(y,S,Jk(S)),x=512;this.componentDef.signals?x|=4096:this.componentDef.onPush||(x|=16);let V=null;N!==null&&(V=Pm(N,a,!0));let X=Lm(0,null,null,1,0,null,null,null,null,null,null),K=Cd(null,X,null,x,null,null,m,y,a,null,V);wm(K);let ee,Ve;try{let oe=this.componentDef,b,v=null;oe.findHostDirectiveDefs?(b=[],v=new Map,oe.findHostDirectiveDefs(oe,b,v),b.push(oe)):b=[oe];let _=Zk(K,N),D=Xk(_,N,oe,b,K,m,y);Ve=WC(X,An),N&&n4(y,oe,N,r),n!==void 0&&r4(Ve,this.ngContentSelectors,n),ee=t4(D,oe,b,v,K,[i4]),Bm(X,K,null)}finally{Em()}return new Kg(this.componentType,ee,Ms(Ve,K),K,Ve)}finally{xe(o)}}},Kg=class extends Bg{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new fo(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;Um(o[ge],o,i,e,n),this.previousInputValues.set(e,n);let s=wi(this._tNode.index,o);$m(s,1)}}get injector(){return new ro(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function Zk(t,e){let n=t[ge],r=An;return t[r]=e,bd(n,r,2,"#host",null)}function Xk(t,e,n,r,i,o,s){let a=i[ge];e4(r,t,e,s);let u=null;e!==null&&(u=Pm(e,i[Es]));let l=o.rendererFactory.createRenderer(e,n),h=16;n.signals?h=4096:n.onPush&&(h=64);let p=Cd(i,Jb(n),null,h,i[t.index],t,o,l,null,null,u);return a.firstCreatePass&&Lg(a,t,r.length-1),Dd(i,p),i[t.index]=p}function e4(t,e,n,r){for(let i of t)e.mergedAttrs=nc(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Wg(e,e.mergedAttrs,!0),n!==null&&$b(r,n,e))}function t4(t,e,n,r,i,o){let s=Ot(),a=i[ge],u=mn(s,i);Xb(a,i,s,n,null,r);for(let h=0;h<n.length;h++){let p=s.directiveStart+h,m=lo(i,a,p,s);ho(m,i)}eD(a,i,s),u&&ho(u,i);let l=lo(i,a,s.directiveStart+s.componentOffset,s);if(t[Sn]=i[Sn]=l,o!==null)for(let h of o)h(l,e);return Kb(a,s,i),l}function n4(t,e,n,r){if(r)wg(t,n,["ng-version","18.0.5"]);else{let{attrs:i,classes:o}=nN(e.selectors[0]);i&&wg(t,n,i),o&&o.length>0&&Bb(t,n,o.join(" "))}}function r4(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function i4(){let t=Ot();bm(be()[ge],t)}var Ei=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=o4;let t=e;return t})();function o4(){let t=Ot();return vD(t,be())}var s4=Ei,yD=class extends s4{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Ms(this._hostTNode,this._hostLView)}get injector(){return new ro(this._hostTNode,this._hostLView)}get parentInjector(){let e=Dm(this._hostTNode,this._hostLView);if(fb(e)){let n=Xl(e,this._hostLView),r=Zl(e),i=n[ge].data[r+8];return new ro(i,n)}else return new ro(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=tC(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-tn}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=KI(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,WI(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!vN(e),a;if(s)a=n;else{let S=n||{};a=S.index,r=S.injector,i=S.projectableNodes,o=S.environmentInjector||S.ngModuleRef}let u=s?e:new Ts(mi(e)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let N=(s?l:this.parentInjector).get(Rt,null);N&&(o=N)}let h=mi(u.componentType??{}),p=KI(this._lContainer,h?.id??null),m=p?.firstChild??null,y=u.create(l,i,m,o);return this.insertImpl(y.hostView,a,WI(this._hostTNode,p)),y}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(bN(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[Nt],l=new yD(u,u[xn],u[Nt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return bk(s,i,o,r),e.attachToViewContainerRef(),wC(lg(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=tC(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Fg(this._lContainer,n);r&&(ql(lg(this._lContainer),n),Lb(r[ge],r))}detach(e){let n=this._adjustIndex(e,-1),r=Fg(this._lContainer,n);return r&&ql(lg(this._lContainer),n)!=null?new fo(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function tC(t){return t[Ql]}function lg(t){return t[Ql]||(t[Ql]=[])}function vD(t,e){let n,r=e[t.index];return Pr(r)?n=r:(n=tD(r,e,null,t),e[t.index]=n,Dd(e,n)),c4(n,e,t,r),new yD(n,t,e)}function a4(t,e){let n=t[at],r=n.createComment(""),i=mn(e,t),o=km(n,i);return rd(n,o,r,UO(n,i),!1),r}var c4=d4,u4=()=>!1;function l4(t,e,n){return u4(t,e,n)}function d4(t,e,n,r){if(t[so])return;let i;n.type&8?i=Qn(r):i=a4(e,n),t[so]=i}var Qg=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Yg=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)Gm(e,n).matches!==null&&this.queries[n].setDirty()}},ad=class{constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=_4(e):this.predicate=e}},Jg=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Zg=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,n,h4(n,o)),this.matchTNodeWithReadOption(e,n,Ul(n,e,o,!1,!1))}else r===po?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Ul(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===zt||i===Ei||i===po&&n.type&4)this.addMatch(n.index,-2);else{let o=Ul(n,e,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function h4(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function f4(t,e){return t.type&11?Ms(t,e):t.type&4?Hm(t,e):null}function p4(t,e,n,r){return n===-1?f4(e,t):n===-2?g4(t,e,r):lo(t,t[ge],n,e)}function g4(t,e,n){if(n===zt)return Ms(e,t);if(n===po)return Hm(e,t);if(n===Ei)return vD(e,t)}function _D(t,e,n,r){let i=e[Sr].queries[r];if(i.matches===null){let o=t.data,s=n.matches,a=[];for(let u=0;s!==null&&u<s.length;u+=2){let l=s[u];if(l<0)a.push(null);else{let h=o[l];a.push(p4(e,h,s[u+1],n.metadata.read))}}i.matches=a}return i.matches}function Xg(t,e,n,r){let i=t.queries.getByIndex(n),o=i.matches;if(o!==null){let s=_D(t,e,i,n);for(let a=0;a<o.length;a+=2){let u=o[a];if(u>0)r.push(s[a/2]);else{let l=o[a+1],h=e[-u];for(let p=tn;p<h.length;p++){let m=h[p];m[oo]===m[Nt]&&Xg(m[ge],m,l,r)}if(h[Is]!==null){let p=h[Is];for(let m=0;m<p.length;m++){let y=p[m];Xg(y[ge],y,l,r)}}}}}return r}function m4(t,e){return t[Sr].queries[e].queryList}function wD(t,e,n){let r=new Og((n&4)===4);return tk(t,e,r,r.destroy),(e[Sr]??=new Yg).queries.push(new Qg(r))-1}function y4(t,e,n){let r=Et();return r.firstCreatePass&&(ED(r,new ad(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),wD(r,be(),e)}function v4(t,e,n,r){let i=Et();if(i.firstCreatePass){let o=Ot();ED(i,new ad(e,n,r),o.index),w4(i,t),(n&2)===2&&(i.staticContentQueries=!0)}return wD(i,be(),n)}function _4(t){return t.split(",").map(e=>e.trim())}function ED(t,e,n){t.queries===null&&(t.queries=new Jg),t.queries.track(new Zg(e,n))}function w4(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function Gm(t,e){return t.queries.getByIndex(e)}function E4(t,e){let n=t[ge],r=Gm(n,e);return r.crossesNgTemplate?Xg(n,t,e,[]):_D(n,t,r,e)}function I4(t){return typeof t=="function"&&t[xp]!==void 0}function ID(t){return I4(t)&&typeof t.set=="function"}function C4(t){return Object.getPrototypeOf(t.prototype).constructor}function on(t){let e=C4(t.type),n=!0,r=[t];for(;e;){let i;if(yi(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Z(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=kl(t.inputs),s.inputTransforms=kl(t.inputTransforms),s.declaredInputs=kl(t.declaredInputs),s.outputs=kl(t.outputs);let a=i.hostBindings;a&&A4(t,a);let u=i.viewQuery,l=i.contentQueries;if(u&&T4(t,u),l&&S4(t,l),b4(t,i),E1(t.outputs,i.outputs),yi(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===on&&(n=!1)}}e=Object.getPrototypeOf(e)}D4(r)}function b4(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function D4(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=nc(i.hostAttrs,n=nc(n,i.hostAttrs))}}function kl(t){return t===ys?{}:t===pn?[]:t}function T4(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function S4(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function A4(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function Wm(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var vi=class{},sc=class{};var em=class extends vi{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new sd(this);let i=xC(e);this._bootstrapComponents=Ob(i.bootstrap),this._r3Injector=Ib(e,n,[{provide:vi,useValue:this},{provide:bs,useValue:this.componentFactoryResolver},...r],Ht(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},tm=class extends sc{constructor(e){super(),this.moduleType=e}create(e){return new em(this.moduleType,e,[])}};var cd=class extends vi{constructor(e){super(),this.componentFactoryResolver=new sd(this),this.instance=null;let n=new rc([...e.providers,{provide:vi,useValue:this},{provide:bs,useValue:this.componentFactoryResolver}],e.parent||mm(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Ad(t,e,n=null){return new cd({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function CD(t){return x4(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function M4(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function x4(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function bD(t,e,n){return t[e]=n}function _i(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function DD(t,e,n,r){let i=_i(t,e,n);return _i(t,e+1,r)||i}function P4(t){return(t.flags&32)===32}function R4(t,e,n,r,i,o,s,a,u){let l=e.consts,h=bd(e,t,4,s||null,a||null);Zb(e,n,h,Jl(l,u)),bm(e,h);let p=h.tView=Lm(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function N4(t,e,n,r,i,o,s,a,u,l){let h=n+An,p=e.firstCreatePass?R4(h,e,t,r,i,o,s,a,u):e.data[h];lc(p,!1);let m=O4(e,t,p,n);Im()&&Fm(e,t,m,p),ho(m,t);let y=tD(m,t,m,p);return t[h]=y,Dd(t,y),l4(y,p,t),ym(p)&&Qb(e,t,p),u!=null&&Yb(t,p,l),p}function Oe(t,e,n,r,i,o,s,a){let u=be(),l=Et(),h=Jl(l.consts,o);return N4(u,l,t,e,n,r,i,h,s,a),Oe}var O4=k4;function k4(t,e,n,r){return Cm(!0),e[at].createComment("")}function fc(t,e,n,r){let i=be(),o=_d();if(_i(i,o,e)){let s=Et(),a=wd();mk(a,i,t,e,n,r)}return fc}function TD(t,e,n,r){return _i(t,_d(),n)?e+ms(n)+r:er}function F4(t,e,n,r,i,o){let s=FN(),a=DD(t,s,n,i);return ib(2),a?e+ms(n)+r+ms(i)+o:er}function Fl(t,e){return t<<17|e<<2}function go(t){return t>>17&32767}function V4(t){return(t&2)==2}function L4(t,e){return t&131071|e<<17}function nm(t){return t|2}function Ss(t){return(t&131068)>>2}function dg(t,e){return t&-131069|e<<2}function j4(t){return(t&1)===1}function rm(t){return t|1}function U4(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=go(s),u=Ss(s);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||uc(p,h)>0)&&(l=!0)}else h=n;if(i)if(u!==0){let m=go(t[a+1]);t[r+1]=Fl(m,a),m!==0&&(t[m+1]=dg(t[m+1],r)),t[a+1]=L4(t[a+1],r)}else t[r+1]=Fl(a,0),a!==0&&(t[a+1]=dg(t[a+1],r)),a=r;else t[r+1]=Fl(u,0),a===0?a=r:t[u+1]=dg(t[u+1],r),u=r;l&&(t[r+1]=nm(t[r+1])),nC(t,h,r,!0),nC(t,h,r,!1),B4(e,h,t,r,o),s=Fl(a,u),o?e.classBindings=s:e.styleBindings=s}function B4(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&uc(o,e)>=0&&(n[r+1]=rm(n[r+1]))}function nC(t,e,n,r){let i=t[n+1],o=e===null,s=r?go(i):Ss(i),a=!1;for(;s!==0&&(a===!1||o);){let u=t[s],l=t[s+1];$4(u,e)&&(a=!0,t[s+1]=r?rm(l):nm(l)),s=r?go(l):Ss(l)}a&&(t[n+1]=r?nm(i):rm(i))}function $4(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?uc(t,e)>=0:!1}function ne(t,e,n){let r=be(),i=_d();if(_i(r,i,e)){let o=Et(),s=wd();jm(o,s,r,t,e,r[at],n,!1)}return ne}function rC(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";Um(t,n,o[s],s,r)}function sn(t,e){return H4(t,e,null,!0),sn}function H4(t,e,n,r){let i=be(),o=Et(),s=ib(2);if(o.firstUpdatePass&&q4(o,t,s,r),e!==er&&_i(i,s,e)){let a=o.data[mo()];Y4(o,a,i,i[at],t,i[s+1]=J4(e,n),r,s)}}function z4(t,e){return e>=t.expandoStartIndex}function q4(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[mo()],s=z4(t,n);Z4(o,r)&&e===null&&!s&&(e=!1),e=G4(i,o,e,r),U4(i,o,e,n,s,r)}}function G4(t,e,n,r){let i=BN(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=hg(null,t,e,n,r),n=ac(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=hg(i,t,e,n,r),o===null){let u=W4(t,e,r);u!==void 0&&Array.isArray(u)&&(u=hg(null,t,e,u[1],r),u=ac(u,e.attrs,r),K4(t,e,r,u))}else o=Q4(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function W4(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Ss(r)!==0)return t[go(r)]}function K4(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[go(i)]=r}function Q4(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=ac(r,s,n)}return ac(r,e.attrs,n)}function hg(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=ac(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function ac(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),H1(t,s,n?!0:e[++o]))}return t===void 0?null:t}function Y4(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],h=j4(l)?iC(u,e,n,i,Ss(l),s):void 0;if(!ud(h)){ud(o)||V4(l)&&(o=iC(u,null,n,i,a,s));let p=GC(mo(),n);WO(r,s,p,i,o)}}function iC(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,m=n[i+1];m===er&&(m=p?pn:void 0);let y=p?ng(m,r):h===r?m:void 0;if(l&&!ud(y)&&(y=ng(u,r)),ud(y)&&(a=y,s))return a;let S=t[i+1];i=s?go(S):Ss(S)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=ng(u,r))}return a}function ud(t){return t!==void 0}function J4(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Ht(hc(t)))),t}function Z4(t,e){return(t.flags&(e?8:16))!==0}function X4(t,e,n,r,i,o){let s=e.consts,a=Jl(s,i),u=bd(e,t,2,r,a);return Zb(e,n,u,Jl(s,o)),u.attrs!==null&&Wg(u,u.attrs,!1),u.mergedAttrs!==null&&Wg(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function I(t,e,n,r){let i=be(),o=Et(),s=An+t,a=i[at],u=o.firstCreatePass?X4(s,o,i,e,n,r):o.data[s],l=eF(o,i,u,a,e,t);i[s]=l;let h=ym(u);return lc(u,!0),$b(a,l,u),!P4(u)&&Im()&&Fm(o,i,l,u),SN()===0&&ho(l,i),AN(),h&&(Qb(o,i,u),Kb(o,u,i)),r!==null&&Yb(i,u),I}function C(){let t=Ot();tb()?ON():(t=t.parent,lc(t,!1));let e=t;PN(e)&&RN(),MN();let n=Et();return n.firstCreatePass&&(bm(n,t),UC(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&QN(e)&&rC(n,e,be(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&YN(e)&&rC(n,e,be(),e.stylesWithoutHost,!1),C}function se(t,e,n,r){return I(t,e,n,r),C(),se}var eF=(t,e,n,r,i,o)=>(Cm(!0),kb(r,i,qN()));function ct(){return be()}var to=void 0;function tF(t){let e=t,n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&r===0?1:5}var nF=["en",[["a","p"],["AM","PM"],to],[["AM","PM"],to,to],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],to,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],to,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",to,"{1} 'at' {0}",to],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",tF],fg={};function yn(t){let e=rF(t),n=oC(e);if(n)return n;let r=e.split("-")[0];if(n=oC(r),n)return n;if(r==="en")return nF;throw new Z(701,!1)}function oC(t){return t in fg||(fg[t]=Tr.ng&&Tr.ng.common&&Tr.ng.common.locales&&Tr.ng.common.locales[t]),fg[t]}var tt=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(tt||{});function rF(t){return t.toLowerCase().replace(/_/g,"-")}var ld="en-US";var iF=ld;function oF(t){typeof t=="string"&&(iF=t.toLowerCase().replace(/_/g,"-"))}var sF=(t,e,n)=>{};function B(t,e,n,r){let i=be(),o=Et(),s=Ot();return SD(o,i,i[at],s,t,e,r),B}function aF(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[Kl],u=i[o+2];return a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function SD(t,e,n,r,i,o,s){let a=ym(r),l=t.firstCreatePass&&iD(t),h=e[Sn],p=rD(e),m=!0;if(r.type&3||s){let N=mn(r,e),x=s?s(N):N,V=p.length,X=s?ee=>s(Qn(ee[r.index])):r.index,K=null;if(!s&&a&&(K=aF(t,e,i,r.index)),K!==null){let ee=K.__ngLastListenerFn__||K;ee.__ngNextListenerFn__=o,K.__ngLastListenerFn__=o,m=!1}else{o=aC(r,e,h,o),sF(N,i,o);let ee=n.listen(x,i,o);p.push(o,ee),l&&l.push(i,X,V,V+1)}}else o=aC(r,e,h,o);let y=r.outputs,S;if(m&&y!==null&&(S=y[i])){let N=S.length;if(N)for(let x=0;x<N;x+=2){let V=S[x],X=S[x+1],Ve=e[V][X].subscribe(o),oe=p.length;p.push(o,Ve),l&&l.push(i,r.index,oe,-(oe+1))}}}function sC(t,e,n,r){let i=xe(null);try{return zn(6,e,n),n(r)!==!1}catch(o){return oD(t,o),!1}finally{zn(7,e,n),xe(i)}}function aC(t,e,n,r){return function i(o){if(o===Function)return r;let s=t.componentOffset>-1?wi(t.index,e):e;$m(s,5);let a=sC(e,n,r,o),u=i.__ngNextListenerFn__;for(;u;)a=sC(e,n,u,o)&&a,u=u.__ngNextListenerFn__;return a}}function J(t=1){return HN(t)}function Or(t,e,n){return AD(t,"",e,"",n),Or}function AD(t,e,n,r,i){let o=be(),s=TD(o,e,n,r);if(s!==er){let a=Et(),u=wd();jm(a,u,o,t,s,o[at],i,!1)}return AD}function MD(t,e,n,r){v4(t,e,n,r)}function xD(t,e,n){y4(t,e,n)}function Md(t){let e=be(),n=Et(),r=ob();_m(r+1);let i=Gm(n,r);if(t.dirty&&CN(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let o=E4(e,r);t.reset(o,lO),t.notifyOnChanges()}return!0}return!1}function xd(){return m4(be(),ob())}function cF(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function pc(t){let e=kN();return KC(e,An+t)}function P(t,e=""){let n=be(),r=Et(),i=t+An,o=r.firstCreatePass?bd(r,i,1,e,null):r.data[i],s=uF(r,n,o,e,t);n[i]=s,Im()&&Fm(r,n,s,o),lc(o,!1)}var uF=(t,e,n,r,i)=>(Cm(!0),MO(e[at],r));function Le(t){return Nn("",t,""),Le}function Nn(t,e,n){let r=be(),i=TD(r,t,e,n);return i!==er&&sD(r,mo(),i),Nn}function tr(t,e,n,r,i){let o=be(),s=F4(o,t,e,n,r,i);return s!==er&&sD(o,mo(),s),tr}function Se(t,e,n){ID(e)&&(e=e());let r=be(),i=_d();if(_i(r,i,e)){let o=Et(),s=wd();jm(o,s,r,t,e,r[at],n,!1)}return Se}function Pe(t,e){let n=ID(t);return n&&t.set(e),n}function Ae(t,e){let n=be(),r=Et(),i=Ot();return SD(r,n,n[at],i,t,e),Ae}function lF(t,e,n){let r=Et();if(r.firstCreatePass){let i=yi(t);im(n,r.data,r.blueprint,i,!0),im(e,r.data,r.blueprint,i,!1)}}function im(t,e,n,r,i){if(t=$t(t),Array.isArray(t))for(let o=0;o<t.length;o++)im(t[o],e,n,r,i);else{let o=Et(),s=be(),a=Ot(),u=ws(t)?t:$t(t.provide),l=FC(t),h=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if(ws(t)||!t.multi){let y=new uo(l,i,$),S=gg(u,e,i?h:h+m,p);S===-1?(xg(td(a,s),o,u),pg(o,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(y),s.push(y)):(n[S]=y,s[S]=y)}else{let y=gg(u,e,h+m,p),S=gg(u,e,h,h+m),N=y>=0&&n[y],x=S>=0&&n[S];if(i&&!x||!i&&!N){xg(td(a,s),o,u);let V=fF(i?hF:dF,n.length,i,r,l);!i&&x&&(n[S].providerFactory=V),pg(o,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(V),s.push(V)}else{let V=PD(n[i?S:y],l,!i&&r);pg(o,t,y>-1?y:S,V)}!i&&r&&x&&n[S].componentProviders++}}}function pg(t,e,n,r){let i=ws(e),o=lN(e);if(i||o){let u=(o?$t(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[r,u]):l[h+1].push(r,u)}else l.push(n,u)}}}function PD(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function gg(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function dF(t,e,n,r){return om(this.multi,[])}function hF(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=lo(n,n[ge],this.providerFactory.index,r);o=a.slice(0,s),om(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],om(i,o);return o}function om(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function fF(t,e,n,r,i){let o=new uo(t,n,$);return o.multi=[],o.index=e,o.componentProviders=0,PD(o,i,r&&!n),o}function kr(t,e=[]){return n=>{n.providersResolver=(r,i)=>lF(r,i?i(t):t,e)}}var pF=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=NC(!1,r.type),o=i.length>0?Ad([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=z({token:e,providedIn:"environment",factory:()=>new e(G(Rt))});let t=e;return t})();function Xe(t){Td("NgStandalone"),t.getStandaloneInjector=e=>e.get(pF).getOrCreateStandaloneInjector(t)}function xs(t,e,n,r){return gF(be(),rb(),t,e,n,r)}function RD(t,e){let n=t[e];return n===er?void 0:n}function gF(t,e,n,r,i,o){let s=e+n;return _i(t,s,i)?bD(t,s+1,o?r.call(o,i):r(i)):RD(t,s+1)}function mF(t,e,n,r,i,o,s){let a=e+n;return DD(t,a,i,o)?bD(t,a+2,s?r.call(s,i,o):r(i,o)):RD(t,a+2)}function ND(t,e){let n=Et(),r,i=t+An;n.firstCreatePass?(r=yF(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=io(r.type,!0)),s,a=Yt($);try{let u=ed(!1),l=o();return ed(u),cF(n,be(),i,l),l}finally{Yt(a)}}function yF(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function OD(t,e,n,r){let i=t+An,o=be(),s=KC(o,i);return vF(o,i)?mF(o,rb(),e,s.transform,n,r,s):s.transform(n,r)}function vF(t,e){return t[ge].data[e].pure}var Mr=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},kD=new Mr("18.0.5");var Pd=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var FD=new H("");function vo(t){return!!t&&typeof t.then=="function"}function VD(t){return!!t&&typeof t.subscribe=="function"}var Rd=new H(""),LD=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=F(Rd,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let o of this.appInits){let s=o();if(vo(s))r.push(s);else if(VD(s)){let a=new Promise((u,l)=>{s.subscribe({complete:u,error:l})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),gc=new H("");function _F(){ZE(()=>{throw new Z(600,!1)})}function wF(t){return t.isBoundToModule}var EF=10;function IF(t,e,n){try{let r=n();return vo(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var _o=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=F(Cb),this.afterRenderEffectManager=F(qm),this.zonelessEnabled=F(fD),this.externalTestViews=new Set,this.beforeRender=new wt,this.afterTick=new wt,this.componentTypes=[],this.components=[],this.isStable=F(Nr).hasPendingTasks.pipe(ie(r=>!r)),this._injector=F(Rt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let o=r instanceof od;if(!this._injector.get(LD).done){let y=!o&&MC(r),S=!1;throw new Z(405,S)}let a;o?a=r:a=this._injector.get(bs).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let u=wF(a)?void 0:this._injector.get(vi),l=i||a.selector,h=a.create(yt.NULL,[],l,u),p=h.location.nativeElement,m=h.injector.get(FD,null);return m?.registerApplication(p),h.onDestroy(()=>{this.detachView(h.hostView),mg(this.components,h),m?.unregisterApplication(p)}),this._loadComponent(h),h}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new Z(101,!1);let i=xe(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(o){this.internalErrorHandler(o)}finally{this._runningTick=!1,xe(i),this.afterTick.next()}}detectChangesInAttachedViews(r){let i=null;this._injector.destroyed||(i=this._injector.get(Ds,null,{optional:!0}));let o=0,s=this.afterRenderEffectManager;for(;o<EF;){let a=o===0;if(r||!a){this.beforeRender.next(a);for(let{_lView:u,notifyErrorHandler:l}of this._views)CF(u,l,a,this.zonelessEnabled)}else i?.begin?.(),i?.end?.();if(o++,s.executeInternalCallbacks(),!this.allViews.some(({_lView:u})=>oc(u))&&(s.execute(),!this.allViews.some(({_lView:u})=>oc(u))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;mg(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(gc,[]);[...this._bootstrapListeners,...i].forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>mg(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new Z(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function mg(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function CF(t,e,n,r){if(!n&&!oc(t))return;uD(t,e,n&&!r?0:1)}var sm=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Nd=(()=>{let e=class e{compileModuleSync(r){return new tm(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),o=xC(r),s=Ob(o.declarations).reduce((a,u)=>{let l=mi(u);return l&&a.push(new Ts(l)),a},[]);return new sm(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var bF=(()=>{let e=class e{constructor(){this.zone=F(Ce),this.changeDetectionScheduler=F(Cs),this.applicationRef=F(_o)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function DF({ngZoneFactory:t,ignoreChangesOutsideZone:e}){return t??=()=>new Ce(SF()),[{provide:Ce,useFactory:t},{provide:vs,multi:!0,useFactory:()=>{let n=F(bF,{optional:!0});return()=>n.initialize()}},{provide:vs,multi:!0,useFactory:()=>{let n=F(AF);return()=>{n.initialize()}}},{provide:Cb,useFactory:TF},e===!0?{provide:pD,useValue:!0}:[]]}function TF(){let t=F(Ce),e=F(Yn);return n=>t.runOutsideAngular(()=>e.handleError(n))}function SF(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var AF=(()=>{let e=class e{constructor(){this.subscription=new Ye,this.initialized=!1,this.zone=F(Ce),this.pendingTasks=F(Nr)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ce.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ce.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var MF=(()=>{let e=class e{constructor(){this.appRef=F(_o),this.taskService=F(Nr),this.ngZone=F(Ce),this.zonelessEnabled=F(fD),this.disableScheduling=F(pD,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Ye,this.cancelScheduledCallback=null,this.shouldRefreshViews=!1,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof zg||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&r===5)return;switch(r){case 3:case 2:case 0:case 4:case 5:case 1:{this.shouldRefreshViews=!0;break}case 8:case 7:case 6:case 9:default:}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?YI:gD;this.pendingRenderTaskId=this.taskService.add(),this.zoneIsDefined?Zone.root.run(()=>{this.cancelScheduledCallback=i(()=>{this.tick(this.shouldRefreshViews)})}):this.cancelScheduledCallback=i(()=>{this.tick(this.shouldRefreshViews)})}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Ce.isInAngularZone())}tick(r){if(this.runningTick||this.appRef.destroyed)return;let i=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick(r)},void 0,this.schedulerTickApplyArgs)}catch(o){throw this.taskService.remove(i),o}finally{this.cleanup()}this.useMicrotaskScheduler=!0,YI(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(i)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.shouldRefreshViews=!1,this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function xF(){return typeof $localize<"u"&&$localize.locale||ld}var Od=new H("",{providedIn:"root",factory:()=>F(Od,ve.Optional|ve.SkipSelf)||xF()});var jD=new H("");var $l=null;function PF(t=[],e){return yt.create({name:e,providers:[{provide:gd,useValue:"platform"},{provide:jD,useValue:new Set([()=>$l=null])},...t]})}function RF(t=[]){if($l)return $l;let e=PF(t);return $l=e,_F(),NF(e),e}function NF(t){t.get(Mm,null)?.forEach(n=>n())}function UD(){return!1}var Ii=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=OF;let t=e;return t})();function OF(t){return kF(Ot(),be(),(t&16)===16)}function kF(t,e,n){if(yd(t)&&!n){let r=wi(t.index,e);return new fo(r,r)}else if(t.type&175){let r=e[Kn];return new fo(r,e)}return null}var am=class{constructor(){}supports(e){return CD(e)}create(e){return new cm(e)}},FF=(t,e)=>e,cm=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||FF}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<cC(r,i,o)?n:r,a=cC(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=u-i;if(l!=h){for(let m=0;m<l;m++){let y=m<o.length?o[m]:o[m]=0,S=y+m;h<=S&&S<l&&(o[m]=y+1)}let p=s.previousIndex;o[p]=h-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!CD(e))throw new Z(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,M4(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new um(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new dd),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new dd),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},um=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},lm=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},dd=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new lm,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function cC(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function uC(){return new Km([new am])}var Km=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let o=i.factories.slice();r=r.concat(o)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||uC()),deps:[[e,new hm,new vt]]}}find(r){let i=this.factories.find(o=>o.supports(r));if(i!=null)return i;throw new Z(901,!1)}};e.\u0275prov=z({token:e,providedIn:"root",factory:uC});let t=e;return t})();function BD(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=RF(r),o=[DF({}),{provide:Cs,useExisting:MF},...n||[]],a=new cd({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,u=a.get(Ce);return u.run(()=>{a.resolveInjectorInitializers();let l=a.get(Yn,null),h;u.runOutsideAngular(()=>{h=u.onError.subscribe({next:y=>{l.handleError(y)}})});let p=()=>a.destroy(),m=i.get(jD);return m.add(p),a.onDestroy(()=>{h.unsubscribe(),m.delete(p)}),IF(l,u,()=>{let y=a.get(LD);return y.runInitializers(),y.donePromise.then(()=>{let S=a.get(Od,ld);oF(S||ld);let N=a.get(_o);return e!==void 0&&N.bootstrap(e),N})})})}catch(e){return Promise.reject(e)}}function Ci(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function $D(t){let e=mi(t);if(!e)return null;let n=new Ts(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var QD=null;function jr(){return QD}function YD(t){QD??=t}var Hd=class{};var kt=new H(""),iy=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>F(VF),providedIn:"platform"});let t=e;return t})(),JD=new H(""),VF=(()=>{let e=class e extends iy{constructor(){super(),this._doc=F(kt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return jr().getBaseHref(this._doc)}onPopState(r){let i=jr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=jr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function oy(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function HD(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Vr(t){return t&&t[0]!=="?"?"?"+t:t}var Ur=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>F(sy),providedIn:"root"});let t=e;return t})(),ZD=new H(""),sy=(()=>{let e=class e extends Ur{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??F(kt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return oy(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+Vr(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+Vr(s));this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+Vr(s));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(G(iy),G(ZD,8))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),XD=(()=>{let e=class e extends Ur{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=oy(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+Vr(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+Vr(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(G(iy),G(ZD,8))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),Rs=(()=>{let e=class e{constructor(r){this._subject=new Je,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=UF(HD(zD(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Vr(i))}normalize(r){return e.stripTrailingSlash(jF(this._basePath,zD(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Vr(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Vr(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}};e.normalizeQueryParams=Vr,e.joinWithSlash=oy,e.stripTrailingSlash=HD,e.\u0275fac=function(i){return new(i||e)(G(Ur))},e.\u0275prov=z({token:e,factory:()=>LF(),providedIn:"root"});let t=e;return t})();function LF(){return new Rs(G(Ur))}function jF(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function zD(t){return t.replace(/\/index.html$/,"")}function UF(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var qt=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(qt||{}),$e=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}($e||{}),an=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(an||{}),bi={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function BF(t){return yn(t)[tt.LocaleId]}function $F(t,e,n){let r=yn(t),i=[r[tt.DayPeriodsFormat],r[tt.DayPeriodsStandalone]],o=vn(i,e);return vn(o,n)}function HF(t,e,n){let r=yn(t),i=[r[tt.DaysFormat],r[tt.DaysStandalone]],o=vn(i,e);return vn(o,n)}function zF(t,e,n){let r=yn(t),i=[r[tt.MonthsFormat],r[tt.MonthsStandalone]],o=vn(i,e);return vn(o,n)}function qF(t,e){let r=yn(t)[tt.Eras];return vn(r,e)}function kd(t,e){let n=yn(t);return vn(n[tt.DateFormat],e)}function Fd(t,e){let n=yn(t);return vn(n[tt.TimeFormat],e)}function Vd(t,e){let r=yn(t)[tt.DateTimeFormat];return vn(r,e)}function qd(t,e){let n=yn(t),r=n[tt.NumberSymbols][e];if(typeof r>"u"){if(e===bi.CurrencyDecimal)return n[tt.NumberSymbols][bi.Decimal];if(e===bi.CurrencyGroup)return n[tt.NumberSymbols][bi.Group]}return r}function eT(t){if(!t[tt.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[tt.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function GF(t){let e=yn(t);return eT(e),(e[tt.ExtraData][2]||[]).map(r=>typeof r=="string"?Ym(r):[Ym(r[0]),Ym(r[1])])}function WF(t,e,n){let r=yn(t);eT(r);let i=[r[tt.ExtraData][0],r[tt.ExtraData][1]],o=vn(i,e)||[];return vn(o,n)||[]}function vn(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function Ym(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var KF=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ld={},QF=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,Lr=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(Lr||{}),Ne=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(Ne||{}),Re=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(Re||{});function YF(t,e,n,r){let i=oV(t);e=Fr(n,e)||e;let s=[],a;for(;e;)if(a=QF.exec(e),a){s=s.concat(a.slice(1));let h=s.pop();if(!h)break;e=h}else{s.push(e);break}let u=i.getTimezoneOffset();r&&(u=nT(r,u),i=iV(i,r,!0));let l="";return s.forEach(h=>{let p=nV(h);l+=p?p(i,n,u):h==="''"?"'":h.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function zd(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function Fr(t,e){let n=BF(t);if(Ld[n]??={},Ld[n][e])return Ld[n][e];let r="";switch(e){case"shortDate":r=kd(t,an.Short);break;case"mediumDate":r=kd(t,an.Medium);break;case"longDate":r=kd(t,an.Long);break;case"fullDate":r=kd(t,an.Full);break;case"shortTime":r=Fd(t,an.Short);break;case"mediumTime":r=Fd(t,an.Medium);break;case"longTime":r=Fd(t,an.Long);break;case"fullTime":r=Fd(t,an.Full);break;case"short":let i=Fr(t,"shortTime"),o=Fr(t,"shortDate");r=jd(Vd(t,an.Short),[i,o]);break;case"medium":let s=Fr(t,"mediumTime"),a=Fr(t,"mediumDate");r=jd(Vd(t,an.Medium),[s,a]);break;case"long":let u=Fr(t,"longTime"),l=Fr(t,"longDate");r=jd(Vd(t,an.Long),[u,l]);break;case"full":let h=Fr(t,"fullTime"),p=Fr(t,"fullDate");r=jd(Vd(t,an.Full),[h,p]);break}return r&&(Ld[n][e]=r),r}function jd(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function On(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function JF(t,e){return On(t,3).substring(0,e)}function ut(t,e,n=0,r=!1,i=!1){return function(o,s){let a=ZF(t,o);if((n>0||a>-n)&&(a+=n),t===Ne.Hours)a===0&&n===-12&&(a=12);else if(t===Ne.FractionalSeconds)return JF(a,e);let u=qd(s,bi.MinusSign);return On(a,e,u,r,i)}}function ZF(t,e){switch(t){case Ne.FullYear:return e.getFullYear();case Ne.Month:return e.getMonth();case Ne.Date:return e.getDate();case Ne.Hours:return e.getHours();case Ne.Minutes:return e.getMinutes();case Ne.Seconds:return e.getSeconds();case Ne.FractionalSeconds:return e.getMilliseconds();case Ne.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function He(t,e,n=qt.Format,r=!1){return function(i,o){return XF(i,o,t,e,n,r)}}function XF(t,e,n,r,i,o){switch(n){case Re.Months:return zF(e,i,r)[t.getMonth()];case Re.Days:return HF(e,i,r)[t.getDay()];case Re.DayPeriods:let s=t.getHours(),a=t.getMinutes();if(o){let l=GF(e),h=WF(e,i,r),p=l.findIndex(m=>{if(Array.isArray(m)){let[y,S]=m,N=s>=y.hours&&a>=y.minutes,x=s<S.hours||s===S.hours&&a<S.minutes;if(y.hours<S.hours){if(N&&x)return!0}else if(N||x)return!0}else if(m.hours===s&&m.minutes===a)return!0;return!1});if(p!==-1)return h[p]}return $F(e,i,r)[s<12?0:1];case Re.Eras:return qF(e,r)[t.getFullYear()<=0?0:1];default:let u=n;throw new Error(`unexpected translation type ${u}`)}}function Ud(t){return function(e,n,r){let i=-1*r,o=qd(n,bi.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case Lr.Short:return(i>=0?"+":"")+On(s,2,o)+On(Math.abs(i%60),2,o);case Lr.ShortGMT:return"GMT"+(i>=0?"+":"")+On(s,1,o);case Lr.Long:return"GMT"+(i>=0?"+":"")+On(s,2,o)+":"+On(Math.abs(i%60),2,o);case Lr.Extended:return r===0?"Z":(i>=0?"+":"")+On(s,2,o)+":"+On(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}var eV=0,$d=4;function tV(t){let e=zd(t,eV,1).getDay();return zd(t,0,1+(e<=$d?$d:$d+7)-e)}function tT(t){let e=t.getDay(),n=e===0?-3:$d-e;return zd(t.getFullYear(),t.getMonth(),t.getDate()+n)}function Jm(t,e=!1){return function(n,r){let i;if(e){let o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();i=1+Math.floor((s+o)/7)}else{let o=tT(n),s=tV(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return On(i,t,qd(r,bi.MinusSign))}}function Bd(t,e=!1){return function(n,r){let o=tT(n).getFullYear();return On(o,t,qd(r,bi.MinusSign),e)}}var Zm={};function nV(t){if(Zm[t])return Zm[t];let e;switch(t){case"G":case"GG":case"GGG":e=He(Re.Eras,$e.Abbreviated);break;case"GGGG":e=He(Re.Eras,$e.Wide);break;case"GGGGG":e=He(Re.Eras,$e.Narrow);break;case"y":e=ut(Ne.FullYear,1,0,!1,!0);break;case"yy":e=ut(Ne.FullYear,2,0,!0,!0);break;case"yyy":e=ut(Ne.FullYear,3,0,!1,!0);break;case"yyyy":e=ut(Ne.FullYear,4,0,!1,!0);break;case"Y":e=Bd(1);break;case"YY":e=Bd(2,!0);break;case"YYY":e=Bd(3);break;case"YYYY":e=Bd(4);break;case"M":case"L":e=ut(Ne.Month,1,1);break;case"MM":case"LL":e=ut(Ne.Month,2,1);break;case"MMM":e=He(Re.Months,$e.Abbreviated);break;case"MMMM":e=He(Re.Months,$e.Wide);break;case"MMMMM":e=He(Re.Months,$e.Narrow);break;case"LLL":e=He(Re.Months,$e.Abbreviated,qt.Standalone);break;case"LLLL":e=He(Re.Months,$e.Wide,qt.Standalone);break;case"LLLLL":e=He(Re.Months,$e.Narrow,qt.Standalone);break;case"w":e=Jm(1);break;case"ww":e=Jm(2);break;case"W":e=Jm(1,!0);break;case"d":e=ut(Ne.Date,1);break;case"dd":e=ut(Ne.Date,2);break;case"c":case"cc":e=ut(Ne.Day,1);break;case"ccc":e=He(Re.Days,$e.Abbreviated,qt.Standalone);break;case"cccc":e=He(Re.Days,$e.Wide,qt.Standalone);break;case"ccccc":e=He(Re.Days,$e.Narrow,qt.Standalone);break;case"cccccc":e=He(Re.Days,$e.Short,qt.Standalone);break;case"E":case"EE":case"EEE":e=He(Re.Days,$e.Abbreviated);break;case"EEEE":e=He(Re.Days,$e.Wide);break;case"EEEEE":e=He(Re.Days,$e.Narrow);break;case"EEEEEE":e=He(Re.Days,$e.Short);break;case"a":case"aa":case"aaa":e=He(Re.DayPeriods,$e.Abbreviated);break;case"aaaa":e=He(Re.DayPeriods,$e.Wide);break;case"aaaaa":e=He(Re.DayPeriods,$e.Narrow);break;case"b":case"bb":case"bbb":e=He(Re.DayPeriods,$e.Abbreviated,qt.Standalone,!0);break;case"bbbb":e=He(Re.DayPeriods,$e.Wide,qt.Standalone,!0);break;case"bbbbb":e=He(Re.DayPeriods,$e.Narrow,qt.Standalone,!0);break;case"B":case"BB":case"BBB":e=He(Re.DayPeriods,$e.Abbreviated,qt.Format,!0);break;case"BBBB":e=He(Re.DayPeriods,$e.Wide,qt.Format,!0);break;case"BBBBB":e=He(Re.DayPeriods,$e.Narrow,qt.Format,!0);break;case"h":e=ut(Ne.Hours,1,-12);break;case"hh":e=ut(Ne.Hours,2,-12);break;case"H":e=ut(Ne.Hours,1);break;case"HH":e=ut(Ne.Hours,2);break;case"m":e=ut(Ne.Minutes,1);break;case"mm":e=ut(Ne.Minutes,2);break;case"s":e=ut(Ne.Seconds,1);break;case"ss":e=ut(Ne.Seconds,2);break;case"S":e=ut(Ne.FractionalSeconds,1);break;case"SS":e=ut(Ne.FractionalSeconds,2);break;case"SSS":e=ut(Ne.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Ud(Lr.Short);break;case"ZZZZZ":e=Ud(Lr.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Ud(Lr.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Ud(Lr.Long);break;default:return null}return Zm[t]=e,e}function nT(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function rV(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function iV(t,e,n){let r=n?-1:1,i=t.getTimezoneOffset(),o=nT(e,i);return rV(t,r*(o-i))}function oV(t){if(qD(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,o=1,s=1]=t.split("-").map(a=>+a);return zd(i,o-1,s)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(KF))return sV(r)}let e=new Date(t);if(!qD(e))throw new Error(`Unable to convert "${t}" into a date`);return e}function sV(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,u=Number(t[6]||0),l=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return o.call(e,s,a,u,l),e}function qD(t){return t instanceof Date&&!isNaN(t.valueOf())}function Gd(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Xm=/\s+/,GD=[],Wd=(()=>{let e=class e{constructor(r,i){this._ngEl=r,this._renderer=i,this.initialClasses=GD,this.stateMap=new Map}set klass(r){this.initialClasses=r!=null?r.trim().split(Xm):GD}set ngClass(r){this.rawClass=typeof r=="string"?r.trim().split(Xm):r}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(let i of r)this._updateState(i,!0);else if(r!=null)for(let i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){let o=this.stateMap.get(r);o!==void 0?(o.enabled!==i&&(o.changed=!0,o.enabled=i),o.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let r of this.stateMap){let i=r[0],o=r[1];o.changed?(this._toggleClass(i,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),o.touched=!1}}_toggleClass(r,i){r=r.trim(),r.length>0&&r.split(Xm).forEach(o=>{i?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}};e.\u0275fac=function(i){return new(i||e)($(zt),$(Rn))},e.\u0275dir=qe({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var ey=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Di=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,o){this._viewContainer=r,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((o,s,a)=>{if(o.previousIndex==null)i.createEmbeddedView(this._template,new ey(o.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(s===null?void 0:s);else if(s!==null){let u=i.get(s);i.move(u,a),WD(u,o)}});for(let o=0,s=i.length;o<s;o++){let u=i.get(o).context;u.index=o,u.count=s,u.ngForOf=this._ngForOf}r.forEachIdentityChange(o=>{let s=i.get(o.currentIndex);WD(s,o)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)($(Ei),$(po),$(Km))},e.\u0275dir=qe({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function WD(t,e){t.context.$implicit=e.item}var nr=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new ty,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){KD("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){KD("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)($(Ei),$(po))},e.\u0275dir=qe({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),ty=class{constructor(){this.$implicit=null,this.ngIf=null}};function KD(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Ht(e)}'.`)}function aV(t,e){return new Z(2100,!1)}var cV="mediumDate",uV=new H(""),lV=new H(""),rT=(()=>{let e=class e{constructor(r,i,o){this.locale=r,this.defaultTimezone=i,this.defaultOptions=o}transform(r,i,o,s){if(r==null||r===""||r!==r)return null;try{let a=i??this.defaultOptions?.dateFormat??cV,u=o??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return YF(r,a,s||this.locale,u)}catch(a){throw aV(e,a.message)}}};e.\u0275fac=function(i){return new(i||e)($(Od,16),$(uV,24),$(lV,24))},e.\u0275pipe=TC({name:"date",type:e,pure:!0,standalone:!0});let t=e;return t})();var St=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Zn({type:e}),e.\u0275inj=Jn({});let t=e;return t})(),ay="browser",dV="server";function cy(t){return t===ay}function Ns(t){return t===dV}var iT=(()=>{let e=class e{};e.\u0275prov=z({token:e,providedIn:"root",factory:()=>cy(F(Tt))?new ny(F(kt),window):new ry});let t=e;return t})(),ny=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=hV(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function hV(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var ry=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Ps=class{};var yc=class{},Qd=class{},Br=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=i.toLowerCase(),s=n.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var ly=class{encodeKey(e){return oT(e)}encodeValue(e){return oT(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function fV(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],u=n.get(s)||[];u.push(a),n.set(s,u)}),n}var pV=/%(\d[a-f0-9])/gi,gV={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function oT(t){return encodeURIComponent(t).replace(pV,(e,n)=>gV[n]??e)}function Kd(t){return`${t}`}var Ai=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new ly,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=fV(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(Kd):[Kd(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(Kd(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Kd(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var dy=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function mV(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function sT(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function aT(t){return typeof Blob<"u"&&t instanceof Blob}function cT(t){return typeof FormData<"u"&&t instanceof FormData}function yV(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var mc=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(mV(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Br,this.context??=new dy,!this.params)this.params=new Ai,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),u=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+u+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||sT(this.body)||aT(this.body)||cT(this.body)||yV(this.body)?this.body:this.body instanceof Ai?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||cT(this.body)?null:aT(this.body)?this.body.type||null:sT(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Ai?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,u=e.reportProgress??this.reportProgress,l=e.headers||this.headers,h=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((m,y)=>m.set(y,e.setHeaders[y]),l)),e.setParams&&(h=Object.keys(e.setParams).reduce((m,y)=>m.set(y,e.setParams[y]),h)),new t(n,r,s,{params:h,headers:l,context:p,reportProgress:u,responseType:i,withCredentials:a,transferCache:o})}},Mi=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Mi||{}),vc=class{constructor(e,n=200,r="OK"){this.headers=e.headers||new Br,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Yd=class t extends vc{constructor(e={}){super(e),this.type=Mi.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},_c=class t extends vc{constructor(e={}){super(e),this.type=Mi.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Si=class extends vc{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},fT=200,vV=204;function uy(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var wc=(()=>{let e=class e{constructor(r){this.handler=r}request(r,i,o={}){let s;if(r instanceof mc)s=r;else{let l;o.headers instanceof Br?l=o.headers:l=new Br(o.headers);let h;o.params&&(o.params instanceof Ai?h=o.params:h=new Ai({fromObject:o.params})),s=new mc(r,i,o.body!==void 0?o.body:null,{headers:l,context:o.context,params:h,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let a=te(s).pipe(br(l=>this.handler.handle(l)));if(r instanceof mc||o.observe==="events")return a;let u=a.pipe(Bt(l=>l instanceof _c));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return u.pipe(ie(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return u.pipe(ie(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return u.pipe(ie(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return u.pipe(ie(l=>l.body))}case"response":return u;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:new Ai().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,o={}){return this.request("PATCH",r,uy(o,i))}post(r,i,o={}){return this.request("POST",r,uy(o,i))}put(r,i,o={}){return this.request("PUT",r,uy(o,i))}};e.\u0275fac=function(i){return new(i||e)(G(yc))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),_V=/^\)\]\}',?\n/,wV="X-Request-URL";function uT(t){if(t.url)return t.url;let e=wV.toLocaleLowerCase();return t.headers.get(e)}var EV=(()=>{let e=class e{constructor(){this.fetchImpl=F(hy,{optional:!0})?.fetch??fetch.bind(globalThis),this.ngZone=F(Ce)}handle(r){return new pe(i=>{let o=new AbortController;return this.doRequest(r,o.signal,i).then(fy,s=>i.error(new Si({error:s}))),()=>o.abort()})}doRequest(r,i,o){return w(this,null,function*(){let s=this.createRequestInit(r),a;try{let S=this.fetchImpl(r.urlWithParams,j({signal:i},s));IV(S),o.next({type:Mi.Sent}),a=yield S}catch(S){o.error(new Si({error:S,status:S.status??0,statusText:S.statusText,url:r.urlWithParams,headers:S.headers}));return}let u=new Br(a.headers),l=a.statusText,h=uT(a)??r.urlWithParams,p=a.status,m=null;if(r.reportProgress&&o.next(new Yd({headers:u,status:p,statusText:l,url:h})),a.body){let S=a.headers.get("content-length"),N=[],x=a.body.getReader(),V=0,X,K,ee=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>w(this,null,function*(){for(;;){let{done:oe,value:b}=yield x.read();if(oe)break;if(N.push(b),V+=b.length,r.reportProgress){K=r.responseType==="text"?(K??"")+(X??=new TextDecoder).decode(b,{stream:!0}):void 0;let v=()=>o.next({type:Mi.DownloadProgress,total:S?+S:void 0,loaded:V,partialText:K});ee?ee.run(v):v()}}}));let Ve=this.concatChunks(N,V);try{let oe=a.headers.get("Content-Type")??"";m=this.parseBody(r,Ve,oe)}catch(oe){o.error(new Si({error:oe,headers:new Br(a.headers),status:a.status,statusText:a.statusText,url:uT(a)??r.urlWithParams}));return}}p===0&&(p=m?fT:0),p>=200&&p<300?(o.next(new _c({body:m,headers:u,status:p,statusText:l,url:h})),o.complete()):o.error(new Si({error:m,headers:u,status:p,statusText:l,url:h}))})}parseBody(r,i,o){switch(r.responseType){case"json":let s=new TextDecoder().decode(i).replace(_V,"");return s===""?null:JSON.parse(s);case"text":return new TextDecoder().decode(i);case"blob":return new Blob([i],{type:o});case"arraybuffer":return i.buffer}}createRequestInit(r){let i={},o=r.withCredentials?"include":void 0;if(r.headers.forEach((s,a)=>i[s]=a.join(",")),i.Accept??="application/json, text/plain, */*",!i["Content-Type"]){let s=r.detectContentTypeHeader();s!==null&&(i["Content-Type"]=s)}return{body:r.serializeBody(),method:r.method,headers:i,credentials:o}}concatChunks(r,i){let o=new Uint8Array(i),s=0;for(let a of r)o.set(a,s),s+=a.length;return o}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),hy=class{};function fy(){}function IV(t){t.then(fy,fy)}function pT(t,e){return e(t)}function CV(t,e){return(n,r)=>e.intercept(n,{handle:i=>t(i,r)})}function bV(t,e,n){return(r,i)=>rn(n,()=>e(r,o=>t(o,i)))}var DV=new H(""),py=new H(""),TV=new H(""),gT=new H("",{providedIn:"root",factory:()=>!0});function SV(){let t=null;return(e,n)=>{t===null&&(t=(F(DV,{optional:!0})??[]).reduceRight(CV,pT));let r=F(Nr);if(F(gT)){let o=r.add();return t(e,n).pipe(di(()=>r.remove(o)))}else return t(e,n)}}var lT=(()=>{let e=class e extends yc{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=F(Nr),this.contributeToStability=F(gT)}handle(r){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(py),...this.injector.get(TV,[])]));this.chain=i.reduceRight((o,s)=>bV(o,s,this.injector),pT)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(r,o=>this.backend.handle(o)).pipe(di(()=>this.pendingTasks.remove(i)))}else return this.chain(r,i=>this.backend.handle(i))}};e.\u0275fac=function(i){return new(i||e)(G(Qd),G(Rt))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})();var AV=/^\)\]\}',?\n/;function MV(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var dT=(()=>{let e=class e{constructor(r){this.xhrFactory=r}handle(r){if(r.method==="JSONP")throw new Z(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?Ue(i.\u0275loadImpl()):te(null)).pipe(Qt(()=>new pe(s=>{let a=i.build();if(a.open(r.method,r.urlWithParams),r.withCredentials&&(a.withCredentials=!0),r.headers.forEach((x,V)=>a.setRequestHeader(x,V.join(","))),r.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){let x=r.detectContentTypeHeader();x!==null&&a.setRequestHeader("Content-Type",x)}if(r.responseType){let x=r.responseType.toLowerCase();a.responseType=x!=="json"?x:"text"}let u=r.serializeBody(),l=null,h=()=>{if(l!==null)return l;let x=a.statusText||"OK",V=new Br(a.getAllResponseHeaders()),X=MV(a)||r.url;return l=new Yd({headers:V,status:a.status,statusText:x,url:X}),l},p=()=>{let{headers:x,status:V,statusText:X,url:K}=h(),ee=null;V!==vV&&(ee=typeof a.response>"u"?a.responseText:a.response),V===0&&(V=ee?fT:0);let Ve=V>=200&&V<300;if(r.responseType==="json"&&typeof ee=="string"){let oe=ee;ee=ee.replace(AV,"");try{ee=ee!==""?JSON.parse(ee):null}catch(b){ee=oe,Ve&&(Ve=!1,ee={error:b,text:ee})}}Ve?(s.next(new _c({body:ee,headers:x,status:V,statusText:X,url:K||void 0})),s.complete()):s.error(new Si({error:ee,headers:x,status:V,statusText:X,url:K||void 0}))},m=x=>{let{url:V}=h(),X=new Si({error:x,status:a.status||0,statusText:a.statusText||"Unknown Error",url:V||void 0});s.error(X)},y=!1,S=x=>{y||(s.next(h()),y=!0);let V={type:Mi.DownloadProgress,loaded:x.loaded};x.lengthComputable&&(V.total=x.total),r.responseType==="text"&&a.responseText&&(V.partialText=a.responseText),s.next(V)},N=x=>{let V={type:Mi.UploadProgress,loaded:x.loaded};x.lengthComputable&&(V.total=x.total),s.next(V)};return a.addEventListener("load",p),a.addEventListener("error",m),a.addEventListener("timeout",m),a.addEventListener("abort",m),r.reportProgress&&(a.addEventListener("progress",S),u!==null&&a.upload&&a.upload.addEventListener("progress",N)),a.send(u),s.next({type:Mi.Sent}),()=>{a.removeEventListener("error",m),a.removeEventListener("abort",m),a.removeEventListener("load",p),a.removeEventListener("timeout",m),r.reportProgress&&(a.removeEventListener("progress",S),u!==null&&a.upload&&a.upload.removeEventListener("progress",N)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(i){return new(i||e)(G(Ps))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),mT=new H(""),xV="XSRF-TOKEN",PV=new H("",{providedIn:"root",factory:()=>xV}),RV="X-XSRF-TOKEN",NV=new H("",{providedIn:"root",factory:()=>RV}),Jd=class{},OV=(()=>{let e=class e{constructor(r,i,o){this.doc=r,this.platform=i,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=Gd(r,this.cookieName),this.lastCookieString=r),this.lastToken}};e.\u0275fac=function(i){return new(i||e)(G(kt),G(Tt),G(PV))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})();function kV(t,e){let n=t.url.toLowerCase();if(!F(mT)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=F(Jd).getToken(),i=F(NV);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var yT=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(yT||{});function FV(t,e){return{\u0275kind:t,\u0275providers:e}}function gy(...t){let e=[wc,dT,lT,{provide:yc,useExisting:lT},{provide:Qd,useFactory:()=>F(EV,{optional:!0})??F(dT)},{provide:py,useValue:kV,multi:!0},{provide:mT,useValue:!0},{provide:Jd,useClass:OV}];for(let n of t)e.push(...n.\u0275providers);return nn(e)}var hT=new H("");function VV(){return FV(yT.LegacyInterceptors,[{provide:hT,useFactory:SV},{provide:py,useExisting:hT,multi:!0}])}var vT=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Zn({type:e}),e.\u0275inj=Jn({providers:[gy(VV())]});let t=e;return t})();var vy=class extends Hd{constructor(){super(...arguments),this.supportsDOMEvents=!0}},_y=class t extends vy{static makeCurrent(){YD(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=LV();return n==null?null:jV(n)}resetBaseElement(){Ec=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Gd(document.cookie,e)}},Ec=null;function LV(){return Ec=Ec||document.querySelector("base"),Ec?Ec.getAttribute("href"):null}function jV(t){return new URL(t,document.baseURI).pathname}var UV=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),wy=new H(""),CT=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new Z(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(G(wy),G(Ce))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),Zd=class{constructor(e){this._doc=e}},my="ng-app-id",bT=(()=>{let e=class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Ns(s),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(o=>o.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${my}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(o=>{o.textContent!=null&&i.set(o.textContent,o)}),i}return null}changeUsageCount(r,i){let o=this.styleRef;if(o.has(r)){let s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===r)return o.delete(i),s.removeAttribute(my),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(my,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let o=this.getStyleElement(r,i),s=this.styleRef,a=s.get(i)?.elements;a?a.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(G(kt),G(Am),G(xm,8),G(Tt))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),yy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Iy=/%COMP%/g,DT="%COMP%",BV=`_nghost-${DT}`,$V=`_ngcontent-${DT}`,HV=!0,zV=new H("",{providedIn:"root",factory:()=>HV});function qV(t){return $V.replace(Iy,t)}function GV(t){return BV.replace(Iy,t)}function TT(t,e){return e.map(n=>n.replace(Iy,t))}var wT=(()=>{let e=class e{constructor(r,i,o,s,a,u,l,h=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=u,this.ngZone=l,this.nonce=h,this.rendererByCompId=new Map,this.platformIsServer=Ns(u),this.defaultRenderer=new Ic(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Gn.ShadowDom&&(i=ye(j({},i),{encapsulation:Gn.Emulated}));let o=this.getOrCreateRenderer(r,i);return o instanceof Xd?o.applyToHost(r):o instanceof Cc&&o.applyStyles(),o}getOrCreateRenderer(r,i){let o=this.rendererByCompId,s=o.get(i.id);if(!s){let a=this.doc,u=this.ngZone,l=this.eventManager,h=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(i.encapsulation){case Gn.Emulated:s=new Xd(l,h,i,this.appId,p,a,u,m);break;case Gn.ShadowDom:return new Ey(l,h,r,i,a,u,this.nonce,m);default:s=new Cc(l,h,i,p,a,u,m);break}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(G(CT),G(bT),G(Am),G(zV),G(kt),G(Tt),G(Ce),G(xm))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),Ic=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(yy[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(ET(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(ET(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new Z(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=yy[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=yy[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Ar.DashCase|Ar.Important)?e.style.setProperty(n,r,i&Ar.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Ar.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=jr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function ET(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Ey=class extends Ic{constructor(e,n,r,i,o,s,a,u){super(e,o,s,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=TT(i.id,i.styles);for(let h of l){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Cc=class extends Ic{constructor(e,n,r,i,o,s,a,u){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?TT(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Xd=class extends Cc{constructor(e,n,r,i,o,s,a,u){let l=i+"-"+r.id;super(e,n,r,o,s,a,u,l),this.contentAttr=qV(l),this.hostAttr=GV(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},WV=(()=>{let e=class e extends Zd{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}};e.\u0275fac=function(i){return new(i||e)(G(kt))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),IT=["alt","control","meta","shift"],KV={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},QV={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},YV=(()=>{let e=class e extends Zd{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,o){let s=e.parseEventName(i),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>jr().onAndCancel(r,s.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(i.pop()),a="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),a="code."),IT.forEach(h=>{let p=i.indexOf(h);p>-1&&(i.splice(p,1),a+=h+".")}),a+=s,i.length!=0||s.length===0)return null;let l={};return l.domEventName=o,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let o=KV[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),IT.forEach(a=>{if(a!==o){let u=QV[a];u(r)&&(s+=a+".")}}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(G(kt))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})();function ST(t,e){return BD(j({rootComponent:t},JV(e)))}function JV(t){return{appProviders:[...nL,...t?.providers??[]],platformProviders:tL}}function ZV(){_y.makeCurrent()}function XV(){return new Yn}function eL(){return Mb(document),document}var tL=[{provide:Tt,useValue:ay},{provide:Mm,useValue:ZV,multi:!0},{provide:kt,useFactory:eL,deps:[]}];var nL=[{provide:gd,useValue:"root"},{provide:Yn,useFactory:XV,deps:[]},{provide:wy,useClass:WV,multi:!0,deps:[kt,Ce,Tt]},{provide:wy,useClass:YV,multi:!0,deps:[kt]},wT,bT,CT,{provide:Ds,useExisting:wT},{provide:Ps,useClass:UV,deps:[]},[]];var AT=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(G(kt))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var me="primary",jc=Symbol("RouteTitle"),Sy=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function js(t){return new Sy(t)}function iL(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function oL(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!rr(t[n],e[n]))return!1;return!0}function rr(t,e){let n=t?Ay(t):void 0,r=e?Ay(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!jT(t[i],e[i]))return!1;return!0}function Ay(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function jT(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function UT(t){return t.length>0?t[t.length-1]:null}function Ri(t){return Yp(t)?t:vo(t)?Ue(Promise.resolve(t)):te(t)}var sL={exact:$T,subset:HT},BT={exact:aL,subset:cL,ignored:()=>!0};function MT(t,e,n){return sL[n.paths](t.root,e.root,n.matrixParams)&&BT[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function aL(t,e){return rr(t,e)}function $T(t,e,n){if(!Eo(t.segments,e.segments)||!nh(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!$T(t.children[r],e.children[r],n))return!1;return!0}function cL(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>jT(t[n],e[n]))}function HT(t,e,n){return zT(t,e,e.segments,n)}function zT(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Eo(i,n)||e.hasChildren()||!nh(i,n,r))}else if(t.segments.length===n.length){if(!Eo(t.segments,n)||!nh(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!HT(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!Eo(t.segments,i)||!nh(t.segments,i,r)||!t.children[me]?!1:zT(t.children[me],e,o,r)}}function nh(t,e,n){return e.every((r,i)=>BT[n](t[i].parameters,r.parameters))}var xi=class{constructor(e=new ke([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=js(this.queryParams),this._queryParamMap}toString(){return dL.serialize(this)}},ke=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return rh(this)}},wo=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=js(this.parameters),this._parameterMap}toString(){return GT(this)}};function uL(t,e){return Eo(t,e)&&t.every((n,r)=>rr(n.parameters,e[r].parameters))}function Eo(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function lL(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===me&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==me&&(n=n.concat(e(i,r)))}),n}var Uc=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>new Us,providedIn:"root"});let t=e;return t})(),Us=class{parse(e){let n=new xy(e);return new xi(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${bc(e.root,!0)}`,r=pL(e.queryParams),i=typeof e.fragment=="string"?`#${hL(e.fragment)}`:"";return`${n}${r}${i}`}},dL=new Us;function rh(t){return t.segments.map(e=>GT(e)).join("/")}function bc(t,e){if(!t.hasChildren())return rh(t);if(e){let n=t.children[me]?bc(t.children[me],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==me&&r.push(`${i}:${bc(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=lL(t,(r,i)=>i===me?[bc(t.children[me],!1)]:[`${i}:${bc(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[me]!=null?`${rh(t)}/${n[0]}`:`${rh(t)}/(${n.join("//")})`}}function qT(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function eh(t){return qT(t).replace(/%3B/gi,";")}function hL(t){return encodeURI(t)}function My(t){return qT(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ih(t){return decodeURIComponent(t)}function xT(t){return ih(t.replace(/\+/g,"%20"))}function GT(t){return`${My(t.path)}${fL(t.parameters)}`}function fL(t){return Object.entries(t).map(([e,n])=>`;${My(e)}=${My(n)}`).join("")}function pL(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${eh(n)}=${eh(i)}`).join("&"):`${eh(n)}=${eh(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var gL=/^[^\/()?;#]+/;function Cy(t){let e=t.match(gL);return e?e[0]:""}var mL=/^[^\/()?;=#]+/;function yL(t){let e=t.match(mL);return e?e[0]:""}var vL=/^[^=?&#]+/;function _L(t){let e=t.match(vL);return e?e[0]:""}var wL=/^[^&#]+/;function EL(t){let e=t.match(wL);return e?e[0]:""}var xy=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ke([],{}):new ke([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[me]=new ke(e,n)),r}parseSegment(){let e=Cy(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new Z(4009,!1);return this.capture(e),new wo(ih(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=yL(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Cy(this.remaining);i&&(r=i,this.capture(r))}e[ih(n)]=ih(r)}parseQueryParam(e){let n=_L(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=EL(this.remaining);s&&(r=s,this.capture(r))}let i=xT(n),o=xT(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Cy(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new Z(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=me);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[me]:new ke([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new Z(4011,!1)}};function WT(t){return t.segments.length>0?new ke([],{[me]:t}):t}function KT(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=KT(i);if(r===me&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new ke(t.segments,e);return IL(n)}function IL(t){if(t.numberOfChildren===1&&t.children[me]){let e=t.children[me];return new ke(t.segments.concat(e.segments),e.children)}return t}function xc(t){return t instanceof xi}function CL(t,e,n=null,r=null){let i=QT(t);return YT(i,e,n,r)}function QT(t){let e;function n(o){let s={};for(let u of o.children){let l=n(u);s[u.outlet]=l}let a=new ke(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=WT(r);return e??i}function YT(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return by(i,i,i,n,r);let o=bL(e);if(o.toRoot())return by(i,i,new ke([],{}),n,r);let s=DL(o,i,t),a=s.processChildren?Sc(s.segmentGroup,s.index,o.commands):ZT(s.segmentGroup,s.index,o.commands);return by(i,s.segmentGroup,a,n,r)}function oh(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Pc(t){return typeof t=="object"&&t!=null&&t.outlets}function by(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;t===e?s=n:s=JT(t,e,n);let a=WT(KT(s));return new xi(a,o,i)}function JT(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=JT(o,e,n)}),new ke(t.segments,r)}var sh=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&oh(r[0]))throw new Z(4003,!1);let i=r.find(Pc);if(i&&i!==UT(r))throw new Z(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function bL(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new sh(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new sh(n,e,r)}var Fs=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function DL(t,e,n){if(t.isAbsolute)return new Fs(e,!0,0);if(!n)return new Fs(e,!1,NaN);if(n.parent===null)return new Fs(n,!0,0);let r=oh(t.commands[0])?0:1,i=n.segments.length-1+r;return TL(n,i,t.numberOfDoubleDots)}function TL(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Z(4005,!1);i=r.segments.length}return new Fs(r,!1,i-o)}function SL(t){return Pc(t[0])?t[0].outlets:{[me]:t}}function ZT(t,e,n){if(t??=new ke([],{}),t.segments.length===0&&t.hasChildren())return Sc(t,e,n);let r=AL(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new ke(t.segments.slice(0,r.pathIndex),{});return o.children[me]=new ke(t.segments.slice(r.pathIndex),t.children),Sc(o,0,i)}else return r.match&&i.length===0?new ke(t.segments,{}):r.match&&!t.hasChildren()?Py(t,e,n):r.match?Sc(t,0,i):Py(t,e,n)}function Sc(t,e,n){if(n.length===0)return new ke(t.segments,{});{let r=SL(n),i={};if(Object.keys(r).some(o=>o!==me)&&t.children[me]&&t.numberOfChildren===1&&t.children[me].segments.length===0){let o=Sc(t.children[me],e,n);return new ke(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=ZT(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new ke(t.segments,i)}}function AL(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(Pc(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!RT(u,l,s))return o;r+=2}else{if(!RT(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Py(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(Pc(o)){let u=ML(o.outlets);return new ke(r,u)}if(i===0&&oh(n[0])){let u=t.segments[e];r.push(new wo(u.path,PT(n[0]))),i++;continue}let s=Pc(o)?o.outlets[me]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&oh(a)?(r.push(new wo(s,PT(a))),i+=2):(r.push(new wo(s,{})),i++)}return new ke(r,{})}function ML(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Py(new ke([],{}),0,r))}),e}function PT(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function RT(t,e,n){return t==n.path&&rr(e,n.parameters)}var Ac="imperative",It=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(It||{}),_n=class{constructor(e,n){this.id=e,this.url=n}},Bs=class extends _n{constructor(e,n,r="imperative",i=null){super(e,n),this.type=It.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Fn=class extends _n{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=It.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},un=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(un||{}),ah=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(ah||{}),$r=class extends _n{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=It.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Pi=class extends _n{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=It.NavigationSkipped}},Rc=class extends _n{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=It.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},ch=class extends _n{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=It.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ry=class extends _n{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=It.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ny=class extends _n{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=It.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Oy=class extends _n{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=It.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ky=class extends _n{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=It.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Fy=class{constructor(e){this.route=e,this.type=It.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Vy=class{constructor(e){this.route=e,this.type=It.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Ly=class{constructor(e){this.snapshot=e,this.type=It.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},jy=class{constructor(e){this.snapshot=e,this.type=It.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Uy=class{constructor(e){this.snapshot=e,this.type=It.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},By=class{constructor(e){this.snapshot=e,this.type=It.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},uh=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=It.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Nc=class{},$s=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};var $y=class{constructor(e){this.injector=e,this.outlet=null,this.route=null,this.children=new Bc(this.injector),this.attachRef=null}},Bc=(()=>{let e=class e{constructor(r){this.parentInjector=r,this.contexts=new Map}onChildOutletCreated(r,i){let o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new $y(this.parentInjector),this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)(G(Rt))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),lh=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Hy(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Hy(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=zy(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return zy(e,this._root).map(n=>n.value)}};function Hy(t,e){if(t===e.value)return e;for(let n of e.children){let r=Hy(t,n);if(r)return r}return null}function zy(t,e){if(t===e.value)return[e];for(let n of e.children){let r=zy(t,n);if(r.length)return r.unshift(e),r}return[]}var cn=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function ks(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var dh=class extends lh{constructor(e,n){super(e),this.snapshot=n,Xy(this,e)}toString(){return this.snapshot.toString()}};function XT(t){let e=xL(t),n=new mt([new wo("",{})]),r=new mt({}),i=new mt({}),o=new mt({}),s=new mt(""),a=new ir(n,r,o,s,i,me,t,e.root);return a.snapshot=e.root,new dh(new cn(a,[]),e)}function xL(t){let e={},n={},r={},i="",o=new Vs([],e,r,i,n,me,t,null,{});return new fh("",new cn(o,[]))}var ir=class{constructor(e,n,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ie(l=>l[jc]))??te(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ie(e=>js(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ie(e=>js(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function hh(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:j(j({},e.params),t.params),data:j(j({},e.data),t.data),resolve:j(j(j(j({},t.data),e.data),i?.data),t._resolvedData)}:r={params:j({},t.params),data:j({},t.data),resolve:j(j({},t.data),t._resolvedData??{})},i&&tS(i)&&(r.resolve[jc]=i.title),r}var Vs=class{get title(){return this.data?.[jc]}constructor(e,n,r,i,o,s,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=js(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=js(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},fh=class extends lh{constructor(e,n){super(n),this.url=e,Xy(this,n)}toString(){return eS(this._root)}};function Xy(t,e){e.value._routerState=t,e.children.forEach(n=>Xy(t,n))}function eS(t){let e=t.children.length>0?` { ${t.children.map(eS).join(", ")} } `:"";return`${t.value}${e}`}function Dy(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,rr(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),rr(e.params,n.params)||t.paramsSubject.next(n.params),oL(e.url,n.url)||t.urlSubject.next(n.url),rr(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function qy(t,e){let n=rr(t.params,e.params)&&uL(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||qy(t.parent,e.parent))}function tS(t){return typeof t.title=="string"||t.title===null}var e0=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=me,this.activateEvents=new Je,this.deactivateEvents=new Je,this.attachEvents=new Je,this.detachEvents=new Je,this.parentContexts=F(Bc),this.location=F(Ei),this.changeDetector=F(Ii),this.inputBinder=F(yh,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Z(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Z(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Z(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new Z(4013,!1);this._activatedRoute=r;let o=this.location,a=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,l=new Gy(r,u,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=qe({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Rr]});let t=e;return t})(),Gy=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===ir?this.route:e===Bc?this.childContexts:this.parent.get(e,n)}},yh=new H(""),NT=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:i}=r,o=Xa([i.queryParams,i.params,i.data]).pipe(Qt(([s,a,u],l)=>(u=j(j(j({},s),a),u),l===0?te(u):Promise.resolve(u)))).subscribe(s=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(r);return}let a=$D(i.component);if(!a){this.unsubscribeFromRouteData(r);return}for(let{templateName:u}of a.inputs)r.activatedComponentRef.setInput(u,s[u])});this.outletDataSubscriptions.set(r,o)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})();function PL(t,e,n){let r=Oc(t,e._root,n?n._root:void 0);return new dh(r,e)}function Oc(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=RL(t,e,n);return new cn(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Oc(t,a)),s}}let r=NL(e.value),i=e.children.map(o=>Oc(t,o));return new cn(r,i)}}function RL(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Oc(t,r,i);return Oc(t,r)})}function NL(t){return new ir(new mt(t.url),new mt(t.params),new mt(t.queryParams),new mt(t.fragment),new mt(t.data),t.outlet,t.component,t)}var kc=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},nS="ngNavigationCancelingError";function ph(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=xc(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=rS(!1,un.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function rS(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[nS]=!0,n.cancellationCode=e,n}function OL(t){return iS(t)&&xc(t.url)}function iS(t){return!!t&&t[nS]}var kL=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ze({type:e,selectors:[["ng-component"]],standalone:!0,features:[Xe],decls:1,vars:0,template:function(i,o){i&1&&se(0,"router-outlet")},dependencies:[e0],encapsulation:2});let t=e;return t})();function FL(t,e){return t.providers&&!t._injector&&(t._injector=Ad(t.providers,e,`Route: ${t.path}`)),t._injector??e}function t0(t){let e=t.children&&t.children.map(t0),n=e?ye(j({},t),{children:e}):j({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==me&&(n.component=kL),n}function kn(t){return t.outlet||me}function VL(t,e){let n=t.filter(r=>kn(r)===e);return n.push(...t.filter(r=>kn(r)!==e)),n}function $c(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var LL=(t,e,n,r)=>ie(i=>(new Wy(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Wy=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Dy(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=ks(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=ks(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=ks(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=ks(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new By(o.value.snapshot))}),e.children.length&&this.forwardEvent(new jy(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(Dy(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Dy(a.route.value),this.activateChildRoutes(e,null,s.children)}else{let a=$c(i.snapshot);s.attachRef=null,s.route=i,s.injector=a??s.injector,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}},gh=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ls=class{constructor(e,n){this.component=e,this.route=n}};function jL(t,e,n){let r=t._root,i=e?e._root:null;return Dc(r,i,n,[r.value])}function UL(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function qs(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!fC(t)?t:e.get(t):r}function Dc(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=ks(e);return t.children.forEach(s=>{BL(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Mc(a,n.getContext(s),i)),i}function BL(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=$L(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new gh(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Dc(t,e,a?a.children:null,r,i):Dc(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ls(a.outlet.component,s))}else s&&Mc(e,a,i),i.canActivateChecks.push(new gh(r)),o.component?Dc(t,null,a?a.children:null,r,i):Dc(t,null,n,r,i);return i}function $L(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Eo(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Eo(t.url,e.url)||!rr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!qy(t,e)||!rr(t.queryParams,e.queryParams);case"paramsChange":default:return!qy(t,e)}}function Mc(t,e,n){let r=ks(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Mc(s,e.children.getContext(o),n):Mc(s,null,n):Mc(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Ls(e.outlet.component,i)):n.canDeactivateChecks.push(new Ls(null,i)):n.canDeactivateChecks.push(new Ls(null,i))}function Hc(t){return typeof t=="function"}function HL(t){return typeof t=="boolean"}function zL(t){return t&&Hc(t.canLoad)}function qL(t){return t&&Hc(t.canActivate)}function GL(t){return t&&Hc(t.canActivateChild)}function WL(t){return t&&Hc(t.canDeactivate)}function KL(t){return t&&Hc(t.canMatch)}function oS(t){return t instanceof Cr||t?.name==="EmptyError"}var th=Symbol("INITIAL_VALUE");function Hs(){return Qt(t=>Xa(t.map(e=>e.pipe(Dr(1),Rl(th)))).pipe(ie(e=>{for(let n of e)if(n!==!0){if(n===th)return th;if(n===!1||QL(n))return n}return!0}),Bt(e=>e!==th),Dr(1)))}function QL(t){return xc(t)||t instanceof kc}function YL(t,e){return ot(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?te(ye(j({},n),{guardsResult:!0})):JL(s,r,i,t).pipe(ot(a=>a&&HL(a)?ZL(r,o,t,e):te(a)),ie(a=>ye(j({},n),{guardsResult:a})))})}function JL(t,e,n,r){return Ue(t).pipe(ot(i=>r3(i.component,i.route,n,e,r)),Hn(i=>i!==!0,!0))}function ZL(t,e,n,r){return Ue(e).pipe(br(i=>us(e3(i.route.parent,r),XL(i.route,r),n3(t,i.path,n),t3(t,i.route,n))),Hn(i=>i!==!0,!0))}function XL(t,e){return t!==null&&e&&e(new Uy(t)),te(!0)}function e3(t,e){return t!==null&&e&&e(new Ly(t)),te(!0)}function t3(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return te(!0);let i=r.map(o=>Ml(()=>{let s=$c(e)??n,a=qs(o,s),u=qL(a)?a.canActivate(e,t):rn(s,()=>a(e,t));return Ri(u).pipe(Hn())}));return te(i).pipe(Hs())}function n3(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>UL(s)).filter(s=>s!==null).map(s=>Ml(()=>{let a=s.guards.map(u=>{let l=$c(s.node)??n,h=qs(u,l),p=GL(h)?h.canActivateChild(r,t):rn(l,()=>h(r,t));return Ri(p).pipe(Hn())});return te(a).pipe(Hs())}));return te(o).pipe(Hs())}function r3(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return te(!0);let s=o.map(a=>{let u=$c(e)??i,l=qs(a,u),h=WL(l)?l.canDeactivate(t,e,n,r):rn(u,()=>l(t,e,n,r));return Ri(h).pipe(Hn())});return te(s).pipe(Hs())}function i3(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return te(!0);let o=i.map(s=>{let a=qs(s,t),u=zL(a)?a.canLoad(e,n):rn(t,()=>a(e,n));return Ri(u)});return te(o).pipe(Hs(),sS(r))}function sS(t){return ul(st(e=>{if(typeof e!="boolean")throw ph(t,e)}),ie(e=>e===!0))}function o3(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return te(!0);let o=i.map(s=>{let a=qs(s,t),u=KL(a)?a.canMatch(e,n):rn(t,()=>a(e,n));return Ri(u)});return te(o).pipe(Hs(),sS(r))}var Fc=class{constructor(e){this.segmentGroup=e||null}},Vc=class extends Error{constructor(e){super(),this.urlTree=e}};function Os(t){return cs(new Fc(t))}function s3(t){return cs(new Z(4e3,!1))}function a3(t){return cs(rS(!1,un.GuardRejected))}var Ky=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return te(r);if(i.numberOfChildren>1||!i.children[me])return s3(`${e.redirectTo}`);i=i.children[me]}}applyRedirectCommands(e,n,r,i,o){if(typeof n!="string"){let a=n,{queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,params:y,data:S,title:N}=i,x=rn(o,()=>a({params:y,data:S,queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,title:N}));if(x instanceof xi)throw new Vc(x);n=x}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new Vc(s);return s}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new xi(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new ke(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new Z(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Qy={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function c3(t,e,n,r,i){let o=n0(t,e,n);return o.matched?(r=FL(e,r),o3(r,e,n,i).pipe(ie(s=>s===!0?o:j({},Qy)))):te(o)}function n0(t,e,n){if(e.path==="**")return u3(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?j({},Qy):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||iL)(n,t,e);if(!i)return j({},Qy);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?j(j({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function u3(t){return{matched:!0,parameters:t.length>0?UT(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function OT(t,e,n,r){return n.length>0&&h3(t,n,r)?{segmentGroup:new ke(e,d3(r,new ke(n,t.children))),slicedSegments:[]}:n.length===0&&f3(t,n,r)?{segmentGroup:new ke(t.segments,l3(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new ke(t.segments,t.children),slicedSegments:n}}function l3(t,e,n,r){let i={};for(let o of n)if(vh(t,e,o)&&!r[kn(o)]){let s=new ke([],{});i[kn(o)]=s}return j(j({},r),i)}function d3(t,e){let n={};n[me]=e;for(let r of t)if(r.path===""&&kn(r)!==me){let i=new ke([],{});n[kn(r)]=i}return n}function h3(t,e,n){return n.some(r=>vh(t,e,r)&&kn(r)!==me)}function f3(t,e,n){return n.some(r=>vh(t,e,r))}function vh(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function p3(t,e,n,r){return kn(t)!==r&&(r===me||!vh(e,n,t))?!1:n0(e,t,n).matched}function g3(t,e,n){return e.length===0&&!t.children[n]}var Yy=class{};function m3(t,e,n,r,i,o,s="emptyOnly"){return new Jy(t,e,n,r,i,s,o).recognize()}var y3=31,Jy=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Ky(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new Z(4002,`'${e.segmentGroup}'`)}recognize(){let e=OT(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ie(({children:n,rootSnapshot:r})=>{let i=new cn(r,n),o=new fh("",i),s=CL(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new Vs([],Object.freeze({}),Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),me,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,me,n).pipe(ie(r=>({children:r,rootSnapshot:n})),ui(r=>{if(r instanceof Vc)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Fc?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(ie(s=>s instanceof cn?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Ue(o).pipe(br(s=>{let a=r.children[s],u=VL(n,s);return this.processSegmentGroup(e,u,a,s,i)}),Pl((s,a)=>(s.push(...a),s)),li(null),eg(),ot(s=>{if(s===null)return Os(r);let a=aS(s);return v3(a),te(a)}))}processSegment(e,n,r,i,o,s,a){return Ue(n).pipe(br(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,o,s,a).pipe(ui(l=>{if(l instanceof Fc)return te(null);throw l}))),Hn(u=>!!u),ui(u=>{if(oS(u))return g3(r,i,o)?te(new Yy):Os(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,o,s,a,u){return p3(r,i,o,s)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,u):Os(i):Os(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:m}=n0(n,i,o);if(!u)return Os(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>y3&&(this.allowRedirects=!1));let y=new Vs(o,l,Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,kT(i),kn(i),i.component??i._loadedComponent??null,i,FT(i)),S=hh(y,a,this.paramsInheritanceStrategy);y.params=Object.freeze(S.params),y.data=Object.freeze(S.data);let N=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,y,e);return this.applyRedirects.lineralizeSegments(i,N).pipe(ot(x=>this.processSegment(e,r,n,x.concat(m),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a=c3(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(Qt(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Qt(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:y}=u,S=new Vs(m,p,Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,kT(r),kn(r),r.component??r._loadedComponent??null,r,FT(r)),N=hh(S,s,this.paramsInheritanceStrategy);S.params=Object.freeze(N.params),S.data=Object.freeze(N.data);let{segmentGroup:x,slicedSegments:V}=OT(n,m,y,l);if(V.length===0&&x.hasChildren())return this.processChildren(h,l,x,S).pipe(ie(K=>new cn(S,K)));if(l.length===0&&V.length===0)return te(new cn(S,[]));let X=kn(r)===o;return this.processSegment(h,l,x,V,X?me:o,!0,S).pipe(ie(K=>new cn(S,K instanceof cn?[K]:[])))}))):Os(n)))}getChildConfig(e,n,r){return n.children?te({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?te({routes:n._loadedRoutes,injector:n._loadedInjector}):i3(e,n,r,this.urlSerializer).pipe(ot(i=>i?this.configLoader.loadChildren(e,n).pipe(st(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):a3(n))):te({routes:[],injector:e})}};function v3(t){t.sort((e,n)=>e.value.outlet===me?-1:n.value.outlet===me?1:e.value.outlet.localeCompare(n.value.outlet))}function _3(t){let e=t.value.routeConfig;return e&&e.path===""}function aS(t){let e=[],n=new Set;for(let r of t){if(!_3(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=aS(r.children);e.push(new cn(r.value,i))}return e.filter(r=>!n.has(r))}function kT(t){return t.data||{}}function FT(t){return t.resolve||{}}function w3(t,e,n,r,i,o){return ot(s=>m3(t,e,n,r,s.extractedUrl,i,o).pipe(ie(({state:a,tree:u})=>ye(j({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function E3(t,e){return ot(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return te(n);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of cS(u))s.add(l);let a=0;return Ue(s).pipe(br(u=>o.has(u)?I3(u,r,t,e):(u.data=hh(u,u.parent,t).resolve,te(void 0))),st(()=>a++),ls(1),ot(u=>a===s.size?te(n):en))})}function cS(t){let e=t.children.map(n=>cS(n)).flat();return[t,...e]}function I3(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!tS(i)&&(o[jc]=i.title),C3(o,t,e,r).pipe(ie(s=>(t._resolvedData=s,t.data=hh(t,t.parent,n).resolve,null)))}function C3(t,e,n,r){let i=Ay(t);if(i.length===0)return te({});let o={};return Ue(i).pipe(ot(s=>b3(t[s],e,n,r).pipe(Hn(),st(a=>{if(a instanceof kc)throw ph(new Us,a);o[s]=a}))),ls(1),Xp(o),ui(s=>oS(s)?en:cs(s)))}function b3(t,e,n,r){let i=$c(e)??r,o=qs(t,i),s=o.resolve?o.resolve(e,n):rn(i,()=>o(e,n));return Ri(s)}function Ty(t){return Qt(e=>{let n=t(e);return n?Ue(n).pipe(ie(()=>e)):te(e)})}var uS=(()=>{let e=class e{buildTitle(r){let i,o=r.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===me);return i}getResolvedTitleForRoute(r){return r.data[jc]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>F(D3),providedIn:"root"});let t=e;return t})(),D3=(()=>{let e=class e extends uS{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(G(AT))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),zc=new H("",{providedIn:"root",factory:()=>({})}),Lc=new H(""),r0=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=F(Nd)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return te(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Ri(r.loadComponent()).pipe(ie(lS),st(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),di(()=>{this.componentLoaders.delete(r)})),o=new rs(i,()=>new wt).pipe(ns());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return te({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=T3(i,this.compiler,r,this.onLoadEndListener).pipe(di(()=>{this.childrenLoaders.delete(i)})),a=new rs(s,()=>new wt).pipe(ns());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function T3(t,e,n,r){return Ri(t.loadChildren()).pipe(ie(lS),ot(i=>i instanceof sc||Array.isArray(i)?te(i):Ue(e.compileModuleAsync(i))),ie(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(Lc,[],{optional:!0,self:!0}).flat()),{routes:s.map(t0),injector:o}}))}function S3(t){return t&&typeof t=="object"&&"default"in t}function lS(t){return S3(t)?t.default:t}var i0=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>F(A3),providedIn:"root"});let t=e;return t})(),A3=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),dS=new H(""),hS=new H("");function M3(t,e,n){let r=t.get(hS),i=t.get(kt);return t.get(Ce).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),x3(t))),{onViewTransitionCreated:u}=r;return u&&rn(t,()=>u({transition:a,from:e,to:n})),s})}function x3(t){return new Promise(e=>{Sd(()=>setTimeout(e),{injector:t,phase:fi.Read})})}var P3=new H(""),o0=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new wt,this.transitionAbortSubject=new wt,this.configLoader=F(r0),this.environmentInjector=F(Rt),this.urlSerializer=F(Uc),this.rootContexts=F(Bc),this.location=F(Rs),this.inputBindingEnabled=F(yh,{optional:!0})!==null,this.titleStrategy=F(uS),this.options=F(zc,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=F(i0),this.createViewTransition=F(dS,{optional:!0}),this.navigationErrorHandler=F(P3,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>te(void 0),this.rootComponentType=null;let r=o=>this.events.next(new Fy(o)),i=o=>this.events.next(new Vy(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(ye(j(j({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,o){return this.transitions=new mt({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Ac,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Bt(s=>s.id!==0),ie(s=>ye(j({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Qt(s=>{let a=!1,u=!1;return te(s).pipe(Qt(l=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",un.SupersededByNewNavigation),en;this.currentTransition=s,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?ye(j({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let h=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!h&&p!=="reload"){let m="";return this.events.next(new Pi(l.id,this.urlSerializer.serialize(l.rawUrl),m,ah.IgnoredSameUrlNavigation)),l.resolve(!1),en}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return te(l).pipe(Qt(m=>{let y=this.transitions?.getValue();return this.events.next(new Bs(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),y!==this.transitions?.getValue()?en:Promise.resolve(m)}),w3(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),st(m=>{s.targetSnapshot=m.targetSnapshot,s.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation=ye(j({},this.currentNavigation),{finalUrl:m.urlAfterRedirects});let y=new ch(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(y)}));if(h&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:m,extractedUrl:y,source:S,restoredState:N,extras:x}=l,V=new Bs(m,this.urlSerializer.serialize(y),S,N);this.events.next(V);let X=XT(this.rootComponentType).snapshot;return this.currentTransition=s=ye(j({},l),{targetSnapshot:X,urlAfterRedirects:y,extras:ye(j({},x),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=y,te(s)}else{let m="";return this.events.next(new Pi(l.id,this.urlSerializer.serialize(l.extractedUrl),m,ah.IgnoredByUrlHandlingStrategy)),l.resolve(!1),en}}),st(l=>{let h=new Ry(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),ie(l=>(this.currentTransition=s=ye(j({},l),{guards:jL(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),s)),YL(this.environmentInjector,l=>this.events.next(l)),st(l=>{if(s.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw ph(this.urlSerializer,l.guardsResult);let h=new Ny(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(h)}),Bt(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",un.GuardRejected),!1)),Ty(l=>{if(l.guards.canActivateChecks.length)return te(l).pipe(st(h=>{let p=new Oy(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}),Qt(h=>{let p=!1;return te(h).pipe(E3(this.paramsInheritanceStrategy,this.environmentInjector),st({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(h,"",un.NoDataFromResolver)}}))}),st(h=>{let p=new ky(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}))}),Ty(l=>{let h=p=>{let m=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(p.routeConfig).pipe(st(y=>{p.component=y}),ie(()=>{})));for(let y of p.children)m.push(...h(y));return m};return Xa(h(l.targetSnapshot.root)).pipe(li(null),Dr(1))}),Ty(()=>this.afterPreactivation()),Qt(()=>{let{currentSnapshot:l,targetSnapshot:h}=s,p=this.createViewTransition?.(this.environmentInjector,l.root,h.root);return p?Ue(p).pipe(ie(()=>s)):te(s)}),ie(l=>{let h=PL(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s=ye(j({},l),{targetRouterState:h}),this.currentNavigation.targetRouterState=h,s}),st(()=>{this.events.next(new Nc)}),LL(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Dr(1),st({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Fn(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),tg(this.transitionAbortSubject.pipe(st(l=>{throw l}))),di(()=>{!a&&!u&&this.cancelNavigationTransition(s,"",un.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),ui(l=>{if(u=!0,iS(l))this.events.next(new $r(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),OL(l)?this.events.next(new $s(l.url,l.navigationBehaviorOptions)):s.resolve(!1);else{let h=new Rc(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0);try{let p=rn(this.environmentInjector,()=>this.navigationErrorHandler?.(h));if(p instanceof kc){let{message:m,cancellationCode:y}=ph(this.urlSerializer,p);this.events.next(new $r(s.id,this.urlSerializer.serialize(s.extractedUrl),m,y)),this.events.next(new $s(p.redirectTo,p.navigationBehaviorOptions))}else{this.events.next(h);let m=r.errorHandler(l);s.resolve(!!m)}}catch(p){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(p)}}return en}))}))}cancelNavigationTransition(r,i,o){let s=new $r(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function R3(t){return t!==Ac}var N3=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>F(O3),providedIn:"root"});let t=e;return t})(),Zy=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},O3=(()=>{let e=class e extends Zy{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Xn(e)))(o||e)}})(),e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),fS=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>F(k3),providedIn:"root"});let t=e;return t})(),k3=(()=>{let e=class e extends fS{constructor(){super(...arguments),this.location=F(Rs),this.urlSerializer=F(Uc),this.options=F(zc,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=F(i0),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new xi,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=XT(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof Bs)this.stateMemento=this.createStateMemento();else if(r instanceof Pi)this.rawUrlTree=i.initialUrl;else if(r instanceof ch){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(o,i)}}else r instanceof Nc?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof $r&&(r.code===un.GuardRejected||r.code===un.NoDataFromResolver)?this.restoreHistory(i):r instanceof Rc?this.restoreHistory(i,!0):r instanceof Fn&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let o=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let s=this.browserPageId,a=j(j({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(o,"",a)}else{let s=j(j({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===r.finalUrl&&s===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Xn(e)))(o||e)}})(),e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Tc=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Tc||{});function pS(t,e){t.events.pipe(Bt(n=>n instanceof Fn||n instanceof $r||n instanceof Rc||n instanceof Pi),ie(n=>n instanceof Fn||n instanceof Pi?Tc.COMPLETE:(n instanceof $r?n.code===un.Redirect||n.code===un.SupersededByNewNavigation:!1)?Tc.REDIRECTING:Tc.FAILED),Bt(n=>n!==Tc.REDIRECTING),Dr(1)).subscribe(()=>{e()})}function F3(t){throw t}var V3={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},L3={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},lt=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=F(Pd),this.stateManager=F(fS),this.options=F(zc,{optional:!0})||{},this.pendingTasks=F(Nr),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=F(o0),this.urlSerializer=F(Uc),this.location=F(Rs),this.urlHandlingStrategy=F(i0),this._events=new wt,this.errorHandler=this.options.errorHandler||F3,this.navigated=!1,this.routeReuseStrategy=F(N3),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=F(Lc,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!F(yh,{optional:!0}),this.eventsSubscription=new Ye,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof $r&&i.code!==un.Redirect&&i.code!==un.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Fn)this.navigated=!0;else if(i instanceof $s){let a=i.navigationBehaviorOptions,u=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),l=j({info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||R3(o.source)},a);this.scheduleNavigation(u,Ac,null,l,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}U3(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ac,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let l=j({},o);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let u=this.parseUrl(r);this.scheduleNavigation(u,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(t0),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:u,preserveFragment:l}=i,h=l?this.currentUrlTree.fragment:a,p=null;switch(u){case"merge":p=j(j({},this.currentUrlTree.queryParams),s);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=s||null}p!==null&&(p=this.removeEmptyProps(p));let m;try{let y=o?o.snapshot:this.routerState.snapshot.root;m=QT(y)}catch{(typeof r[0]!="string"||r[0][0]!=="/")&&(r=[]),m=this.currentUrlTree.root}return YT(m,r,p,h??null)}navigateByUrl(r,i={skipLocationChange:!1}){let o=xc(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,Ac,null,i)}navigate(r,i={skipLocationChange:!1}){return j3(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let o;if(i===!0?o=j({},V3):i===!1?o=j({},L3):o=i,xc(r))return MT(this.currentUrlTree,r,o);let s=this.parseUrl(r);return MT(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.entries(r).reduce((i,[o,s])=>(s!=null&&(i[o]=s),i),{})}scheduleNavigation(r,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let u,l,h;a?(u=a.resolve,l=a.reject,h=a.promise):h=new Promise((m,y)=>{u=m,l=y});let p=this.pendingTasks.add();return pS(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:s,resolve:u,reject:l,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(m=>Promise.reject(m))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function j3(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new Z(4008,!1)}function U3(t){return!(t instanceof Nc)&&!(t instanceof $s)}var zs=(()=>{let e=class e{constructor(r,i,o,s,a,u){this.router=r,this.route=i,this.tabIndexAttribute=o,this.renderer=s,this.el=a,this.locationStrategy=u,this.href=null,this.commands=null,this.onChanges=new wt,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let l=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=r.events.subscribe(h=>{h instanceof Fn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,o,s,a){let u=this.urlTree;if(u===null||this.isAnchorElement&&(r!==0||i||o||s||a||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(u,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:Rb(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let o=this.renderer,s=this.el.nativeElement;i!==null?o.setAttribute(s,r,i):o.removeAttribute(s,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)($(lt),$(ir),Tm("tabindex"),$(Rn),$(zt),$(Ur))},e.\u0275dir=qe({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,o){i&1&&B("click",function(a){return o.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&fc("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Ci],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Ci],replaceUrl:[2,"replaceUrl","replaceUrl",Ci],routerLink:"routerLink"},standalone:!0,features:[Wm,Rr]});let t=e;return t})(),gS=(()=>{let e=class e{get isActive(){return this._isActive}constructor(r,i,o,s,a){this.router=r,this.element=i,this.renderer=o,this.cdr=s,this.link=a,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Je,this.routerEventsSubscription=r.events.subscribe(u=>{u instanceof Fn&&this.update()})}ngAfterContentInit(){te(this.links.changes,te(null)).pipe(ci()).subscribe(r=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let r=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=Ue(r).pipe(ci()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(r){let i=Array.isArray(r)?r:r.split(" ");this.classes=i.filter(o=>!!o)}ngOnChanges(r){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let r=this.hasActiveLinks();this.classes.forEach(i=>{r?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),r&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==r&&(this._isActive=r,this.cdr.markForCheck(),this.isActiveChange.emit(r))})}isLinkActive(r){let i=B3(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return o=>{let s=o.urlTree;return s?r.isActive(s,i):!1}}hasActiveLinks(){let r=this.isLinkActive(this.router);return this.link&&r(this.link)||this.links.some(r)}};e.\u0275fac=function(i){return new(i||e)($(lt),$(zt),$(Rn),$(Ii),$(zs,8))},e.\u0275dir=qe({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(i,o,s){if(i&1&&MD(s,zs,5),i&2){let a;Md(a=xd())&&(o.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Rr]});let t=e;return t})();function B3(t){return!!t.paths}var mh=class{};var $3=(()=>{let e=class e{constructor(r,i,o,s,a){this.router=r,this.injector=o,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Bt(r=>r instanceof Fn),br(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){let o=[];for(let s of i){s.providers&&!s._injector&&(s._injector=Ad(s.providers,r,`Route: ${s.path}`));let a=s._injector??r,u=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&o.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&o.push(this.processRoutes(u,s.children??s._loadedRoutes))}return Ue(o).pipe(ci())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let o;i.loadChildren&&i.canLoad===void 0?o=this.loader.loadChildren(r,i):o=te(null);let s=o.pipe(ot(a=>a===null?te(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));if(i.loadComponent&&!i._loadedComponent){let a=this.loader.loadComponent(i);return Ue([s,a]).pipe(ci())}else return s})}};e.\u0275fac=function(i){return new(i||e)(G(lt),G(Nd),G(Rt),G(mh),G(r0))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),mS=new H(""),H3=(()=>{let e=class e{constructor(r,i,o,s,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=o,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=F(Rt),a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Bs?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof Fn?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof Pi&&r.code===ah.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof uh&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>w(this,null,function*(){yield new Promise(o=>{setTimeout(()=>{o()}),Sd(()=>{o()},{injector:this.environmentInjector})}),this.zone.run(()=>{this.transitions.events.next(new uh(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(i){zb()},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})();function yS(t,...e){return nn([{provide:Lc,multi:!0,useValue:t},[],{provide:ir,useFactory:vS,deps:[lt]},{provide:gc,multi:!0,useFactory:_S},e.map(n=>n.\u0275providers)])}function vS(t){return t.routerState.root}function qc(t,e){return{\u0275kind:t,\u0275providers:e}}function _S(){let t=F(yt);return e=>{let n=t.get(_o);if(e!==n.components[0])return;let r=t.get(lt),i=t.get(wS);t.get(s0)===1&&r.initialNavigation(),t.get(ES,null,ve.Optional)?.setUpPreloading(),t.get(mS,null,ve.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var wS=new H("",{factory:()=>new wt}),s0=new H("",{providedIn:"root",factory:()=>1});function z3(){return qc(2,[{provide:s0,useValue:0},{provide:Rd,multi:!0,deps:[yt],useFactory:e=>{let n=e.get(JD,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(lt),o=e.get(wS);pS(i,()=>{r(!0)}),e.get(o0).afterPreactivation=()=>(r(!0),o.closed?te(void 0):o),i.initialNavigation()}))}}])}function q3(){return qc(3,[{provide:Rd,multi:!0,useFactory:()=>{let e=F(lt);return()=>{e.setUpLocationChangeListener()}}},{provide:s0,useValue:2}])}var ES=new H("");function G3(t){return qc(0,[{provide:ES,useExisting:$3},{provide:mh,useExisting:t}])}function W3(){return qc(8,[NT,{provide:yh,useExisting:NT}])}function K3(t){let e=[{provide:dS,useValue:M3},{provide:hS,useValue:j({skipNextTransition:!!t?.skipInitialTransition},t)}];return qc(9,e)}var VT=new H("ROUTER_FORROOT_GUARD"),Q3=[Rs,{provide:Uc,useClass:Us},lt,Bc,{provide:ir,useFactory:vS,deps:[lt]},r0,[]],Gs=(()=>{let e=class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[Q3,[],{provide:Lc,multi:!0,useValue:r},{provide:VT,useFactory:X3,deps:[[lt,new vt,new hm]]},{provide:zc,useValue:i||{}},i?.useHash?J3():Z3(),Y3(),i?.preloadingStrategy?G3(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?e2(i):[],i?.bindToComponentInputs?W3().\u0275providers:[],i?.enableViewTransitions?K3().\u0275providers:[],t2()]}}static forChild(r){return{ngModule:e,providers:[{provide:Lc,multi:!0,useValue:r}]}}};e.\u0275fac=function(i){return new(i||e)(G(VT,8))},e.\u0275mod=Zn({type:e}),e.\u0275inj=Jn({});let t=e;return t})();function Y3(){return{provide:mS,useFactory:()=>{let t=F(iT),e=F(Ce),n=F(zc),r=F(o0),i=F(Uc);return n.scrollOffset&&t.setOffset(n.scrollOffset),new H3(i,r,t,e,n)}}}function J3(){return{provide:Ur,useClass:XD}}function Z3(){return{provide:Ur,useClass:sy}}function X3(t){return"guarded"}function e2(t){return[t.initialNavigation==="disabled"?q3().\u0275providers:[],t.initialNavigation==="enabledBlocking"?z3().\u0275providers:[]]}var LT=new H("");function t2(){return[{provide:LT,useFactory:_S},{provide:gc,multi:!0,useExisting:LT}]}var CS=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},n2=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},_h={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,m=(a&15)<<2|l>>6,y=l&63;u||(y=64,s||(m=64)),r.push(n[h],n[p],n[m],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(CS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):n2(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new c0;let m=o<<2|a>>4;if(r.push(m),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let S=l<<6&192|p;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},c0=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},r2=function(t){let e=CS(t);return _h.encodeByteArray(e,!0)},Gc=function(t){return r2(t).replace(/\./g,"")},l0=function(t){try{return _h.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function d0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var i2=()=>d0().__FIREBASE_DEFAULTS__,o2=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},s2=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&l0(t[1]);return e&&JSON.parse(e)},wh=()=>{try{return i2()||o2()||s2()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},h0=t=>{var e,n;return(n=(e=wh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},bS=t=>{let e=h0(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},f0=()=>{var t;return(t=wh())===null||t===void 0?void 0:t.config},p0=t=>{var e;return(e=wh())===null||e===void 0?void 0:e[`_${t}`]};var Hr=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function DS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Gc(JSON.stringify(n)),Gc(JSON.stringify(s)),""].join(".")}function Ct(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function TS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ct())}function a2(){var t;let e=(t=wh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function SS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function AS(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function MS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function xS(){let t=Ct();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function PS(){return!a2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ws(){try{return typeof indexedDB=="object"}catch{return!1}}function RS(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var c2="FirebaseError",ln=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=c2,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vn.prototype.create)}},Vn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?u2(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new ln(i,a,r)}};function u2(t,e){return t.replace(l2,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var l2=/\{\$([^}]+)}/g;function NS(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Co(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(IS(o)&&IS(s)){if(!Co(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function IS(t){return t!==null&&typeof t=="object"}function Wc(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function OS(t,e){let n=new u0(t,e);return n.subscribe.bind(n)}var u0=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");d2(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=a0),i.error===void 0&&(i.error=a0),i.complete===void 0&&(i.complete=a0);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function d2(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function a0(){}var kS=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{let e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})};var h2=1e3,f2=2,p2=4*60*60*1e3,g2=.5;function FS(t,e=h2,n=f2){let r=e*Math.pow(n,t),i=Math.round(g2*r*(Math.random()-.5)*2);return Math.min(p2,r+i)}function dt(t){return t&&t._delegate?t._delegate:t}var Gt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var bo="[DEFAULT]";var g0=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Hr;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(y2(e))try{this.getOrInitializeService({instanceIdentifier:bo})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=bo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return w(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=bo){return this.instances.has(e)}getOptions(e=bo){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:m2(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=bo){return this.component?this.component.multipleInstances?e:bo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function m2(t){return t===bo?void 0:t}function y2(t){return t.instantiationMode==="EAGER"}var Eh=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new g0(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var v2=[],we=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(we||{}),_2={debug:we.DEBUG,verbose:we.VERBOSE,info:we.INFO,warn:we.WARN,error:we.ERROR,silent:we.SILENT},w2=we.INFO,E2={[we.DEBUG]:"log",[we.VERBOSE]:"log",[we.INFO]:"info",[we.WARN]:"warn",[we.ERROR]:"error"},I2=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=E2[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},or=class{constructor(e){this.name=e,this._logLevel=w2,this._logHandler=I2,this._userLogHandler=null,v2.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in we))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,we.DEBUG,...e),this._logHandler(this,we.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,we.VERBOSE,...e),this._logHandler(this,we.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,we.INFO,...e),this._logHandler(this,we.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,we.WARN,...e),this._logHandler(this,we.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,we.ERROR,...e),this._logHandler(this,we.ERROR,...e)}};var C2=(t,e)=>e.some(n=>t instanceof n),VS,LS;function b2(){return VS||(VS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function D2(){return LS||(LS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var jS=new WeakMap,y0=new WeakMap,US=new WeakMap,m0=new WeakMap,_0=new WeakMap;function T2(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(sr(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&jS.set(n,t)}).catch(()=>{}),_0.set(e,t),e}function S2(t){if(y0.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});y0.set(t,e)}var v0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return y0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||US.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return sr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function BS(t){v0=t(v0)}function A2(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Ih(this),e,...n);return US.set(r,e.sort?e.sort():[e]),sr(r)}:D2().includes(t)?function(...e){return t.apply(Ih(this),e),sr(jS.get(this))}:function(...e){return sr(t.apply(Ih(this),e))}}function M2(t){return typeof t=="function"?A2(t):(t instanceof IDBTransaction&&S2(t),C2(t,b2())?new Proxy(t,v0):t)}function sr(t){if(t instanceof IDBRequest)return T2(t);if(m0.has(t))return m0.get(t);let e=M2(t);return e!==t&&(m0.set(t,e),_0.set(e,t)),e}var Ih=t=>_0.get(t);function HS(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=sr(s);return r&&s.addEventListener("upgradeneeded",u=>{r(sr(s.result),u.oldVersion,u.newVersion,sr(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var x2=["get","getKey","getAll","getAllKeys","count"],P2=["put","add","delete","clear"],w0=new Map;function $S(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(w0.get(e))return w0.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=P2.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||x2.includes(n)))return;let o=function(s,...a){return w(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&u.done]))[0]})};return w0.set(e,o),o}BS(t=>ye(j({},t),{get:(e,n,r)=>$S(e,n)||t.get(e,n,r),has:(e,n)=>!!$S(e,n)||t.has(e,n)}));var I0=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(R2(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function R2(t){let e=t.getComponent();return e?.type==="VERSION"}var C0="@firebase/app",zS="0.10.13";var zr=new or("@firebase/app"),N2="@firebase/app-compat",O2="@firebase/analytics-compat",k2="@firebase/analytics",F2="@firebase/app-check-compat",V2="@firebase/app-check",L2="@firebase/auth",j2="@firebase/auth-compat",U2="@firebase/database",B2="@firebase/data-connect",$2="@firebase/database-compat",H2="@firebase/functions",z2="@firebase/functions-compat",q2="@firebase/installations",G2="@firebase/installations-compat",W2="@firebase/messaging",K2="@firebase/messaging-compat",Q2="@firebase/performance",Y2="@firebase/performance-compat",J2="@firebase/remote-config",Z2="@firebase/remote-config-compat",X2="@firebase/storage",ej="@firebase/storage-compat",tj="@firebase/firestore",nj="@firebase/vertexai-preview",rj="@firebase/firestore-compat",ij="firebase",oj="10.14.1";var b0="[DEFAULT]",sj={[C0]:"fire-core",[N2]:"fire-core-compat",[k2]:"fire-analytics",[O2]:"fire-analytics-compat",[V2]:"fire-app-check",[F2]:"fire-app-check-compat",[L2]:"fire-auth",[j2]:"fire-auth-compat",[U2]:"fire-rtdb",[B2]:"fire-data-connect",[$2]:"fire-rtdb-compat",[H2]:"fire-fn",[z2]:"fire-fn-compat",[q2]:"fire-iid",[G2]:"fire-iid-compat",[W2]:"fire-fcm",[K2]:"fire-fcm-compat",[Q2]:"fire-perf",[Y2]:"fire-perf-compat",[J2]:"fire-rc",[Z2]:"fire-rc-compat",[X2]:"fire-gcs",[ej]:"fire-gcs-compat",[tj]:"fire-fst",[rj]:"fire-fst-compat",[nj]:"fire-vertex","fire-js":"fire-js",[ij]:"fire-js-all"};var Kc=new Map,aj=new Map,D0=new Map;function qS(t,e){try{t.container.addComponent(e)}catch(n){zr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ln(t){let e=t.name;if(D0.has(e))return zr.debug(`There were multiple attempts to register component ${e}.`),!1;D0.set(e,t);for(let n of Kc.values())qS(n,t);for(let n of aj.values())qS(n,t);return!0}function Oi(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function qr(t){return t.settings!==void 0}var cj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ni=new Vn("app","Firebase",cj);var T0=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Gt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ni.create("app-deleted",{appName:this._name})}};var ki=oj;function M0(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:b0,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ni.create("bad-app-name",{appName:String(i)});if(n||(n=f0()),!n)throw Ni.create("no-options");let o=Kc.get(i);if(o){if(Co(n,o.options)&&Co(r,o.config))return o;throw Ni.create("duplicate-app",{appName:i})}let s=new Eh(i);for(let u of D0.values())s.addComponent(u);let a=new T0(n,r,s);return Kc.set(i,a),a}function Fi(t=b0){let e=Kc.get(t);if(!e&&t===b0&&f0())return M0();if(!e)throw Ni.create("no-app",{appName:t});return e}function Ch(){return Array.from(Kc.values())}function We(t,e,n){var r;let i=(r=sj[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),zr.warn(a.join(" "));return}Ln(new Gt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var uj="firebase-heartbeat-database",lj=1,Qc="firebase-heartbeat-store",E0=null;function QS(){return E0||(E0=HS(uj,lj,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Qc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ni.create("idb-open",{originalErrorMessage:t.message})})),E0}function dj(t){return w(this,null,function*(){try{let n=(yield QS()).transaction(Qc),r=yield n.objectStore(Qc).get(YS(t));return yield n.done,r}catch(e){if(e instanceof ln)zr.warn(e.message);else{let n=Ni.create("idb-get",{originalErrorMessage:e?.message});zr.warn(n.message)}}})}function GS(t,e){return w(this,null,function*(){try{let r=(yield QS()).transaction(Qc,"readwrite");yield r.objectStore(Qc).put(e,YS(t)),yield r.done}catch(n){if(n instanceof ln)zr.warn(n.message);else{let r=Ni.create("idb-set",{originalErrorMessage:n?.message});zr.warn(r.message)}}})}function YS(t){return`${t.name}!${t.options.appId}`}var hj=1024,fj=30*24*60*60*1e3,S0=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new A0(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return w(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=WS();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=fj}),this._storage.overwrite(this._heartbeatsCache))}catch(r){zr.warn(r)}})}getHeartbeatsHeader(){return w(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=WS(),{heartbeatsToSend:r,unsentEntries:i}=pj(this._heartbeatsCache.heartbeats),o=Gc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return zr.warn(n),""}})}};function WS(){return new Date().toISOString().substring(0,10)}function pj(t,e=hj){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),KS(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),KS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var A0=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return w(this,null,function*(){return Ws()?RS().then(()=>!0).catch(()=>!1):!1})}read(){return w(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield dj(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return w(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return GS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return w(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return GS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function KS(t){return Gc(JSON.stringify({version:2,heartbeats:t})).length}function gj(t){Ln(new Gt("platform-logger",e=>new I0(e),"PRIVATE")),Ln(new Gt("heartbeat",e=>new S0(e),"PRIVATE")),We(C0,zS,t),We(C0,zS,"esm2017"),We("fire-js","")}gj("");var mj="firebase",yj="10.14.1";We(mj,yj,"app");var Gr=new Mr("ANGULARFIRE2_VERSION");function Qs(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Ys=(t,e)=>{let n=e?[e]:Ch(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Vi=class{constructor(){return Ys(P0)}},P0="app-check";function Ks(){}var bh=class{zone;delegate;constructor(e,n=Kp){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,r)}},x0=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ks,{},Ks,Ks)),n.pipe(st({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Li=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new bh(Zone.current)),this.insideAngular=n.run(()=>new bh(Zone.current,as)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(G(Ce))};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Dh(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function vj(t){return Dh().ngZone.runOutsideAngular(()=>t())}function Do(t){return Dh().ngZone.run(()=>t())}function _j(t){return wj(Dh())(t)}function wj(t){return function(n){return n=n.lift(new x0(t.ngZone)),n.pipe(ai(t.outsideAngular),si(t.insideAngular))}}var Ej=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Do(()=>t.apply(void 0,r))},ht=(t,e)=>function(){let n,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(n||=Do(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ks,{},Ks,Ks))),r[o]=Ej(r[o],n));let i=vj(()=>t.apply(this,r));if(!e)if(i instanceof pe){let o=Dh();return i.pipe(ai(o.outsideAngular),si(o.insideAngular))}else return Do(()=>i);return i instanceof pe?i.pipe(_j):i instanceof Promise?Do(()=>new Promise((o,s)=>i.then(a=>Do(()=>o(a)),a=>Do(()=>s(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Do(()=>i)};var jn=class{constructor(e){return e}},Wr=class{constructor(){return Ch()}};function Ij(t){return t&&t.length===1?t[0]:new jn(Fi())}var R0=new H("angularfire2._apps"),Cj={provide:jn,useFactory:Ij,deps:[[new vt,R0]]},bj={provide:Wr,deps:[[new vt,R0]]};function Dj(t){return(e,n)=>{let r=n.get(Tt);We("angularfire",Gr.full,"core"),We("angularfire",Gr.full,"app"),We("angular",kD.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new jn(i)}}function JS(t,...e){return nn([Cj,bj,{provide:R0,useFactory:Dj(t),multi:!0,deps:[Ce,yt,Li,...e]}])}var ZS=ht(M0,!0);function fA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var pA=fA,gA=new Vn("auth","Firebase",fA());var Ph=new or("@firebase/auth");function Tj(t,...e){Ph.logLevel<=we.WARN&&Ph.warn(`Auth (${ki}): ${t}`,...e)}function Sh(t,...e){Ph.logLevel<=we.ERROR&&Ph.error(`Auth (${ki}): ${t}`,...e)}function Ui(t,...e){throw Z0(t,...e)}function So(t,...e){return Z0(t,...e)}function mA(t,e,n){let r=Object.assign(Object.assign({},pA()),{[e]:n});return new Vn("auth","Firebase",r).create(e,{appName:t.name})}function To(t){return mA(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Z0(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return gA.create(t,...e)}function ue(t,e,...n){if(!t)throw Z0(e,...n)}function Kr(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Sh(e),new Error(e)}function Bi(t,e){t||Kr(e)}function F0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Sj(){return XS()==="http:"||XS()==="https:"}function XS(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function Aj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Sj()||AS()||"connection"in navigator)?navigator.onLine:!0}function Mj(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Ao=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Bi(n>e,"Short delay should be less than long delay!"),this.isMobile=TS()||MS()}get(){return Aj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function X0(t,e){Bi(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Rh=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Kr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Kr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Kr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var xj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var Pj=new Ao(3e4,6e4);function ev(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Zs(o,s,a,u){return w(this,arguments,function*(t,e,n,r,i={}){return yA(t,i,()=>w(this,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=Wc(Object.assign({key:t.config.apiKey},h)).slice(1),m=yield t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);let y=Object.assign({method:e,headers:m},l);return SS()||(y.referrerPolicy="no-referrer"),Rh.fetch()(vA(t,t.config.apiHost,n,p),y)}))})}function yA(t,e,n){return w(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},xj),e);try{let i=new V0(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Th(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Th(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw Th(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw Th(t,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw mA(t,h,l);Ui(t,h)}}catch(i){if(i instanceof ln)throw i;Ui(t,"network-request-failed",{message:String(i)})}})}function Rj(o,s,a,u){return w(this,arguments,function*(t,e,n,r,i={}){let l=yield Zs(t,e,n,r,i);return"mfaPendingCredential"in l&&Ui(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function vA(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?X0(t.config,i):`${t.config.apiScheme}://${i}`}var V0=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(So(this.auth,"network-request-failed")),Pj.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Th(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=So(t,e,r);return i.customData._tokenResponse=n,i}function Nj(t,e){return w(this,null,function*(){return Zs(t,"POST","/v1/accounts:delete",e)})}function _A(t,e){return w(this,null,function*(){return Zs(t,"POST","/v1/accounts:lookup",e)})}function Yc(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function tv(t,e=!1){return w(this,null,function*(){let n=dt(t),r=yield n.getIdToken(e),i=nv(r);ue(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Yc(N0(i.auth_time)),issuedAtTime:Yc(N0(i.iat)),expirationTime:Yc(N0(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function N0(t){return Number(t)*1e3}function nv(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Sh("JWT malformed, contained fewer than 3 sections"),null;try{let i=l0(n);return i?JSON.parse(i):(Sh("Failed to decode base64 JWT payload"),null)}catch(i){return Sh("Caught error parsing JWT payload as JSON",i?.toString()),null}}function eA(t){let e=nv(t);return ue(e,"internal-error"),ue(typeof e.exp<"u","internal-error"),ue(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Zc(t,e,n=!1){return w(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof ln&&Oj(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function Oj({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var L0=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>w(this,null,function*(){yield this.iteration()}),n)}iteration(){return w(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Xc=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yc(this.lastLoginAt),this.creationTime=Yc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Nh(t){return w(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Zc(t,_A(n,{idToken:r}));ue(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?wA(o.providerUserInfo):[],a=kj(t.providerData,s),u=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Xc(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,p)})}function rv(t){return w(this,null,function*(){let e=dt(t);yield Nh(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function kj(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function wA(t){return t.map(e=>{var{providerId:n}=e,r=Qp(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function Fj(t,e){return w(this,null,function*(){let n=yield yA(t,{},()=>w(this,null,function*(){let r=Wc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=vA(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Rh.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function Vj(t,e){return w(this,null,function*(){return Zs(t,"POST","/v2/accounts:revokeToken",ev(t,e))})}var Jc=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ue(e.idToken,"internal-error"),ue(typeof e.idToken<"u","internal-error"),ue(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):eA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ue(e.length!==0,"internal-error");let n=eA(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return w(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ue(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return w(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield Fj(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(ue(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(ue(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(ue(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Kr("not implemented")}};function ji(t,e){ue(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Js=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Qp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new L0(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Xc(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return w(this,null,function*(){let n=yield Zc(this,this.stsTokenManager.getToken(this.auth,e));return ue(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return tv(this,e)}reload(){return rv(this)}_assign(e){this!==e&&(ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return w(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Nh(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return w(this,null,function*(){if(qr(this.auth.app))return Promise.reject(To(this.auth));let e=yield this.getIdToken();return yield Zc(this,Nj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,u,l,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,y=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,S=(s=n.photoURL)!==null&&s!==void 0?s:void 0,N=(a=n.tenantId)!==null&&a!==void 0?a:void 0,x=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,V=(l=n.createdAt)!==null&&l!==void 0?l:void 0,X=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:K,emailVerified:ee,isAnonymous:Ve,providerData:oe,stsTokenManager:b}=n;ue(K&&b,e,"internal-error");let v=Jc.fromJSON(this.name,b);ue(typeof K=="string",e,"internal-error"),ji(p,e.name),ji(m,e.name),ue(typeof ee=="boolean",e,"internal-error"),ue(typeof Ve=="boolean",e,"internal-error"),ji(y,e.name),ji(S,e.name),ji(N,e.name),ji(x,e.name),ji(V,e.name),ji(X,e.name);let _=new t({uid:K,auth:e,email:m,emailVerified:ee,displayName:p,isAnonymous:Ve,photoURL:S,phoneNumber:y,tenantId:N,stsTokenManager:v,createdAt:V,lastLoginAt:X});return oe&&Array.isArray(oe)&&(_.providerData=oe.map(D=>Object.assign({},D))),x&&(_._redirectEventId=x),_}static _fromIdTokenResponse(e,n,r=!1){return w(this,null,function*(){let i=new Jc;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Nh(o),o})}static _fromGetAccountInfoResponse(e,n,r){return w(this,null,function*(){let i=n.users[0];ue(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?wA(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Jc;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Xc(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var tA=new Map;function Qr(t){Bi(t instanceof Function,"Expected a class definition");let e=tA.get(t);return e?(Bi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,tA.set(t,e),e)}var Lj=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return w(this,null,function*(){return!0})}_set(n,r){return w(this,null,function*(){this.storage[n]=r})}_get(n){return w(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return w(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),j0=Lj;function Ah(t,e,n){return`firebase:${t}:${e}:${n}`}var Oh=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Ah(this.userKey,i.apiKey,o),this.fullPersistenceKey=Ah("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return w(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Js._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return w(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return w(this,null,function*(){if(!n.length)return new t(Qr(j0),e,r);let i=(yield Promise.all(n.map(l=>w(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||Qr(j0),s=Ah(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let h=yield l._get(s);if(h){let p=Js._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new t(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>w(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,r))})}};function nA(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(bA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(EA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(TA(e))return"Blackberry";if(SA(e))return"Webos";if(IA(e))return"Safari";if((e.includes("chrome/")||CA(e))&&!e.includes("edge/"))return"Chrome";if(DA(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function EA(t=Ct()){return/firefox\//i.test(t)}function IA(t=Ct()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function CA(t=Ct()){return/crios\//i.test(t)}function bA(t=Ct()){return/iemobile/i.test(t)}function DA(t=Ct()){return/android/i.test(t)}function TA(t=Ct()){return/blackberry/i.test(t)}function SA(t=Ct()){return/webos/i.test(t)}function iv(t=Ct()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function jj(t=Ct()){var e;return iv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Uj(){return xS()&&document.documentMode===10}function AA(t=Ct()){return iv(t)||DA(t)||SA(t)||TA(t)||/windows phone/i.test(t)||bA(t)}function MA(t,e=[]){let n;switch(t){case"Browser":n=nA(Ct());break;case"Worker":n=`${nA(Ct())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ki}/${r}`}var U0=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return w(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function Bj(n){return w(this,arguments,function*(t,e={}){return Zs(t,"GET","/v2/passwordPolicy",ev(t,e))})}var $j=6,B0=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:$j,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var $0=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new kh(this),this.idTokenSubscription=new kh(this),this.beforeStateQueue=new U0(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Qr(n)),this._initializationPromise=this.queue(()=>w(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Oh.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return w(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return w(this,null,function*(){try{let n=yield _A(this,{idToken:e}),r=yield Js._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return w(this,null,function*(){var n;if(qr(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ue(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return w(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return w(this,null,function*(){try{yield Nh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=Mj()}_delete(){return w(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return w(this,null,function*(){if(qr(this.app))return Promise.reject(To(this));let n=e?dt(e):null;return n&&ue(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return w(this,null,function*(){if(!this._deleted)return e&&ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>w(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return w(this,null,function*(){return qr(this.app)?Promise.reject(To(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return qr(this.app)?Promise.reject(To(this)):this.queue(()=>w(this,null,function*(){yield this.assertedPersistence.setPersistence(Qr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return w(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return w(this,null,function*(){let e=yield Bj(this),n=new B0(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Vn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return w(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield Vj(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return w(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return w(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Qr(e)||this._popupRedirectResolver;ue(n,this,"argument-error"),this.redirectPersistenceManager=yield Oh.create(this,[Qr(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return w(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>w(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return w(this,null,function*(){if(e===this.currentUser)return this.queue(()=>w(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ue(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(n);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return w(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=MA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return w(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return w(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&Tj(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function ov(t){return dt(t)}var kh=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=OS(n=>this.observer=n)}get next(){return ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var sv={loadJS(){return w(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Hj(t){sv=t}function zj(t){return sv.loadJS(t)}function qj(){return sv.gapiScript}function xA(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function av(t,e){let n=Oi(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(Co(o,e??{}))return i;Ui(i,"already-initialized")}return n.initialize({options:e})}function Gj(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Qr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function cv(t,e,n){let r=ov(t);ue(r._canInitEmulator,r,"emulator-config-failed"),ue(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=PA(e),{host:s,port:a}=Wj(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||Kj()}function PA(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Wj(t){let e=PA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:rA(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:rA(s)}}}function rA(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function Kj(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Fh=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Kr("not implemented")}_getIdTokenResponse(e){return Kr("not implemented")}_linkToIdToken(e,n){return Kr("not implemented")}_getReauthenticationResolver(e){return Kr("not implemented")}};function O0(t,e){return w(this,null,function*(){return Rj(t,"POST","/v1/accounts:signInWithIdp",ev(t,e))})}var Vh=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var H0=class extends Vh{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var eu=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return w(this,null,function*(){let o=yield Js._fromIdTokenResponse(e,r,i),s=iA(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return w(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=iA(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function iA(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var z0=class t extends ln{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function RA(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?z0._fromErrorAndOperation(t,o,e,r):o})}function Qj(t,e,n=!1){return w(this,null,function*(){let r=yield Zc(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return eu._forOperation(t,"link",r)})}function Yj(t,e,n=!1){return w(this,null,function*(){let{auth:r}=t;if(qr(r.app))return Promise.reject(To(r));let i="reauthenticate";try{let o=yield Zc(t,RA(r,i,e,t),n);ue(o.idToken,r,"internal-error");let s=nv(o.idToken);ue(s,r,"internal-error");let{sub:a}=s;return ue(t.uid===a,r,"user-mismatch"),eu._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Ui(r,"user-mismatch"),o}})}function Jj(t,e,n=!1){return w(this,null,function*(){if(qr(t.app))return Promise.reject(To(t));let r="signIn",i=yield RA(t,r,e),o=yield eu._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})}function uv(t,e,n,r){return dt(t).onIdTokenChanged(e,n,r)}function lv(t,e,n){return dt(t).beforeAuthStateChanged(e,n)}var Lh="__sak";var jh=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Lh,"1"),this.storage.removeItem(Lh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var Zj=1e3,Xj=10,eU=(()=>{class t extends jh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=AA(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);Uj()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,Xj):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},Zj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return w(this,null,function*(){yield ii(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return w(this,null,function*(){let r=yield ii(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return w(this,null,function*(){yield ii(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),NA=eU;var tU=(()=>{class t extends jh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),dv=tU;function nU(t){return Promise.all(t.map(e=>w(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var rU=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return w(this,null,function*(){let r=n,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(h=>w(this,null,function*(){return h(r.origin,s)})),l=yield nU(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function OA(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var q0=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return w(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let l=OA("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let m=p;if(m.data.eventId===l)switch(m.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(m.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function ar(){return window}function iU(t){ar().location.href=t}function kA(){return typeof ar().WorkerGlobalScope<"u"&&typeof ar().importScripts=="function"}function oU(){return w(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function sU(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function aU(){return kA()?self:null}var FA="firebaseLocalStorageDb",cU=1,Uh="firebaseLocalStorage",VA="fbase_key",Mo=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function $h(t,e){return t.transaction([Uh],e?"readwrite":"readonly").objectStore(Uh)}function uU(){let t=indexedDB.deleteDatabase(FA);return new Mo(t).toPromise()}function G0(){let t=indexedDB.open(FA,cU);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Uh,{keyPath:VA})}catch(i){n(i)}}),t.addEventListener("success",()=>w(this,null,function*(){let r=t.result;r.objectStoreNames.contains(Uh)?e(r):(r.close(),yield uU(),e(yield G0()))}))})}function oA(t,e,n){return w(this,null,function*(){let r=$h(t,!0).put({[VA]:e,value:n});return new Mo(r).toPromise()})}function lU(t,e){return w(this,null,function*(){let n=$h(t,!1).get(e),r=yield new Mo(n).toPromise();return r===void 0?null:r.value})}function sA(t,e){let n=$h(t,!0).delete(e);return new Mo(n).toPromise()}var dU=800,hU=3,fU=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return w(this,null,function*(){return this.db?this.db:(this.db=yield G0(),this.db)})}_withRetries(n){return w(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>hU)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return w(this,null,function*(){return kA()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return w(this,null,function*(){this.receiver=rU._getInstance(aU()),this.receiver._subscribe("keyChanged",(n,r)=>w(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>w(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return w(this,null,function*(){var n,r;if(this.activeServiceWorker=yield oU(),!this.activeServiceWorker)return;this.sender=new q0(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return w(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||sU()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return w(this,null,function*(){try{if(!indexedDB)return!1;let n=yield G0();return yield oA(n,Lh,"1"),yield sA(n,Lh),!0}catch{}return!1})}_withPendingWrite(n){return w(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(i=>oA(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return w(this,null,function*(){let r=yield this._withRetries(i=>lU(i,n));return this.localCache[n]=r,r})}_remove(n){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(r=>sA(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return w(this,null,function*(){let n=yield this._withRetries(o=>{let s=$h(o,!1).getAll();return new Mo(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>w(this,null,function*(){return this._poll()}),dU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),LA=fU;var eY=xA("rcb"),tY=new Ao(3e4,6e4);function pU(t,e){return e?Qr(e):(ue(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var tu=class extends Fh{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return O0(e,this._buildIdpRequest())}_linkToIdToken(e,n){return O0(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return O0(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function gU(t){return Jj(t.auth,new tu(t),t.bypassAuthState)}function mU(t){let{auth:e,user:n}=t;return ue(n,e,"internal-error"),Yj(n,new tu(t),t.bypassAuthState)}function yU(t){return w(this,null,function*(){let{auth:e,user:n}=t;return ue(n,e,"internal-error"),Qj(n,new tu(t),t.bypassAuthState)})}var W0=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>w(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return w(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return gU;case"linkViaPopup":case"linkViaRedirect":return yU;case"reauthViaPopup":case"reauthViaRedirect":return mU;default:Ui(this.auth,"internal-error")}}resolve(e){Bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var nY=new Ao(2e3,1e4);var vU="pendingRedirect",Mh=new Map,K0=class t extends W0{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return w(this,null,function*(){let e=Mh.get(this.auth._key());if(!e){try{let r=(yield _U(this.resolver,this.auth))?yield ii(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Mh.set(this.auth._key(),e)}return this.bypassAuthState||Mh.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return w(this,null,function*(){if(e.type==="signInViaRedirect")return ii(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,ii(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return w(this,null,function*(){})}cleanUp(){}};function _U(t,e){return w(this,null,function*(){let n=IU(e),r=EU(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function wU(t,e){Mh.set(t._key(),e)}function EU(t){return Qr(t._redirectPersistence)}function IU(t){return Ah(vU,t.config.apiKey,t.name)}function CU(t,e,n=!1){return w(this,null,function*(){if(qr(t.app))return Promise.reject(To(t));let r=ov(t),i=pU(r,e),s=yield new K0(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var bU=10*60*1e3,Q0=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!DU(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!jA(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(So(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=bU&&this.cachedEventUids.clear(),this.cachedEventUids.has(aA(e))}saveEventToCache(e){this.cachedEventUids.add(aA(e)),this.lastProcessedEventTime=Date.now()}};function aA(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function jA({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function DU(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jA(t);default:return!1}}function TU(n){return w(this,arguments,function*(t,e={}){return Zs(t,"GET","/v1/projects",e)})}var SU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,AU=/^https?/;function MU(t){return w(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield TU(t);for(let n of e)try{if(xU(n))return}catch{}Ui(t,"unauthorized-domain")})}function xU(t){let e=F0(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!AU.test(n))return!1;if(SU.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var PU=new Ao(3e4,6e4);function cA(){let t=ar().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function RU(t){return new Promise((e,n)=>{var r,i,o;function s(){cA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{cA(),n(So(t,"network-request-failed"))},timeout:PU.get()})}if(!((i=(r=ar().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=ar().gapi)===null||o===void 0)&&o.load)s();else{let a=xA("iframefcb");return ar()[a]=()=>{gapi.load?s():n(So(t,"network-request-failed"))},zj(`${qj()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw xh=null,e})}var xh=null;function NU(t){return xh=xh||RU(t),xh}var OU=new Ao(5e3,15e3),kU="__/auth/iframe",FU="emulator/auth/iframe",VU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},LU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jU(t){let e=t.config;ue(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?X0(e,FU):`https://${t.config.authDomain}/${kU}`,r={apiKey:e.apiKey,appName:t.name,v:ki},i=LU.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Wc(r).slice(1)}`}function UU(t){return w(this,null,function*(){let e=yield NU(t),n=ar().gapi;return ue(n,t,"internal-error"),e.open({where:document.body,url:jU(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:VU,dontclear:!0},r=>new Promise((i,o)=>w(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=So(t,"network-request-failed"),a=ar().setTimeout(()=>{o(s)},OU.get());function u(){ar().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var BU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$U=500,HU=600,zU="_blank",qU="http://localhost",Bh=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function GU(t,e,n,r=$U,i=HU){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},BU),{width:r.toString(),height:i.toString(),top:o,left:s}),l=Ct().toLowerCase();n&&(a=CA(l)?zU:n),EA(l)&&(e=e||qU,u.scrollbars="yes");let h=Object.entries(u).reduce((m,[y,S])=>`${m}${y}=${S},`,"");if(jj(l)&&a!=="_self")return WU(e||"",a),new Bh(null);let p=window.open(e||"",a,h);ue(p,t,"popup-blocked");try{p.focus()}catch{}return new Bh(p)}function WU(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var KU="__/auth/handler",QU="emulator/auth/handler",YU=encodeURIComponent("fac");function uA(t,e,n,r,i,o){return w(this,null,function*(){ue(t.config.authDomain,t,"auth-domain-config-required"),ue(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ki,eventId:i};if(e instanceof Vh){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",NS(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof H0){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield t._getAppCheckToken(),l=u?`#${YU}=${encodeURIComponent(u)}`:"";return`${JU(t)}?${Wc(a).slice(1)}${l}`})}function JU({config:t}){return t.emulator?X0(t,QU):`https://${t.authDomain}/${KU}`}var k0="webStorageSupport",Y0=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=dv,this._completeRedirectFn=CU,this._overrideRedirectResult=wU}_openPopup(e,n,r,i){return w(this,null,function*(){var o;Bi((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield uA(e,n,r,F0(),i);return GU(e,s,OA())})}_openRedirect(e,n,r,i){return w(this,null,function*(){yield this._originValidation(e);let o=yield uA(e,n,r,F0(),i);return iU(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Bi(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return w(this,null,function*(){let n=yield UU(e),r=new Q0(e);return n.register("authEvent",i=>(ue(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(k0,{type:k0},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[k0];s!==void 0&&n(!!s),Ui(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=MU(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return AA()||IA()||iv()}},UA=Y0;var lA="@firebase/auth",dA="1.7.9";var J0=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return w(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function ZU(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function XU(t){Ln(new Gt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;ue(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:MA(t)},l=new $0(r,i,o,u);return Gj(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ln(new Gt("auth-internal",e=>{let n=ov(e.getProvider("auth").getImmediate());return(r=>new J0(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),We(lA,dA,ZU(t)),We(lA,dA,"esm2017")}var eB=5*60,tB=p0("authIdTokenMaxAge")||eB,hA=null,nB=t=>e=>w(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>tB)return;let i=n?.token;hA!==i&&(hA=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function hv(t=Fi()){let e=Oi(t,"auth");if(e.isInitialized())return e.getImmediate();let n=av(t,{popupRedirectResolver:UA,persistence:[LA,NA,dv]}),r=p0("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=nB(o.toString());lv(n,s,()=>s(n.currentUser)),uv(n,a=>s(a))}}let i=h0("auth");return i&&cv(n,`http://${i}`),n}function rB(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Hj({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=So("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",rB().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});XU("Browser");var BA="auth",nu=class{constructor(e){return e}},ru=class{constructor(){return Ys(BA)}};var fv=new H("angularfire2.auth-instances");function JB(t,e){let n=Qs(BA,t,e);return n&&new nu(n)}function ZB(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new nu(r)}}var XB={provide:ru,deps:[[new vt,fv]]},e$={provide:nu,useFactory:JB,deps:[[new vt,fv],jn]};function $A(t,...e){return We("angularfire",Gr.full,"auth"),nn([e$,XB,{provide:fv,useFactory:ZB(t),multi:!0,deps:[Ce,yt,Li,Wr,[new vt,Vi],...e]}])}var HA=ht(hv,!0);var zA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},qA={};var $i,pv;(function(){var t;function e(b,v){function _(){}_.prototype=v.prototype,b.D=v.prototype,b.prototype=new _,b.prototype.constructor=b,b.C=function(D,T,M){for(var E=Array(arguments.length-2),wr=2;wr<arguments.length;wr++)E[wr-2]=arguments[wr];return v.prototype[T].apply(D,E)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(b,v,_){_||(_=0);var D=Array(16);if(typeof v=="string")for(var T=0;16>T;++T)D[T]=v.charCodeAt(_++)|v.charCodeAt(_++)<<8|v.charCodeAt(_++)<<16|v.charCodeAt(_++)<<24;else for(T=0;16>T;++T)D[T]=v[_++]|v[_++]<<8|v[_++]<<16|v[_++]<<24;v=b.g[0],_=b.g[1],T=b.g[2];var M=b.g[3],E=v+(M^_&(T^M))+D[0]+3614090360&4294967295;v=_+(E<<7&4294967295|E>>>25),E=M+(T^v&(_^T))+D[1]+3905402710&4294967295,M=v+(E<<12&4294967295|E>>>20),E=T+(_^M&(v^_))+D[2]+606105819&4294967295,T=M+(E<<17&4294967295|E>>>15),E=_+(v^T&(M^v))+D[3]+3250441966&4294967295,_=T+(E<<22&4294967295|E>>>10),E=v+(M^_&(T^M))+D[4]+4118548399&4294967295,v=_+(E<<7&4294967295|E>>>25),E=M+(T^v&(_^T))+D[5]+1200080426&4294967295,M=v+(E<<12&4294967295|E>>>20),E=T+(_^M&(v^_))+D[6]+2821735955&4294967295,T=M+(E<<17&4294967295|E>>>15),E=_+(v^T&(M^v))+D[7]+4249261313&4294967295,_=T+(E<<22&4294967295|E>>>10),E=v+(M^_&(T^M))+D[8]+1770035416&4294967295,v=_+(E<<7&4294967295|E>>>25),E=M+(T^v&(_^T))+D[9]+2336552879&4294967295,M=v+(E<<12&4294967295|E>>>20),E=T+(_^M&(v^_))+D[10]+4294925233&4294967295,T=M+(E<<17&4294967295|E>>>15),E=_+(v^T&(M^v))+D[11]+2304563134&4294967295,_=T+(E<<22&4294967295|E>>>10),E=v+(M^_&(T^M))+D[12]+1804603682&4294967295,v=_+(E<<7&4294967295|E>>>25),E=M+(T^v&(_^T))+D[13]+4254626195&4294967295,M=v+(E<<12&4294967295|E>>>20),E=T+(_^M&(v^_))+D[14]+2792965006&4294967295,T=M+(E<<17&4294967295|E>>>15),E=_+(v^T&(M^v))+D[15]+1236535329&4294967295,_=T+(E<<22&4294967295|E>>>10),E=v+(T^M&(_^T))+D[1]+4129170786&4294967295,v=_+(E<<5&4294967295|E>>>27),E=M+(_^T&(v^_))+D[6]+3225465664&4294967295,M=v+(E<<9&4294967295|E>>>23),E=T+(v^_&(M^v))+D[11]+643717713&4294967295,T=M+(E<<14&4294967295|E>>>18),E=_+(M^v&(T^M))+D[0]+3921069994&4294967295,_=T+(E<<20&4294967295|E>>>12),E=v+(T^M&(_^T))+D[5]+3593408605&4294967295,v=_+(E<<5&4294967295|E>>>27),E=M+(_^T&(v^_))+D[10]+38016083&4294967295,M=v+(E<<9&4294967295|E>>>23),E=T+(v^_&(M^v))+D[15]+3634488961&4294967295,T=M+(E<<14&4294967295|E>>>18),E=_+(M^v&(T^M))+D[4]+3889429448&4294967295,_=T+(E<<20&4294967295|E>>>12),E=v+(T^M&(_^T))+D[9]+568446438&4294967295,v=_+(E<<5&4294967295|E>>>27),E=M+(_^T&(v^_))+D[14]+3275163606&4294967295,M=v+(E<<9&4294967295|E>>>23),E=T+(v^_&(M^v))+D[3]+4107603335&4294967295,T=M+(E<<14&4294967295|E>>>18),E=_+(M^v&(T^M))+D[8]+1163531501&4294967295,_=T+(E<<20&4294967295|E>>>12),E=v+(T^M&(_^T))+D[13]+2850285829&4294967295,v=_+(E<<5&4294967295|E>>>27),E=M+(_^T&(v^_))+D[2]+4243563512&4294967295,M=v+(E<<9&4294967295|E>>>23),E=T+(v^_&(M^v))+D[7]+1735328473&4294967295,T=M+(E<<14&4294967295|E>>>18),E=_+(M^v&(T^M))+D[12]+2368359562&4294967295,_=T+(E<<20&4294967295|E>>>12),E=v+(_^T^M)+D[5]+4294588738&4294967295,v=_+(E<<4&4294967295|E>>>28),E=M+(v^_^T)+D[8]+2272392833&4294967295,M=v+(E<<11&4294967295|E>>>21),E=T+(M^v^_)+D[11]+1839030562&4294967295,T=M+(E<<16&4294967295|E>>>16),E=_+(T^M^v)+D[14]+4259657740&4294967295,_=T+(E<<23&4294967295|E>>>9),E=v+(_^T^M)+D[1]+2763975236&4294967295,v=_+(E<<4&4294967295|E>>>28),E=M+(v^_^T)+D[4]+1272893353&4294967295,M=v+(E<<11&4294967295|E>>>21),E=T+(M^v^_)+D[7]+4139469664&4294967295,T=M+(E<<16&4294967295|E>>>16),E=_+(T^M^v)+D[10]+3200236656&4294967295,_=T+(E<<23&4294967295|E>>>9),E=v+(_^T^M)+D[13]+681279174&4294967295,v=_+(E<<4&4294967295|E>>>28),E=M+(v^_^T)+D[0]+3936430074&4294967295,M=v+(E<<11&4294967295|E>>>21),E=T+(M^v^_)+D[3]+3572445317&4294967295,T=M+(E<<16&4294967295|E>>>16),E=_+(T^M^v)+D[6]+76029189&4294967295,_=T+(E<<23&4294967295|E>>>9),E=v+(_^T^M)+D[9]+3654602809&4294967295,v=_+(E<<4&4294967295|E>>>28),E=M+(v^_^T)+D[12]+3873151461&4294967295,M=v+(E<<11&4294967295|E>>>21),E=T+(M^v^_)+D[15]+530742520&4294967295,T=M+(E<<16&4294967295|E>>>16),E=_+(T^M^v)+D[2]+3299628645&4294967295,_=T+(E<<23&4294967295|E>>>9),E=v+(T^(_|~M))+D[0]+4096336452&4294967295,v=_+(E<<6&4294967295|E>>>26),E=M+(_^(v|~T))+D[7]+1126891415&4294967295,M=v+(E<<10&4294967295|E>>>22),E=T+(v^(M|~_))+D[14]+2878612391&4294967295,T=M+(E<<15&4294967295|E>>>17),E=_+(M^(T|~v))+D[5]+4237533241&4294967295,_=T+(E<<21&4294967295|E>>>11),E=v+(T^(_|~M))+D[12]+1700485571&4294967295,v=_+(E<<6&4294967295|E>>>26),E=M+(_^(v|~T))+D[3]+2399980690&4294967295,M=v+(E<<10&4294967295|E>>>22),E=T+(v^(M|~_))+D[10]+4293915773&4294967295,T=M+(E<<15&4294967295|E>>>17),E=_+(M^(T|~v))+D[1]+2240044497&4294967295,_=T+(E<<21&4294967295|E>>>11),E=v+(T^(_|~M))+D[8]+1873313359&4294967295,v=_+(E<<6&4294967295|E>>>26),E=M+(_^(v|~T))+D[15]+4264355552&4294967295,M=v+(E<<10&4294967295|E>>>22),E=T+(v^(M|~_))+D[6]+2734768916&4294967295,T=M+(E<<15&4294967295|E>>>17),E=_+(M^(T|~v))+D[13]+1309151649&4294967295,_=T+(E<<21&4294967295|E>>>11),E=v+(T^(_|~M))+D[4]+4149444226&4294967295,v=_+(E<<6&4294967295|E>>>26),E=M+(_^(v|~T))+D[11]+3174756917&4294967295,M=v+(E<<10&4294967295|E>>>22),E=T+(v^(M|~_))+D[2]+718787259&4294967295,T=M+(E<<15&4294967295|E>>>17),E=_+(M^(T|~v))+D[9]+3951481745&4294967295,b.g[0]=b.g[0]+v&4294967295,b.g[1]=b.g[1]+(T+(E<<21&4294967295|E>>>11))&4294967295,b.g[2]=b.g[2]+T&4294967295,b.g[3]=b.g[3]+M&4294967295}r.prototype.u=function(b,v){v===void 0&&(v=b.length);for(var _=v-this.blockSize,D=this.B,T=this.h,M=0;M<v;){if(T==0)for(;M<=_;)i(this,b,M),M+=this.blockSize;if(typeof b=="string"){for(;M<v;)if(D[T++]=b.charCodeAt(M++),T==this.blockSize){i(this,D),T=0;break}}else for(;M<v;)if(D[T++]=b[M++],T==this.blockSize){i(this,D),T=0;break}}this.h=T,this.o+=v},r.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var v=1;v<b.length-8;++v)b[v]=0;var _=8*this.o;for(v=b.length-8;v<b.length;++v)b[v]=_&255,_/=256;for(this.u(b),b=Array(16),v=_=0;4>v;++v)for(var D=0;32>D;D+=8)b[_++]=this.g[v]>>>D&255;return b};function o(b,v){var _=a;return Object.prototype.hasOwnProperty.call(_,b)?_[b]:_[b]=v(b)}function s(b,v){this.h=v;for(var _=[],D=!0,T=b.length-1;0<=T;T--){var M=b[T]|0;D&&M==v||(_[T]=M,D=!1)}this.g=_}var a={};function u(b){return-128<=b&&128>b?o(b,function(v){return new s([v|0],0>v?-1:0)}):new s([b|0],0>b?-1:0)}function l(b){if(isNaN(b)||!isFinite(b))return p;if(0>b)return x(l(-b));for(var v=[],_=1,D=0;b>=_;D++)v[D]=b/_|0,_*=4294967296;return new s(v,0)}function h(b,v){if(b.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(b.charAt(0)=="-")return x(h(b.substring(1),v));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=l(Math.pow(v,8)),D=p,T=0;T<b.length;T+=8){var M=Math.min(8,b.length-T),E=parseInt(b.substring(T,T+M),v);8>M?(M=l(Math.pow(v,M)),D=D.j(M).add(l(E))):(D=D.j(_),D=D.add(l(E)))}return D}var p=u(0),m=u(1),y=u(16777216);t=s.prototype,t.m=function(){if(N(this))return-x(this).m();for(var b=0,v=1,_=0;_<this.g.length;_++){var D=this.i(_);b+=(0<=D?D:4294967296+D)*v,v*=4294967296}return b},t.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(S(this))return"0";if(N(this))return"-"+x(this).toString(b);for(var v=l(Math.pow(b,6)),_=this,D="";;){var T=ee(_,v).g;_=V(_,T.j(v));var M=((0<_.g.length?_.g[0]:_.h)>>>0).toString(b);if(_=T,S(_))return M+D;for(;6>M.length;)M="0"+M;D=M+D}},t.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function S(b){if(b.h!=0)return!1;for(var v=0;v<b.g.length;v++)if(b.g[v]!=0)return!1;return!0}function N(b){return b.h==-1}t.l=function(b){return b=V(this,b),N(b)?-1:S(b)?0:1};function x(b){for(var v=b.g.length,_=[],D=0;D<v;D++)_[D]=~b.g[D];return new s(_,~b.h).add(m)}t.abs=function(){return N(this)?x(this):this},t.add=function(b){for(var v=Math.max(this.g.length,b.g.length),_=[],D=0,T=0;T<=v;T++){var M=D+(this.i(T)&65535)+(b.i(T)&65535),E=(M>>>16)+(this.i(T)>>>16)+(b.i(T)>>>16);D=E>>>16,M&=65535,E&=65535,_[T]=E<<16|M}return new s(_,_[_.length-1]&-2147483648?-1:0)};function V(b,v){return b.add(x(v))}t.j=function(b){if(S(this)||S(b))return p;if(N(this))return N(b)?x(this).j(x(b)):x(x(this).j(b));if(N(b))return x(this.j(x(b)));if(0>this.l(y)&&0>b.l(y))return l(this.m()*b.m());for(var v=this.g.length+b.g.length,_=[],D=0;D<2*v;D++)_[D]=0;for(D=0;D<this.g.length;D++)for(var T=0;T<b.g.length;T++){var M=this.i(D)>>>16,E=this.i(D)&65535,wr=b.i(T)>>>16,Ra=b.i(T)&65535;_[2*D+2*T]+=E*Ra,X(_,2*D+2*T),_[2*D+2*T+1]+=M*Ra,X(_,2*D+2*T+1),_[2*D+2*T+1]+=E*wr,X(_,2*D+2*T+1),_[2*D+2*T+2]+=M*wr,X(_,2*D+2*T+2)}for(D=0;D<v;D++)_[D]=_[2*D+1]<<16|_[2*D];for(D=v;D<2*v;D++)_[D]=0;return new s(_,0)};function X(b,v){for(;(b[v]&65535)!=b[v];)b[v+1]+=b[v]>>>16,b[v]&=65535,v++}function K(b,v){this.g=b,this.h=v}function ee(b,v){if(S(v))throw Error("division by zero");if(S(b))return new K(p,p);if(N(b))return v=ee(x(b),v),new K(x(v.g),x(v.h));if(N(v))return v=ee(b,x(v)),new K(x(v.g),v.h);if(30<b.g.length){if(N(b)||N(v))throw Error("slowDivide_ only works with positive integers.");for(var _=m,D=v;0>=D.l(b);)_=Ve(_),D=Ve(D);var T=oe(_,1),M=oe(D,1);for(D=oe(D,2),_=oe(_,2);!S(D);){var E=M.add(D);0>=E.l(b)&&(T=T.add(_),M=E),D=oe(D,1),_=oe(_,1)}return v=V(b,T.j(v)),new K(T,v)}for(T=p;0<=b.l(v);){for(_=Math.max(1,Math.floor(b.m()/v.m())),D=Math.ceil(Math.log(_)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),M=l(_),E=M.j(v);N(E)||0<E.l(b);)_-=D,M=l(_),E=M.j(v);S(M)&&(M=m),T=T.add(M),b=V(b,E)}return new K(T,b)}t.A=function(b){return ee(this,b).h},t.and=function(b){for(var v=Math.max(this.g.length,b.g.length),_=[],D=0;D<v;D++)_[D]=this.i(D)&b.i(D);return new s(_,this.h&b.h)},t.or=function(b){for(var v=Math.max(this.g.length,b.g.length),_=[],D=0;D<v;D++)_[D]=this.i(D)|b.i(D);return new s(_,this.h|b.h)},t.xor=function(b){for(var v=Math.max(this.g.length,b.g.length),_=[],D=0;D<v;D++)_[D]=this.i(D)^b.i(D);return new s(_,this.h^b.h)};function Ve(b){for(var v=b.g.length+1,_=[],D=0;D<v;D++)_[D]=b.i(D)<<1|b.i(D-1)>>>31;return new s(_,b.h)}function oe(b,v){var _=v>>5;v%=32;for(var D=b.g.length-_,T=[],M=0;M<D;M++)T[M]=0<v?b.i(M+_)>>>v|b.i(M+_+1)<<32-v:b.i(M+_);return new s(T,b.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,pv=qA.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,$i=qA.Integer=s}).apply(typeof zA<"u"?zA:typeof self<"u"?self:typeof window<"u"?window:{});var Hh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Yr={};var gv,t$,Xs,mv,iu,zh,yv,vv,_v;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hh=="object"&&Hh];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var A=c[g];if(!(A in f))break e;f=f[A]}c=c[c.length-1],g=f[c],d=d(g),d!=g&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,g=!1,A={next:function(){if(!g&&f<c.length){var R=f++;return{value:d(R,c[R]),done:!1}}return g=!0,{done:!0,value:void 0}}};return A[Symbol.iterator]=function(){return A},A}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var A=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(A,g),c.apply(d,A)}}return function(){return c.apply(d,arguments)}}function m(c,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function y(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function S(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(g,A,R){for(var U=Array(arguments.length-2),je=2;je<arguments.length;je++)U[je-2]=arguments[je];return d.prototype[A].apply(g,U)}}function N(c){let d=c.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=c[g];return f}return[]}function x(c,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let A=c.length||0,R=g.length||0;c.length=A+R;for(let U=0;U<R;U++)c[A+U]=g[U]}else c.push(g)}}class V{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function X(c){return/^[\s\xa0]*$/.test(c)}function K(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function ee(c){return ee[" "](c),c}ee[" "]=function(){};var Ve=K().indexOf("Gecko")!=-1&&!(K().toLowerCase().indexOf("webkit")!=-1&&K().indexOf("Edge")==-1)&&!(K().indexOf("Trident")!=-1||K().indexOf("MSIE")!=-1)&&K().indexOf("Edge")==-1;function oe(c,d,f){for(let g in c)d.call(f,c[g],g,c)}function b(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function v(c){let d={};for(let f in c)d[f]=c[f];return d}let _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(c,d){let f,g;for(let A=1;A<arguments.length;A++){g=arguments[A];for(f in g)c[f]=g[f];for(let R=0;R<_.length;R++)f=_[R],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function T(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function M(c){a.setTimeout(()=>{throw c},0)}function E(){var c=rp;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class wr{constructor(){this.h=this.g=null}add(d,f){let g=Ra.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var Ra=new V(()=>new aR,c=>c.reset());class aR{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Na,Oa=!1,rp=new wr,Ww=()=>{let c=a.Promise.resolve(void 0);Na=()=>{c.then(cR)}};var cR=()=>{for(var c;c=E();){try{c.h.call(c.g)}catch(f){M(f)}var d=Ra;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}Oa=!1};function ei(){this.s=this.s,this.C=this.C}ei.prototype.s=!1,ei.prototype.ma=function(){this.s||(this.s=!0,this.N())},ei.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function At(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}At.prototype.h=function(){this.defaultPrevented=!0};var uR=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function ka(c,d){if(At.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(Ve){e:{try{ee(d.nodeName);var A=!0;break e}catch{}A=!1}A||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:lR[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&ka.aa.h.call(this)}}S(ka,At);var lR={2:"touch",3:"pen",4:"mouse"};ka.prototype.h=function(){ka.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Fa="closure_listenable_"+(1e6*Math.random()|0),dR=0;function hR(c,d,f,g,A){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=A,this.key=++dR,this.da=this.fa=!1}function $u(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Hu(c){this.src=c,this.g={},this.h=0}Hu.prototype.add=function(c,d,f,g,A){var R=c.toString();c=this.g[R],c||(c=this.g[R]=[],this.h++);var U=op(c,d,g,A);return-1<U?(d=c[U],f||(d.fa=!1)):(d=new hR(d,this.src,R,!!g,A),d.fa=f,c.push(d)),d};function ip(c,d){var f=d.type;if(f in c.g){var g=c.g[f],A=Array.prototype.indexOf.call(g,d,void 0),R;(R=0<=A)&&Array.prototype.splice.call(g,A,1),R&&($u(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function op(c,d,f,g){for(var A=0;A<c.length;++A){var R=c[A];if(!R.da&&R.listener==d&&R.capture==!!f&&R.ha==g)return A}return-1}var sp="closure_lm_"+(1e6*Math.random()|0),ap={};function Kw(c,d,f,g,A){if(g&&g.once)return Yw(c,d,f,g,A);if(Array.isArray(d)){for(var R=0;R<d.length;R++)Kw(c,d[R],f,g,A);return null}return f=dp(f),c&&c[Fa]?c.K(d,f,l(g)?!!g.capture:!!g,A):Qw(c,d,f,!1,g,A)}function Qw(c,d,f,g,A,R){if(!d)throw Error("Invalid event type");var U=l(A)?!!A.capture:!!A,je=up(c);if(je||(c[sp]=je=new Hu(c)),f=je.add(d,f,g,U,R),f.proxy)return f;if(g=fR(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)uR||(A=U),A===void 0&&(A=!1),c.addEventListener(d.toString(),g,A);else if(c.attachEvent)c.attachEvent(Zw(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function fR(){function c(f){return d.call(c.src,c.listener,f)}let d=pR;return c}function Yw(c,d,f,g,A){if(Array.isArray(d)){for(var R=0;R<d.length;R++)Yw(c,d[R],f,g,A);return null}return f=dp(f),c&&c[Fa]?c.L(d,f,l(g)?!!g.capture:!!g,A):Qw(c,d,f,!0,g,A)}function Jw(c,d,f,g,A){if(Array.isArray(d))for(var R=0;R<d.length;R++)Jw(c,d[R],f,g,A);else g=l(g)?!!g.capture:!!g,f=dp(f),c&&c[Fa]?(c=c.i,d=String(d).toString(),d in c.g&&(R=c.g[d],f=op(R,f,g,A),-1<f&&($u(R[f]),Array.prototype.splice.call(R,f,1),R.length==0&&(delete c.g[d],c.h--)))):c&&(c=up(c))&&(d=c.g[d.toString()],c=-1,d&&(c=op(d,f,g,A)),(f=-1<c?d[c]:null)&&cp(f))}function cp(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[Fa])ip(d.i,c);else{var f=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(f,g,c.capture):d.detachEvent?d.detachEvent(Zw(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=up(d))?(ip(f,c),f.h==0&&(f.src=null,d[sp]=null)):$u(c)}}}function Zw(c){return c in ap?ap[c]:ap[c]="on"+c}function pR(c,d){if(c.da)c=!0;else{d=new ka(d,this);var f=c.listener,g=c.ha||c.src;c.fa&&cp(c),c=f.call(g,d)}return c}function up(c){return c=c[sp],c instanceof Hu?c:null}var lp="__closure_events_fn_"+(1e9*Math.random()>>>0);function dp(c){return typeof c=="function"?c:(c[lp]||(c[lp]=function(d){return c.handleEvent(d)}),c[lp])}function Mt(){ei.call(this),this.i=new Hu(this),this.M=this,this.F=null}S(Mt,ei),Mt.prototype[Fa]=!0,Mt.prototype.removeEventListener=function(c,d,f,g){Jw(this,c,d,f,g)};function jt(c,d){var f,g=c.F;if(g)for(f=[];g;g=g.F)f.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new At(d,c);else if(d instanceof At)d.target=d.target||c;else{var A=d;d=new At(g,c),D(d,A)}if(A=!0,f)for(var R=f.length-1;0<=R;R--){var U=d.g=f[R];A=zu(U,g,!0,d)&&A}if(U=d.g=c,A=zu(U,g,!0,d)&&A,A=zu(U,g,!1,d)&&A,f)for(R=0;R<f.length;R++)U=d.g=f[R],A=zu(U,g,!1,d)&&A}Mt.prototype.N=function(){if(Mt.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],g=0;g<f.length;g++)$u(f[g]);delete c.g[d],c.h--}}this.F=null},Mt.prototype.K=function(c,d,f,g){return this.i.add(String(c),d,!1,f,g)},Mt.prototype.L=function(c,d,f,g){return this.i.add(String(c),d,!0,f,g)};function zu(c,d,f,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var A=!0,R=0;R<d.length;++R){var U=d[R];if(U&&!U.da&&U.capture==f){var je=U.listener,Dt=U.ha||U.src;U.fa&&ip(c.i,U),A=je.call(Dt,g)!==!1&&A}}return A&&!g.defaultPrevented}function Xw(c,d,f){if(typeof c=="function")f&&(c=m(c,f));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function eE(c){c.g=Xw(()=>{c.g=null,c.i&&(c.i=!1,eE(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class gR extends ei{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:eE(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Va(c){ei.call(this),this.h=c,this.g={}}S(Va,ei);var tE=[];function nE(c){oe(c.g,function(d,f){this.g.hasOwnProperty(f)&&cp(d)},c),c.g={}}Va.prototype.N=function(){Va.aa.N.call(this),nE(this)},Va.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var hp=a.JSON.stringify,mR=a.JSON.parse,yR=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function fp(){}fp.prototype.h=null;function rE(c){return c.h||(c.h=c.i())}function iE(){}var La={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function pp(){At.call(this,"d")}S(pp,At);function gp(){At.call(this,"c")}S(gp,At);var Wi={},oE=null;function qu(){return oE=oE||new Mt}Wi.La="serverreachability";function sE(c){At.call(this,Wi.La,c)}S(sE,At);function ja(c){let d=qu();jt(d,new sE(d))}Wi.STAT_EVENT="statevent";function aE(c,d){At.call(this,Wi.STAT_EVENT,c),this.stat=d}S(aE,At);function Ut(c){let d=qu();jt(d,new aE(d,c))}Wi.Ma="timingevent";function cE(c,d){At.call(this,Wi.Ma,c),this.size=d}S(cE,At);function Ua(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function Ba(){this.g=!0}Ba.prototype.xa=function(){this.g=!1};function vR(c,d,f,g,A,R){c.info(function(){if(c.g)if(R)for(var U="",je=R.split("&"),Dt=0;Dt<je.length;Dt++){var Te=je[Dt].split("=");if(1<Te.length){var xt=Te[0];Te=Te[1];var Pt=xt.split("_");U=2<=Pt.length&&Pt[1]=="type"?U+(xt+"="+Te+"&"):U+(xt+"=redacted&")}}else U=null;else U=R;return"XMLHTTP REQ ("+g+") [attempt "+A+"]: "+d+`
`+f+`
`+U})}function _R(c,d,f,g,A,R,U){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+A+"]: "+d+`
`+f+`
`+R+" "+U})}function Wo(c,d,f,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+ER(c,f)+(g?" "+g:"")})}function wR(c,d){c.info(function(){return"TIMEOUT: "+d})}Ba.prototype.info=function(){};function ER(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var g=f[c];if(!(2>g.length)){var A=g[1];if(Array.isArray(A)&&!(1>A.length)){var R=A[0];if(R!="noop"&&R!="stop"&&R!="close")for(var U=1;U<A.length;U++)A[U]=""}}}}return hp(f)}catch{return d}}var Gu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},uE={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},mp;function Wu(){}S(Wu,fp),Wu.prototype.g=function(){return new XMLHttpRequest},Wu.prototype.i=function(){return{}},mp=new Wu;function ti(c,d,f,g){this.j=c,this.i=d,this.l=f,this.R=g||1,this.U=new Va(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new lE}function lE(){this.i=null,this.g="",this.h=!1}var dE={},yp={};function vp(c,d,f){c.L=1,c.v=Ju(Er(d)),c.m=f,c.P=!0,hE(c,null)}function hE(c,d){c.F=Date.now(),Ku(c),c.A=Er(c.v);var f=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),TE(f.i,"t",g),c.C=0,f=c.j.J,c.h=new lE,c.g=zE(c.j,f?d:null,!c.m),0<c.O&&(c.M=new gR(m(c.Y,c,c.g),c.O)),d=c.U,f=c.g,g=c.ca;var A="readystatechange";Array.isArray(A)||(A&&(tE[0]=A.toString()),A=tE);for(var R=0;R<A.length;R++){var U=Kw(f,A[R],g||d.handleEvent,!1,d.h||d);if(!U)break;d.g[U.key]=U}d=c.H?v(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),ja(),vR(c.i,c.u,c.A,c.l,c.R,c.m)}ti.prototype.ca=function(c){c=c.target;let d=this.M;d&&Ir(c)==3?d.j():this.Y(c)},ti.prototype.Y=function(c){try{if(c==this.g)e:{let Pt=Ir(this.g);var d=this.g.Ba();let Yo=this.g.Z();if(!(3>Pt)&&(Pt!=3||this.g&&(this.h.h||this.g.oa()||NE(this.g)))){this.J||Pt!=4||d==7||(d==8||0>=Yo?ja(3):ja(2)),_p(this);var f=this.g.Z();this.X=f;t:if(fE(this)){var g=NE(this.g);c="";var A=g.length,R=Ir(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ki(this),$a(this);var U="";break t}this.h.i=new a.TextDecoder}for(d=0;d<A;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(R&&d==A-1)});g.length=0,this.h.g+=c,this.C=0,U=this.h.g}else U=this.g.oa();if(this.o=f==200,_R(this.i,this.u,this.A,this.l,this.R,Pt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var je,Dt=this.g;if((je=Dt.g?Dt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!X(je)){var Te=je;break t}}Te=null}if(f=Te)Wo(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,wp(this,f);else{this.o=!1,this.s=3,Ut(12),Ki(this),$a(this);break e}}if(this.P){f=!0;let Cn;for(;!this.J&&this.C<U.length;)if(Cn=IR(this,U),Cn==yp){Pt==4&&(this.s=4,Ut(14),f=!1),Wo(this.i,this.l,null,"[Incomplete Response]");break}else if(Cn==dE){this.s=4,Ut(15),Wo(this.i,this.l,U,"[Invalid Chunk]"),f=!1;break}else Wo(this.i,this.l,Cn,null),wp(this,Cn);if(fE(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pt!=4||U.length!=0||this.h.h||(this.s=1,Ut(16),f=!1),this.o=this.o&&f,!f)Wo(this.i,this.l,U,"[Invalid Chunked Response]"),Ki(this),$a(this);else if(0<U.length&&!this.W){this.W=!0;var xt=this.j;xt.g==this&&xt.ba&&!xt.M&&(xt.j.info("Great, no buffering proxy detected. Bytes received: "+U.length),Tp(xt),xt.M=!0,Ut(11))}}else Wo(this.i,this.l,U,null),wp(this,U);Pt==4&&Ki(this),this.o&&!this.J&&(Pt==4?UE(this.j,this):(this.o=!1,Ku(this)))}else jR(this.g),f==400&&0<U.indexOf("Unknown SID")?(this.s=3,Ut(12)):(this.s=0,Ut(13)),Ki(this),$a(this)}}}catch{}finally{}};function fE(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function IR(c,d){var f=c.C,g=d.indexOf(`
`,f);return g==-1?yp:(f=Number(d.substring(f,g)),isNaN(f)?dE:(g+=1,g+f>d.length?yp:(d=d.slice(g,g+f),c.C=g+f,d)))}ti.prototype.cancel=function(){this.J=!0,Ki(this)};function Ku(c){c.S=Date.now()+c.I,pE(c,c.I)}function pE(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Ua(m(c.ba,c),d)}function _p(c){c.B&&(a.clearTimeout(c.B),c.B=null)}ti.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(wR(this.i,this.A),this.L!=2&&(ja(),Ut(17)),Ki(this),this.s=2,$a(this)):pE(this,this.S-c)};function $a(c){c.j.G==0||c.J||UE(c.j,c)}function Ki(c){_p(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,nE(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function wp(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||Ep(f.h,c))){if(!c.K&&Ep(f.h,c)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var A=g;if(A[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)nl(f),el(f);else break e;Dp(f),Ut(18)}}else f.za=A[1],0<f.za-f.T&&37500>A[2]&&f.F&&f.v==0&&!f.C&&(f.C=Ua(m(f.Za,f),6e3));if(1>=yE(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Yi(f,11)}else if((c.K||f.g==c)&&nl(f),!X(d))for(A=f.Da.g.parse(d),d=0;d<A.length;d++){let Te=A[d];if(f.T=Te[0],Te=Te[1],f.G==2)if(Te[0]=="c"){f.K=Te[1],f.ia=Te[2];let xt=Te[3];xt!=null&&(f.la=xt,f.j.info("VER="+f.la));let Pt=Te[4];Pt!=null&&(f.Aa=Pt,f.j.info("SVER="+f.Aa));let Yo=Te[5];Yo!=null&&typeof Yo=="number"&&0<Yo&&(g=1.5*Yo,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let Cn=c.g;if(Cn){let il=Cn.g?Cn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(il){var R=g.h;R.g||il.indexOf("spdy")==-1&&il.indexOf("quic")==-1&&il.indexOf("h2")==-1||(R.j=R.l,R.g=new Set,R.h&&(Ip(R,R.h),R.h=null))}if(g.D){let Sp=Cn.g?Cn.g.getResponseHeader("X-HTTP-Session-Id"):null;Sp&&(g.ya=Sp,ze(g.I,g.D,Sp))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var U=c;if(g.qa=HE(g,g.J?g.ia:null,g.W),U.K){vE(g.h,U);var je=U,Dt=g.L;Dt&&(je.I=Dt),je.B&&(_p(je),Ku(je)),g.g=U}else LE(g);0<f.i.length&&tl(f)}else Te[0]!="stop"&&Te[0]!="close"||Yi(f,7);else f.G==3&&(Te[0]=="stop"||Te[0]=="close"?Te[0]=="stop"?Yi(f,7):bp(f):Te[0]!="noop"&&f.l&&f.l.ta(Te),f.v=0)}}ja(4)}catch{}}var CR=class{constructor(c,d){this.g=c,this.map=d}};function gE(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function mE(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function yE(c){return c.h?1:c.g?c.g.size:0}function Ep(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function Ip(c,d){c.g?c.g.add(d):c.h=d}function vE(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}gE.prototype.cancel=function(){if(this.i=_E(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function _E(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return N(c.i)}function bR(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,g=0;g<f;g++)d.push(c[g]);return d}d=[],f=0;for(g in c)d[f++]=c[g];return d}function DR(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let g in c)d[f++]=g;return d}}}function wE(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=DR(c),g=bR(c),A=g.length,R=0;R<A;R++)d.call(void 0,g[R],f&&f[R],c)}var EE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function TR(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var g=c[f].indexOf("="),A=null;if(0<=g){var R=c[f].substring(0,g);A=c[f].substring(g+1)}else R=c[f];d(R,A?decodeURIComponent(A.replace(/\+/g," ")):"")}}}function Qi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Qi){this.h=c.h,Qu(this,c.j),this.o=c.o,this.g=c.g,Yu(this,c.s),this.l=c.l;var d=c.i,f=new qa;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),IE(this,f),this.m=c.m}else c&&(d=String(c).match(EE))?(this.h=!1,Qu(this,d[1]||"",!0),this.o=Ha(d[2]||""),this.g=Ha(d[3]||"",!0),Yu(this,d[4]),this.l=Ha(d[5]||"",!0),IE(this,d[6]||"",!0),this.m=Ha(d[7]||"")):(this.h=!1,this.i=new qa(null,this.h))}Qi.prototype.toString=function(){var c=[],d=this.j;d&&c.push(za(d,CE,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(za(d,CE,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(za(f,f.charAt(0)=="/"?MR:AR,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",za(f,PR)),c.join("")};function Er(c){return new Qi(c)}function Qu(c,d,f){c.j=f?Ha(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function Yu(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function IE(c,d,f){d instanceof qa?(c.i=d,RR(c.i,c.h)):(f||(d=za(d,xR)),c.i=new qa(d,c.h))}function ze(c,d,f){c.i.set(d,f)}function Ju(c){return ze(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ha(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function za(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,SR),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function SR(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var CE=/[#\/\?@]/g,AR=/[#\?:]/g,MR=/[#\?]/g,xR=/[#\?@]/g,PR=/#/g;function qa(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function ni(c){c.g||(c.g=new Map,c.h=0,c.i&&TR(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=qa.prototype,t.add=function(c,d){ni(this),this.i=null,c=Ko(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function bE(c,d){ni(c),d=Ko(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function DE(c,d){return ni(c),d=Ko(c,d),c.g.has(d)}t.forEach=function(c,d){ni(this),this.g.forEach(function(f,g){f.forEach(function(A){c.call(d,A,g,this)},this)},this)},t.na=function(){ni(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let A=c[g];for(let R=0;R<A.length;R++)f.push(d[g])}return f},t.V=function(c){ni(this);let d=[];if(typeof c=="string")DE(this,c)&&(d=d.concat(this.g.get(Ko(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},t.set=function(c,d){return ni(this),this.i=null,c=Ko(this,c),DE(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function TE(c,d,f){bE(c,d),0<f.length&&(c.i=null,c.g.set(Ko(c,d),N(f)),c.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let R=encodeURIComponent(String(g)),U=this.V(g);for(g=0;g<U.length;g++){var A=R;U[g]!==""&&(A+="="+encodeURIComponent(String(U[g]))),c.push(A)}}return this.i=c.join("&")};function Ko(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function RR(c,d){d&&!c.j&&(ni(c),c.i=null,c.g.forEach(function(f,g){var A=g.toLowerCase();g!=A&&(bE(this,g),TE(this,A,f))},c)),c.j=d}function NR(c,d){let f=new Ba;if(a.Image){let g=new Image;g.onload=y(ri,f,"TestLoadImage: loaded",!0,d,g),g.onerror=y(ri,f,"TestLoadImage: error",!1,d,g),g.onabort=y(ri,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=y(ri,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function OR(c,d){let f=new Ba,g=new AbortController,A=setTimeout(()=>{g.abort(),ri(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(R=>{clearTimeout(A),R.ok?ri(f,"TestPingServer: ok",!0,d):ri(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(A),ri(f,"TestPingServer: error",!1,d)})}function ri(c,d,f,g,A){try{A&&(A.onload=null,A.onerror=null,A.onabort=null,A.ontimeout=null),g(f)}catch{}}function kR(){this.g=new yR}function FR(c,d,f){let g=f||"";try{wE(c,function(A,R){let U=A;l(A)&&(U=hp(A)),d.push(g+R+"="+encodeURIComponent(U))})}catch(A){throw d.push(g+"type="+encodeURIComponent("_badmap")),A}}function Ga(c){this.l=c.Ub||null,this.j=c.eb||!1}S(Ga,fp),Ga.prototype.g=function(){return new Zu(this.l,this.j)},Ga.prototype.i=function(c){return function(){return c}}({});function Zu(c,d){Mt.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(Zu,Mt),t=Zu.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,Ka(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Wa(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ka(this)),this.g&&(this.readyState=3,Ka(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;SE(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function SE(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?Wa(this):Ka(this),this.readyState==3&&SE(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Wa(this))},t.Qa=function(c){this.g&&(this.response=c,Wa(this))},t.ga=function(){this.g&&Wa(this)};function Wa(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Ka(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function Ka(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Zu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function AE(c){let d="";return oe(c,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function Cp(c,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=AE(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):ze(c,d,f))}function Qe(c){Mt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(Qe,Mt);var VR=/^https?$/i,LR=["POST","PUT"];t=Qe.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():mp.g(),this.v=this.o?rE(this.o):rE(mp),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(R){ME(this,R);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var A in g)f.set(A,g[A]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let R of g.keys())f.set(R,g.get(R));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(R=>R.toLowerCase()=="content-type"),A=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(LR,d,void 0))||g||A||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[R,U]of f)this.g.setRequestHeader(R,U);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{RE(this),this.u=!0,this.g.send(c),this.u=!1}catch(R){ME(this,R)}};function ME(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,xE(c),Xu(c)}function xE(c){c.A||(c.A=!0,jt(c,"complete"),jt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,jt(this,"complete"),jt(this,"abort"),Xu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xu(this,!0)),Qe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?PE(this):this.bb())},t.bb=function(){PE(this)};function PE(c){if(c.h&&typeof s<"u"&&(!c.v[1]||Ir(c)!=4||c.Z()!=2)){if(c.u&&Ir(c)==4)Xw(c.Ea,0,c);else if(jt(c,"readystatechange"),Ir(c)==4){c.h=!1;try{let U=c.Z();e:switch(U){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=U===0){var A=String(c.D).match(EE)[1]||null;!A&&a.self&&a.self.location&&(A=a.self.location.protocol.slice(0,-1)),g=!VR.test(A?A.toLowerCase():"")}f=g}if(f)jt(c,"complete"),jt(c,"success");else{c.m=6;try{var R=2<Ir(c)?c.g.statusText:""}catch{R=""}c.l=R+" ["+c.Z()+"]",xE(c)}}finally{Xu(c)}}}}function Xu(c,d){if(c.g){RE(c);let f=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||jt(c,"ready");try{f.onreadystatechange=g}catch{}}}function RE(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Ir(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Ir(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),mR(d)}};function NE(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function jR(c){let d={};c=(c.g&&2<=Ir(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(X(c[g]))continue;var f=T(c[g]);let A=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let R=d[A]||[];d[A]=R,R.push(f)}b(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Qa(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function OE(c){this.Aa=0,this.i=[],this.j=new Ba,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Qa("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Qa("baseRetryDelayMs",5e3,c),this.cb=Qa("retryDelaySeedMs",1e4,c),this.Wa=Qa("forwardChannelMaxRetries",2,c),this.wa=Qa("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new gE(c&&c.concurrentRequestLimit),this.Da=new kR,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=OE.prototype,t.la=8,t.G=1,t.connect=function(c,d,f,g){Ut(0),this.W=c,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=HE(this,null,this.W),tl(this)};function bp(c){if(kE(c),c.G==3){var d=c.U++,f=Er(c.I);if(ze(f,"SID",c.K),ze(f,"RID",d),ze(f,"TYPE","terminate"),Ya(c,f),d=new ti(c,c.j,d),d.L=2,d.v=Ju(Er(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=zE(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Ku(d)}$E(c)}function el(c){c.g&&(Tp(c),c.g.cancel(),c.g=null)}function kE(c){el(c),c.u&&(a.clearTimeout(c.u),c.u=null),nl(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function tl(c){if(!mE(c.h)&&!c.s){c.s=!0;var d=c.Ga;Na||Ww(),Oa||(Na(),Oa=!0),rp.add(d,c),c.B=0}}function UR(c,d){return yE(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Ua(m(c.Ga,c,d),BE(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let A=new ti(this,this.j,c),R=this.o;if(this.S&&(R?(R=v(R),D(R,this.S)):R=this.S),this.m!==null||this.O||(A.H=R,R=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=VE(this,A,d),f=Er(this.I),ze(f,"RID",c),ze(f,"CVER",22),this.D&&ze(f,"X-HTTP-Session-Id",this.D),Ya(this,f),R&&(this.O?d="headers="+encodeURIComponent(String(AE(R)))+"&"+d:this.m&&Cp(f,this.m,R)),Ip(this.h,A),this.Ua&&ze(f,"TYPE","init"),this.P?(ze(f,"$req",d),ze(f,"SID","null"),A.T=!0,vp(A,f,null)):vp(A,f,d),this.G=2}}else this.G==3&&(c?FE(this,c):this.i.length==0||mE(this.h)||FE(this))};function FE(c,d){var f;d?f=d.l:f=c.U++;let g=Er(c.I);ze(g,"SID",c.K),ze(g,"RID",f),ze(g,"AID",c.T),Ya(c,g),c.m&&c.o&&Cp(g,c.m,c.o),f=new ti(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=VE(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ip(c.h,f),vp(f,g,d)}function Ya(c,d){c.H&&oe(c.H,function(f,g){ze(d,g,f)}),c.l&&wE({},function(f,g){ze(d,g,f)})}function VE(c,d,f){f=Math.min(c.i.length,f);var g=c.l?m(c.l.Na,c.l,c):null;e:{var A=c.i;let R=-1;for(;;){let U=["count="+f];R==-1?0<f?(R=A[0].g,U.push("ofs="+R)):R=0:U.push("ofs="+R);let je=!0;for(let Dt=0;Dt<f;Dt++){let Te=A[Dt].g,xt=A[Dt].map;if(Te-=R,0>Te)R=Math.max(0,A[Dt].g-100),je=!1;else try{FR(xt,U,"req"+Te+"_")}catch{g&&g(xt)}}if(je){g=U.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,g}function LE(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;Na||Ww(),Oa||(Na(),Oa=!0),rp.add(d,c),c.v=0}}function Dp(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Ua(m(c.Fa,c),BE(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,jE(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Ua(m(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ut(10),el(this),jE(this))};function Tp(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function jE(c){c.g=new ti(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=Er(c.qa);ze(d,"RID","rpc"),ze(d,"SID",c.K),ze(d,"AID",c.T),ze(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&ze(d,"TO",c.ja),ze(d,"TYPE","xmlhttp"),Ya(c,d),c.m&&c.o&&Cp(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=Ju(Er(d)),f.m=null,f.P=!0,hE(f,c)}t.Za=function(){this.C!=null&&(this.C=null,el(this),Dp(this),Ut(19))};function nl(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function UE(c,d){var f=null;if(c.g==d){nl(c),Tp(c),c.g=null;var g=2}else if(Ep(c.h,d))f=d.D,vE(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var A=c.B;g=qu(),jt(g,new cE(g,f)),tl(c)}else LE(c);else if(A=d.s,A==3||A==0&&0<d.X||!(g==1&&UR(c,d)||g==2&&Dp(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),A){case 1:Yi(c,5);break;case 4:Yi(c,10);break;case 3:Yi(c,6);break;default:Yi(c,2)}}}function BE(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function Yi(c,d){if(c.j.info("Error code "+d),d==2){var f=m(c.fb,c),g=c.Xa;let A=!g;g=new Qi(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Qu(g,"https"),Ju(g),A?NR(g.toString(),f):OR(g.toString(),f)}else Ut(2);c.G=0,c.l&&c.l.sa(d),$E(c),kE(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Ut(2)):(this.j.info("Failed to ping google.com"),Ut(1))};function $E(c){if(c.G=0,c.ka=[],c.l){let d=_E(c.h);(d.length!=0||c.i.length!=0)&&(x(c.ka,d),x(c.ka,c.i),c.h.i.length=0,N(c.i),c.i.length=0),c.l.ra()}}function HE(c,d,f){var g=f instanceof Qi?Er(f):new Qi(f);if(g.g!="")d&&(g.g=d+"."+g.g),Yu(g,g.s);else{var A=a.location;g=A.protocol,d=d?d+"."+A.hostname:A.hostname,A=+A.port;var R=new Qi(null);g&&Qu(R,g),d&&(R.g=d),A&&Yu(R,A),f&&(R.l=f),g=R}return f=c.D,d=c.ya,f&&d&&ze(g,f,d),ze(g,"VER",c.la),Ya(c,g),g}function zE(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Qe(new Ga({eb:f})):new Qe(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function qE(){}t=qE.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function rl(){}rl.prototype.g=function(c,d){return new Zt(c,d)};function Zt(c,d){Mt.call(this),this.g=new OE(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!X(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!X(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new Qo(this)}S(Zt,Mt),Zt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Zt.prototype.close=function(){bp(this.g)},Zt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=hp(c),c=f);d.i.push(new CR(d.Ya++,c)),d.G==3&&tl(d)},Zt.prototype.N=function(){this.g.l=null,delete this.j,bp(this.g),delete this.g,Zt.aa.N.call(this)};function GE(c){pp.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}S(GE,pp);function WE(){gp.call(this),this.status=1}S(WE,gp);function Qo(c){this.g=c}S(Qo,qE),Qo.prototype.ua=function(){jt(this.g,"a")},Qo.prototype.ta=function(c){jt(this.g,new GE(c))},Qo.prototype.sa=function(c){jt(this.g,new WE)},Qo.prototype.ra=function(){jt(this.g,"b")},rl.prototype.createWebChannel=rl.prototype.g,Zt.prototype.send=Zt.prototype.o,Zt.prototype.open=Zt.prototype.m,Zt.prototype.close=Zt.prototype.close,_v=Yr.createWebChannelTransport=function(){return new rl},vv=Yr.getStatEventTarget=function(){return qu()},yv=Yr.Event=Wi,zh=Yr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Gu.NO_ERROR=0,Gu.TIMEOUT=8,Gu.HTTP_ERROR=6,iu=Yr.ErrorCode=Gu,uE.COMPLETE="complete",mv=Yr.EventType=uE,iE.EventType=La,La.OPEN="a",La.CLOSE="b",La.ERROR="c",La.MESSAGE="d",Mt.prototype.listen=Mt.prototype.K,Xs=Yr.WebChannel=iE,t$=Yr.FetchXmlHttpFactory=Ga,Qe.prototype.listenOnce=Qe.prototype.L,Qe.prototype.getLastError=Qe.prototype.Ka,Qe.prototype.getLastErrorCode=Qe.prototype.Ba,Qe.prototype.getStatus=Qe.prototype.Z,Qe.prototype.getResponseJson=Qe.prototype.Oa,Qe.prototype.getResponseText=Qe.prototype.oa,Qe.prototype.send=Qe.prototype.ea,Qe.prototype.setWithCredentials=Qe.prototype.Ha,gv=Yr.XhrIo=Qe}).apply(typeof Hh<"u"?Hh:typeof self<"u"?self:typeof window<"u"?window:{});var GA="@firebase/firestore";var bt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};bt.UNAUTHENTICATED=new bt(null),bt.GOOGLE_CREDENTIALS=new bt("google-credentials-uid"),bt.FIRST_PARTY=new bt("first-party-uid"),bt.MOCK_USER=new bt("mock-user");var _a="10.14.0";var No=new or("@firebase/firestore");function ou(){return No.logLevel}function W(t,...e){if(No.logLevel<=we.DEBUG){let n=e.map(nw);No.debug(`Firestore (${_a}): ${t}`,...n)}}function Jr(t,...e){if(No.logLevel<=we.ERROR){let n=e.map(nw);No.error(`Firestore (${_a}): ${t}`,...n)}}function sa(t,...e){if(No.logLevel<=we.WARN){let n=e.map(nw);No.warn(`Firestore (${_a}): ${t}`,...n)}}function nw(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function ae(t="Unexpected state"){let e=`FIRESTORE (${_a}) INTERNAL ASSERTION FAILED: `+t;throw Jr(e),new Error(e)}function Fe(t,e){t||ae()}function le(t,e){return t}var k={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},q=class extends ln{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var ur=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Qh=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},bv=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(bt.UNAUTHENTICATED))}shutdown(){}},Dv=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Tv=class{constructor(e){this.t=e,this.currentUser=bt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Fe(this.o===void 0);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new ur;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ur,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>w(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{W("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(W("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ur)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(W("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Fe(typeof r.accessToken=="string"),new Qh(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string"),new bt(e)}},Sv=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=bt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Av=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Sv(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(bt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Mv=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},xv=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Fe(this.o===void 0);let r=o=>{o.error!=null&&W("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,W("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{W("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):W("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Fe(typeof n.token=="string"),this.R=n.token,new Mv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function n$(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Yh=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=n$(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}};function Me(t,e){return t<e?-1:t>e?1:0}function aa(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var rt=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new q(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new q(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new q(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new q(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var fe=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new rt(0,0))}static max(){return new t(new rt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Jh=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&ae(),r===void 0?r=e.length-n:r>e.length-n&&ae(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Ke=class t extends Jh{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new q(k.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},r$=/^[_a-zA-Z][_a-zA-Z0-9]*$/,hn=class t extends Jh{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return r$.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new q(k.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new q(k.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new q(k.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new q(k.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var re=class t{constructor(e){this.path=e}static fromPath(e){return new t(Ke.fromString(e))}static fromName(e){return new t(Ke.fromString(e).popFirst(5))}static empty(){return new t(Ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ke.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ke.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Ke(e.slice()))}};var Pv=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};Pv.UNKNOWN_ID=-1;function i$(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=fe.fromTimestamp(r===1e9?new rt(n+1,0):new rt(n,r));return new Oo(i,re.empty(),e)}function o$(t){return new Oo(t.readTime,t.key,-1)}var Oo=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(fe.min(),re.empty(),-1)}static max(){return new t(fe.max(),re.empty(),-1)}};function s$(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=re.comparator(t.documentKey,e.documentKey),n!==0?n:Me(t.largestBatchId,e.largestBatchId))}var a$="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Rv=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Du(t){return w(this,null,function*(){if(t.code!==k.FAILED_PRECONDITION||t.message!==a$)throw t;W("LocalStore","Unexpectedly lost primary lease")})}var L=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ae(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;n(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function c$(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Tu(t){return t.name==="IndexedDbTransactionError"}var SM=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function Mf(t){return t==null}function du(t){return t===0&&1/t==-1/0}function u$(t){return typeof t=="number"&&Number.isInteger(t)&&!du(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var l$=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],tJ=[...l$,"documentOverlays"],d$=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],h$=d$,f$=[...h$,"indexConfiguration","indexState","indexEntries"];var nJ=[...f$,"globals"];function WA(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Bo(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function AM(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var et=class t{constructor(e,n){this.comparator=e,this.root=n||lr.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,lr.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,lr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ra(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ra(this.root,e,this.comparator,!1)}getReverseIterator(){return new ra(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ra(this.root,e,this.comparator,!0)}},ra=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},lr=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ae();let e=this.left.check();if(e!==this.right.check())throw ae();return e+(this.isRed()?0:1)}};lr.EMPTY=null,lr.RED=!0,lr.BLACK=!1;lr.EMPTY=new class{constructor(){this.size=0}get key(){throw ae()}get value(){throw ae()}get color(){throw ae()}get left(){throw ae()}get right(){throw ae()}copy(e,n,r,i,o){return this}insert(e,n,r){return new lr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Vt=class t{constructor(e){this.comparator=e,this.data=new et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Zh(this.data.getIterator())}getIteratorFrom(e){return new Zh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Zh=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var wn=class t{constructor(e){this.fields=e,e.sort(hn.comparator)}static empty(){return new t([])}unionWith(e){let n=new Vt(hn.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return aa(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Xh=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Lt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Xh("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Lt.EMPTY_BYTE_STRING=new Lt("");var p$=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zr(t){if(Fe(!!t),typeof t=="string"){let e=0,n=p$.exec(t);if(Fe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ge(t.seconds),nanos:Ge(t.nanos)}}function Ge(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function zi(t){return typeof t=="string"?Lt.fromBase64String(t):Lt.fromUint8Array(t)}function rw(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function iw(t){let e=t.mapValue.fields.__previous_value__;return rw(e)?iw(e):e}function hu(t){let e=Zr(t.mapValue.fields.__local_write_time__.timestampValue);return new rt(e.seconds,e.nanos)}var Nv=class{constructor(e,n,r,i,o,s,a,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}},ef=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var qh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ko(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?rw(t)?4:xM(t)?9007199254740991:MM(t)?10:11:ae()}function pr(t,e){if(t===e)return!0;let n=ko(t);if(n!==ko(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return hu(t).isEqual(hu(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Zr(i.timestampValue),a=Zr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return zi(i.bytesValue).isEqual(zi(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Ge(i.geoPointValue.latitude)===Ge(o.geoPointValue.latitude)&&Ge(i.geoPointValue.longitude)===Ge(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ge(i.integerValue)===Ge(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Ge(i.doubleValue),a=Ge(o.doubleValue);return s===a?du(s)===du(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return aa(t.arrayValue.values||[],e.arrayValue.values||[],pr);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(WA(s)!==WA(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!pr(s[u],a[u])))return!1;return!0}(t,e);default:return ae()}}function fu(t,e){return(t.values||[]).find(n=>pr(n,e))!==void 0}function ca(t,e){if(t===e)return 0;let n=ko(t),r=ko(e);if(n!==r)return Me(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Me(t.booleanValue,e.booleanValue);case 2:return function(o,s){let a=Ge(o.integerValue||o.doubleValue),u=Ge(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return KA(t.timestampValue,e.timestampValue);case 4:return KA(hu(t),hu(e));case 5:return Me(t.stringValue,e.stringValue);case 6:return function(o,s){let a=zi(o),u=zi(s);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=Me(a[l],u[l]);if(h!==0)return h}return Me(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let a=Me(Ge(o.latitude),Ge(s.latitude));return a!==0?a:Me(Ge(o.longitude),Ge(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return QA(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,l,h;let p=o.fields||{},m=s.fields||{},y=(a=p.value)===null||a===void 0?void 0:a.arrayValue,S=(u=m.value)===null||u===void 0?void 0:u.arrayValue,N=Me(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((h=S?.values)===null||h===void 0?void 0:h.length)||0);return N!==0?N:QA(y,S)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===qh.mapValue&&s===qh.mapValue)return 0;if(o===qh.mapValue)return 1;if(s===qh.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=Me(u[p],h[p]);if(m!==0)return m;let y=ca(a[u[p]],l[h[p]]);if(y!==0)return y}return Me(u.length,h.length)}(t.mapValue,e.mapValue);default:throw ae()}}function KA(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Me(t,e);let n=Zr(t),r=Zr(e),i=Me(n.seconds,r.seconds);return i!==0?i:Me(n.nanos,r.nanos)}function QA(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=ca(n[i],r[i]);if(o)return o}return Me(n.length,r.length)}function ua(t){return Ov(t)}function Ov(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Zr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return zi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return re.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=Ov(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${Ov(n.fields[s])}`;return i+"}"}(t.mapValue):ae()}function YA(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function kv(t){return!!t&&"integerValue"in t}function ow(t){return!!t&&"arrayValue"in t}function JA(t){return!!t&&"nullValue"in t}function ZA(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Wh(t){return!!t&&"mapValue"in t}function MM(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function au(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Bo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=au(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=au(t.arrayValue.values[n]);return e}return Object.assign({},t)}function xM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var dn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Wh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=au(n)}setAll(e){let n=hn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=au(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());Wh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return pr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Wh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Bo(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(au(this.value))}};function PM(t){let e=[];return Bo(t.fields,(n,r)=>{let i=new hn([n]);if(Wh(r)){let o=PM(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new wn(e)}var Un=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,fe.min(),fe.min(),fe.min(),dn.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,fe.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,fe.min(),fe.min(),dn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,fe.min(),fe.min(),dn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var la=class{constructor(e,n){this.position=e,this.inclusive=n}};function XA(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=re.comparator(re.fromName(s.referenceValue),n.key):r=ca(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function eM(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!pr(t.position[n],e.position[n]))return!1;return!0}var da=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function g$(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var tf=class{},gt=class t extends tf{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Vv(e,n,r):n==="array-contains"?new Uv(e,r):n==="in"?new Bv(e,r):n==="not-in"?new $v(e,r):n==="array-contains-any"?new Hv(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Lv(e,r):new jv(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ca(n,this.value)):n!==null&&ko(this.value)===ko(n)&&this.matchesComparison(ca(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ae()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Bn=class t extends tf{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return RM(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function RM(t){return t.op==="and"}function NM(t){return m$(t)&&RM(t)}function m$(t){for(let e of t.filters)if(e instanceof Bn)return!1;return!0}function Fv(t){if(t instanceof gt)return t.field.canonicalString()+t.op.toString()+ua(t.value);if(NM(t))return t.filters.map(e=>Fv(e)).join(",");{let e=t.filters.map(n=>Fv(n)).join(",");return`${t.op}(${e})`}}function OM(t,e){return t instanceof gt?function(r,i){return i instanceof gt&&r.op===i.op&&r.field.isEqual(i.field)&&pr(r.value,i.value)}(t,e):t instanceof Bn?function(r,i){return i instanceof Bn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&OM(s,i.filters[a]),!0):!1}(t,e):void ae()}function kM(t){return t instanceof gt?function(n){return`${n.field.canonicalString()} ${n.op} ${ua(n.value)}`}(t):t instanceof Bn?function(n){return n.op.toString()+" {"+n.getFilters().map(kM).join(" ,")+"}"}(t):"Filter"}var Vv=class extends gt{constructor(e,n,r){super(e,n,r),this.key=re.fromName(r.referenceValue)}matches(e){let n=re.comparator(e.key,this.key);return this.matchesComparison(n)}},Lv=class extends gt{constructor(e,n){super(e,"in",n),this.keys=FM("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},jv=class extends gt{constructor(e,n){super(e,"not-in",n),this.keys=FM("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function FM(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>re.fromName(r.referenceValue))}var Uv=class extends gt{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return ow(n)&&fu(n.arrayValue,this.value)}},Bv=class extends gt{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&fu(this.value.arrayValue,n)}},$v=class extends gt{constructor(e,n){super(e,"not-in",n)}matches(e){if(fu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!fu(this.value.arrayValue,n)}},Hv=class extends gt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!ow(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>fu(this.value.arrayValue,r))}};var zv=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}};function tM(t,e=null,n=[],r=[],i=null,o=null,s=null){return new zv(t,e,n,r,i,o,s)}function sw(t){let e=le(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Fv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Mf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ua(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ua(r)).join(",")),e.ue=n}return e.ue}function aw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!g$(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!OM(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!eM(t.startAt,e.startAt)&&eM(t.endAt,e.endAt)}function qv(t){return re.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Fo=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function y$(t,e,n,r,i,o,s,a){return new Fo(t,e,n,r,i,o,s,a)}function cw(t){return new Fo(t)}function nM(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function VM(t){return t.collectionGroup!==null}function cu(t){let e=le(t);if(e.ce===null){e.ce=[];let n=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Vt(hn.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new da(o,r))}),n.has(hn.keyField().canonicalString())||e.ce.push(new da(hn.keyField(),r))}return e.ce}function dr(t){let e=le(t);return e.le||(e.le=v$(e,cu(t))),e.le}function v$(t,e){if(t.limitType==="F")return tM(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new da(i.field,o)});let n=t.endAt?new la(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new la(t.startAt.position,t.startAt.inclusive):null;return tM(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Gv(t,e){let n=t.filters.concat([e]);return new Fo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Wv(t,e,n){return new Fo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function xf(t,e){return aw(dr(t),dr(e))&&t.limitType===e.limitType}function LM(t){return`${sw(dr(t))}|lt:${t.limitType}`}function ea(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>kM(i)).join(", ")}]`),Mf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ua(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ua(i)).join(",")),`Target(${r})`}(dr(t))}; limitType=${t.limitType})`}function Pf(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):re.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of cu(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){let l=XA(s,a,u);return s.inclusive?l<=0:l<0}(r.startAt,cu(r),i)||r.endAt&&!function(s,a,u){let l=XA(s,a,u);return s.inclusive?l>=0:l>0}(r.endAt,cu(r),i))}(t,e)}function _$(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function jM(t){return(e,n)=>{let r=!1;for(let i of cu(t)){let o=w$(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function w$(t,e,n){let r=t.field.isKeyField()?re.comparator(e.key,n.key):function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?ca(u,l):ae()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ae()}}var qi=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Bo(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return AM(this.inner)}size(){return this.innerSize}};var E$=new et(re.comparator);function Xr(){return E$}var UM=new et(re.comparator);function su(...t){let e=UM;for(let n of t)e=e.insert(n.key,n);return e}function BM(t){let e=UM;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function xo(){return uu()}function $M(){return uu()}function uu(){return new qi(t=>t.toString(),(t,e)=>t.isEqual(e))}var I$=new et(re.comparator),C$=new Vt(re.comparator);function Ee(...t){let e=C$;for(let n of t)e=e.add(n);return e}var b$=new Vt(Me);function D$(){return b$}function uw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:du(e)?"-0":e}}function HM(t){return{integerValue:""+t}}function T$(t,e){return u$(e)?HM(e):uw(t,e)}var ha=class{constructor(){this._=void 0}};function S$(t,e,n){return t instanceof fa?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&rw(o)&&(o=iw(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Vo?qM(t,e):t instanceof Lo?GM(t,e):function(i,o){let s=zM(i,o),a=rM(s)+rM(i.Pe);return kv(s)&&kv(i.Pe)?HM(a):uw(i.serializer,a)}(t,e)}function A$(t,e,n){return t instanceof Vo?qM(t,e):t instanceof Lo?GM(t,e):n}function zM(t,e){return t instanceof pa?function(r){return kv(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var fa=class extends ha{},Vo=class extends ha{constructor(e){super(),this.elements=e}};function qM(t,e){let n=WM(e);for(let r of t.elements)n.some(i=>pr(i,r))||n.push(r);return{arrayValue:{values:n}}}var Lo=class extends ha{constructor(e){super(),this.elements=e}};function GM(t,e){let n=WM(e);for(let r of t.elements)n=n.filter(i=>!pr(i,r));return{arrayValue:{values:n}}}var pa=class extends ha{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function rM(t){return Ge(t.integerValue||t.doubleValue)}function WM(t){return ow(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function M$(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Vo&&i instanceof Vo||r instanceof Lo&&i instanceof Lo?aa(r.elements,i.elements,pr):r instanceof pa&&i instanceof pa?pr(r.Pe,i.Pe):r instanceof fa&&i instanceof fa}(t.transform,e.transform)}var Kv=class{constructor(e,n){this.version=e,this.transformResults=n}},hr=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Kh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var ga=class{};function KM(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new pu(t.key,hr.none()):new jo(t.key,t.data,hr.none());{let n=t.data,r=dn.empty(),i=new Vt(hn.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new gr(t.key,r,new wn(i.toArray()),hr.none())}}function x$(t,e,n){t instanceof jo?function(i,o,s){let a=i.value.clone(),u=oM(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof gr?function(i,o,s){if(!Kh(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=oM(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(QM(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function lu(t,e,n,r){return t instanceof jo?function(o,s,a,u){if(!Kh(o.precondition,s))return a;let l=o.value.clone(),h=sM(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof gr?function(o,s,a,u){if(!Kh(o.precondition,s))return a;let l=sM(o.fieldTransforms,u,s),h=s.data;return h.setAll(QM(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(o,s,a){return Kh(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function P$(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=zM(r.transform,i||null);o!=null&&(n===null&&(n=dn.empty()),n.set(r.field,o))}return n||null}function iM(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&aa(r,i,(o,s)=>M$(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var jo=class extends ga{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},gr=class extends ga{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function QM(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function oM(t,e,n){let r=new Map;Fe(t.length===n.length);for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,A$(s,a,n[i]))}return r}function sM(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,S$(o,s,e))}return r}var pu=class extends ga{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Qv=class extends ga{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Yv=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&x$(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=lu(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=lu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=$M();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let u=KM(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(fe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ee())}isEqual(e){return this.batchId===e.batchId&&aa(this.mutations,e.mutations,(n,r)=>iM(n,r))&&aa(this.baseMutations,e.baseMutations,(n,r)=>iM(n,r))}},Jv=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Fe(e.mutations.length===r.length);let i=function(){return I$}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var Zv=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Xv=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var ft,De;function R$(t){switch(t){default:return ae();case k.CANCELLED:case k.UNKNOWN:case k.DEADLINE_EXCEEDED:case k.RESOURCE_EXHAUSTED:case k.INTERNAL:case k.UNAVAILABLE:case k.UNAUTHENTICATED:return!1;case k.INVALID_ARGUMENT:case k.NOT_FOUND:case k.ALREADY_EXISTS:case k.PERMISSION_DENIED:case k.FAILED_PRECONDITION:case k.ABORTED:case k.OUT_OF_RANGE:case k.UNIMPLEMENTED:case k.DATA_LOSS:return!0}}function YM(t){if(t===void 0)return Jr("GRPC error has no .code"),k.UNKNOWN;switch(t){case ft.OK:return k.OK;case ft.CANCELLED:return k.CANCELLED;case ft.UNKNOWN:return k.UNKNOWN;case ft.DEADLINE_EXCEEDED:return k.DEADLINE_EXCEEDED;case ft.RESOURCE_EXHAUSTED:return k.RESOURCE_EXHAUSTED;case ft.INTERNAL:return k.INTERNAL;case ft.UNAVAILABLE:return k.UNAVAILABLE;case ft.UNAUTHENTICATED:return k.UNAUTHENTICATED;case ft.INVALID_ARGUMENT:return k.INVALID_ARGUMENT;case ft.NOT_FOUND:return k.NOT_FOUND;case ft.ALREADY_EXISTS:return k.ALREADY_EXISTS;case ft.PERMISSION_DENIED:return k.PERMISSION_DENIED;case ft.FAILED_PRECONDITION:return k.FAILED_PRECONDITION;case ft.ABORTED:return k.ABORTED;case ft.OUT_OF_RANGE:return k.OUT_OF_RANGE;case ft.UNIMPLEMENTED:return k.UNIMPLEMENTED;case ft.DATA_LOSS:return k.DATA_LOSS;default:return ae()}}(De=ft||(ft={}))[De.OK=0]="OK",De[De.CANCELLED=1]="CANCELLED",De[De.UNKNOWN=2]="UNKNOWN",De[De.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",De[De.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",De[De.NOT_FOUND=5]="NOT_FOUND",De[De.ALREADY_EXISTS=6]="ALREADY_EXISTS",De[De.PERMISSION_DENIED=7]="PERMISSION_DENIED",De[De.UNAUTHENTICATED=16]="UNAUTHENTICATED",De[De.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",De[De.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",De[De.ABORTED=10]="ABORTED",De[De.OUT_OF_RANGE=11]="OUT_OF_RANGE",De[De.UNIMPLEMENTED=12]="UNIMPLEMENTED",De[De.INTERNAL=13]="INTERNAL",De[De.UNAVAILABLE=14]="UNAVAILABLE",De[De.DATA_LOSS=15]="DATA_LOSS";var aM=null;function N$(){return new TextEncoder}var O$=new $i([4294967295,4294967295],0);function cM(t){let e=N$().encode(t),n=new pv;return n.update(e),new Uint8Array(n.digest())}function uM(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new $i([n,r],0),new $i([i,o],0)]}var e_=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Po(`Invalid padding: ${n}`);if(r<0)throw new Po(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Po(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Po(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=$i.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply($i.fromNumber(r)));return i.compare(O$)===1&&(i=new $i([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=cM(e),[r,i]=uM(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;let n=cM(e),[r,i]=uM(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Po=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var nf=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,gu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(fe.min(),i,new et(Me),Xr(),Ee())}},gu=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,Ee(),Ee(),Ee())}};var ia=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},rf=class{constructor(e,n){this.targetId=e,this.me=n}},of=class{constructor(e,n,r=Lt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},sf=class{constructor(){this.fe=0,this.ge=dM(),this.pe=Lt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ee(),n=Ee(),r=Ee();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ae()}}),new gu(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=dM()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Fe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},t_=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Xr(),this.qe=lM(),this.Qe=new et(Me)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ae()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let o=i.target;if(qv(o))if(r===0){let s=new re(o.path);this.Ue(n,s,Un.newNoDocument(s,fe.min()))}else Fe(r===1);else{let s=this.Ye(n);if(s!==r){let a=this.Ze(e),u=a?this.Xe(a,e,s):1;if(u!==0){this.je(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}aM?.et(function(h,p,m,y,S){var N,x,V,X,K,ee;let Ve={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},oe=p.unchangedNames;return oe&&(Ve.bloomFilter={applied:S===0,hashCount:(N=oe?.hashCount)!==null&&N!==void 0?N:0,bitmapLength:(X=(V=(x=oe?.bits)===null||x===void 0?void 0:x.bitmap)===null||V===void 0?void 0:V.length)!==null&&X!==void 0?X:0,padding:(ee=(K=oe?.bits)===null||K===void 0?void 0:K.padding)!==null&&ee!==void 0?ee:0,mightContain:b=>{var v;return(v=y?.mightContain(b))!==null&&v!==void 0&&v}}),Ve}(s,e.me,this.Le.tt(),a,u))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,a;try{s=zi(r).toUint8Array()}catch(u){if(u instanceof Xh)return sa("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new e_(s,i,o)}catch(u){return sa(u instanceof Po?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((o,s)=>{let a=this.Je(s);if(a){if(o.current&&qv(a.target)){let u=new re(a.target.path);this.ke.get(u)!==null||this.it(s,u)||this.Ue(s,u,Un.newNoDocument(u,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=Ee();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let i=new nf(e,n,this.Qe,this.ke,r);return this.ke=Xr(),this.qe=lM(),this.Qe=new et(Me),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new sf,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Vt(Me),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||W("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new sf),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function lM(){return new et(re.comparator)}function dM(){return new et(re.comparator)}var k$={asc:"ASCENDING",desc:"DESCENDING"},F$={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},V$={and:"AND",or:"OR"},n_=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function r_(t,e){return t.useProto3Json||Mf(e)?e:{value:e}}function af(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function JM(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function L$(t,e){return af(t,e.toTimestamp())}function fr(t){return Fe(!!t),fe.fromTimestamp(function(n){let r=Zr(n);return new rt(r.seconds,r.nanos)}(t))}function lw(t,e){return i_(t,e).canonicalString()}function i_(t,e){let n=function(i){return new Ke(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function ZM(t){let e=Ke.fromString(t);return Fe(rx(e)),e}function o_(t,e){return lw(t.databaseId,e.path)}function wv(t,e){let n=ZM(e);if(n.get(1)!==t.databaseId.projectId)throw new q(k.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new q(k.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new re(ex(n))}function XM(t,e){return lw(t.databaseId,e)}function j$(t){let e=ZM(t);return e.length===4?Ke.emptyPath():ex(e)}function s_(t){return new Ke(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function ex(t){return Fe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function hM(t,e,n){return{name:o_(t,e),fields:n.value.mapValue.fields}}function U$(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:ae()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(Fe(h===void 0||typeof h=="string"),Lt.fromBase64String(h||"")):(Fe(h===void 0||h instanceof Buffer||h instanceof Uint8Array),Lt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let h=l.code===void 0?k.UNKNOWN:YM(l.code);return new q(h,l.message||"")}(s);n=new of(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=wv(t,r.document.name),o=fr(r.document.updateTime),s=r.document.createTime?fr(r.document.createTime):fe.min(),a=new dn({mapValue:{fields:r.document.fields}}),u=Un.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];n=new ia(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=wv(t,r.document),o=r.readTime?fr(r.readTime):fe.min(),s=Un.newNoDocument(i,o),a=r.removedTargetIds||[];n=new ia([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=wv(t,r.document),o=r.removedTargetIds||[];n=new ia([],o,i,null)}else{if(!("filter"in e))return ae();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new Xv(i,o),a=r.targetId;n=new rf(a,s)}}return n}function B$(t,e){let n;if(e instanceof jo)n={update:hM(t,e.key,e.value)};else if(e instanceof pu)n={delete:o_(t,e.key)};else if(e instanceof gr)n={update:hM(t,e.key,e.data),updateMask:Y$(e.fieldMask)};else{if(!(e instanceof Qv))return ae();n={verify:o_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof fa)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Vo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Lo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof pa)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw ae()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:L$(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ae()}(t,e.precondition)),n}function $$(t,e){return t&&t.length>0?(Fe(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?fr(i.updateTime):fr(o);return s.isEqual(fe.min())&&(s=fr(o)),new Kv(s,i.transformResults||[])}(n,e))):[]}function H$(t,e){return{documents:[XM(t,e.path)]}}function z$(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=XM(t,i);let o=function(l){if(l.length!==0)return nx(Bn.create(l,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(m){return{field:ta(m.field),direction:W$(m.dir)}}(h))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=r_(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i}}function q$(t){let e=j$(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Fe(r===1);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(p){let m=tx(p);return m instanceof Bn&&NM(m)?m.getFilters():[m]}(n.where));let s=[];n.orderBy&&(s=function(p){return p.map(m=>function(S){return new da(na(S.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(p){let m;return m=typeof p=="object"?p.value:p,Mf(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(p){let m=!!p.before,y=p.values||[];return new la(y,m)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let m=!p.before,y=p.values||[];return new la(y,m)}(n.endAt)),y$(e,i,s,o,a,"F",u,l)}function G$(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ae()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function tx(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=na(n.unaryFilter.field);return gt.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=na(n.unaryFilter.field);return gt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=na(n.unaryFilter.field);return gt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=na(n.unaryFilter.field);return gt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ae()}}(t):t.fieldFilter!==void 0?function(n){return gt.create(na(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ae()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Bn.create(n.compositeFilter.filters.map(r=>tx(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ae()}}(n.compositeFilter.op))}(t):ae()}function W$(t){return k$[t]}function K$(t){return F$[t]}function Q$(t){return V$[t]}function ta(t){return{fieldPath:t.canonicalString()}}function na(t){return hn.fromServerFormat(t.fieldPath)}function nx(t){return t instanceof gt?function(n){if(n.op==="=="){if(ZA(n.value))return{unaryFilter:{field:ta(n.field),op:"IS_NAN"}};if(JA(n.value))return{unaryFilter:{field:ta(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ZA(n.value))return{unaryFilter:{field:ta(n.field),op:"IS_NOT_NAN"}};if(JA(n.value))return{unaryFilter:{field:ta(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ta(n.field),op:K$(n.op),value:n.value}}}(t):t instanceof Bn?function(n){let r=n.getFilters().map(i=>nx(i));return r.length===1?r[0]:{compositeFilter:{op:Q$(n.op),filters:r}}}(t):ae()}function Y$(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function rx(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var mu=class t{constructor(e,n,r,i,o=fe.min(),s=fe.min(),a=Lt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var a_=class{constructor(e){this.ct=e}};function J$(t){let e=q$({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Wv(e,e.limit,"L"):e}var cf=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Ge(e.integerValue));else if("doubleValue"in e){let r=Ge(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),du(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=Zr(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(zi(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?xM(e)?this.dt(n,Number.MAX_SAFE_INTEGER):MM(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):ae()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let o=e.fields||{};this.dt(n,53);let s="value",a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(Ge(a)),this.Vt(s,n),this.Tt(o[s],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),re.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};cf.vt=new cf;var c_=class{constructor(){this.un=new u_}addToCollectionParentIndex(e,n){return this.un.add(n),L.resolve()}getCollectionParents(e,n){return L.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return L.resolve()}deleteFieldIndex(e,n){return L.resolve()}deleteAllFieldIndexes(e){return L.resolve()}createTargetIndexes(e,n){return L.resolve()}getDocumentsMatchingTarget(e,n){return L.resolve(null)}getIndexType(e,n){return L.resolve(0)}getFieldIndexes(e,n){return L.resolve([])}getNextCollectionGroupToUpdate(e){return L.resolve(null)}getMinOffset(e,n){return L.resolve(Oo.min())}getMinOffsetFromCollectionGroup(e,n){return L.resolve(Oo.min())}updateCollectionGroup(e,n,r){return L.resolve()}updateIndexEntries(e,n){return L.resolve()}},u_=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Vt(Ke.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Vt(Ke.comparator)).toArray()}};var iJ=new Uint8Array(0);var cr=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};cr.DEFAULT_COLLECTION_PERCENTILE=10,cr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cr.DEFAULT=new cr(41943040,cr.DEFAULT_COLLECTION_PERCENTILE,cr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cr.DISABLED=new cr(-1,0,0);var yu=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var l_=class{constructor(){this.changes=new qi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Un.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?L.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var d_=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var h_=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&lu(r.mutation,i,wn.empty(),rt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ee()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ee()){let i=xo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=su();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=xo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ee()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Xr(),s=uu(),a=function(){return uu()}();return n.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof gr)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),lu(h.mutation,l,h.mutation.getFieldMask(),rt.now())):s.set(l.key,wn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),n.forEach((l,h)=>{var p;return a.set(l,new d_(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let r=uu(),i=new et((s,a)=>s-a),o=Ee();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let h=r.get(u)||wn.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||Ee()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=$M();h.forEach(m=>{if(!o.has(m)){let y=KM(n.get(m),r.get(m));y!==null&&p.set(m,y),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return L.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return re.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):VM(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):L.resolve(xo()),a=-1,u=o;return s.next(l=>L.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?L.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,Ee())).next(h=>({batchId:a,changes:BM(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new re(n)).next(r=>{let i=su();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=su();return this.indexManager.getCollectionParents(e,o).next(a=>L.forEach(a,u=>{let l=function(p,m){return new Fo(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,Un.newInvalidDocument(h)))});let a=su();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&lu(h.mutation,l,wn.empty(),rt.now()),Pf(n,l)&&(a=a.insert(u,l))}),a})}};var f_=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return L.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:fr(i.createTime)}}(n)),L.resolve()}getNamedQuery(e,n){return L.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:J$(i.bundledQuery),readTime:fr(i.readTime)}}(n)),L.resolve()}};var p_=class{constructor(){this.overlays=new et(re.comparator),this.Ir=new Map}getOverlay(e,n){return L.resolve(this.overlays.get(n))}getOverlays(e,n){let r=xo();return L.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),L.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),L.resolve()}getOverlaysForCollection(e,n,r){let i=xo(),o=n.length+1,s=new re(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return L.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new et((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=xo(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=xo(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return L.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Zv(n,r));let o=this.Ir.get(n);o===void 0&&(o=Ee(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}};var g_=class{constructor(){this.sessionToken=Lt.EMPTY_BYTE_STRING}getSessionToken(e){return L.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,L.resolve()}};var vu=class{constructor(){this.Tr=new Vt(pt.Er),this.dr=new Vt(pt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new pt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new pt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new re(new Ke([])),r=new pt(n,e),i=new pt(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new re(new Ke([])),r=new pt(n,e),i=new pt(n,e+1),o=Ee();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new pt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},pt=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return re.comparator(e.key,n.key)||Me(e.wr,n.wr)}static Ar(e,n){return Me(e.wr,n.wr)||re.comparator(e.key,n.key)}};var m_=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Vt(pt.Er)}checkEmpty(e){return L.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new Yv(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.br=this.br.add(new pt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return L.resolve(s)}lookupMutationBatch(e,n){return L.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),o=i<0?0:i;return L.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new pt(n,0),i=new pt(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{let a=this.Dr(s.wr);o.push(a)}),L.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Vt(Me);return n.forEach(i=>{let o=new pt(i,0),s=new pt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),L.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;re.isDocumentKey(o)||(o=o.child(""));let s=new pt(new re(o),0),a=new Vt(Me);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.wr)),!0)},s),L.resolve(this.Cr(a))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Fe(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return L.forEach(n.mutations,i=>{let o=new pt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new pt(n,0),i=this.br.firstAfterOrEqual(r);return L.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,L.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var y_=class{constructor(e){this.Mr=e,this.docs=function(){return new et(re.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return L.resolve(r?r.document.mutableCopy():Un.newInvalidDocument(n))}getEntries(e,n){let r=Xr();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Un.newInvalidDocument(i))}),L.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Xr(),s=n.path,a=new re(s.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||s$(o$(h),r)<=0||(i.has(h.key)||Pf(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return L.resolve(o)}getAllFromCollectionGroup(e,n,r,i){ae()}Or(e,n){return L.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new v_(this)}getSize(e){return L.resolve(this.size)}},v_=class extends l_{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),L.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var __=class{constructor(e){this.persistence=e,this.Nr=new qi(n=>sw(n),aw),this.lastRemoteSnapshotVersion=fe.min(),this.highestTargetId=0,this.Lr=0,this.Br=new vu,this.targetCount=0,this.kr=yu.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),L.resolve()}getLastRemoteSnapshotVersion(e){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return L.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),L.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new yu(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,L.resolve()}updateTargetData(e,n){return this.Kn(n),L.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,L.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),L.waitFor(o).next(()=>i)}getTargetCount(e){return L.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return L.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),L.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),L.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),L.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return L.resolve(r)}containsKey(e,n){return L.resolve(this.Br.containsKey(n))}};var w_=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new SM(0),this.Kr=!1,this.Kr=!0,this.$r=new g_,this.referenceDelegate=e(this),this.Ur=new __(this),this.indexManager=new c_,this.remoteDocumentCache=function(i){return new y_(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new a_(n),this.Gr=new f_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new p_,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new m_(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){W("MemoryPersistence","Starting transaction:",e);let i=new E_(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return L.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},E_=class extends Rv{constructor(e){super(),this.currentSequenceNumber=e}},I_=class t{constructor(e){this.persistence=e,this.Jr=new vu,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw ae()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),L.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),L.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),L.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.Xr,r=>{let i=re.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,fe.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return L.or([()=>L.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var C_=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Ee(),i=Ee();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var b_=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var D_=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return PS()?8:c$(Ct())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new b_;return this.Xi(e,n,s).next(a=>{if(o.result=a,this.zi)return this.es(e,n,s,a.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(ou()<=we.DEBUG&&W("QueryEngine","SDK will not create cache indexes for query:",ea(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),L.resolve()):(ou()<=we.DEBUG&&W("QueryEngine","Query:",ea(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(ou()<=we.DEBUG&&W("QueryEngine","The SDK decides to create cache indexes for query:",ea(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,dr(n))):L.resolve())}Yi(e,n){if(nM(n))return L.resolve(null);let r=dr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Wv(n,null,"F"),r=dr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=Ee(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(n,a);return this.ns(n,l,s,u.readTime)?this.Yi(e,Wv(n,null,"F")):this.rs(e,l,n,u)}))})))}Zi(e,n,r,i){return nM(n)||i.isEqual(fe.min())?L.resolve(null):this.Ji.getDocuments(e,r).next(o=>{let s=this.ts(n,o);return this.ns(n,s,r,i)?L.resolve(null):(ou()<=we.DEBUG&&W("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ea(n)),this.rs(e,s,n,i$(i,-1)).next(a=>a))})}ts(e,n){let r=new Vt(jM(e));return n.forEach((i,o)=>{Pf(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return ou()<=we.DEBUG&&W("QueryEngine","Using full collection scan to execute query:",ea(n)),this.Ji.getDocumentsMatchingQuery(e,n,Oo.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var T_=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new et(Me),this._s=new qi(o=>sw(o),aw),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new h_(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function Z$(t,e,n,r){return new T_(t,e,n,r)}function ix(t,e){return w(this,null,function*(){let n=le(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=Ee();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:s,addedBatchIds:a}))})})})}function X$(t,e){let n=le(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,m=p.keys(),y=L.resolve();return m.forEach(S=>{y=y.next(()=>h.getEntry(u,S)).next(N=>{let x=l.docVersions.get(S);Fe(x!==null),N.version.compareTo(x)<0&&(p.applyToRemoteDocument(N,l),N.isValidDocument()&&(N.setReadTime(l.commitVersion),h.addEntry(N)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=Ee();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function ox(t){let e=le(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function e5(t,e){let n=le(t),r=e.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let a=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;a.push(n.Ur.removeMatchingKeys(o,h.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(o,h.addedDocuments,p)));let y=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(Lt.EMPTY_BYTE_STRING,fe.min()).withLastLimboFreeSnapshotVersion(fe.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),function(N,x,V){return N.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=3e8?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0}(m,y,h)&&a.push(n.Ur.updateTargetData(o,y))});let u=Xr(),l=Ee();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(t5(o,s,e.documentUpdates).next(h=>{u=h.Ps,l=h.Is})),!r.isEqual(fe.min())){let h=n.Ur.getLastRemoteSnapshotVersion(o).next(p=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return L.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(n.os=i,o))}function t5(t,e,n){let r=Ee(),i=Ee();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Xr();return n.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(fe.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):W("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ps:s,Is:i}})}function n5(t,e){let n=le(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function r5(t,e){let n=le(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,L.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new mu(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}function S_(t,e,n){return w(this,null,function*(){let r=le(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Tu(s))throw s;W("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function fM(t,e,n){let r=le(t),i=fe.min(),o=Ee();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,h){let p=le(u),m=p._s.get(h);return m!==void 0?L.resolve(p.os.get(m)):p.Ur.getTargetData(l,h)}(r,s,dr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:fe.min(),n?o:Ee())).next(a=>(i5(r,_$(e),a),{documents:a,Ts:o})))}function i5(t,e,n){let r=t.us.get(e)||fe.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}var uf=class{constructor(){this.activeTargetIds=D$()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var A_=class{constructor(){this.so=new uf,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new uf,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var M_=class{_o(e){}shutdown(){}};var lf=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){W("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){W("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Gh=null;function Ev(){return Gh===null?Gh=function(){return 268435456+Math.round(2147483648*Math.random())}():Gh++,"0x"+Gh.toString(16)}var o5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var x_=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var Ft="WebChannelConnection",P_=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){let a=Ev(),u=this.xo(n,r.toUriEncodedString());W("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,o,s),this.No(n,u,l,i).then(h=>(W("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw sa("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",u,"request:",i),h})}Lo(n,r,i,o,s,a){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+_a}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){let i=o5[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let o=Ev();return new Promise((s,a)=>{let u=new gv;u.setWithCredentials(!0),u.listenOnce(mv.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case iu.NO_ERROR:let h=u.getResponseJson();W(Ft,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case iu.TIMEOUT:W(Ft,`RPC '${e}' ${o} timed out`),a(new q(k.DEADLINE_EXCEEDED,"Request time out"));break;case iu.HTTP_ERROR:let p=u.getStatus();if(W(Ft,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);let y=m?.error;if(y&&y.status&&y.message){let S=function(x){let V=x.toLowerCase().replace(/_/g,"-");return Object.values(k).indexOf(V)>=0?V:k.UNKNOWN}(y.status);a(new q(S,y.message))}else a(new q(k.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new q(k.UNAVAILABLE,"Connection failed."));break;default:ae()}}finally{W(Ft,`RPC '${e}' ${o} completed.`)}});let l=JSON.stringify(i);W(Ft,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",l,r,15)})}Bo(e,n,r){let i=Ev(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=_v(),a=vv(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let h=o.join("");W(Ft,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u),m=!1,y=!1,S=new x_({Io:x=>{y?W(Ft,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(m||(W(Ft,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),W(Ft,`RPC '${e}' stream ${i} sending:`,x),p.send(x))},To:()=>p.close()}),N=(x,V,X)=>{x.listen(V,K=>{try{X(K)}catch(ee){setTimeout(()=>{throw ee},0)}})};return N(p,Xs.EventType.OPEN,()=>{y||(W(Ft,`RPC '${e}' stream ${i} transport opened.`),S.yo())}),N(p,Xs.EventType.CLOSE,()=>{y||(y=!0,W(Ft,`RPC '${e}' stream ${i} transport closed`),S.So())}),N(p,Xs.EventType.ERROR,x=>{y||(y=!0,sa(Ft,`RPC '${e}' stream ${i} transport errored:`,x),S.So(new q(k.UNAVAILABLE,"The operation could not be completed")))}),N(p,Xs.EventType.MESSAGE,x=>{var V;if(!y){let X=x.data[0];Fe(!!X);let K=X,ee=K.error||((V=K[0])===null||V===void 0?void 0:V.error);if(ee){W(Ft,`RPC '${e}' stream ${i} received error:`,ee);let Ve=ee.status,oe=function(_){let D=ft[_];if(D!==void 0)return YM(D)}(Ve),b=ee.message;oe===void 0&&(oe=k.INTERNAL,b="Unknown error status: "+Ve+" with message "+ee.message),y=!0,S.So(new q(oe,b)),p.close()}else W(Ft,`RPC '${e}' stream ${i} received:`,X),S.bo(X)}}),N(a,yv.STAT_EVENT,x=>{x.stat===zh.PROXY?W(Ft,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===zh.NOPROXY&&W(Ft,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.wo()},0),S}};function Iv(){return typeof document<"u"?document:null}function Rf(t){return new n_(t,!0)}var df=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&W("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var hf=class{constructor(e,n,r,i,o,s,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new df(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return w(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return w(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return w(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===k.RESOURCE_EXHAUSTED?(Jr(n.toString()),Jr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===k.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new q(k.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>w(this,null,function*(){this.state=0,this.start()}))}I_(e){return W("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(W("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},R_=class extends hf{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=U$(this.serializer,e),r=function(o){if(!("targetChange"in o))return fe.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?fe.min():s.readTime?fr(s.readTime):fe.min()}(e);return this.listener.d_(n,r)}A_(e){let n={};n.database=s_(this.serializer),n.addTarget=function(o,s){let a,u=s.target;if(a=qv(u)?{documents:H$(o,u)}:{query:z$(o,u)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=JM(o,s.resumeToken);let l=r_(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(fe.min())>0){a.readTime=af(o,s.snapshotVersion.toTimestamp());let l=r_(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=G$(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){let n={};n.database=s_(this.serializer),n.removeTarget=e,this.a_(n)}},N_=class extends hf{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Fe(!!e.streamToken),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Fe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=$$(e.writeResults,e.commitTime),r=fr(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=s_(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>B$(this.serializer,r))};this.a_(n)}};var O_=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new q(k.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,i_(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new q(k.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,i_(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new q(k.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},k_=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Jr(n),this.D_=!1):W("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var F_=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(()=>w(this,null,function*(){$o(this)&&(W("RemoteStore","Restarting streams for network reachability change."),yield function(u){return w(this,null,function*(){let l=le(u);l.L_.add(4),yield Su(l),l.q_.set("Unknown"),l.L_.delete(4),yield Nf(l)})}(this))}))}),this.q_=new k_(r,i)}};function Nf(t){return w(this,null,function*(){if($o(t))for(let e of t.B_)yield e(!0)})}function Su(t){return w(this,null,function*(){for(let e of t.B_)yield e(!1)})}function sx(t,e){let n=le(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),pw(n)?fw(n):wa(n).r_()&&hw(n,e))}function dw(t,e){let n=le(t),r=wa(n);n.N_.delete(e),r.r_()&&ax(n,e),n.N_.size===0&&(r.r_()?r.o_():$o(n)&&n.q_.set("Unknown"))}function hw(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(fe.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}wa(t).A_(e)}function ax(t,e){t.Q_.xe(e),wa(t).R_(e)}function fw(t){t.Q_=new t_({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),wa(t).start(),t.q_.v_()}function pw(t){return $o(t)&&!wa(t).n_()&&t.N_.size>0}function $o(t){return le(t).L_.size===0}function cx(t){t.Q_=void 0}function s5(t){return w(this,null,function*(){t.q_.set("Online")})}function a5(t){return w(this,null,function*(){t.N_.forEach((e,n)=>{hw(t,e)})})}function c5(t,e){return w(this,null,function*(){cx(t),pw(t)?(t.q_.M_(e),fw(t)):t.q_.set("Unknown")})}function u5(t,e,n){return w(this,null,function*(){if(t.q_.set("Online"),e instanceof of&&e.state===2&&e.cause)try{yield function(i,o){return w(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))})}(t,e)}catch(r){W("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield ff(t,r)}else if(e instanceof ia?t.Q_.Ke(e):e instanceof rf?t.Q_.He(e):t.Q_.We(e),!n.isEqual(fe.min()))try{let r=yield ox(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){let a=o.Q_.rt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.N_.get(l);h&&o.N_.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.N_.get(u);if(!h)return;o.N_.set(u,h.withResumeToken(Lt.EMPTY_BYTE_STRING,h.snapshotVersion)),ax(o,u);let p=new mu(h.target,u,l,h.sequenceNumber);hw(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){W("RemoteStore","Failed to raise snapshot:",r),yield ff(t,r)}})}function ff(t,e,n){return w(this,null,function*(){if(!Tu(e))throw e;t.L_.add(1),yield Su(t),t.q_.set("Offline"),n||(n=()=>ox(t.localStore)),t.asyncQueue.enqueueRetryable(()=>w(this,null,function*(){W("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield Nf(t)}))})}function ux(t,e){return e().catch(n=>ff(t,n,e))}function Of(t){return w(this,null,function*(){let e=le(t),n=Gi(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;l5(e);)try{let i=yield n5(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,d5(e,i)}catch(i){yield ff(e,i)}lx(e)&&dx(e)})}function l5(t){return $o(t)&&t.O_.length<10}function d5(t,e){t.O_.push(e);let n=Gi(t);n.r_()&&n.V_&&n.m_(e.mutations)}function lx(t){return $o(t)&&!Gi(t).n_()&&t.O_.length>0}function dx(t){Gi(t).start()}function h5(t){return w(this,null,function*(){Gi(t).p_()})}function f5(t){return w(this,null,function*(){let e=Gi(t);for(let n of t.O_)e.m_(n.mutations)})}function p5(t,e,n){return w(this,null,function*(){let r=t.O_.shift(),i=Jv.from(r,e,n);yield ux(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Of(t)})}function g5(t,e){return w(this,null,function*(){e&&Gi(t).V_&&(yield function(r,i){return w(this,null,function*(){if(function(s){return R$(s)&&s!==k.ABORTED}(i.code)){let o=r.O_.shift();Gi(r).s_(),yield ux(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Of(r)}})}(t,e)),lx(t)&&dx(t)})}function pM(t,e){return w(this,null,function*(){let n=le(t);n.asyncQueue.verifyOperationInProgress(),W("RemoteStore","RemoteStore received new credentials");let r=$o(n);n.L_.add(3),yield Su(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield Nf(n)})}function m5(t,e){return w(this,null,function*(){let n=le(t);e?(n.L_.delete(2),yield Nf(n)):e||(n.L_.add(2),yield Su(n),n.q_.set("Unknown"))})}function wa(t){return t.K_||(t.K_=function(n,r,i){let o=le(n);return o.w_(),new R_(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:s5.bind(null,t),Ro:a5.bind(null,t),mo:c5.bind(null,t),d_:u5.bind(null,t)}),t.B_.push(e=>w(this,null,function*(){e?(t.K_.s_(),pw(t)?fw(t):t.q_.set("Unknown")):(yield t.K_.stop(),cx(t))}))),t.K_}function Gi(t){return t.U_||(t.U_=function(n,r,i){let o=le(n);return o.w_(),new N_(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:h5.bind(null,t),mo:g5.bind(null,t),f_:f5.bind(null,t),g_:p5.bind(null,t)}),t.B_.push(e=>w(this,null,function*(){e?(t.U_.s_(),yield Of(t)):(yield t.U_.stop(),t.O_.length>0&&(W("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var V_=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new ur,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new q(k.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function gw(t,e){if(Jr("AsyncQueue",`${e}: ${t}`),Tu(t))return new q(k.UNAVAILABLE,`${e}: ${t}`);throw t}var pf=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||re.comparator(n.key,r.key):(n,r)=>re.comparator(n.key,r.key),this.keyedMap=su(),this.sortedSet=new et(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var gf=class{constructor(){this.W_=new et(re.comparator)}track(e){let n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ae():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}},ma=class t{constructor(e,n,r,i,o,s,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,pf.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var L_=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},j_=class{constructor(){this.queries=gM(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=le(n),o=i.queries;i.queries=gM(),o.forEach((s,a)=>{for(let u of a.j_)u.onError(r)})})(this,new q(k.ABORTED,"Firestore shutting down"))}};function gM(){return new qi(t=>LM(t),xf)}function hx(t,e){return w(this,null,function*(){let n=le(t),r=3,i=e.query,o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new L_,r=e.J_()?0:1);try{switch(r){case 0:o.z_=yield n.onListen(i,!0);break;case 1:o.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){let a=gw(s,`Initialization of query '${ea(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&mw(n)})}function fx(t,e){return w(this,null,function*(){let n=le(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function y5(t,e){let n=le(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&mw(n)}function v5(t,e,n){let r=le(t),i=r.queries.get(e);if(i)for(let o of i.j_)o.onError(n);r.queries.delete(e)}function mw(t){t.Y_.forEach(e=>{e.next()})}var U_,mM;(mM=U_||(U_={})).ea="default",mM.Cache="cache";var mf=class{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new ma(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=ma.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==U_.Cache}};var yf=class{constructor(e){this.key=e}},vf=class{constructor(e){this.key=e}},B_=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ee(),this.mutatedKeys=Ee(),this.Aa=jM(e),this.Ra=new pf(this.Aa)}get Va(){return this.Ta}ma(e,n){let r=n?n.fa:new gf,i=n?n.Ra:this.Ra,o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),y=Pf(this.query,p)?p:null,S=!!m&&this.mutatedKeys.has(m.key),N=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),x=!1;m&&y?m.data.isEqual(y.data)?S!==N&&(r.track({type:3,doc:y}),x=!0):this.ga(m,y)||(r.track({type:2,doc:y}),x=!0,(u&&this.Aa(y,u)>0||l&&this.Aa(y,l)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),x=!0):m&&!y&&(r.track({type:1,doc:m}),x=!0,(u||l)&&(a=!0)),x&&(y?(s=s.add(y),o=N?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let s=e.fa.G_();s.sort((h,p)=>function(y,S){let N=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ae()}};return N(y)-N(S)}(h.type,p.type)||this.Aa(h.doc,p.doc)),this.pa(r),i=i!=null&&i;let a=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,s.length!==0||l?{snapshot:new ma(this.query,e.Ra,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new gf,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=Ee(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let n=[];return e.forEach(r=>{this.da.has(r)||n.push(new vf(r))}),this.da.forEach(r=>{e.has(r)||n.push(new yf(r))}),n}ba(e){this.Ta=e.Ts,this.da=Ee();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return ma.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},$_=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},H_=class{constructor(e){this.key=e,this.va=!1}},z_=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new qi(a=>LM(a),xf),this.Ma=new Map,this.xa=new Set,this.Oa=new et(re.comparator),this.Na=new Map,this.La=new vu,this.Ba={},this.ka=new Map,this.qa=yu.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function _5(t,e,n=!0){return w(this,null,function*(){let r=_x(t),i,o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=yield px(r,e,n,!0),i})}function w5(t,e){return w(this,null,function*(){let n=_x(t);yield px(n,e,!0,!1)})}function px(t,e,n,r){return w(this,null,function*(){let i=yield r5(t.localStore,dr(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n),a;return r&&(a=yield E5(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&sx(t.remoteStore,i),a})}function E5(t,e,n,r,i){return w(this,null,function*(){t.Ka=(p,m,y)=>function(N,x,V,X){return w(this,null,function*(){let K=x.view.ma(V);K.ns&&(K=yield fM(N.localStore,x.query,!1).then(({documents:b})=>x.view.ma(b,K)));let ee=X&&X.targetChanges.get(x.targetId),Ve=X&&X.targetMismatches.get(x.targetId)!=null,oe=x.view.applyChanges(K,N.isPrimaryClient,ee,Ve);return vM(N,x.targetId,oe.wa),oe.snapshot})}(t,p,m,y);let o=yield fM(t.localStore,e,!0),s=new B_(e,o.Ts),a=s.ma(o.documents),u=gu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(a,t.isPrimaryClient,u);vM(t,n,l.wa);let h=new $_(e,n,s);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),l.snapshot})}function I5(t,e,n){return w(this,null,function*(){let r=le(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!xf(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield S_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&dw(r.remoteStore,i.targetId),q_(r,i.targetId)}).catch(Du))):(q_(r,i.targetId),yield S_(r.localStore,i.targetId,!0))})}function C5(t,e){return w(this,null,function*(){let n=le(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),dw(n.remoteStore,r.targetId))})}function b5(t,e,n){return w(this,null,function*(){let r=P5(t);try{let i=yield function(s,a){let u=le(s),l=rt.now(),h=a.reduce((y,S)=>y.add(S.key),Ee()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let S=Xr(),N=Ee();return u.cs.getEntries(y,h).next(x=>{S=x,S.forEach((V,X)=>{X.isValidDocument()||(N=N.add(V))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,S)).next(x=>{p=x;let V=[];for(let X of a){let K=P$(X,p.get(X.key).overlayedDocument);K!=null&&V.push(new gr(X.key,K,PM(K.value.mapValue),hr.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,V,a)}).next(x=>{m=x;let V=x.applyToLocalDocumentSet(p,N);return u.documentOverlayCache.saveOverlays(y,x.batchId,V)})}).then(()=>({batchId:m.batchId,changes:BM(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let l=s.Ba[s.currentUser.toKey()];l||(l=new et(Me)),l=l.insert(a,u),s.Ba[s.currentUser.toKey()]=l}(r,i.batchId,n),yield Au(r,i.changes),yield Of(r.remoteStore)}catch(i){let o=gw(i,"Failed to persist write");n.reject(o)}})}function gx(t,e){return w(this,null,function*(){let n=le(t);try{let r=yield e5(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Na.get(o);s&&(Fe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?Fe(s.va):i.removedDocuments.size>0&&(Fe(s.va),s.va=!1))}),yield Au(n,r,e)}catch(r){yield Du(r)}})}function yM(t,e,n){let r=le(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((o,s)=>{let a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let u=le(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.j_)m.Z_(a)&&(l=!0)}),l&&mw(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function D5(t,e,n){return w(this,null,function*(){let r=le(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Na.get(e),o=i&&i.key;if(o){let s=new et(re.comparator);s=s.insert(o,Un.newNoDocument(o,fe.min()));let a=Ee().add(o),u=new nf(fe.min(),new Map,new et(Me),s,a);yield gx(r,u),r.Oa=r.Oa.remove(o),r.Na.delete(e),yw(r)}else yield S_(r.localStore,e,!1).then(()=>q_(r,e,n)).catch(Du)})}function T5(t,e){return w(this,null,function*(){let n=le(t),r=e.batch.batchId;try{let i=yield X$(n.localStore,e);yx(n,r,null),mx(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Au(n,i)}catch(i){yield Du(i)}})}function S5(t,e,n){return w(this,null,function*(){let r=le(t);try{let i=yield function(s,a){let u=le(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(Fe(p!==null),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);yx(r,e,n),mx(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Au(r,i)}catch(i){yield Du(i)}})}function mx(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function yx(t,e,n){let r=le(t),i=r.Ba[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function q_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||vx(t,r)})}function vx(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(dw(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),yw(t))}function vM(t,e,n){for(let r of n)r instanceof yf?(t.La.addReference(r.key,e),A5(t,r)):r instanceof vf?(W("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||vx(t,r.key)):ae()}function A5(t,e){let n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(W("SyncEngine","New document in limbo: "+n),t.xa.add(r),yw(t))}function yw(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new re(Ke.fromString(e)),r=t.qa.next();t.Na.set(r,new H_(n)),t.Oa=t.Oa.insert(n,r),sx(t.remoteStore,new mu(dr(cw(n.path)),r,"TargetPurposeLimboResolution",SM.oe))}}function Au(t,e,n){return w(this,null,function*(){let r=le(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{s.push(r.Ka(u,e,n).then(l=>{var h;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=n?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=C_.Wi(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.Ca.d_(i),yield function(u,l){return w(this,null,function*(){let h=le(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>L.forEach(l,m=>L.forEach(m.$i,y=>h.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>L.forEach(m.Ui,y=>h.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!Tu(p))throw p;W("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let y=h.os.get(m),S=y.snapshotVersion,N=y.withLastLimboFreeSnapshotVersion(S);h.os=h.os.insert(m,N)}}})}(r.localStore,o))})}function M5(t,e){return w(this,null,function*(){let n=le(t);if(!n.currentUser.isEqual(e)){W("SyncEngine","User change. New user:",e.toKey());let r=yield ix(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(u=>{u.reject(new q(k.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Au(n,r.hs)}})}function x5(t,e){let n=le(t),r=n.Na.get(e);if(r&&r.va)return Ee().add(r.key);{let i=Ee(),o=n.Ma.get(e);if(!o)return i;for(let s of o){let a=n.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function _x(t){let e=le(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=gx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=x5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=D5.bind(null,e),e.Ca.d_=y5.bind(null,e.eventManager),e.Ca.$a=v5.bind(null,e.eventManager),e}function P5(t){let e=le(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=T5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=S5.bind(null,e),e}var _M=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return w(this,null,function*(){this.serializer=Rf(n.databaseInfo.databaseId),this.sharedClientState=this.Wa(n),this.persistence=this.Ga(n),yield this.persistence.start(),this.localStore=this.za(n),this.gcScheduler=this.ja(n,this.localStore),this.indexBackfillerScheduler=this.Ha(n,this.localStore)})}ja(n,r){return null}Ha(n,r){return null}za(n){return Z$(this.persistence,new D_,n.initialUser,this.serializer)}Ga(n){return new w_(I_.Zr,this.serializer)}Wa(n){return new A_}terminate(){return w(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})();var R5=(()=>{class t{initialize(n,r){return w(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>yM(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=M5.bind(null,this.syncEngine),yield m5(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new j_}()}createDatastore(n){let r=Rf(n.databaseInfo.databaseId),i=function(s){return new P_(s)}(n.databaseInfo);return function(s,a,u,l){return new O_(s,a,u,l)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,o,s,a,u){return new F_(i,o,s,a,u)}(this.localStore,this.datastore,n.asyncQueue,r=>yM(this.syncEngine,r,0),function(){return lf.D()?new lf:new M_}())}createSyncEngine(n,r){return function(o,s,a,u,l,h,p){let m=new z_(o,s,a,u,l,h);return p&&(m.Qa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return w(this,null,function*(){var n,r;yield function(o){return w(this,null,function*(){let s=le(o);W("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield Su(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var _f=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Jr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var G_=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=bt.UNAUTHENTICATED,this.clientId=Yh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>w(this,null,function*(){W("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(W("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new ur;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>w(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=gw(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Cv(t,e){return w(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),W("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>w(this,null,function*(){r.isEqual(i)||(yield ix(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function wM(t,e){return w(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield N5(t);W("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>pM(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>pM(e.remoteStore,i)),t._onlineComponents=e})}function N5(t){return w(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){W("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Cv(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===k.FAILED_PRECONDITION||i.code===k.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;sa("Error using user provided cache. Falling back to memory cache: "+n),yield Cv(t,new _M)}}else W("FirestoreClient","Using default OfflineComponentProvider"),yield Cv(t,new _M);return t._offlineComponents})}function wx(t){return w(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(W("FirestoreClient","Using user provided OnlineComponentProvider"),yield wM(t,t._uninitializedComponentsProvider._online)):(W("FirestoreClient","Using default OnlineComponentProvider"),yield wM(t,new R5))),t._onlineComponents})}function O5(t){return wx(t).then(e=>e.syncEngine)}function W_(t){return w(this,null,function*(){let e=yield wx(t),n=e.eventManager;return n.onListen=_5.bind(null,e.syncEngine),n.onUnlisten=I5.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=w5.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=C5.bind(null,e.syncEngine),n})}function k5(t,e,n={}){let r=new ur;return t.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return function(o,s,a,u,l){let h=new _f({next:m=>{h.Za(),s.enqueueAndForget(()=>fx(o,p)),m.fromCache&&u.source==="server"?l.reject(new q(k.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(m)},error:m=>l.reject(m)}),p=new mf(a,h,{includeMetadataChanges:!0,_a:!0});return hx(o,p)}(yield W_(t),t.asyncQueue,e,n,r)})),r.promise}function Ex(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var EM=new Map;function Ix(t,e,n){if(!n)throw new q(k.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function F5(t,e,n,r){if(e===!0&&r===!0)throw new q(k.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function IM(t){if(!re.isDocumentKey(t))throw new q(k.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function CM(t){if(re.isDocumentKey(t))throw new q(k.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function kf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ae()}function En(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new q(k.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=kf(t);throw new q(k.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var wf=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new q(k.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new q(k.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}F5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ex((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new q(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new q(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new q(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},ya=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wf({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new q(k.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new q(k.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wf(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new bv;switch(r.type){case"firstParty":return new Av(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new q(k.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return w(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=EM.get(n);r&&(W("ComponentProvider","Removing Datastore"),EM.delete(n),r.terminate())}(this),Promise.resolve()}};function Cx(t,e,n,r={}){var i;let o=(t=En(t,ya))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&sa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=bt.MOCK_USER;else{a=DS(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new q(k.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new bt(l)}t._authCredentials=new Dv(new Qh(a,u))}}var Uo=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Wt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Hi=class t extends Uo{constructor(e,n,r){super(e,n,cw(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Wt(this.firestore,null,new re(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function bx(t,e,...n){if(t=dt(t),Ix("collection","path",e),t instanceof ya){let r=Ke.fromString(e,...n);return CM(r),new Hi(t,null,r)}{if(!(t instanceof Wt||t instanceof Hi))throw new q(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ke.fromString(e,...n));return CM(r),new Hi(t.firestore,null,r)}}function vw(t,e,...n){if(t=dt(t),arguments.length===1&&(e=Yh.newId()),Ix("doc","path",e),t instanceof ya){let r=Ke.fromString(e,...n);return IM(r),new Wt(t,null,new re(r))}{if(!(t instanceof Wt||t instanceof Hi))throw new q(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ke.fromString(e,...n));return IM(r),new Wt(t.firestore,t instanceof Hi?t.converter:null,new re(r))}}var Ef=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new df(this,"async_queue_retry"),this.Vu=()=>{let r=Iv();r&&W("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let n=Iv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let n=Iv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let n=new ur;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return w(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Tu(e))throw e;W("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw Jr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);let i=V_.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&ae()}verifyOperationInProgress(){}wu(){return w(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let n=this.Tu.indexOf(e);this.Tu.splice(n,1)}};function bM(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}var mr=class extends ya{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Ef,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return w(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Ef(e),this._firestoreClient=void 0,yield e}})}};function Dx(t,e){let n=typeof t=="object"?t:Fi(),r=typeof t=="string"?t:e||"(default)",i=Oi(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=bS("firestore");o&&Cx(i,...o)}return i}function _w(t){if(t._terminated)throw new q(k.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||V5(t),t._firestoreClient}function V5(t){var e,n,r;let i=t._freezeSettings(),o=function(a,u,l,h){return new Nv(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,Ex(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new G_(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(t._componentsProvider))}var _u=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Lt.fromBase64String(e))}catch(n){throw new q(k.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Lt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var va=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new q(k.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var wu=class{constructor(e){this._methodName=e}};var Eu=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new q(k.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new q(k.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}};var Iu=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var L5=/^__.*__$/,K_=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new gr(e,this.data,this.fieldMask,n,this.fieldTransforms):new jo(e,this.data,n,this.fieldTransforms)}},If=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new gr(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function Tx(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ae()}}var Q_=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return bf(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(Tx(this.Cu)&&L5.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},Y_=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Rf(e)}Qu(e,n,r,i=!1){return new Q_({Cu:e,methodName:n,qu:r,path:hn.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Ff(t){let e=t._freezeSettings(),n=Rf(t._databaseId);return new Y_(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Sx(t,e,n,r,i,o={}){let s=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);ww("Data must be an object, but it was:",s,r);let a=Ax(r,s),u,l;if(o.merge)u=new wn(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let m=J_(e,p,n);if(!s.contains(m))throw new q(k.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);xx(h,m)||h.push(m)}u=new wn(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new K_(new dn(a),u,l)}var Cf=class t extends wu{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function j5(t,e,n,r){let i=t.Qu(1,e,n);ww("Data must be an object, but it was:",i,r);let o=[],s=dn.empty();Bo(r,(u,l)=>{let h=Ew(e,u,n);l=dt(l);let p=i.Nu(h);if(l instanceof Cf)o.push(h);else{let m=Mu(l,p);m!=null&&(o.push(h),s.set(h,m))}});let a=new wn(o);return new If(s,a,i.fieldTransforms)}function U5(t,e,n,r,i,o){let s=t.Qu(1,e,n),a=[J_(e,r,n)],u=[i];if(o.length%2!=0)throw new q(k.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<o.length;m+=2)a.push(J_(e,o[m])),u.push(o[m+1]);let l=[],h=dn.empty();for(let m=a.length-1;m>=0;--m)if(!xx(l,a[m])){let y=a[m],S=u[m];S=dt(S);let N=s.Nu(y);if(S instanceof Cf)l.push(y);else{let x=Mu(S,N);x!=null&&(l.push(y),h.set(y,x))}}let p=new wn(l);return new If(h,p,s.fieldTransforms)}function B5(t,e,n,r=!1){return Mu(n,t.Qu(r?4:3,e))}function Mu(t,e){if(Mx(t=dt(t)))return ww("Unsupported field value:",e,t),Ax(t,e);if(t instanceof wu)return function(r,i){if(!Tx(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let u=Mu(a,i.Lu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=dt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return T$(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=rt.fromDate(r);return{timestampValue:af(i.serializer,o)}}if(r instanceof rt){let o=new rt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:af(i.serializer,o)}}if(r instanceof Eu)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof _u)return{bytesValue:JM(i.serializer,r._byteString)};if(r instanceof Wt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:lw(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Iu)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.Bu("VectorValues must only contain numeric values.");return uw(a.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${kf(r)}`)}(t,e)}function Ax(t,e){let n={};return AM(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Bo(t,(r,i)=>{let o=Mu(i,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function Mx(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof rt||t instanceof Eu||t instanceof _u||t instanceof Wt||t instanceof wu||t instanceof Iu)}function ww(t,e,n){if(!Mx(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=kf(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function J_(t,e,n){if((e=dt(e))instanceof va)return e._internalPath;if(typeof e=="string")return Ew(t,e);throw bf("Field path arguments must be of type string or ",t,!1,void 0,n)}var $5=new RegExp("[~\\*/\\[\\]]");function Ew(t,e,n){if(e.search($5)>=0)throw bf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new va(...e.split("."))._internalPath}catch{throw bf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function bf(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new q(k.INVALID_ARGUMENT,a+t+u)}function xx(t,e){return t.some(n=>n.isEqual(e))}var Df=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Wt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Z_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(Iw("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},Z_=class extends Df{data(){return super.data()}};function Iw(t,e){return typeof e=="string"?Ew(t,e):e instanceof va?e._internalPath:e._delegate._internalPath}function Px(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new q(k.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Cu=class{},X_=class extends Cu{};function Rx(t,e,...n){let r=[];e instanceof Cu&&r.push(e),r=r.concat(n),function(o){let s=o.filter(u=>u instanceof ew).length,a=o.filter(u=>u instanceof Tf).length;if(s>1||s>0&&a>0)throw new q(k.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var Tf=class t extends X_{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return Ox(e._query,n),new Uo(e.firestore,e.converter,Gv(e._query,n))}_parse(e){let n=Ff(e.firestore);return function(o,s,a,u,l,h,p){let m;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new q(k.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){TM(p,h);let y=[];for(let S of p)y.push(DM(u,o,S));m={arrayValue:{values:y}}}else m=DM(u,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||TM(p,h),m=B5(a,s,p,h==="in"||h==="not-in");return gt.create(l,h,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function Nx(t,e,n){let r=e,i=Iw("where",t);return Tf._create(i,r,n)}var ew=class t extends Cu{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Bn.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let u of a)Ox(s,u),s=Gv(s,u)}(e._query,n),new Uo(e.firestore,e.converter,Gv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function DM(t,e,n){if(typeof(n=dt(n))=="string"){if(n==="")throw new q(k.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!VM(e)&&n.indexOf("/")!==-1)throw new q(k.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(Ke.fromString(n));if(!re.isDocumentKey(r))throw new q(k.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return YA(t,new re(r))}if(n instanceof Wt)return YA(t,n._key);throw new q(k.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${kf(n)}.`)}function TM(t,e){if(!Array.isArray(t)||t.length===0)throw new q(k.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Ox(t,e){let n=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new q(k.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new q(k.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var tw=class{convertValue(e,n="none"){switch(ko(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ge(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(zi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ae()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Bo(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;let o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Ge(s.doubleValue));return new Iu(o)}convertGeoPoint(e){return new Eu(Ge(e.latitude),Ge(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=iw(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(hu(e));default:return null}}convertTimestamp(e){let n=Zr(e);return new rt(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Ke.fromString(e);Fe(rx(r));let i=new ef(r.get(1),r.get(3)),o=new re(r.popFirst(5));return i.isEqual(n)||Jr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function kx(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var Ro=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Sf=class extends Df{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new oa(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(Iw("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},oa=class extends Sf{data(e={}){return super.data(e)}},Af=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ro(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new oa(this._firestore,this._userDataWriter,r.key,r,new Ro(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new q(k.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new oa(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ro(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new oa(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ro(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:H5(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function H5(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ae()}}var bu=class extends tw{constructor(e){super(),this.firestore=e}convertBytes(e){return new _u(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Wt(this.firestore,null,n)}};function Fx(t){t=En(t,Uo);let e=En(t.firestore,mr),n=_w(e),r=new bu(e);return Px(t._query),k5(n,t._query).then(i=>new Af(e,r,t,i))}function Vx(t,e,n){t=En(t,Wt);let r=En(t.firestore,mr),i=kx(t.converter,e,n);return Vf(r,[Sx(Ff(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,hr.none())])}function Lx(t,e,n,...r){t=En(t,Wt);let i=En(t.firestore,mr),o=Ff(i),s;return s=typeof(e=dt(e))=="string"||e instanceof va?U5(o,"updateDoc",t._key,e,n,r):j5(o,"updateDoc",t._key,e),Vf(i,[s.toMutation(t._key,hr.exists(!0))])}function jx(t){return Vf(En(t.firestore,mr),[new pu(t._key,hr.none())])}function Ux(t,e){let n=En(t.firestore,mr),r=vw(t),i=kx(t.converter,e);return Vf(n,[Sx(Ff(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,hr.exists(!1))]).then(()=>r)}function Cw(t,...e){var n,r,i;t=dt(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||bM(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(bM(e[s])){let p=e[s];e[s]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(t instanceof Wt)l=En(t.firestore,mr),h=cw(t._key.path),u={next:p=>{e[s]&&e[s](z5(l,t,p))},error:e[s+1],complete:e[s+2]};else{let p=En(t,Uo);l=En(p.firestore,mr),h=p._query;let m=new bu(l);u={next:y=>{e[s]&&e[s](new Af(l,m,p,y))},error:e[s+1],complete:e[s+2]},Px(t._query)}return function(m,y,S,N){let x=new _f(N),V=new mf(y,x,S);return m.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return hx(yield W_(m),V)})),()=>{x.Za(),m.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return fx(yield W_(m),V)}))}}(_w(l),h,a,u)}function Vf(t,e){return function(r,i){let o=new ur;return r.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return b5(yield O5(r),i,o)})),o.promise}(_w(t),e)}function z5(t,e,n){let r=n.docs.get(e._key),i=new bu(t);return new Sf(t,i,e._key,r,new Ro(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){_a=i})(ki),Ln(new Gt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new mr(new Tv(r.getProvider("auth-internal")),new xv(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new q(k.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ef(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),We(GA,"4.7.3",e),We(GA,"4.7.3","esm2017")})();var Lf=function(){return Lf=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Lf.apply(this,arguments)};var W5={includeMetadataChanges:!1};function bw(t,e){return e===void 0&&(e=W5),new pe(function(n){var r=Cw(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function Bx(t){return bw(t,{includeMetadataChanges:!0})}function $x(t,e){return e===void 0&&(e={}),Bx(t).pipe(ie(function(n){return Dw(n,e)}))}function Dw(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:Lf(Lf({},r),(n={},n[e.idField]=t.id,n))}function Hx(t){return bw(t,{includeMetadataChanges:!0}).pipe(ie(function(e){return e.docs}))}function zx(t,e){return e===void 0&&(e={}),Hx(t).pipe(ie(function(n){return n.map(function(r){return Dw(r,e)})}))}var fn=class{constructor(e){return e}},qx="firestore",Tw=class{constructor(){return Ys(qx)}};var Sw=new H("angularfire2.firestore-instances");function K5(t,e){let n=Qs(qx,t,e);return n&&new fn(n)}function Q5(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new fn(r)}}var Y5={provide:Tw,deps:[[new vt,Sw]]},J5={provide:fn,useFactory:K5,deps:[[new vt,Sw],jn]};function Gx(t,...e){return We("angularfire",Gr.full,"fst"),nn([J5,Y5,{provide:Sw,useFactory:Q5(t),multi:!0,deps:[Ce,yt,Li,Wr,[new vt,ru],[new vt,Vi],...e]}])}var xu=ht(zx,!0);var Wx=ht($x,!0);var Kx=ht(Ux,!0);var yr=ht(bx,!0);var Qx=ht(jx,!0);var Ho=ht(vw,!0);var Yx=ht(Fx,!0);var Jx=ht(Dx,!0);var Zx=ht(Rx,!0);var jf=ht(Vx,!0);var Xx=ht(Lx,!0);var eP=ht(Nx,!0);var Ea=(()=>{let e=class e{constructor(r){this.firestore=r,this.cartSubject=new mt(this.loadCart()),this.cart$=this.cartSubject.asObservable()}loadCart(){let r=localStorage.getItem("cart");return r?JSON.parse(r):[]}saveCart(r){localStorage.setItem("cart",JSON.stringify(r)),this.cartSubject.next(r)}calculateTotal(r){return r.reduce((i,o)=>i+o.product.price*o.quantity,0)}getTotalAmount(){return this.cart$.pipe(ie(r=>this.calculateTotal(r)))}getCartItems(){return this.cart$}clearCart(){this.saveCart([])}submitOrder(r){return w(this,null,function*(){let i=yr(this.firestore,"orders");yield Kx(i,ye(j({},r),{createdAt:rt.now()})),this.clearCart()})}getCartItemCount(){return this.cart$.pipe(ie(r=>r.reduce((i,o)=>i+o.quantity,0)))}addToCart(r,i){let o=this.loadCart(),s=o.findIndex(a=>a.product.id===r.id);s===-1?o.push({product:r,quantity:i}):o[s].quantity+=i,this.saveCart(o)}increaseQuantity(r){let i=this.loadCart(),o=i.findIndex(s=>s.product.id===r);o!==-1&&(i[o].quantity+=1,this.saveCart(i))}decreaseQuantity(r){let i=this.loadCart(),o=i.findIndex(s=>s.product.id===r);o!==-1&&i[o].quantity>1&&(i[o].quantity-=1,this.saveCart(i))}removeFromCart(r){let i=this.loadCart();i=i.filter(o=>o.product.id!==r),this.saveCart(i)}checkout(){return te(this.saveCart([])).pipe(ie(()=>{}))}};e.\u0275fac=function(i){return new(i||e)(G(fn))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Bf=(()=>{let e=class e{constructor(r,i){this.router=r,this.cartService=i,this.cartItemCount=0,this.isDarkMode=!1}ngOnInit(){this.cartService.getCartItemCount().subscribe(r=>this.cartItemCount=r),this.loadTheme()}goToCart(){this.router.navigate(["/cart"])}toggleDarkMode(){this.isDarkMode=!this.isDarkMode,document.body.classList.toggle("dark-mode",this.isDarkMode),localStorage.setItem("darkMode",this.isDarkMode?"true":"false")}loadTheme(){localStorage.getItem("darkMode")==="true"&&(this.isDarkMode=!0,document.body.classList.add("dark-mode"))}};e.\u0275fac=function(i){return new(i||e)($(lt),$(Ea))},e.\u0275cmp=Ze({type:e,selectors:[["app-header"]],standalone:!0,features:[Xe],decls:23,vars:2,consts:[[1,"navbar","navbar-expand-lg","navbar-light","bg-light"],["routerLink","/","routerLinkActive","active",1,"navbar-brand"],["src","./icons/logo.png","alt","Logo",1,"logo"],["type","button","data-toggle","collapse","data-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse"],[1,"navbar-nav","ml-auto"],[1,"nav-item"],["routerLink","/","routerLinkActive","active",1,"nav-link"],[1,"nav-link",3,"click"],["src","./icons/shopping-cart.svg","alt","Cart",1,"cart-icon"],[1,"custom-badge"],["routerLink","/admin-login","routerLinkActive","active",1,"nav-link"],["id","switch",1,"switch"],["type","checkbox","id","slider",3,"change","checked"],[1,"slider","round"]],template:function(i,o){i&1&&(I(0,"nav",0)(1,"a",1),se(2,"img",2),C(),I(3,"button",3),se(4,"span",4),C(),I(5,"div",5)(6,"ul",6)(7,"li",7)(8,"a",8),P(9,"\u0413\u043E\u043B\u043E\u0432\u043D\u0430"),C()(),I(10,"li",7)(11,"a",9),B("click",function(){return o.goToCart()}),se(12,"img",10),P(13," \u041A\u043E\u0448\u0438\u043A "),I(14,"span",11),P(15),C()()(),I(16,"li",7)(17,"a",12),P(18,"\u0410\u0434\u043C\u0456\u043D"),C()(),I(19,"li",7)(20,"label",13)(21,"input",14),B("change",function(){return o.toggleDarkMode()}),C(),se(22,"span",15),C()()()()()),i&2&&(O(15),Le(o.cartItemCount),O(6),ne("checked",o.isDarkMode))},dependencies:[Gs,zs,gS],styles:[`.navbar[_ngcontent-%COMP%]{position:fixed;top:0;width:100%;z-index:1000;margin-bottom:0;padding:.5rem 1rem;background-color:#f8f9fa;box-shadow:0 2px 4px #0000001a}body[_ngcontent-%COMP%]{padding-top:70px}.logo[_ngcontent-%COMP%]{height:40px;margin-right:1rem}.navbar-toggler[_ngcontent-%COMP%]{border:none}.navbar-toggler-icon[_ngcontent-%COMP%]{background-image:url("data:image/svg+xml;charset=utf8,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'%3e%3cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M4 6h16M4 12h16M4 18h16' /%3e%3c/svg%3e")}.navbar-nav[_ngcontent-%COMP%]{flex-direction:row;margin-left:auto}.nav-item[_ngcontent-%COMP%]{margin-left:1rem}.nav-link[_ngcontent-%COMP%]{font-weight:700;color:#333;font-size:1rem;padding:.5rem 1rem;transition:color .3s ease}.nav-link[_ngcontent-%COMP%]:hover{color:#007bff;cursor:pointer}.nav-link[_ngcontent-%COMP%]:hover   .cart-icon[_ngcontent-%COMP%]{transform:scale(1.1)}.custom-badge[_ngcontent-%COMP%]{display:inline-block;padding:.25em .4em;font-size:75%;font-weight:700;line-height:1;color:#fff;text-align:center;white-space:nowrap;vertical-align:baseline;border-radius:.2rem;background-color:#dc3545}.cart-icon[_ngcontent-%COMP%]{height:20px;margin-right:.5rem;transition:transform .3s ease}@media (max-width: 992px){.navbar-nav[_ngcontent-%COMP%]{flex-direction:column;text-align:center;padding-top:1rem;margin-top:1rem}.nav-item[_ngcontent-%COMP%]{margin-left:0;margin-bottom:.5rem}.navbar-brand[_ngcontent-%COMP%]{margin-right:auto}}.navbar-collapse[_ngcontent-%COMP%]{max-height:0;transition:max-height .3s ease}.navbar-collapse.collapse.show[_ngcontent-%COMP%]{max-height:500px;transition:max-height .3s ease-in}.navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:1rem;border-bottom:1px solid #ddd}.navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:last-child{border-bottom:none}.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:50px;height:33px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.slider[_ngcontent-%COMP%]{cursor:pointer;inset:0;background-color:#ccc;transition:.4s;border-radius:34px}.slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:26px;width:26px;left:4px;bottom:4px;background:#fff url(https://i.ibb.co/7JfqXxB/sunny.png) no-repeat center;background-size:20px;transition:.4s;border-radius:50%;box-shadow:0 0 15px #2020203d}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:var(--color-primary)}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(26px);background:#fff url(https://i.ibb.co/FxzBYR9/night.png) no-repeat center;background-size:20px}`]});let t=e;return t})();var tP=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ze({type:e,selectors:[["app-footer"]],standalone:!0,features:[Xe],decls:37,vars:0,consts:[[1,"container","footer-container"],[1,"row","footer-row"],[1,"col-xs-12","col-sm-6","col-md-6","text-center"],[1,"fas","fa-location-arrow"],["href","tel: 04737875657","type","tel",1,"tel"],[1,"fas","fa-mobile-alt"],[1,"col-xs-12","col-md-6","col-sm-6","social-section"],[1,"text-center"],[1,"text-center","social-buttons"],["href","https://www.facebook.com/?locale=uk_UA",1,"btn","btn-default","btn-lg","social-button","link-facebook"],[1,"fab","fa-facebook"],["href","https://x.com/?lang=uk",1,"btn","btn-default","btn-lg","social-button","link-twitter"],[1,"fab","fa-twitter"],["href","https://www.linkedin.com/",1,"btn","btn-default","btn-lg","social-button","link-linkedin"],[1,"fab","fa-linkedin"],["href","https://instagram.com/",1,"btn","btn-default","btn-lg","social-button","link-instagram"],[1,"fab","fa-instagram"],[1,"footer-hr"],[1,"author"],[1,"fas","fa-heart"]],template:function(i,o){i&1&&(I(0,"footer")(1,"div",0)(2,"div",1)(3,"div",2)(4,"address")(5,"strong"),se(6,"i",3),P(7," TERRA"),C(),se(8,"br"),P(9," \u0406\u043D\u0442\u0435\u0440\u043D\u0435\u0442-\u043C\u0430\u0433\u0430\u0437\u0438\u043D \u0442\u0443\u0440\u0438\u0441\u0442\u0438\u0447\u043D\u043E\u0433\u043E \u0441\u043F\u043E\u0440\u044F\u0434\u0436\u0435\u043D\u043D\u044F,"),se(10,"br"),P(11," \u043C. \u0427\u0435\u0440\u043A\u0430\u0441\u0438, \u0432\u0443\u043B. \u0411\u0430\u0439\u0434\u0438 \u0412\u0438\u0448\u043D\u0435\u0432\u0435\u0446\u044C\u043A\u043E\u0433\u043E, 39"),se(12,"br")(13,"br"),I(14,"a",4),se(15,"i",5),I(16,"span"),P(17," 04737875657"),C()()()(),I(18,"div",6)(19,"div",7)(20,"h4",7),P(21,"\u0412\u0438 \u043D\u0430\u0441 \u0437\u043D\u0430\u0439\u0434\u0438\u0442\u0435 \u0443 \u0441\u043E\u0446\u043C\u0435\u0440\u0435\u0436\u0430\u0445"),C(),I(22,"div",8)(23,"a",9),se(24,"i",10),C(),I(25,"a",11),se(26,"i",12),C(),I(27,"a",13),se(28,"i",14),C(),I(29,"a",15),se(30,"i",16),C()(),se(31,"hr",17),I(32,"h4",18),P(33,"\u0417\u0440\u043E\u0431\u043B\u0435\u043D\u043E \u0437\u0430 \u0434\u043E\u043F\u043E\u043C\u043E\u0433\u043E\u044E "),se(34,"i",19),I(35,"strong"),P(36,"Angular"),C()()()()()()())},styles:["footer[_ngcontent-%COMP%]{background-color:#2c3e50;color:#fff;font-size:1.5em;text-align:center;padding:2%;margin-top:40px}a.tel[_ngcontent-%COMP%], a.tel[_ngcontent-%COMP%]:hover{text-decoration:none;color:#fff}a.social-button[_ngcontent-%COMP%]{background:#fff;font-size:20px;border-radius:50%;margin:5px}.address-container[_ngcontent-%COMP%]{display:inline-block;margin:0 auto}a.link-facebook[_ngcontent-%COMP%], a.link-twitter[_ngcontent-%COMP%], a.link-codepen[_ngcontent-%COMP%], a.link-linkedin[_ngcontent-%COMP%], a.link-instagram[_ngcontent-%COMP%]{transition:.4s ease}a.link-twitter[_ngcontent-%COMP%]{color:#1da1f2}a.link-facebook[_ngcontent-%COMP%]{color:#3b5998}a.link-linkedin[_ngcontent-%COMP%]{color:#007bb6}a.link-instagram[_ngcontent-%COMP%]{color:#e95950}a.link-facebook[_ngcontent-%COMP%]:hover{background-color:#3b5998;color:#fff}a.link-twitter[_ngcontent-%COMP%]:hover{background-color:#1da1f2;color:#fff}a.link-codepen[_ngcontent-%COMP%]:hover{background-color:#000;color:#fff}a.link-linkedin[_ngcontent-%COMP%]:hover{background-color:#007bb6;color:#fff}a.link-instagram[_ngcontent-%COMP%]:hover{background-color:#e95950;color:#fff}.btn-default[_ngcontent-%COMP%]{color:#333;background-color:#fff;border-color:transparent!important}.fa-heart[_ngcontent-%COMP%]{color:#f32323}h4.author[_ngcontent-%COMP%]{letter-spacing:4px}hr.copyright[_ngcontent-%COMP%]{opacity:.4}"]});let t=e;return t})();var xw=new Map,cP={activated:!1,tokenObservers:[]},Z5={initialized:!1,enabled:!1};function _t(t){return xw.get(t)||Object.assign({},cP)}function X5(t,e){return xw.set(t,e),xw.get(t)}function Gf(){return Z5}var uP="https://content-firebaseappcheck.googleapis.com/v1",eH="exchangeRecaptchaV3Token";var tH="exchangeDebugToken",nP={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},nH=24*60*60*1e3;var Pw=class{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return w(this,null,function*(){this.stop();try{this.pending=new Hr,this.pending.promise.catch(n=>{}),yield rH(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Hr,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function rH(t){return new Promise(e=>{setTimeout(e,t)})}var iH={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},Jt=new Vn("appCheck","AppCheck",iH);function rP(t=!1){var e;return t?(e=self.grecaptcha)===null||e===void 0?void 0:e.enterprise:self.grecaptcha}function Nw(t){if(!_t(t).activated)throw Jt.create("use-before-activation",{appName:t.name})}function lP(t){let e=Math.round(t/1e3),n=Math.floor(e/(3600*24)),r=Math.floor((e-n*3600*24)/3600),i=Math.floor((e-n*3600*24-r*3600)/60),o=e-n*3600*24-r*3600-i*60,s="";return n&&(s+=$f(n)+"d:"),r&&(s+=$f(r)+"h:"),s+=$f(i)+"m:"+$f(o)+"s",s}function $f(t){return t===0?"00":t>=10?t.toString():"0"+t}function Ow(r,i){return w(this,arguments,function*({url:t,body:e},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let y=yield s.getHeartbeatsHeader();y&&(o["X-Firebase-Client"]=y)}let a={method:"POST",body:JSON.stringify(e),headers:o},u;try{u=yield fetch(t,a)}catch(y){throw Jt.create("fetch-network-error",{originalErrorMessage:y?.message})}if(u.status!==200)throw Jt.create("fetch-status-error",{httpStatus:u.status});let l;try{l=yield u.json()}catch(y){throw Jt.create("fetch-parse-error",{originalErrorMessage:y?.message})}let h=l.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw Jt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let p=Number(h[1])*1e3,m=Date.now();return{token:l.token,expireTimeMillis:m+p,issuedAtTimeMillis:m}})}function oH(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${uP}/projects/${n}/apps/${r}:${eH}?key=${i}`,body:{recaptcha_v3_token:e}}}function dP(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${uP}/projects/${n}/apps/${r}:${tH}?key=${i}`,body:{debug_token:e}}}var sH="firebase-app-check-database",aH=1,Pu="firebase-app-check-store",hP="debug-token",Hf=null;function fP(){return Hf||(Hf=new Promise((t,e)=>{try{let n=indexedDB.open(sH,aH);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Jt.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Pu,{keyPath:"compositeKey"})}}}catch(n){e(Jt.create("storage-open",{originalErrorMessage:n?.message}))}}),Hf)}function cH(t){return gP(mP(t))}function uH(t,e){return pP(mP(t),e)}function lH(t){return pP(hP,t)}function dH(){return gP(hP)}function pP(t,e){return w(this,null,function*(){let r=(yield fP()).transaction(Pu,"readwrite"),o=r.objectStore(Pu).put({compositeKey:t,value:e});return new Promise((s,a)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;a(Jt.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})})}function gP(t){return w(this,null,function*(){let n=(yield fP()).transaction(Pu,"readonly"),i=n.objectStore(Pu).get(t);return new Promise((o,s)=>{i.onsuccess=a=>{let u=a.target.result;o(u?u.value:void 0)},n.onerror=a=>{var u;s(Jt.create("storage-get",{originalErrorMessage:(u=a.target.error)===null||u===void 0?void 0:u.message}))}})})}function mP(t){return`${t.options.appId}-${t.name}`}var Ru=new or("@firebase/app-check");function hH(t){return w(this,null,function*(){if(Ws()){let e;try{e=yield cH(t)}catch(n){Ru.warn(`Failed to read token from IndexedDB. Error: ${n}`)}return e}})}function Mw(t,e){return Ws()?uH(t,e).catch(n=>{Ru.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function fH(){return w(this,null,function*(){let t;try{t=yield dH()}catch{}if(t)return t;{let e=kS();return lH(e).catch(n=>Ru.warn(`Failed to persist debug token to IndexedDB. Error: ${n}`)),e}})}function kw(){return Gf().enabled}function Fw(){return w(this,null,function*(){let t=Gf();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}function pH(){let t=d0(),e=Gf();if(e.initialized=!0,typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN!="string"&&t.FIREBASE_APPCHECK_DEBUG_TOKEN!==!0)return;e.enabled=!0;let n=new Hr;e.token=n,typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN=="string"?n.resolve(t.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(fH())}var gH={error:"UNKNOWN_ERROR"};function mH(t){return _h.encodeString(JSON.stringify(t),!1)}function zf(t,e=!1){return w(this,null,function*(){let n=t.app;Nw(n);let r=_t(n),i=r.token,o;if(i&&!Ia(i)&&(r.token=void 0,i=void 0),!i){let u=yield r.cachedTokenPromise;u&&(Ia(u)?i=u:yield Mw(n,void 0))}if(!e&&i&&Ia(i))return{token:i.token};let s=!1;if(kw()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Ow(dP(n,yield Fw()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),s=!0);let u=yield r.exchangeTokenPromise;return yield Mw(n,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),s=!0),i=yield _t(n).exchangeTokenPromise}catch(u){u.code==="appCheck/throttled"?Ru.warn(u.message):Ru.error(u),o=u}let a;return i?o?Ia(i)?a={token:i.token,internalError:o}:a=oP(o):(a={token:i.token},r.token=i,yield Mw(n,i)):a=oP(o),s&&_P(n,a),a})}function yH(t){return w(this,null,function*(){let e=t.app;Nw(e);let{provider:n}=_t(e);if(kw()){let r=yield Fw(),{token:i}=yield Ow(dP(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield n.getToken();return{token:r}}})}function yP(t,e,n,r){let{app:i}=t,o=_t(i),s={next:n,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Ia(o.token)){let a=o.token;Promise.resolve().then(()=>{n({token:a.token}),iP(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>iP(t))}function vP(t,e){let n=_t(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function iP(t){let{app:e}=t,n=_t(e),r=n.tokenRefresher;r||(r=vH(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function vH(t){let{app:e}=t;return new Pw(()=>w(this,null,function*(){let n=_t(e),r;if(n.token?r=yield zf(t,!0):r=yield zf(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=_t(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},nP.RETRIAL_MIN_WAIT,nP.RETRIAL_MAX_WAIT)}function _P(t,e){let n=_t(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Ia(t){return t.expireTimeMillis-Date.now()>0}function oP(t){return{token:mH(gH),error:t}}var Rw=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=_t(this.app);for(let n of e)vP(this.app,n.next);return Promise.resolve()}};function _H(t,e){return new Rw(t,e)}function wH(t){return{getToken:e=>zf(t,e),getLimitedUseToken:()=>yH(t),addTokenListener:e=>yP(t,"INTERNAL",e),removeTokenListener:e=>vP(t.app,e)}}var EH="@firebase/app-check",IH="0.8.8";var CH="https://www.google.com/recaptcha/api.js";function bH(t,e){let n=new Hr,r=_t(t);r.reCAPTCHAState={initialized:n};let i=DH(t),o=rP(!1);return o?sP(t,e,o,i,n):AH(()=>{let s=rP(!1);if(!s)throw new Error("no recaptcha");sP(t,e,s,i,n)}),n.promise}function sP(t,e,n,r,i){n.ready(()=>{SH(t,e,n,r),i.resolve(n)})}function DH(t){let e=`fire_app_check_${t.name}`,n=document.createElement("div");return n.id=e,n.style.display="none",document.body.appendChild(n),e}function TH(t){return w(this,null,function*(){Nw(t);let n=yield _t(t).reCAPTCHAState.initialized.promise;return new Promise((r,i)=>{let o=_t(t).reCAPTCHAState;n.ready(()=>{r(n.execute(o.widgetId,{action:"fire_app_check"}))})})})}function SH(t,e,n,r){let i=n.render(r,{sitekey:e,size:"invisible",callback:()=>{_t(t).reCAPTCHAState.succeeded=!0},"error-callback":()=>{_t(t).reCAPTCHAState.succeeded=!1}}),o=_t(t);o.reCAPTCHAState=Object.assign(Object.assign({},o.reCAPTCHAState),{widgetId:i})}function AH(t){let e=document.createElement("script");e.src=CH,e.onload=t,document.head.appendChild(e)}var qf=class t{constructor(e){this._siteKey=e,this._throttleData=null}getToken(){return w(this,null,function*(){var e,n,r;xH(this._throttleData);let i=yield TH(this._app).catch(s=>{throw Jt.create("recaptcha-error")});if(!(!((e=_t(this._app).reCAPTCHAState)===null||e===void 0)&&e.succeeded))throw Jt.create("recaptcha-error");let o;try{o=yield Ow(oH(this._app,i),this._heartbeatServiceProvider)}catch(s){throw!((n=s.code)===null||n===void 0)&&n.includes("fetch-status-error")?(this._throttleData=MH(Number((r=s.customData)===null||r===void 0?void 0:r.httpStatus),this._throttleData),Jt.create("throttled",{time:lP(this._throttleData.allowRequestsAfter-Date.now()),httpStatus:this._throttleData.httpStatus})):s}return this._throttleData=null,o})}initialize(e){this._app=e,this._heartbeatServiceProvider=Oi(e,"heartbeat"),bH(e,this._siteKey).catch(()=>{})}isEqual(e){return e instanceof t?this._siteKey===e._siteKey:!1}};function MH(t,e){if(t===404||t===403)return{backoffCount:1,allowRequestsAfter:Date.now()+nH,httpStatus:t};{let n=e?e.backoffCount:0,r=FS(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+r,httpStatus:t}}}function xH(t){if(t&&Date.now()-t.allowRequestsAfter<=0)throw Jt.create("throttled",{time:lP(t.allowRequestsAfter-Date.now()),httpStatus:t.httpStatus})}function wP(t=Fi(),e){t=dt(t);let n=Oi(t,"app-check");if(Gf().initialized||pH(),kw()&&Fw().then(i=>console.log(`App Check debug token: ${i}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(o.isTokenAutoRefreshEnabled===e.isTokenAutoRefreshEnabled&&o.provider.isEqual(e.provider))return i;throw Jt.create("already-initialized",{appName:t.name})}let r=n.initialize({options:e});return PH(t,e.provider,e.isTokenAutoRefreshEnabled),_t(t).isTokenAutoRefreshEnabled&&yP(r,"INTERNAL",()=>{}),r}function PH(t,e,n){let r=X5(t,Object.assign({},cP));r.activated=!0,r.provider=e,r.cachedTokenPromise=hH(t).then(i=>(i&&Ia(i)&&(r.token=i,_P(t,{token:i.token})),i)),r.isTokenAutoRefreshEnabled=n===void 0?t.automaticDataCollectionEnabled:n,r.provider.initialize(t)}function EP(t,e){return w(this,null,function*(){let n=yield zf(t,e);if(n.error)throw n.error;return{token:n.token}})}var RH="app-check",aP="app-check-internal";function NH(){Ln(new Gt(RH,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return _H(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(aP).initialize()})),Ln(new Gt(aP,t=>{let e=t.getProvider("app-check").getImmediate();return wH(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),We(EH,IH)}NH();var zo=class{constructor(e){return e}};var Vw=new H("angularfire2.app-check-instances");function OH(t,e){let n=Qs(P0,t,e);return n&&new zo(n)}var kH=["localhost","0.0.0.0","127.0.0.1"],FH=typeof window<"u"&&kH.includes(window.location.hostname);function VH(t){return(e,n,r)=>{!Ns(r)&&(UD()||FH)&&(globalThis.FIREBASE_APPCHECK_DEBUG_TOKEN??=!0);let i=e.runOutsideAngular(()=>t(n));return new zo(i)}}var LH={provide:Vi,deps:[[new vt,Vw]]},jH={provide:zo,useFactory:OH,deps:[[new vt,Vw],jn,Tt]};function IP(t,...e){return We("angularfire",Gr.full,"app-check"),nn([jH,LH,{provide:Vw,useFactory:VH(t),multi:!0,deps:[Ce,yt,Tt,Li,Wr,...e]}])}var CP=ht(EP,!0),bP=ht(wP,!0);var DP=(()=>{let e=class e{constructor(r){this.appCheck=r}ngOnInit(){this.logAppCheckToken()}logAppCheckToken(){CP(this.appCheck).then(r=>{}).catch(r=>{console.error("Error getting App Check Token:",r)})}};e.\u0275fac=function(i){return new(i||e)($(zo))},e.\u0275cmp=Ze({type:e,selectors:[["app-root"]],standalone:!0,features:[Xe],decls:3,vars:0,template:function(i,o){i&1&&se(0,"app-header")(1,"router-outlet")(2,"app-footer")},dependencies:[Gs,e0,St,Bf,tP,vT]});let t=e;return t})();var kP=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)($(Rn),$(zt))},e.\u0275dir=qe({type:e});let t=e;return t})(),ju=(()=>{let e=class e extends kP{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Xn(e)))(o||e)}})(),e.\u0275dir=qe({type:e,features:[on]});let t=e;return t})(),Sa=new H(""),BH={provide:Sa,useExisting:Mn(()=>Uu),multi:!0},Uu=(()=>{let e=class e extends ju{writeValue(r){this.setProperty("checked",r)}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Xn(e)))(o||e)}})(),e.\u0275dir=qe({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,o){i&1&&B("change",function(a){return o.onChange(a.target.checked)})("blur",function(){return o.onTouched()})},features:[kr([BH]),on]});let t=e;return t})(),$H={provide:Sa,useExisting:Mn(()=>In),multi:!0};function HH(){let t=jr()?jr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var zH=new H(""),In=(()=>{let e=class e extends kP{constructor(r,i,o){super(r,i),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!HH())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)($(Rn),$(zt),$(zH,8))},e.\u0275dir=qe({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&B("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[kr([$H]),on]});let t=e;return t})();function qH(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}var jw=new H(""),FP=new H("");function GH(t){return qH(t.value)?{required:!0}:null}function TP(t){return null}function VP(t){return t!=null}function LP(t){return vo(t)?Ue(t):t}function jP(t){let e={};return t.forEach(n=>{e=n!=null?j(j({},e),n):e}),Object.keys(e).length===0?null:e}function UP(t,e){return e.map(n=>n(t))}function WH(t){return!t.validate}function BP(t){return t.map(e=>WH(e)?e:n=>e.validate(n))}function KH(t){if(!t)return null;let e=t.filter(VP);return e.length==0?null:function(n){return jP(UP(n,e))}}function Uw(t){return t!=null?KH(BP(t)):null}function QH(t){if(!t)return null;let e=t.filter(VP);return e.length==0?null:function(n){let r=UP(n,e).map(LP);return Jp(r).pipe(ie(jP))}}function Bw(t){return t!=null?QH(BP(t)):null}function SP(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function YH(t){return t._rawValidators}function JH(t){return t._rawAsyncValidators}function Lw(t){return t?Array.isArray(t)?t:[t]:[]}function Kf(t,e){return Array.isArray(t)?t.includes(e):t===e}function AP(t,e){let n=Lw(e);return Lw(t).forEach(i=>{Kf(n,i)||n.push(i)}),n}function MP(t,e){return Lw(e).filter(n=>!Kf(t,n))}var Qf=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Uw(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Bw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Da=class extends Qf{get formDirective(){return null}get path(){return null}},Lu=class extends Qf{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Yf=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},ZH={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},TX=ye(j({},ZH),{"[class.ng-submitted]":"isSubmitted"}),vr=(()=>{let e=class e extends Yf{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)($(Lu,2))},e.\u0275dir=qe({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&sn("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[on]});let t=e;return t})(),Aa=(()=>{let e=class e extends Yf{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)($(Da,10))},e.\u0275dir=qe({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,o){i&2&&sn("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[on]});let t=e;return t})();var Nu="VALID",Wf="INVALID",Ca="PENDING",Ou="DISABLED",Ta=class{},Jf=class extends Ta{constructor(e,n){super(),this.value=e,this.source=n}},Fu=class extends Ta{constructor(e,n){super(),this.pristine=e,this.source=n}},Vu=class extends Ta{constructor(e,n){super(),this.touched=e,this.source=n}},ba=class extends Ta{constructor(e,n){super(),this.status=e,this.source=n}};function $P(t){return(ep(t)?t.validators:t)||null}function XH(t){return Array.isArray(t)?Uw(t):t||null}function HP(t,e){return(ep(e)?e.asyncValidators:t)||null}function ez(t){return Array.isArray(t)?Bw(t):t||null}function ep(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function tz(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new Z(1e3,"");if(!r[n])throw new Z(1001,"")}function nz(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new Z(1002,"")})}var Zf=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._events=new wt,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Nu}get invalid(){return this.status===Wf}get pending(){return this.status==Ca}get disabled(){return this.status===Ou}get enabled(){return this.status!==Ou}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(AP(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(AP(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(MP(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(MP(e,this._rawAsyncValidators))}hasValidator(e){return Kf(this._rawValidators,e)}hasAsyncValidator(e){return Kf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ye(j({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Vu(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new Vu(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ye(j({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Fu(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new Fu(!0,r))}markAsPending(e={}){this.status=Ca;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ba(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ye(j({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Ou,this.errors=null,this._forEachChild(i=>{i.disable(ye(j({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Jf(this.value,r)),this._events.next(new ba(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ye(j({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Nu,this._forEachChild(r=>{r.enable(ye(j({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ye(j({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Nu||this.status===Ca)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Jf(this.value,n)),this._events.next(new ba(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ye(j({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ou:Nu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Ca,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=LP(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new ba(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new Je,this.statusChanges=new Je}_calculateStatus(){return this._allControlsDisabled()?Ou:this.errors?Wf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ca)?Ca:this._anyControlsHaveStatus(Wf)?Wf:Nu}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new Fu(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new Vu(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){ep(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=XH(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=ez(this._rawAsyncValidators)}},Xf=class extends Zf{constructor(e,n,r){super($P(n),HP(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){nz(this,!0,e),Object.keys(e).forEach(r=>{tz(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var $w=new H("CallSetDisabledState",{providedIn:"root",factory:()=>Hw}),Hw="always";function rz(t,e){return[...e.path,t]}function zP(t,e,n=Hw){qP(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),oz(t,e),az(t,e),sz(t,e),iz(t,e)}function xP(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function iz(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function qP(t,e){let n=YH(t);e.validator!==null?t.setValidators(SP(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=JH(t);e.asyncValidator!==null?t.setAsyncValidators(SP(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();xP(e._rawValidators,i),xP(e._rawAsyncValidators,i)}function oz(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&GP(t,e)})}function sz(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&GP(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function GP(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function az(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function cz(t,e){t==null,qP(t,e)}function uz(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function lz(t){return Object.getPrototypeOf(t.constructor)===ju}function dz(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function hz(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===In?n=o:lz(o)?r=o:i=o}),i||r||n||null}var fz={provide:Da,useExisting:Mn(()=>qo)},ku=Promise.resolve(),qo=(()=>{let e=class e extends Da{constructor(r,i,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Je,this.form=new Xf({},Uw(r),Bw(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){ku.then(()=>{let i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),zP(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){ku.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){ku.then(()=>{let i=this._findContainer(r.path),o=new Xf({});cz(o,r),i.registerControl(r.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){ku.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){ku.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submitted=!0,dz(this.form,this._directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}};e.\u0275fac=function(i){return new(i||e)($(jw,10),$(FP,10),$($w,8))},e.\u0275dir=qe({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,o){i&1&&B("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[kr([fz]),on]});let t=e;return t})();function PP(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function RP(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var pz=class extends Zf{constructor(e=null,n,r){super($P(n),HP(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ep(n)&&(n.nonNullable||n.initialValueIsDefault)&&(RP(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){PP(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){PP(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){RP(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var gz={provide:Lu,useExisting:Mn(()=>$n)},NP=Promise.resolve(),$n=(()=>{let e=class e extends Lu{constructor(r,i,o,s,a,u){super(),this._changeDetectorRef=a,this.callSetDisabledState=u,this.control=new pz,this._registered=!1,this.name="",this.update=new Je,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=hz(this,s)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),uz(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){zP(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){NP.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,o=i!==0&&Ci(i);NP.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?rz(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)($(Da,9),$(jw,10),$(FP,10),$(Sa,10),$(Ii,8),$($w,8))},e.\u0275dir=qe({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[kr([gz]),on,Rr]});let t=e;return t})(),Ma=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=qe({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})(),mz={provide:Sa,useExisting:Mn(()=>zw),multi:!0},zw=(()=>{let e=class e extends ju{writeValue(r){let i=r??"";this.setProperty("value",i)}registerOnChange(r){this.onChange=i=>{r(i==""?null:parseFloat(i))}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Xn(e)))(o||e)}})(),e.\u0275dir=qe({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,o){i&1&&B("input",function(a){return o.onChange(a.target.value)})("blur",function(){return o.onTouched()})},features:[kr([mz]),on]});let t=e;return t})();var yz={provide:Sa,useExisting:Mn(()=>xa),multi:!0};function WP(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function vz(t){return t.split(":")[0]}var xa=(()=>{let e=class e extends ju{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i=this._getOptionId(r),o=WP(i,r);this.setProperty("value",o)}registerOnChange(r){this.onChange=i=>{this.value=this._getOptionValue(i),r(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),r))return i;return null}_getOptionValue(r){let i=vz(r);return this._optionMap.has(i)?this._optionMap.get(i):r}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Xn(e)))(o||e)}})(),e.\u0275dir=qe({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,o){i&1&&B("change",function(a){return o.onChange(a.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[kr([yz]),on]});let t=e;return t})(),tp=(()=>{let e=class e{constructor(r,i,o){this._element=r,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(r){this._select!=null&&(this._select._optionMap.set(this.id,r),this._setElementValue(WP(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._setElementValue(r),this._select&&this._select.writeValue(this._select.value)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)($(zt),$(Rn),$(xa,9))},e.\u0275dir=qe({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})(),_z={provide:Sa,useExisting:Mn(()=>KP),multi:!0};function OP(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function wz(t){return t.split(":")[0]}var KP=(()=>{let e=class e extends ju{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i;if(Array.isArray(r)){let o=r.map(s=>this._getOptionId(s));i=(s,a)=>{s._setSelected(o.indexOf(a.toString())>-1)}}else i=(o,s)=>{o._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(r){this.onChange=i=>{let o=[],s=i.selectedOptions;if(s!==void 0){let a=s;for(let u=0;u<a.length;u++){let l=a[u],h=this._getOptionValue(l.value);o.push(h)}}else{let a=i.options;for(let u=0;u<a.length;u++){let l=a[u];if(l.selected){let h=this._getOptionValue(l.value);o.push(h)}}}this.value=o,r(o)}}_registerOption(r){let i=(this._idCounter++).toString();return this._optionMap.set(i,r),i}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,r))return i;return null}_getOptionValue(r){let i=wz(r);return this._optionMap.has(i)?this._optionMap.get(i)._value:r}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Xn(e)))(o||e)}})(),e.\u0275dir=qe({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,o){i&1&&B("change",function(a){return o.onChange(a.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[kr([_z]),on]});let t=e;return t})(),np=(()=>{let e=class e{constructor(r,i,o){this._element=r,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(r){this._select!=null&&(this._value=r,this._setElementValue(OP(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._select?(this._value=r,this._setElementValue(OP(this.id,r)),this._select.writeValue(this._select.value)):this._setElementValue(r)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}_setSelected(r){this._renderer.setProperty(this._element.nativeElement,"selected",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)($(zt),$(Rn),$(KP,9))},e.\u0275dir=qe({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})();var Ez=(()=>{let e=class e{constructor(){this._validator=TP}ngOnChanges(r){if(this.inputName in r){let i=this.normalizeInput(r[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):TP,this._onChange&&this._onChange()}}validate(r){return this._validator(r)}registerOnValidatorChange(r){this._onChange=r}enabled(r){return r!=null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=qe({type:e,features:[Rr]});let t=e;return t})();var Iz={provide:jw,useExisting:Mn(()=>Go),multi:!0};var Go=(()=>{let e=class e extends Ez{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Ci,this.createValidator=r=>GH}enabled(r){return r}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Xn(e)))(o||e)}})(),e.\u0275dir=qe({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,o){i&2&&fc("required",o._enabled?"":null)},inputs:{required:"required"},features:[kr([Iz]),on]});let t=e;return t})();var Cz=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Zn({type:e}),e.\u0275inj=Jn({});let t=e;return t})();var _r=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:$w,useValue:r.callSetDisabledState??Hw}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Zn({type:e}),e.\u0275inj=Jn({imports:[Cz]});let t=e;return t})();var bz=["slides"];function Dz(t,e){if(t&1){let n=ct();I(0,"a",10),B("click",function(){Q(n);let i=J();return Y(i.onClickLeft())}),se(1,"span",11),C()}}function Tz(t,e){if(t&1){let n=ct();I(0,"a",12),B("click",function(){Q(n);let i=J();return Y(i.onClickRight())}),se(1,"span",13),C()}}var QP=(()=>{let e=class e{constructor(r){this.platformId=r,this.intervalForSlider=5e3,this.withBackground=!1,this.showArrows=!0,this.currentIndex=0}ngAfterViewInit(){cy(this.platformId)&&(this.autoSlideSub=Zp(this.intervalForSlider).subscribe(()=>this.autoSlide()))}autoSlide(){let i=this.slides.nativeElement.querySelectorAll(".carousel-item");i[this.currentIndex].classList.remove("active"),this.currentIndex=(this.currentIndex+1)%i.length,i[this.currentIndex].classList.add("active")}onClickLeft(){let i=this.slides.nativeElement.querySelectorAll(".carousel-item");i[this.currentIndex].classList.remove("active"),this.currentIndex=(this.currentIndex-1+i.length)%i.length,i[this.currentIndex].classList.add("active")}onClickRight(){this.autoSlide()}ngOnDestroy(){this.autoSlideSub&&this.autoSlideSub.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)($(Tt))},e.\u0275cmp=Ze({type:e,selectors:[["app-carousel"]],viewQuery:function(i,o){if(i&1&&xD(bz,5),i&2){let s;Md(s=xd())&&(o.slides=s.first)}},inputs:{intervalForSlider:"intervalForSlider",withBackground:"withBackground",showArrows:"showArrows"},standalone:!0,features:[Xe],decls:11,vars:2,consts:[["slides",""],["id","carouselExampleIndicators",1,"carousel","slide"],[1,"carousel-inner"],[1,"carousel-item","active"],["src","./slide/slide1.jpg","alt","Slide 1",1,"d-block","w-100"],[1,"carousel-item"],["src","./slide/slide2.jpg","alt","Slide 2",1,"d-block","w-100"],["src","./slide/slide3.jpg","alt","Slide 3",1,"d-block","w-100"],["class","carousel-control-prev","role","button",3,"click",4,"ngIf"],["class","carousel-control-next","role","button",3,"click",4,"ngIf"],["role","button",1,"carousel-control-prev",3,"click"],["aria-hidden","true",1,"carousel-control-prev-icon"],["role","button",1,"carousel-control-next",3,"click"],["aria-hidden","true",1,"carousel-control-next-icon"]],template:function(i,o){i&1&&(I(0,"div",1)(1,"div",2,0)(3,"div",3),se(4,"img",4),C(),I(5,"div",5),se(6,"img",6),C(),I(7,"div",5),se(8,"img",7),C()(),Oe(9,Dz,2,0,"a",8)(10,Tz,2,0,"a",9),C()),i&2&&(O(9),ne("ngIf",o.showArrows),O(),ne("ngIf",o.showArrows))},dependencies:[St,nr],styles:[".carousel-inner[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;overflow:hidden}.carousel-item[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0;opacity:0;transition:transform 1s ease-in}.carousel-item.active[_ngcontent-%COMP%]{opacity:1;position:relative}.carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:50vh;width:100%;object-fit:cover}@media (max-width: 992px){.carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:calc(100vh - 56px)}}@media (max-width: 576px){.carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:calc(50vh - 56px)}}"]});let t=e;return t})();var Pa=(()=>{let e=class e{constructor(r){this.firestore=r,this.collectionName="products",this.commentsCollectionName="comments"}getProducts(){let r=yr(this.firestore,this.collectionName);return xu(r,{idField:"id"})}getProductById(r){let i=Ho(this.firestore,`${this.collectionName}/${r}`);return Wx(i,{idField:"id"})}getComments(r){let i=yr(this.firestore,`${this.collectionName}/${r}/${this.commentsCollectionName}`);return xu(i,{idField:"id"})}addComment(r,i){let o=["\u043A\u043E\u043A\u043E\u0441","\u0431\u0430\u043D\u0430\u043D","\u043F\u043E\u0433\u0430\u043D\u0438\u0439","@"],s=i.replace(new RegExp(`(${o.map(l=>l.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")).join("|")})`,"gi"),l=>"*".repeat(l.length)),a=yr(this.firestore,`${this.collectionName}/${r}/${this.commentsCollectionName}`),u=Ho(a);return jf(u,{text:s,timestamp:new Date().toISOString()})}};e.\u0275fac=function(i){return new(i||e)(G(fn))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var YP=t=>({disabled:t}),Sz=t=>({active:t});function Az(t,e){if(t&1){let n=ct();I(0,"div",39)(1,"div",40),se(2,"img",41),I(3,"div",42)(4,"h5",43),P(5),C(),I(6,"p",44),P(7),C(),I(8,"button",45),B("click",function(){let i=Q(n).$implicit,o=J();return Y(o.viewProduct(i.id))}),P(9,"\u041F\u0435\u0440\u0435\u0439\u0442\u0438 \u0434\u043E \u0442\u043E\u0432\u0430\u0440\u0443"),C()()()()}if(t&2){let n=e.$implicit,r=J();O(2),Or("alt",n.name),ne("src",n.imageUrl,Pn),O(3),Le(n.name),O(2),tr("",n.price," ",r.currency,"")}}function Mz(t,e){if(t&1){let n=ct();I(0,"li",34)(1,"a",46),B("click",function(){let i=Q(n).$implicit,o=J();return Y(o.changePage(i))}),P(2),C()()}if(t&2){let n=e.$implicit,r=J();ne("ngClass",xs(2,Sz,n===r.currentPage)),O(2),Le(n)}}var JP=(()=>{let e=class e{constructor(r,i){this.productService=r,this.router=i,this.products=[],this.filteredProducts=[],this.searchText="",this.currency="\u20B4",this.itemsPerPage=5,this.currentPage=1,this.totalPages=1,this.pages=[],this.categories=["\u041B\u0456\u0445\u0442\u0430\u0440\u0438\u043A\u0438","\u0420\u043E\u0437\u0443\u043C\u043D\u0456 \u0433\u043E\u0434\u0438\u043D\u043D\u0438\u043A\u0438","\u041D\u0430\u0432\u0443\u0448\u043D\u0438\u043A\u0438","\u0422\u0443\u0440\u0438\u0441\u0442\u0438\u0447\u043D\u0456 \u041A\u0430\u043C\u0435\u0440\u0438","\u041D\u0430\u043C\u0435\u0442\u0438"],this.selectedCategory="all",this.isSidebarVisible=!1,this.isSidebarPinned=!1}ngOnInit(){this.loadProducts(),this.adjustItemsPerPage(),window.addEventListener("resize",()=>this.adjustItemsPerPage())}adjustItemsPerPage(){let r=window.innerWidth;r<576?this.itemsPerPage=2:r<768?this.itemsPerPage=4:this.itemsPerPage=5,this.updatePagination()}toggleSidebar(){this.isSidebarVisible=!this.isSidebarVisible,(this.isSidebarPinned||window.innerWidth<576)&&(this.isSidebarPinned=!1)}updateSidebarMode(){this.isSidebarPinned?this.isSidebarVisible=!0:this.isSidebarVisible=!1}loadProducts(){this.productService.getProducts().subscribe(r=>{console.log("\u041E\u0442\u0440\u0438\u043C\u0430\u043D\u0456 \u043F\u0440\u043E\u0434\u0443\u043A\u0442\u0438:",r),this.products=r,this.applyFilters()})}getPaginatedProducts(){if(window.innerWidth<576)return this.filteredProducts;{let r=(this.currentPage-1)*this.itemsPerPage,i=this.currentPage*this.itemsPerPage;return this.filteredProducts.slice(r,i)}}updatePagination(){this.totalPages=Math.ceil(this.filteredProducts.length/this.itemsPerPage),this.pages=Array.from({length:this.totalPages},(r,i)=>i+1)}onSearchTextChange(){this.applyFilters(),this.updatePagination(),this.currentPage=1}filterByCategory(r){this.selectedCategory=r,this.applyFilters(),this.updatePagination(),this.currentPage=1}applyFilters(){let r=this.products;this.selectedCategory!=="all"&&(r=r.filter(i=>i.category===this.selectedCategory)),this.searchText&&(r=r.filter(i=>i.name.toLowerCase().includes(this.searchText.toLowerCase()))),this.filteredProducts=r,this.updatePagination()}changePage(r){r>=1&&r<=this.totalPages&&(this.currentPage=r)}viewProduct(r){this.router.navigate([`/product/${r}`])}};e.\u0275fac=function(i){return new(i||e)($(Pa),$(lt))},e.\u0275cmp=Ze({type:e,selectors:[["app-home"]],standalone:!0,features:[Xe],decls:71,vars:18,consts:[[1,"container-fluid","mt-4"],["type","search","placeholder","\u0424\u0456\u043B\u044C\u0442\u0440 \u0437\u0430 \u043D\u0430\u0437\u0432\u043E\u044E","aria-label","Search",1,"form-control","mb-4","mt-4",3,"ngModelChange","ngModel"],[1,"sidebar-toggle",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","50","height","50","viewBox","0 0 100 100"],["x","0","y","0","width","100","height","100","rx","15","fill","#f0f0f0"],["x","15","y","15","width","25","height","70","rx","8","fill","#ffffff"],["cx","27.5","cy","30","r","4","fill","#ff6347"],["cx","27.5","cy","50","r","4","fill","#4682b4"],["cx","27.5","cy","70","r","4","fill","#32cd32"],["x","45","y","15","width","40","height","70","rx","8","fill","#ffffff"],["x","50","y","25","width","30","height","6","rx","2","fill","#d3d3d3"],["x","50","y","45","width","30","height","6","rx","2","fill","#d3d3d3"],["x","50","y","65","width","30","height","6","rx","2","fill","#d3d3d3"],[1,"sidebar"],[1,"sidebar-header"],[1,"pin-sidebar-option"],["type","checkbox","id","pinSidebar",2,"display","none",3,"ngModelChange","change","ngModel"],["for","pinSidebar"],["version","1.1","id","Layer_1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","viewBox","0 0 512.007 512.007",0,"xml","space","preserve","width","20px","height","20px","fill","#000000",2,"cursor","pointer"],["id","SVGRepo_bgCarrier","stroke-width","0"],["id","SVGRepo_tracerCarrier","stroke-linecap","round","stroke-linejoin","round","stroke","#CCCCCC","stroke-width","1.0240139999999998"],["id","SVGRepo_iconCarrier"],["x","97.107","y","255.03","transform","matrix(-0.7071 -0.7071 0.7071 -0.7071 -89.086 761.0052)","width","31.919","height","287.846",2,"fill","#6DA8D6"],["d","M313.839,446.446L189.701,322.31l103.357-133.452l63.385,78.432 C376.502,328.231,362.305,397.981,313.839,446.446z",2,"fill","#D82F30"],["points","458.778,149.909 356.444,267.29 300.583,211.428 325.417,126.406 410.439,101.571 ",2,"fill","#BD1515"],["d","M308.106,203.905L189.701,322.31L65.565,198.172c48.466-48.466,118.216-62.663,179.156-42.605 L308.106,203.905z",2,"fill","#F2484B"],["points","410.439,101.571 300.583,211.428 244.721,155.567 362.102,53.233 ",2,"fill","#D82F30"],["x","282.753","y","85.606","transform","matrix(-0.7071 -0.7071 0.7071 -0.7071 628.8279 463.6005)","width","255.352","height","31.919",2,"fill","#BD1515"],[1,"btn","btn-outline-primary",3,"click"],[1,"text-center","mb-4"],[1,"row","product-list"],["class","col-12 col-sm-6 col-md-4 col-lg-3 mb-4",4,"ngFor","ngForOf"],["aria-label","Page navigation"],[1,"pagination","justify-content-center"],[1,"page-item",3,"ngClass"],["aria-label","Previous",1,"page-link",3,"click"],["aria-hidden","true"],["class","page-item",3,"ngClass",4,"ngFor","ngForOf"],["aria-label","Next",1,"page-link",3,"click"],[1,"col-12","col-sm-6","col-md-4","col-lg-3","mb-4"],[1,"card"],[1,"card-img-top",3,"src","alt"],[1,"card-body","text-center"],[1,"card-title"],[1,"card-text"],[1,"btn","btn-primary",3,"click"],[1,"page-link",3,"click"]],template:function(i,o){i&1&&(I(0,"div",0),se(1,"app-carousel"),I(2,"input",1),Ae("ngModelChange",function(a){return Pe(o.searchText,a)||(o.searchText=a),a}),B("ngModelChange",function(){return o.onSearchTextChange()}),C(),I(3,"button",2),B("click",function(){return o.toggleSidebar()}),yo(),I(4,"svg",3),se(5,"rect",4)(6,"rect",5)(7,"circle",6)(8,"circle",7)(9,"circle",8)(10,"rect",9)(11,"rect",10)(12,"rect",11)(13,"rect",12),C()(),dc(),I(14,"div",0)(15,"div",13)(16,"div",14)(17,"h4"),P(18,"\u0424\u0456\u043B\u044C\u0442\u0440\u0438"),C()(),I(19,"div",14)(20,"div",15)(21,"input",16),Ae("ngModelChange",function(a){return Pe(o.isSidebarPinned,a)||(o.isSidebarPinned=a),a}),B("change",function(){return o.updateSidebarMode()}),C(),I(22,"label",17),yo(),I(23,"svg",18),se(24,"g",19)(25,"g",20),I(26,"g",21),se(27,"rect",22)(28,"path",23)(29,"polygon",24)(30,"path",25)(31,"polygon",26)(32,"rect",27),C()()()()(),dc(),I(33,"button",28),B("click",function(){return o.filterByCategory("all")}),P(34,"\u0423\u0441\u0456"),C(),I(35,"button",28),B("click",function(){return o.filterByCategory("\u041B\u0456\u0445\u0442\u0430\u0440\u0438\u043A\u0438")}),P(36,"\u041B\u0456\u0445\u0442\u0430\u0440\u0438\u043A\u0438"),C(),I(37,"button",28),B("click",function(){return o.filterByCategory("\u0420\u043E\u0437\u0443\u043C\u043D\u0456 \u0413\u043E\u0434\u0438\u043D\u043D\u0438\u043A\u0438")}),P(38,"\u0420\u043E\u0437\u0443\u043C\u043D\u0456 \u0413\u043E\u0434\u0438\u043D\u043D\u0438\u043A\u0438"),C(),I(39,"button",28),B("click",function(){return o.filterByCategory("\u041D\u0430\u0432\u0443\u0448\u043D\u0438\u043A\u0438")}),P(40,"\u041D\u0430\u0432\u0443\u0448\u043D\u0438\u043A\u0438"),C(),I(41,"button",28),B("click",function(){return o.filterByCategory("\u0422\u0443\u0440\u0438\u0441\u0442\u0438\u0447\u043D\u0456 \u041A\u0430\u043C\u0435\u0440\u0438")}),P(42,"\u0422\u0443\u0440\u0438\u0441\u0442\u0438\u0447\u043D\u0456 \u041A\u0430\u043C\u0435\u0440\u0438"),C(),I(43,"button",28),B("click",function(){return o.filterByCategory("\u041D\u0430\u043C\u0435\u0442\u0438")}),P(44,"\u041D\u0430\u043C\u0435\u0442\u0438"),C()(),I(45,"div",29)(46,"button",28),B("click",function(){return o.filterByCategory("all")}),P(47,"\u0423\u0441\u0456"),C(),I(48,"button",28),B("click",function(){return o.filterByCategory("\u041B\u0456\u0445\u0442\u0430\u0440\u0438\u043A\u0438")}),P(49,"\u041B\u0456\u0445\u0442\u0430\u0440\u0438\u043A\u0438"),C(),I(50,"button",28),B("click",function(){return o.filterByCategory("\u0420\u043E\u0437\u0443\u043C\u043D\u0456 \u0413\u043E\u0434\u0438\u043D\u043D\u0438\u043A\u0438")}),P(51,"\u0420\u043E\u0437\u0443\u043C\u043D\u0456 \u0413\u043E\u0434\u0438\u043D\u043D\u0438\u043A\u0438"),C(),I(52,"button",28),B("click",function(){return o.filterByCategory("\u041D\u0430\u0432\u0443\u0448\u043D\u0438\u043A\u0438")}),P(53,"\u041D\u0430\u0432\u0443\u0448\u043D\u0438\u043A\u0438"),C(),I(54,"button",28),B("click",function(){return o.filterByCategory("\u0422\u0443\u0440\u0438\u0441\u0442\u0438\u0447\u043D\u0456 \u041A\u0430\u043C\u0435\u0440\u0438")}),P(55,"\u0422\u0443\u0440\u0438\u0441\u0442\u0438\u0447\u043D\u0456 \u041A\u0430\u043C\u0435\u0440\u0438"),C(),I(56,"button",28),B("click",function(){return o.filterByCategory("\u041D\u0430\u043C\u0435\u0442\u0438")}),P(57,"\u041D\u0430\u043C\u0435\u0442\u0438"),C()(),I(58,"div",30),Oe(59,Az,10,5,"div",31),C(),I(60,"nav",32)(61,"ul",33)(62,"li",34)(63,"a",35),B("click",function(){return o.changePage(o.currentPage-1)}),I(64,"span",36),P(65,"\xAB"),C()()(),Oe(66,Mz,3,4,"li",37),I(67,"li",34)(68,"a",38),B("click",function(){return o.changePage(o.currentPage+1)}),I(69,"span",36),P(70,"\xBB"),C()()()()()()()),i&2&&(O(2),Se("ngModel",o.searchText),O(12),sn("sidebar-pinned",o.isSidebarPinned),O(),sn("visible",o.isSidebarVisible||o.isSidebarPinned)("pinned",o.isSidebarPinned),O(6),Se("ngModel",o.isSidebarPinned),O(37),sn("sidebar-pinned",o.isSidebarPinned),O(),ne("ngForOf",o.getPaginatedProducts()),O(3),ne("ngClass",xs(14,YP,o.currentPage===1)),O(4),ne("ngForOf",o.pages),O(),ne("ngClass",xs(16,YP,o.currentPage===o.totalPages)))},dependencies:[St,Wd,Di,_r,In,Uu,vr,$n,QP],styles:[".card[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;height:100%;overflow:hidden;background-color:#fff;color:#333;border:1px solid #ddd;border-radius:.375rem;transition:all .3s ease}.card-img-top[_ngcontent-%COMP%]{height:150px;object-fit:cover}.card-body[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center;text-align:center}.card-title[_ngcontent-%COMP%]{font-size:1rem}.card-text[_ngcontent-%COMP%]{font-size:.875rem}.carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:50vh;object-fit:cover}.btn-outline-primary[_ngcontent-%COMP%]{margin:.25rem}.pagination[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{padding:.4rem .8rem}.page-link[_ngcontent-%COMP%]{cursor:pointer}@media (max-width: 576px){.card-img-top[_ngcontent-%COMP%]{height:120px}.carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:40vh}.card-body[_ngcontent-%COMP%]{padding:.5rem}.card-title[_ngcontent-%COMP%]{font-size:.9rem}.card-text[_ngcontent-%COMP%]{font-size:.8rem}.row.product-list[_ngcontent-%COMP%]   .col-12[_ngcontent-%COMP%]{flex:0 0 100%;max-width:100%}}@media (max-width: 768px){.row.product-list[_ngcontent-%COMP%]   .col-12[_ngcontent-%COMP%]{flex:0 0 50%;max-width:50%}}@media (max-width: 576px){.sidebar[_ngcontent-%COMP%]{width:160px;font-size:.8rem}.sidebar[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem}.sidebar[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-size:.8rem;padding:.3rem .6rem}.product-list.sidebar-pinned[_ngcontent-%COMP%]{margin-right:180px}.container-fluid.sidebar-pinned[_ngcontent-%COMP%]{margin-left:180px}}@media (min-width: 992px){.col-md-2[_ngcontent-%COMP%]{flex:0 0 20%;max-width:20%}}@media (orientation: portrait){.carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:30vh}}@media (orientation: landscape){.carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:50vh}}.sidebar-toggle.left-toggle[_ngcontent-%COMP%]{left:20px;top:76px}.sidebar-toggle[_ngcontent-%COMP%]{position:fixed;top:76px;left:20px;z-index:1000;color:#fff;border:none;border-radius:50%;width:50px;height:50px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .3s ease}.sidebar-header[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.pin-sidebar-option[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer}.sidebar-toggle[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.sidebar-toggle[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{fill:#fff;transition:transform .3s ease}.sidebar-toggle[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{transform:scale(1.1)}.sidebar[_ngcontent-%COMP%]{position:fixed;top:66px;left:-100%;width:300px;height:calc(100% - 66px);background:#fff;box-shadow:4px 0 8px #0003;padding:20px;transition:left .3s ease;overflow-y:auto;overflow-x:hidden;z-index:999}.sidebar.visible[_ngcontent-%COMP%]{left:0}.sidebar[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:15px;font-size:1.2rem;color:#333}.sidebar[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{display:block;width:100%;margin-bottom:10px}.sidebar.pinned[_ngcontent-%COMP%]{position:fixed;left:0;top:66px;height:calc(100% - 66px)}.product-list.sidebar-pinned[_ngcontent-%COMP%]{margin-right:320px}.pin-sidebar-option[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-left:5px;font-size:.9rem}.container-fluid.sidebar-pinned[_ngcontent-%COMP%]{margin-left:320px}.container-fluid[_ngcontent-%COMP%]{padding:0 15px}.row[_ngcontent-%COMP%]{margin:0 -15px}"]});let t=e;return t})();var ZP=(()=>{let e=class e{constructor(r){this.http=r,this.apiUrl="https://api.novaposhta.ua/v2.0/json/",this.apiKey="86dfb7dfe2f6e8659419fc64edcc4814"}getRegions(){let r={apiKey:this.apiKey,modelName:"Address",calledMethod:"getAreas",methodProperties:{}};return this.http.post(this.apiUrl,r)}getCities(r){let i={apiKey:this.apiKey,modelName:"Address",calledMethod:"getCities",methodProperties:{AreaRef:r}};return this.http.post(this.apiUrl,i)}getWarehouses(r){let i={apiKey:this.apiKey,modelName:"AddressGeneral",calledMethod:"getWarehouses",methodProperties:{CityRef:r}};return this.http.post(this.apiUrl,i)}};e.\u0275fac=function(i){return new(i||e)(G(wc))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var XP=(()=>{let e=class e{constructor(r){this.http=r,this.botToken="7704495677:AAHxEAJTRntkBTdyRZq28JhjUtyHoFaMLyw",this.defaultChatId="1714391961"}sendMessageToChat(r,i){let o=`https://api.telegram.org/bot${this.botToken}/sendMessage`;return this.http.post(o,{chat_id:r,text:i,parse_mode:"HTML"}).toPromise()}sendMessageToAdmin(r){return this.sendMessageToChat(this.defaultChatId,r)}};e.\u0275fac=function(i){return new(i||e)(G(wc))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Rz(t,e){if(t&1){let n=ct();I(0,"div",30),se(1,"img",31),I(2,"h4",32),P(3),C(),I(4,"p",33),P(5),C(),I(6,"div",34)(7,"button",35),B("click",function(){let i=Q(n).$implicit,o=J();return Y(o.increaseQuantity(i.product.id))}),P(8,"+"),C(),I(9,"span",36),P(10),C(),I(11,"button",35),B("click",function(){let i=Q(n).$implicit,o=J();return Y(o.decreaseQuantity(i.product.id))}),P(12,"-"),C()(),I(13,"div",37)(14,"p",8),P(15),C()(),I(16,"button",38),B("click",function(){let i=Q(n).$implicit,o=J();return Y(o.removeFromCart(i.product.id))}),P(17,"\u041F\u0440\u0438\u0431\u0440\u0430\u0442\u0438"),C()()}if(t&2){let n=e.$implicit,r=J();O(),Or("alt",n.product.name),ne("src",n.product.imageUrl,Pn),O(2),Le(n.product.name),O(2),tr("",n.product.price," ",r.currency,""),O(5),Le(n.quantity),O(5),tr("\u0417\u0430\u0433\u0430\u043B\u044C\u043D\u0430 \u0441\u0443\u043C\u0430 \u0442\u043E\u0432\u0430\u0440\u0443: ",n.product.price*n.quantity," ",r.currency,"")}}function Nz(t,e){t&1&&(I(0,"small",39),P(1," \u041D\u0435\u043A\u043E\u0440\u0435\u043A\u0442\u043D\u0438\u0439 \u0444\u043E\u0440\u043C\u0430\u0442. \u0412\u0438\u043A\u043E\u0440\u0438\u0441\u0442\u043E\u0432\u0443\u0439\u0442\u0435 \u0442\u0456\u043B\u044C\u043A\u0438 \u0431\u0443\u043A\u0432\u0438. "),C())}function Oz(t,e){if(t&1&&(I(0,"small",39),P(1),C()),t&2){J();let n=pc(21);O(),Le(n.errors==null?null:n.errors.customError)}}function kz(t,e){if(t&1&&(I(0,"option",40),P(1),C()),t&2){let n=e.$implicit;ne("value",n.Ref),O(),Nn(" ",n.Description," ")}}function Fz(t,e){if(t&1&&(I(0,"option",40),P(1),C()),t&2){let n=e.$implicit;ne("value",n.Ref),O(),Nn(" ",n.Description," ")}}function Vz(t,e){if(t&1&&(I(0,"option",40),P(1),C()),t&2){let n=e.$implicit;ne("value",n.Ref),O(),Nn(" ",n.Description," ")}}function Lz(t,e){if(t&1){let n=ct();I(0,"div",41),B("click",function(){Q(n);let i=J();return Y(i.closeConfirmation())}),I(1,"div",42),B("click",function(i){return Q(n),Y(i.stopPropagation())}),I(2,"div",43),yo(),I(3,"svg",44),se(4,"path",45),C(),dc(),I(5,"h2",46),P(6,"\u0417\u0430\u043C\u043E\u0432\u043B\u0435\u043D\u043D\u044F \u043E\u0444\u043E\u0440\u043C\u043B\u0435\u043D\u043E!"),C()(),I(7,"p",47),P(8,"\u{1F64F} \u0414\u044F\u043A\u0443\u0454\u043C\u043E \u0437\u0430 \u0432\u0430\u0448\u0435 \u0437\u0430\u043C\u043E\u0432\u043B\u0435\u043D\u043D\u044F!"),C(),I(9,"p",47),P(10," \u{1F4DE} \u041E\u0447\u0456\u043A\u0443\u0439\u0442\u0435 \u0434\u0437\u0432\u0456\u043D\u043A\u0430 \u0432\u0456\u0434 \u043D\u0430\u0448\u043E\u0433\u043E \u043A\u043E\u043D\u0441\u0443\u043B\u044C\u0442\u0430\u043D\u0442\u0430 \u0434\u043B\u044F \u043F\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0436\u0435\u043D\u043D\u044F \u0434\u0435\u0442\u0430\u043B\u0435\u0439. "),C(),I(11,"button",48),B("click",function(){Q(n);let i=J();return Y(i.closeConfirmation())}),P(12,"\u0417\u0430\u043A\u0440\u0438\u0442\u0438"),C()()()}}var eR=(()=>{let e=class e{formatTelegramMessage(r){let o={"pay-now":"\u041E\u043F\u043B\u0430\u0442\u0438\u0442\u0438 \u0437\u0440\u0430\u0437\u0443","bank-transfer":"\u0411\u0435\u0437\u0433\u043E\u0442\u0456\u0432\u043A\u043E\u0432\u0438\u0439 \u0440\u0430\u0445\u0443\u043D\u043E\u043A"}[r.payment]||r.payment,s=`<b>\u0412\u0430\u0448\u0435 \u0437\u0430\u043C\u043E\u0432\u043B\u0435\u043D\u043D\u044F:</b>
`;return s+=`\u{1F4B0} <b>\u0417\u0430\u0433\u0430\u043B\u044C\u043D\u0430 \u0441\u0443\u043C\u0430:</b> ${r.totalAmount} ${this.currency}
`,s+=`\u{1F464} <b>\u041E\u0442\u0440\u0438\u043C\u0443\u0432\u0430\u0447:</b> ${r.recipientName}
`,s+=`\u{1F4DE} <b>\u0422\u0435\u043B\u0435\u0444\u043E\u043D:</b> ${r.phone}
`,s+=`\u{1F4E6} <b>\u0414\u043E\u0441\u0442\u0430\u0432\u043A\u0430:</b> ${r.delivery}
`,s+=`\u{1F4B3} <b>\u041E\u043F\u043B\u0430\u0442\u0430:</b> ${o}
`,s+=`<b>\u0422\u043E\u0432\u0430\u0440\u0438:</b>
`,r.items.forEach((a,u)=>{s+=`${u+1}. ${a.product.name} - ${a.quantity} \u0448\u0442. - ${a.product.price*a.quantity} ${this.currency}
`}),s+=`
\u{1F64F} <b>\u0414\u044F\u043A\u0443\u0454\u043C\u043E \u0437\u0430 \u0432\u0430\u0448\u0435 \u0437\u0430\u043C\u043E\u0432\u043B\u0435\u043D\u043D\u044F!</b>
`,s+="\u{1F4DE} \u041E\u0447\u0456\u043A\u0443\u0439\u0442\u0435 \u0434\u0437\u0432\u0456\u043D\u043A\u0430 \u0432\u0456\u0434 \u043D\u0430\u0448\u043E\u0433\u043E \u043A\u043E\u043D\u0441\u0443\u043B\u044C\u0442\u0430\u043D\u0442\u0430 \u0434\u043B\u044F \u043F\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0436\u0435\u043D\u043D\u044F \u0434\u0435\u0442\u0430\u043B\u0435\u0439.",s}constructor(r,i,o,s,a){this.router=r,this.cartService=i,this.novaposhtaService=o,this.telegramService=s,this.firestore=a,this.cartItems=[],this.totalAmount=0,this.currency="\u20B4",this.showConfirmation=!1,this.order={recipientName:"",phone:"",region:"",city:"",delivery:"",payment:""},this.regions=[],this.cities=[],this.warehouses=[],this.filteredRegions=[],this.filteredCities=[],this.showErrorMessages=!0}ngOnInit(){this.cartService.getCartItems().subscribe(r=>{this.cartItems=r,this.updateTotalAmount()}),this.loadRegions()}confirmOrder(){this.showConfirmation=!0}loadRegions(){this.novaposhtaService.getRegions().subscribe({next:r=>{this.regions=r.data||[],this.filteredRegions=[...this.regions]},error:r=>console.error("\u041F\u043E\u043C\u0438\u043B\u043A\u0430 \u0437\u0430\u0432\u0430\u043D\u0442\u0430\u0436\u0435\u043D\u043D\u044F \u0440\u0435\u0433\u0456\u043E\u043D\u0456\u0432:",r)})}onRegionChange(r){r&&(this.order.region=r,this.cities=[],this.warehouses=[],this.novaposhtaService.getCities(r).subscribe({next:i=>{this.cities=i.data||[],this.filteredCities=[...this.cities]},error:i=>console.error("\u041F\u043E\u043C\u0438\u043B\u043A\u0430 \u0437\u0430\u0432\u0430\u043D\u0442\u0430\u0436\u0435\u043D\u043D\u044F \u043C\u0456\u0441\u0442:",i)}))}loadCities(){this.novaposhtaService.getCities("").subscribe(r=>{this.cities=r.data})}onCityChange(r){let o=r.target?.value;o&&(this.order.city=o,this.warehouses=[],this.novaposhtaService.getWarehouses(o).subscribe({next:s=>{this.warehouses=s.data.map(a=>({Ref:a.Ref,Description:a.Description}))||[]},error:s=>console.error("\u041F\u043E\u043C\u0438\u043B\u043A\u0430 \u0437\u0430\u0432\u0430\u043D\u0442\u0430\u0436\u0435\u043D\u043D\u044F \u0432\u0456\u0434\u0434\u0456\u043B\u0435\u043D\u044C:",s)}))}filterRegions(r){this.filteredRegions=this.regions.filter(i=>i.Description.toLowerCase().includes(r.toLowerCase()))}filterCities(r){this.filteredCities=this.cities.filter(i=>i.Description.toLowerCase().includes(r.toLowerCase()))}updateTotalAmount(){this.cartService.getTotalAmount().subscribe(r=>this.totalAmount=r)}increaseQuantity(r){this.cartService.increaseQuantity(r),this.updateCart()}decreaseQuantity(r){this.cartService.decreaseQuantity(r),this.updateCart()}removeFromCart(r){this.cartService.removeFromCart(r),this.updateCart()}checkout(){this.cartService.checkout().subscribe(()=>{this.cartItems=[],this.totalAmount=0},r=>{console.error("Checkout error",r)})}submitOrder(){return w(this,null,function*(){if(this.validateOrder()){let r=ye(j({},this.order),{region:this.regions.find(i=>i.Ref===this.order.region)?.Description||"",city:this.cities.find(i=>i.Ref===this.order.city)?.Description||"",delivery:this.warehouses.find(i=>i.Ref===this.order.delivery)?.Description||"",items:this.cartItems,totalAmount:this.totalAmount,createdAt:rt.now()});try{let i=yield this.getChatIdByPhone(this.order.phone),o=this.formatTelegramMessage(r);i?yield this.telegramService.sendMessageToChat(i,o):yield this.telegramService.sendMessageToAdmin(o),yield this.cartService.submitOrder(r),this.showConfirmation=!0,this.showErrorMessages=!1,this.clearOrderData()}catch(i){console.error("Error submitting order:",i),alert("\u041D\u0435 \u0432\u0434\u0430\u043B\u043E\u0441\u044F \u043E\u0444\u043E\u0440\u043C\u0438\u0442\u0438 \u0437\u0430\u043C\u043E\u0432\u043B\u0435\u043D\u043D\u044F. \u0421\u043F\u0440\u043E\u0431\u0443\u0439\u0442\u0435 \u043F\u0456\u0437\u043D\u0456\u0448\u0435.")}}})}getChatIdByPhone(r){let i=yr(this.firestore,"users"),o=Zx(i,eP("phone","==",r));return Yx(o).then(s=>s.empty?null:s.docs[0].data().chatId||null)}clearOrderData(){this.cartItems=[],this.totalAmount=0,this.order={recipientName:"",phone:"",region:"",city:"",delivery:"",payment:""},setTimeout(()=>{this.showErrorMessages=!0},0)}closeConfirmation(){this.showConfirmation=!1,this.router.navigate(["/"])}formatPhone(r){let i=r.replace(/[^\d]/g,"");return i.length===12?`+${i}`:i}onPhoneInput(r){let i=r.target,o=i.value,s=o.replace(/[^\d]/g,"");s.length>12&&(o=s.slice(0,12)),i.value=this.formatPhone(o),this.order.phone=i.value}validatePhone(){let r=/^\+\d{12}$/;return this.order.phone.replace(/[^\d]/g,"").length!==12?"\u041D\u0435\u043A\u043E\u0440\u0435\u043A\u0442\u043D\u0438\u0439 \u0444\u043E\u0440\u043C\u0430\u0442 \u0442\u0435\u043B\u0435\u0444\u043E\u043D\u0443. \u0412\u0432\u0435\u0434\u0456\u0442\u044C 12 \u0446\u0438\u0444\u0440.":r.test(this.order.phone)?null:"\u041D\u0435\u043A\u043E\u0440\u0435\u043A\u0442\u043D\u0438\u0439 \u0444\u043E\u0440\u043C\u0430\u0442 \u0442\u0435\u043B\u0435\u0444\u043E\u043D\u0443. \u0412\u0438\u043A\u043E\u0440\u0438\u0441\u0442\u043E\u0432\u0443\u0439\u0442\u0435 \u0444\u043E\u0440\u043C\u0430\u0442: +380000000000."}validateRecipientName(r){let i=r.target;/^[a-zA-Z--\s]*$/.test(i.value)||(i.value=i.value.replace(/[^a-zA-Z--\s]/g,""))}updateCart(){this.cartService.getCartItems().subscribe(r=>{this.cartItems=r,this.calculateTotal()})}calculateTotal(){this.totalAmount=this.cartItems.reduce((r,i)=>r+i.product.price*i.quantity,0)}validateOrder(){return!this.order.region||!this.order.city||!this.order.delivery?(alert("\u0411\u0443\u0434\u044C \u043B\u0430\u0441\u043A\u0430, \u0437\u0430\u043F\u043E\u0432\u043D\u0456\u0442\u044C \u0432\u0441\u0456 \u043F\u043E\u043B\u044F!"),!1):!0}};e.\u0275fac=function(i){return new(i||e)($(lt),$(Ea),$(ZP),$(XP),$(fn))},e.\u0275cmp=Ze({type:e,selectors:[["app-cart"]],standalone:!0,features:[Xe],decls:52,vars:16,consts:[["orderForm","ngForm"],["recipientName","ngModel"],["phone","ngModel"],["payment","ngModel"],[1,"container"],["class","cart-item d-flex align-items-center justify-content-between border rounded mb-3 p-3",4,"ngFor","ngForOf"],[1,"total-container"],[1,"text-center","mt-4"],[1,"font-weight-bold"],[1,"mt-4",3,"ngSubmit"],[1,"form-group"],["for","recipientName"],["type","text","id","recipientName","name","recipientName","required","","placeholder","\u041F\u0440\u0456\u0437\u0432\u0438\u0449\u0435 \u0406\u043C'\u044F \u041F\u043E\u0431\u0430\u0442\u044C\u043A\u043E\u0432\u0456",1,"form-control",3,"ngModelChange","input","ngModel"],["class","text-danger",4,"ngIf"],["for","phone"],["type","tel","id","phone","name","phone","required","","placeholder","+380000000000",1,"form-control",3,"ngModelChange","input","ngModel"],["for","region"],["id","region","name","region",1,"form-control",3,"ngModelChange","change","ngModel"],[3,"value",4,"ngFor","ngForOf"],["for","city"],["id","city","name","city",1,"form-control",3,"ngModelChange","change","ngModel"],["for","warehouse"],["id","warehouse","name","warehouse",1,"form-control",3,"ngModelChange","ngModel"],["for","payment"],["id","payment","name","payment","required","",1,"form-control",3,"ngModelChange","ngModel"],["value","","disabled","","selected",""],["value","pay-now"],["value","invoice"],["type","submit",1,"btn","btn-success","btn-block",3,"disabled"],["class","confirmation-overlay",3,"click",4,"ngIf"],[1,"cart-item","d-flex","align-items-center","justify-content-between","border","rounded","mb-3","p-3"],[1,"cart-item-image",3,"src","alt"],[1,"cart-item-name","font-weight-bold"],[1,"cart-item-price"],[1,"quantity-control","d-flex","align-items-center"],[1,"btn","btn-outline-primary","btn-sm",3,"click"],[1,"mx-2"],[1,"total-row"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"text-danger"],[3,"value"],[1,"confirmation-overlay",3,"click"],[1,"confirmation-content",3,"click"],[1,"confirmation-header"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"confirmation-icon"],["d","M20 6L9 17l-5-5"],[1,"confirmation-title"],[1,"confirmation-text"],[1,"confirmation-button",3,"click"]],template:function(i,o){if(i&1){let s=ct();I(0,"div",4)(1,"div",4),Oe(2,Rz,18,8,"div",5),C(),I(3,"div",6)(4,"h3"),P(5),C()(),I(6,"div",7)(7,"h2",8),P(8,"\u0417\u0430\u043C\u043E\u0432\u043B\u0435\u043D\u043D\u044F"),C(),I(9,"form",9,0),B("ngSubmit",function(){return Q(s),Y(o.submitOrder())}),I(11,"div",10)(12,"label",11),P(13,"\u041E\u0442\u0440\u0438\u043C\u0443\u0432\u0430\u0447:"),C(),I(14,"input",12,1),Ae("ngModelChange",function(u){return Q(s),Pe(o.order.recipientName,u)||(o.order.recipientName=u),Y(u)}),B("input",function(u){return Q(s),Y(o.validateRecipientName(u))}),C(),Oe(16,Nz,2,0,"small",13),C(),I(17,"div",10)(18,"label",14),P(19,"\u041C\u043E\u0431\u0456\u043B\u044C\u043D\u0438\u0439 \u0442\u0435\u043B\u0435\u0444\u043E\u043D:"),C(),I(20,"input",15,2),Ae("ngModelChange",function(u){return Q(s),Pe(o.order.phone,u)||(o.order.phone=u),Y(u)}),B("input",function(u){return Q(s),Y(o.onPhoneInput(u))}),C(),Oe(22,Oz,2,1,"small",13),C(),I(23,"div",10)(24,"label",16),P(25,"\u041E\u0431\u0435\u0440\u0456\u0442\u044C \u0440\u0435\u0433\u0456\u043E\u043D:"),C(),I(26,"select",17),Ae("ngModelChange",function(u){return Q(s),Pe(o.order.region,u)||(o.order.region=u),Y(u)}),B("change",function(){return Q(s),Y(o.onRegionChange(o.order.region))}),Oe(27,kz,2,2,"option",18),C()(),I(28,"div",10)(29,"label",19),P(30,"\u041E\u0431\u0435\u0440\u0456\u0442\u044C \u043C\u0456\u0441\u0442\u043E:"),C(),I(31,"select",20),Ae("ngModelChange",function(u){return Q(s),Pe(o.order.city,u)||(o.order.city=u),Y(u)}),B("change",function(u){return Q(s),Y(o.onCityChange(u))}),Oe(32,Fz,2,2,"option",18),C()(),I(33,"div",10)(34,"label",21),P(35,"\u041E\u0431\u0435\u0440\u0456\u0442\u044C \u0432\u0456\u0434\u0434\u0456\u043B\u0435\u043D\u043D\u044F:"),C(),I(36,"select",22),Ae("ngModelChange",function(u){return Q(s),Pe(o.order.delivery,u)||(o.order.delivery=u),Y(u)}),Oe(37,Vz,2,2,"option",18),C()(),I(38,"div",10)(39,"label",23),P(40,"\u041E\u043F\u043B\u0430\u0442\u0430:"),C(),I(41,"select",24,3),Ae("ngModelChange",function(u){return Q(s),Pe(o.order.payment,u)||(o.order.payment=u),Y(u)}),I(43,"option",25),P(44,"\u041E\u0431\u0435\u0440\u0456\u0442\u044C \u0441\u043F\u043E\u0441\u0456\u0431 \u043E\u043F\u043B\u0430\u0442\u0438"),C(),I(45,"option",26),P(46,"\u041E\u043F\u043B\u0430\u0442\u0438\u0442\u0438 \u0437\u0430\u0440\u0430\u0437"),C(),I(47,"option",27),P(48,"\u0411\u0435\u0437\u0433\u043E\u0442\u0456\u0432\u043A\u043E\u0432\u0438\u0439 \u0440\u0430\u0445\u0443\u043D\u043E\u043A"),C()()(),I(49,"button",28),P(50," \u041E\u0444\u043E\u0440\u043C\u0438\u0442\u0438 \u043F\u043E\u043A\u0443\u043F\u043A\u0443 "),C()()(),Oe(51,Lz,13,0,"div",29),C()}if(i&2){let s=pc(10),a=pc(15),u=pc(21);O(2),ne("ngForOf",o.cartItems),O(3),tr("\u0417\u0430\u0433\u0430\u043B\u044C\u043D\u0430 \u0441\u0443\u043C\u0430 \u0442\u043E\u0432\u0430\u0440\u0456\u0432: ",o.totalAmount," ",o.currency,""),O(9),Se("ngModel",o.order.recipientName),O(2),ne("ngIf",a.invalid&&a.touched&&o.showErrorMessages),O(4),Se("ngModel",o.order.phone),O(2),ne("ngIf",u.errors==null?null:u.errors.customError),O(4),Se("ngModel",o.order.region),O(),ne("ngForOf",o.filteredRegions),O(4),Se("ngModel",o.order.city),O(),ne("ngForOf",o.filteredCities),O(4),Se("ngModel",o.order.delivery),O(),ne("ngForOf",o.warehouses),O(4),Se("ngModel",o.order.payment),O(8),ne("disabled",!s.valid),O(2),ne("ngIf",o.showConfirmation)}},dependencies:[St,Di,nr,_r,Ma,tp,np,In,xa,vr,Aa,Go,$n,qo],styles:[".form-control[_ngcontent-%COMP%]{border-radius:.25rem;border:1px solid #ced4da}label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:.5rem;display:block}select[_ngcontent-%COMP%]:invalid{color:gray}select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]:first-child{display:none}.btn-success[_ngcontent-%COMP%]:hover{background-color:#218838}#city[_ngcontent-%COMP%], #warehouse[_ngcontent-%COMP%]{text-transform:capitalize}.total-container[_ngcontent-%COMP%]{margin-top:1rem;padding:1rem;border-top:2px solid #ccc;font-size:1.5rem;text-align:right}@media (max-width: 768px){.total-container[_ngcontent-%COMP%]{font-size:1.2rem;text-align:center}}.total-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;width:100%}.total-row[_ngcontent-%COMP%]   .font-weight-bold[_ngcontent-%COMP%]{margin:0;text-align:left;flex:1}.cart-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;background-color:#f9f9f9;margin-bottom:1rem;padding:1rem;border:1px solid #ccc}.cart-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px;object-fit:cover}.cart-item[_ngcontent-%COMP%]   .btn-danger[_ngcontent-%COMP%]{margin-left:auto}.cart-item-image[_ngcontent-%COMP%]{width:60px;height:60px;object-fit:cover;margin-right:15px}.cart-item-name[_ngcontent-%COMP%]{font-size:1rem;flex:1;margin:0 15px}.quantity-control[_ngcontent-%COMP%]{display:flex;align-items:center;margin-right:15px}.font-weight-bold[_ngcontent-%COMP%]{margin-right:15px}.btn-danger[_ngcontent-%COMP%]{margin-left:15px}@media (max-width: 768px){.cart-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.cart-item-image[_ngcontent-%COMP%]{margin-bottom:10px}.cart-item-name[_ngcontent-%COMP%], .font-weight-bold[_ngcontent-%COMP%], .quantity-control[_ngcontent-%COMP%]{margin:10px 0}.btn-danger[_ngcontent-%COMP%]{margin-top:10px}}.cart-item-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.cart-item-details[_ngcontent-%COMP%]   .font-weight-bold[_ngcontent-%COMP%]{margin-top:10px}.cart-item[_ngcontent-%COMP%]{background-color:#f9f9f9}#btn[_ngcontent-%COMP%]{width:90px}#img[_ngcontent-%COMP%]{margin:15px}#total[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px}.cart-item-image[_ngcontent-%COMP%]{width:80px;height:80px;object-fit:cover}.cart-item-name[_ngcontent-%COMP%]{font-size:1.2rem}.cart-item-price[_ngcontent-%COMP%]{font-size:1rem;color:#333}.quantity-control[_ngcontent-%COMP%]{margin-top:.5rem}.quantity-control[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:30px;height:30px}.btn-danger[_ngcontent-%COMP%]{background-color:#dc3545;border-color:#dc3545}.btn-danger[_ngcontent-%COMP%]:hover{background-color:#c82333;border-color:#bd2130}.confirmation-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#0009;display:flex;justify-content:center;align-items:center;z-index:1000}.confirmation-content[_ngcontent-%COMP%]{background-color:#fff;padding:2.5rem;border-radius:15px;box-shadow:0 8px 16px #0003;text-align:center;animation:_ngcontent-%COMP%_slideIn .4s ease-in-out;max-width:400px;width:90%}.confirmation-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-bottom:1.5rem}.confirmation-icon[_ngcontent-%COMP%]{width:3rem;height:3rem;color:#28a745;margin-bottom:.5rem}.confirmation-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#333;margin:0}.confirmation-text[_ngcontent-%COMP%]{font-size:1.1rem;margin-bottom:1rem;color:#555;line-height:1.5}.confirmation-button[_ngcontent-%COMP%]{padding:.8rem 1.5rem;background-color:#28a745;color:#fff;font-size:1rem;border:none;border-radius:30px;cursor:pointer;transition:background-color .3s ease}.confirmation-button[_ngcontent-%COMP%]:hover{background-color:#218838}.confirmation-button[_ngcontent-%COMP%]:active{background-color:#1e7e34}@keyframes _ngcontent-%COMP%_slideIn{0%{transform:translateY(-20px);opacity:0}to{transform:translateY(0);opacity:1}}[_ngcontent-%COMP%]:root{--background-light: #ffffff;--background-dark: #2c2c2c;--text-light: #333333;--text-dark: #f5f5f5;--button-bg-light: #28a745;--button-bg-dark: #1e7e34;--button-hover-light: #218838;--button-hover-dark: #16692b;--overlay-light: rgba(0, 0, 0, .6);--overlay-dark: rgba(255, 255, 255, .3)}@media (prefers-color-scheme: dark){[_ngcontent-%COMP%]:root{--background-light: #2c2c2c;--background-dark: #1c1c1c;--text-light: #f5f5f5;--text-dark: #d1d1d1;--button-bg-light: #1e7e34;--button-bg-dark: #145322;--button-hover-light: #16692b;--button-hover-dark: #0e4a1b;--overlay-light: rgba(255, 255, 255, .3);--overlay-dark: rgba(0, 0, 0, .8)}}.confirmation-overlay[_ngcontent-%COMP%]{background-color:var(--overlay-light)}.confirmation-content[_ngcontent-%COMP%]{background-color:var(--background-light);color:var(--text-light)}.confirmation-title[_ngcontent-%COMP%], .confirmation-text[_ngcontent-%COMP%]{color:var(--text-light)}.confirmation-button[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-light)}.confirmation-button[_ngcontent-%COMP%]:active{background-color:var(--button-bg-dark)}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.form-control[_ngcontent-%COMP%]{border-radius:.25rem;border-color:#ced4da}.btn-success[_ngcontent-%COMP%]{background-color:#28a745;border-color:#28a745}.btn-success[_ngcontent-%COMP%]:hover{background-color:#218838;border-color:#1e7e34}.confirmation-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.confirmation-content[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:8px;text-align:center}.confirmation-text[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:20px}.container[_ngcontent-%COMP%]{padding:1rem}.cart-item[_ngcontent-%COMP%]{margin-bottom:1rem}.btn[_ngcontent-%COMP%]{width:auto}@media (max-width: 768px){.cart-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.cart-item-image[_ngcontent-%COMP%]{width:100px;height:100px}.cart-item-name[_ngcontent-%COMP%]{font-size:1rem}.cart-item-price[_ngcontent-%COMP%]{font-size:.9rem}.quantity-control[_ngcontent-%COMP%]{margin-top:1rem;flex-direction:column}.quantity-control[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:40px;height:40px}.btn-danger[_ngcontent-%COMP%], .btn-success[_ngcontent-%COMP%]{width:100%}#btn[_ngcontent-%COMP%]{width:100%;margin-top:.5rem}#img[_ngcontent-%COMP%], #total[_ngcontent-%COMP%]{margin:10px 0}.confirmation-content[_ngcontent-%COMP%]{width:90%;max-width:400px;padding:1rem}}@media (min-width: 769px) and (max-width: 1024px){.cart-item[_ngcontent-%COMP%]{flex-direction:row}.cart-item-image[_ngcontent-%COMP%]{width:100px;height:100px}.cart-item-name[_ngcontent-%COMP%]{font-size:1.1rem}.cart-item-price[_ngcontent-%COMP%]{font-size:.95rem}.quantity-control[_ngcontent-%COMP%]{margin-top:.5rem;flex-direction:row}.quantity-control[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:35px;height:35px}}"]});let t=e;return t})();var jz=t=>({"dark-mode":t});function Uz(t,e){if(t&1&&se(0,"img",25),t&2){let n=J(2);ne("src",n.selectedImage,Pn)}}function Bz(t,e){if(t&1){let n=ct();I(0,"img",26),B("click",function(){let i=Q(n).index,o=J(2);return Y(o.selectImageByIndex(i))}),C()}if(t&2){let n=e.$implicit,r=e.index,i=J(2);sn("active",r===i.currentImageIndex),ne("src",n,Pn)}}function $z(t,e){if(t&1&&(I(0,"tr")(1,"td",27),P(2),C(),I(3,"td",28),P(4),C()()),t&2){let n=e.$implicit;O(2),Le(n.key),O(2),Le(n.value)}}function Hz(t,e){if(t&1&&(I(0,"div",29)(1,"p",30),P(2),C(),I(3,"small",31),P(4),ND(5,"date"),C()()),t&2){let n=e.$implicit;O(2),Le(n.text),O(2),Le(OD(5,2,n.timestamp,"dd.MM.yyyy HH:mm"))}}function zz(t,e){if(t&1){let n=ct();I(0,"div",32),B("click",function(){Q(n);let i=J(2);return Y(i.closeModal())}),I(1,"div",33),B("click",function(i){return Q(n),Y(i.stopPropagation())}),I(2,"div",34)(3,"h4",35),P(4,"\u041A\u043E\u0448\u0438\u043A"),C(),I(5,"button",36),B("click",function(){Q(n);let i=J(2);return Y(i.closeModal())}),P(6,"\xD7"),C()(),I(7,"div",37)(8,"div",38),se(9,"img",39),I(10,"div",40)(11,"h5"),P(12),C(),I(13,"p",41),P(14),C(),I(15,"div",42)(16,"button",43),B("click",function(){Q(n);let i=J(2);return Y(i.decreaseQuantity())}),P(17,"-"),C(),I(18,"span",44),P(19),C(),I(20,"button",43),B("click",function(){Q(n);let i=J(2);return Y(i.increaseQuantity())}),P(21,"+"),C()()()()(),I(22,"div",45)(23,"button",46),B("click",function(){Q(n);let i=J(2);return Y(i.addToCart())}),P(24,"\u041E\u0444\u043E\u0440\u043C\u0438\u0442\u0438 \u0437\u0430\u043C\u043E\u0432\u043B\u0435\u043D\u043D\u044F"),C()()()()}if(t&2){let n=J(2);O(),ne("ngClass",xs(7,jz,n.isDarkMode)),O(8),Or("alt",n.product.name),ne("src",n.product.imageUrl,Pn),O(3),Le(n.product.name),O(2),tr("\u0417\u0430\u0433\u0430\u043B\u044C\u043D\u0430 \u0441\u0443\u043C\u0430: ",n.totalPrice," ",n.currency,""),O(5),Le(n.quantity)}}function qz(t,e){if(t&1){let n=ct();I(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"button",5),B("click",function(){Q(n);let i=J();return Y(i.previousImage())}),P(5,"<"),C(),Oe(6,Uz,1,1,"img",6),I(7,"button",7),B("click",function(){Q(n);let i=J();return Y(i.nextImage())}),P(8,">"),C(),I(9,"div",8),Oe(10,Bz,1,3,"img",9),C()()(),I(11,"div",3)(12,"h3",10),P(13),C(),I(14,"p",11),P(15,"\u0404 \u0432 \u043D\u0430\u044F\u0432\u043D\u043E\u0441\u0442\u0456"),C(),I(16,"p",12),P(17),C(),I(18,"button",13),B("click",function(){Q(n);let i=J();return Y(i.openModal())}),P(19,"\u041A\u0443\u043F\u0438\u0442\u0438"),C(),I(20,"button",14),B("click",function(){Q(n);let i=J();return Y(i.goBack())}),P(21,"\u041D\u0430\u0437\u0430\u0434"),C(),I(22,"h4",15),P(23,"\u041E\u043F\u0438\u0441 \u0442\u043E\u0432\u0430\u0440\u0443"),C(),I(24,"p",16),P(25),C(),I(26,"div",17)(27,"h4"),P(28,"\u041F\u043E\u0432\u043D\u0430 \u0445\u0430\u0440\u0430\u043A\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043A\u0430:"),C(),I(29,"table",18),Oe(30,$z,5,2,"tr",19),C()(),I(31,"h4",20),P(32,"\u041A\u043E\u043C\u0435\u043D\u0442\u0430\u0440\u0456:"),C(),Oe(33,Hz,6,5,"div",21),I(34,"textarea",22),Ae("ngModelChange",function(i){Q(n);let o=J();return Pe(o.newComment,i)||(o.newComment=i),Y(i)}),C(),I(35,"button",23),B("click",function(){Q(n);let i=J();return Y(i.addComment())}),P(36,"\u0414\u043E\u0434\u0430\u0442\u0438 \u043A\u043E\u043C\u0435\u043D\u0442\u0430\u0440"),C()()(),Oe(37,zz,25,9,"div",24),C()}if(t&2){let n=J();O(6),ne("ngIf",n.selectedImage),O(4),ne("ngForOf",n.getImageUrls()),O(3),Le(n.product.name),O(4),tr("",n.product.price," ",n.currency,""),O(8),Le(n.product.description),O(5),ne("ngForOf",n.parseFullDescription(n.product==null?null:n.product.fullDescription)),O(3),ne("ngForOf",n.comments),O(),Se("ngModel",n.newComment),O(3),ne("ngIf",n.showModal)}}var tR=(()=>{let e=class e{constructor(r,i,o,s){this.route=r,this.productService=i,this.cartService=o,this.router=s,this.comments=[],this.selectedImage=null,this.newComment="",this.currency="\u20B4",this.showModal=!1,this.quantity=1,this.isDarkMode=!1,this.currentImageIndex=0}ngOnInit(){let r=this.route.snapshot.paramMap.get("id");r&&this.productService.getProductById(r).subscribe(i=>{this.product=i,this.selectedImage=i.imageUrl,this.currentImageIndex=0,this.loadComments()})}selectImageByIndex(r){let i=this.getImageUrls();r>=0&&r<i.length&&(this.currentImageIndex=r,this.selectedImage=i[r])}previousImage(){let r=this.getImageUrls();this.currentImageIndex>0&&this.selectImageByIndex(this.currentImageIndex-1)}nextImage(){let r=this.getImageUrls();this.currentImageIndex<r.length-1&&this.selectImageByIndex(this.currentImageIndex+1)}selectImage(r){r&&(this.selectedImage=r)}getImageUrls(){if(!this.product)return[];let r=this.product.imageUrl?[this.product.imageUrl]:[],i=this.product.additionalImageUrls||[];return[...r,...i]}get totalPrice(){return this.product?this.product.price*this.quantity:0}openModal(){this.showModal=!0,this.isDarkMode&&document.querySelector(".modal-content")?.classList.add("dark-mode")}closeModal(){this.showModal=!1}addToCart(){this.product&&(this.cartService.addToCart(this.product,this.quantity),this.closeModal(),this.router.navigate(["/cart"]))}increaseQuantity(){this.quantity++}decreaseQuantity(){this.quantity>1&&this.quantity--}goBack(){this.router.navigate(["/"])}addComment(){if(this.newComment.trim()&&this.product&&this.product.id){let r=["\u043A\u043E\u043A\u043E\u0441","\u0431\u0430\u043D\u0430\u043D","\u043F\u043E\u0433\u0430\u043D\u0438\u0439","@"],i=this.newComment.replace(new RegExp(`(${r.map(o=>o.replace(/[.*+?^${}()|[\\]\\]/g,"\\$&")).join("|")})`,"gi"),o=>"*".repeat(o.length));this.productService.addComment(this.product.id,i).then(()=>{this.comments.push({text:i,timestamp:new Date().toISOString()}),this.newComment=""})}}loadComments(){this.product&&this.product.id&&this.productService.getComments(this.product.id).subscribe(r=>{this.comments=r.sort((i,o)=>new Date(o.timestamp).getTime()-new Date(i.timestamp).getTime())})}parseFullDescription(r){return r?r.split(`
`).map(o=>{let[s,a]=o.split("-").map(u=>u.trim());return s&&a?{key:s,value:a}:null}).filter(o=>o!==null):[]}};e.\u0275fac=function(i){return new(i||e)($(ir),$(Pa),$(Ea),$(lt))},e.\u0275cmp=Ze({type:e,selectors:[["app-product"]],standalone:!0,features:[Xe],decls:1,vars:1,consts:[["class","product-container container",4,"ngIf"],[1,"product-container","container"],[1,"row"],[1,"col-md-6"],[1,"product-gallery"],[1,"gallery-button","prev-button",3,"click"],["alt","\u0417\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u043D\u044F \u043F\u0440\u043E\u0434\u0443\u043A\u0442\u0443","class","product-main-image",3,"src",4,"ngIf"],[1,"gallery-button","next-button",3,"click"],[1,"product-thumbnails"],["alt","\u041C\u0456\u043D\u0456\u0430\u0442\u044E\u0440\u0430","class","product-thumbnail",3,"src","active","click",4,"ngFor","ngForOf"],[1,"product-name"],[1,"product-stock"],[1,"product-price"],[1,"btn","btn-success","buy-button",3,"click"],[1,"btn","btn-secondary","back-button",3,"click"],[1,"product-description-title"],[1,"product-description"],[1,"product-details"],[1,"full-description-table"],[4,"ngFor","ngForOf"],[1,"comments-title"],["class","comment",4,"ngFor","ngForOf"],["placeholder","\u041D\u0430\u043F\u0438\u0448\u0456\u0442\u044C \u0432\u0430\u0448 \u043A\u043E\u043C\u0435\u043D\u0442\u0430\u0440...",1,"form-control","comment-textarea",3,"ngModelChange","ngModel"],[1,"btn","btn-success","add-comment-button",3,"click"],["class","modal-overlay",3,"click",4,"ngIf"],["alt","\u0417\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u043D\u044F \u043F\u0440\u043E\u0434\u0443\u043A\u0442\u0443",1,"product-main-image",3,"src"],["alt","\u041C\u0456\u043D\u0456\u0430\u0442\u044E\u0440\u0430",1,"product-thumbnail",3,"click","src"],[1,"table-label"],[1,"table-value"],[1,"comment"],[1,"comment-text"],[1,"comment-timestamp"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click","ngClass"],[1,"modal-header"],[1,"modal-title"],[1,"close-button",3,"click"],[1,"modal-body"],[1,"modal-product-info"],[1,"modal-product-image",3,"src","alt"],[1,"modal-product-details"],[1,"modal-product-total"],[1,"quantity-control"],[1,"quantity-button",3,"click"],[1,"quantity"],[1,"modal-footer"],[1,"btn","btn-success",3,"click"]],template:function(i,o){i&1&&Oe(0,qz,38,10,"div",0),i&2&&ne("ngIf",o.product)},dependencies:[St,Wd,Di,nr,rT,_r,In,vr,$n],styles:[".comment[_ngcontent-%COMP%]{margin-bottom:10px;padding:5px;border-bottom:1px solid #ddd}.comment-text[_ngcontent-%COMP%]{font-size:13px;line-height:1.4;margin:0;color:#333}.comment-timestamp[_ngcontent-%COMP%]{font-size:10px;color:#777;display:block;margin-top:2px;text-align:right;font-style:italic}.product-container[_ngcontent-%COMP%]{margin-top:20px}.product-name[_ngcontent-%COMP%]{font-weight:700;font-size:1.5rem;margin-bottom:10px}.product-stock[_ngcontent-%COMP%]{color:#28a745;font-size:.9rem;margin-bottom:15px}.product-price[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:20px}.buy-button[_ngcontent-%COMP%], .back-button[_ngcontent-%COMP%], .add-comment-button[_ngcontent-%COMP%]{margin-right:10px;transition:background-color .3s,transform .2s}.buy-button[_ngcontent-%COMP%]:hover{background-color:#218838;transform:scale(1.05)}.back-button[_ngcontent-%COMP%]:hover{background-color:#6c757d;transform:scale(1.05)}.product-description-title[_ngcontent-%COMP%], .comments-title[_ngcontent-%COMP%]{text-align:center;margin-top:20px}.product-description[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}.comment[_ngcontent-%COMP%]{border-bottom:1px solid #dee2e6;padding-bottom:10px;margin-bottom:10px}.comment-textarea[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:10px}.add-comment-button[_ngcontent-%COMP%]{margin-top:10px;transition:background-color .3s,transform .2s}.add-comment-button[_ngcontent-%COMP%]:hover{background-color:#218838;transform:scale(1.05)}.align-items-start[_ngcontent-%COMP%]{align-items:flex-start}.product-image[_ngcontent-%COMP%]{max-width:100%;border-radius:8px}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;align-items:center;justify-content:center;animation:_ngcontent-%COMP%_fadeInScale .3s ease-in-out}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:8px;width:80%;max-width:500px;padding:20px;position:relative;animation:_ngcontent-%COMP%_fadeInScale .3s ease-in-out}.modal-overlay.hidden[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeOutScale .3s ease-in-out}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;background-color:#007bff;padding:10px;border-top-left-radius:8px;border-top-right-radius:8px;color:#fff}.modal-title[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700}.close-button[_ngcontent-%COMP%]{font-size:1.5rem;background:none;color:#fff;border:none;cursor:pointer;transition:transform .3s ease}.close-button[_ngcontent-%COMP%]:hover{transform:scale(1.2)}.modal-body[_ngcontent-%COMP%]{padding:15px;border-bottom:1px solid #ddd}.modal-product-info[_ngcontent-%COMP%]{display:flex;align-items:center}.modal-product-image[_ngcontent-%COMP%]{width:80px;height:80px;object-fit:cover;margin-right:15px}.modal-product-details[_ngcontent-%COMP%]{flex:1}.modal-product-price[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700}.quantity-control[_ngcontent-%COMP%]{display:flex;align-items:center;margin-top:10px}.quantity-button[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;font-size:1rem;border:none;padding:5px 10px;margin:0 5px;border-radius:5px;transition:background-color .3s ease,transform .3s ease;cursor:pointer}.quantity[_ngcontent-%COMP%]{font-size:1rem;color:#333;font-weight:700}.quantity-button[_ngcontent-%COMP%]:hover{background-color:#0056b3;transform:scale(1.1)}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:15px;background-color:#f8f9fa;border-bottom-left-radius:8px;border-bottom-right-radius:8px}.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:10px}.modal-product-details[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700;margin-bottom:5px}.modal-product-total[_ngcontent-%COMP%]{font-size:1rem;color:#555}.btn-success[_ngcontent-%COMP%]{background-color:#28a745;color:#fff;padding:10px 20px;font-size:1rem;border-radius:5px;transition:background-color .3s ease,transform .3s ease}.btn-success[_ngcontent-%COMP%]:hover{background-color:#218838;transform:scale(1.05)}@keyframes _ngcontent-%COMP%_fadeInScale{0%{opacity:0;transform:scale(.9)}to{opacity:1;transform:scale(1)}}@keyframes _ngcontent-%COMP%_fadeOutScale{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.9)}}.product-gallery[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;align-items:center}.product-main-image[_ngcontent-%COMP%]{max-width:80%;margin-bottom:1rem}.product-thumbnails[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-top:10px}.product-thumbnail[_ngcontent-%COMP%]{width:60px;height:60px;object-fit:cover;cursor:pointer;border:2px solid transparent}.product-thumbnail.active[_ngcontent-%COMP%], .product-thumbnail[_ngcontent-%COMP%]:hover{border-color:#007bff}.gallery-button[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);background:#00000080;color:#fff;border:none;padding:10px;cursor:pointer;z-index:10;font-size:1.5rem;opacity:0;transition:opacity .3s ease;pointer-events:none}.prev-button[_ngcontent-%COMP%]{left:-20px}.next-button[_ngcontent-%COMP%]{right:-20px}.gallery-button[_ngcontent-%COMP%]:hover{background:#000000b3}.product-gallery[_ngcontent-%COMP%]:hover   .gallery-button[_ngcontent-%COMP%]{opacity:1;pointer-events:auto}.full-description[_ngcontent-%COMP%]{font-size:14px;line-height:1.6;color:#333;background:#f9f9f9;padding:10px;border-radius:8px;margin-top:15px;box-shadow:0 2px 4px #0000001a}.full-description[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px}.full-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:10px}.full-description[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:20px}.full-description[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:5px}.full-description[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:auto;margin-top:10px;border-radius:4px}.full-description-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:15px;background:#f9f9f9;box-shadow:0 2px 4px #0000001a}.full-description-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid #ddd}.full-description-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child{border-bottom:none}.full-description-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px;font-size:14px;color:#333}.table-label[_ngcontent-%COMP%]{font-weight:700;background-color:#f0f0f0}.table-value[_ngcontent-%COMP%]{text-align:left}.modal-content.dark-mode[_ngcontent-%COMP%]{background-color:#1e1e1e;color:#f1f1f1}.modal-header.dark-mode[_ngcontent-%COMP%]{background-color:#292929;color:#fff}.close-button.dark-mode[_ngcontent-%COMP%]{color:#fff}.btn-success.dark-mode[_ngcontent-%COMP%]{background-color:#007bff;color:#fff}.quantity-button.dark-mode[_ngcontent-%COMP%]{background-color:#007bff}"]});let t=e;return t})();var nR=(()=>{let e=class e{constructor(r){this.firestore=r,this.productsCollection=yr(this.firestore,"products")}getProducts(){return xu(this.productsCollection,{idField:"id"})}addProduct(r){let i=Ho(this.productsCollection);return jf(i,ye(j({},r),{id:i.id}))}deleteProduct(r){let i=Ho(this.firestore,`products/${r}`);return Qx(i)}updateProduct(r){let i=Ho(this.firestore,`products/${r.id}`);return Xx(i,j({},r))}};e.\u0275fac=function(i){return new(i||e)(G(fn))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Wz(t,e){if(t&1){let n=ct();I(0,"button",11),B("click",function(){Q(n);let i=J();return Y(i.toggleSidebar())}),yo(),I(1,"svg",12),se(2,"rect",13)(3,"rect",14)(4,"circle",15)(5,"circle",16)(6,"circle",17)(7,"rect",18)(8,"rect",19)(9,"rect",20)(10,"rect",21),C()()}}function Kz(t,e){if(t&1&&(I(0,"option",41),P(1),C()),t&2){let n=e.$implicit;ne("value",n),O(),Nn(" ",n," ")}}function Qz(t,e){if(t&1){let n=ct();I(0,"div",22)(1,"h3"),P(2,"\u0414\u043E\u0434\u0430\u0442\u0438 \u0442\u043E\u0432\u0430\u0440"),C(),I(3,"form",23),B("ngSubmit",function(){Q(n);let i=J();return Y(i.addProduct())}),I(4,"div",24)(5,"label",25),P(6,"\u041D\u0430\u0437\u0432\u0430 \u0442\u043E\u0432\u0430\u0440\u0443"),C(),I(7,"input",26),Ae("ngModelChange",function(i){Q(n);let o=J();return Pe(o.productName,i)||(o.productName=i),Y(i)}),C()(),I(8,"div",24)(9,"label",27),P(10,"\u041E\u043F\u0438\u0441 \u0442\u043E\u0432\u0430\u0440\u0443"),C(),I(11,"textarea",28),Ae("ngModelChange",function(i){Q(n);let o=J();return Pe(o.productDescription,i)||(o.productDescription=i),Y(i)}),C()(),I(12,"div",24)(13,"label",29),P(14,"\u041F\u043E\u0432\u043D\u0430 \u0445\u0430\u0440\u0430\u043A\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043A\u0430 \u0442\u043E\u0432\u0430\u0440\u0443"),C(),I(15,"textarea",30),Ae("ngModelChange",function(i){Q(n);let o=J();return Pe(o.productFullDescription,i)||(o.productFullDescription=i),Y(i)}),C()(),I(16,"div",24)(17,"label",31),P(18,"URL \u043A\u0430\u0440\u0442\u0438\u043D\u043A\u0438 \u0442\u043E\u0432\u0430\u0440\u0443"),C(),I(19,"input",32),Ae("ngModelChange",function(i){Q(n);let o=J();return Pe(o.productImageUrl,i)||(o.productImageUrl=i),Y(i)}),C()(),I(20,"div",24)(21,"label",33),P(22,"\u0414\u043E\u0434\u0430\u0442\u043A\u043E\u0432\u0456 URL \u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u044C (\u0447\u0435\u0440\u0435\u0437 \u043A\u043E\u043C\u0443)"),C(),I(23,"input",34),Ae("ngModelChange",function(i){Q(n);let o=J();return Pe(o.productAdditionalImages,i)||(o.productAdditionalImages=i),Y(i)}),C()(),I(24,"div",24)(25,"label",35),P(26,"\u0426\u0456\u043D\u0430"),C(),I(27,"input",36),Ae("ngModelChange",function(i){Q(n);let o=J();return Pe(o.productPrice,i)||(o.productPrice=i),Y(i)}),C()(),I(28,"div",24)(29,"label",37),P(30,"\u041A\u0430\u0442\u0435\u0433\u043E\u0440\u0456\u044F \u0442\u043E\u0432\u0430\u0440\u0443"),C(),I(31,"select",38),Ae("ngModelChange",function(i){Q(n);let o=J();return Pe(o.productCategory,i)||(o.productCategory=i),Y(i)}),Oe(32,Kz,2,2,"option",39),C()(),I(33,"button",40),P(34," \u0414\u043E\u0434\u0430\u0442\u0438 \u0442\u043E\u0432\u0430\u0440 "),C()()()}if(t&2){let n=J();O(7),Se("ngModel",n.productName),O(4),Se("ngModel",n.productDescription),O(4),Se("ngModel",n.productFullDescription),O(4),Se("ngModel",n.productImageUrl),O(4),Se("ngModel",n.productAdditionalImages),O(4),Se("ngModel",n.productPrice),O(4),Se("ngModel",n.productCategory),O(),ne("ngForOf",n.categories),O(),ne("disabled",!n.isFormValid())}}function Yz(t,e){if(t&1&&(I(0,"option",41),P(1),C()),t&2){let n=e.$implicit;ne("value",n),O(),Nn(" ",n," ")}}function Jz(t,e){if(t&1){let n=ct();I(0,"div",22)(1,"h3"),P(2,"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u0442\u043E\u0432\u0430\u0440"),C(),I(3,"form",23),B("ngSubmit",function(){Q(n);let i=J();return Y(i.updateProduct())}),I(4,"div",24)(5,"label",42),P(6,"\u041D\u0430\u0437\u0432\u0430 \u0442\u043E\u0432\u0430\u0440\u0443"),C(),I(7,"input",43),Ae("ngModelChange",function(i){Q(n);let o=J();return Pe(o.productName,i)||(o.productName=i),Y(i)}),C()(),I(8,"div",24)(9,"label",44),P(10,"\u041E\u043F\u0438\u0441 \u0442\u043E\u0432\u0430\u0440\u0443"),C(),I(11,"textarea",45),Ae("ngModelChange",function(i){Q(n);let o=J();return Pe(o.productDescription,i)||(o.productDescription=i),Y(i)}),C()(),I(12,"div",24)(13,"label",29),P(14,"\u041F\u043E\u0432\u043D\u0430 \u0445\u0430\u0440\u0430\u043A\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043A\u0430 \u0442\u043E\u0432\u0430\u0440\u0443"),C(),I(15,"textarea",46),Ae("ngModelChange",function(i){Q(n);let o=J();return Pe(o.productFullDescription,i)||(o.productFullDescription=i),Y(i)}),C()(),I(16,"div",24)(17,"label",47),P(18,"URL \u043A\u0430\u0440\u0442\u0438\u043D\u043A\u0438 \u0442\u043E\u0432\u0430\u0440\u0443"),C(),I(19,"input",48),Ae("ngModelChange",function(i){Q(n);let o=J();return Pe(o.productImageUrl,i)||(o.productImageUrl=i),Y(i)}),C()(),I(20,"div",24)(21,"label",33),P(22,"\u0414\u043E\u0434\u0430\u0442\u043A\u043E\u0432\u0456 URL \u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u044C (\u0447\u0435\u0440\u0435\u0437 \u043A\u043E\u043C\u0443)"),C(),I(23,"input",34),Ae("ngModelChange",function(i){Q(n);let o=J();return Pe(o.productAdditionalImages,i)||(o.productAdditionalImages=i),Y(i)}),C()(),I(24,"div",24)(25,"label",49),P(26,"\u0426\u0456\u043D\u0430"),C(),I(27,"input",50),Ae("ngModelChange",function(i){Q(n);let o=J();return Pe(o.productPrice,i)||(o.productPrice=i),Y(i)}),C()(),I(28,"div",24)(29,"label",51),P(30,"\u041A\u0430\u0442\u0435\u0433\u043E\u0440\u0456\u044F \u0442\u043E\u0432\u0430\u0440\u0443"),C(),I(31,"select",52),Ae("ngModelChange",function(i){Q(n);let o=J();return Pe(o.productCategory,i)||(o.productCategory=i),Y(i)}),Oe(32,Yz,2,2,"option",39),C()(),I(33,"button",40),P(34,"\u041E\u043D\u043E\u0432\u0438\u0442\u0438 \u0442\u043E\u0432\u0430\u0440"),C(),I(35,"button",53),B("click",function(){Q(n);let i=J();return Y(i.resetForm())}),P(36,"\u0421\u043A\u0430\u0441\u0443\u0432\u0430\u0442\u0438"),C()()()}if(t&2){let n=J();O(7),Se("ngModel",n.productName),O(4),Se("ngModel",n.productDescription),O(4),Se("ngModel",n.productFullDescription),O(4),Se("ngModel",n.productImageUrl),O(4),Se("ngModel",n.productAdditionalImages),O(4),Se("ngModel",n.productPrice),O(4),Se("ngModel",n.productCategory),O(),ne("ngForOf",n.categories),O(),ne("disabled",!n.isFormValid())}}function Zz(t,e){if(t&1){let n=ct();I(0,"div",54),se(1,"img",55),I(2,"h4"),P(3),C(),I(4,"p"),P(5),C(),I(6,"p")(7,"strong"),P(8,"\u0426\u0456\u043D\u0430:"),C(),P(9),C(),I(10,"p")(11,"strong"),P(12,"\u041A\u0430\u0442\u0435\u0433\u043E\u0440\u0456\u044F:"),C(),P(13),C(),I(14,"button",56),B("click",function(){let i=Q(n).$implicit,o=J();return Y(o.openEditForm(i))}),P(15,"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438"),C(),I(16,"button",57),B("click",function(){let i=Q(n).$implicit,o=J();return Y(o.confirmDeleteProduct(i.id))}),P(17,"\u0412\u0438\u0434\u0430\u043B\u0438\u0442\u0438"),C()()}if(t&2){let n=e.$implicit;O(),Or("alt",n.name),ne("src",n.imageUrl,Pn),O(2),Le(n.name),O(2),Le(n.description),O(4),Nn(" ",n.price," $"),O(4),Nn(" ",n.category,"")}}function Xz(t,e){if(t&1){let n=ct();I(0,"div",58)(1,"div",59)(2,"h4"),P(3,"\u041F\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0436\u0435\u043D\u043D\u044F \u0432\u0438\u0434\u0430\u043B\u0435\u043D\u043D\u044F"),C(),I(4,"p"),P(5,"\u0412\u0438 \u0432\u043F\u0435\u0432\u043D\u0435\u043D\u0456, \u0449\u043E \u0445\u043E\u0447\u0435\u0442\u0435 \u0432\u0438\u0434\u0430\u043B\u0438\u0442\u0438 \u0446\u0435\u0439 \u0442\u043E\u0432\u0430\u0440?"),C(),I(6,"button",57),B("click",function(){Q(n);let i=J();return i.deleteProduct(),Y(i.closeModal())}),P(7,"\u0422\u0430\u043A"),C(),I(8,"button",60),B("click",function(){Q(n);let i=J();return Y(i.closeModal())}),P(9,"\u041D\u0456"),C()()()}}var rR=(()=>{let e=class e{constructor(r,i){this.adminService=r,this.productService=i,this.productName="",this.productDescription="",this.productImageUrl="",this.productPrice=null,this.productCategory="",this.products=[],this.filteredProducts=[],this.categories=["\u041B\u0456\u0445\u0442\u0430\u0440\u0438\u043A\u0438","\u0420\u043E\u0437\u0443\u043C\u043D\u0456 \u0413\u043E\u0434\u0438\u043D\u043D\u0438\u043A\u0438","\u041D\u0430\u0432\u0443\u0448\u043D\u0438\u043A\u0438","\u0422\u0443\u0440\u0438\u0441\u0442\u0438\u0447\u043D\u0456 \u041A\u0430\u043C\u0435\u0440\u0438","\u041D\u0430\u043C\u0435\u0442\u0438"],this.selectedCategory="all",this.showModal=!1,this.showEditForm=!1,this.productToDeleteId=null,this.productToEdit=null,this.errorMessage=null,this.productAdditionalImages="",this.isSidebarVisible=!1,this.isSidebarPinned=!1,this.productFullDescription=""}ngOnInit(){this.loadProducts()}loadProducts(){this.adminService.getProducts().subscribe(r=>{this.products=r,this.applyFilters()},r=>{console.error("Error loading products:",r),this.errorMessage="Failed to load products. Please try again later."})}toggleSidebar(){this.isSidebarVisible=!this.isSidebarVisible}updateSidebarMode(){this.isSidebarPinned?this.isSidebarVisible=!0:this.isSidebarVisible=!1}filterByCategory(r){this.selectedCategory=r,this.applyFilters()}applyFilters(){this.selectedCategory==="all"?this.filteredProducts=this.products:this.filteredProducts=this.products.filter(r=>r.category===this.selectedCategory)}addProduct(){if(this.isFormValid()){let r={id:"",name:this.productName,description:this.productDescription,fullDescription:this.productFullDescription,imageUrl:this.productImageUrl,price:this.productPrice,category:this.productCategory,additionalImageUrls:this.productAdditionalImages?this.productAdditionalImages.split(",").map(i=>i.trim()):[]};this.adminService.addProduct(r).then(()=>{this.loadProducts(),this.resetForm()}).catch(i=>{console.error("Error adding product:",i),this.errorMessage="Failed to add product. Please try again later."})}}deleteProduct(){this.productToDeleteId&&this.adminService.deleteProduct(this.productToDeleteId).then(()=>{this.loadProducts(),this.closeModal()}).catch(r=>{console.error("Error deleting product:",r),this.errorMessage="Failed to delete product. Please try again later."})}openEditForm(r){this.productToEdit=j({},r),this.productName=r.name,this.productDescription=r.description,this.productImageUrl=r.imageUrl,this.productPrice=r.price,this.productCategory=r.category,this.productFullDescription=r.fullDescription||"",this.productAdditionalImages=r.additionalImageUrls?r.additionalImageUrls.join(", "):"",this.showEditForm=!0}updateProduct(){if(this.productToEdit&&this.isFormValid()){let r={id:this.productToEdit.id,name:this.productName,description:this.productDescription,fullDescription:this.productFullDescription,imageUrl:this.productImageUrl,price:this.productPrice,category:this.productCategory,additionalImageUrls:this.productAdditionalImages?this.productAdditionalImages.split(",").map(i=>i.trim()):[]};this.adminService.updateProduct(r).then(()=>{this.loadProducts(),this.resetForm(),this.showEditForm=!1}).catch(i=>{console.error("Error updating product:",i),this.errorMessage="Failed to update product. Please try again later."})}}confirmDeleteProduct(r){this.productToDeleteId=r,this.showModal=!0}closeModal(){this.showModal=!1,this.productToDeleteId=null}resetForm(){this.productName="",this.productDescription="",this.productImageUrl="",this.productPrice=null,this.productCategory="",this.productFullDescription="",this.productAdditionalImages="",this.productToEdit=null,this.showEditForm=!1}isFormValid(){return this.productName.trim()!==""&&this.productDescription.trim()!==""&&this.productImageUrl.trim()!==""&&this.productPrice!==null&&this.productPrice>0&&this.productCategory.trim()!==""}};e.\u0275fac=function(i){return new(i||e)($(nR),$(Pa))},e.\u0275cmp=Ze({type:e,selectors:[["app-admin"]],standalone:!0,features:[Xe],decls:26,vars:12,consts:[[1,"container"],["class","sidebar-toggle",3,"click",4,"ngIf"],[1,"sidebar"],[1,"pin-sidebar-option"],["type","checkbox","id","pinSidebar",3,"ngModelChange","change","ngModel"],["for","pinSidebar"],[1,"btn","btn-outline-primary",3,"click"],["class","product-form",4,"ngIf"],[1,"product-list"],["class","product-item",4,"ngFor","ngForOf"],["class","modal",4,"ngIf"],[1,"sidebar-toggle",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","50","height","50","viewBox","0 0 100 100"],["x","0","y","0","width","100","height","100","rx","15","fill","#f0f0f0"],["x","15","y","15","width","25","height","70","rx","8","fill","#ffffff"],["cx","27.5","cy","30","r","4","fill","#ff6347"],["cx","27.5","cy","50","r","4","fill","#4682b4"],["cx","27.5","cy","70","r","4","fill","#32cd32"],["x","45","y","15","width","40","height","70","rx","8","fill","#ffffff"],["x","50","y","25","width","30","height","6","rx","2","fill","#d3d3d3"],["x","50","y","45","width","30","height","6","rx","2","fill","#d3d3d3"],["x","50","y","65","width","30","height","6","rx","2","fill","#d3d3d3"],[1,"product-form"],[3,"ngSubmit"],[1,"form-group"],["for","productName"],["id","productName","name","productName","placeholder","\u041D\u0430\u0437\u0432\u0430 \u0442\u043E\u0432\u0430\u0440\u0443","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","productDescription"],["id","productDescription","name","productDescription","placeholder","\u041E\u043F\u0438\u0441 \u0442\u043E\u0432\u0430\u0440\u0443","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","productFullDescription"],["id","productFullDescription","name","productFullDescription","placeholder","\u041F\u043E\u0432\u043D\u0430 \u0445\u0430\u0440\u0430\u043A\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043A\u0430 \u0442\u043E\u0432\u0430\u0440\u0443",1,"form-control",3,"ngModelChange","ngModel"],["for","productImageUrl"],["id","productImageUrl","name","productImageUrl","placeholder","URL \u043A\u0430\u0440\u0442\u0438\u043D\u043A\u0438 \u0442\u043E\u0432\u0430\u0440\u0443","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","productAdditionalImages"],["id","productAdditionalImages","name","productAdditionalImages","placeholder","URL1, URL2, URL3",1,"form-control",3,"ngModelChange","ngModel"],["for","productPrice"],["id","productPrice","type","number","name","productPrice","placeholder","\u0426\u0456\u043D\u0430","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","productCategory"],["id","productCategory","name","productCategory","required","",1,"form-control",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["type","submit",1,"btn","btn-success",3,"disabled"],[3,"value"],["for","editProductName"],["id","editProductName","name","editProductName","placeholder","\u041D\u0430\u0437\u0432\u0430 \u0442\u043E\u0432\u0430\u0440\u0443","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","editProductDescription"],["id","editProductDescription","name","editProductDescription","placeholder","\u041E\u043F\u0438\u0441 \u0442\u043E\u0432\u0430\u0440\u0443","required","",1,"form-control",3,"ngModelChange","ngModel"],["id","productFullDescription","name","productFullDescription","placeholder",`\u0424\u043E\u0440\u043C\u0430\u0442 \u0437\u0430\u043F\u043E\u0432\u043B\u0435\u043D\u043D\u044F: \u0422\u0438\u043F \u043D\u0430\u0432\u0443\u0448\u043D\u0438\u043A\u0456\u0432 - \u041F\u043E\u0432\u043D\u043E\u0440\u043E\u0437\u043C\u0456\u0440\u043D\u0456
          \u041E\u0441\u043E\u0431\u043B\u0438\u0432\u043E\u0441\u0442\u0456 - Playstation-\u0441\u0443\u043C\u0456\u0441\u043D\u0456\u0441\u0442\u044C, \u0421\u043A\u043B\u0430\u0434\u0430\u043D\u0430 \u043A\u043E\u043D\u0441\u0442\u0440\u0443\u043A\u0446\u0456\u044F
          \u0422\u0438\u043F \u043F\u0456\u0434\u043A\u043B\u044E\u0447\u0435\u043D\u043D\u044F - \u041A\u043E\u043C\u0431\u0456\u043D\u043E\u0432\u0430\u043D\u0456`,1,"form-control",3,"ngModelChange","ngModel"],["for","editProductImageUrl"],["id","editProductImageUrl","name","editProductImageUrl","placeholder","URL \u043A\u0430\u0440\u0442\u0438\u043D\u043A\u0438 \u0442\u043E\u0432\u0430\u0440\u0443","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","editProductPrice"],["id","editProductPrice","type","number","name","editProductPrice","placeholder","\u0426\u0456\u043D\u0430","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","editProductCategory"],["id","editProductCategory","name","editProductCategory","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"product-item"],[3,"src","alt"],[1,"btn","btn-warning",3,"click"],[1,"btn","btn-danger",3,"click"],[1,"modal"],[1,"modal-content"],[1,"btn","btn-secondary",3,"click"]],template:function(i,o){i&1&&(I(0,"div",0),Oe(1,Wz,11,0,"button",1),I(2,"div",2)(3,"h4"),P(4,"\u0424\u0456\u043B\u044C\u0442\u0440\u0438"),C(),I(5,"div",3)(6,"input",4),Ae("ngModelChange",function(a){return Pe(o.isSidebarPinned,a)||(o.isSidebarPinned=a),a}),B("change",function(){return o.updateSidebarMode()}),C(),I(7,"label",5),P(8,"\u0417\u0430\u043A\u0440\u0456\u043F\u0438\u0442\u0438"),C()(),I(9,"button",6),B("click",function(){return o.filterByCategory("all")}),P(10,"\u0423\u0441\u0456"),C(),I(11,"button",6),B("click",function(){return o.filterByCategory("\u041B\u0456\u0445\u0442\u0430\u0440\u0438\u043A\u0438")}),P(12,"\u041B\u0456\u0445\u0442\u0430\u0440\u0438\u043A\u0438"),C(),I(13,"button",6),B("click",function(){return o.filterByCategory("\u0420\u043E\u0437\u0443\u043C\u043D\u0456 \u0413\u043E\u0434\u0438\u043D\u043D\u0438\u043A\u0438")}),P(14,"\u0420\u043E\u0437\u0443\u043C\u043D\u0456 \u0413\u043E\u0434\u0438\u043D\u043D\u0438\u043A\u0438"),C(),I(15,"button",6),B("click",function(){return o.filterByCategory("\u041D\u0430\u0432\u0443\u0448\u043D\u0438\u043A\u0438")}),P(16,"\u041D\u0430\u0432\u0443\u0448\u043D\u0438\u043A\u0438"),C(),I(17,"button",6),B("click",function(){return o.filterByCategory("\u0422\u0443\u0440\u0438\u0441\u0442\u0438\u0447\u043D\u0456 \u041A\u0430\u043C\u0435\u0440\u0438")}),P(18,"\u0422\u0443\u0440\u0438\u0441\u0442\u0438\u0447\u043D\u0456 \u041A\u0430\u043C\u0435\u0440\u0438"),C(),I(19,"button",6),B("click",function(){return o.filterByCategory("\u041D\u0430\u043C\u0435\u0442\u0438")}),P(20,"\u041D\u0430\u043C\u0435\u0442\u0438"),C()(),Oe(21,Qz,35,9,"div",7)(22,Jz,37,9,"div",7),I(23,"div",8),Oe(24,Zz,18,6,"div",9),C()(),Oe(25,Xz,10,0,"div",10)),i&2&&(O(),ne("ngIf",!o.isSidebarPinned),O(),sn("visible",o.isSidebarVisible||o.isSidebarPinned)("pinned",o.isSidebarPinned),O(4),Se("ngModel",o.isSidebarPinned),O(15),ne("ngIf",!o.showEditForm),O(),ne("ngIf",o.showEditForm),O(),sn("sidebar-pinned",o.isSidebarPinned),O(),ne("ngForOf",o.filteredProducts),O(),ne("ngIf",o.showModal))},dependencies:[St,Di,nr,_r,Ma,tp,np,In,zw,Uu,xa,vr,Aa,Go,$n,qo],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:20px;max-width:1200px;margin:0 auto;padding:20px}.sidebar-toggle[_ngcontent-%COMP%]{position:fixed;top:76px;right:20px;z-index:1000;color:#fff;border:none;border-radius:50%;width:50px;height:50px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .3s ease}.sidebar-toggle[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.sidebar-toggle[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{fill:#fff;transition:transform .3s ease}.sidebar-toggle[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{transform:scale(1.1)}.sidebar[_ngcontent-%COMP%]{position:fixed;top:66px;right:-100%;width:300px;height:calc(100% - 66px);background:#fff;box-shadow:-4px 0 8px #0003;padding:20px;transition:right .3s ease,opacity .3s ease;overflow-y:auto;z-index:999}.sidebar.visible[_ngcontent-%COMP%]{right:0}.sidebar[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:15px;font-size:1.2rem;color:#333}.sidebar[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{display:block;width:100%;margin-bottom:10px}.sidebar.pinned[_ngcontent-%COMP%]{position:fixed;right:0;top:66px;height:calc(100% - 66px)}.product-list.sidebar-pinned[_ngcontent-%COMP%]{margin-right:320px}.pin-sidebar-option[_ngcontent-%COMP%]{margin-bottom:10px;display:flex;align-items:center}.pin-sidebar-option[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-left:5px;font-size:.9rem}[_ngcontent-%COMP%]:root{--background-light: #ffffff;--background-dark: #2c2c2c;--text-light: #333333;--text-dark: #f5f5f5;--border-light: #ddd;--border-dark: #444;--btn-bg-light: #f9f9f9;--btn-bg-dark: #444;--btn-text-light: #333;--btn-text-dark: #f5f5f5;--btn-hover-light: #007bff;--btn-hover-dark: #1a73e8}@media (prefers-color-scheme: dark){[_ngcontent-%COMP%]:root{--background-light: #2c2c2c;--background-dark: #1c1c1c;--text-light: #f5f5f5;--text-dark: #d1d1d1;--border-light: #444;--border-dark: #333;--btn-bg-light: #444;--btn-bg-dark: #2c2c2c;--btn-text-light: #f5f5f5;--btn-text-dark: #f5f5f5;--btn-hover-light: #1a73e8;--btn-hover-dark: #2a82e8}}.filter-container[_ngcontent-%COMP%]{position:absolute;top:10px;right:20px;display:flex;flex-wrap:wrap;gap:10px}.filter-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:8px 16px;font-size:.9rem}.product-list[_ngcontent-%COMP%]{flex:1;display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px}.product-form[_ngcontent-%COMP%]{flex:1;max-width:300px}.product-form[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;color:#333}.product-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:15px}.product-form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:5px;display:block;font-size:.9rem}.product-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .product-form[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .product-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px;border-radius:5px;border:1px solid #ccc;box-sizing:border-box}.product-item[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:8px;padding:15px;background:#f9f9f9;box-shadow:0 4px 6px #0000001a;transition:transform .3s ease}.product-item[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.product-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:150px;object-fit:cover;border-radius:5px;margin-bottom:10px}.product-item[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.2rem;color:#444}.product-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;color:#666}.product-item[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin-top:10px;padding:8px 16px;font-size:.8rem}.product-list[_ngcontent-%COMP%]{background-color:var(--background-dark);padding:20px;border-radius:10px;box-shadow:0 4px 8px #0003}.product-item[_ngcontent-%COMP%]{background-color:var(--background-light);color:var(--text-light);border:1px solid var(--border-light);transition:transform .3s ease,background-color .3s ease}.product-item[_ngcontent-%COMP%]:hover{transform:scale(1.05);background-color:var(--btn-bg-light)}.product-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:1px solid var(--border-light)}.product-item[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:var(--text-light)}.product-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-dark)}.product-item[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{background-color:var(--btn-hover-light);color:var(--btn-text-dark)}.btn[_ngcontent-%COMP%]{padding:10px 20px;width:auto}.btn-success[_ngcontent-%COMP%]{background-color:#5cb85c;border-color:#5cb85c}.btn-success[_ngcontent-%COMP%]:hover{background-color:#218838;border-color:#1e7e34}.btn-danger[_ngcontent-%COMP%]{background-color:#d9534f;border-color:#d9534f}.btn-danger[_ngcontent-%COMP%]:hover{background-color:#c82333;border-color:#bd2130}.btn-warning[_ngcontent-%COMP%]{background-color:#f0ad4e;border-color:#f0ad4e}.btn-warning[_ngcontent-%COMP%]:hover{background-color:#ec971f;border-color:#d58512}.modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;align-items:center;justify-content:center}.modal-content[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:5px;box-shadow:0 0 10px #0000001a;text-align:center;width:300px;animation:_ngcontent-%COMP%_zoomIn .3s ease-in}.modal-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-top:0}.modal-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:10px}@keyframes _ngcontent-%COMP%_zoomIn{0%{transform:scale(.7);opacity:0}to{transform:scale(1);opacity:1}}@media (max-width: 480px){.sidebar[_ngcontent-%COMP%]{width:100%}.product-list[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media (max-width: 768px){.container[_ngcontent-%COMP%]{flex-direction:column;padding:10px}.filter-container[_ngcontent-%COMP%]{position:static;justify-content:center;margin-top:20px}.product-form[_ngcontent-%COMP%]{max-width:100%}.product-item[_ngcontent-%COMP%]{text-align:center}.modal-content[_ngcontent-%COMP%]{width:90%}.sidebar[_ngcontent-%COMP%]{width:80%}.product-list.sidebar-pinned[_ngcontent-%COMP%]{margin-right:0}.product-list[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(200px,1fr))}}@media (max-width: 768px) and (orientation: landscape){.container[_ngcontent-%COMP%]{padding:5px}.filter-container[_ngcontent-%COMP%]{gap:5px;margin-top:20px}.product-item[_ngcontent-%COMP%]{flex-direction:row;align-items:center;text-align:left}.product-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px;margin-right:10px}.btn[_ngcontent-%COMP%]{font-size:.8rem;padding:5px 10px}}@media (min-width: 769px) and (max-width: 1024px){.container[_ngcontent-%COMP%]{padding:15px}.modal-content[_ngcontent-%COMP%]{width:80%}}@media (min-width: 1025px) and (max-width: 1920px){.container[_ngcontent-%COMP%]{padding:20px}.modal-content[_ngcontent-%COMP%]{width:50%}}@media (min-width: 1921px){.container[_ngcontent-%COMP%]{max-width:1600px;padding:20px}.modal-content[_ngcontent-%COMP%]{width:40%}}"]});let t=e;return t})();var iR=(()=>{let e=class e{constructor(){this.firstDigit="4",this.secondDigit="0",this.thirdDigit="4"}randomNum(){return Math.floor(Math.random()*9)+1}ngOnInit(){let r=0,i=30,o=setInterval(()=>{r>40?(clearInterval(o),this.thirdDigit="4"):(this.thirdDigit=this.randomNum().toString(),r++)},i),s=setInterval(()=>{r>80?(clearInterval(s),this.secondDigit="0"):(this.secondDigit=this.randomNum().toString(),r++)},i),a=setInterval(()=>{r>100?(clearInterval(a),this.firstDigit="4"):(this.firstDigit=this.randomNum().toString(),r++)},i)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ze({type:e,selectors:[["app-not-found"]],standalone:!0,features:[Xe],decls:22,vars:3,consts:[[1,"error","d-flex","justify-content-center","align-items-center","vh-50","bg-light"],[1,"container","text-center"],[1,"container-error-404"],[1,"clip"],[1,"shadow"],[1,"digit","thirdDigit"],[1,"digit","secondDigit"],[1,"digit","firstDigit"],[1,"msg"],[1,"triangle"],[1,"h1"],["routerLink","/",1,"btn","btn-primary"]],template:function(i,o){i&1&&(I(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"span",5),P(6),C()()(),I(7,"div",3)(8,"div",4)(9,"span",6),P(10),C()()(),I(11,"div",3)(12,"div",4)(13,"span",7),P(14),C()()(),I(15,"div",8),P(16,"OH!"),se(17,"span",9),C()(),I(18,"h2",10),P(19,"\u0412\u0438\u0431\u0430\u0447\u0442\u0435! \u0421\u0442\u043E\u0440\u0456\u043D\u043A\u0430 \u043D\u0435 \u0437\u043D\u0430\u0439\u0434\u0435\u043D\u0430."),C(),I(20,"a",11),P(21,"\u041F\u0435\u0440\u0435\u0439\u0442\u0438 \u043D\u0430 \u0433\u043E\u043B\u043E\u0432\u043D\u0443"),C()()()),i&2&&(O(6),Le(o.thirdDigit),O(4),Le(o.secondDigit),O(4),Le(o.firstDigit))},dependencies:[St,Gs,zs],styles:['*[_ngcontent-%COMP%]{font-family:PT Sans Caption,sans-serif,arial,Times New Roman;box-sizing:border-box}.error[_ngcontent-%COMP%]{background-color:#f8f9fa}.error[_ngcontent-%COMP%]   .container-error-404[_ngcontent-%COMP%]{position:relative;height:250px;padding-top:40px;text-align:center}.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]{display:inline-block;transform:skew(-45deg)}.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]   .shadow[_ngcontent-%COMP%]{height:180px;overflow:hidden}.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]:nth-of-type(2)   .shadow[_ngcontent-%COMP%]{width:130px;position:relative;box-shadow:inset 20px 0 20px -15px #969696cc,20px 0 20px -15px #969696cc}.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]:nth-of-type(3)   .shadow[_ngcontent-%COMP%]:after, .error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]:nth-of-type(1)   .shadow[_ngcontent-%COMP%]:after{content:"";position:absolute;right:-8px;bottom:0;z-index:9999;height:100%;width:10px;background:linear-gradient(90deg,transparent,rgba(173,173,173,.8),transparent);border-radius:50%}.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]:nth-of-type(3)   .shadow[_ngcontent-%COMP%]:after{left:-8px}.error[_ngcontent-%COMP%]   .digit[_ngcontent-%COMP%]{width:150px;height:150px;line-height:150px;font-size:120px;font-weight:700;color:#fff;background:#07b3f9;border-radius:50%;display:inline-block;transform:skew(45deg)}.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]:nth-of-type(2)   .digit[_ngcontent-%COMP%]{left:-10%}.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]:nth-of-type(1)   .digit[_ngcontent-%COMP%]{right:-20%}.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]:nth-of-type(3)   .digit[_ngcontent-%COMP%]{left:-20%}.error[_ngcontent-%COMP%]   .msg[_ngcontent-%COMP%]{position:relative;z-index:9999;background:#535353;color:#a2a2a2;border-radius:50%;font-style:italic;display:block;width:80px;height:80px;line-height:80px;font-size:32px;top:-190px;left:30%}.error[_ngcontent-%COMP%]   span.triangle[_ngcontent-%COMP%]{position:absolute;z-index:999;transform:rotate(45deg);content:"";width:0;height:0;border-left:20px solid #535353;border-top:15px solid transparent;border-bottom:15px solid transparent;top:70%;right:0}.error[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#a2a2a2;font-weight:700;padding-bottom:20px;font-size:32px}.error[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;font-weight:700}.error[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}@media (max-width: 767px){.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]   .shadow[_ngcontent-%COMP%]{height:100px}.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]:nth-of-type(2)   .shadow[_ngcontent-%COMP%]{width:80px}.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]:nth-of-type(1)   .shadow[_ngcontent-%COMP%], .error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]:nth-of-type(3)   .shadow[_ngcontent-%COMP%]{width:100px}.error[_ngcontent-%COMP%]   .digit[_ngcontent-%COMP%]{width:80px;height:80px;line-height:80px;font-size:52px}.error[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px}.error[_ngcontent-%COMP%]   .msg[_ngcontent-%COMP%]{top:-110px;left:15%;width:40px;height:40px;line-height:40px;font-size:18px}.error[_ngcontent-%COMP%]   span.triangle[_ngcontent-%COMP%]{border-left:10px solid #535353;border-top:8px solid transparent;border-bottom:8px solid transparent}.error[_ngcontent-%COMP%]   .container-error-404[_ngcontent-%COMP%]{height:150px}}']});let t=e;return t})();function e8(t,e){if(t&1&&(I(0,"p",10),P(1),C()),t&2){let n=J();O(),Le(n.errorMessage)}}var oR=(()=>{let e=class e{constructor(r){this.router=r,this.username="",this.password="",this.errorMessage=""}login(){this.username==="admin"&&this.password==="Uthjtdlytghf73"?this.router.navigate(["/admin"]):this.errorMessage="\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u043B\u043E\u0433\u0456\u043D \u0430\u0431\u043E \u043F\u0430\u0440\u043E\u043B\u044C"}};e.\u0275fac=function(i){return new(i||e)($(lt))},e.\u0275cmp=Ze({type:e,selectors:[["app-admin-login"]],standalone:!0,features:[Xe],decls:14,vars:3,consts:[[1,"login-container"],[1,"login-form",3,"ngSubmit"],["src","./icons/logo.png","alt","Logo",1,"logo"],[1,"form-group"],["for","username"],["id","username","name","username","placeholder","\u041B\u043E\u0433\u0456\u043D","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","password"],["id","password","type","password","name","password","placeholder","\u041F\u0430\u0440\u043E\u043B\u044C","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-success"],["class","text-danger",4,"ngIf"],[1,"text-danger"]],template:function(i,o){i&1&&(I(0,"div",0)(1,"form",1),B("ngSubmit",function(){return o.login()}),se(2,"img",2),I(3,"div",3)(4,"label",4),P(5,"\u041B\u043E\u0433\u0456\u043D"),C(),I(6,"input",5),Ae("ngModelChange",function(a){return Pe(o.username,a)||(o.username=a),a}),C()(),I(7,"div",3)(8,"label",6),P(9,"\u041F\u0430\u0440\u043E\u043B\u044C"),C(),I(10,"input",7),Ae("ngModelChange",function(a){return Pe(o.password,a)||(o.password=a),a}),C()(),I(11,"button",8),P(12,"\u0412\u0445\u0456\u0434"),C(),Oe(13,e8,2,1,"p",9),C()()),i&2&&(O(6),Se("ngModel",o.username),O(4),Se("ngModel",o.password),O(3),ne("ngIf",o.errorMessage))},dependencies:[St,nr,_r,Ma,In,vr,Aa,Go,$n,qo],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:70vh;background-color:#f8f9fa}.login-form[_ngcontent-%COMP%]{background:#fff;padding:2rem;border-radius:8px;box-shadow:0 0 10px #0000001a;text-align:center}.logo[_ngcontent-%COMP%]{max-width:100px;margin-bottom:1rem}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.btn-success[_ngcontent-%COMP%]{background-color:#28a745;border-color:#28a745}.btn-success[_ngcontent-%COMP%]:hover{background-color:#218838;border-color:#1e7e34}"]});let t=e;return t})();var sR=[{path:"",component:JP},{path:"header",component:Bf},{path:"cart",component:eR},{path:"product/:id",component:tR},{path:"admin-login",component:oR},{path:"admin",component:rR},{path:"**",component:iR}];var Gw={production:!1,firebase:{apiKey:"AIzaSyCDXEjp5yiLttF-2eUZKNHH6z3Y755yws8",authDomain:"hiking-equipment-store.firebaseapp.com",databaseURL:"https://hiking-equipment-store-default-rtdb.europe-west1.firebasedatabase.app",projectId:"hiking-equipment-store",storageBucket:"hiking-equipment-store.appspot.com",messagingSenderId:"553591568312",appId:"1:553591568312:web:c4e43771d9e053d6d6814d",measurementId:"G-C3M4EFX3LH",firestore:{rules_version:"2"}},appCheck:{recaptchaSiteKey:"6LeykZMqAAAAAFddpBQyGNnkKElOUDDIMdroXsYV"}};ST(DP,{providers:[yS(sR),gy(),$A(()=>HA()),JS(()=>ZS(Gw.firebase)),Gx(()=>Jx()),IP(()=>bP(void 0,{provider:new qf(Gw.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}).catch(t=>console.error(t));
