var $1=Object.defineProperty,H1=Object.defineProperties;var z1=Object.getOwnPropertyDescriptors;var KE=Object.getOwnPropertySymbols,q1=Object.getPrototypeOf,G1=Object.prototype.hasOwnProperty,W1=Object.prototype.propertyIsEnumerable,K1=Reflect.get;var QE=(t,e,n)=>e in t?$1(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,U=(t,e)=>{for(var n in e||={})G1.call(e,n)&&QE(t,n,e[n]);if(KE)for(var n of KE(e))W1.call(e,n)&&QE(t,n,e[n]);return t},ye=(t,e)=>H1(t,z1(e));var si=(t,e,n)=>K1(q1(t),n,e);var E=(t,e,n)=>new Promise((r,i)=>{var o=u=>{try{a(n.next(u))}catch(l){i(l)}},s=u=>{try{a(n.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((n=n.apply(t,e)).next())});var xp=null;var Ap=1,Mp=Symbol("SIGNAL");function Pe(t){let e=xp;return xp=t,e}function YE(){return xp}var Pp={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Q1(t){if(!(Fp(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Ap)){if(!t.producerMustRecompute(t)&&!Np(t)){t.dirty=!1,t.lastCleanEpoch=Ap;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Ap}}function Rp(t){return t&&(t.nextProducerIndex=0),Pe(t)}function JE(t,e){if(Pe(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Fp(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)kp(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Np(t){Vp(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(Q1(n),r!==n.version))return!0}return!1}function Op(t){if(Vp(t),Fp(t))for(let e=0;e<t.producerNode.length;e++)kp(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function kp(t,e){if(Y1(t),t.liveConsumerNode.length===1&&J1(t))for(let r=0;r<t.producerNode.length;r++)kp(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Vp(i),i.producerIndexOfThis[r]=e}}function Fp(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Vp(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function Y1(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function J1(t){return t.producerNode!==void 0}function Z1(){throw new Error}var X1=Z1;function ZE(t){X1=t}function de(t){return typeof t=="function"}function es(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var al=es(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function eo(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ye=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(de(r))try{r()}catch(o){e=o instanceof al?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{XE(o)}catch(s){e=e??[],s instanceof al?e=[...e,...s.errors]:e.push(s)}}if(e)throw new al(e)}}add(e){var n;if(e&&e!==this)if(this.closed)XE(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&eo(n,e)}remove(e){let{_finalizers:n}=this;n&&eo(n,e),e instanceof t&&e._removeParent(this)}};Ye.EMPTY=(()=>{let t=new Ye;return t.closed=!0,t})();var Lp=Ye.EMPTY;function cl(t){return t instanceof Ye||t&&"closed"in t&&de(t.remove)&&de(t.add)&&de(t.unsubscribe)}function XE(t){de(t)?t():t.unsubscribe()}var Tn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ts={setTimeout(t,e,...n){let{delegate:r}=ts;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=ts;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function ul(t){ts.setTimeout(()=>{let{onUnhandledError:e}=Tn;if(e)e(t);else throw t})}function ec(){}var eI=jp("C",void 0,void 0);function tI(t){return jp("E",void 0,t)}function nI(t){return jp("N",t,void 0)}function jp(t,e,n){return{kind:t,value:e,error:n}}var to=null;function ns(t){if(Tn.useDeprecatedSynchronousErrorHandling){let e=!to;if(e&&(to={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=to;if(to=null,n)throw r}}else t()}function rI(t){Tn.useDeprecatedSynchronousErrorHandling&&to&&(to.errorThrown=!0,to.error=t)}var no=class extends Ye{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,cl(e)&&e.add(this)):this.destination=nR}static create(e,n,r){return new rs(e,n,r)}next(e){this.isStopped?Bp(nI(e),this):this._next(e)}error(e){this.isStopped?Bp(tI(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Bp(eI,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},eR=Function.prototype.bind;function Up(t,e){return eR.call(t,e)}var $p=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){ll(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){ll(r)}else ll(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){ll(n)}}},rs=class extends no{constructor(e,n,r){super();let i;if(de(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Tn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Up(e.next,o),error:e.error&&Up(e.error,o),complete:e.complete&&Up(e.complete,o)}):i=e}this.destination=new $p(i)}};function ll(t){Tn.useDeprecatedSynchronousErrorHandling?rI(t):ul(t)}function tR(t){throw t}function Bp(t,e){let{onStoppedNotification:n}=Tn;n&&ts.setTimeout(()=>n(t,e))}var nR={closed:!0,next:ec,error:tR,complete:ec};var is=typeof Symbol=="function"&&Symbol.observable||"@@observable";function nn(t){return t}function dl(...t){return Hp(t)}function Hp(t){return t.length===0?nn:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var pe=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=iR(n)?n:new rs(n,r,i);return ns(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=iI(r),new r((i,o)=>{let s=new rs({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[is](){return this}pipe(...n){return Hp(n)(this)}toPromise(n){return n=iI(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function iI(t){var e;return(e=t??Tn.Promise)!==null&&e!==void 0?e:Promise}function rR(t){return t&&de(t.next)&&de(t.error)&&de(t.complete)}function iR(t){return t&&t instanceof no||rR(t)&&cl(t)}function zp(t){return de(t?.lift)}function Ie(t){return e=>{if(zp(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function _e(t,e,n,r,i){return new qp(t,e,n,r,i)}var qp=class extends no{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function os(){return Ie((t,e)=>{let n=null;t._refCount++;let r=_e(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var ss=class extends pe{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,zp(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ye;let n=this.getSubject();e.add(this.source.subscribe(_e(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ye.EMPTY)}return e}refCount(){return os()(this)}};var oI=es(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Et=(()=>{class t extends pe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new hl(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new oI}next(n){ns(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){ns(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){ns(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Lp:(this.currentObservers=null,o.push(n),new Ye(()=>{this.currentObservers=null,eo(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new pe;return n.source=this,n}}return t.create=(e,n)=>new hl(e,n),t})(),hl=class extends Et{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Lp}};var mt=class extends Et{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Gp={now(){return(Gp.delegate||Date).now()},delegate:void 0};var fl=class extends Ye{constructor(e,n){super()}schedule(e,n=0){return this}};var tc={setInterval(t,e,...n){let{delegate:r}=tc;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=tc;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var as=class extends fl{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return tc.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&tc.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,eo(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var cs=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};cs.now=Gp.now;var us=class extends cs{constructor(e,n=cs.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var ls=new us(as),Wp=ls;var pl=class extends as{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var gl=class extends us{};var Kp=new gl(pl);var rn=new pe(t=>t.complete());function ml(t){return t&&de(t.schedule)}function sI(t){return t[t.length-1]}function yl(t){return de(sI(t))?t.pop():void 0}function ai(t){return ml(sI(t))?t.pop():void 0}function Qp(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function cI(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function aI(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ro(t){return this instanceof ro?(this.v=t,this):new ro(t)}function uI(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i={},a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(S){return Promise.resolve(S).then(y,p)}}function a(y,S){r[y]&&(i[y]=function(N){return new Promise(function(P,V){o.push([y,N,P,V])>1||u(y,N)})},S&&(i[y]=S(i[y])))}function u(y,S){try{l(r[y](S))}catch(N){m(o[0][3],N)}}function l(y){y.value instanceof ro?Promise.resolve(y.value.v).then(h,p):m(o[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function m(y,S){y(S),o.shift(),o.length&&u(o[0][0],o[0][1])}}function lI(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof aI=="function"?aI(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var vl=t=>t&&typeof t.length=="number"&&typeof t!="function";function _l(t){return de(t?.then)}function wl(t){return de(t[is])}function El(t){return Symbol.asyncIterator&&de(t?.[Symbol.asyncIterator])}function Il(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function oR(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Cl=oR();function bl(t){return de(t?.[Cl])}function Dl(t){return uI(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield ro(n.read());if(i)return yield ro(void 0);yield yield ro(r)}}finally{n.releaseLock()}})}function Tl(t){return de(t?.getReader)}function it(t){if(t instanceof pe)return t;if(t!=null){if(wl(t))return sR(t);if(vl(t))return aR(t);if(_l(t))return cR(t);if(El(t))return dI(t);if(bl(t))return uR(t);if(Tl(t))return lR(t)}throw Il(t)}function sR(t){return new pe(e=>{let n=t[is]();if(de(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function aR(t){return new pe(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function cR(t){return new pe(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,ul)})}function uR(t){return new pe(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function dI(t){return new pe(e=>{dR(t,e).catch(n=>e.error(n))})}function lR(t){return dI(Dl(t))}function dR(t,e){var n,r,i,o;return cI(this,void 0,void 0,function*(){try{for(n=lI(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function Qt(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function ci(t,e=0){return Ie((n,r)=>{n.subscribe(_e(r,i=>Qt(r,t,()=>r.next(i),e),()=>Qt(r,t,()=>r.complete(),e),i=>Qt(r,t,()=>r.error(i),e)))})}function ui(t,e=0){return Ie((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function hI(t,e){return it(t).pipe(ui(e),ci(e))}function fI(t,e){return it(t).pipe(ui(e),ci(e))}function pI(t,e){return new pe(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function gI(t,e){return new pe(n=>{let r;return Qt(n,e,()=>{r=t[Cl](),Qt(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>de(r?.return)&&r.return()})}function Sl(t,e){if(!t)throw new Error("Iterable cannot be null");return new pe(n=>{Qt(n,e,()=>{let r=t[Symbol.asyncIterator]();Qt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function mI(t,e){return Sl(Dl(t),e)}function yI(t,e){if(t!=null){if(wl(t))return hI(t,e);if(vl(t))return pI(t,e);if(_l(t))return fI(t,e);if(El(t))return Sl(t,e);if(bl(t))return gI(t,e);if(Tl(t))return mI(t,e)}throw Il(t)}function Ue(t,e){return e?yI(t,e):it(t)}function ne(...t){let e=ai(t);return Ue(t,e)}function ds(t,e){let n=de(t)?t:()=>t,r=i=>i.error(n());return new pe(e?i=>e.schedule(r,0,i):r)}function Yp(t){return!!t&&(t instanceof pe||de(t.lift)&&de(t.subscribe))}var br=es(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function vI(t){return t instanceof Date&&!isNaN(t)}function se(t,e){return Ie((n,r)=>{let i=0;n.subscribe(_e(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:hR}=Array;function fR(t,e){return hR(e)?t(...e):t(e)}function Al(t){return se(e=>fR(t,e))}var{isArray:pR}=Array,{getPrototypeOf:gR,prototype:mR,keys:yR}=Object;function xl(t){if(t.length===1){let e=t[0];if(pR(e))return{args:e,keys:null};if(vR(e)){let n=yR(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function vR(t){return t&&typeof t=="object"&&gR(t)===mR}function Ml(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function nc(...t){let e=ai(t),n=yl(t),{args:r,keys:i}=xl(t);if(r.length===0)return Ue([],e);let o=new pe(_R(r,e,i?s=>Ml(i,s):nn));return n?o.pipe(Al(n)):o}function _R(t,e,n=nn){return r=>{_I(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)_I(e,()=>{let l=Ue(t[u],e),h=!1;l.subscribe(_e(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function _I(t,e,n){t?Qt(n,t,e):e()}function wI(t,e,n,r,i,o,s,a){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},y=N=>l<r?S(N):u.push(N),S=N=>{o&&e.next(N),l++;let P=!1;it(n(N,h++)).subscribe(_e(e,V=>{i?.(V),o?y(V):e.next(V)},()=>{P=!0},void 0,()=>{if(P)try{for(l--;u.length&&l<r;){let V=u.shift();s?Qt(e,s,()=>S(V)):S(V)}m()}catch(V){e.error(V)}}))};return t.subscribe(_e(e,y,()=>{p=!0,m()})),()=>{a?.()}}function ot(t,e,n=1/0){return de(e)?ot((r,i)=>se((o,s)=>e(r,o,i,s))(it(t(r,i))),n):(typeof e=="number"&&(n=e),Ie((r,i)=>wI(r,i,t,n)))}function li(t=1/0){return ot(nn,t)}function EI(){return li(1)}function hs(...t){return EI()(Ue(t,ai(t)))}function Pl(t){return new pe(e=>{it(t()).subscribe(e)})}function Jp(...t){let e=yl(t),{args:n,keys:r}=xl(t),i=new pe(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;it(n[h]).subscribe(_e(o,m=>{p||(p=!0,l--),a[h]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?Ml(r,a):a),o.complete())}))}});return e?i.pipe(Al(e)):i}function II(t=0,e,n=Wp){let r=-1;return e!=null&&(ml(e)?n=e:r=e),new pe(i=>{let o=vI(t)?+t-n.now():t;o<0&&(o=0);let s=0;return n.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function Zp(t=0,e=ls){return t<0&&(t=0),II(t,t,e)}function Bt(t,e){return Ie((n,r)=>{let i=0;n.subscribe(_e(r,o=>t.call(e,o,i++)&&r.next(o)))})}function di(t){return Ie((e,n)=>{let r=null,i=!1,o;r=e.subscribe(_e(n,void 0,void 0,s=>{o=it(t(s,di(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function CI(t,e,n,r,i){return(o,s)=>{let a=n,u=e,l=0;o.subscribe(_e(s,h=>{let p=l++;u=a?t(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function Dr(t,e){return de(e)?ot(t,e,1):ot(t,1)}function hi(t){return Ie((e,n)=>{let r=!1;e.subscribe(_e(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Tr(t){return t<=0?()=>rn:Ie((e,n)=>{let r=0;e.subscribe(_e(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Xp(t){return se(()=>t)}function Rl(t=wR){return Ie((e,n)=>{let r=!1;e.subscribe(_e(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function wR(){return new br}function fi(t){return Ie((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function zn(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Bt((i,o)=>t(i,o,r)):nn,Tr(1),n?hi(e):Rl(()=>new br))}function fs(t){return t<=0?()=>rn:Ie((e,n)=>{let r=[];e.subscribe(_e(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function eg(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Bt((i,o)=>t(i,o,r)):nn,fs(1),n?hi(e):Rl(()=>new br))}function Nl(t,e){return Ie(CI(t,e,arguments.length>=2,!0))}function Ol(...t){let e=ai(t);return Ie((n,r)=>{(e?hs(t,n,e):hs(t,n)).subscribe(r)})}function Yt(t,e){return Ie((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(_e(r,u=>{i?.unsubscribe();let l=0,h=o++;it(t(u,h)).subscribe(i=_e(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function tg(t){return Ie((e,n)=>{it(t).subscribe(_e(n,()=>n.complete(),ec)),!n.closed&&e.subscribe(n)})}function st(t,e,n){let r=de(t)||e||n?{next:t,error:e,complete:n}:t;return r?Ie((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(_e(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):nn}var lC="https://g.co/ng/security#xss",Z=class extends Error{constructor(e,n){super(pd(e,n)),this.code=e}};function pd(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function dc(t){return{toString:t}.toString()}var kl="__parameters__";function ER(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function dC(t,e,n){return dc(()=>{let r=ER(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(kl)?u[kl]:Object.defineProperty(u,kl,{value:[]})[kl];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Sr=globalThis;function Be(t){for(let e in t)if(t[e]===Be)return e;throw Error("Could not find renamed property on target object.")}function IR(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Ht(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Ht).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function bI(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var CR=Be({__forward_ref__:Be});function Pn(t){return t.__forward_ref__=Pn,t.toString=function(){return Ht(this())},t}function $t(t){return hC(t)?t():t}function hC(t){return typeof t=="function"&&t.hasOwnProperty(CR)&&t.__forward_ref__===Pn}function z(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Zn(t){return{providers:t.providers||[],imports:t.imports||[]}}function gd(t){return DI(t,pC)||DI(t,gC)}function fC(t){return gd(t)!==null}function DI(t,e){return t.hasOwnProperty(e)?t[e]:null}function bR(t){let e=t&&(t[pC]||t[gC]);return e||null}function TI(t){return t&&(t.hasOwnProperty(SI)||t.hasOwnProperty(DR))?t[SI]:null}var pC=Be({\u0275prov:Be}),SI=Be({\u0275inj:Be}),gC=Be({ngInjectableDef:Be}),DR=Be({ngInjectorDef:Be}),H=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=z({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function mC(t){return t&&!!t.\u0275providers}var TR=Be({\u0275cmp:Be}),SR=Be({\u0275dir:Be}),AR=Be({\u0275pipe:Be}),xR=Be({\u0275mod:Be}),ql=Be({\u0275fac:Be}),rc=Be({__NG_ELEMENT_ID__:Be}),AI=Be({__NG_ENV_ID__:Be});function _s(t){return typeof t=="string"?t:t==null?"":String(t)}function MR(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():_s(t)}function PR(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new Z(-200,t)}function dm(t,e){throw new Z(-201,!1)}var ve=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ve||{}),yg;function yC(){return yg}function Jt(t){let e=yg;return yg=t,e}function vC(t,e,n){let r=gd(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&ve.Optional)return null;if(e!==void 0)return e;dm(t,"Injector")}var RR={},ic=RR,vg="__NG_DI_FLAG__",Gl="ngTempTokenPath",NR="ngTokenPath",OR=/\n/gm,kR="\u0275",xI="__source",ys;function FR(){return ys}function pi(t){let e=ys;return ys=t,e}function VR(t,e=ve.Default){if(ys===void 0)throw new Z(-203,!1);return ys===null?vC(t,void 0,e):ys.get(t,e&ve.Optional?null:void 0,e)}function G(t,e=ve.Default){return(yC()||VR)($t(t),e)}function F(t,e=ve.Default){return G(t,md(e))}function md(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function _g(t){let e=[];for(let n=0;n<t.length;n++){let r=$t(t[n]);if(Array.isArray(r)){if(r.length===0)throw new Z(900,!1);let i,o=ve.Default;for(let s=0;s<r.length;s++){let a=r[s],u=LR(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(G(i,o))}else e.push(G(r))}return e}function _C(t,e){return t[vg]=e,t.prototype[vg]=e,t}function LR(t){return t[vg]}function jR(t,e,n,r){let i=t[Gl];throw e[xI]&&i.unshift(e[xI]),t.message=UR(`
`+t.message,i,n,r),t[NR]=i,t[Gl]=null,t}function UR(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==kR?t.slice(2):t;let i=Ht(e);if(Array.isArray(e))i=e.map(Ht).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Ht(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(OR,`
  `)}`}var vt=_C(dC("Optional"),8);var hm=_C(dC("SkipSelf"),4);function ao(t,e){let n=t.hasOwnProperty(ql);return n?t[ql]:null}function BR(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function $R(t){return t.flat(Number.POSITIVE_INFINITY)}function fm(t,e){t.forEach(n=>Array.isArray(n)?fm(n,e):e(n))}function wC(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Wl(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function HR(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function zR(t,e,n){let r=hc(t,e);return r>=0?t[r|1]=n:(r=~r,HR(t,r,e,n)),r}function ng(t,e){let n=hc(t,e);if(n>=0)return t[n|1]}function hc(t,e){return qR(t,e,1)}function qR(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var ws={},mn=[],Es=new H(""),EC=new H("",-1),IC=new H(""),Kl=class{get(e,n=ic){if(n===ic){let r=new Error(`NullInjectorError: No provider for ${Ht(e)}!`);throw r.name="NullInjectorError",r}return n}},CC=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(CC||{}),Wn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Wn||{}),Is=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Is||{});function GR(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function wg(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];WR(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function bC(t){return t===3||t===4||t===6}function WR(t){return t.charCodeAt(0)===64}function oc(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?MI(t,n,i,null,e[++r]):MI(t,n,i,null,null))}}return t}function MI(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var DC="ng-template";function KR(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&GR(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(pm(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function pm(t){return t.type===4&&t.value!==DC}function QR(t,e,n){let r=t.type===4&&!n?DC:t.value;return e===r}function YR(t,e,n){let r=4,i=t.attrs,o=i!==null?XR(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!Sn(r)&&!Sn(u))return!1;if(s&&Sn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!QR(t,u,n)||u===""&&e.length===1){if(Sn(r))return!1;s=!0}}else if(r&8){if(i===null||!KR(t,i,u,n)){if(Sn(r))return!1;s=!0}}else{let l=e[++a],h=JR(u,i,pm(t),n);if(h===-1){if(Sn(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(Sn(r))return!1;s=!0}}}}return Sn(r)||s}function Sn(t){return(t&1)===0}function JR(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return eN(e,t)}function ZR(t,e,n=!1){for(let r=0;r<e.length;r++)if(YR(t,e[r],n))return!0;return!1}function XR(t){for(let e=0;e<t.length;e++){let n=t[e];if(bC(n))return e}return t.length}function eN(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function PI(t,e){return t?":not("+e.trim()+")":e}function tN(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Sn(s)&&(e+=PI(o,i),i=""),r=s,o=o||!Sn(r);n++}return i!==""&&(e+=PI(o,i)),e}function nN(t){return t.map(tN).join(",")}function rN(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!Sn(i))break;i=o}r++}return{attrs:e,classes:n}}function Ze(t){return dc(()=>{let e=PC(t),n=ye(U({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===CC.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Wn.Emulated,styles:t.styles||mn,_:null,schemas:t.schemas||null,tView:null,id:""});RC(n);let r=t.dependencies;return n.directiveDefs=NI(r,!1),n.pipeDefs=NI(r,!0),n.id=sN(n),n})}function iN(t){return vi(t)||SC(t)}function oN(t){return t!==null}function Xn(t){return dc(()=>({type:t.type,bootstrap:t.bootstrap||mn,declarations:t.declarations||mn,imports:t.imports||mn,exports:t.exports||mn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function RI(t,e){if(t==null)return ws;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=Is.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==Is.None?[r,a]:r,e[o]=s):n[o]=r}return n}function qe(t){return dc(()=>{let e=PC(t);return RC(e),e})}function TC(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function vi(t){return t[TR]||null}function SC(t){return t[SR]||null}function AC(t){return t[AR]||null}function xC(t){let e=vi(t)||SC(t)||AC(t);return e!==null?e.standalone:!1}function MC(t,e){let n=t[xR]||null;if(!n&&e===!0)throw new Error(`Type ${Ht(t)} does not have '\u0275mod' property.`);return n}function PC(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||ws,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||mn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:RI(t.inputs,e),outputs:RI(t.outputs),debugInfo:null}}function RC(t){t.features?.forEach(e=>e(t))}function NI(t,e){if(!t)return null;let n=e?AC:iN;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(oN)}function sN(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function sn(t){return{\u0275providers:t}}function aN(...t){return{\u0275providers:NC(!0,t),\u0275fromNgModule:!0}}function NC(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return fm(e,s=>{let a=s;Eg(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&OC(i,o),n}function OC(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];gm(i,o=>{e(o,r)})}}function Eg(t,e,n,r){if(t=$t(t),!t)return!1;let i=null,o=TI(t),s=!o&&vi(t);if(!o&&!s){let u=t.ngModule;if(o=TI(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)Eg(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{fm(o.imports,h=>{Eg(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&OC(l,e)}if(!a){let l=ao(i)||(()=>new i);e({provide:i,useFactory:l,deps:mn},i),e({provide:IC,useValue:i,multi:!0},i),e({provide:Es,useValue:()=>G(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=t;gm(u,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function gm(t,e){for(let n of t)mC(n)&&(n=n.\u0275providers),Array.isArray(n)?gm(n,e):e(n)}var cN=Be({provide:String,useValue:Be});function kC(t){return t!==null&&typeof t=="object"&&cN in t}function uN(t){return!!(t&&t.useExisting)}function lN(t){return!!(t&&t.useFactory)}function Cs(t){return typeof t=="function"}function dN(t){return!!t.useClass}var yd=new H(""),jl={},hN={},rg;function mm(){return rg===void 0&&(rg=new Kl),rg}var Rt=class{},sc=class extends Rt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Cg(e,s=>this.processProvider(s)),this.records.set(EC,ps(void 0,this)),i.has("environment")&&this.records.set(Rt,ps(void 0,this));let o=this.records.get(yd);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(IC,mn,ve.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Pe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Pe(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=pi(this),r=Jt(void 0),i;try{return e()}finally{pi(n),Jt(r)}}get(e,n=ic,r=ve.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(AI))return e[AI](this);r=md(r);let i,o=pi(this),s=Jt(void 0);try{if(!(r&ve.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=yN(e)&&gd(e);l&&this.injectableDefInScope(l)?u=ps(Ig(e),jl):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&ve.Self?mm():this.parent;return n=r&ve.Optional&&n===ic?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Gl]=a[Gl]||[]).unshift(Ht(e)),o)throw a;return jR(a,e,"R3InjectorError",this.source)}else throw a}finally{Jt(s),pi(o)}}resolveInjectorInitializers(){let e=Pe(null),n=pi(this),r=Jt(void 0),i;try{let o=this.get(Es,mn,ve.Self);for(let s of o)s()}finally{pi(n),Jt(r),Pe(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Ht(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Z(205,!1)}processProvider(e){e=$t(e);let n=Cs(e)?e:$t(e&&e.provide),r=pN(e);if(!Cs(e)&&e.multi===!0){let i=this.records.get(n);i||(i=ps(void 0,jl,!0),i.factory=()=>_g(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=Pe(null);try{return n.value===jl&&(n.value=hN,n.value=n.factory()),typeof n.value=="object"&&n.value&&mN(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Pe(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=$t(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Ig(t){let e=gd(t),n=e!==null?e.factory:ao(t);if(n!==null)return n;if(t instanceof H)throw new Z(204,!1);if(t instanceof Function)return fN(t);throw new Z(204,!1)}function fN(t){if(t.length>0)throw new Z(204,!1);let n=bR(t);return n!==null?()=>n.factory(t):()=>new t}function pN(t){if(kC(t))return ps(void 0,t.useValue);{let e=FC(t);return ps(e,jl)}}function FC(t,e,n){let r;if(Cs(t)){let i=$t(t);return ao(i)||Ig(i)}else if(kC(t))r=()=>$t(t.useValue);else if(lN(t))r=()=>t.useFactory(..._g(t.deps||[]));else if(uN(t))r=()=>G($t(t.useExisting));else{let i=$t(t&&(t.useClass||t.provide));if(gN(t))r=()=>new i(..._g(t.deps));else return ao(i)||Ig(i)}return r}function ps(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function gN(t){return!!t.deps}function mN(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function yN(t){return typeof t=="function"||typeof t=="object"&&t instanceof H}function Cg(t,e){for(let n of t)Array.isArray(n)?Cg(n,e):n&&mC(n)?Cg(n.\u0275providers,e):e(n)}function an(t,e){t instanceof sc&&t.assertNotDestroyed();let n,r=pi(t),i=Jt(void 0);try{return e()}finally{pi(r),Jt(i)}}function VC(){return yC()!==void 0||FR()!=null}function vN(t){if(!VC())throw new Z(-203,!1)}function _N(t){return typeof t=="function"}var Pr=0,ge=1,ce=2,Nt=3,An=4,Rn=5,Ql=6,Yl=7,xn=8,bs=9,Kn=10,at=11,ac=12,OI=13,Ps=14,Qn=15,co=16,gs=17,Ar=18,vd=19,LC=20,mi=21,ig=22,yn=23,Mn=25,jC=1;var uo=7,Jl=8,Ds=9,on=10,Zl=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Zl||{});function yi(t){return Array.isArray(t)&&typeof t[jC]=="object"}function Rr(t){return Array.isArray(t)&&t[jC]===!0}function UC(t){return(t.flags&4)!==0}function _d(t){return t.componentOffset>-1}function ym(t){return(t.flags&1)===1}function _i(t){return!!t.template}function bg(t){return(t[ce]&512)!==0}var Dg=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function BC(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Nr(){return $C}function $C(t){return t.type.prototype.ngOnChanges&&(t.setInput=EN),wN}Nr.ngInherit=!0;function wN(){let t=zC(this),e=t?.current;if(e){let n=t.previous;if(n===ws)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function EN(t,e,n,r,i){let o=this.declaredInputs[r],s=zC(t)||IN(t,{previous:ws,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new Dg(l&&l.currentValue,n,u===ws),BC(t,e,i,n)}var HC="__ngSimpleChanges__";function zC(t){return t[HC]||null}function IN(t,e){return t[HC]=e}var kI=null;var qn=function(t,e,n){kI?.(t,e,n)},qC="svg",CN="math";function Yn(t){for(;Array.isArray(t);)t=t[Pr];return t}function GC(t,e){return Yn(e[t])}function vn(t,e){return Yn(e[t.index])}function WC(t,e){return t.data[e]}function KC(t,e){return t[e]}function Ii(t,e){let n=e[t];return yi(n)?n:n[Pr]}function bN(t){return(t[ce]&4)===4}function vm(t){return(t[ce]&128)===128}function DN(t){return Rr(t[Nt])}function Xl(t,e){return e==null?null:t[e]}function QC(t){t[gs]=0}function YC(t){t[ce]&1024||(t[ce]|=1024,vm(t)&&wd(t))}function TN(t,e){for(;t>0;)e=e[Ps],t--;return e}function cc(t){return!!(t[ce]&9216||t[yn]?.dirty)}function Tg(t){t[Kn].changeDetectionScheduler?.notify(7),t[ce]&64&&(t[ce]|=1024),cc(t)&&wd(t)}function wd(t){t[Kn].changeDetectionScheduler?.notify(0);let e=lo(t);for(;e!==null&&!(e[ce]&8192||(e[ce]|=8192,!vm(e)));)e=lo(e)}function JC(t,e){if((t[ce]&256)===256)throw new Z(911,!1);t[mi]===null&&(t[mi]=[]),t[mi].push(e)}function SN(t,e){if(t[mi]===null)return;let n=t[mi].indexOf(e);n!==-1&&t[mi].splice(n,1)}function lo(t){let e=t[Nt];return Rr(e)?e[Nt]:e}var he={lFrame:cb(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var ZC=!1;function AN(){return he.lFrame.elementDepthCount}function xN(){he.lFrame.elementDepthCount++}function MN(){he.lFrame.elementDepthCount--}function XC(){return he.bindingsEnabled}function PN(){return he.skipHydrationRootTNode!==null}function RN(t){return he.skipHydrationRootTNode===t}function NN(){he.skipHydrationRootTNode=null}function be(){return he.lFrame.lView}function It(){return he.lFrame.tView}function K(t){return he.lFrame.contextLView=t,t[xn]}function Q(t){return he.lFrame.contextLView=null,t}function Ot(){let t=eb();for(;t!==null&&t.type===64;)t=t.parent;return t}function eb(){return he.lFrame.currentTNode}function ON(){let t=he.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function fc(t,e){let n=he.lFrame;n.currentTNode=t,n.isParent=e}function tb(){return he.lFrame.isParent}function kN(){he.lFrame.isParent=!1}function FN(){return he.lFrame.contextLView}function nb(){return ZC}function FI(t){ZC=t}function rb(){let t=he.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function VN(){return he.lFrame.bindingIndex}function LN(t){return he.lFrame.bindingIndex=t}function Ed(){return he.lFrame.bindingIndex++}function ib(t){let e=he.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function jN(){return he.lFrame.inI18n}function UN(t,e){let n=he.lFrame;n.bindingIndex=n.bindingRootIndex=t,Sg(e)}function BN(){return he.lFrame.currentDirectiveIndex}function Sg(t){he.lFrame.currentDirectiveIndex=t}function $N(t){let e=he.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function ob(){return he.lFrame.currentQueryIndex}function _m(t){he.lFrame.currentQueryIndex=t}function HN(t){let e=t[ge];return e.type===2?e.declTNode:e.type===1?t[Rn]:null}function sb(t,e,n){if(n&ve.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&ve.Host);)if(i=HN(o),i===null||(o=o[Ps],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=he.lFrame=ab();return r.currentTNode=e,r.lView=t,!0}function wm(t){let e=ab(),n=t[ge];he.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function ab(){let t=he.lFrame,e=t===null?null:t.child;return e===null?cb(t):e}function cb(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function ub(){let t=he.lFrame;return he.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var lb=ub;function Em(){let t=ub();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function zN(t){return(he.lFrame.contextLView=TN(t,he.lFrame.contextLView))[xn]}function _o(){return he.lFrame.selectedIndex}function ho(t){he.lFrame.selectedIndex=t}function Id(){let t=he.lFrame;return WC(t.tView,t.selectedIndex)}function er(){he.lFrame.currentNamespace=qC}function wo(){qN()}function qN(){he.lFrame.currentNamespace=null}function GN(){return he.lFrame.currentNamespace}var db=!0;function Im(){return db}function Cm(t){db=t}function WN(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=$C(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function bm(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function Ul(t,e,n){hb(t,e,3,n)}function Bl(t,e,n,r){(t[ce]&3)===n&&hb(t,e,n,r)}function og(t,e){let n=t[ce];(n&3)===e&&(n&=16383,n+=1,t[ce]=n)}function hb(t,e,n,r){let i=r!==void 0?t[gs]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[gs]+=65536),(a<o||o==-1)&&(KN(t,n,e,u),t[gs]=(t[gs]&4294901760)+u+2),u++}function VI(t,e){qn(4,t,e);let n=Pe(null);try{e.call(t)}finally{Pe(n),qn(5,t,e)}}function KN(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[ce]>>14<t[gs]>>16&&(t[ce]&3)===e&&(t[ce]+=16384,VI(a,o)):VI(a,o)}var vs=-1,fo=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function QN(t){return t instanceof fo}function YN(t){return(t.flags&8)!==0}function JN(t){return(t.flags&16)!==0}var sg={},Ag=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=md(r);let i=this.injector.get(e,sg,r);return i!==sg||n===sg?i:this.parentInjector.get(e,n,r)}};function fb(t){return t!==vs}function ed(t){return t&32767}function ZN(t){return t>>16}function td(t,e){let n=ZN(t),r=e;for(;n>0;)r=r[Ps],n--;return r}var xg=!0;function nd(t){let e=xg;return xg=t,e}var XN=256,pb=XN-1,gb=5,eO=0,Gn={};function tO(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(rc)&&(r=n[rc]),r==null&&(r=n[rc]=eO++);let i=r&pb,o=1<<i;e.data[t+(i>>gb)]|=o}function rd(t,e){let n=mb(t,e);if(n!==-1)return n;let r=e[ge];r.firstCreatePass&&(t.injectorIndex=e.length,ag(r.data,t),ag(e,null),ag(r.blueprint,null));let i=Dm(t,e),o=t.injectorIndex;if(fb(i)){let s=ed(i),a=td(i,e),u=a[ge].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function ag(t,e){t.push(0,0,0,0,0,0,0,0,e)}function mb(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Dm(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=Eb(i),r===null)return vs;if(n++,i=i[Ps],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return vs}function Mg(t,e,n){tO(t,e,n)}function nO(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(bC(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function yb(t,e,n){if(n&ve.Optional||t!==void 0)return t;dm(e,"NodeInjector")}function vb(t,e,n,r){if(n&ve.Optional&&r===void 0&&(r=null),!(n&(ve.Self|ve.Host))){let i=t[bs],o=Jt(void 0);try{return i?i.get(e,r,n&ve.Optional):vC(e,r,n&ve.Optional)}finally{Jt(o)}}return yb(r,e,n)}function _b(t,e,n,r=ve.Default,i){if(t!==null){if(e[ce]&2048&&!(r&ve.Self)){let s=sO(t,e,n,r,Gn);if(s!==Gn)return s}let o=wb(t,e,n,r,Gn);if(o!==Gn)return o}return vb(e,n,r,i)}function wb(t,e,n,r,i){let o=iO(n);if(typeof o=="function"){if(!sb(e,t,r))return r&ve.Host?yb(i,n,r):vb(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&ve.Optional))dm(n);else return s}finally{lb()}}else if(typeof o=="number"){let s=null,a=mb(t,e),u=vs,l=r&ve.Host?e[Qn][Rn]:null;for((a===-1||r&ve.SkipSelf)&&(u=a===-1?Dm(t,e):e[a+8],u===vs||!jI(r,!1)?a=-1:(s=e[ge],a=ed(u),e=td(u,e)));a!==-1;){let h=e[ge];if(LI(o,a,h.data)){let p=rO(a,e,n,s,r,l);if(p!==Gn)return p}u=e[a+8],u!==vs&&jI(r,e[ge].data[a+8]===l)&&LI(o,a,e)?(s=h,a=ed(u),e=td(u,e)):a=-1}}return i}function rO(t,e,n,r,i,o){let s=e[ge],a=s.data[t+8],u=r==null?_d(a)&&xg:r!=s&&(a.type&3)!==0,l=i&ve.Host&&o===a,h=$l(a,s,n,u,l);return h!==null?po(e,s,h,a):Gn}function $l(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,u=t.directiveStart,l=t.directiveEnd,h=o>>20,p=r?a:a+h,m=i?a+h:l;for(let y=p;y<m;y++){let S=s[y];if(y<u&&n===S||y>=u&&S.type===n)return y}if(i){let y=s[u];if(y&&_i(y)&&y.type===n)return u}return null}function po(t,e,n,r){let i=t[n],o=e.data;if(QN(i)){let s=i;s.resolving&&PR(MR(o[n]));let a=nd(s.canSeeViewProviders);s.resolving=!0;let u,l=s.injectImpl?Jt(s.injectImpl):null,h=sb(t,r,ve.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&WN(n,o[n],e)}finally{l!==null&&Jt(l),nd(a),s.resolving=!1,lb()}}return i}function iO(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(rc)?t[rc]:void 0;return typeof e=="number"?e>=0?e&pb:oO:e}function LI(t,e,n){let r=1<<t;return!!(n[e+(t>>gb)]&r)}function jI(t,e){return!(t&ve.Self)&&!(t&ve.Host&&e)}var so=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return _b(this._tNode,this._lView,e,md(r),n)}};function oO(){return new so(Ot(),be())}function tr(t){return dc(()=>{let e=t.prototype.constructor,n=e[ql]||Pg(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[ql]||Pg(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Pg(t){return hC(t)?()=>{let e=Pg($t(t));return e&&e()}:ao(t)}function sO(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[ce]&2048&&!(s[ce]&512);){let a=wb(o,s,n,r|ve.Self,Gn);if(a!==Gn)return a;let u=o.parent;if(!u){let l=s[LC];if(l){let h=l.get(n,Gn,r);if(h!==Gn)return h}u=Eb(s),s=s[Ps]}o=u}return i}function Eb(t){let e=t[ge],n=e.type;return n===2?e.declTNode:n===1?t[Rn]:null}function Tm(t){return nO(Ot(),t)}function UI(t,e=null,n=null,r){let i=Ib(t,e,n,r);return i.resolveInjectorInitializers(),i}function Ib(t,e=null,n=null,r,i=new Set){let o=[n||mn,aN(t)];return r=r||(typeof t=="object"?void 0:Ht(t)),new sc(o,e||mm(),r||null,i)}var oo=class oo{static create(e,n){if(Array.isArray(e))return UI({name:""},n,e,"");{let r=e.name??"";return UI({name:r},e.parent,e.providers,r)}}};oo.THROW_IF_NOT_FOUND=ic,oo.NULL=new Kl,oo.\u0275prov=z({token:oo,providedIn:"any",factory:()=>G(EC)}),oo.__NG_ELEMENT_ID__=-1;var yt=oo;var aO=new H("");aO.__NG_ELEMENT_ID__=t=>{let e=Ot();if(e===null)throw new Z(204,!1);if(e.type&2)return e.value;if(t&ve.Optional)return null;throw new Z(204,!1)};var cO="ngOriginalError";function cg(t){return t[cO]}var Jn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&cg(e);for(;n&&cg(n);)n=cg(n);return n||null}},Cb=new H("",{providedIn:"root",factory:()=>F(Jn).handleError.bind(void 0)}),Sm=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=uO,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),Rg=class extends Sm{constructor(e){super(),this._lView=e}onDestroy(e){return JC(this._lView,e),()=>SN(this._lView,e)}};function uO(){return new Rg(be())}function lO(){return Rs(Ot(),be())}function Rs(t,e){return new zt(vn(t,e))}var zt=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=lO;let t=e;return t})();function dO(t){return t instanceof zt?t.nativeElement:t}var Or=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new mt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275prov=z({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();var Ng=class extends Et{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,VC()&&(this.destroyRef=F(Sm,{optional:!0})??void 0,this.pendingTasks=F(Or,{optional:!0})??void 0)}emit(e){let n=Pe(null);try{super.next(e)}finally{Pe(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Ye&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},Je=Ng;function hO(){return this._results[Symbol.iterator]()}var Og=class t{get changes(){return this._changes??=new Je}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=hO)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=$R(e);(this._changesDetected=!BR(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function bb(t){return(t.flags&128)===128}var Db=new Map,fO=0;function pO(){return fO++}function gO(t){Db.set(t[vd],t)}function mO(t){Db.delete(t[vd])}var BI="__ngContext__";function go(t,e){yi(e)?(t[BI]=e[vd],gO(e)):t[BI]=e}function Tb(t){return Ab(t[ac])}function Sb(t){return Ab(t[An])}function Ab(t){for(;t!==null&&!Rr(t);)t=t[An];return t}var kg;function xb(t){kg=t}function yO(){if(kg!==void 0)return kg;if(typeof document<"u")return document;throw new Z(210,!1)}var Am=new H("",{providedIn:"root",factory:()=>vO}),vO="ng",xm=new H(""),St=new H("",{providedIn:"platform",factory:()=>"unknown"});var Mm=new H("",{providedIn:"root",factory:()=>yO().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var _O="h",wO="b";var EO=()=>null;function Pm(t,e,n=!1){return EO(t,e,n)}var Mb=!1,IO=new H("",{providedIn:"root",factory:()=>Mb});var Fl;function CO(){if(Fl===void 0&&(Fl=null,Sr.trustedTypes))try{Fl=Sr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Fl}function $I(t){return CO()?.createScriptURL(t)||t}var id=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${lC})`}};function pc(t){return t instanceof id?t.changingThisBreaksApplicationSecurity:t}function Rm(t,e){let n=bO(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${lC})`)}return n===e}function bO(t){return t instanceof id&&t.getTypeName()||null}var DO=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Pb(t){return t=String(t),t.match(DO)?t:"unsafe:"+t}var Cd=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Cd||{});function Nn(t){let e=Nb();return e?e.sanitize(Cd.URL,t)||"":Rm(t,"URL")?pc(t):Pb(_s(t))}function TO(t){let e=Nb();if(e)return $I(e.sanitize(Cd.RESOURCE_URL,t)||"");if(Rm(t,"ResourceURL"))return $I(pc(t));throw new Z(904,!1)}function SO(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?TO:Nn}function Rb(t,e,n){return SO(e,n)(t)}function Nb(){let t=be();return t&&t[Kn].sanitizer}function Ob(t){return t.ownerDocument}function kb(t){return t instanceof Function?t():t}function AO(t){return(t??F(yt)).get(St)==="browser"}var xr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(xr||{}),xO;function Nm(t,e){return xO(t,e)}function ms(t,e,n,r,i){if(r!=null){let o,s=!1;Rr(r)?o=r:yi(r)&&(s=!0,r=r[Pr]);let a=Yn(r);t===0&&n!==null?i==null?Ub(e,n,a):od(e,n,a,i||null,!0):t===1&&n!==null?od(e,n,a,i||null,!0):t===2?qO(e,a,s):t===3&&e.destroyNode(a),o!=null&&WO(e,t,o,n,i)}}function MO(t,e){return t.createText(e)}function PO(t,e,n){t.setValue(e,n)}function Fb(t,e,n){return t.createElement(e,n)}function RO(t,e){Vb(t,e),e[Pr]=null,e[Rn]=null}function NO(t,e,n,r,i,o){r[Pr]=i,r[Rn]=e,bd(t,r,n,1,i,o)}function Vb(t,e){e[Kn].changeDetectionScheduler?.notify(8),bd(t,e,e[at],2,null,null)}function OO(t){let e=t[ac];if(!e)return ug(t[ge],t);for(;e;){let n=null;if(yi(e))n=e[ac];else{let r=e[on];r&&(n=r)}if(!n){for(;e&&!e[An]&&e!==t;)yi(e)&&ug(e[ge],e),e=e[Nt];e===null&&(e=t),yi(e)&&ug(e[ge],e),n=e&&e[An]}e=n}}function kO(t,e,n,r){let i=on+r,o=n.length;r>0&&(n[i-1][An]=e),r<o-on?(e[An]=n[i],wC(n,on+r,e)):(n.push(e),e[An]=null),e[Nt]=n;let s=e[co];s!==null&&n!==s&&Lb(s,e);let a=e[Ar];a!==null&&a.insertView(t),Tg(e),e[ce]|=128}function Lb(t,e){let n=t[Ds],r=e[Nt];if(yi(r))t[ce]|=Zl.HasTransplantedViews;else{let i=r[Nt][Qn];e[Qn]!==i&&(t[ce]|=Zl.HasTransplantedViews)}n===null?t[Ds]=[e]:n.push(e)}function Om(t,e){let n=t[Ds],r=n.indexOf(e);n.splice(r,1)}function Fg(t,e){if(t.length<=on)return;let n=on+e,r=t[n];if(r){let i=r[co];i!==null&&i!==t&&Om(i,r),e>0&&(t[n-1][An]=r[An]);let o=Wl(t,on+e);RO(r[ge],r);let s=o[Ar];s!==null&&s.detachView(o[ge]),r[Nt]=null,r[An]=null,r[ce]&=-129}return r}function jb(t,e){if(!(e[ce]&256)){let n=e[at];n.destroyNode&&bd(t,e,n,3,null,null),OO(e)}}function ug(t,e){if(e[ce]&256)return;let n=Pe(null);try{e[ce]&=-129,e[ce]|=256,e[yn]&&Op(e[yn]),VO(t,e),FO(t,e),e[ge].type===1&&e[at].destroy();let r=e[co];if(r!==null&&Rr(e[Nt])){r!==e[Nt]&&Om(r,e);let i=e[Ar];i!==null&&i.detachView(t)}mO(e)}finally{Pe(n)}}function FO(t,e){let n=t.cleanup,r=e[Yl];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[Yl]=null);let i=e[mi];if(i!==null){e[mi]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function VO(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof fo)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];qn(4,a,u);try{u.call(a)}finally{qn(5,a,u)}}else{qn(4,i,o);try{o.call(i)}finally{qn(5,i,o)}}}}}function LO(t,e,n){return jO(t,e.parent,n)}function jO(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[Pr];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===Wn.None||o===Wn.Emulated)return null}return vn(r,n)}}function od(t,e,n,r,i){t.insertBefore(e,n,r,i)}function Ub(t,e,n){t.appendChild(e,n)}function HI(t,e,n,r,i){r!==null?od(t,e,n,r,i):Ub(t,e,n)}function UO(t,e,n,r){t.removeChild(e,n,r)}function km(t,e){return t.parentNode(e)}function BO(t,e){return t.nextSibling(e)}function $O(t,e,n){return zO(t,e,n)}function HO(t,e,n){return t.type&40?vn(t,n):null}var zO=HO,zI;function Fm(t,e,n,r){let i=LO(t,r,e),o=e[at],s=r.parent||e[Rn],a=$O(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)HI(o,i,n[u],a,!1);else HI(o,i,n,a,!1);zI!==void 0&&zI(o,r,e,n,i)}function Hl(t,e){if(e!==null){let n=e.type;if(n&3)return vn(e,t);if(n&4)return Vg(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Hl(t,r);{let i=t[e.index];return Rr(i)?Vg(-1,i):Yn(i)}}else{if(n&32)return Nm(e,t)()||Yn(t[e.index]);{let r=Bb(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=lo(t[Qn]);return Hl(i,r)}else return Hl(t,e.next)}}}return null}function Bb(t,e){if(e!==null){let r=t[Qn][Rn],i=e.projection;return r.projection[i]}return null}function Vg(t,e){let n=on+t+1;if(n<e.length){let r=e[n],i=r[ge].firstChild;if(i!==null)return Hl(r,i)}return e[uo]}function qO(t,e,n){let r=km(t,e);r&&UO(t,r,e,n)}function Vm(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],u=n.type;if(s&&e===0&&(a&&go(Yn(a),r),n.flags|=2),(n.flags&32)!==32)if(u&8)Vm(t,e,n.child,r,i,o,!1),ms(e,t,i,a,o);else if(u&32){let l=Nm(n,r),h;for(;h=l();)ms(e,t,i,h,o);ms(e,t,i,a,o)}else u&16?GO(t,e,r,n,i,o):ms(e,t,i,a,o);n=s?n.projectionNext:n.next}}function bd(t,e,n,r,i,o){Vm(n,r,t.firstChild,e,i,o,!1)}function GO(t,e,n,r,i,o){let s=n[Qn],u=s[Rn].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];ms(e,t,i,h,o)}else{let l=u,h=s[Nt];bb(r)&&(l.flags|=128),Vm(t,e,l,h,i,o,!0)}}function WO(t,e,n,r,i){let o=n[uo],s=Yn(n);o!==s&&ms(e,t,r,o,i);for(let a=on;a<n.length;a++){let u=n[a];bd(u[ge],u,t,e,r,o)}}function KO(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:xr.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=xr.Important),t.setStyle(n,r,i,o))}}function QO(t,e,n){t.setAttribute(e,"style",n)}function $b(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function Hb(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&wg(t,e,r),i!==null&&$b(t,e,i),o!==null&&QO(t,e,o)}var nr={};function O(t=1){zb(It(),be(),_o()+t,!1)}function zb(t,e,n,r){if(!r)if((e[ce]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Ul(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Bl(e,o,0,n)}ho(n)}function $(t,e=ve.Default){let n=be();if(n===null)return G(t,e);let r=Ot();return _b(r,n,$t(t),e)}function qb(){let t="invalid";throw new Error(t)}function Gb(t,e,n,r,i,o){let s=Pe(null);try{let a=null;i&Is.SignalBased&&(a=e[r][Mp]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&Is.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):BC(e,a,r,o)}finally{Pe(s)}}function YO(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)ho(~i);else{let o=i,s=n[++r],a=n[++r];UN(s,o);let u=e[o];a(2,u)}}}finally{ho(-1)}}function Dd(t,e,n,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[Pr]=i,p[ce]=r|4|128|8|64,(l!==null||t&&t[ce]&2048)&&(p[ce]|=2048),QC(p),p[Nt]=p[Ps]=t,p[xn]=n,p[Kn]=s||t&&t[Kn],p[at]=a||t&&t[at],p[bs]=u||t&&t[bs]||null,p[Rn]=o,p[vd]=pO(),p[Ql]=h,p[LC]=l,p[Qn]=e.type==2?t[Qn]:p,p}function Td(t,e,n,r,i){let o=t.data[e];if(o===null)o=JO(t,e,n,r,i),jN()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=ON();o.injectorIndex=s===null?-1:s.injectorIndex}return fc(o,!0),o}function JO(t,e,n,r,i){let o=eb(),s=tb(),a=s?o:o&&o.parent,u=t.data[e]=rk(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),o!==null&&(s?o.child==null&&u.parent!==null&&(o.child=u):o.next===null&&(o.next=u,u.prev=o)),u}function Wb(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Kb(t,e,n,r,i){let o=_o(),s=r&2;try{ho(-1),s&&e.length>Mn&&zb(t,e,Mn,!1),qn(s?2:0,i),n(r,i)}finally{ho(o),qn(s?3:1,i)}}function Qb(t,e,n){if(UC(e)){let r=Pe(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let u=n[s];a.contentQueries(1,u,s)}}}finally{Pe(r)}}}function Yb(t,e,n){XC()&&(uk(t,e,n,vn(n,e)),(n.flags&64)===64&&tD(t,e,n))}function Jb(t,e,n=vn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function Zb(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Lm(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Lm(t,e,n,r,i,o,s,a,u,l,h){let p=Mn+r,m=p+i,y=ZO(p,m),S=typeof l=="function"?l():l;return y[ge]={type:t,blueprint:y,template:n,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:S,incompleteFirstPass:!1,ssrId:h}}function ZO(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:nr);return n}function XO(t,e,n,r){let o=r.get(IO,Mb)||n===Wn.ShadowDom,s=t.selectRootElement(e,o);return ek(s),s}function ek(t){tk(t)}var tk=()=>null;function nk(t,e,n,r){let i=iD(e);i.push(n),t.firstCreatePass&&oD(t).push(r,i.length-1)}function rk(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return PN()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function qI(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,u=Is.None;Array.isArray(s)?(a=s[0],u=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}t===0?GI(r,n,l,a,u):GI(r,n,l,a)}return r}function GI(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function ik(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],u=null,l=null;for(let h=r;h<i;h++){let p=o[h],m=n?n.get(p):null,y=m?m.inputs:null,S=m?m.outputs:null;u=qI(0,p.inputs,h,u,y),l=qI(1,p.outputs,h,l,S);let N=u!==null&&s!==null&&!pm(e)?wk(u,h,s):null;a.push(N)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}function ok(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function jm(t,e,n,r,i,o,s,a){let u=vn(e,n),l=e.inputs,h;!a&&l!=null&&(h=l[r])?(Um(t,n,h,r,i),_d(e)&&sk(n,e.index)):e.type&3?(r=ok(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)):e.type&12}function sk(t,e){let n=Ii(e,t);n[ce]&16||(n[ce]|=64)}function Xb(t,e,n,r){if(XC()){let i=r===null?null:{"":-1},o=dk(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&eD(t,e,n,s,i,a),i&&hk(n,r,i)}n.mergedAttrs=oc(n.mergedAttrs,n.attrs)}function eD(t,e,n,r,i,o){for(let l=0;l<r.length;l++)Mg(rd(n,e),t,r[l].type);pk(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let h=r[l];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,u=Wb(t,e,r.length,null);for(let l=0;l<r.length;l++){let h=r[l];n.mergedAttrs=oc(n.mergedAttrs,h.hostAttrs),gk(t,n,e,u,h),fk(u,h,i),h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let p=h.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}ik(t,n,o)}function ak(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;ck(s)!=a&&s.push(a),s.push(n,r,o)}}function ck(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function uk(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;_d(n)&&mk(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||rd(n,e),go(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let u=t.data[a],l=po(e,t,a,n);if(go(l,e),s!==null&&_k(e,a-i,l,u,n,s),_i(u)){let h=Ii(n.index,e);h[xn]=po(e,t,a,n)}}}function tD(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=BN();try{ho(o);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];Sg(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&lk(u,l)}}finally{ho(-1),Sg(s)}}function lk(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function dk(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(ZR(e,s.selectors,!1))if(r||(r=[]),_i(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let u=a.length;Lg(t,e,u)}else r.unshift(s),Lg(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Lg(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function hk(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new Z(-301,!1);r.push(e[i],o)}}}function fk(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;_i(e)&&(n[""]=t)}}function pk(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function gk(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=ao(i.type,!0)),s=new fo(o,_i(i),$);t.blueprint[r]=s,n[r]=s,ak(t,e,r,Wb(t,n,i.hostVars,nr),i)}function mk(t,e,n){let r=vn(e,t),i=Zb(n),o=t[Kn].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=Sd(t,Dd(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function yk(t,e,n,r,i,o){let s=vn(t,e);vk(e[at],s,o,t.value,n,r,i)}function vk(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?_s(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function _k(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let u=s[a++],l=s[a++],h=s[a++],p=s[a++];Gb(r,n,u,l,h,p)}}function wk(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function nD(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function rD(t,e){let n=t.contentQueries;if(n!==null){let r=Pe(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];_m(o),a.contentQueries(2,e[s],s)}}}finally{Pe(r)}}}function Sd(t,e){return t[ac]?t[OI][An]=e:t[ac]=e,t[OI]=e,e}function jg(t,e,n){_m(0);let r=Pe(null);try{e(t,n)}finally{Pe(r)}}function iD(t){return t[Yl]??=[]}function oD(t){return t.cleanup??=[]}function sD(t,e){let n=t[bs],r=n?n.get(Jn,null):null;r&&r.handleError(e)}function Um(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],u=n[o++],l=e[s],h=t.data[s];Gb(h,l,r,a,u,i)}}function aD(t,e,n){let r=GC(e,t);PO(t[at],r,n)}function Ek(t,e){let n=Ii(e,t),r=n[ge];Ik(r,n);let i=n[Pr];i!==null&&n[Ql]===null&&(n[Ql]=Pm(i,n[bs])),Bm(r,n,n[xn])}function Ik(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Bm(t,e,n){wm(e);try{let r=t.viewQuery;r!==null&&jg(1,r,n);let i=t.template;i!==null&&Kb(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Ar]?.finishViewCreation(t),t.staticContentQueries&&rD(t,e),t.staticViewQueries&&jg(2,t.viewQuery,n);let o=t.components;o!==null&&Ck(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[ce]&=-5,Em()}}function Ck(t,e){for(let n=0;n<e.length;n++)Ek(t,e[n])}function bk(t,e,n,r){let i=Pe(null);try{let o=e.tView,a=t[ce]&4096?4096:16,u=Dd(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[co]=l;let h=t[Ar];return h!==null&&(u[Ar]=h.createEmbeddedView(o)),Bm(o,u,n),u}finally{Pe(i)}}function WI(t,e){return!e||e.firstChild===null||bb(t)}function Dk(t,e,n,r=!0){let i=e[ge];if(kO(i,e,t,n),r){let s=Vg(n,t),a=e[at],u=km(a,t[uo]);u!==null&&NO(i,t[Rn],a,e,u,s)}let o=e[Ql];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function sd(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(Yn(o)),Rr(o)&&Tk(o,r);let s=n.type;if(s&8)sd(t,e,n.child,r);else if(s&32){let a=Nm(n,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=Bb(e,n);if(Array.isArray(a))r.push(...a);else{let u=lo(e[Qn]);sd(u[ge],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function Tk(t,e){for(let n=on;n<t.length;n++){let r=t[n],i=r[ge].firstChild;i!==null&&sd(r[ge],r,i,e)}t[uo]!==t[Pr]&&e.push(t[uo])}var cD=[];function Sk(t){return t[yn]??Ak(t)}function Ak(t){let e=cD.pop()??Object.create(Mk);return e.lView=t,e}function xk(t){t.lView[yn]!==t&&(t.lView=null,cD.push(t))}var Mk=ye(U({},Pp),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{wd(t.lView)},consumerOnSignalRead(){this.lView[yn]=this}});function Pk(t){let e=t[yn]??Object.create(Rk);return e.lView=t,e}var Rk=ye(U({},Pp),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=lo(t.lView);for(;e&&!uD(e[ge]);)e=lo(e);e&&YC(e)},consumerOnSignalRead(){this.lView[yn]=this}});function uD(t){return t.type!==2}var Nk=100;function lD(t,e=!0,n=0){let r=t[Kn],i=r.rendererFactory,o=!1;o||i.begin?.();try{Ok(t,n)}catch(s){throw e&&sD(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function Ok(t,e){let n=nb();try{FI(!0),Ug(t,e);let r=0;for(;cc(t);){if(r===Nk)throw new Z(103,!1);r++,Ug(t,1)}}finally{FI(n)}}function kk(t,e,n,r){let i=e[ce];if((i&256)===256)return;let o=!1,s=!1;!o&&e[Kn].inlineEffectRunner?.flush(),wm(e);let a=!0,u=null,l=null;o||(uD(t)?(l=Sk(e),u=Rp(l)):YE()===null?(a=!1,l=Pk(e),u=Rp(l)):e[yn]&&(Op(e[yn]),e[yn]=null));try{QC(e),LN(t.bindingStartIndex),n!==null&&Kb(t,e,n,2,r);let h=(i&3)===3;if(!o)if(h){let y=t.preOrderCheckHooks;y!==null&&Ul(e,y,null)}else{let y=t.preOrderHooks;y!==null&&Bl(e,y,0,null),og(e,0)}if(s||Fk(e),dD(e,0),t.contentQueries!==null&&rD(t,e),!o)if(h){let y=t.contentCheckHooks;y!==null&&Ul(e,y)}else{let y=t.contentHooks;y!==null&&Bl(e,y,1),og(e,1)}YO(t,e);let p=t.components;p!==null&&fD(e,p,0);let m=t.viewQuery;if(m!==null&&jg(2,m,r),!o)if(h){let y=t.viewCheckHooks;y!==null&&Ul(e,y)}else{let y=t.viewHooks;y!==null&&Bl(e,y,2),og(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[ig]){for(let y of e[ig])y();e[ig]=null}o||(e[ce]&=-73)}catch(h){throw o||wd(e),h}finally{l!==null&&(JE(l,u),a&&xk(l)),Em()}}function dD(t,e){for(let n=Tb(t);n!==null;n=Sb(n))for(let r=on;r<n.length;r++){let i=n[r];hD(i,e)}}function Fk(t){for(let e=Tb(t);e!==null;e=Sb(e)){if(!(e[ce]&Zl.HasTransplantedViews))continue;let n=e[Ds];for(let r=0;r<n.length;r++){let i=n[r];YC(i)}}}function Vk(t,e,n){let r=Ii(e,t);hD(r,n)}function hD(t,e){vm(t)&&Ug(t,e)}function Ug(t,e){let r=t[ge],i=t[ce],o=t[yn],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Np(o)),s||=!1,o&&(o.dirty=!1),t[ce]&=-9217,s)kk(r,t,r.template,t[xn]);else if(i&8192){dD(t,1);let a=r.components;a!==null&&fD(t,a,1)}}function fD(t,e,n){for(let r=0;r<e.length;r++)Vk(t,e[r],n)}function $m(t,e){let n=nb()?64:1088;for(t[Kn].changeDetectionScheduler?.notify(e);t;){t[ce]|=n;let r=lo(t);if(bg(t)&&!r)return t;t=r}return null}var mo=class{get rootNodes(){let e=this._lView,n=e[ge];return sd(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[xn]}set context(e){this._lView[xn]=e}get destroyed(){return(this._lView[ce]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Nt];if(Rr(e)){let n=e[Jl],r=n?n.indexOf(this):-1;r>-1&&(Fg(e,r),Wl(n,r))}this._attachedToViewContainer=!1}jb(this._lView[ge],this._lView)}onDestroy(e){JC(this._lView,e)}markForCheck(){$m(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ce]&=-129}reattach(){Tg(this._lView),this._lView[ce]|=128}detectChanges(){this._lView[ce]|=1024,lD(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Z(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=bg(this._lView),n=this._lView[co];n!==null&&!e&&Om(n,this._lView),Vb(this._lView[ge],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Z(902,!1);this._appRef=e;let n=bg(this._lView),r=this._lView[co];r!==null&&!n&&Lb(r,this._lView),Tg(this._lView)}},yo=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Uk;let t=e;return t})(),Lk=yo,jk=class extends Lk{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=bk(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new mo(i)}};function Uk(){return Hm(Ot(),be())}function Hm(t,e){return t.type&4?new jk(e,t,Rs(t,e)):null}var j7=new RegExp(`^(\\d+)*(${wO}|${_O})*(.*)`);var Bk=()=>null;function KI(t,e){return Bk(t,e)}var Ts=class{},pD=new H("",{providedIn:"root",factory:()=>!1});var gD=new H(""),Bg=class{},ad=class{};function $k(t){let e=Error(`No component factory found for ${Ht(t)}.`);return e[Hk]=t,e}var Hk="ngComponent";var $g=class{resolveComponentFactory(e){throw $k(e)}},Qm=class Qm{};Qm.NULL=new $g;var Ss=Qm,As=class{},cn=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>zk();let t=e;return t})();function zk(){let t=be(),e=Ot(),n=Ii(e.index,t);return(yi(n)?n:t)[at]}var qk=(()=>{let e=class e{};e.\u0275prov=z({token:e,providedIn:"root",factory:()=>null});let t=e;return t})();var QI=new Set;function Ad(t){QI.has(t)||(QI.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function mD(t){let e=!0;return setTimeout(()=>{e&&(e=!1,t())}),typeof Sr.requestAnimationFrame=="function"&&Sr.requestAnimationFrame(()=>{e&&(e=!1,t())}),()=>{e=!1}}function YI(t){let e=!0;return queueMicrotask(()=>{e&&t()}),()=>{e=!1}}function JI(...t){}var Ce=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Je(!1),this.onMicrotaskEmpty=new Je(!1),this.onStable=new Je(!1),this.onError=new Je(!1),typeof Zone>"u")throw new Z(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.callbackScheduled=!1,Kk(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new Z(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new Z(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,Gk,JI,JI);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},Gk={};function zm(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Wk(t){t.isCheckStableRunning||t.callbackScheduled||(t.callbackScheduled=!0,Zone.root.run(()=>{mD(()=>{t.callbackScheduled=!1,Hg(t),t.isCheckStableRunning=!0,zm(t),t.isCheckStableRunning=!1})}),Hg(t))}function Kk(t){let e=()=>{Wk(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(Qk(a))return n.invokeTask(i,o,s,a);try{return ZI(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),XI(t)}},onInvoke:(n,r,i,o,s,a,u)=>{try{return ZI(t),n.invoke(i,o,s,a,u)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!Yk(a)&&e(),XI(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,Hg(t),zm(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function Hg(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function ZI(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function XI(t){t._nesting--,zm(t)}var zg=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Je,this.onMicrotaskEmpty=new Je,this.onStable=new Je,this.onError=new Je}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function Qk(t){return yD(t,"__ignore_ng_zone__")}function Yk(t){return yD(t,"__scheduler_tick__")}function yD(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var gi=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(gi||{}),Jk={destroy(){}};function xd(t,e){!e&&vN(xd);let n=e?.injector??F(yt);if(!AO(n))return Jk;Ad("NgAfterNextRender");let r=n.get(qm),i=r.handler??=new Gg,o=e?.phase??gi.MixedReadWrite,s=()=>{i.unregister(u),a()},a=n.get(Sm).onDestroy(s),u=an(n,()=>new qg(o,()=>{s(),t()}));return i.register(u),{destroy:s}}var qg=class{constructor(e,n){this.phase=e,this.callbackFn=n,this.zone=F(Ce),this.errorHandler=F(Jn,{optional:!0}),F(Ts,{optional:!0})?.notify(6)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},Gg=class{constructor(){this.executingCallbacks=!1,this.buckets={[gi.EarlyRead]:new Set,[gi.Write]:new Set,[gi.MixedReadWrite]:new Set,[gi.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let n of e)n.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},qm=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=z({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function Wg(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=bI(i,a);else if(o==2){let u=a,l=e[++s];r=bI(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var cd=class extends Ss{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=vi(e);return new xs(n,this.ngModule)}};function eC(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function Zk(t){let e=t.toLowerCase();return e==="svg"?qC:e==="math"?CN:null}var xs=class extends ad{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=eC(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return eC(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=nN(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=Pe(null);try{i=i||this.ngModule;let s=i instanceof Rt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Ag(e,s):e,u=a.get(As,null);if(u===null)throw new Z(407,!1);let l=a.get(qk,null),h=a.get(qm,null),p=a.get(Ts,null),m={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:h,changeDetectionScheduler:p},y=u.createRenderer(null,this.componentDef),S=this.componentDef.selectors[0][0]||"div",N=r?XO(y,r,this.componentDef.encapsulation,a):Fb(y,S,Zk(S)),P=512;this.componentDef.signals?P|=4096:this.componentDef.onPush||(P|=16);let V=null;N!==null&&(V=Pm(N,a,!0));let ee=Lm(0,null,null,1,0,null,null,null,null,null,null),J=Dd(null,ee,null,P,null,null,m,y,a,null,V);wm(J);let te,Le;try{let oe=this.componentDef,b,v=null;oe.findHostDirectiveDefs?(b=[],v=new Map,oe.findHostDirectiveDefs(oe,b,v),b.push(oe)):b=[oe];let w=Xk(J,N),D=e4(w,N,oe,b,J,m,y);Le=WC(ee,Mn),N&&r4(y,oe,N,r),n!==void 0&&i4(Le,this.ngContentSelectors,n),te=n4(D,oe,b,v,J,[o4]),Bm(ee,J,null)}finally{Em()}return new Kg(this.componentType,te,Rs(Le,J),J,Le)}finally{Pe(o)}}},Kg=class extends Bg{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new mo(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;Um(o[ge],o,i,e,n),this.previousInputValues.set(e,n);let s=Ii(this._tNode.index,o);$m(s,1)}}get injector(){return new so(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function Xk(t,e){let n=t[ge],r=Mn;return t[r]=e,Td(n,r,2,"#host",null)}function e4(t,e,n,r,i,o,s){let a=i[ge];t4(r,t,e,s);let u=null;e!==null&&(u=Pm(e,i[bs]));let l=o.rendererFactory.createRenderer(e,n),h=16;n.signals?h=4096:n.onPush&&(h=64);let p=Dd(i,Zb(n),null,h,i[t.index],t,o,l,null,null,u);return a.firstCreatePass&&Lg(a,t,r.length-1),Sd(i,p),i[t.index]=p}function t4(t,e,n,r){for(let i of t)e.mergedAttrs=oc(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Wg(e,e.mergedAttrs,!0),n!==null&&Hb(r,n,e))}function n4(t,e,n,r,i,o){let s=Ot(),a=i[ge],u=vn(s,i);eD(a,i,s,n,null,r);for(let h=0;h<n.length;h++){let p=s.directiveStart+h,m=po(i,a,p,s);go(m,i)}tD(a,i,s),u&&go(u,i);let l=po(i,a,s.directiveStart+s.componentOffset,s);if(t[xn]=i[xn]=l,o!==null)for(let h of o)h(l,e);return Qb(a,s,i),l}function r4(t,e,n,r){if(r)wg(t,n,["ng-version","18.0.5"]);else{let{attrs:i,classes:o}=rN(e.selectors[0]);i&&wg(t,n,i),o&&o.length>0&&$b(t,n,o.join(" "))}}function i4(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function o4(){let t=Ot();bm(be()[ge],t)}var Ci=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=s4;let t=e;return t})();function s4(){let t=Ot();return _D(t,be())}var a4=Ci,vD=class extends a4{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Rs(this._hostTNode,this._hostLView)}get injector(){return new so(this._hostTNode,this._hostLView)}get parentInjector(){let e=Dm(this._hostTNode,this._hostLView);if(fb(e)){let n=td(e,this._hostLView),r=ed(e),i=n[ge].data[r+8];return new so(i,n)}else return new so(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=tC(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-on}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=KI(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,WI(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!_N(e),a;if(s)a=n;else{let S=n||{};a=S.index,r=S.injector,i=S.projectableNodes,o=S.environmentInjector||S.ngModuleRef}let u=s?e:new xs(vi(e)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let N=(s?l:this.parentInjector).get(Rt,null);N&&(o=N)}let h=vi(u.componentType??{}),p=KI(this._lContainer,h?.id??null),m=p?.firstChild??null,y=u.create(l,i,m,o);return this.insertImpl(y.hostView,a,WI(this._hostTNode,p)),y}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(DN(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[Nt],l=new vD(u,u[Rn],u[Nt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return Dk(s,i,o,r),e.attachToViewContainerRef(),wC(lg(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=tC(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Fg(this._lContainer,n);r&&(Wl(lg(this._lContainer),n),jb(r[ge],r))}detach(e){let n=this._adjustIndex(e,-1),r=Fg(this._lContainer,n);return r&&Wl(lg(this._lContainer),n)!=null?new mo(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function tC(t){return t[Jl]}function lg(t){return t[Jl]||(t[Jl]=[])}function _D(t,e){let n,r=e[t.index];return Rr(r)?n=r:(n=nD(r,e,null,t),e[t.index]=n,Sd(e,n)),u4(n,e,t,r),new vD(n,t,e)}function c4(t,e){let n=t[at],r=n.createComment(""),i=vn(e,t),o=km(n,i);return od(n,o,r,BO(n,i),!1),r}var u4=h4,l4=()=>!1;function d4(t,e,n){return l4(t,e,n)}function h4(t,e,n,r){if(t[uo])return;let i;n.type&8?i=Yn(r):i=c4(e,n),t[uo]=i}var Qg=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Yg=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)Gm(e,n).matches!==null&&this.queries[n].setDirty()}},ud=class{constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=w4(e):this.predicate=e}},Jg=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Zg=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,n,f4(n,o)),this.matchTNodeWithReadOption(e,n,$l(n,e,o,!1,!1))}else r===yo?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,$l(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===zt||i===Ci||i===yo&&n.type&4)this.addMatch(n.index,-2);else{let o=$l(n,e,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function f4(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function p4(t,e){return t.type&11?Rs(t,e):t.type&4?Hm(t,e):null}function g4(t,e,n,r){return n===-1?p4(e,t):n===-2?m4(t,e,r):po(t,t[ge],n,e)}function m4(t,e,n){if(n===zt)return Rs(e,t);if(n===yo)return Hm(e,t);if(n===Ci)return _D(e,t)}function wD(t,e,n,r){let i=e[Ar].queries[r];if(i.matches===null){let o=t.data,s=n.matches,a=[];for(let u=0;s!==null&&u<s.length;u+=2){let l=s[u];if(l<0)a.push(null);else{let h=o[l];a.push(g4(e,h,s[u+1],n.metadata.read))}}i.matches=a}return i.matches}function Xg(t,e,n,r){let i=t.queries.getByIndex(n),o=i.matches;if(o!==null){let s=wD(t,e,i,n);for(let a=0;a<o.length;a+=2){let u=o[a];if(u>0)r.push(s[a/2]);else{let l=o[a+1],h=e[-u];for(let p=on;p<h.length;p++){let m=h[p];m[co]===m[Nt]&&Xg(m[ge],m,l,r)}if(h[Ds]!==null){let p=h[Ds];for(let m=0;m<p.length;m++){let y=p[m];Xg(y[ge],y,l,r)}}}}}return r}function y4(t,e){return t[Ar].queries[e].queryList}function ED(t,e,n){let r=new Og((n&4)===4);return nk(t,e,r,r.destroy),(e[Ar]??=new Yg).queries.push(new Qg(r))-1}function v4(t,e,n){let r=It();return r.firstCreatePass&&(ID(r,new ud(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),ED(r,be(),e)}function _4(t,e,n,r){let i=It();if(i.firstCreatePass){let o=Ot();ID(i,new ud(e,n,r),o.index),E4(i,t),(n&2)===2&&(i.staticContentQueries=!0)}return ED(i,be(),n)}function w4(t){return t.split(",").map(e=>e.trim())}function ID(t,e,n){t.queries===null&&(t.queries=new Jg),t.queries.track(new Zg(e,n))}function E4(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function Gm(t,e){return t.queries.getByIndex(e)}function I4(t,e){let n=t[ge],r=Gm(n,e);return r.crossesNgTemplate?Xg(n,t,e,[]):wD(n,t,r,e)}function C4(t){return typeof t=="function"&&t[Mp]!==void 0}function CD(t){return C4(t)&&typeof t.set=="function"}function b4(t){return Object.getPrototypeOf(t.prototype).constructor}function un(t){let e=b4(t.type),n=!0,r=[t];for(;e;){let i;if(_i(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Z(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=Vl(t.inputs),s.inputTransforms=Vl(t.inputTransforms),s.declaredInputs=Vl(t.declaredInputs),s.outputs=Vl(t.outputs);let a=i.hostBindings;a&&x4(t,a);let u=i.viewQuery,l=i.contentQueries;if(u&&S4(t,u),l&&A4(t,l),D4(t,i),IR(t.outputs,i.outputs),_i(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===un&&(n=!1)}}e=Object.getPrototypeOf(e)}T4(r)}function D4(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function T4(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=oc(i.hostAttrs,n=oc(n,i.hostAttrs))}}function Vl(t){return t===ws?{}:t===mn?[]:t}function S4(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function A4(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function x4(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function Wm(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var wi=class{},uc=class{};var em=class extends wi{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new cd(this);let i=MC(e);this._bootstrapComponents=kb(i.bootstrap),this._r3Injector=Ib(e,n,[{provide:wi,useValue:this},{provide:Ss,useValue:this.componentFactoryResolver},...r],Ht(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},tm=class extends uc{constructor(e){super(),this.moduleType=e}create(e){return new em(this.moduleType,e,[])}};var ld=class extends wi{constructor(e){super(),this.componentFactoryResolver=new cd(this),this.instance=null;let n=new sc([...e.providers,{provide:wi,useValue:this},{provide:Ss,useValue:this.componentFactoryResolver}],e.parent||mm(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Md(t,e,n=null){return new ld({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function bD(t){return P4(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function M4(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function P4(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function DD(t,e,n){return t[e]=n}function Ei(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function TD(t,e,n,r){let i=Ei(t,e,n);return Ei(t,e+1,r)||i}function R4(t){return(t.flags&32)===32}function N4(t,e,n,r,i,o,s,a,u){let l=e.consts,h=Td(e,t,4,s||null,a||null);Xb(e,n,h,Xl(l,u)),bm(e,h);let p=h.tView=Lm(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function O4(t,e,n,r,i,o,s,a,u,l){let h=n+Mn,p=e.firstCreatePass?N4(h,e,t,r,i,o,s,a,u):e.data[h];fc(p,!1);let m=k4(e,t,p,n);Im()&&Fm(e,t,m,p),go(m,t);let y=nD(m,t,m,p);return t[h]=y,Sd(t,y),d4(y,p,t),ym(p)&&Yb(e,t,p),u!=null&&Jb(t,p,l),p}function De(t,e,n,r,i,o,s,a){let u=be(),l=It(),h=Xl(l.consts,o);return O4(u,l,t,e,n,r,i,h,s,a),De}var k4=F4;function F4(t,e,n,r){return Cm(!0),e[at].createComment("")}function gc(t,e,n,r){let i=be(),o=Ed();if(Ei(i,o,e)){let s=It(),a=Id();yk(a,i,t,e,n,r)}return gc}function SD(t,e,n,r){return Ei(t,Ed(),n)?e+_s(n)+r:nr}function V4(t,e,n,r,i,o){let s=VN(),a=TD(t,s,n,i);return ib(2),a?e+_s(n)+r+_s(i)+o:nr}function Ll(t,e){return t<<17|e<<2}function vo(t){return t>>17&32767}function L4(t){return(t&2)==2}function j4(t,e){return t&131071|e<<17}function nm(t){return t|2}function Ms(t){return(t&131068)>>2}function dg(t,e){return t&-131069|e<<2}function U4(t){return(t&1)===1}function rm(t){return t|1}function B4(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=vo(s),u=Ms(s);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||hc(p,h)>0)&&(l=!0)}else h=n;if(i)if(u!==0){let m=vo(t[a+1]);t[r+1]=Ll(m,a),m!==0&&(t[m+1]=dg(t[m+1],r)),t[a+1]=j4(t[a+1],r)}else t[r+1]=Ll(a,0),a!==0&&(t[a+1]=dg(t[a+1],r)),a=r;else t[r+1]=Ll(u,0),a===0?a=r:t[u+1]=dg(t[u+1],r),u=r;l&&(t[r+1]=nm(t[r+1])),nC(t,h,r,!0),nC(t,h,r,!1),$4(e,h,t,r,o),s=Ll(a,u),o?e.classBindings=s:e.styleBindings=s}function $4(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&hc(o,e)>=0&&(n[r+1]=rm(n[r+1]))}function nC(t,e,n,r){let i=t[n+1],o=e===null,s=r?vo(i):Ms(i),a=!1;for(;s!==0&&(a===!1||o);){let u=t[s],l=t[s+1];H4(u,e)&&(a=!0,t[s+1]=r?rm(l):nm(l)),s=r?vo(l):Ms(l)}a&&(t[n+1]=r?nm(i):rm(i))}function H4(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?hc(t,e)>=0:!1}function X(t,e,n){let r=be(),i=Ed();if(Ei(r,i,e)){let o=It(),s=Id();jm(o,s,r,t,e,r[at],n,!1)}return X}function rC(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";Um(t,n,o[s],s,r)}function Zt(t,e){return z4(t,e,null,!0),Zt}function z4(t,e,n,r){let i=be(),o=It(),s=ib(2);if(o.firstUpdatePass&&G4(o,t,s,r),e!==nr&&Ei(i,s,e)){let a=o.data[_o()];J4(o,a,i,i[at],t,i[s+1]=Z4(e,n),r,s)}}function q4(t,e){return e>=t.expandoStartIndex}function G4(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[_o()],s=q4(t,n);X4(o,r)&&e===null&&!s&&(e=!1),e=W4(i,o,e,r),B4(i,o,e,n,s,r)}}function W4(t,e,n,r){let i=$N(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=hg(null,t,e,n,r),n=lc(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=hg(i,t,e,n,r),o===null){let u=K4(t,e,r);u!==void 0&&Array.isArray(u)&&(u=hg(null,t,e,u[1],r),u=lc(u,e.attrs,r),Q4(t,e,r,u))}else o=Y4(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function K4(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Ms(r)!==0)return t[vo(r)]}function Q4(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[vo(i)]=r}function Y4(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=lc(r,s,n)}return lc(r,e.attrs,n)}function hg(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=lc(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function lc(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),zR(t,s,n?!0:e[++o]))}return t===void 0?null:t}function J4(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],h=U4(l)?iC(u,e,n,i,Ms(l),s):void 0;if(!dd(h)){dd(o)||L4(l)&&(o=iC(u,null,n,i,a,s));let p=GC(_o(),n);KO(r,s,p,i,o)}}function iC(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,m=n[i+1];m===nr&&(m=p?mn:void 0);let y=p?ng(m,r):h===r?m:void 0;if(l&&!dd(y)&&(y=ng(u,r)),dd(y)&&(a=y,s))return a;let S=t[i+1];i=s?vo(S):Ms(S)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=ng(u,r))}return a}function dd(t){return t!==void 0}function Z4(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Ht(pc(t)))),t}function X4(t,e){return(t.flags&(e?8:16))!==0}function eF(t,e,n,r,i,o){let s=e.consts,a=Xl(s,i),u=Td(e,t,2,r,a);return Xb(e,n,u,Xl(s,o)),u.attrs!==null&&Wg(u,u.attrs,!1),u.mergedAttrs!==null&&Wg(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function _(t,e,n,r){let i=be(),o=It(),s=Mn+t,a=i[at],u=o.firstCreatePass?eF(s,o,i,e,n,r):o.data[s],l=tF(o,i,u,a,e,t);i[s]=l;let h=ym(u);return fc(u,!0),Hb(a,l,u),!R4(u)&&Im()&&Fm(o,i,l,u),AN()===0&&go(l,i),xN(),h&&(Yb(o,i,u),Qb(o,u,i)),r!==null&&Jb(i,u),_}function C(){let t=Ot();tb()?kN():(t=t.parent,fc(t,!1));let e=t;RN(e)&&NN(),MN();let n=It();return n.firstCreatePass&&(bm(n,t),UC(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&YN(e)&&rC(n,e,be(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&JN(e)&&rC(n,e,be(),e.stylesWithoutHost,!1),C}function re(t,e,n,r){return _(t,e,n,r),C(),re}var tF=(t,e,n,r,i,o)=>(Cm(!0),Fb(r,i,GN()));function ct(){return be()}var io=void 0;function nF(t){let e=t,n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&r===0?1:5}var rF=["en",[["a","p"],["AM","PM"],io],[["AM","PM"],io,io],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],io,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],io,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",io,"{1} 'at' {0}",io],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",nF],fg={};function _n(t){let e=iF(t),n=oC(e);if(n)return n;let r=e.split("-")[0];if(n=oC(r),n)return n;if(r==="en")return rF;throw new Z(701,!1)}function oC(t){return t in fg||(fg[t]=Sr.ng&&Sr.ng.common&&Sr.ng.common.locales&&Sr.ng.common.locales[t]),fg[t]}var tt=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(tt||{});function iF(t){return t.toLowerCase().replace(/_/g,"-")}var hd="en-US";var oF=hd;function sF(t){typeof t=="string"&&(oF=t.toLowerCase().replace(/_/g,"-"))}var aF=(t,e,n)=>{};function L(t,e,n,r){let i=be(),o=It(),s=Ot();return AD(o,i,i[at],s,t,e,r),L}function cF(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[Yl],u=i[o+2];return a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function AD(t,e,n,r,i,o,s){let a=ym(r),l=t.firstCreatePass&&oD(t),h=e[xn],p=iD(e),m=!0;if(r.type&3||s){let N=vn(r,e),P=s?s(N):N,V=p.length,ee=s?te=>s(Yn(te[r.index])):r.index,J=null;if(!s&&a&&(J=cF(t,e,i,r.index)),J!==null){let te=J.__ngLastListenerFn__||J;te.__ngNextListenerFn__=o,J.__ngLastListenerFn__=o,m=!1}else{o=aC(r,e,h,o),aF(N,i,o);let te=n.listen(P,i,o);p.push(o,te),l&&l.push(i,ee,V,V+1)}}else o=aC(r,e,h,o);let y=r.outputs,S;if(m&&y!==null&&(S=y[i])){let N=S.length;if(N)for(let P=0;P<N;P+=2){let V=S[P],ee=S[P+1],Le=e[V][ee].subscribe(o),oe=p.length;p.push(o,Le),l&&l.push(i,r.index,oe,-(oe+1))}}}function sC(t,e,n,r){let i=Pe(null);try{return qn(6,e,n),n(r)!==!1}catch(o){return sD(t,o),!1}finally{qn(7,e,n),Pe(i)}}function aC(t,e,n,r){return function i(o){if(o===Function)return r;let s=t.componentOffset>-1?Ii(t.index,e):e;$m(s,5);let a=sC(e,n,r,o),u=i.__ngNextListenerFn__;for(;u;)a=sC(e,n,u,o)&&a,u=u.__ngNextListenerFn__;return a}}function W(t=1){return zN(t)}function kr(t,e,n){return xD(t,"",e,"",n),kr}function xD(t,e,n,r,i){let o=be(),s=SD(o,e,n,r);if(s!==nr){let a=It(),u=Id();jm(a,u,o,t,s,o[at],i,!1)}return xD}function MD(t,e,n,r){_4(t,e,n,r)}function PD(t,e,n){v4(t,e,n)}function Pd(t){let e=be(),n=It(),r=ob();_m(r+1);let i=Gm(n,r);if(t.dirty&&bN(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let o=I4(e,r);t.reset(o,dO),t.notifyOnChanges()}return!0}return!1}function Rd(){return y4(be(),ob())}function uF(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function mc(t){let e=FN();return KC(e,Mn+t)}function M(t,e=""){let n=be(),r=It(),i=t+Mn,o=r.firstCreatePass?Td(r,i,1,e,null):r.data[i],s=lF(r,n,o,e,t);n[i]=s,Im()&&Fm(r,n,s,o),fc(o,!1)}var lF=(t,e,n,r,i)=>(Cm(!0),MO(e[at],r));function Fe(t){return On("",t,""),Fe}function On(t,e,n){let r=be(),i=SD(r,t,e,n);return i!==nr&&aD(r,_o(),i),On}function rr(t,e,n,r,i){let o=be(),s=V4(o,t,e,n,r,i);return s!==nr&&aD(o,_o(),s),rr}function Ae(t,e,n){CD(e)&&(e=e());let r=be(),i=Ed();if(Ei(r,i,e)){let o=It(),s=Id();jm(o,s,r,t,e,r[at],n,!1)}return Ae}function Re(t,e){let n=CD(t);return n&&t.set(e),n}function xe(t,e){let n=be(),r=It(),i=Ot();return AD(r,n,n[at],i,t,e),xe}function dF(t,e,n){let r=It();if(r.firstCreatePass){let i=_i(t);im(n,r.data,r.blueprint,i,!0),im(e,r.data,r.blueprint,i,!1)}}function im(t,e,n,r,i){if(t=$t(t),Array.isArray(t))for(let o=0;o<t.length;o++)im(t[o],e,n,r,i);else{let o=It(),s=be(),a=Ot(),u=Cs(t)?t:$t(t.provide),l=FC(t),h=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if(Cs(t)||!t.multi){let y=new fo(l,i,$),S=gg(u,e,i?h:h+m,p);S===-1?(Mg(rd(a,s),o,u),pg(o,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(y),s.push(y)):(n[S]=y,s[S]=y)}else{let y=gg(u,e,h+m,p),S=gg(u,e,h,h+m),N=y>=0&&n[y],P=S>=0&&n[S];if(i&&!P||!i&&!N){Mg(rd(a,s),o,u);let V=pF(i?fF:hF,n.length,i,r,l);!i&&P&&(n[S].providerFactory=V),pg(o,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(V),s.push(V)}else{let V=RD(n[i?S:y],l,!i&&r);pg(o,t,y>-1?y:S,V)}!i&&r&&P&&n[S].componentProviders++}}}function pg(t,e,n,r){let i=Cs(e),o=dN(e);if(i||o){let u=(o?$t(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[r,u]):l[h+1].push(r,u)}else l.push(n,u)}}}function RD(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function gg(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function hF(t,e,n,r){return om(this.multi,[])}function fF(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=po(n,n[ge],this.providerFactory.index,r);o=a.slice(0,s),om(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],om(i,o);return o}function om(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function pF(t,e,n,r,i){let o=new fo(t,n,$);return o.multi=[],o.index=e,o.componentProviders=0,RD(o,i,r&&!n),o}function Fr(t,e=[]){return n=>{n.providersResolver=(r,i)=>dF(r,i?i(t):t,e)}}var gF=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=NC(!1,r.type),o=i.length>0?Md([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=z({token:e,providedIn:"environment",factory:()=>new e(G(Rt))});let t=e;return t})();function Xe(t){Ad("NgStandalone"),t.getStandaloneInjector=e=>e.get(gF).getOrCreateStandaloneInjector(t)}function Ns(t,e,n,r){return mF(be(),rb(),t,e,n,r)}function ND(t,e){let n=t[e];return n===nr?void 0:n}function mF(t,e,n,r,i,o){let s=e+n;return Ei(t,s,i)?DD(t,s+1,o?r.call(o,i):r(i)):ND(t,s+1)}function yF(t,e,n,r,i,o,s){let a=e+n;return TD(t,a,i,o)?DD(t,a+2,s?r.call(s,i,o):r(i,o)):ND(t,a+2)}function OD(t,e){let n=It(),r,i=t+Mn;n.firstCreatePass?(r=vF(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=ao(r.type,!0)),s,a=Jt($);try{let u=nd(!1),l=o();return nd(u),uF(n,be(),i,l),l}finally{Jt(a)}}function vF(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function kD(t,e,n,r){let i=t+Mn,o=be(),s=KC(o,i);return _F(o,i)?yF(o,rb(),e,s.transform,n,r,s):s.transform(n,r)}function _F(t,e){return t[ge].data[e].pure}var Mr=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},FD=new Mr("18.0.5");var Nd=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var VD=new H("");function Eo(t){return!!t&&typeof t.then=="function"}function LD(t){return!!t&&typeof t.subscribe=="function"}var Od=new H(""),jD=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=F(Od,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let o of this.appInits){let s=o();if(Eo(s))r.push(s);else if(LD(s)){let a=new Promise((u,l)=>{s.subscribe({complete:u,error:l})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),yc=new H("");function wF(){ZE(()=>{throw new Z(600,!1)})}function EF(t){return t.isBoundToModule}var IF=10;function CF(t,e,n){try{let r=n();return Eo(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Io=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=F(Cb),this.afterRenderEffectManager=F(qm),this.zonelessEnabled=F(pD),this.externalTestViews=new Set,this.beforeRender=new Et,this.afterTick=new Et,this.componentTypes=[],this.components=[],this.isStable=F(Or).hasPendingTasks.pipe(se(r=>!r)),this._injector=F(Rt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let o=r instanceof ad;if(!this._injector.get(jD).done){let y=!o&&xC(r),S=!1;throw new Z(405,S)}let a;o?a=r:a=this._injector.get(Ss).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let u=EF(a)?void 0:this._injector.get(wi),l=i||a.selector,h=a.create(yt.NULL,[],l,u),p=h.location.nativeElement,m=h.injector.get(VD,null);return m?.registerApplication(p),h.onDestroy(()=>{this.detachView(h.hostView),mg(this.components,h),m?.unregisterApplication(p)}),this._loadComponent(h),h}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new Z(101,!1);let i=Pe(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(o){this.internalErrorHandler(o)}finally{this._runningTick=!1,Pe(i),this.afterTick.next()}}detectChangesInAttachedViews(r){let i=null;this._injector.destroyed||(i=this._injector.get(As,null,{optional:!0}));let o=0,s=this.afterRenderEffectManager;for(;o<IF;){let a=o===0;if(r||!a){this.beforeRender.next(a);for(let{_lView:u,notifyErrorHandler:l}of this._views)bF(u,l,a,this.zonelessEnabled)}else i?.begin?.(),i?.end?.();if(o++,s.executeInternalCallbacks(),!this.allViews.some(({_lView:u})=>cc(u))&&(s.execute(),!this.allViews.some(({_lView:u})=>cc(u))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;mg(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(yc,[]);[...this._bootstrapListeners,...i].forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>mg(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new Z(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function mg(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function bF(t,e,n,r){if(!n&&!cc(t))return;lD(t,e,n&&!r?0:1)}var sm=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},kd=(()=>{let e=class e{compileModuleSync(r){return new tm(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),o=MC(r),s=kb(o.declarations).reduce((a,u)=>{let l=vi(u);return l&&a.push(new xs(l)),a},[]);return new sm(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var DF=(()=>{let e=class e{constructor(){this.zone=F(Ce),this.changeDetectionScheduler=F(Ts),this.applicationRef=F(Io)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function TF({ngZoneFactory:t,ignoreChangesOutsideZone:e}){return t??=()=>new Ce(AF()),[{provide:Ce,useFactory:t},{provide:Es,multi:!0,useFactory:()=>{let n=F(DF,{optional:!0});return()=>n.initialize()}},{provide:Es,multi:!0,useFactory:()=>{let n=F(xF);return()=>{n.initialize()}}},{provide:Cb,useFactory:SF},e===!0?{provide:gD,useValue:!0}:[]]}function SF(){let t=F(Ce),e=F(Jn);return n=>t.runOutsideAngular(()=>e.handleError(n))}function AF(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var xF=(()=>{let e=class e{constructor(){this.subscription=new Ye,this.initialized=!1,this.zone=F(Ce),this.pendingTasks=F(Or)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ce.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ce.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var MF=(()=>{let e=class e{constructor(){this.appRef=F(Io),this.taskService=F(Or),this.ngZone=F(Ce),this.zonelessEnabled=F(pD),this.disableScheduling=F(gD,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Ye,this.cancelScheduledCallback=null,this.shouldRefreshViews=!1,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof zg||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&r===5)return;switch(r){case 3:case 2:case 0:case 4:case 5:case 1:{this.shouldRefreshViews=!0;break}case 8:case 7:case 6:case 9:default:}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?YI:mD;this.pendingRenderTaskId=this.taskService.add(),this.zoneIsDefined?Zone.root.run(()=>{this.cancelScheduledCallback=i(()=>{this.tick(this.shouldRefreshViews)})}):this.cancelScheduledCallback=i(()=>{this.tick(this.shouldRefreshViews)})}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Ce.isInAngularZone())}tick(r){if(this.runningTick||this.appRef.destroyed)return;let i=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick(r)},void 0,this.schedulerTickApplyArgs)}catch(o){throw this.taskService.remove(i),o}finally{this.cleanup()}this.useMicrotaskScheduler=!0,YI(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(i)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.shouldRefreshViews=!1,this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function PF(){return typeof $localize<"u"&&$localize.locale||hd}var Fd=new H("",{providedIn:"root",factory:()=>F(Fd,ve.Optional|ve.SkipSelf)||PF()});var UD=new H("");var zl=null;function RF(t=[],e){return yt.create({name:e,providers:[{provide:yd,useValue:"platform"},{provide:UD,useValue:new Set([()=>zl=null])},...t]})}function NF(t=[]){if(zl)return zl;let e=RF(t);return zl=e,wF(),OF(e),e}function OF(t){t.get(xm,null)?.forEach(n=>n())}function BD(){return!1}var bi=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=kF;let t=e;return t})();function kF(t){return FF(Ot(),be(),(t&16)===16)}function FF(t,e,n){if(_d(t)&&!n){let r=Ii(t.index,e);return new mo(r,r)}else if(t.type&175){let r=e[Qn];return new mo(r,e)}return null}var am=class{constructor(){}supports(e){return bD(e)}create(e){return new cm(e)}},VF=(t,e)=>e,cm=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||VF}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<cC(r,i,o)?n:r,a=cC(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=u-i;if(l!=h){for(let m=0;m<l;m++){let y=m<o.length?o[m]:o[m]=0,S=y+m;h<=S&&S<l&&(o[m]=y+1)}let p=s.previousIndex;o[p]=h-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!bD(e))throw new Z(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,M4(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new um(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new fd),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new fd),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},um=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},lm=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},fd=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new lm,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function cC(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function uC(){return new Km([new am])}var Km=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let o=i.factories.slice();r=r.concat(o)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||uC()),deps:[[e,new hm,new vt]]}}find(r){let i=this.factories.find(o=>o.supports(r));if(i!=null)return i;throw new Z(901,!1)}};e.\u0275prov=z({token:e,providedIn:"root",factory:uC});let t=e;return t})();function $D(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=NF(r),o=[TF({}),{provide:Ts,useExisting:MF},...n||[]],a=new ld({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,u=a.get(Ce);return u.run(()=>{a.resolveInjectorInitializers();let l=a.get(Jn,null),h;u.runOutsideAngular(()=>{h=u.onError.subscribe({next:y=>{l.handleError(y)}})});let p=()=>a.destroy(),m=i.get(UD);return m.add(p),a.onDestroy(()=>{h.unsubscribe(),m.delete(p)}),CF(l,u,()=>{let y=a.get(jD);return y.runInitializers(),y.donePromise.then(()=>{let S=a.get(Fd,hd);sF(S||hd);let N=a.get(Io);return e!==void 0&&N.bootstrap(e),N})})})}catch(e){return Promise.reject(e)}}function Di(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function HD(t){let e=vi(t);if(!e)return null;let n=new xs(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var YD=null;function Ur(){return YD}function JD(t){YD??=t}var qd=class{};var kt=new H(""),iy=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>F(LF),providedIn:"platform"});let t=e;return t})(),ZD=new H(""),LF=(()=>{let e=class e extends iy{constructor(){super(),this._doc=F(kt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ur().getBaseHref(this._doc)}onPopState(r){let i=Ur().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=Ur().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function oy(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function zD(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Lr(t){return t&&t[0]!=="?"?"?"+t:t}var Br=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>F(sy),providedIn:"root"});let t=e;return t})(),XD=new H(""),sy=(()=>{let e=class e extends Br{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??F(kt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return oy(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+Lr(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+Lr(s));this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+Lr(s));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(G(iy),G(XD,8))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),eT=(()=>{let e=class e extends Br{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=oy(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+Lr(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+Lr(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(G(iy),G(XD,8))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),ks=(()=>{let e=class e{constructor(r){this._subject=new Je,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=BF(zD(qD(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Lr(i))}normalize(r){return e.stripTrailingSlash(UF(this._basePath,qD(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Lr(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Lr(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}};e.normalizeQueryParams=Lr,e.joinWithSlash=oy,e.stripTrailingSlash=zD,e.\u0275fac=function(i){return new(i||e)(G(Br))},e.\u0275prov=z({token:e,factory:()=>jF(),providedIn:"root"});let t=e;return t})();function jF(){return new ks(G(Br))}function UF(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function qD(t){return t.replace(/\/index.html$/,"")}function BF(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var qt=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(qt||{}),$e=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}($e||{}),ln=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(ln||{}),Ti={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function $F(t){return _n(t)[tt.LocaleId]}function HF(t,e,n){let r=_n(t),i=[r[tt.DayPeriodsFormat],r[tt.DayPeriodsStandalone]],o=wn(i,e);return wn(o,n)}function zF(t,e,n){let r=_n(t),i=[r[tt.DaysFormat],r[tt.DaysStandalone]],o=wn(i,e);return wn(o,n)}function qF(t,e,n){let r=_n(t),i=[r[tt.MonthsFormat],r[tt.MonthsStandalone]],o=wn(i,e);return wn(o,n)}function GF(t,e){let r=_n(t)[tt.Eras];return wn(r,e)}function Vd(t,e){let n=_n(t);return wn(n[tt.DateFormat],e)}function Ld(t,e){let n=_n(t);return wn(n[tt.TimeFormat],e)}function jd(t,e){let r=_n(t)[tt.DateTimeFormat];return wn(r,e)}function Wd(t,e){let n=_n(t),r=n[tt.NumberSymbols][e];if(typeof r>"u"){if(e===Ti.CurrencyDecimal)return n[tt.NumberSymbols][Ti.Decimal];if(e===Ti.CurrencyGroup)return n[tt.NumberSymbols][Ti.Group]}return r}function tT(t){if(!t[tt.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[tt.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function WF(t){let e=_n(t);return tT(e),(e[tt.ExtraData][2]||[]).map(r=>typeof r=="string"?Ym(r):[Ym(r[0]),Ym(r[1])])}function KF(t,e,n){let r=_n(t);tT(r);let i=[r[tt.ExtraData][0],r[tt.ExtraData][1]],o=wn(i,e)||[];return wn(o,n)||[]}function wn(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function Ym(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var QF=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ud={},YF=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,jr=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(jr||{}),Oe=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(Oe||{}),Ne=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(Ne||{});function JF(t,e,n,r){let i=sV(t);e=Vr(n,e)||e;let s=[],a;for(;e;)if(a=YF.exec(e),a){s=s.concat(a.slice(1));let h=s.pop();if(!h)break;e=h}else{s.push(e);break}let u=i.getTimezoneOffset();r&&(u=rT(r,u),i=oV(i,r,!0));let l="";return s.forEach(h=>{let p=rV(h);l+=p?p(i,n,u):h==="''"?"'":h.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function Gd(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function Vr(t,e){let n=$F(t);if(Ud[n]??={},Ud[n][e])return Ud[n][e];let r="";switch(e){case"shortDate":r=Vd(t,ln.Short);break;case"mediumDate":r=Vd(t,ln.Medium);break;case"longDate":r=Vd(t,ln.Long);break;case"fullDate":r=Vd(t,ln.Full);break;case"shortTime":r=Ld(t,ln.Short);break;case"mediumTime":r=Ld(t,ln.Medium);break;case"longTime":r=Ld(t,ln.Long);break;case"fullTime":r=Ld(t,ln.Full);break;case"short":let i=Vr(t,"shortTime"),o=Vr(t,"shortDate");r=Bd(jd(t,ln.Short),[i,o]);break;case"medium":let s=Vr(t,"mediumTime"),a=Vr(t,"mediumDate");r=Bd(jd(t,ln.Medium),[s,a]);break;case"long":let u=Vr(t,"longTime"),l=Vr(t,"longDate");r=Bd(jd(t,ln.Long),[u,l]);break;case"full":let h=Vr(t,"fullTime"),p=Vr(t,"fullDate");r=Bd(jd(t,ln.Full),[h,p]);break}return r&&(Ud[n][e]=r),r}function Bd(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function kn(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function ZF(t,e){return kn(t,3).substring(0,e)}function ut(t,e,n=0,r=!1,i=!1){return function(o,s){let a=XF(t,o);if((n>0||a>-n)&&(a+=n),t===Oe.Hours)a===0&&n===-12&&(a=12);else if(t===Oe.FractionalSeconds)return ZF(a,e);let u=Wd(s,Ti.MinusSign);return kn(a,e,u,r,i)}}function XF(t,e){switch(t){case Oe.FullYear:return e.getFullYear();case Oe.Month:return e.getMonth();case Oe.Date:return e.getDate();case Oe.Hours:return e.getHours();case Oe.Minutes:return e.getMinutes();case Oe.Seconds:return e.getSeconds();case Oe.FractionalSeconds:return e.getMilliseconds();case Oe.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function He(t,e,n=qt.Format,r=!1){return function(i,o){return eV(i,o,t,e,n,r)}}function eV(t,e,n,r,i,o){switch(n){case Ne.Months:return qF(e,i,r)[t.getMonth()];case Ne.Days:return zF(e,i,r)[t.getDay()];case Ne.DayPeriods:let s=t.getHours(),a=t.getMinutes();if(o){let l=WF(e),h=KF(e,i,r),p=l.findIndex(m=>{if(Array.isArray(m)){let[y,S]=m,N=s>=y.hours&&a>=y.minutes,P=s<S.hours||s===S.hours&&a<S.minutes;if(y.hours<S.hours){if(N&&P)return!0}else if(N||P)return!0}else if(m.hours===s&&m.minutes===a)return!0;return!1});if(p!==-1)return h[p]}return HF(e,i,r)[s<12?0:1];case Ne.Eras:return GF(e,r)[t.getFullYear()<=0?0:1];default:let u=n;throw new Error(`unexpected translation type ${u}`)}}function $d(t){return function(e,n,r){let i=-1*r,o=Wd(n,Ti.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case jr.Short:return(i>=0?"+":"")+kn(s,2,o)+kn(Math.abs(i%60),2,o);case jr.ShortGMT:return"GMT"+(i>=0?"+":"")+kn(s,1,o);case jr.Long:return"GMT"+(i>=0?"+":"")+kn(s,2,o)+":"+kn(Math.abs(i%60),2,o);case jr.Extended:return r===0?"Z":(i>=0?"+":"")+kn(s,2,o)+":"+kn(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}var tV=0,zd=4;function nV(t){let e=Gd(t,tV,1).getDay();return Gd(t,0,1+(e<=zd?zd:zd+7)-e)}function nT(t){let e=t.getDay(),n=e===0?-3:zd-e;return Gd(t.getFullYear(),t.getMonth(),t.getDate()+n)}function Jm(t,e=!1){return function(n,r){let i;if(e){let o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();i=1+Math.floor((s+o)/7)}else{let o=nT(n),s=nV(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return kn(i,t,Wd(r,Ti.MinusSign))}}function Hd(t,e=!1){return function(n,r){let o=nT(n).getFullYear();return kn(o,t,Wd(r,Ti.MinusSign),e)}}var Zm={};function rV(t){if(Zm[t])return Zm[t];let e;switch(t){case"G":case"GG":case"GGG":e=He(Ne.Eras,$e.Abbreviated);break;case"GGGG":e=He(Ne.Eras,$e.Wide);break;case"GGGGG":e=He(Ne.Eras,$e.Narrow);break;case"y":e=ut(Oe.FullYear,1,0,!1,!0);break;case"yy":e=ut(Oe.FullYear,2,0,!0,!0);break;case"yyy":e=ut(Oe.FullYear,3,0,!1,!0);break;case"yyyy":e=ut(Oe.FullYear,4,0,!1,!0);break;case"Y":e=Hd(1);break;case"YY":e=Hd(2,!0);break;case"YYY":e=Hd(3);break;case"YYYY":e=Hd(4);break;case"M":case"L":e=ut(Oe.Month,1,1);break;case"MM":case"LL":e=ut(Oe.Month,2,1);break;case"MMM":e=He(Ne.Months,$e.Abbreviated);break;case"MMMM":e=He(Ne.Months,$e.Wide);break;case"MMMMM":e=He(Ne.Months,$e.Narrow);break;case"LLL":e=He(Ne.Months,$e.Abbreviated,qt.Standalone);break;case"LLLL":e=He(Ne.Months,$e.Wide,qt.Standalone);break;case"LLLLL":e=He(Ne.Months,$e.Narrow,qt.Standalone);break;case"w":e=Jm(1);break;case"ww":e=Jm(2);break;case"W":e=Jm(1,!0);break;case"d":e=ut(Oe.Date,1);break;case"dd":e=ut(Oe.Date,2);break;case"c":case"cc":e=ut(Oe.Day,1);break;case"ccc":e=He(Ne.Days,$e.Abbreviated,qt.Standalone);break;case"cccc":e=He(Ne.Days,$e.Wide,qt.Standalone);break;case"ccccc":e=He(Ne.Days,$e.Narrow,qt.Standalone);break;case"cccccc":e=He(Ne.Days,$e.Short,qt.Standalone);break;case"E":case"EE":case"EEE":e=He(Ne.Days,$e.Abbreviated);break;case"EEEE":e=He(Ne.Days,$e.Wide);break;case"EEEEE":e=He(Ne.Days,$e.Narrow);break;case"EEEEEE":e=He(Ne.Days,$e.Short);break;case"a":case"aa":case"aaa":e=He(Ne.DayPeriods,$e.Abbreviated);break;case"aaaa":e=He(Ne.DayPeriods,$e.Wide);break;case"aaaaa":e=He(Ne.DayPeriods,$e.Narrow);break;case"b":case"bb":case"bbb":e=He(Ne.DayPeriods,$e.Abbreviated,qt.Standalone,!0);break;case"bbbb":e=He(Ne.DayPeriods,$e.Wide,qt.Standalone,!0);break;case"bbbbb":e=He(Ne.DayPeriods,$e.Narrow,qt.Standalone,!0);break;case"B":case"BB":case"BBB":e=He(Ne.DayPeriods,$e.Abbreviated,qt.Format,!0);break;case"BBBB":e=He(Ne.DayPeriods,$e.Wide,qt.Format,!0);break;case"BBBBB":e=He(Ne.DayPeriods,$e.Narrow,qt.Format,!0);break;case"h":e=ut(Oe.Hours,1,-12);break;case"hh":e=ut(Oe.Hours,2,-12);break;case"H":e=ut(Oe.Hours,1);break;case"HH":e=ut(Oe.Hours,2);break;case"m":e=ut(Oe.Minutes,1);break;case"mm":e=ut(Oe.Minutes,2);break;case"s":e=ut(Oe.Seconds,1);break;case"ss":e=ut(Oe.Seconds,2);break;case"S":e=ut(Oe.FractionalSeconds,1);break;case"SS":e=ut(Oe.FractionalSeconds,2);break;case"SSS":e=ut(Oe.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=$d(jr.Short);break;case"ZZZZZ":e=$d(jr.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=$d(jr.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=$d(jr.Long);break;default:return null}return Zm[t]=e,e}function rT(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function iV(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function oV(t,e,n){let r=n?-1:1,i=t.getTimezoneOffset(),o=rT(e,i);return iV(t,r*(o-i))}function sV(t){if(GD(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,o=1,s=1]=t.split("-").map(a=>+a);return Gd(i,o-1,s)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(QF))return aV(r)}let e=new Date(t);if(!GD(e))throw new Error(`Unable to convert "${t}" into a date`);return e}function aV(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,u=Number(t[6]||0),l=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return o.call(e,s,a,u,l),e}function GD(t){return t instanceof Date&&!isNaN(t.valueOf())}function Kd(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Xm=/\s+/,WD=[],Qd=(()=>{let e=class e{constructor(r,i){this._ngEl=r,this._renderer=i,this.initialClasses=WD,this.stateMap=new Map}set klass(r){this.initialClasses=r!=null?r.trim().split(Xm):WD}set ngClass(r){this.rawClass=typeof r=="string"?r.trim().split(Xm):r}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(let i of r)this._updateState(i,!0);else if(r!=null)for(let i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){let o=this.stateMap.get(r);o!==void 0?(o.enabled!==i&&(o.changed=!0,o.enabled=i),o.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let r of this.stateMap){let i=r[0],o=r[1];o.changed?(this._toggleClass(i,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),o.touched=!1}}_toggleClass(r,i){r=r.trim(),r.length>0&&r.split(Xm).forEach(o=>{i?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}};e.\u0275fac=function(i){return new(i||e)($(zt),$(cn))},e.\u0275dir=qe({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var ey=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Si=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,o){this._viewContainer=r,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((o,s,a)=>{if(o.previousIndex==null)i.createEmbeddedView(this._template,new ey(o.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(s===null?void 0:s);else if(s!==null){let u=i.get(s);i.move(u,a),KD(u,o)}});for(let o=0,s=i.length;o<s;o++){let u=i.get(o).context;u.index=o,u.count=s,u.ngForOf=this._ngForOf}r.forEachIdentityChange(o=>{let s=i.get(o.currentIndex);KD(s,o)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)($(Ci),$(yo),$(Km))},e.\u0275dir=qe({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function KD(t,e){t.context.$implicit=e.item}var Xt=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new ty,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){QD("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){QD("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)($(Ci),$(yo))},e.\u0275dir=qe({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),ty=class{constructor(){this.$implicit=null,this.ngIf=null}};function QD(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Ht(e)}'.`)}function cV(t,e){return new Z(2100,!1)}var uV="mediumDate",lV=new H(""),dV=new H(""),iT=(()=>{let e=class e{constructor(r,i,o){this.locale=r,this.defaultTimezone=i,this.defaultOptions=o}transform(r,i,o,s){if(r==null||r===""||r!==r)return null;try{let a=i??this.defaultOptions?.dateFormat??uV,u=o??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return JF(r,a,s||this.locale,u)}catch(a){throw cV(e,a.message)}}};e.\u0275fac=function(i){return new(i||e)($(Fd,16),$(lV,24),$(dV,24))},e.\u0275pipe=TC({name:"date",type:e,pure:!0,standalone:!0});let t=e;return t})();var _t=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Xn({type:e}),e.\u0275inj=Zn({});let t=e;return t})(),ay="browser",hV="server";function cy(t){return t===ay}function Fs(t){return t===hV}var oT=(()=>{let e=class e{};e.\u0275prov=z({token:e,providedIn:"root",factory:()=>cy(F(St))?new ny(F(kt),window):new ry});let t=e;return t})(),ny=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=fV(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function fV(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var ry=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Os=class{};var _c=class{},Jd=class{},Hr=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=i.toLowerCase(),s=n.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var ly=class{encodeKey(e){return sT(e)}encodeValue(e){return sT(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function pV(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],u=n.get(s)||[];u.push(a),n.set(s,u)}),n}var gV=/%(\d[a-f0-9])/gi,mV={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function sT(t){return encodeURIComponent(t).replace(gV,(e,n)=>mV[n]??e)}function Yd(t){return`${t}`}var xi=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new ly,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=pV(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(Yd):[Yd(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(Yd(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Yd(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var dy=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function yV(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function aT(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function cT(t){return typeof Blob<"u"&&t instanceof Blob}function uT(t){return typeof FormData<"u"&&t instanceof FormData}function vV(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var vc=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(yV(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Hr,this.context??=new dy,!this.params)this.params=new xi,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),u=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+u+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||aT(this.body)||cT(this.body)||uT(this.body)||vV(this.body)?this.body:this.body instanceof xi?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||uT(this.body)?null:cT(this.body)?this.body.type||null:aT(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof xi?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,u=e.reportProgress??this.reportProgress,l=e.headers||this.headers,h=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((m,y)=>m.set(y,e.setHeaders[y]),l)),e.setParams&&(h=Object.keys(e.setParams).reduce((m,y)=>m.set(y,e.setParams[y]),h)),new t(n,r,s,{params:h,headers:l,context:p,reportProgress:u,responseType:i,withCredentials:a,transferCache:o})}},Mi=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Mi||{}),wc=class{constructor(e,n=200,r="OK"){this.headers=e.headers||new Hr,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Zd=class t extends wc{constructor(e={}){super(e),this.type=Mi.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Ec=class t extends wc{constructor(e={}){super(e),this.type=Mi.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Ai=class extends wc{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},pT=200,_V=204;function uy(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var Ic=(()=>{let e=class e{constructor(r){this.handler=r}request(r,i,o={}){let s;if(r instanceof vc)s=r;else{let l;o.headers instanceof Hr?l=o.headers:l=new Hr(o.headers);let h;o.params&&(o.params instanceof xi?h=o.params:h=new xi({fromObject:o.params})),s=new vc(r,i,o.body!==void 0?o.body:null,{headers:l,context:o.context,params:h,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let a=ne(s).pipe(Dr(l=>this.handler.handle(l)));if(r instanceof vc||o.observe==="events")return a;let u=a.pipe(Bt(l=>l instanceof Ec));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return u.pipe(se(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return u.pipe(se(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return u.pipe(se(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return u.pipe(se(l=>l.body))}case"response":return u;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:new xi().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,o={}){return this.request("PATCH",r,uy(o,i))}post(r,i,o={}){return this.request("POST",r,uy(o,i))}put(r,i,o={}){return this.request("PUT",r,uy(o,i))}};e.\u0275fac=function(i){return new(i||e)(G(_c))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),wV=/^\)\]\}',?\n/,EV="X-Request-URL";function lT(t){if(t.url)return t.url;let e=EV.toLocaleLowerCase();return t.headers.get(e)}var IV=(()=>{let e=class e{constructor(){this.fetchImpl=F(hy,{optional:!0})?.fetch??fetch.bind(globalThis),this.ngZone=F(Ce)}handle(r){return new pe(i=>{let o=new AbortController;return this.doRequest(r,o.signal,i).then(fy,s=>i.error(new Ai({error:s}))),()=>o.abort()})}doRequest(r,i,o){return E(this,null,function*(){let s=this.createRequestInit(r),a;try{let S=this.fetchImpl(r.urlWithParams,U({signal:i},s));CV(S),o.next({type:Mi.Sent}),a=yield S}catch(S){o.error(new Ai({error:S,status:S.status??0,statusText:S.statusText,url:r.urlWithParams,headers:S.headers}));return}let u=new Hr(a.headers),l=a.statusText,h=lT(a)??r.urlWithParams,p=a.status,m=null;if(r.reportProgress&&o.next(new Zd({headers:u,status:p,statusText:l,url:h})),a.body){let S=a.headers.get("content-length"),N=[],P=a.body.getReader(),V=0,ee,J,te=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>E(this,null,function*(){for(;;){let{done:oe,value:b}=yield P.read();if(oe)break;if(N.push(b),V+=b.length,r.reportProgress){J=r.responseType==="text"?(J??"")+(ee??=new TextDecoder).decode(b,{stream:!0}):void 0;let v=()=>o.next({type:Mi.DownloadProgress,total:S?+S:void 0,loaded:V,partialText:J});te?te.run(v):v()}}}));let Le=this.concatChunks(N,V);try{let oe=a.headers.get("Content-Type")??"";m=this.parseBody(r,Le,oe)}catch(oe){o.error(new Ai({error:oe,headers:new Hr(a.headers),status:a.status,statusText:a.statusText,url:lT(a)??r.urlWithParams}));return}}p===0&&(p=m?pT:0),p>=200&&p<300?(o.next(new Ec({body:m,headers:u,status:p,statusText:l,url:h})),o.complete()):o.error(new Ai({error:m,headers:u,status:p,statusText:l,url:h}))})}parseBody(r,i,o){switch(r.responseType){case"json":let s=new TextDecoder().decode(i).replace(wV,"");return s===""?null:JSON.parse(s);case"text":return new TextDecoder().decode(i);case"blob":return new Blob([i],{type:o});case"arraybuffer":return i.buffer}}createRequestInit(r){let i={},o=r.withCredentials?"include":void 0;if(r.headers.forEach((s,a)=>i[s]=a.join(",")),i.Accept??="application/json, text/plain, */*",!i["Content-Type"]){let s=r.detectContentTypeHeader();s!==null&&(i["Content-Type"]=s)}return{body:r.serializeBody(),method:r.method,headers:i,credentials:o}}concatChunks(r,i){let o=new Uint8Array(i),s=0;for(let a of r)o.set(a,s),s+=a.length;return o}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),hy=class{};function fy(){}function CV(t){t.then(fy,fy)}function gT(t,e){return e(t)}function bV(t,e){return(n,r)=>e.intercept(n,{handle:i=>t(i,r)})}function DV(t,e,n){return(r,i)=>an(n,()=>e(r,o=>t(o,i)))}var TV=new H(""),py=new H(""),SV=new H(""),mT=new H("",{providedIn:"root",factory:()=>!0});function AV(){let t=null;return(e,n)=>{t===null&&(t=(F(TV,{optional:!0})??[]).reduceRight(bV,gT));let r=F(Or);if(F(mT)){let o=r.add();return t(e,n).pipe(fi(()=>r.remove(o)))}else return t(e,n)}}var dT=(()=>{let e=class e extends _c{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=F(Or),this.contributeToStability=F(mT)}handle(r){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(py),...this.injector.get(SV,[])]));this.chain=i.reduceRight((o,s)=>DV(o,s,this.injector),gT)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(r,o=>this.backend.handle(o)).pipe(fi(()=>this.pendingTasks.remove(i)))}else return this.chain(r,i=>this.backend.handle(i))}};e.\u0275fac=function(i){return new(i||e)(G(Jd),G(Rt))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})();var xV=/^\)\]\}',?\n/;function MV(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var hT=(()=>{let e=class e{constructor(r){this.xhrFactory=r}handle(r){if(r.method==="JSONP")throw new Z(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?Ue(i.\u0275loadImpl()):ne(null)).pipe(Yt(()=>new pe(s=>{let a=i.build();if(a.open(r.method,r.urlWithParams),r.withCredentials&&(a.withCredentials=!0),r.headers.forEach((P,V)=>a.setRequestHeader(P,V.join(","))),r.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){let P=r.detectContentTypeHeader();P!==null&&a.setRequestHeader("Content-Type",P)}if(r.responseType){let P=r.responseType.toLowerCase();a.responseType=P!=="json"?P:"text"}let u=r.serializeBody(),l=null,h=()=>{if(l!==null)return l;let P=a.statusText||"OK",V=new Hr(a.getAllResponseHeaders()),ee=MV(a)||r.url;return l=new Zd({headers:V,status:a.status,statusText:P,url:ee}),l},p=()=>{let{headers:P,status:V,statusText:ee,url:J}=h(),te=null;V!==_V&&(te=typeof a.response>"u"?a.responseText:a.response),V===0&&(V=te?pT:0);let Le=V>=200&&V<300;if(r.responseType==="json"&&typeof te=="string"){let oe=te;te=te.replace(xV,"");try{te=te!==""?JSON.parse(te):null}catch(b){te=oe,Le&&(Le=!1,te={error:b,text:te})}}Le?(s.next(new Ec({body:te,headers:P,status:V,statusText:ee,url:J||void 0})),s.complete()):s.error(new Ai({error:te,headers:P,status:V,statusText:ee,url:J||void 0}))},m=P=>{let{url:V}=h(),ee=new Ai({error:P,status:a.status||0,statusText:a.statusText||"Unknown Error",url:V||void 0});s.error(ee)},y=!1,S=P=>{y||(s.next(h()),y=!0);let V={type:Mi.DownloadProgress,loaded:P.loaded};P.lengthComputable&&(V.total=P.total),r.responseType==="text"&&a.responseText&&(V.partialText=a.responseText),s.next(V)},N=P=>{let V={type:Mi.UploadProgress,loaded:P.loaded};P.lengthComputable&&(V.total=P.total),s.next(V)};return a.addEventListener("load",p),a.addEventListener("error",m),a.addEventListener("timeout",m),a.addEventListener("abort",m),r.reportProgress&&(a.addEventListener("progress",S),u!==null&&a.upload&&a.upload.addEventListener("progress",N)),a.send(u),s.next({type:Mi.Sent}),()=>{a.removeEventListener("error",m),a.removeEventListener("abort",m),a.removeEventListener("load",p),a.removeEventListener("timeout",m),r.reportProgress&&(a.removeEventListener("progress",S),u!==null&&a.upload&&a.upload.removeEventListener("progress",N)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(i){return new(i||e)(G(Os))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),yT=new H(""),PV="XSRF-TOKEN",RV=new H("",{providedIn:"root",factory:()=>PV}),NV="X-XSRF-TOKEN",OV=new H("",{providedIn:"root",factory:()=>NV}),Xd=class{},kV=(()=>{let e=class e{constructor(r,i,o){this.doc=r,this.platform=i,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=Kd(r,this.cookieName),this.lastCookieString=r),this.lastToken}};e.\u0275fac=function(i){return new(i||e)(G(kt),G(St),G(RV))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})();function FV(t,e){let n=t.url.toLowerCase();if(!F(yT)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=F(Xd).getToken(),i=F(OV);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var vT=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(vT||{});function VV(t,e){return{\u0275kind:t,\u0275providers:e}}function gy(...t){let e=[Ic,hT,dT,{provide:_c,useExisting:dT},{provide:Jd,useFactory:()=>F(IV,{optional:!0})??F(hT)},{provide:py,useValue:FV,multi:!0},{provide:yT,useValue:!0},{provide:Xd,useClass:kV}];for(let n of t)e.push(...n.\u0275providers);return sn(e)}var fT=new H("");function LV(){return VV(vT.LegacyInterceptors,[{provide:fT,useFactory:AV},{provide:py,useExisting:fT,multi:!0}])}var _T=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Xn({type:e}),e.\u0275inj=Zn({providers:[gy(LV())]});let t=e;return t})();var vy=class extends qd{constructor(){super(...arguments),this.supportsDOMEvents=!0}},_y=class t extends vy{static makeCurrent(){JD(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=jV();return n==null?null:UV(n)}resetBaseElement(){Cc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Kd(document.cookie,e)}},Cc=null;function jV(){return Cc=Cc||document.querySelector("base"),Cc?Cc.getAttribute("href"):null}function UV(t){return new URL(t,document.baseURI).pathname}var BV=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),wy=new H(""),bT=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new Z(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(G(wy),G(Ce))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),eh=class{constructor(e){this._doc=e}},my="ng-app-id",DT=(()=>{let e=class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Fs(s),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(o=>o.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${my}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(o=>{o.textContent!=null&&i.set(o.textContent,o)}),i}return null}changeUsageCount(r,i){let o=this.styleRef;if(o.has(r)){let s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===r)return o.delete(i),s.removeAttribute(my),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(my,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let o=this.getStyleElement(r,i),s=this.styleRef,a=s.get(i)?.elements;a?a.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(G(kt),G(Am),G(Mm,8),G(St))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),yy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Iy=/%COMP%/g,TT="%COMP%",$V=`_nghost-${TT}`,HV=`_ngcontent-${TT}`,zV=!0,qV=new H("",{providedIn:"root",factory:()=>zV});function GV(t){return HV.replace(Iy,t)}function WV(t){return $V.replace(Iy,t)}function ST(t,e){return e.map(n=>n.replace(Iy,t))}var ET=(()=>{let e=class e{constructor(r,i,o,s,a,u,l,h=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=u,this.ngZone=l,this.nonce=h,this.rendererByCompId=new Map,this.platformIsServer=Fs(u),this.defaultRenderer=new bc(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Wn.ShadowDom&&(i=ye(U({},i),{encapsulation:Wn.Emulated}));let o=this.getOrCreateRenderer(r,i);return o instanceof th?o.applyToHost(r):o instanceof Dc&&o.applyStyles(),o}getOrCreateRenderer(r,i){let o=this.rendererByCompId,s=o.get(i.id);if(!s){let a=this.doc,u=this.ngZone,l=this.eventManager,h=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(i.encapsulation){case Wn.Emulated:s=new th(l,h,i,this.appId,p,a,u,m);break;case Wn.ShadowDom:return new Ey(l,h,r,i,a,u,this.nonce,m);default:s=new Dc(l,h,i,p,a,u,m);break}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(G(bT),G(DT),G(Am),G(qV),G(kt),G(St),G(Ce),G(Mm))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),bc=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(yy[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(IT(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(IT(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new Z(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=yy[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=yy[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(xr.DashCase|xr.Important)?e.style.setProperty(n,r,i&xr.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&xr.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Ur().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function IT(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Ey=class extends bc{constructor(e,n,r,i,o,s,a,u){super(e,o,s,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=ST(i.id,i.styles);for(let h of l){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Dc=class extends bc{constructor(e,n,r,i,o,s,a,u){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?ST(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},th=class extends Dc{constructor(e,n,r,i,o,s,a,u){let l=i+"-"+r.id;super(e,n,r,o,s,a,u,l),this.contentAttr=GV(l),this.hostAttr=WV(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},KV=(()=>{let e=class e extends eh{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}};e.\u0275fac=function(i){return new(i||e)(G(kt))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),CT=["alt","control","meta","shift"],QV={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},YV={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},JV=(()=>{let e=class e extends eh{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,o){let s=e.parseEventName(i),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ur().onAndCancel(r,s.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(i.pop()),a="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),a="code."),CT.forEach(h=>{let p=i.indexOf(h);p>-1&&(i.splice(p,1),a+=h+".")}),a+=s,i.length!=0||s.length===0)return null;let l={};return l.domEventName=o,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let o=QV[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),CT.forEach(a=>{if(a!==o){let u=YV[a];u(r)&&(s+=a+".")}}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(G(kt))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})();function AT(t,e){return $D(U({rootComponent:t},ZV(e)))}function ZV(t){return{appProviders:[...rL,...t?.providers??[]],platformProviders:nL}}function XV(){_y.makeCurrent()}function eL(){return new Jn}function tL(){return xb(document),document}var nL=[{provide:St,useValue:ay},{provide:xm,useValue:XV,multi:!0},{provide:kt,useFactory:tL,deps:[]}];var rL=[{provide:yd,useValue:"root"},{provide:Jn,useFactory:eL,deps:[]},{provide:wy,useClass:KV,multi:!0,deps:[kt,Ce,St]},{provide:wy,useClass:JV,multi:!0,deps:[kt]},ET,DT,bT,{provide:As,useExisting:ET},{provide:Os,useClass:BV,deps:[]},[]];var xT=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(G(kt))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var me="primary",Bc=Symbol("RouteTitle"),Sy=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function $s(t){return new Sy(t)}function oL(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function sL(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!ir(t[n],e[n]))return!1;return!0}function ir(t,e){let n=t?Ay(t):void 0,r=e?Ay(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!UT(t[i],e[i]))return!1;return!0}function Ay(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function UT(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function BT(t){return t.length>0?t[t.length-1]:null}function Ni(t){return Yp(t)?t:Eo(t)?Ue(Promise.resolve(t)):ne(t)}var aL={exact:HT,subset:zT},$T={exact:cL,subset:uL,ignored:()=>!0};function MT(t,e,n){return aL[n.paths](t.root,e.root,n.matrixParams)&&$T[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function cL(t,e){return ir(t,e)}function HT(t,e,n){if(!bo(t.segments,e.segments)||!ih(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!HT(t.children[r],e.children[r],n))return!1;return!0}function uL(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>UT(t[n],e[n]))}function zT(t,e,n){return qT(t,e,e.segments,n)}function qT(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!bo(i,n)||e.hasChildren()||!ih(i,n,r))}else if(t.segments.length===n.length){if(!bo(t.segments,n)||!ih(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!zT(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!bo(t.segments,i)||!ih(t.segments,i,r)||!t.children[me]?!1:qT(t.children[me],e,o,r)}}function ih(t,e,n){return e.every((r,i)=>$T[n](t[i].parameters,r.parameters))}var Pi=class{constructor(e=new ke([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=$s(this.queryParams),this._queryParamMap}toString(){return hL.serialize(this)}},ke=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return oh(this)}},Co=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=$s(this.parameters),this._parameterMap}toString(){return WT(this)}};function lL(t,e){return bo(t,e)&&t.every((n,r)=>ir(n.parameters,e[r].parameters))}function bo(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function dL(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===me&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==me&&(n=n.concat(e(i,r)))}),n}var $c=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>new Hs,providedIn:"root"});let t=e;return t})(),Hs=class{parse(e){let n=new My(e);return new Pi(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Tc(e.root,!0)}`,r=gL(e.queryParams),i=typeof e.fragment=="string"?`#${fL(e.fragment)}`:"";return`${n}${r}${i}`}},hL=new Hs;function oh(t){return t.segments.map(e=>WT(e)).join("/")}function Tc(t,e){if(!t.hasChildren())return oh(t);if(e){let n=t.children[me]?Tc(t.children[me],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==me&&r.push(`${i}:${Tc(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=dL(t,(r,i)=>i===me?[Tc(t.children[me],!1)]:[`${i}:${Tc(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[me]!=null?`${oh(t)}/${n[0]}`:`${oh(t)}/(${n.join("//")})`}}function GT(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function nh(t){return GT(t).replace(/%3B/gi,";")}function fL(t){return encodeURI(t)}function xy(t){return GT(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function sh(t){return decodeURIComponent(t)}function PT(t){return sh(t.replace(/\+/g,"%20"))}function WT(t){return`${xy(t.path)}${pL(t.parameters)}`}function pL(t){return Object.entries(t).map(([e,n])=>`;${xy(e)}=${xy(n)}`).join("")}function gL(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${nh(n)}=${nh(i)}`).join("&"):`${nh(n)}=${nh(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var mL=/^[^\/()?;#]+/;function Cy(t){let e=t.match(mL);return e?e[0]:""}var yL=/^[^\/()?;=#]+/;function vL(t){let e=t.match(yL);return e?e[0]:""}var _L=/^[^=?&#]+/;function wL(t){let e=t.match(_L);return e?e[0]:""}var EL=/^[^&#]+/;function IL(t){let e=t.match(EL);return e?e[0]:""}var My=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ke([],{}):new ke([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[me]=new ke(e,n)),r}parseSegment(){let e=Cy(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new Z(4009,!1);return this.capture(e),new Co(sh(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=vL(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Cy(this.remaining);i&&(r=i,this.capture(r))}e[sh(n)]=sh(r)}parseQueryParam(e){let n=wL(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=IL(this.remaining);s&&(r=s,this.capture(r))}let i=PT(n),o=PT(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Cy(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new Z(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=me);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[me]:new ke([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new Z(4011,!1)}};function KT(t){return t.segments.length>0?new ke([],{[me]:t}):t}function QT(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=QT(i);if(r===me&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new ke(t.segments,e);return CL(n)}function CL(t){if(t.numberOfChildren===1&&t.children[me]){let e=t.children[me];return new ke(t.segments.concat(e.segments),e.children)}return t}function Rc(t){return t instanceof Pi}function bL(t,e,n=null,r=null){let i=YT(t);return JT(i,e,n,r)}function YT(t){let e;function n(o){let s={};for(let u of o.children){let l=n(u);s[u.outlet]=l}let a=new ke(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=KT(r);return e??i}function JT(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return by(i,i,i,n,r);let o=DL(e);if(o.toRoot())return by(i,i,new ke([],{}),n,r);let s=TL(o,i,t),a=s.processChildren?xc(s.segmentGroup,s.index,o.commands):XT(s.segmentGroup,s.index,o.commands);return by(i,s.segmentGroup,a,n,r)}function ah(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Nc(t){return typeof t=="object"&&t!=null&&t.outlets}function by(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;t===e?s=n:s=ZT(t,e,n);let a=KT(QT(s));return new Pi(a,o,i)}function ZT(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=ZT(o,e,n)}),new ke(t.segments,r)}var ch=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&ah(r[0]))throw new Z(4003,!1);let i=r.find(Nc);if(i&&i!==BT(r))throw new Z(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function DL(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new ch(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new ch(n,e,r)}var js=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function TL(t,e,n){if(t.isAbsolute)return new js(e,!0,0);if(!n)return new js(e,!1,NaN);if(n.parent===null)return new js(n,!0,0);let r=ah(t.commands[0])?0:1,i=n.segments.length-1+r;return SL(n,i,t.numberOfDoubleDots)}function SL(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Z(4005,!1);i=r.segments.length}return new js(r,!1,i-o)}function AL(t){return Nc(t[0])?t[0].outlets:{[me]:t}}function XT(t,e,n){if(t??=new ke([],{}),t.segments.length===0&&t.hasChildren())return xc(t,e,n);let r=xL(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new ke(t.segments.slice(0,r.pathIndex),{});return o.children[me]=new ke(t.segments.slice(r.pathIndex),t.children),xc(o,0,i)}else return r.match&&i.length===0?new ke(t.segments,{}):r.match&&!t.hasChildren()?Py(t,e,n):r.match?xc(t,0,i):Py(t,e,n)}function xc(t,e,n){if(n.length===0)return new ke(t.segments,{});{let r=AL(n),i={};if(Object.keys(r).some(o=>o!==me)&&t.children[me]&&t.numberOfChildren===1&&t.children[me].segments.length===0){let o=xc(t.children[me],e,n);return new ke(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=XT(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new ke(t.segments,i)}}function xL(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(Nc(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!NT(u,l,s))return o;r+=2}else{if(!NT(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Py(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(Nc(o)){let u=ML(o.outlets);return new ke(r,u)}if(i===0&&ah(n[0])){let u=t.segments[e];r.push(new Co(u.path,RT(n[0]))),i++;continue}let s=Nc(o)?o.outlets[me]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&ah(a)?(r.push(new Co(s,RT(a))),i+=2):(r.push(new Co(s,{})),i++)}return new ke(r,{})}function ML(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Py(new ke([],{}),0,r))}),e}function RT(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function NT(t,e,n){return t==n.path&&ir(e,n.parameters)}var Mc="imperative",Ct=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Ct||{}),En=class{constructor(e,n){this.id=e,this.url=n}},zs=class extends En{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Ct.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Vn=class extends En{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Ct.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},hn=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(hn||{}),uh=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(uh||{}),zr=class extends En{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ct.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Ri=class extends En{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ct.NavigationSkipped}},Oc=class extends En{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Ct.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},lh=class extends En{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ct.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ry=class extends En{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ct.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ny=class extends En{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=Ct.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Oy=class extends En{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ct.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ky=class extends En{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ct.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Fy=class{constructor(e){this.route=e,this.type=Ct.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Vy=class{constructor(e){this.route=e,this.type=Ct.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Ly=class{constructor(e){this.snapshot=e,this.type=Ct.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},jy=class{constructor(e){this.snapshot=e,this.type=Ct.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Uy=class{constructor(e){this.snapshot=e,this.type=Ct.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},By=class{constructor(e){this.snapshot=e,this.type=Ct.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},dh=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=Ct.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},kc=class{},qs=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};var $y=class{constructor(e){this.injector=e,this.outlet=null,this.route=null,this.children=new Hc(this.injector),this.attachRef=null}},Hc=(()=>{let e=class e{constructor(r){this.parentInjector=r,this.contexts=new Map}onChildOutletCreated(r,i){let o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new $y(this.parentInjector),this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)(G(Rt))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),hh=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Hy(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Hy(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=zy(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return zy(e,this._root).map(n=>n.value)}};function Hy(t,e){if(t===e.value)return e;for(let n of e.children){let r=Hy(t,n);if(r)return r}return null}function zy(t,e){if(t===e.value)return[e];for(let n of e.children){let r=zy(t,n);if(r.length)return r.unshift(e),r}return[]}var dn=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Ls(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var fh=class extends hh{constructor(e,n){super(e),this.snapshot=n,Xy(this,e)}toString(){return this.snapshot.toString()}};function eS(t){let e=PL(t),n=new mt([new Co("",{})]),r=new mt({}),i=new mt({}),o=new mt({}),s=new mt(""),a=new or(n,r,o,s,i,me,t,e.root);return a.snapshot=e.root,new fh(new dn(a,[]),e)}function PL(t){let e={},n={},r={},i="",o=new Us([],e,r,i,n,me,t,null,{});return new gh("",new dn(o,[]))}var or=class{constructor(e,n,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(se(l=>l[Bc]))??ne(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(se(e=>$s(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(se(e=>$s(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function ph(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:U(U({},e.params),t.params),data:U(U({},e.data),t.data),resolve:U(U(U(U({},t.data),e.data),i?.data),t._resolvedData)}:r={params:U({},t.params),data:U({},t.data),resolve:U(U({},t.data),t._resolvedData??{})},i&&nS(i)&&(r.resolve[Bc]=i.title),r}var Us=class{get title(){return this.data?.[Bc]}constructor(e,n,r,i,o,s,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=$s(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=$s(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},gh=class extends hh{constructor(e,n){super(n),this.url=e,Xy(this,n)}toString(){return tS(this._root)}};function Xy(t,e){e.value._routerState=t,e.children.forEach(n=>Xy(t,n))}function tS(t){let e=t.children.length>0?` { ${t.children.map(tS).join(", ")} } `:"";return`${t.value}${e}`}function Dy(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,ir(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),ir(e.params,n.params)||t.paramsSubject.next(n.params),sL(e.url,n.url)||t.urlSubject.next(n.url),ir(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function qy(t,e){let n=ir(t.params,e.params)&&lL(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||qy(t.parent,e.parent))}function nS(t){return typeof t.title=="string"||t.title===null}var e0=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=me,this.activateEvents=new Je,this.deactivateEvents=new Je,this.attachEvents=new Je,this.detachEvents=new Je,this.parentContexts=F(Hc),this.location=F(Ci),this.changeDetector=F(bi),this.inputBinder=F(_h,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Z(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Z(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Z(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new Z(4013,!1);this._activatedRoute=r;let o=this.location,a=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,l=new Gy(r,u,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=qe({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Nr]});let t=e;return t})(),Gy=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===or?this.route:e===Hc?this.childContexts:this.parent.get(e,n)}},_h=new H(""),OT=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:i}=r,o=nc([i.queryParams,i.params,i.data]).pipe(Yt(([s,a,u],l)=>(u=U(U(U({},s),a),u),l===0?ne(u):Promise.resolve(u)))).subscribe(s=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(r);return}let a=HD(i.component);if(!a){this.unsubscribeFromRouteData(r);return}for(let{templateName:u}of a.inputs)r.activatedComponentRef.setInput(u,s[u])});this.outletDataSubscriptions.set(r,o)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})();function RL(t,e,n){let r=Fc(t,e._root,n?n._root:void 0);return new fh(r,e)}function Fc(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=NL(t,e,n);return new dn(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Fc(t,a)),s}}let r=OL(e.value),i=e.children.map(o=>Fc(t,o));return new dn(r,i)}}function NL(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Fc(t,r,i);return Fc(t,r)})}function OL(t){return new or(new mt(t.url),new mt(t.params),new mt(t.queryParams),new mt(t.fragment),new mt(t.data),t.outlet,t.component,t)}var Vc=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},rS="ngNavigationCancelingError";function mh(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Rc(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=iS(!1,hn.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function iS(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[rS]=!0,n.cancellationCode=e,n}function kL(t){return oS(t)&&Rc(t.url)}function oS(t){return!!t&&t[rS]}var FL=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ze({type:e,selectors:[["ng-component"]],standalone:!0,features:[Xe],decls:1,vars:0,template:function(i,o){i&1&&re(0,"router-outlet")},dependencies:[e0],encapsulation:2});let t=e;return t})();function VL(t,e){return t.providers&&!t._injector&&(t._injector=Md(t.providers,e,`Route: ${t.path}`)),t._injector??e}function t0(t){let e=t.children&&t.children.map(t0),n=e?ye(U({},t),{children:e}):U({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==me&&(n.component=FL),n}function Fn(t){return t.outlet||me}function LL(t,e){let n=t.filter(r=>Fn(r)===e);return n.push(...t.filter(r=>Fn(r)!==e)),n}function zc(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var jL=(t,e,n,r)=>se(i=>(new Wy(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Wy=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Dy(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Ls(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Ls(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Ls(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Ls(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new By(o.value.snapshot))}),e.children.length&&this.forwardEvent(new jy(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(Dy(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Dy(a.route.value),this.activateChildRoutes(e,null,s.children)}else{let a=zc(i.snapshot);s.attachRef=null,s.route=i,s.injector=a??s.injector,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}},yh=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Bs=class{constructor(e,n){this.component=e,this.route=n}};function UL(t,e,n){let r=t._root,i=e?e._root:null;return Sc(r,i,n,[r.value])}function BL(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Ks(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!fC(t)?t:e.get(t):r}function Sc(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Ls(e);return t.children.forEach(s=>{$L(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Pc(a,n.getContext(s),i)),i}function $L(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=HL(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new yh(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Sc(t,e,a?a.children:null,r,i):Sc(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Bs(a.outlet.component,s))}else s&&Pc(e,a,i),i.canActivateChecks.push(new yh(r)),o.component?Sc(t,null,a?a.children:null,r,i):Sc(t,null,n,r,i);return i}function HL(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!bo(t.url,e.url);case"pathParamsOrQueryParamsChange":return!bo(t.url,e.url)||!ir(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!qy(t,e)||!ir(t.queryParams,e.queryParams);case"paramsChange":default:return!qy(t,e)}}function Pc(t,e,n){let r=Ls(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Pc(s,e.children.getContext(o),n):Pc(s,null,n):Pc(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Bs(e.outlet.component,i)):n.canDeactivateChecks.push(new Bs(null,i)):n.canDeactivateChecks.push(new Bs(null,i))}function qc(t){return typeof t=="function"}function zL(t){return typeof t=="boolean"}function qL(t){return t&&qc(t.canLoad)}function GL(t){return t&&qc(t.canActivate)}function WL(t){return t&&qc(t.canActivateChild)}function KL(t){return t&&qc(t.canDeactivate)}function QL(t){return t&&qc(t.canMatch)}function sS(t){return t instanceof br||t?.name==="EmptyError"}var rh=Symbol("INITIAL_VALUE");function Gs(){return Yt(t=>nc(t.map(e=>e.pipe(Tr(1),Ol(rh)))).pipe(se(e=>{for(let n of e)if(n!==!0){if(n===rh)return rh;if(n===!1||YL(n))return n}return!0}),Bt(e=>e!==rh),Tr(1)))}function YL(t){return Rc(t)||t instanceof Vc}function JL(t,e){return ot(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?ne(ye(U({},n),{guardsResult:!0})):ZL(s,r,i,t).pipe(ot(a=>a&&zL(a)?XL(r,o,t,e):ne(a)),se(a=>ye(U({},n),{guardsResult:a})))})}function ZL(t,e,n,r){return Ue(t).pipe(ot(i=>i3(i.component,i.route,n,e,r)),zn(i=>i!==!0,!0))}function XL(t,e,n,r){return Ue(e).pipe(Dr(i=>hs(t3(i.route.parent,r),e3(i.route,r),r3(t,i.path,n),n3(t,i.route,n))),zn(i=>i!==!0,!0))}function e3(t,e){return t!==null&&e&&e(new Uy(t)),ne(!0)}function t3(t,e){return t!==null&&e&&e(new Ly(t)),ne(!0)}function n3(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return ne(!0);let i=r.map(o=>Pl(()=>{let s=zc(e)??n,a=Ks(o,s),u=GL(a)?a.canActivate(e,t):an(s,()=>a(e,t));return Ni(u).pipe(zn())}));return ne(i).pipe(Gs())}function r3(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>BL(s)).filter(s=>s!==null).map(s=>Pl(()=>{let a=s.guards.map(u=>{let l=zc(s.node)??n,h=Ks(u,l),p=WL(h)?h.canActivateChild(r,t):an(l,()=>h(r,t));return Ni(p).pipe(zn())});return ne(a).pipe(Gs())}));return ne(o).pipe(Gs())}function i3(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return ne(!0);let s=o.map(a=>{let u=zc(e)??i,l=Ks(a,u),h=KL(l)?l.canDeactivate(t,e,n,r):an(u,()=>l(t,e,n,r));return Ni(h).pipe(zn())});return ne(s).pipe(Gs())}function o3(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return ne(!0);let o=i.map(s=>{let a=Ks(s,t),u=qL(a)?a.canLoad(e,n):an(t,()=>a(e,n));return Ni(u)});return ne(o).pipe(Gs(),aS(r))}function aS(t){return dl(st(e=>{if(typeof e!="boolean")throw mh(t,e)}),se(e=>e===!0))}function s3(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return ne(!0);let o=i.map(s=>{let a=Ks(s,t),u=QL(a)?a.canMatch(e,n):an(t,()=>a(e,n));return Ni(u)});return ne(o).pipe(Gs(),aS(r))}var Lc=class{constructor(e){this.segmentGroup=e||null}},jc=class extends Error{constructor(e){super(),this.urlTree=e}};function Vs(t){return ds(new Lc(t))}function a3(t){return ds(new Z(4e3,!1))}function c3(t){return ds(iS(!1,hn.GuardRejected))}var Ky=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return ne(r);if(i.numberOfChildren>1||!i.children[me])return a3(`${e.redirectTo}`);i=i.children[me]}}applyRedirectCommands(e,n,r,i,o){if(typeof n!="string"){let a=n,{queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,params:y,data:S,title:N}=i,P=an(o,()=>a({params:y,data:S,queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,title:N}));if(P instanceof Pi)throw new jc(P);n=P}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new jc(s);return s}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new Pi(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new ke(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new Z(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Qy={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function u3(t,e,n,r,i){let o=n0(t,e,n);return o.matched?(r=VL(e,r),s3(r,e,n,i).pipe(se(s=>s===!0?o:U({},Qy)))):ne(o)}function n0(t,e,n){if(e.path==="**")return l3(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?U({},Qy):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||oL)(n,t,e);if(!i)return U({},Qy);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?U(U({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function l3(t){return{matched:!0,parameters:t.length>0?BT(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function kT(t,e,n,r){return n.length>0&&f3(t,n,r)?{segmentGroup:new ke(e,h3(r,new ke(n,t.children))),slicedSegments:[]}:n.length===0&&p3(t,n,r)?{segmentGroup:new ke(t.segments,d3(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new ke(t.segments,t.children),slicedSegments:n}}function d3(t,e,n,r){let i={};for(let o of n)if(wh(t,e,o)&&!r[Fn(o)]){let s=new ke([],{});i[Fn(o)]=s}return U(U({},r),i)}function h3(t,e){let n={};n[me]=e;for(let r of t)if(r.path===""&&Fn(r)!==me){let i=new ke([],{});n[Fn(r)]=i}return n}function f3(t,e,n){return n.some(r=>wh(t,e,r)&&Fn(r)!==me)}function p3(t,e,n){return n.some(r=>wh(t,e,r))}function wh(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function g3(t,e,n,r){return Fn(t)!==r&&(r===me||!wh(e,n,t))?!1:n0(e,t,n).matched}function m3(t,e,n){return e.length===0&&!t.children[n]}var Yy=class{};function y3(t,e,n,r,i,o,s="emptyOnly"){return new Jy(t,e,n,r,i,s,o).recognize()}var v3=31,Jy=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Ky(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new Z(4002,`'${e.segmentGroup}'`)}recognize(){let e=kT(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(se(({children:n,rootSnapshot:r})=>{let i=new dn(r,n),o=new gh("",i),s=bL(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new Us([],Object.freeze({}),Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),me,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,me,n).pipe(se(r=>({children:r,rootSnapshot:n})),di(r=>{if(r instanceof jc)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Lc?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(se(s=>s instanceof dn?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Ue(o).pipe(Dr(s=>{let a=r.children[s],u=LL(n,s);return this.processSegmentGroup(e,u,a,s,i)}),Nl((s,a)=>(s.push(...a),s)),hi(null),eg(),ot(s=>{if(s===null)return Vs(r);let a=cS(s);return _3(a),ne(a)}))}processSegment(e,n,r,i,o,s,a){return Ue(n).pipe(Dr(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,o,s,a).pipe(di(l=>{if(l instanceof Lc)return ne(null);throw l}))),zn(u=>!!u),di(u=>{if(sS(u))return m3(r,i,o)?ne(new Yy):Vs(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,o,s,a,u){return g3(r,i,o,s)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,u):Vs(i):Vs(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:m}=n0(n,i,o);if(!u)return Vs(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>v3&&(this.allowRedirects=!1));let y=new Us(o,l,Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,FT(i),Fn(i),i.component??i._loadedComponent??null,i,VT(i)),S=ph(y,a,this.paramsInheritanceStrategy);y.params=Object.freeze(S.params),y.data=Object.freeze(S.data);let N=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,y,e);return this.applyRedirects.lineralizeSegments(i,N).pipe(ot(P=>this.processSegment(e,r,n,P.concat(m),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a=u3(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(Yt(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Yt(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:y}=u,S=new Us(m,p,Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,FT(r),Fn(r),r.component??r._loadedComponent??null,r,VT(r)),N=ph(S,s,this.paramsInheritanceStrategy);S.params=Object.freeze(N.params),S.data=Object.freeze(N.data);let{segmentGroup:P,slicedSegments:V}=kT(n,m,y,l);if(V.length===0&&P.hasChildren())return this.processChildren(h,l,P,S).pipe(se(J=>new dn(S,J)));if(l.length===0&&V.length===0)return ne(new dn(S,[]));let ee=Fn(r)===o;return this.processSegment(h,l,P,V,ee?me:o,!0,S).pipe(se(J=>new dn(S,J instanceof dn?[J]:[])))}))):Vs(n)))}getChildConfig(e,n,r){return n.children?ne({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?ne({routes:n._loadedRoutes,injector:n._loadedInjector}):o3(e,n,r,this.urlSerializer).pipe(ot(i=>i?this.configLoader.loadChildren(e,n).pipe(st(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):c3(n))):ne({routes:[],injector:e})}};function _3(t){t.sort((e,n)=>e.value.outlet===me?-1:n.value.outlet===me?1:e.value.outlet.localeCompare(n.value.outlet))}function w3(t){let e=t.value.routeConfig;return e&&e.path===""}function cS(t){let e=[],n=new Set;for(let r of t){if(!w3(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=cS(r.children);e.push(new dn(r.value,i))}return e.filter(r=>!n.has(r))}function FT(t){return t.data||{}}function VT(t){return t.resolve||{}}function E3(t,e,n,r,i,o){return ot(s=>y3(t,e,n,r,s.extractedUrl,i,o).pipe(se(({state:a,tree:u})=>ye(U({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function I3(t,e){return ot(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return ne(n);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of uS(u))s.add(l);let a=0;return Ue(s).pipe(Dr(u=>o.has(u)?C3(u,r,t,e):(u.data=ph(u,u.parent,t).resolve,ne(void 0))),st(()=>a++),fs(1),ot(u=>a===s.size?ne(n):rn))})}function uS(t){let e=t.children.map(n=>uS(n)).flat();return[t,...e]}function C3(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!nS(i)&&(o[Bc]=i.title),b3(o,t,e,r).pipe(se(s=>(t._resolvedData=s,t.data=ph(t,t.parent,n).resolve,null)))}function b3(t,e,n,r){let i=Ay(t);if(i.length===0)return ne({});let o={};return Ue(i).pipe(ot(s=>D3(t[s],e,n,r).pipe(zn(),st(a=>{if(a instanceof Vc)throw mh(new Hs,a);o[s]=a}))),fs(1),Xp(o),di(s=>sS(s)?rn:ds(s)))}function D3(t,e,n,r){let i=zc(e)??r,o=Ks(t,i),s=o.resolve?o.resolve(e,n):an(i,()=>o(e,n));return Ni(s)}function Ty(t){return Yt(e=>{let n=t(e);return n?Ue(n).pipe(se(()=>e)):ne(e)})}var lS=(()=>{let e=class e{buildTitle(r){let i,o=r.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===me);return i}getResolvedTitleForRoute(r){return r.data[Bc]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>F(T3),providedIn:"root"});let t=e;return t})(),T3=(()=>{let e=class e extends lS{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(G(xT))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Gc=new H("",{providedIn:"root",factory:()=>({})}),Uc=new H(""),r0=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=F(kd)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return ne(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Ni(r.loadComponent()).pipe(se(dS),st(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),fi(()=>{this.componentLoaders.delete(r)})),o=new ss(i,()=>new Et).pipe(os());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return ne({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=S3(i,this.compiler,r,this.onLoadEndListener).pipe(fi(()=>{this.childrenLoaders.delete(i)})),a=new ss(s,()=>new Et).pipe(os());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function S3(t,e,n,r){return Ni(t.loadChildren()).pipe(se(dS),ot(i=>i instanceof uc||Array.isArray(i)?ne(i):Ue(e.compileModuleAsync(i))),se(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(Uc,[],{optional:!0,self:!0}).flat()),{routes:s.map(t0),injector:o}}))}function A3(t){return t&&typeof t=="object"&&"default"in t}function dS(t){return A3(t)?t.default:t}var i0=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>F(x3),providedIn:"root"});let t=e;return t})(),x3=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),hS=new H(""),fS=new H("");function M3(t,e,n){let r=t.get(fS),i=t.get(kt);return t.get(Ce).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),P3(t))),{onViewTransitionCreated:u}=r;return u&&an(t,()=>u({transition:a,from:e,to:n})),s})}function P3(t){return new Promise(e=>{xd(()=>setTimeout(e),{injector:t,phase:gi.Read})})}var R3=new H(""),o0=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Et,this.transitionAbortSubject=new Et,this.configLoader=F(r0),this.environmentInjector=F(Rt),this.urlSerializer=F($c),this.rootContexts=F(Hc),this.location=F(ks),this.inputBindingEnabled=F(_h,{optional:!0})!==null,this.titleStrategy=F(lS),this.options=F(Gc,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=F(i0),this.createViewTransition=F(hS,{optional:!0}),this.navigationErrorHandler=F(R3,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ne(void 0),this.rootComponentType=null;let r=o=>this.events.next(new Fy(o)),i=o=>this.events.next(new Vy(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(ye(U(U({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,o){return this.transitions=new mt({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Mc,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Bt(s=>s.id!==0),se(s=>ye(U({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Yt(s=>{let a=!1,u=!1;return ne(s).pipe(Yt(l=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",hn.SupersededByNewNavigation),rn;this.currentTransition=s,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?ye(U({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let h=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!h&&p!=="reload"){let m="";return this.events.next(new Ri(l.id,this.urlSerializer.serialize(l.rawUrl),m,uh.IgnoredSameUrlNavigation)),l.resolve(!1),rn}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return ne(l).pipe(Yt(m=>{let y=this.transitions?.getValue();return this.events.next(new zs(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),y!==this.transitions?.getValue()?rn:Promise.resolve(m)}),E3(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),st(m=>{s.targetSnapshot=m.targetSnapshot,s.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation=ye(U({},this.currentNavigation),{finalUrl:m.urlAfterRedirects});let y=new lh(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(y)}));if(h&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:m,extractedUrl:y,source:S,restoredState:N,extras:P}=l,V=new zs(m,this.urlSerializer.serialize(y),S,N);this.events.next(V);let ee=eS(this.rootComponentType).snapshot;return this.currentTransition=s=ye(U({},l),{targetSnapshot:ee,urlAfterRedirects:y,extras:ye(U({},P),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=y,ne(s)}else{let m="";return this.events.next(new Ri(l.id,this.urlSerializer.serialize(l.extractedUrl),m,uh.IgnoredByUrlHandlingStrategy)),l.resolve(!1),rn}}),st(l=>{let h=new Ry(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),se(l=>(this.currentTransition=s=ye(U({},l),{guards:UL(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),s)),JL(this.environmentInjector,l=>this.events.next(l)),st(l=>{if(s.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw mh(this.urlSerializer,l.guardsResult);let h=new Ny(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(h)}),Bt(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",hn.GuardRejected),!1)),Ty(l=>{if(l.guards.canActivateChecks.length)return ne(l).pipe(st(h=>{let p=new Oy(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}),Yt(h=>{let p=!1;return ne(h).pipe(I3(this.paramsInheritanceStrategy,this.environmentInjector),st({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(h,"",hn.NoDataFromResolver)}}))}),st(h=>{let p=new ky(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}))}),Ty(l=>{let h=p=>{let m=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(p.routeConfig).pipe(st(y=>{p.component=y}),se(()=>{})));for(let y of p.children)m.push(...h(y));return m};return nc(h(l.targetSnapshot.root)).pipe(hi(null),Tr(1))}),Ty(()=>this.afterPreactivation()),Yt(()=>{let{currentSnapshot:l,targetSnapshot:h}=s,p=this.createViewTransition?.(this.environmentInjector,l.root,h.root);return p?Ue(p).pipe(se(()=>s)):ne(s)}),se(l=>{let h=RL(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s=ye(U({},l),{targetRouterState:h}),this.currentNavigation.targetRouterState=h,s}),st(()=>{this.events.next(new kc)}),jL(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Tr(1),st({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Vn(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),tg(this.transitionAbortSubject.pipe(st(l=>{throw l}))),fi(()=>{!a&&!u&&this.cancelNavigationTransition(s,"",hn.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),di(l=>{if(u=!0,oS(l))this.events.next(new zr(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),kL(l)?this.events.next(new qs(l.url,l.navigationBehaviorOptions)):s.resolve(!1);else{let h=new Oc(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0);try{let p=an(this.environmentInjector,()=>this.navigationErrorHandler?.(h));if(p instanceof Vc){let{message:m,cancellationCode:y}=mh(this.urlSerializer,p);this.events.next(new zr(s.id,this.urlSerializer.serialize(s.extractedUrl),m,y)),this.events.next(new qs(p.redirectTo,p.navigationBehaviorOptions))}else{this.events.next(h);let m=r.errorHandler(l);s.resolve(!!m)}}catch(p){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(p)}}return rn}))}))}cancelNavigationTransition(r,i,o){let s=new zr(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function N3(t){return t!==Mc}var O3=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>F(k3),providedIn:"root"});let t=e;return t})(),Zy=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},k3=(()=>{let e=class e extends Zy{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=tr(e)))(o||e)}})(),e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),pS=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>F(F3),providedIn:"root"});let t=e;return t})(),F3=(()=>{let e=class e extends pS{constructor(){super(...arguments),this.location=F(ks),this.urlSerializer=F($c),this.options=F(Gc,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=F(i0),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Pi,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=eS(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof zs)this.stateMemento=this.createStateMemento();else if(r instanceof Ri)this.rawUrlTree=i.initialUrl;else if(r instanceof lh){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(o,i)}}else r instanceof kc?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof zr&&(r.code===hn.GuardRejected||r.code===hn.NoDataFromResolver)?this.restoreHistory(i):r instanceof Oc?this.restoreHistory(i,!0):r instanceof Vn&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let o=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let s=this.browserPageId,a=U(U({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(o,"",a)}else{let s=U(U({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===r.finalUrl&&s===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=tr(e)))(o||e)}})(),e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ac=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Ac||{});function gS(t,e){t.events.pipe(Bt(n=>n instanceof Vn||n instanceof zr||n instanceof Oc||n instanceof Ri),se(n=>n instanceof Vn||n instanceof Ri?Ac.COMPLETE:(n instanceof zr?n.code===hn.Redirect||n.code===hn.SupersededByNewNavigation:!1)?Ac.REDIRECTING:Ac.FAILED),Bt(n=>n!==Ac.REDIRECTING),Tr(1)).subscribe(()=>{e()})}function V3(t){throw t}var L3={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},j3={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},lt=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=F(Nd),this.stateManager=F(pS),this.options=F(Gc,{optional:!0})||{},this.pendingTasks=F(Or),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=F(o0),this.urlSerializer=F($c),this.location=F(ks),this.urlHandlingStrategy=F(i0),this._events=new Et,this.errorHandler=this.options.errorHandler||V3,this.navigated=!1,this.routeReuseStrategy=F(O3),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=F(Uc,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!F(_h,{optional:!0}),this.eventsSubscription=new Ye,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof zr&&i.code!==hn.Redirect&&i.code!==hn.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Vn)this.navigated=!0;else if(i instanceof qs){let a=i.navigationBehaviorOptions,u=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),l=U({info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||N3(o.source)},a);this.scheduleNavigation(u,Mc,null,l,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}B3(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Mc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let l=U({},o);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let u=this.parseUrl(r);this.scheduleNavigation(u,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(t0),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:u,preserveFragment:l}=i,h=l?this.currentUrlTree.fragment:a,p=null;switch(u){case"merge":p=U(U({},this.currentUrlTree.queryParams),s);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=s||null}p!==null&&(p=this.removeEmptyProps(p));let m;try{let y=o?o.snapshot:this.routerState.snapshot.root;m=YT(y)}catch{(typeof r[0]!="string"||r[0][0]!=="/")&&(r=[]),m=this.currentUrlTree.root}return JT(m,r,p,h??null)}navigateByUrl(r,i={skipLocationChange:!1}){let o=Rc(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,Mc,null,i)}navigate(r,i={skipLocationChange:!1}){return U3(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let o;if(i===!0?o=U({},L3):i===!1?o=U({},j3):o=i,Rc(r))return MT(this.currentUrlTree,r,o);let s=this.parseUrl(r);return MT(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.entries(r).reduce((i,[o,s])=>(s!=null&&(i[o]=s),i),{})}scheduleNavigation(r,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let u,l,h;a?(u=a.resolve,l=a.reject,h=a.promise):h=new Promise((m,y)=>{u=m,l=y});let p=this.pendingTasks.add();return gS(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:s,resolve:u,reject:l,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(m=>Promise.reject(m))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function U3(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new Z(4008,!1)}function B3(t){return!(t instanceof kc)&&!(t instanceof qs)}var Ws=(()=>{let e=class e{constructor(r,i,o,s,a,u){this.router=r,this.route=i,this.tabIndexAttribute=o,this.renderer=s,this.el=a,this.locationStrategy=u,this.href=null,this.commands=null,this.onChanges=new Et,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let l=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=r.events.subscribe(h=>{h instanceof Vn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,o,s,a){let u=this.urlTree;if(u===null||this.isAnchorElement&&(r!==0||i||o||s||a||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(u,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:Rb(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let o=this.renderer,s=this.el.nativeElement;i!==null?o.setAttribute(s,r,i):o.removeAttribute(s,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)($(lt),$(or),Tm("tabindex"),$(cn),$(zt),$(Br))},e.\u0275dir=qe({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,o){i&1&&L("click",function(a){return o.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&gc("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Di],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Di],replaceUrl:[2,"replaceUrl","replaceUrl",Di],routerLink:"routerLink"},standalone:!0,features:[Wm,Nr]});let t=e;return t})(),mS=(()=>{let e=class e{get isActive(){return this._isActive}constructor(r,i,o,s,a){this.router=r,this.element=i,this.renderer=o,this.cdr=s,this.link=a,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Je,this.routerEventsSubscription=r.events.subscribe(u=>{u instanceof Vn&&this.update()})}ngAfterContentInit(){ne(this.links.changes,ne(null)).pipe(li()).subscribe(r=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let r=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=Ue(r).pipe(li()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(r){let i=Array.isArray(r)?r:r.split(" ");this.classes=i.filter(o=>!!o)}ngOnChanges(r){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let r=this.hasActiveLinks();this.classes.forEach(i=>{r?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),r&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==r&&(this._isActive=r,this.cdr.markForCheck(),this.isActiveChange.emit(r))})}isLinkActive(r){let i=$3(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return o=>{let s=o.urlTree;return s?r.isActive(s,i):!1}}hasActiveLinks(){let r=this.isLinkActive(this.router);return this.link&&r(this.link)||this.links.some(r)}};e.\u0275fac=function(i){return new(i||e)($(lt),$(zt),$(cn),$(bi),$(Ws,8))},e.\u0275dir=qe({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(i,o,s){if(i&1&&MD(s,Ws,5),i&2){let a;Pd(a=Rd())&&(o.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Nr]});let t=e;return t})();function $3(t){return!!t.paths}var vh=class{};var H3=(()=>{let e=class e{constructor(r,i,o,s,a){this.router=r,this.injector=o,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Bt(r=>r instanceof Vn),Dr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){let o=[];for(let s of i){s.providers&&!s._injector&&(s._injector=Md(s.providers,r,`Route: ${s.path}`));let a=s._injector??r,u=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&o.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&o.push(this.processRoutes(u,s.children??s._loadedRoutes))}return Ue(o).pipe(li())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let o;i.loadChildren&&i.canLoad===void 0?o=this.loader.loadChildren(r,i):o=ne(null);let s=o.pipe(ot(a=>a===null?ne(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));if(i.loadComponent&&!i._loadedComponent){let a=this.loader.loadComponent(i);return Ue([s,a]).pipe(li())}else return s})}};e.\u0275fac=function(i){return new(i||e)(G(lt),G(kd),G(Rt),G(vh),G(r0))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),yS=new H(""),z3=(()=>{let e=class e{constructor(r,i,o,s,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=o,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=F(Rt),a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof zs?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof Vn?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof Ri&&r.code===uh.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof dh&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>E(this,null,function*(){yield new Promise(o=>{setTimeout(()=>{o()}),xd(()=>{o()},{injector:this.environmentInjector})}),this.zone.run(()=>{this.transitions.events.next(new dh(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(i){qb()},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})();function vS(t,...e){return sn([{provide:Uc,multi:!0,useValue:t},[],{provide:or,useFactory:_S,deps:[lt]},{provide:yc,multi:!0,useFactory:wS},e.map(n=>n.\u0275providers)])}function _S(t){return t.routerState.root}function Wc(t,e){return{\u0275kind:t,\u0275providers:e}}function wS(){let t=F(yt);return e=>{let n=t.get(Io);if(e!==n.components[0])return;let r=t.get(lt),i=t.get(ES);t.get(s0)===1&&r.initialNavigation(),t.get(IS,null,ve.Optional)?.setUpPreloading(),t.get(yS,null,ve.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var ES=new H("",{factory:()=>new Et}),s0=new H("",{providedIn:"root",factory:()=>1});function q3(){return Wc(2,[{provide:s0,useValue:0},{provide:Od,multi:!0,deps:[yt],useFactory:e=>{let n=e.get(ZD,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(lt),o=e.get(ES);gS(i,()=>{r(!0)}),e.get(o0).afterPreactivation=()=>(r(!0),o.closed?ne(void 0):o),i.initialNavigation()}))}}])}function G3(){return Wc(3,[{provide:Od,multi:!0,useFactory:()=>{let e=F(lt);return()=>{e.setUpLocationChangeListener()}}},{provide:s0,useValue:2}])}var IS=new H("");function W3(t){return Wc(0,[{provide:IS,useExisting:H3},{provide:vh,useExisting:t}])}function K3(){return Wc(8,[OT,{provide:_h,useExisting:OT}])}function Q3(t){let e=[{provide:hS,useValue:M3},{provide:fS,useValue:U({skipNextTransition:!!t?.skipInitialTransition},t)}];return Wc(9,e)}var LT=new H("ROUTER_FORROOT_GUARD"),Y3=[ks,{provide:$c,useClass:Hs},lt,Hc,{provide:or,useFactory:_S,deps:[lt]},r0,[]],Qs=(()=>{let e=class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[Y3,[],{provide:Uc,multi:!0,useValue:r},{provide:LT,useFactory:e2,deps:[[lt,new vt,new hm]]},{provide:Gc,useValue:i||{}},i?.useHash?Z3():X3(),J3(),i?.preloadingStrategy?W3(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?t2(i):[],i?.bindToComponentInputs?K3().\u0275providers:[],i?.enableViewTransitions?Q3().\u0275providers:[],n2()]}}static forChild(r){return{ngModule:e,providers:[{provide:Uc,multi:!0,useValue:r}]}}};e.\u0275fac=function(i){return new(i||e)(G(LT,8))},e.\u0275mod=Xn({type:e}),e.\u0275inj=Zn({});let t=e;return t})();function J3(){return{provide:yS,useFactory:()=>{let t=F(oT),e=F(Ce),n=F(Gc),r=F(o0),i=F($c);return n.scrollOffset&&t.setOffset(n.scrollOffset),new z3(i,r,t,e,n)}}}function Z3(){return{provide:Br,useClass:eT}}function X3(){return{provide:Br,useClass:sy}}function e2(t){return"guarded"}function t2(t){return[t.initialNavigation==="disabled"?G3().\u0275providers:[],t.initialNavigation==="enabledBlocking"?q3().\u0275providers:[]]}var jT=new H("");function n2(){return[{provide:jT,useFactory:wS},{provide:yc,multi:!0,useExisting:jT}]}var bS=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},r2=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Eh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,m=(a&15)<<2|l>>6,y=l&63;u||(y=64,s||(m=64)),r.push(n[h],n[p],n[m],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(bS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):r2(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new c0;let m=o<<2|a>>4;if(r.push(m),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let S=l<<6&192|p;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},c0=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},i2=function(t){let e=bS(t);return Eh.encodeByteArray(e,!0)},Kc=function(t){return i2(t).replace(/\./g,"")},l0=function(t){try{return Eh.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function d0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var o2=()=>d0().__FIREBASE_DEFAULTS__,s2=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},a2=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&l0(t[1]);return e&&JSON.parse(e)},Ih=()=>{try{return o2()||s2()||a2()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},h0=t=>{var e,n;return(n=(e=Ih())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},DS=t=>{let e=h0(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},f0=()=>{var t;return(t=Ih())===null||t===void 0?void 0:t.config},p0=t=>{var e;return(e=Ih())===null||e===void 0?void 0:e[`_${t}`]};var qr=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function TS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Kc(JSON.stringify(n)),Kc(JSON.stringify(s)),""].join(".")}function bt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function SS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bt())}function c2(){var t;let e=(t=Ih())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function AS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function xS(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function MS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function PS(){let t=bt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function RS(){return!c2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ys(){try{return typeof indexedDB=="object"}catch{return!1}}function NS(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var u2="FirebaseError",fn=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=u2,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ln.prototype.create)}},Ln=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?l2(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new fn(i,a,r)}};function l2(t,e){return t.replace(d2,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var d2=/\{\$([^}]+)}/g;function OS(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function To(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(CS(o)&&CS(s)){if(!To(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function CS(t){return t!==null&&typeof t=="object"}function Qc(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function kS(t,e){let n=new u0(t,e);return n.subscribe.bind(n)}var u0=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");h2(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=a0),i.error===void 0&&(i.error=a0),i.complete===void 0&&(i.complete=a0);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function h2(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function a0(){}var FS=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{let e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})};var f2=1e3,p2=2,g2=4*60*60*1e3,m2=.5;function VS(t,e=f2,n=p2){let r=e*Math.pow(n,t),i=Math.round(m2*r*(Math.random()-.5)*2);return Math.min(g2,r+i)}function dt(t){return t&&t._delegate?t._delegate:t}var Gt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var So="[DEFAULT]";var g0=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new qr;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(v2(e))try{this.getOrInitializeService({instanceIdentifier:So})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=So){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return E(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=So){return this.instances.has(e)}getOptions(e=So){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:y2(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=So){return this.component?this.component.multipleInstances?e:So:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function y2(t){return t===So?void 0:t}function v2(t){return t.instantiationMode==="EAGER"}var Ch=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new g0(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var _2=[],we=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(we||{}),w2={debug:we.DEBUG,verbose:we.VERBOSE,info:we.INFO,warn:we.WARN,error:we.ERROR,silent:we.SILENT},E2=we.INFO,I2={[we.DEBUG]:"log",[we.VERBOSE]:"log",[we.INFO]:"info",[we.WARN]:"warn",[we.ERROR]:"error"},C2=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=I2[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},sr=class{constructor(e){this.name=e,this._logLevel=E2,this._logHandler=C2,this._userLogHandler=null,_2.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in we))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?w2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,we.DEBUG,...e),this._logHandler(this,we.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,we.VERBOSE,...e),this._logHandler(this,we.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,we.INFO,...e),this._logHandler(this,we.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,we.WARN,...e),this._logHandler(this,we.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,we.ERROR,...e),this._logHandler(this,we.ERROR,...e)}};var b2=(t,e)=>e.some(n=>t instanceof n),LS,jS;function D2(){return LS||(LS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function T2(){return jS||(jS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var US=new WeakMap,y0=new WeakMap,BS=new WeakMap,m0=new WeakMap,_0=new WeakMap;function S2(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(ar(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&US.set(n,t)}).catch(()=>{}),_0.set(e,t),e}function A2(t){if(y0.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});y0.set(t,e)}var v0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return y0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||BS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ar(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function $S(t){v0=t(v0)}function x2(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(bh(this),e,...n);return BS.set(r,e.sort?e.sort():[e]),ar(r)}:T2().includes(t)?function(...e){return t.apply(bh(this),e),ar(US.get(this))}:function(...e){return ar(t.apply(bh(this),e))}}function M2(t){return typeof t=="function"?x2(t):(t instanceof IDBTransaction&&A2(t),b2(t,D2())?new Proxy(t,v0):t)}function ar(t){if(t instanceof IDBRequest)return S2(t);if(m0.has(t))return m0.get(t);let e=M2(t);return e!==t&&(m0.set(t,e),_0.set(e,t)),e}var bh=t=>_0.get(t);function zS(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=ar(s);return r&&s.addEventListener("upgradeneeded",u=>{r(ar(s.result),u.oldVersion,u.newVersion,ar(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var P2=["get","getKey","getAll","getAllKeys","count"],R2=["put","add","delete","clear"],w0=new Map;function HS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(w0.get(e))return w0.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=R2.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||P2.includes(n)))return;let o=function(s,...a){return E(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&u.done]))[0]})};return w0.set(e,o),o}$S(t=>ye(U({},t),{get:(e,n,r)=>HS(e,n)||t.get(e,n,r),has:(e,n)=>!!HS(e,n)||t.has(e,n)}));var I0=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(N2(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function N2(t){let e=t.getComponent();return e?.type==="VERSION"}var C0="@firebase/app",qS="0.10.13";var Gr=new sr("@firebase/app"),O2="@firebase/app-compat",k2="@firebase/analytics-compat",F2="@firebase/analytics",V2="@firebase/app-check-compat",L2="@firebase/app-check",j2="@firebase/auth",U2="@firebase/auth-compat",B2="@firebase/database",$2="@firebase/data-connect",H2="@firebase/database-compat",z2="@firebase/functions",q2="@firebase/functions-compat",G2="@firebase/installations",W2="@firebase/installations-compat",K2="@firebase/messaging",Q2="@firebase/messaging-compat",Y2="@firebase/performance",J2="@firebase/performance-compat",Z2="@firebase/remote-config",X2="@firebase/remote-config-compat",ej="@firebase/storage",tj="@firebase/storage-compat",nj="@firebase/firestore",rj="@firebase/vertexai-preview",ij="@firebase/firestore-compat",oj="firebase",sj="10.14.1";var b0="[DEFAULT]",aj={[C0]:"fire-core",[O2]:"fire-core-compat",[F2]:"fire-analytics",[k2]:"fire-analytics-compat",[L2]:"fire-app-check",[V2]:"fire-app-check-compat",[j2]:"fire-auth",[U2]:"fire-auth-compat",[B2]:"fire-rtdb",[$2]:"fire-data-connect",[H2]:"fire-rtdb-compat",[z2]:"fire-fn",[q2]:"fire-fn-compat",[G2]:"fire-iid",[W2]:"fire-iid-compat",[K2]:"fire-fcm",[Q2]:"fire-fcm-compat",[Y2]:"fire-perf",[J2]:"fire-perf-compat",[Z2]:"fire-rc",[X2]:"fire-rc-compat",[ej]:"fire-gcs",[tj]:"fire-gcs-compat",[nj]:"fire-fst",[ij]:"fire-fst-compat",[rj]:"fire-vertex","fire-js":"fire-js",[oj]:"fire-js-all"};var Yc=new Map,cj=new Map,D0=new Map;function GS(t,e){try{t.container.addComponent(e)}catch(n){Gr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function jn(t){let e=t.name;if(D0.has(e))return Gr.debug(`There were multiple attempts to register component ${e}.`),!1;D0.set(e,t);for(let n of Yc.values())GS(n,t);for(let n of cj.values())GS(n,t);return!0}function ki(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Wr(t){return t.settings!==void 0}var uj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Oi=new Ln("app","Firebase",uj);var T0=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Gt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Oi.create("app-deleted",{appName:this._name})}};var Fi=sj;function x0(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:b0,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Oi.create("bad-app-name",{appName:String(i)});if(n||(n=f0()),!n)throw Oi.create("no-options");let o=Yc.get(i);if(o){if(To(n,o.options)&&To(r,o.config))return o;throw Oi.create("duplicate-app",{appName:i})}let s=new Ch(i);for(let u of D0.values())s.addComponent(u);let a=new T0(n,r,s);return Yc.set(i,a),a}function Vi(t=b0){let e=Yc.get(t);if(!e&&t===b0&&f0())return x0();if(!e)throw Oi.create("no-app",{appName:t});return e}function Dh(){return Array.from(Yc.values())}function We(t,e,n){var r;let i=(r=aj[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Gr.warn(a.join(" "));return}jn(new Gt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var lj="firebase-heartbeat-database",dj=1,Jc="firebase-heartbeat-store",E0=null;function YS(){return E0||(E0=zS(lj,dj,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Jc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Oi.create("idb-open",{originalErrorMessage:t.message})})),E0}function hj(t){return E(this,null,function*(){try{let n=(yield YS()).transaction(Jc),r=yield n.objectStore(Jc).get(JS(t));return yield n.done,r}catch(e){if(e instanceof fn)Gr.warn(e.message);else{let n=Oi.create("idb-get",{originalErrorMessage:e?.message});Gr.warn(n.message)}}})}function WS(t,e){return E(this,null,function*(){try{let r=(yield YS()).transaction(Jc,"readwrite");yield r.objectStore(Jc).put(e,JS(t)),yield r.done}catch(n){if(n instanceof fn)Gr.warn(n.message);else{let r=Oi.create("idb-set",{originalErrorMessage:n?.message});Gr.warn(r.message)}}})}function JS(t){return`${t.name}!${t.options.appId}`}var fj=1024,pj=30*24*60*60*1e3,S0=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new A0(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return E(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=KS();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=pj}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Gr.warn(r)}})}getHeartbeatsHeader(){return E(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=KS(),{heartbeatsToSend:r,unsentEntries:i}=gj(this._heartbeatsCache.heartbeats),o=Kc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Gr.warn(n),""}})}};function KS(){return new Date().toISOString().substring(0,10)}function gj(t,e=fj){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),QS(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),QS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var A0=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return E(this,null,function*(){return Ys()?NS().then(()=>!0).catch(()=>!1):!1})}read(){return E(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield hj(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return E(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return WS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return E(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return WS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function QS(t){return Kc(JSON.stringify({version:2,heartbeats:t})).length}function mj(t){jn(new Gt("platform-logger",e=>new I0(e),"PRIVATE")),jn(new Gt("heartbeat",e=>new S0(e),"PRIVATE")),We(C0,qS,t),We(C0,qS,"esm2017"),We("fire-js","")}mj("");var yj="firebase",vj="10.14.1";We(yj,vj,"app");var Kr=new Mr("ANGULARFIRE2_VERSION");function Zs(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Xs=(t,e)=>{let n=e?[e]:Dh(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Li=class{constructor(){return Xs(P0)}},P0="app-check";function Js(){}var Th=class{zone;delegate;constructor(e,n=Kp){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,r)}},M0=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Js,{},Js,Js)),n.pipe(st({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},ji=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Th(Zone.current)),this.insideAngular=n.run(()=>new Th(Zone.current,ls)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(G(Ce))};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Sh(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function _j(t){return Sh().ngZone.runOutsideAngular(()=>t())}function Ao(t){return Sh().ngZone.run(()=>t())}function wj(t){return Ej(Sh())(t)}function Ej(t){return function(n){return n=n.lift(new M0(t.ngZone)),n.pipe(ui(t.outsideAngular),ci(t.insideAngular))}}var Ij=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Ao(()=>t.apply(void 0,r))},ht=(t,e)=>function(){let n,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(n||=Ao(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Js,{},Js,Js))),r[o]=Ij(r[o],n));let i=_j(()=>t.apply(this,r));if(!e)if(i instanceof pe){let o=Sh();return i.pipe(ui(o.outsideAngular),ci(o.insideAngular))}else return Ao(()=>i);return i instanceof pe?i.pipe(wj):i instanceof Promise?Ao(()=>new Promise((o,s)=>i.then(a=>Ao(()=>o(a)),a=>Ao(()=>s(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Ao(()=>i)};var Un=class{constructor(e){return e}},Qr=class{constructor(){return Dh()}};function Cj(t){return t&&t.length===1?t[0]:new Un(Vi())}var R0=new H("angularfire2._apps"),bj={provide:Un,useFactory:Cj,deps:[[new vt,R0]]},Dj={provide:Qr,deps:[[new vt,R0]]};function Tj(t){return(e,n)=>{let r=n.get(St);We("angularfire",Kr.full,"core"),We("angularfire",Kr.full,"app"),We("angular",FD.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new Un(i)}}function ZS(t,...e){return sn([bj,Dj,{provide:R0,useFactory:Tj(t),multi:!0,deps:[Ce,yt,ji,...e]}])}var XS=ht(x0,!0);function pA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var gA=pA,mA=new Ln("auth","Firebase",pA());var Nh=new sr("@firebase/auth");function Sj(t,...e){Nh.logLevel<=we.WARN&&Nh.warn(`Auth (${Fi}): ${t}`,...e)}function xh(t,...e){Nh.logLevel<=we.ERROR&&Nh.error(`Auth (${Fi}): ${t}`,...e)}function Bi(t,...e){throw Z0(t,...e)}function Mo(t,...e){return Z0(t,...e)}function yA(t,e,n){let r=Object.assign(Object.assign({},gA()),{[e]:n});return new Ln("auth","Firebase",r).create(e,{appName:t.name})}function xo(t){return yA(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Z0(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return mA.create(t,...e)}function ue(t,e,...n){if(!t)throw Z0(e,...n)}function Yr(t){let e="INTERNAL ASSERTION FAILED: "+t;throw xh(e),new Error(e)}function $i(t,e){t||Yr(e)}function F0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Aj(){return eA()==="http:"||eA()==="https:"}function eA(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function xj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Aj()||xS()||"connection"in navigator)?navigator.onLine:!0}function Mj(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Po=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,$i(n>e,"Short delay should be less than long delay!"),this.isMobile=SS()||MS()}get(){return xj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function X0(t,e){$i(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Oh=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Yr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Yr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Yr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var Pj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var Rj=new Po(3e4,6e4);function ev(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function ta(o,s,a,u){return E(this,arguments,function*(t,e,n,r,i={}){return vA(t,i,()=>E(this,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=Qc(Object.assign({key:t.config.apiKey},h)).slice(1),m=yield t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);let y=Object.assign({method:e,headers:m},l);return AS()||(y.referrerPolicy="no-referrer"),Oh.fetch()(_A(t,t.config.apiHost,n,p),y)}))})}function vA(t,e,n){return E(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},Pj),e);try{let i=new V0(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Ah(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ah(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw Ah(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw Ah(t,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw yA(t,h,l);Bi(t,h)}}catch(i){if(i instanceof fn)throw i;Bi(t,"network-request-failed",{message:String(i)})}})}function Nj(o,s,a,u){return E(this,arguments,function*(t,e,n,r,i={}){let l=yield ta(t,e,n,r,i);return"mfaPendingCredential"in l&&Bi(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function _A(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?X0(t.config,i):`${t.config.apiScheme}://${i}`}var V0=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Mo(this.auth,"network-request-failed")),Rj.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Ah(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Mo(t,e,r);return i.customData._tokenResponse=n,i}function Oj(t,e){return E(this,null,function*(){return ta(t,"POST","/v1/accounts:delete",e)})}function wA(t,e){return E(this,null,function*(){return ta(t,"POST","/v1/accounts:lookup",e)})}function Zc(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function tv(t,e=!1){return E(this,null,function*(){let n=dt(t),r=yield n.getIdToken(e),i=nv(r);ue(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Zc(N0(i.auth_time)),issuedAtTime:Zc(N0(i.iat)),expirationTime:Zc(N0(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function N0(t){return Number(t)*1e3}function nv(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return xh("JWT malformed, contained fewer than 3 sections"),null;try{let i=l0(n);return i?JSON.parse(i):(xh("Failed to decode base64 JWT payload"),null)}catch(i){return xh("Caught error parsing JWT payload as JSON",i?.toString()),null}}function tA(t){let e=nv(t);return ue(e,"internal-error"),ue(typeof e.exp<"u","internal-error"),ue(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function eu(t,e,n=!1){return E(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof fn&&kj(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function kj({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var L0=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>E(this,null,function*(){yield this.iteration()}),n)}iteration(){return E(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var tu=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zc(this.lastLoginAt),this.creationTime=Zc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function kh(t){return E(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield eu(t,wA(n,{idToken:r}));ue(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?EA(o.providerUserInfo):[],a=Fj(t.providerData,s),u=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new tu(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,p)})}function rv(t){return E(this,null,function*(){let e=dt(t);yield kh(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function Fj(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function EA(t){return t.map(e=>{var{providerId:n}=e,r=Qp(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function Vj(t,e){return E(this,null,function*(){let n=yield vA(t,{},()=>E(this,null,function*(){let r=Qc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=_A(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Oh.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function Lj(t,e){return E(this,null,function*(){return ta(t,"POST","/v2/accounts:revokeToken",ev(t,e))})}var Xc=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ue(e.idToken,"internal-error"),ue(typeof e.idToken<"u","internal-error"),ue(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):tA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ue(e.length!==0,"internal-error");let n=tA(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return E(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ue(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return E(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield Vj(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(ue(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(ue(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(ue(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Yr("not implemented")}};function Ui(t,e){ue(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var ea=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Qp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new L0(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new tu(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return E(this,null,function*(){let n=yield eu(this,this.stsTokenManager.getToken(this.auth,e));return ue(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return tv(this,e)}reload(){return rv(this)}_assign(e){this!==e&&(ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return E(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield kh(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return E(this,null,function*(){if(Wr(this.auth.app))return Promise.reject(xo(this.auth));let e=yield this.getIdToken();return yield eu(this,Oj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,u,l,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,y=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,S=(s=n.photoURL)!==null&&s!==void 0?s:void 0,N=(a=n.tenantId)!==null&&a!==void 0?a:void 0,P=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,V=(l=n.createdAt)!==null&&l!==void 0?l:void 0,ee=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:J,emailVerified:te,isAnonymous:Le,providerData:oe,stsTokenManager:b}=n;ue(J&&b,e,"internal-error");let v=Xc.fromJSON(this.name,b);ue(typeof J=="string",e,"internal-error"),Ui(p,e.name),Ui(m,e.name),ue(typeof te=="boolean",e,"internal-error"),ue(typeof Le=="boolean",e,"internal-error"),Ui(y,e.name),Ui(S,e.name),Ui(N,e.name),Ui(P,e.name),Ui(V,e.name),Ui(ee,e.name);let w=new t({uid:J,auth:e,email:m,emailVerified:te,displayName:p,isAnonymous:Le,photoURL:S,phoneNumber:y,tenantId:N,stsTokenManager:v,createdAt:V,lastLoginAt:ee});return oe&&Array.isArray(oe)&&(w.providerData=oe.map(D=>Object.assign({},D))),P&&(w._redirectEventId=P),w}static _fromIdTokenResponse(e,n,r=!1){return E(this,null,function*(){let i=new Xc;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield kh(o),o})}static _fromGetAccountInfoResponse(e,n,r){return E(this,null,function*(){let i=n.users[0];ue(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?EA(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Xc;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new tu(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var nA=new Map;function Jr(t){$i(t instanceof Function,"Expected a class definition");let e=nA.get(t);return e?($i(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,nA.set(t,e),e)}var jj=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return E(this,null,function*(){return!0})}_set(n,r){return E(this,null,function*(){this.storage[n]=r})}_get(n){return E(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return E(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),j0=jj;function Mh(t,e,n){return`firebase:${t}:${e}:${n}`}var Fh=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Mh(this.userKey,i.apiKey,o),this.fullPersistenceKey=Mh("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return E(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?ea._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return E(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return E(this,null,function*(){if(!n.length)return new t(Jr(j0),e,r);let i=(yield Promise.all(n.map(l=>E(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||Jr(j0),s=Mh(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let h=yield l._get(s);if(h){let p=ea._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new t(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>E(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,r))})}};function rA(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(DA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(IA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(SA(e))return"Blackberry";if(AA(e))return"Webos";if(CA(e))return"Safari";if((e.includes("chrome/")||bA(e))&&!e.includes("edge/"))return"Chrome";if(TA(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function IA(t=bt()){return/firefox\//i.test(t)}function CA(t=bt()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function bA(t=bt()){return/crios\//i.test(t)}function DA(t=bt()){return/iemobile/i.test(t)}function TA(t=bt()){return/android/i.test(t)}function SA(t=bt()){return/blackberry/i.test(t)}function AA(t=bt()){return/webos/i.test(t)}function iv(t=bt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Uj(t=bt()){var e;return iv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Bj(){return PS()&&document.documentMode===10}function xA(t=bt()){return iv(t)||TA(t)||AA(t)||SA(t)||/windows phone/i.test(t)||DA(t)}function MA(t,e=[]){let n;switch(t){case"Browser":n=rA(bt());break;case"Worker":n=`${rA(bt())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Fi}/${r}`}var U0=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return E(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function $j(n){return E(this,arguments,function*(t,e={}){return ta(t,"GET","/v2/passwordPolicy",ev(t,e))})}var Hj=6,B0=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:Hj,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var $0=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Vh(this),this.idTokenSubscription=new Vh(this),this.beforeStateQueue=new U0(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Jr(n)),this._initializationPromise=this.queue(()=>E(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Fh.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return E(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return E(this,null,function*(){try{let n=yield wA(this,{idToken:e}),r=yield ea._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return E(this,null,function*(){var n;if(Wr(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ue(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return E(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return E(this,null,function*(){try{yield kh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=Mj()}_delete(){return E(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return E(this,null,function*(){if(Wr(this.app))return Promise.reject(xo(this));let n=e?dt(e):null;return n&&ue(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return E(this,null,function*(){if(!this._deleted)return e&&ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>E(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return E(this,null,function*(){return Wr(this.app)?Promise.reject(xo(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Wr(this.app)?Promise.reject(xo(this)):this.queue(()=>E(this,null,function*(){yield this.assertedPersistence.setPersistence(Jr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return E(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return E(this,null,function*(){let e=yield $j(this),n=new B0(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ln("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return E(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield Lj(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return E(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return E(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Jr(e)||this._popupRedirectResolver;ue(n,this,"argument-error"),this.redirectPersistenceManager=yield Fh.create(this,[Jr(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return E(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>E(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return E(this,null,function*(){if(e===this.currentUser)return this.queue(()=>E(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ue(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(n);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return E(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=MA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return E(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return E(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&Sj(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function ov(t){return dt(t)}var Vh=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=kS(n=>this.observer=n)}get next(){return ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var sv={loadJS(){return E(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function zj(t){sv=t}function qj(t){return sv.loadJS(t)}function Gj(){return sv.gapiScript}function PA(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function av(t,e){let n=ki(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(To(o,e??{}))return i;Bi(i,"already-initialized")}return n.initialize({options:e})}function Wj(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Jr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function cv(t,e,n){let r=ov(t);ue(r._canInitEmulator,r,"emulator-config-failed"),ue(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=RA(e),{host:s,port:a}=Kj(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||Qj()}function RA(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Kj(t){let e=RA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:iA(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:iA(s)}}}function iA(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function Qj(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Lh=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Yr("not implemented")}_getIdTokenResponse(e){return Yr("not implemented")}_linkToIdToken(e,n){return Yr("not implemented")}_getReauthenticationResolver(e){return Yr("not implemented")}};function O0(t,e){return E(this,null,function*(){return Nj(t,"POST","/v1/accounts:signInWithIdp",ev(t,e))})}var jh=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var H0=class extends jh{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var nu=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return E(this,null,function*(){let o=yield ea._fromIdTokenResponse(e,r,i),s=oA(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return E(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=oA(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function oA(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var z0=class t extends fn{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function NA(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?z0._fromErrorAndOperation(t,o,e,r):o})}function Yj(t,e,n=!1){return E(this,null,function*(){let r=yield eu(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return nu._forOperation(t,"link",r)})}function Jj(t,e,n=!1){return E(this,null,function*(){let{auth:r}=t;if(Wr(r.app))return Promise.reject(xo(r));let i="reauthenticate";try{let o=yield eu(t,NA(r,i,e,t),n);ue(o.idToken,r,"internal-error");let s=nv(o.idToken);ue(s,r,"internal-error");let{sub:a}=s;return ue(t.uid===a,r,"user-mismatch"),nu._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Bi(r,"user-mismatch"),o}})}function Zj(t,e,n=!1){return E(this,null,function*(){if(Wr(t.app))return Promise.reject(xo(t));let r="signIn",i=yield NA(t,r,e),o=yield nu._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})}function uv(t,e,n,r){return dt(t).onIdTokenChanged(e,n,r)}function lv(t,e,n){return dt(t).beforeAuthStateChanged(e,n)}var Uh="__sak";var Bh=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Uh,"1"),this.storage.removeItem(Uh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var Xj=1e3,eU=10,tU=(()=>{class t extends Bh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=xA(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);Bj()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,eU):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},Xj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return E(this,null,function*(){yield si(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return E(this,null,function*(){let r=yield si(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return E(this,null,function*(){yield si(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),OA=tU;var nU=(()=>{class t extends Bh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),dv=nU;function rU(t){return Promise.all(t.map(e=>E(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var iU=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return E(this,null,function*(){let r=n,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(h=>E(this,null,function*(){return h(r.origin,s)})),l=yield rU(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function kA(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var q0=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return E(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let l=kA("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let m=p;if(m.data.eventId===l)switch(m.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(m.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function cr(){return window}function oU(t){cr().location.href=t}function FA(){return typeof cr().WorkerGlobalScope<"u"&&typeof cr().importScripts=="function"}function sU(){return E(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function aU(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function cU(){return FA()?self:null}var VA="firebaseLocalStorageDb",uU=1,$h="firebaseLocalStorage",LA="fbase_key",Ro=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function zh(t,e){return t.transaction([$h],e?"readwrite":"readonly").objectStore($h)}function lU(){let t=indexedDB.deleteDatabase(VA);return new Ro(t).toPromise()}function G0(){let t=indexedDB.open(VA,uU);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore($h,{keyPath:LA})}catch(i){n(i)}}),t.addEventListener("success",()=>E(this,null,function*(){let r=t.result;r.objectStoreNames.contains($h)?e(r):(r.close(),yield lU(),e(yield G0()))}))})}function sA(t,e,n){return E(this,null,function*(){let r=zh(t,!0).put({[LA]:e,value:n});return new Ro(r).toPromise()})}function dU(t,e){return E(this,null,function*(){let n=zh(t,!1).get(e),r=yield new Ro(n).toPromise();return r===void 0?null:r.value})}function aA(t,e){let n=zh(t,!0).delete(e);return new Ro(n).toPromise()}var hU=800,fU=3,pU=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return E(this,null,function*(){return this.db?this.db:(this.db=yield G0(),this.db)})}_withRetries(n){return E(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>fU)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return E(this,null,function*(){return FA()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return E(this,null,function*(){this.receiver=iU._getInstance(cU()),this.receiver._subscribe("keyChanged",(n,r)=>E(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>E(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return E(this,null,function*(){var n,r;if(this.activeServiceWorker=yield sU(),!this.activeServiceWorker)return;this.sender=new q0(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return E(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||aU()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return E(this,null,function*(){try{if(!indexedDB)return!1;let n=yield G0();return yield sA(n,Uh,"1"),yield aA(n,Uh),!0}catch{}return!1})}_withPendingWrite(n){return E(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return E(this,null,function*(){return this._withPendingWrite(()=>E(this,null,function*(){return yield this._withRetries(i=>sA(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return E(this,null,function*(){let r=yield this._withRetries(i=>dU(i,n));return this.localCache[n]=r,r})}_remove(n){return E(this,null,function*(){return this._withPendingWrite(()=>E(this,null,function*(){return yield this._withRetries(r=>aA(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return E(this,null,function*(){let n=yield this._withRetries(o=>{let s=zh(o,!1).getAll();return new Ro(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>E(this,null,function*(){return this._poll()}),hU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),jA=pU;var oY=PA("rcb"),sY=new Po(3e4,6e4);function gU(t,e){return e?Jr(e):(ue(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var ru=class extends Lh{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return O0(e,this._buildIdpRequest())}_linkToIdToken(e,n){return O0(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return O0(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function mU(t){return Zj(t.auth,new ru(t),t.bypassAuthState)}function yU(t){let{auth:e,user:n}=t;return ue(n,e,"internal-error"),Jj(n,new ru(t),t.bypassAuthState)}function vU(t){return E(this,null,function*(){let{auth:e,user:n}=t;return ue(n,e,"internal-error"),Yj(n,new ru(t),t.bypassAuthState)})}var W0=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>E(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return E(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return mU;case"linkViaPopup":case"linkViaRedirect":return vU;case"reauthViaPopup":case"reauthViaRedirect":return yU;default:Bi(this.auth,"internal-error")}}resolve(e){$i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){$i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var aY=new Po(2e3,1e4);var _U="pendingRedirect",Ph=new Map,K0=class t extends W0{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return E(this,null,function*(){let e=Ph.get(this.auth._key());if(!e){try{let r=(yield wU(this.resolver,this.auth))?yield si(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ph.set(this.auth._key(),e)}return this.bypassAuthState||Ph.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return E(this,null,function*(){if(e.type==="signInViaRedirect")return si(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,si(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return E(this,null,function*(){})}cleanUp(){}};function wU(t,e){return E(this,null,function*(){let n=CU(e),r=IU(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function EU(t,e){Ph.set(t._key(),e)}function IU(t){return Jr(t._redirectPersistence)}function CU(t){return Mh(_U,t.config.apiKey,t.name)}function bU(t,e,n=!1){return E(this,null,function*(){if(Wr(t.app))return Promise.reject(xo(t));let r=ov(t),i=gU(r,e),s=yield new K0(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var DU=10*60*1e3,Q0=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!TU(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!UA(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Mo(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=DU&&this.cachedEventUids.clear(),this.cachedEventUids.has(cA(e))}saveEventToCache(e){this.cachedEventUids.add(cA(e)),this.lastProcessedEventTime=Date.now()}};function cA(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function UA({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function TU(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return UA(t);default:return!1}}function SU(n){return E(this,arguments,function*(t,e={}){return ta(t,"GET","/v1/projects",e)})}var AU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xU=/^https?/;function MU(t){return E(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield SU(t);for(let n of e)try{if(PU(n))return}catch{}Bi(t,"unauthorized-domain")})}function PU(t){let e=F0(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!xU.test(n))return!1;if(AU.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var RU=new Po(3e4,6e4);function uA(){let t=cr().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function NU(t){return new Promise((e,n)=>{var r,i,o;function s(){uA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{uA(),n(Mo(t,"network-request-failed"))},timeout:RU.get()})}if(!((i=(r=cr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=cr().gapi)===null||o===void 0)&&o.load)s();else{let a=PA("iframefcb");return cr()[a]=()=>{gapi.load?s():n(Mo(t,"network-request-failed"))},qj(`${Gj()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw Rh=null,e})}var Rh=null;function OU(t){return Rh=Rh||NU(t),Rh}var kU=new Po(5e3,15e3),FU="__/auth/iframe",VU="emulator/auth/iframe",LU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},jU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function UU(t){let e=t.config;ue(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?X0(e,VU):`https://${t.config.authDomain}/${FU}`,r={apiKey:e.apiKey,appName:t.name,v:Fi},i=jU.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Qc(r).slice(1)}`}function BU(t){return E(this,null,function*(){let e=yield OU(t),n=cr().gapi;return ue(n,t,"internal-error"),e.open({where:document.body,url:UU(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:LU,dontclear:!0},r=>new Promise((i,o)=>E(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=Mo(t,"network-request-failed"),a=cr().setTimeout(()=>{o(s)},kU.get());function u(){cr().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var $U={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},HU=500,zU=600,qU="_blank",GU="http://localhost",Hh=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function WU(t,e,n,r=HU,i=zU){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},$U),{width:r.toString(),height:i.toString(),top:o,left:s}),l=bt().toLowerCase();n&&(a=bA(l)?qU:n),IA(l)&&(e=e||GU,u.scrollbars="yes");let h=Object.entries(u).reduce((m,[y,S])=>`${m}${y}=${S},`,"");if(Uj(l)&&a!=="_self")return KU(e||"",a),new Hh(null);let p=window.open(e||"",a,h);ue(p,t,"popup-blocked");try{p.focus()}catch{}return new Hh(p)}function KU(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var QU="__/auth/handler",YU="emulator/auth/handler",JU=encodeURIComponent("fac");function lA(t,e,n,r,i,o){return E(this,null,function*(){ue(t.config.authDomain,t,"auth-domain-config-required"),ue(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Fi,eventId:i};if(e instanceof jh){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",OS(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof H0){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield t._getAppCheckToken(),l=u?`#${JU}=${encodeURIComponent(u)}`:"";return`${ZU(t)}?${Qc(a).slice(1)}${l}`})}function ZU({config:t}){return t.emulator?X0(t,YU):`https://${t.authDomain}/${QU}`}var k0="webStorageSupport",Y0=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=dv,this._completeRedirectFn=bU,this._overrideRedirectResult=EU}_openPopup(e,n,r,i){return E(this,null,function*(){var o;$i((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield lA(e,n,r,F0(),i);return WU(e,s,kA())})}_openRedirect(e,n,r,i){return E(this,null,function*(){yield this._originValidation(e);let o=yield lA(e,n,r,F0(),i);return oU(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):($i(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return E(this,null,function*(){let n=yield BU(e),r=new Q0(e);return n.register("authEvent",i=>(ue(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(k0,{type:k0},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[k0];s!==void 0&&n(!!s),Bi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=MU(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return xA()||CA()||iv()}},BA=Y0;var dA="@firebase/auth",hA="1.7.9";var J0=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return E(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function XU(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function eB(t){jn(new Gt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;ue(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:MA(t)},l=new $0(r,i,o,u);return Wj(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),jn(new Gt("auth-internal",e=>{let n=ov(e.getProvider("auth").getImmediate());return(r=>new J0(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),We(dA,hA,XU(t)),We(dA,hA,"esm2017")}var tB=5*60,nB=p0("authIdTokenMaxAge")||tB,fA=null,rB=t=>e=>E(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>nB)return;let i=n?.token;fA!==i&&(fA=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function hv(t=Vi()){let e=ki(t,"auth");if(e.isInitialized())return e.getImmediate();let n=av(t,{popupRedirectResolver:BA,persistence:[jA,OA,dv]}),r=p0("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=rB(o.toString());lv(n,s,()=>s(n.currentUser)),uv(n,a=>s(a))}}let i=h0("auth");return i&&cv(n,`http://${i}`),n}function iB(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}zj({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=Mo("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",iB().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});eB("Browser");var $A="auth",iu=class{constructor(e){return e}},ou=class{constructor(){return Xs($A)}};var fv=new H("angularfire2.auth-instances");function ZB(t,e){let n=Zs($A,t,e);return n&&new iu(n)}function XB(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new iu(r)}}var e$={provide:ou,deps:[[new vt,fv]]},t$={provide:iu,useFactory:ZB,deps:[[new vt,fv],Un]};function HA(t,...e){return We("angularfire",Kr.full,"auth"),sn([t$,e$,{provide:fv,useFactory:XB(t),multi:!0,deps:[Ce,yt,ji,Qr,[new vt,Li],...e]}])}var zA=ht(hv,!0);var qA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},GA={};var Hi,pv;(function(){var t;function e(b,v){function w(){}w.prototype=v.prototype,b.D=v.prototype,b.prototype=new w,b.prototype.constructor=b,b.C=function(D,T,x){for(var I=Array(arguments.length-2),Er=2;Er<arguments.length;Er++)I[Er-2]=arguments[Er];return v.prototype[T].apply(D,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(b,v,w){w||(w=0);var D=Array(16);if(typeof v=="string")for(var T=0;16>T;++T)D[T]=v.charCodeAt(w++)|v.charCodeAt(w++)<<8|v.charCodeAt(w++)<<16|v.charCodeAt(w++)<<24;else for(T=0;16>T;++T)D[T]=v[w++]|v[w++]<<8|v[w++]<<16|v[w++]<<24;v=b.g[0],w=b.g[1],T=b.g[2];var x=b.g[3],I=v+(x^w&(T^x))+D[0]+3614090360&4294967295;v=w+(I<<7&4294967295|I>>>25),I=x+(T^v&(w^T))+D[1]+3905402710&4294967295,x=v+(I<<12&4294967295|I>>>20),I=T+(w^x&(v^w))+D[2]+606105819&4294967295,T=x+(I<<17&4294967295|I>>>15),I=w+(v^T&(x^v))+D[3]+3250441966&4294967295,w=T+(I<<22&4294967295|I>>>10),I=v+(x^w&(T^x))+D[4]+4118548399&4294967295,v=w+(I<<7&4294967295|I>>>25),I=x+(T^v&(w^T))+D[5]+1200080426&4294967295,x=v+(I<<12&4294967295|I>>>20),I=T+(w^x&(v^w))+D[6]+2821735955&4294967295,T=x+(I<<17&4294967295|I>>>15),I=w+(v^T&(x^v))+D[7]+4249261313&4294967295,w=T+(I<<22&4294967295|I>>>10),I=v+(x^w&(T^x))+D[8]+1770035416&4294967295,v=w+(I<<7&4294967295|I>>>25),I=x+(T^v&(w^T))+D[9]+2336552879&4294967295,x=v+(I<<12&4294967295|I>>>20),I=T+(w^x&(v^w))+D[10]+4294925233&4294967295,T=x+(I<<17&4294967295|I>>>15),I=w+(v^T&(x^v))+D[11]+2304563134&4294967295,w=T+(I<<22&4294967295|I>>>10),I=v+(x^w&(T^x))+D[12]+1804603682&4294967295,v=w+(I<<7&4294967295|I>>>25),I=x+(T^v&(w^T))+D[13]+4254626195&4294967295,x=v+(I<<12&4294967295|I>>>20),I=T+(w^x&(v^w))+D[14]+2792965006&4294967295,T=x+(I<<17&4294967295|I>>>15),I=w+(v^T&(x^v))+D[15]+1236535329&4294967295,w=T+(I<<22&4294967295|I>>>10),I=v+(T^x&(w^T))+D[1]+4129170786&4294967295,v=w+(I<<5&4294967295|I>>>27),I=x+(w^T&(v^w))+D[6]+3225465664&4294967295,x=v+(I<<9&4294967295|I>>>23),I=T+(v^w&(x^v))+D[11]+643717713&4294967295,T=x+(I<<14&4294967295|I>>>18),I=w+(x^v&(T^x))+D[0]+3921069994&4294967295,w=T+(I<<20&4294967295|I>>>12),I=v+(T^x&(w^T))+D[5]+3593408605&4294967295,v=w+(I<<5&4294967295|I>>>27),I=x+(w^T&(v^w))+D[10]+38016083&4294967295,x=v+(I<<9&4294967295|I>>>23),I=T+(v^w&(x^v))+D[15]+3634488961&4294967295,T=x+(I<<14&4294967295|I>>>18),I=w+(x^v&(T^x))+D[4]+3889429448&4294967295,w=T+(I<<20&4294967295|I>>>12),I=v+(T^x&(w^T))+D[9]+568446438&4294967295,v=w+(I<<5&4294967295|I>>>27),I=x+(w^T&(v^w))+D[14]+3275163606&4294967295,x=v+(I<<9&4294967295|I>>>23),I=T+(v^w&(x^v))+D[3]+4107603335&4294967295,T=x+(I<<14&4294967295|I>>>18),I=w+(x^v&(T^x))+D[8]+1163531501&4294967295,w=T+(I<<20&4294967295|I>>>12),I=v+(T^x&(w^T))+D[13]+2850285829&4294967295,v=w+(I<<5&4294967295|I>>>27),I=x+(w^T&(v^w))+D[2]+4243563512&4294967295,x=v+(I<<9&4294967295|I>>>23),I=T+(v^w&(x^v))+D[7]+1735328473&4294967295,T=x+(I<<14&4294967295|I>>>18),I=w+(x^v&(T^x))+D[12]+2368359562&4294967295,w=T+(I<<20&4294967295|I>>>12),I=v+(w^T^x)+D[5]+4294588738&4294967295,v=w+(I<<4&4294967295|I>>>28),I=x+(v^w^T)+D[8]+2272392833&4294967295,x=v+(I<<11&4294967295|I>>>21),I=T+(x^v^w)+D[11]+1839030562&4294967295,T=x+(I<<16&4294967295|I>>>16),I=w+(T^x^v)+D[14]+4259657740&4294967295,w=T+(I<<23&4294967295|I>>>9),I=v+(w^T^x)+D[1]+2763975236&4294967295,v=w+(I<<4&4294967295|I>>>28),I=x+(v^w^T)+D[4]+1272893353&4294967295,x=v+(I<<11&4294967295|I>>>21),I=T+(x^v^w)+D[7]+4139469664&4294967295,T=x+(I<<16&4294967295|I>>>16),I=w+(T^x^v)+D[10]+3200236656&4294967295,w=T+(I<<23&4294967295|I>>>9),I=v+(w^T^x)+D[13]+681279174&4294967295,v=w+(I<<4&4294967295|I>>>28),I=x+(v^w^T)+D[0]+3936430074&4294967295,x=v+(I<<11&4294967295|I>>>21),I=T+(x^v^w)+D[3]+3572445317&4294967295,T=x+(I<<16&4294967295|I>>>16),I=w+(T^x^v)+D[6]+76029189&4294967295,w=T+(I<<23&4294967295|I>>>9),I=v+(w^T^x)+D[9]+3654602809&4294967295,v=w+(I<<4&4294967295|I>>>28),I=x+(v^w^T)+D[12]+3873151461&4294967295,x=v+(I<<11&4294967295|I>>>21),I=T+(x^v^w)+D[15]+530742520&4294967295,T=x+(I<<16&4294967295|I>>>16),I=w+(T^x^v)+D[2]+3299628645&4294967295,w=T+(I<<23&4294967295|I>>>9),I=v+(T^(w|~x))+D[0]+4096336452&4294967295,v=w+(I<<6&4294967295|I>>>26),I=x+(w^(v|~T))+D[7]+1126891415&4294967295,x=v+(I<<10&4294967295|I>>>22),I=T+(v^(x|~w))+D[14]+2878612391&4294967295,T=x+(I<<15&4294967295|I>>>17),I=w+(x^(T|~v))+D[5]+4237533241&4294967295,w=T+(I<<21&4294967295|I>>>11),I=v+(T^(w|~x))+D[12]+1700485571&4294967295,v=w+(I<<6&4294967295|I>>>26),I=x+(w^(v|~T))+D[3]+2399980690&4294967295,x=v+(I<<10&4294967295|I>>>22),I=T+(v^(x|~w))+D[10]+4293915773&4294967295,T=x+(I<<15&4294967295|I>>>17),I=w+(x^(T|~v))+D[1]+2240044497&4294967295,w=T+(I<<21&4294967295|I>>>11),I=v+(T^(w|~x))+D[8]+1873313359&4294967295,v=w+(I<<6&4294967295|I>>>26),I=x+(w^(v|~T))+D[15]+4264355552&4294967295,x=v+(I<<10&4294967295|I>>>22),I=T+(v^(x|~w))+D[6]+2734768916&4294967295,T=x+(I<<15&4294967295|I>>>17),I=w+(x^(T|~v))+D[13]+1309151649&4294967295,w=T+(I<<21&4294967295|I>>>11),I=v+(T^(w|~x))+D[4]+4149444226&4294967295,v=w+(I<<6&4294967295|I>>>26),I=x+(w^(v|~T))+D[11]+3174756917&4294967295,x=v+(I<<10&4294967295|I>>>22),I=T+(v^(x|~w))+D[2]+718787259&4294967295,T=x+(I<<15&4294967295|I>>>17),I=w+(x^(T|~v))+D[9]+3951481745&4294967295,b.g[0]=b.g[0]+v&4294967295,b.g[1]=b.g[1]+(T+(I<<21&4294967295|I>>>11))&4294967295,b.g[2]=b.g[2]+T&4294967295,b.g[3]=b.g[3]+x&4294967295}r.prototype.u=function(b,v){v===void 0&&(v=b.length);for(var w=v-this.blockSize,D=this.B,T=this.h,x=0;x<v;){if(T==0)for(;x<=w;)i(this,b,x),x+=this.blockSize;if(typeof b=="string"){for(;x<v;)if(D[T++]=b.charCodeAt(x++),T==this.blockSize){i(this,D),T=0;break}}else for(;x<v;)if(D[T++]=b[x++],T==this.blockSize){i(this,D),T=0;break}}this.h=T,this.o+=v},r.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var v=1;v<b.length-8;++v)b[v]=0;var w=8*this.o;for(v=b.length-8;v<b.length;++v)b[v]=w&255,w/=256;for(this.u(b),b=Array(16),v=w=0;4>v;++v)for(var D=0;32>D;D+=8)b[w++]=this.g[v]>>>D&255;return b};function o(b,v){var w=a;return Object.prototype.hasOwnProperty.call(w,b)?w[b]:w[b]=v(b)}function s(b,v){this.h=v;for(var w=[],D=!0,T=b.length-1;0<=T;T--){var x=b[T]|0;D&&x==v||(w[T]=x,D=!1)}this.g=w}var a={};function u(b){return-128<=b&&128>b?o(b,function(v){return new s([v|0],0>v?-1:0)}):new s([b|0],0>b?-1:0)}function l(b){if(isNaN(b)||!isFinite(b))return p;if(0>b)return P(l(-b));for(var v=[],w=1,D=0;b>=w;D++)v[D]=b/w|0,w*=4294967296;return new s(v,0)}function h(b,v){if(b.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(b.charAt(0)=="-")return P(h(b.substring(1),v));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=l(Math.pow(v,8)),D=p,T=0;T<b.length;T+=8){var x=Math.min(8,b.length-T),I=parseInt(b.substring(T,T+x),v);8>x?(x=l(Math.pow(v,x)),D=D.j(x).add(l(I))):(D=D.j(w),D=D.add(l(I)))}return D}var p=u(0),m=u(1),y=u(16777216);t=s.prototype,t.m=function(){if(N(this))return-P(this).m();for(var b=0,v=1,w=0;w<this.g.length;w++){var D=this.i(w);b+=(0<=D?D:4294967296+D)*v,v*=4294967296}return b},t.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(S(this))return"0";if(N(this))return"-"+P(this).toString(b);for(var v=l(Math.pow(b,6)),w=this,D="";;){var T=te(w,v).g;w=V(w,T.j(v));var x=((0<w.g.length?w.g[0]:w.h)>>>0).toString(b);if(w=T,S(w))return x+D;for(;6>x.length;)x="0"+x;D=x+D}},t.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function S(b){if(b.h!=0)return!1;for(var v=0;v<b.g.length;v++)if(b.g[v]!=0)return!1;return!0}function N(b){return b.h==-1}t.l=function(b){return b=V(this,b),N(b)?-1:S(b)?0:1};function P(b){for(var v=b.g.length,w=[],D=0;D<v;D++)w[D]=~b.g[D];return new s(w,~b.h).add(m)}t.abs=function(){return N(this)?P(this):this},t.add=function(b){for(var v=Math.max(this.g.length,b.g.length),w=[],D=0,T=0;T<=v;T++){var x=D+(this.i(T)&65535)+(b.i(T)&65535),I=(x>>>16)+(this.i(T)>>>16)+(b.i(T)>>>16);D=I>>>16,x&=65535,I&=65535,w[T]=I<<16|x}return new s(w,w[w.length-1]&-2147483648?-1:0)};function V(b,v){return b.add(P(v))}t.j=function(b){if(S(this)||S(b))return p;if(N(this))return N(b)?P(this).j(P(b)):P(P(this).j(b));if(N(b))return P(this.j(P(b)));if(0>this.l(y)&&0>b.l(y))return l(this.m()*b.m());for(var v=this.g.length+b.g.length,w=[],D=0;D<2*v;D++)w[D]=0;for(D=0;D<this.g.length;D++)for(var T=0;T<b.g.length;T++){var x=this.i(D)>>>16,I=this.i(D)&65535,Er=b.i(T)>>>16,ka=b.i(T)&65535;w[2*D+2*T]+=I*ka,ee(w,2*D+2*T),w[2*D+2*T+1]+=x*ka,ee(w,2*D+2*T+1),w[2*D+2*T+1]+=I*Er,ee(w,2*D+2*T+1),w[2*D+2*T+2]+=x*Er,ee(w,2*D+2*T+2)}for(D=0;D<v;D++)w[D]=w[2*D+1]<<16|w[2*D];for(D=v;D<2*v;D++)w[D]=0;return new s(w,0)};function ee(b,v){for(;(b[v]&65535)!=b[v];)b[v+1]+=b[v]>>>16,b[v]&=65535,v++}function J(b,v){this.g=b,this.h=v}function te(b,v){if(S(v))throw Error("division by zero");if(S(b))return new J(p,p);if(N(b))return v=te(P(b),v),new J(P(v.g),P(v.h));if(N(v))return v=te(b,P(v)),new J(P(v.g),v.h);if(30<b.g.length){if(N(b)||N(v))throw Error("slowDivide_ only works with positive integers.");for(var w=m,D=v;0>=D.l(b);)w=Le(w),D=Le(D);var T=oe(w,1),x=oe(D,1);for(D=oe(D,2),w=oe(w,2);!S(D);){var I=x.add(D);0>=I.l(b)&&(T=T.add(w),x=I),D=oe(D,1),w=oe(w,1)}return v=V(b,T.j(v)),new J(T,v)}for(T=p;0<=b.l(v);){for(w=Math.max(1,Math.floor(b.m()/v.m())),D=Math.ceil(Math.log(w)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),x=l(w),I=x.j(v);N(I)||0<I.l(b);)w-=D,x=l(w),I=x.j(v);S(x)&&(x=m),T=T.add(x),b=V(b,I)}return new J(T,b)}t.A=function(b){return te(this,b).h},t.and=function(b){for(var v=Math.max(this.g.length,b.g.length),w=[],D=0;D<v;D++)w[D]=this.i(D)&b.i(D);return new s(w,this.h&b.h)},t.or=function(b){for(var v=Math.max(this.g.length,b.g.length),w=[],D=0;D<v;D++)w[D]=this.i(D)|b.i(D);return new s(w,this.h|b.h)},t.xor=function(b){for(var v=Math.max(this.g.length,b.g.length),w=[],D=0;D<v;D++)w[D]=this.i(D)^b.i(D);return new s(w,this.h^b.h)};function Le(b){for(var v=b.g.length+1,w=[],D=0;D<v;D++)w[D]=b.i(D)<<1|b.i(D-1)>>>31;return new s(w,b.h)}function oe(b,v){var w=v>>5;v%=32;for(var D=b.g.length-w,T=[],x=0;x<D;x++)T[x]=0<v?b.i(x+w)>>>v|b.i(x+w+1)<<32-v:b.i(x+w);return new s(T,b.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,pv=GA.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,Hi=GA.Integer=s}).apply(typeof qA<"u"?qA:typeof self<"u"?self:typeof window<"u"?window:{});var qh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Zr={};var gv,n$,na,mv,su,Gh,yv,vv,_v;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof qh=="object"&&qh];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var A=c[g];if(!(A in f))break e;f=f[A]}c=c[c.length-1],g=f[c],d=d(g),d!=g&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,g=!1,A={next:function(){if(!g&&f<c.length){var R=f++;return{value:d(R,c[R]),done:!1}}return g=!0,{done:!0,value:void 0}}};return A[Symbol.iterator]=function(){return A},A}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var A=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(A,g),c.apply(d,A)}}return function(){return c.apply(d,arguments)}}function m(c,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function y(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function S(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(g,A,R){for(var B=Array(arguments.length-2),je=2;je<arguments.length;je++)B[je-2]=arguments[je];return d.prototype[A].apply(g,B)}}function N(c){let d=c.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=c[g];return f}return[]}function P(c,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let A=c.length||0,R=g.length||0;c.length=A+R;for(let B=0;B<R;B++)c[A+B]=g[B]}else c.push(g)}}class V{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function ee(c){return/^[\s\xa0]*$/.test(c)}function J(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function te(c){return te[" "](c),c}te[" "]=function(){};var Le=J().indexOf("Gecko")!=-1&&!(J().toLowerCase().indexOf("webkit")!=-1&&J().indexOf("Edge")==-1)&&!(J().indexOf("Trident")!=-1||J().indexOf("MSIE")!=-1)&&J().indexOf("Edge")==-1;function oe(c,d,f){for(let g in c)d.call(f,c[g],g,c)}function b(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function v(c){let d={};for(let f in c)d[f]=c[f];return d}let w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(c,d){let f,g;for(let A=1;A<arguments.length;A++){g=arguments[A];for(f in g)c[f]=g[f];for(let R=0;R<w.length;R++)f=w[R],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function T(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function x(c){a.setTimeout(()=>{throw c},0)}function I(){var c=rp;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class Er{constructor(){this.h=this.g=null}add(d,f){let g=ka.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var ka=new V(()=>new c1,c=>c.reset());class c1{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Fa,Va=!1,rp=new Er,Ww=()=>{let c=a.Promise.resolve(void 0);Fa=()=>{c.then(u1)}};var u1=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(f){x(f)}var d=ka;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}Va=!1};function ni(){this.s=this.s,this.C=this.C}ni.prototype.s=!1,ni.prototype.ma=function(){this.s||(this.s=!0,this.N())},ni.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function At(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}At.prototype.h=function(){this.defaultPrevented=!0};var l1=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function La(c,d){if(At.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(Le){e:{try{te(d.nodeName);var A=!0;break e}catch{}A=!1}A||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:d1[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&La.aa.h.call(this)}}S(La,At);var d1={2:"touch",3:"pen",4:"mouse"};La.prototype.h=function(){La.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ja="closure_listenable_"+(1e6*Math.random()|0),h1=0;function f1(c,d,f,g,A){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=A,this.key=++h1,this.da=this.fa=!1}function zu(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function qu(c){this.src=c,this.g={},this.h=0}qu.prototype.add=function(c,d,f,g,A){var R=c.toString();c=this.g[R],c||(c=this.g[R]=[],this.h++);var B=op(c,d,g,A);return-1<B?(d=c[B],f||(d.fa=!1)):(d=new f1(d,this.src,R,!!g,A),d.fa=f,c.push(d)),d};function ip(c,d){var f=d.type;if(f in c.g){var g=c.g[f],A=Array.prototype.indexOf.call(g,d,void 0),R;(R=0<=A)&&Array.prototype.splice.call(g,A,1),R&&(zu(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function op(c,d,f,g){for(var A=0;A<c.length;++A){var R=c[A];if(!R.da&&R.listener==d&&R.capture==!!f&&R.ha==g)return A}return-1}var sp="closure_lm_"+(1e6*Math.random()|0),ap={};function Kw(c,d,f,g,A){if(g&&g.once)return Yw(c,d,f,g,A);if(Array.isArray(d)){for(var R=0;R<d.length;R++)Kw(c,d[R],f,g,A);return null}return f=dp(f),c&&c[ja]?c.K(d,f,l(g)?!!g.capture:!!g,A):Qw(c,d,f,!1,g,A)}function Qw(c,d,f,g,A,R){if(!d)throw Error("Invalid event type");var B=l(A)?!!A.capture:!!A,je=up(c);if(je||(c[sp]=je=new qu(c)),f=je.add(d,f,g,B,R),f.proxy)return f;if(g=p1(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)l1||(A=B),A===void 0&&(A=!1),c.addEventListener(d.toString(),g,A);else if(c.attachEvent)c.attachEvent(Zw(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function p1(){function c(f){return d.call(c.src,c.listener,f)}let d=g1;return c}function Yw(c,d,f,g,A){if(Array.isArray(d)){for(var R=0;R<d.length;R++)Yw(c,d[R],f,g,A);return null}return f=dp(f),c&&c[ja]?c.L(d,f,l(g)?!!g.capture:!!g,A):Qw(c,d,f,!0,g,A)}function Jw(c,d,f,g,A){if(Array.isArray(d))for(var R=0;R<d.length;R++)Jw(c,d[R],f,g,A);else g=l(g)?!!g.capture:!!g,f=dp(f),c&&c[ja]?(c=c.i,d=String(d).toString(),d in c.g&&(R=c.g[d],f=op(R,f,g,A),-1<f&&(zu(R[f]),Array.prototype.splice.call(R,f,1),R.length==0&&(delete c.g[d],c.h--)))):c&&(c=up(c))&&(d=c.g[d.toString()],c=-1,d&&(c=op(d,f,g,A)),(f=-1<c?d[c]:null)&&cp(f))}function cp(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[ja])ip(d.i,c);else{var f=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(f,g,c.capture):d.detachEvent?d.detachEvent(Zw(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=up(d))?(ip(f,c),f.h==0&&(f.src=null,d[sp]=null)):zu(c)}}}function Zw(c){return c in ap?ap[c]:ap[c]="on"+c}function g1(c,d){if(c.da)c=!0;else{d=new La(d,this);var f=c.listener,g=c.ha||c.src;c.fa&&cp(c),c=f.call(g,d)}return c}function up(c){return c=c[sp],c instanceof qu?c:null}var lp="__closure_events_fn_"+(1e9*Math.random()>>>0);function dp(c){return typeof c=="function"?c:(c[lp]||(c[lp]=function(d){return c.handleEvent(d)}),c[lp])}function xt(){ni.call(this),this.i=new qu(this),this.M=this,this.F=null}S(xt,ni),xt.prototype[ja]=!0,xt.prototype.removeEventListener=function(c,d,f,g){Jw(this,c,d,f,g)};function jt(c,d){var f,g=c.F;if(g)for(f=[];g;g=g.F)f.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new At(d,c);else if(d instanceof At)d.target=d.target||c;else{var A=d;d=new At(g,c),D(d,A)}if(A=!0,f)for(var R=f.length-1;0<=R;R--){var B=d.g=f[R];A=Gu(B,g,!0,d)&&A}if(B=d.g=c,A=Gu(B,g,!0,d)&&A,A=Gu(B,g,!1,d)&&A,f)for(R=0;R<f.length;R++)B=d.g=f[R],A=Gu(B,g,!1,d)&&A}xt.prototype.N=function(){if(xt.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],g=0;g<f.length;g++)zu(f[g]);delete c.g[d],c.h--}}this.F=null},xt.prototype.K=function(c,d,f,g){return this.i.add(String(c),d,!1,f,g)},xt.prototype.L=function(c,d,f,g){return this.i.add(String(c),d,!0,f,g)};function Gu(c,d,f,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var A=!0,R=0;R<d.length;++R){var B=d[R];if(B&&!B.da&&B.capture==f){var je=B.listener,Tt=B.ha||B.src;B.fa&&ip(c.i,B),A=je.call(Tt,g)!==!1&&A}}return A&&!g.defaultPrevented}function Xw(c,d,f){if(typeof c=="function")f&&(c=m(c,f));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function eE(c){c.g=Xw(()=>{c.g=null,c.i&&(c.i=!1,eE(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class m1 extends ni{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:eE(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ua(c){ni.call(this),this.h=c,this.g={}}S(Ua,ni);var tE=[];function nE(c){oe(c.g,function(d,f){this.g.hasOwnProperty(f)&&cp(d)},c),c.g={}}Ua.prototype.N=function(){Ua.aa.N.call(this),nE(this)},Ua.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var hp=a.JSON.stringify,y1=a.JSON.parse,v1=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function fp(){}fp.prototype.h=null;function rE(c){return c.h||(c.h=c.i())}function iE(){}var Ba={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function pp(){At.call(this,"d")}S(pp,At);function gp(){At.call(this,"c")}S(gp,At);var Yi={},oE=null;function Wu(){return oE=oE||new xt}Yi.La="serverreachability";function sE(c){At.call(this,Yi.La,c)}S(sE,At);function $a(c){let d=Wu();jt(d,new sE(d))}Yi.STAT_EVENT="statevent";function aE(c,d){At.call(this,Yi.STAT_EVENT,c),this.stat=d}S(aE,At);function Ut(c){let d=Wu();jt(d,new aE(d,c))}Yi.Ma="timingevent";function cE(c,d){At.call(this,Yi.Ma,c),this.size=d}S(cE,At);function Ha(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function za(){this.g=!0}za.prototype.xa=function(){this.g=!1};function _1(c,d,f,g,A,R){c.info(function(){if(c.g)if(R)for(var B="",je=R.split("&"),Tt=0;Tt<je.length;Tt++){var Se=je[Tt].split("=");if(1<Se.length){var Mt=Se[0];Se=Se[1];var Pt=Mt.split("_");B=2<=Pt.length&&Pt[1]=="type"?B+(Mt+"="+Se+"&"):B+(Mt+"=redacted&")}}else B=null;else B=R;return"XMLHTTP REQ ("+g+") [attempt "+A+"]: "+d+`
`+f+`
`+B})}function w1(c,d,f,g,A,R,B){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+A+"]: "+d+`
`+f+`
`+R+" "+B})}function Yo(c,d,f,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+I1(c,f)+(g?" "+g:"")})}function E1(c,d){c.info(function(){return"TIMEOUT: "+d})}za.prototype.info=function(){};function I1(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var g=f[c];if(!(2>g.length)){var A=g[1];if(Array.isArray(A)&&!(1>A.length)){var R=A[0];if(R!="noop"&&R!="stop"&&R!="close")for(var B=1;B<A.length;B++)A[B]=""}}}}return hp(f)}catch{return d}}var Ku={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},uE={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},mp;function Qu(){}S(Qu,fp),Qu.prototype.g=function(){return new XMLHttpRequest},Qu.prototype.i=function(){return{}},mp=new Qu;function ri(c,d,f,g){this.j=c,this.i=d,this.l=f,this.R=g||1,this.U=new Ua(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new lE}function lE(){this.i=null,this.g="",this.h=!1}var dE={},yp={};function vp(c,d,f){c.L=1,c.v=Xu(Ir(d)),c.m=f,c.P=!0,hE(c,null)}function hE(c,d){c.F=Date.now(),Yu(c),c.A=Ir(c.v);var f=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),TE(f.i,"t",g),c.C=0,f=c.j.J,c.h=new lE,c.g=zE(c.j,f?d:null,!c.m),0<c.O&&(c.M=new m1(m(c.Y,c,c.g),c.O)),d=c.U,f=c.g,g=c.ca;var A="readystatechange";Array.isArray(A)||(A&&(tE[0]=A.toString()),A=tE);for(var R=0;R<A.length;R++){var B=Kw(f,A[R],g||d.handleEvent,!1,d.h||d);if(!B)break;d.g[B.key]=B}d=c.H?v(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),$a(),_1(c.i,c.u,c.A,c.l,c.R,c.m)}ri.prototype.ca=function(c){c=c.target;let d=this.M;d&&Cr(c)==3?d.j():this.Y(c)},ri.prototype.Y=function(c){try{if(c==this.g)e:{let Pt=Cr(this.g);var d=this.g.Ba();let Xo=this.g.Z();if(!(3>Pt)&&(Pt!=3||this.g&&(this.h.h||this.g.oa()||NE(this.g)))){this.J||Pt!=4||d==7||(d==8||0>=Xo?$a(3):$a(2)),_p(this);var f=this.g.Z();this.X=f;t:if(fE(this)){var g=NE(this.g);c="";var A=g.length,R=Cr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ji(this),qa(this);var B="";break t}this.h.i=new a.TextDecoder}for(d=0;d<A;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(R&&d==A-1)});g.length=0,this.h.g+=c,this.C=0,B=this.h.g}else B=this.g.oa();if(this.o=f==200,w1(this.i,this.u,this.A,this.l,this.R,Pt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var je,Tt=this.g;if((je=Tt.g?Tt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ee(je)){var Se=je;break t}}Se=null}if(f=Se)Yo(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,wp(this,f);else{this.o=!1,this.s=3,Ut(12),Ji(this),qa(this);break e}}if(this.P){f=!0;let Dn;for(;!this.J&&this.C<B.length;)if(Dn=C1(this,B),Dn==yp){Pt==4&&(this.s=4,Ut(14),f=!1),Yo(this.i,this.l,null,"[Incomplete Response]");break}else if(Dn==dE){this.s=4,Ut(15),Yo(this.i,this.l,B,"[Invalid Chunk]"),f=!1;break}else Yo(this.i,this.l,Dn,null),wp(this,Dn);if(fE(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pt!=4||B.length!=0||this.h.h||(this.s=1,Ut(16),f=!1),this.o=this.o&&f,!f)Yo(this.i,this.l,B,"[Invalid Chunked Response]"),Ji(this),qa(this);else if(0<B.length&&!this.W){this.W=!0;var Mt=this.j;Mt.g==this&&Mt.ba&&!Mt.M&&(Mt.j.info("Great, no buffering proxy detected. Bytes received: "+B.length),Tp(Mt),Mt.M=!0,Ut(11))}}else Yo(this.i,this.l,B,null),wp(this,B);Pt==4&&Ji(this),this.o&&!this.J&&(Pt==4?UE(this.j,this):(this.o=!1,Yu(this)))}else U1(this.g),f==400&&0<B.indexOf("Unknown SID")?(this.s=3,Ut(12)):(this.s=0,Ut(13)),Ji(this),qa(this)}}}catch{}finally{}};function fE(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function C1(c,d){var f=c.C,g=d.indexOf(`
`,f);return g==-1?yp:(f=Number(d.substring(f,g)),isNaN(f)?dE:(g+=1,g+f>d.length?yp:(d=d.slice(g,g+f),c.C=g+f,d)))}ri.prototype.cancel=function(){this.J=!0,Ji(this)};function Yu(c){c.S=Date.now()+c.I,pE(c,c.I)}function pE(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Ha(m(c.ba,c),d)}function _p(c){c.B&&(a.clearTimeout(c.B),c.B=null)}ri.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(E1(this.i,this.A),this.L!=2&&($a(),Ut(17)),Ji(this),this.s=2,qa(this)):pE(this,this.S-c)};function qa(c){c.j.G==0||c.J||UE(c.j,c)}function Ji(c){_p(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,nE(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function wp(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||Ep(f.h,c))){if(!c.K&&Ep(f.h,c)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var A=g;if(A[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)il(f),nl(f);else break e;Dp(f),Ut(18)}}else f.za=A[1],0<f.za-f.T&&37500>A[2]&&f.F&&f.v==0&&!f.C&&(f.C=Ha(m(f.Za,f),6e3));if(1>=yE(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Xi(f,11)}else if((c.K||f.g==c)&&il(f),!ee(d))for(A=f.Da.g.parse(d),d=0;d<A.length;d++){let Se=A[d];if(f.T=Se[0],Se=Se[1],f.G==2)if(Se[0]=="c"){f.K=Se[1],f.ia=Se[2];let Mt=Se[3];Mt!=null&&(f.la=Mt,f.j.info("VER="+f.la));let Pt=Se[4];Pt!=null&&(f.Aa=Pt,f.j.info("SVER="+f.Aa));let Xo=Se[5];Xo!=null&&typeof Xo=="number"&&0<Xo&&(g=1.5*Xo,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let Dn=c.g;if(Dn){let sl=Dn.g?Dn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(sl){var R=g.h;R.g||sl.indexOf("spdy")==-1&&sl.indexOf("quic")==-1&&sl.indexOf("h2")==-1||(R.j=R.l,R.g=new Set,R.h&&(Ip(R,R.h),R.h=null))}if(g.D){let Sp=Dn.g?Dn.g.getResponseHeader("X-HTTP-Session-Id"):null;Sp&&(g.ya=Sp,ze(g.I,g.D,Sp))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var B=c;if(g.qa=HE(g,g.J?g.ia:null,g.W),B.K){vE(g.h,B);var je=B,Tt=g.L;Tt&&(je.I=Tt),je.B&&(_p(je),Yu(je)),g.g=B}else LE(g);0<f.i.length&&rl(f)}else Se[0]!="stop"&&Se[0]!="close"||Xi(f,7);else f.G==3&&(Se[0]=="stop"||Se[0]=="close"?Se[0]=="stop"?Xi(f,7):bp(f):Se[0]!="noop"&&f.l&&f.l.ta(Se),f.v=0)}}$a(4)}catch{}}var b1=class{constructor(c,d){this.g=c,this.map=d}};function gE(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function mE(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function yE(c){return c.h?1:c.g?c.g.size:0}function Ep(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function Ip(c,d){c.g?c.g.add(d):c.h=d}function vE(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}gE.prototype.cancel=function(){if(this.i=_E(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function _E(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return N(c.i)}function D1(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,g=0;g<f;g++)d.push(c[g]);return d}d=[],f=0;for(g in c)d[f++]=c[g];return d}function T1(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let g in c)d[f++]=g;return d}}}function wE(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=T1(c),g=D1(c),A=g.length,R=0;R<A;R++)d.call(void 0,g[R],f&&f[R],c)}var EE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function S1(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var g=c[f].indexOf("="),A=null;if(0<=g){var R=c[f].substring(0,g);A=c[f].substring(g+1)}else R=c[f];d(R,A?decodeURIComponent(A.replace(/\+/g," ")):"")}}}function Zi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Zi){this.h=c.h,Ju(this,c.j),this.o=c.o,this.g=c.g,Zu(this,c.s),this.l=c.l;var d=c.i,f=new Ka;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),IE(this,f),this.m=c.m}else c&&(d=String(c).match(EE))?(this.h=!1,Ju(this,d[1]||"",!0),this.o=Ga(d[2]||""),this.g=Ga(d[3]||"",!0),Zu(this,d[4]),this.l=Ga(d[5]||"",!0),IE(this,d[6]||"",!0),this.m=Ga(d[7]||"")):(this.h=!1,this.i=new Ka(null,this.h))}Zi.prototype.toString=function(){var c=[],d=this.j;d&&c.push(Wa(d,CE,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(Wa(d,CE,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(Wa(f,f.charAt(0)=="/"?M1:x1,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",Wa(f,R1)),c.join("")};function Ir(c){return new Zi(c)}function Ju(c,d,f){c.j=f?Ga(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function Zu(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function IE(c,d,f){d instanceof Ka?(c.i=d,N1(c.i,c.h)):(f||(d=Wa(d,P1)),c.i=new Ka(d,c.h))}function ze(c,d,f){c.i.set(d,f)}function Xu(c){return ze(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ga(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Wa(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,A1),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function A1(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var CE=/[#\/\?@]/g,x1=/[#\?:]/g,M1=/[#\?]/g,P1=/[#\?@]/g,R1=/#/g;function Ka(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function ii(c){c.g||(c.g=new Map,c.h=0,c.i&&S1(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=Ka.prototype,t.add=function(c,d){ii(this),this.i=null,c=Jo(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function bE(c,d){ii(c),d=Jo(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function DE(c,d){return ii(c),d=Jo(c,d),c.g.has(d)}t.forEach=function(c,d){ii(this),this.g.forEach(function(f,g){f.forEach(function(A){c.call(d,A,g,this)},this)},this)},t.na=function(){ii(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let A=c[g];for(let R=0;R<A.length;R++)f.push(d[g])}return f},t.V=function(c){ii(this);let d=[];if(typeof c=="string")DE(this,c)&&(d=d.concat(this.g.get(Jo(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},t.set=function(c,d){return ii(this),this.i=null,c=Jo(this,c),DE(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function TE(c,d,f){bE(c,d),0<f.length&&(c.i=null,c.g.set(Jo(c,d),N(f)),c.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let R=encodeURIComponent(String(g)),B=this.V(g);for(g=0;g<B.length;g++){var A=R;B[g]!==""&&(A+="="+encodeURIComponent(String(B[g]))),c.push(A)}}return this.i=c.join("&")};function Jo(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function N1(c,d){d&&!c.j&&(ii(c),c.i=null,c.g.forEach(function(f,g){var A=g.toLowerCase();g!=A&&(bE(this,g),TE(this,A,f))},c)),c.j=d}function O1(c,d){let f=new za;if(a.Image){let g=new Image;g.onload=y(oi,f,"TestLoadImage: loaded",!0,d,g),g.onerror=y(oi,f,"TestLoadImage: error",!1,d,g),g.onabort=y(oi,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=y(oi,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function k1(c,d){let f=new za,g=new AbortController,A=setTimeout(()=>{g.abort(),oi(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(R=>{clearTimeout(A),R.ok?oi(f,"TestPingServer: ok",!0,d):oi(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(A),oi(f,"TestPingServer: error",!1,d)})}function oi(c,d,f,g,A){try{A&&(A.onload=null,A.onerror=null,A.onabort=null,A.ontimeout=null),g(f)}catch{}}function F1(){this.g=new v1}function V1(c,d,f){let g=f||"";try{wE(c,function(A,R){let B=A;l(A)&&(B=hp(A)),d.push(g+R+"="+encodeURIComponent(B))})}catch(A){throw d.push(g+"type="+encodeURIComponent("_badmap")),A}}function Qa(c){this.l=c.Ub||null,this.j=c.eb||!1}S(Qa,fp),Qa.prototype.g=function(){return new el(this.l,this.j)},Qa.prototype.i=function(c){return function(){return c}}({});function el(c,d){xt.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(el,xt),t=el.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,Ja(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ya(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ja(this)),this.g&&(this.readyState=3,Ja(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;SE(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function SE(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?Ya(this):Ja(this),this.readyState==3&&SE(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Ya(this))},t.Qa=function(c){this.g&&(this.response=c,Ya(this))},t.ga=function(){this.g&&Ya(this)};function Ya(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Ja(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function Ja(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(el.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function AE(c){let d="";return oe(c,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function Cp(c,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=AE(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):ze(c,d,f))}function Qe(c){xt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(Qe,xt);var L1=/^https?$/i,j1=["POST","PUT"];t=Qe.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():mp.g(),this.v=this.o?rE(this.o):rE(mp),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(R){xE(this,R);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var A in g)f.set(A,g[A]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let R of g.keys())f.set(R,g.get(R));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(R=>R.toLowerCase()=="content-type"),A=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(j1,d,void 0))||g||A||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[R,B]of f)this.g.setRequestHeader(R,B);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{RE(this),this.u=!0,this.g.send(c),this.u=!1}catch(R){xE(this,R)}};function xE(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,ME(c),tl(c)}function ME(c){c.A||(c.A=!0,jt(c,"complete"),jt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,jt(this,"complete"),jt(this,"abort"),tl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),tl(this,!0)),Qe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?PE(this):this.bb())},t.bb=function(){PE(this)};function PE(c){if(c.h&&typeof s<"u"&&(!c.v[1]||Cr(c)!=4||c.Z()!=2)){if(c.u&&Cr(c)==4)Xw(c.Ea,0,c);else if(jt(c,"readystatechange"),Cr(c)==4){c.h=!1;try{let B=c.Z();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=B===0){var A=String(c.D).match(EE)[1]||null;!A&&a.self&&a.self.location&&(A=a.self.location.protocol.slice(0,-1)),g=!L1.test(A?A.toLowerCase():"")}f=g}if(f)jt(c,"complete"),jt(c,"success");else{c.m=6;try{var R=2<Cr(c)?c.g.statusText:""}catch{R=""}c.l=R+" ["+c.Z()+"]",ME(c)}}finally{tl(c)}}}}function tl(c,d){if(c.g){RE(c);let f=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||jt(c,"ready");try{f.onreadystatechange=g}catch{}}}function RE(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Cr(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Cr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),y1(d)}};function NE(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function U1(c){let d={};c=(c.g&&2<=Cr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(ee(c[g]))continue;var f=T(c[g]);let A=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let R=d[A]||[];d[A]=R,R.push(f)}b(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Za(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function OE(c){this.Aa=0,this.i=[],this.j=new za,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Za("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Za("baseRetryDelayMs",5e3,c),this.cb=Za("retryDelaySeedMs",1e4,c),this.Wa=Za("forwardChannelMaxRetries",2,c),this.wa=Za("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new gE(c&&c.concurrentRequestLimit),this.Da=new F1,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=OE.prototype,t.la=8,t.G=1,t.connect=function(c,d,f,g){Ut(0),this.W=c,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=HE(this,null,this.W),rl(this)};function bp(c){if(kE(c),c.G==3){var d=c.U++,f=Ir(c.I);if(ze(f,"SID",c.K),ze(f,"RID",d),ze(f,"TYPE","terminate"),Xa(c,f),d=new ri(c,c.j,d),d.L=2,d.v=Xu(Ir(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=zE(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Yu(d)}$E(c)}function nl(c){c.g&&(Tp(c),c.g.cancel(),c.g=null)}function kE(c){nl(c),c.u&&(a.clearTimeout(c.u),c.u=null),il(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function rl(c){if(!mE(c.h)&&!c.s){c.s=!0;var d=c.Ga;Fa||Ww(),Va||(Fa(),Va=!0),rp.add(d,c),c.B=0}}function B1(c,d){return yE(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Ha(m(c.Ga,c,d),BE(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let A=new ri(this,this.j,c),R=this.o;if(this.S&&(R?(R=v(R),D(R,this.S)):R=this.S),this.m!==null||this.O||(A.H=R,R=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=VE(this,A,d),f=Ir(this.I),ze(f,"RID",c),ze(f,"CVER",22),this.D&&ze(f,"X-HTTP-Session-Id",this.D),Xa(this,f),R&&(this.O?d="headers="+encodeURIComponent(String(AE(R)))+"&"+d:this.m&&Cp(f,this.m,R)),Ip(this.h,A),this.Ua&&ze(f,"TYPE","init"),this.P?(ze(f,"$req",d),ze(f,"SID","null"),A.T=!0,vp(A,f,null)):vp(A,f,d),this.G=2}}else this.G==3&&(c?FE(this,c):this.i.length==0||mE(this.h)||FE(this))};function FE(c,d){var f;d?f=d.l:f=c.U++;let g=Ir(c.I);ze(g,"SID",c.K),ze(g,"RID",f),ze(g,"AID",c.T),Xa(c,g),c.m&&c.o&&Cp(g,c.m,c.o),f=new ri(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=VE(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ip(c.h,f),vp(f,g,d)}function Xa(c,d){c.H&&oe(c.H,function(f,g){ze(d,g,f)}),c.l&&wE({},function(f,g){ze(d,g,f)})}function VE(c,d,f){f=Math.min(c.i.length,f);var g=c.l?m(c.l.Na,c.l,c):null;e:{var A=c.i;let R=-1;for(;;){let B=["count="+f];R==-1?0<f?(R=A[0].g,B.push("ofs="+R)):R=0:B.push("ofs="+R);let je=!0;for(let Tt=0;Tt<f;Tt++){let Se=A[Tt].g,Mt=A[Tt].map;if(Se-=R,0>Se)R=Math.max(0,A[Tt].g-100),je=!1;else try{V1(Mt,B,"req"+Se+"_")}catch{g&&g(Mt)}}if(je){g=B.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,g}function LE(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;Fa||Ww(),Va||(Fa(),Va=!0),rp.add(d,c),c.v=0}}function Dp(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Ha(m(c.Fa,c),BE(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,jE(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Ha(m(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ut(10),nl(this),jE(this))};function Tp(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function jE(c){c.g=new ri(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=Ir(c.qa);ze(d,"RID","rpc"),ze(d,"SID",c.K),ze(d,"AID",c.T),ze(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&ze(d,"TO",c.ja),ze(d,"TYPE","xmlhttp"),Xa(c,d),c.m&&c.o&&Cp(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=Xu(Ir(d)),f.m=null,f.P=!0,hE(f,c)}t.Za=function(){this.C!=null&&(this.C=null,nl(this),Dp(this),Ut(19))};function il(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function UE(c,d){var f=null;if(c.g==d){il(c),Tp(c),c.g=null;var g=2}else if(Ep(c.h,d))f=d.D,vE(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var A=c.B;g=Wu(),jt(g,new cE(g,f)),rl(c)}else LE(c);else if(A=d.s,A==3||A==0&&0<d.X||!(g==1&&B1(c,d)||g==2&&Dp(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),A){case 1:Xi(c,5);break;case 4:Xi(c,10);break;case 3:Xi(c,6);break;default:Xi(c,2)}}}function BE(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function Xi(c,d){if(c.j.info("Error code "+d),d==2){var f=m(c.fb,c),g=c.Xa;let A=!g;g=new Zi(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Ju(g,"https"),Xu(g),A?O1(g.toString(),f):k1(g.toString(),f)}else Ut(2);c.G=0,c.l&&c.l.sa(d),$E(c),kE(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Ut(2)):(this.j.info("Failed to ping google.com"),Ut(1))};function $E(c){if(c.G=0,c.ka=[],c.l){let d=_E(c.h);(d.length!=0||c.i.length!=0)&&(P(c.ka,d),P(c.ka,c.i),c.h.i.length=0,N(c.i),c.i.length=0),c.l.ra()}}function HE(c,d,f){var g=f instanceof Zi?Ir(f):new Zi(f);if(g.g!="")d&&(g.g=d+"."+g.g),Zu(g,g.s);else{var A=a.location;g=A.protocol,d=d?d+"."+A.hostname:A.hostname,A=+A.port;var R=new Zi(null);g&&Ju(R,g),d&&(R.g=d),A&&Zu(R,A),f&&(R.l=f),g=R}return f=c.D,d=c.ya,f&&d&&ze(g,f,d),ze(g,"VER",c.la),Xa(c,g),g}function zE(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Qe(new Qa({eb:f})):new Qe(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function qE(){}t=qE.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ol(){}ol.prototype.g=function(c,d){return new tn(c,d)};function tn(c,d){xt.call(this),this.g=new OE(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!ee(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!ee(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new Zo(this)}S(tn,xt),tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){bp(this.g)},tn.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=hp(c),c=f);d.i.push(new b1(d.Ya++,c)),d.G==3&&rl(d)},tn.prototype.N=function(){this.g.l=null,delete this.j,bp(this.g),delete this.g,tn.aa.N.call(this)};function GE(c){pp.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}S(GE,pp);function WE(){gp.call(this),this.status=1}S(WE,gp);function Zo(c){this.g=c}S(Zo,qE),Zo.prototype.ua=function(){jt(this.g,"a")},Zo.prototype.ta=function(c){jt(this.g,new GE(c))},Zo.prototype.sa=function(c){jt(this.g,new WE)},Zo.prototype.ra=function(){jt(this.g,"b")},ol.prototype.createWebChannel=ol.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,_v=Zr.createWebChannelTransport=function(){return new ol},vv=Zr.getStatEventTarget=function(){return Wu()},yv=Zr.Event=Yi,Gh=Zr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ku.NO_ERROR=0,Ku.TIMEOUT=8,Ku.HTTP_ERROR=6,su=Zr.ErrorCode=Ku,uE.COMPLETE="complete",mv=Zr.EventType=uE,iE.EventType=Ba,Ba.OPEN="a",Ba.CLOSE="b",Ba.ERROR="c",Ba.MESSAGE="d",xt.prototype.listen=xt.prototype.K,na=Zr.WebChannel=iE,n$=Zr.FetchXmlHttpFactory=Qa,Qe.prototype.listenOnce=Qe.prototype.L,Qe.prototype.getLastError=Qe.prototype.Ka,Qe.prototype.getLastErrorCode=Qe.prototype.Ba,Qe.prototype.getStatus=Qe.prototype.Z,Qe.prototype.getResponseJson=Qe.prototype.Oa,Qe.prototype.getResponseText=Qe.prototype.oa,Qe.prototype.send=Qe.prototype.ea,Qe.prototype.setWithCredentials=Qe.prototype.Ha,gv=Zr.XhrIo=Qe}).apply(typeof qh<"u"?qh:typeof self<"u"?self:typeof window<"u"?window:{});var WA="@firebase/firestore";var Dt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Dt.UNAUTHENTICATED=new Dt(null),Dt.GOOGLE_CREDENTIALS=new Dt("google-credentials-uid"),Dt.FIRST_PARTY=new Dt("first-party-uid"),Dt.MOCK_USER=new Dt("mock-user");var Ia="10.14.0";var Fo=new sr("@firebase/firestore");function au(){return Fo.logLevel}function Y(t,...e){if(Fo.logLevel<=we.DEBUG){let n=e.map(nw);Fo.debug(`Firestore (${Ia}): ${t}`,...n)}}function Xr(t,...e){if(Fo.logLevel<=we.ERROR){let n=e.map(nw);Fo.error(`Firestore (${Ia}): ${t}`,...n)}}function ua(t,...e){if(Fo.logLevel<=we.WARN){let n=e.map(nw);Fo.warn(`Firestore (${Ia}): ${t}`,...n)}}function nw(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function ae(t="Unexpected state"){let e=`FIRESTORE (${Ia}) INTERNAL ASSERTION FAILED: `+t;throw Xr(e),new Error(e)}function Ve(t,e){t||ae()}function le(t,e){return t}var k={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},q=class extends fn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var lr=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Jh=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},bv=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Dt.UNAUTHENTICATED))}shutdown(){}},Dv=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Tv=class{constructor(e){this.t=e,this.currentUser=Dt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ve(this.o===void 0);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new lr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new lr,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>E(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{Y("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(Y("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new lr)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Y("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ve(typeof r.accessToken=="string"),new Jh(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Ve(e===null||typeof e=="string"),new Dt(e)}},Sv=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Dt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Av=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Sv(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Dt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},xv=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Mv=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Ve(this.o===void 0);let r=o=>{o.error!=null&&Y("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,Y("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{Y("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):Y("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ve(typeof n.token=="string"),this.R=n.token,new xv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function r$(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Zh=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=r$(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}};function Me(t,e){return t<e?-1:t>e?1:0}function la(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var rt=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new q(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new q(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new q(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new q(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var fe=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new rt(0,0))}static max(){return new t(new rt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Xh=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&ae(),r===void 0?r=e.length-n:r>e.length-n&&ae(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Ke=class t extends Xh{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new q(k.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},i$=/^[_a-zA-Z][_a-zA-Z0-9]*$/,gn=class t extends Xh{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return i$.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new q(k.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new q(k.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new q(k.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new q(k.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var ie=class t{constructor(e){this.path=e}static fromPath(e){return new t(Ke.fromString(e))}static fromName(e){return new t(Ke.fromString(e).popFirst(5))}static empty(){return new t(Ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ke.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ke.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Ke(e.slice()))}};var Pv=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};Pv.UNKNOWN_ID=-1;function o$(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=fe.fromTimestamp(r===1e9?new rt(n+1,0):new rt(n,r));return new Vo(i,ie.empty(),e)}function s$(t){return new Vo(t.readTime,t.key,-1)}var Vo=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(fe.min(),ie.empty(),-1)}static max(){return new t(fe.max(),ie.empty(),-1)}};function a$(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ie.comparator(t.documentKey,e.documentKey),n!==0?n:Me(t.largestBatchId,e.largestBatchId))}var c$="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Rv=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Su(t){return E(this,null,function*(){if(t.code!==k.FAILED_PRECONDITION||t.message!==c$)throw t;Y("LocalStore","Unexpectedly lost primary lease")})}var j=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ae(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;n(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function u$(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Au(t){return t.name==="IndexedDbTransactionError"}var Ax=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function Pf(t){return t==null}function fu(t){return t===0&&1/t==-1/0}function l$(t){return typeof t=="number"&&Number.isInteger(t)&&!fu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var d$=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],sJ=[...d$,"documentOverlays"],h$=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],f$=h$,p$=[...f$,"indexConfiguration","indexState","indexEntries"];var aJ=[...p$,"globals"];function KA(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function zo(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function xx(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var et=class t{constructor(e,n){this.comparator=e,this.root=n||dr.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,dr.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,dr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new sa(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new sa(this.root,e,this.comparator,!1)}getReverseIterator(){return new sa(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new sa(this.root,e,this.comparator,!0)}},sa=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},dr=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ae();let e=this.left.check();if(e!==this.right.check())throw ae();return e+(this.isRed()?0:1)}};dr.EMPTY=null,dr.RED=!0,dr.BLACK=!1;dr.EMPTY=new class{constructor(){this.size=0}get key(){throw ae()}get value(){throw ae()}get color(){throw ae()}get left(){throw ae()}get right(){throw ae()}copy(e,n,r,i,o){return this}insert(e,n,r){return new dr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Vt=class t{constructor(e){this.comparator=e,this.data=new et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ef(this.data.getIterator())}getIteratorFrom(e){return new ef(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},ef=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var In=class t{constructor(e){this.fields=e,e.sort(gn.comparator)}static empty(){return new t([])}unionWith(e){let n=new Vt(gn.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return la(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var tf=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Lt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new tf("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Lt.EMPTY_BYTE_STRING=new Lt("");var g$=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ei(t){if(Ve(!!t),typeof t=="string"){let e=0,n=g$.exec(t);if(Ve(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ge(t.seconds),nanos:Ge(t.nanos)}}function Ge(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function qi(t){return typeof t=="string"?Lt.fromBase64String(t):Lt.fromUint8Array(t)}function rw(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function iw(t){let e=t.mapValue.fields.__previous_value__;return rw(e)?iw(e):e}function pu(t){let e=ei(t.mapValue.fields.__local_write_time__.timestampValue);return new rt(e.seconds,e.nanos)}var Nv=class{constructor(e,n,r,i,o,s,a,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}},nf=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Wh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Lo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?rw(t)?4:Px(t)?9007199254740991:Mx(t)?10:11:ae()}function gr(t,e){if(t===e)return!0;let n=Lo(t);if(n!==Lo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return pu(t).isEqual(pu(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=ei(i.timestampValue),a=ei(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return qi(i.bytesValue).isEqual(qi(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Ge(i.geoPointValue.latitude)===Ge(o.geoPointValue.latitude)&&Ge(i.geoPointValue.longitude)===Ge(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ge(i.integerValue)===Ge(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Ge(i.doubleValue),a=Ge(o.doubleValue);return s===a?fu(s)===fu(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return la(t.arrayValue.values||[],e.arrayValue.values||[],gr);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(KA(s)!==KA(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!gr(s[u],a[u])))return!1;return!0}(t,e);default:return ae()}}function gu(t,e){return(t.values||[]).find(n=>gr(n,e))!==void 0}function da(t,e){if(t===e)return 0;let n=Lo(t),r=Lo(e);if(n!==r)return Me(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Me(t.booleanValue,e.booleanValue);case 2:return function(o,s){let a=Ge(o.integerValue||o.doubleValue),u=Ge(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return QA(t.timestampValue,e.timestampValue);case 4:return QA(pu(t),pu(e));case 5:return Me(t.stringValue,e.stringValue);case 6:return function(o,s){let a=qi(o),u=qi(s);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=Me(a[l],u[l]);if(h!==0)return h}return Me(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let a=Me(Ge(o.latitude),Ge(s.latitude));return a!==0?a:Me(Ge(o.longitude),Ge(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return YA(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,l,h;let p=o.fields||{},m=s.fields||{},y=(a=p.value)===null||a===void 0?void 0:a.arrayValue,S=(u=m.value)===null||u===void 0?void 0:u.arrayValue,N=Me(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((h=S?.values)===null||h===void 0?void 0:h.length)||0);return N!==0?N:YA(y,S)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Wh.mapValue&&s===Wh.mapValue)return 0;if(o===Wh.mapValue)return 1;if(s===Wh.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=Me(u[p],h[p]);if(m!==0)return m;let y=da(a[u[p]],l[h[p]]);if(y!==0)return y}return Me(u.length,h.length)}(t.mapValue,e.mapValue);default:throw ae()}}function QA(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Me(t,e);let n=ei(t),r=ei(e),i=Me(n.seconds,r.seconds);return i!==0?i:Me(n.nanos,r.nanos)}function YA(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=da(n[i],r[i]);if(o)return o}return Me(n.length,r.length)}function ha(t){return Ov(t)}function Ov(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=ei(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return qi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ie.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=Ov(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${Ov(n.fields[s])}`;return i+"}"}(t.mapValue):ae()}function JA(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function kv(t){return!!t&&"integerValue"in t}function ow(t){return!!t&&"arrayValue"in t}function ZA(t){return!!t&&"nullValue"in t}function XA(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Qh(t){return!!t&&"mapValue"in t}function Mx(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function uu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return zo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=uu(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=uu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Px(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var pn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Qh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=uu(n)}setAll(e){let n=gn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=uu(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());Qh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return gr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Qh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){zo(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(uu(this.value))}};function Rx(t){let e=[];return zo(t.fields,(n,r)=>{let i=new gn([n]);if(Qh(r)){let o=Rx(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new In(e)}var Bn=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,fe.min(),fe.min(),fe.min(),pn.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,fe.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,fe.min(),fe.min(),pn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,fe.min(),fe.min(),pn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var fa=class{constructor(e,n){this.position=e,this.inclusive=n}};function ex(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=ie.comparator(ie.fromName(s.referenceValue),n.key):r=da(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function tx(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!gr(t.position[n],e.position[n]))return!1;return!0}var pa=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function m$(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var rf=class{},gt=class t extends rf{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Vv(e,n,r):n==="array-contains"?new Uv(e,r):n==="in"?new Bv(e,r):n==="not-in"?new $v(e,r):n==="array-contains-any"?new Hv(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Lv(e,r):new jv(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(da(n,this.value)):n!==null&&Lo(this.value)===Lo(n)&&this.matchesComparison(da(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ae()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},$n=class t extends rf{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return Nx(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function Nx(t){return t.op==="and"}function Ox(t){return y$(t)&&Nx(t)}function y$(t){for(let e of t.filters)if(e instanceof $n)return!1;return!0}function Fv(t){if(t instanceof gt)return t.field.canonicalString()+t.op.toString()+ha(t.value);if(Ox(t))return t.filters.map(e=>Fv(e)).join(",");{let e=t.filters.map(n=>Fv(n)).join(",");return`${t.op}(${e})`}}function kx(t,e){return t instanceof gt?function(r,i){return i instanceof gt&&r.op===i.op&&r.field.isEqual(i.field)&&gr(r.value,i.value)}(t,e):t instanceof $n?function(r,i){return i instanceof $n&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&kx(s,i.filters[a]),!0):!1}(t,e):void ae()}function Fx(t){return t instanceof gt?function(n){return`${n.field.canonicalString()} ${n.op} ${ha(n.value)}`}(t):t instanceof $n?function(n){return n.op.toString()+" {"+n.getFilters().map(Fx).join(" ,")+"}"}(t):"Filter"}var Vv=class extends gt{constructor(e,n,r){super(e,n,r),this.key=ie.fromName(r.referenceValue)}matches(e){let n=ie.comparator(e.key,this.key);return this.matchesComparison(n)}},Lv=class extends gt{constructor(e,n){super(e,"in",n),this.keys=Vx("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},jv=class extends gt{constructor(e,n){super(e,"not-in",n),this.keys=Vx("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function Vx(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ie.fromName(r.referenceValue))}var Uv=class extends gt{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return ow(n)&&gu(n.arrayValue,this.value)}},Bv=class extends gt{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&gu(this.value.arrayValue,n)}},$v=class extends gt{constructor(e,n){super(e,"not-in",n)}matches(e){if(gu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!gu(this.value.arrayValue,n)}},Hv=class extends gt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!ow(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>gu(this.value.arrayValue,r))}};var zv=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}};function nx(t,e=null,n=[],r=[],i=null,o=null,s=null){return new zv(t,e,n,r,i,o,s)}function sw(t){let e=le(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Fv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Pf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ha(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ha(r)).join(",")),e.ue=n}return e.ue}function aw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!m$(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!kx(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!tx(t.startAt,e.startAt)&&tx(t.endAt,e.endAt)}function qv(t){return ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var jo=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function v$(t,e,n,r,i,o,s,a){return new jo(t,e,n,r,i,o,s,a)}function cw(t){return new jo(t)}function rx(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Lx(t){return t.collectionGroup!==null}function lu(t){let e=le(t);if(e.ce===null){e.ce=[];let n=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Vt(gn.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new pa(o,r))}),n.has(gn.keyField().canonicalString())||e.ce.push(new pa(gn.keyField(),r))}return e.ce}function hr(t){let e=le(t);return e.le||(e.le=_$(e,lu(t))),e.le}function _$(t,e){if(t.limitType==="F")return nx(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new pa(i.field,o)});let n=t.endAt?new fa(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new fa(t.startAt.position,t.startAt.inclusive):null;return nx(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Gv(t,e){let n=t.filters.concat([e]);return new jo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Wv(t,e,n){return new jo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Rf(t,e){return aw(hr(t),hr(e))&&t.limitType===e.limitType}function jx(t){return`${sw(hr(t))}|lt:${t.limitType}`}function ra(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Fx(i)).join(", ")}]`),Pf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ha(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ha(i)).join(",")),`Target(${r})`}(hr(t))}; limitType=${t.limitType})`}function Nf(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ie.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of lu(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){let l=ex(s,a,u);return s.inclusive?l<=0:l<0}(r.startAt,lu(r),i)||r.endAt&&!function(s,a,u){let l=ex(s,a,u);return s.inclusive?l>=0:l>0}(r.endAt,lu(r),i))}(t,e)}function w$(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Ux(t){return(e,n)=>{let r=!1;for(let i of lu(t)){let o=E$(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function E$(t,e,n){let r=t.field.isKeyField()?ie.comparator(e.key,n.key):function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?da(u,l):ae()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ae()}}var Gi=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){zo(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return xx(this.inner)}size(){return this.innerSize}};var I$=new et(ie.comparator);function ti(){return I$}var Bx=new et(ie.comparator);function cu(...t){let e=Bx;for(let n of t)e=e.insert(n.key,n);return e}function $x(t){let e=Bx;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function No(){return du()}function Hx(){return du()}function du(){return new Gi(t=>t.toString(),(t,e)=>t.isEqual(e))}var C$=new et(ie.comparator),b$=new Vt(ie.comparator);function Ee(...t){let e=b$;for(let n of t)e=e.add(n);return e}var D$=new Vt(Me);function T$(){return D$}function uw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fu(e)?"-0":e}}function zx(t){return{integerValue:""+t}}function S$(t,e){return l$(e)?zx(e):uw(t,e)}var ga=class{constructor(){this._=void 0}};function A$(t,e,n){return t instanceof ma?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&rw(o)&&(o=iw(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Uo?Gx(t,e):t instanceof Bo?Wx(t,e):function(i,o){let s=qx(i,o),a=ix(s)+ix(i.Pe);return kv(s)&&kv(i.Pe)?zx(a):uw(i.serializer,a)}(t,e)}function x$(t,e,n){return t instanceof Uo?Gx(t,e):t instanceof Bo?Wx(t,e):n}function qx(t,e){return t instanceof ya?function(r){return kv(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var ma=class extends ga{},Uo=class extends ga{constructor(e){super(),this.elements=e}};function Gx(t,e){let n=Kx(e);for(let r of t.elements)n.some(i=>gr(i,r))||n.push(r);return{arrayValue:{values:n}}}var Bo=class extends ga{constructor(e){super(),this.elements=e}};function Wx(t,e){let n=Kx(e);for(let r of t.elements)n=n.filter(i=>!gr(i,r));return{arrayValue:{values:n}}}var ya=class extends ga{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function ix(t){return Ge(t.integerValue||t.doubleValue)}function Kx(t){return ow(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function M$(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Uo&&i instanceof Uo||r instanceof Bo&&i instanceof Bo?la(r.elements,i.elements,gr):r instanceof ya&&i instanceof ya?gr(r.Pe,i.Pe):r instanceof ma&&i instanceof ma}(t.transform,e.transform)}var Kv=class{constructor(e,n){this.version=e,this.transformResults=n}},fr=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Yh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var va=class{};function Qx(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new mu(t.key,fr.none()):new $o(t.key,t.data,fr.none());{let n=t.data,r=pn.empty(),i=new Vt(gn.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new mr(t.key,r,new In(i.toArray()),fr.none())}}function P$(t,e,n){t instanceof $o?function(i,o,s){let a=i.value.clone(),u=sx(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof mr?function(i,o,s){if(!Yh(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=sx(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(Yx(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function hu(t,e,n,r){return t instanceof $o?function(o,s,a,u){if(!Yh(o.precondition,s))return a;let l=o.value.clone(),h=ax(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof mr?function(o,s,a,u){if(!Yh(o.precondition,s))return a;let l=ax(o.fieldTransforms,u,s),h=s.data;return h.setAll(Yx(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(o,s,a){return Yh(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function R$(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=qx(r.transform,i||null);o!=null&&(n===null&&(n=pn.empty()),n.set(r.field,o))}return n||null}function ox(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&la(r,i,(o,s)=>M$(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var $o=class extends va{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},mr=class extends va{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function Yx(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function sx(t,e,n){let r=new Map;Ve(t.length===n.length);for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,x$(s,a,n[i]))}return r}function ax(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,A$(o,s,e))}return r}var mu=class extends va{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Qv=class extends va{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Yv=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&P$(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=hu(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=hu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=Hx();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let u=Qx(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(fe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ee())}isEqual(e){return this.batchId===e.batchId&&la(this.mutations,e.mutations,(n,r)=>ox(n,r))&&la(this.baseMutations,e.baseMutations,(n,r)=>ox(n,r))}},Jv=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ve(e.mutations.length===r.length);let i=function(){return C$}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var Zv=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Xv=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var ft,Te;function N$(t){switch(t){default:return ae();case k.CANCELLED:case k.UNKNOWN:case k.DEADLINE_EXCEEDED:case k.RESOURCE_EXHAUSTED:case k.INTERNAL:case k.UNAVAILABLE:case k.UNAUTHENTICATED:return!1;case k.INVALID_ARGUMENT:case k.NOT_FOUND:case k.ALREADY_EXISTS:case k.PERMISSION_DENIED:case k.FAILED_PRECONDITION:case k.ABORTED:case k.OUT_OF_RANGE:case k.UNIMPLEMENTED:case k.DATA_LOSS:return!0}}function Jx(t){if(t===void 0)return Xr("GRPC error has no .code"),k.UNKNOWN;switch(t){case ft.OK:return k.OK;case ft.CANCELLED:return k.CANCELLED;case ft.UNKNOWN:return k.UNKNOWN;case ft.DEADLINE_EXCEEDED:return k.DEADLINE_EXCEEDED;case ft.RESOURCE_EXHAUSTED:return k.RESOURCE_EXHAUSTED;case ft.INTERNAL:return k.INTERNAL;case ft.UNAVAILABLE:return k.UNAVAILABLE;case ft.UNAUTHENTICATED:return k.UNAUTHENTICATED;case ft.INVALID_ARGUMENT:return k.INVALID_ARGUMENT;case ft.NOT_FOUND:return k.NOT_FOUND;case ft.ALREADY_EXISTS:return k.ALREADY_EXISTS;case ft.PERMISSION_DENIED:return k.PERMISSION_DENIED;case ft.FAILED_PRECONDITION:return k.FAILED_PRECONDITION;case ft.ABORTED:return k.ABORTED;case ft.OUT_OF_RANGE:return k.OUT_OF_RANGE;case ft.UNIMPLEMENTED:return k.UNIMPLEMENTED;case ft.DATA_LOSS:return k.DATA_LOSS;default:return ae()}}(Te=ft||(ft={}))[Te.OK=0]="OK",Te[Te.CANCELLED=1]="CANCELLED",Te[Te.UNKNOWN=2]="UNKNOWN",Te[Te.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Te[Te.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Te[Te.NOT_FOUND=5]="NOT_FOUND",Te[Te.ALREADY_EXISTS=6]="ALREADY_EXISTS",Te[Te.PERMISSION_DENIED=7]="PERMISSION_DENIED",Te[Te.UNAUTHENTICATED=16]="UNAUTHENTICATED",Te[Te.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Te[Te.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Te[Te.ABORTED=10]="ABORTED",Te[Te.OUT_OF_RANGE=11]="OUT_OF_RANGE",Te[Te.UNIMPLEMENTED=12]="UNIMPLEMENTED",Te[Te.INTERNAL=13]="INTERNAL",Te[Te.UNAVAILABLE=14]="UNAVAILABLE",Te[Te.DATA_LOSS=15]="DATA_LOSS";var cx=null;function O$(){return new TextEncoder}var k$=new Hi([4294967295,4294967295],0);function ux(t){let e=O$().encode(t),n=new pv;return n.update(e),new Uint8Array(n.digest())}function lx(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Hi([n,r],0),new Hi([i,o],0)]}var e_=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Oo(`Invalid padding: ${n}`);if(r<0)throw new Oo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Oo(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Oo(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Hi.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Hi.fromNumber(r)));return i.compare(k$)===1&&(i=new Hi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=ux(e),[r,i]=lx(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;let n=ux(e),[r,i]=lx(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Oo=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var of=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,yu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(fe.min(),i,new et(Me),ti(),Ee())}},yu=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,Ee(),Ee(),Ee())}};var aa=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},sf=class{constructor(e,n){this.targetId=e,this.me=n}},af=class{constructor(e,n,r=Lt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},cf=class{constructor(){this.fe=0,this.ge=hx(),this.pe=Lt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ee(),n=Ee(),r=Ee();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ae()}}),new yu(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=hx()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ve(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},t_=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=ti(),this.qe=dx(),this.Qe=new et(Me)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ae()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let o=i.target;if(qv(o))if(r===0){let s=new ie(o.path);this.Ue(n,s,Bn.newNoDocument(s,fe.min()))}else Ve(r===1);else{let s=this.Ye(n);if(s!==r){let a=this.Ze(e),u=a?this.Xe(a,e,s):1;if(u!==0){this.je(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}cx?.et(function(h,p,m,y,S){var N,P,V,ee,J,te;let Le={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},oe=p.unchangedNames;return oe&&(Le.bloomFilter={applied:S===0,hashCount:(N=oe?.hashCount)!==null&&N!==void 0?N:0,bitmapLength:(ee=(V=(P=oe?.bits)===null||P===void 0?void 0:P.bitmap)===null||V===void 0?void 0:V.length)!==null&&ee!==void 0?ee:0,padding:(te=(J=oe?.bits)===null||J===void 0?void 0:J.padding)!==null&&te!==void 0?te:0,mightContain:b=>{var v;return(v=y?.mightContain(b))!==null&&v!==void 0&&v}}),Le}(s,e.me,this.Le.tt(),a,u))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,a;try{s=qi(r).toUint8Array()}catch(u){if(u instanceof tf)return ua("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new e_(s,i,o)}catch(u){return ua(u instanceof Oo?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((o,s)=>{let a=this.Je(s);if(a){if(o.current&&qv(a.target)){let u=new ie(a.target.path);this.ke.get(u)!==null||this.it(s,u)||this.Ue(s,u,Bn.newNoDocument(u,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=Ee();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let i=new of(e,n,this.Qe,this.ke,r);return this.ke=ti(),this.qe=dx(),this.Qe=new et(Me),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new cf,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Vt(Me),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||Y("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new cf),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function dx(){return new et(ie.comparator)}function hx(){return new et(ie.comparator)}var F$={asc:"ASCENDING",desc:"DESCENDING"},V$={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},L$={and:"AND",or:"OR"},n_=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function r_(t,e){return t.useProto3Json||Pf(e)?e:{value:e}}function uf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Zx(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function j$(t,e){return uf(t,e.toTimestamp())}function pr(t){return Ve(!!t),fe.fromTimestamp(function(n){let r=ei(n);return new rt(r.seconds,r.nanos)}(t))}function lw(t,e){return i_(t,e).canonicalString()}function i_(t,e){let n=function(i){return new Ke(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Xx(t){let e=Ke.fromString(t);return Ve(iM(e)),e}function o_(t,e){return lw(t.databaseId,e.path)}function wv(t,e){let n=Xx(e);if(n.get(1)!==t.databaseId.projectId)throw new q(k.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new q(k.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ie(tM(n))}function eM(t,e){return lw(t.databaseId,e)}function U$(t){let e=Xx(t);return e.length===4?Ke.emptyPath():tM(e)}function s_(t){return new Ke(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function tM(t){return Ve(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function fx(t,e,n){return{name:o_(t,e),fields:n.value.mapValue.fields}}function B$(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:ae()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(Ve(h===void 0||typeof h=="string"),Lt.fromBase64String(h||"")):(Ve(h===void 0||h instanceof Buffer||h instanceof Uint8Array),Lt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let h=l.code===void 0?k.UNKNOWN:Jx(l.code);return new q(h,l.message||"")}(s);n=new af(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=wv(t,r.document.name),o=pr(r.document.updateTime),s=r.document.createTime?pr(r.document.createTime):fe.min(),a=new pn({mapValue:{fields:r.document.fields}}),u=Bn.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];n=new aa(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=wv(t,r.document),o=r.readTime?pr(r.readTime):fe.min(),s=Bn.newNoDocument(i,o),a=r.removedTargetIds||[];n=new aa([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=wv(t,r.document),o=r.removedTargetIds||[];n=new aa([],o,i,null)}else{if(!("filter"in e))return ae();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new Xv(i,o),a=r.targetId;n=new sf(a,s)}}return n}function $$(t,e){let n;if(e instanceof $o)n={update:fx(t,e.key,e.value)};else if(e instanceof mu)n={delete:o_(t,e.key)};else if(e instanceof mr)n={update:fx(t,e.key,e.data),updateMask:J$(e.fieldMask)};else{if(!(e instanceof Qv))return ae();n={verify:o_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof ma)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Uo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Bo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ya)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw ae()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:j$(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ae()}(t,e.precondition)),n}function H$(t,e){return t&&t.length>0?(Ve(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?pr(i.updateTime):pr(o);return s.isEqual(fe.min())&&(s=pr(o)),new Kv(s,i.transformResults||[])}(n,e))):[]}function z$(t,e){return{documents:[eM(t,e.path)]}}function q$(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=eM(t,i);let o=function(l){if(l.length!==0)return rM($n.create(l,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(m){return{field:ia(m.field),direction:K$(m.dir)}}(h))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=r_(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i}}function G$(t){let e=U$(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ve(r===1);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(p){let m=nM(p);return m instanceof $n&&Ox(m)?m.getFilters():[m]}(n.where));let s=[];n.orderBy&&(s=function(p){return p.map(m=>function(S){return new pa(oa(S.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(p){let m;return m=typeof p=="object"?p.value:p,Pf(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(p){let m=!!p.before,y=p.values||[];return new fa(y,m)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let m=!p.before,y=p.values||[];return new fa(y,m)}(n.endAt)),v$(e,i,s,o,a,"F",u,l)}function W$(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ae()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function nM(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=oa(n.unaryFilter.field);return gt.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=oa(n.unaryFilter.field);return gt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=oa(n.unaryFilter.field);return gt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=oa(n.unaryFilter.field);return gt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ae()}}(t):t.fieldFilter!==void 0?function(n){return gt.create(oa(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ae()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return $n.create(n.compositeFilter.filters.map(r=>nM(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ae()}}(n.compositeFilter.op))}(t):ae()}function K$(t){return F$[t]}function Q$(t){return V$[t]}function Y$(t){return L$[t]}function ia(t){return{fieldPath:t.canonicalString()}}function oa(t){return gn.fromServerFormat(t.fieldPath)}function rM(t){return t instanceof gt?function(n){if(n.op==="=="){if(XA(n.value))return{unaryFilter:{field:ia(n.field),op:"IS_NAN"}};if(ZA(n.value))return{unaryFilter:{field:ia(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(XA(n.value))return{unaryFilter:{field:ia(n.field),op:"IS_NOT_NAN"}};if(ZA(n.value))return{unaryFilter:{field:ia(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ia(n.field),op:Q$(n.op),value:n.value}}}(t):t instanceof $n?function(n){let r=n.getFilters().map(i=>rM(i));return r.length===1?r[0]:{compositeFilter:{op:Y$(n.op),filters:r}}}(t):ae()}function J$(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function iM(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var vu=class t{constructor(e,n,r,i,o=fe.min(),s=fe.min(),a=Lt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var a_=class{constructor(e){this.ct=e}};function Z$(t){let e=G$({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Wv(e,e.limit,"L"):e}var lf=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Ge(e.integerValue));else if("doubleValue"in e){let r=Ge(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),fu(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=ei(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(qi(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?Px(e)?this.dt(n,Number.MAX_SAFE_INTEGER):Mx(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):ae()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let o=e.fields||{};this.dt(n,53);let s="value",a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(Ge(a)),this.Vt(s,n),this.Tt(o[s],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),ie.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};lf.vt=new lf;var c_=class{constructor(){this.un=new u_}addToCollectionParentIndex(e,n){return this.un.add(n),j.resolve()}getCollectionParents(e,n){return j.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return j.resolve()}deleteFieldIndex(e,n){return j.resolve()}deleteAllFieldIndexes(e){return j.resolve()}createTargetIndexes(e,n){return j.resolve()}getDocumentsMatchingTarget(e,n){return j.resolve(null)}getIndexType(e,n){return j.resolve(0)}getFieldIndexes(e,n){return j.resolve([])}getNextCollectionGroupToUpdate(e){return j.resolve(null)}getMinOffset(e,n){return j.resolve(Vo.min())}getMinOffsetFromCollectionGroup(e,n){return j.resolve(Vo.min())}updateCollectionGroup(e,n,r){return j.resolve()}updateIndexEntries(e,n){return j.resolve()}},u_=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Vt(Ke.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Vt(Ke.comparator)).toArray()}};var uJ=new Uint8Array(0);var ur=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};ur.DEFAULT_COLLECTION_PERCENTILE=10,ur.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ur.DEFAULT=new ur(41943040,ur.DEFAULT_COLLECTION_PERCENTILE,ur.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ur.DISABLED=new ur(-1,0,0);var _u=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var l_=class{constructor(){this.changes=new Gi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Bn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?j.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var d_=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var h_=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&hu(r.mutation,i,In.empty(),rt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ee()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ee()){let i=No();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=cu();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=No();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ee()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=ti(),s=du(),a=function(){return du()}();return n.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof mr)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),hu(h.mutation,l,h.mutation.getFieldMask(),rt.now())):s.set(l.key,In.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),n.forEach((l,h)=>{var p;return a.set(l,new d_(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let r=du(),i=new et((s,a)=>s-a),o=Ee();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let h=r.get(u)||In.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||Ee()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=Hx();h.forEach(m=>{if(!o.has(m)){let y=Qx(n.get(m),r.get(m));y!==null&&p.set(m,y),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return j.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return ie.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Lx(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):j.resolve(No()),a=-1,u=o;return s.next(l=>j.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?j.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,Ee())).next(h=>({batchId:a,changes:$x(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ie(n)).next(r=>{let i=cu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=cu();return this.indexManager.getCollectionParents(e,o).next(a=>j.forEach(a,u=>{let l=function(p,m){return new jo(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,Bn.newInvalidDocument(h)))});let a=cu();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&hu(h.mutation,l,In.empty(),rt.now()),Nf(n,l)&&(a=a.insert(u,l))}),a})}};var f_=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return j.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:pr(i.createTime)}}(n)),j.resolve()}getNamedQuery(e,n){return j.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:Z$(i.bundledQuery),readTime:pr(i.readTime)}}(n)),j.resolve()}};var p_=class{constructor(){this.overlays=new et(ie.comparator),this.Ir=new Map}getOverlay(e,n){return j.resolve(this.overlays.get(n))}getOverlays(e,n){let r=No();return j.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),j.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),j.resolve()}getOverlaysForCollection(e,n,r){let i=No(),o=n.length+1,s=new ie(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return j.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new et((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=No(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=No(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return j.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Zv(n,r));let o=this.Ir.get(n);o===void 0&&(o=Ee(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}};var g_=class{constructor(){this.sessionToken=Lt.EMPTY_BYTE_STRING}getSessionToken(e){return j.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,j.resolve()}};var wu=class{constructor(){this.Tr=new Vt(pt.Er),this.dr=new Vt(pt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new pt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new pt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new ie(new Ke([])),r=new pt(n,e),i=new pt(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new ie(new Ke([])),r=new pt(n,e),i=new pt(n,e+1),o=Ee();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new pt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},pt=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ie.comparator(e.key,n.key)||Me(e.wr,n.wr)}static Ar(e,n){return Me(e.wr,n.wr)||ie.comparator(e.key,n.key)}};var m_=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Vt(pt.Er)}checkEmpty(e){return j.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new Yv(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.br=this.br.add(new pt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return j.resolve(s)}lookupMutationBatch(e,n){return j.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),o=i<0?0:i;return j.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return j.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return j.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new pt(n,0),i=new pt(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{let a=this.Dr(s.wr);o.push(a)}),j.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Vt(Me);return n.forEach(i=>{let o=new pt(i,0),s=new pt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),j.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;ie.isDocumentKey(o)||(o=o.child(""));let s=new pt(new ie(o),0),a=new Vt(Me);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.wr)),!0)},s),j.resolve(this.Cr(a))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ve(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return j.forEach(n.mutations,i=>{let o=new pt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new pt(n,0),i=this.br.firstAfterOrEqual(r);return j.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,j.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var y_=class{constructor(e){this.Mr=e,this.docs=function(){return new et(ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return j.resolve(r?r.document.mutableCopy():Bn.newInvalidDocument(n))}getEntries(e,n){let r=ti();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Bn.newInvalidDocument(i))}),j.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=ti(),s=n.path,a=new ie(s.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||a$(s$(h),r)<=0||(i.has(h.key)||Nf(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return j.resolve(o)}getAllFromCollectionGroup(e,n,r,i){ae()}Or(e,n){return j.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new v_(this)}getSize(e){return j.resolve(this.size)}},v_=class extends l_{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),j.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var __=class{constructor(e){this.persistence=e,this.Nr=new Gi(n=>sw(n),aw),this.lastRemoteSnapshotVersion=fe.min(),this.highestTargetId=0,this.Lr=0,this.Br=new wu,this.targetCount=0,this.kr=_u.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),j.resolve()}getLastRemoteSnapshotVersion(e){return j.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return j.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),j.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),j.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new _u(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,j.resolve()}updateTargetData(e,n){return this.Kn(n),j.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,j.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),j.waitFor(o).next(()=>i)}getTargetCount(e){return j.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return j.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),j.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),j.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),j.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return j.resolve(r)}containsKey(e,n){return j.resolve(this.Br.containsKey(n))}};var w_=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Ax(0),this.Kr=!1,this.Kr=!0,this.$r=new g_,this.referenceDelegate=e(this),this.Ur=new __(this),this.indexManager=new c_,this.remoteDocumentCache=function(i){return new y_(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new a_(n),this.Gr=new f_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new p_,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new m_(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){Y("MemoryPersistence","Starting transaction:",e);let i=new E_(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return j.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},E_=class extends Rv{constructor(e){super(),this.currentSequenceNumber=e}},I_=class t{constructor(e){this.persistence=e,this.Jr=new wu,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw ae()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),j.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),j.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),j.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return j.forEach(this.Xr,r=>{let i=ie.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,fe.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return j.or([()=>j.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var C_=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Ee(),i=Ee();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var b_=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var D_=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return RS()?8:u$(bt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new b_;return this.Xi(e,n,s).next(a=>{if(o.result=a,this.zi)return this.es(e,n,s,a.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(au()<=we.DEBUG&&Y("QueryEngine","SDK will not create cache indexes for query:",ra(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),j.resolve()):(au()<=we.DEBUG&&Y("QueryEngine","Query:",ra(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(au()<=we.DEBUG&&Y("QueryEngine","The SDK decides to create cache indexes for query:",ra(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,hr(n))):j.resolve())}Yi(e,n){if(rx(n))return j.resolve(null);let r=hr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Wv(n,null,"F"),r=hr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=Ee(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(n,a);return this.ns(n,l,s,u.readTime)?this.Yi(e,Wv(n,null,"F")):this.rs(e,l,n,u)}))})))}Zi(e,n,r,i){return rx(n)||i.isEqual(fe.min())?j.resolve(null):this.Ji.getDocuments(e,r).next(o=>{let s=this.ts(n,o);return this.ns(n,s,r,i)?j.resolve(null):(au()<=we.DEBUG&&Y("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ra(n)),this.rs(e,s,n,o$(i,-1)).next(a=>a))})}ts(e,n){let r=new Vt(Ux(e));return n.forEach((i,o)=>{Nf(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return au()<=we.DEBUG&&Y("QueryEngine","Using full collection scan to execute query:",ra(n)),this.Ji.getDocumentsMatchingQuery(e,n,Vo.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var T_=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new et(Me),this._s=new Gi(o=>sw(o),aw),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new h_(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function X$(t,e,n,r){return new T_(t,e,n,r)}function oM(t,e){return E(this,null,function*(){let n=le(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=Ee();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:s,addedBatchIds:a}))})})})}function e5(t,e){let n=le(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,m=p.keys(),y=j.resolve();return m.forEach(S=>{y=y.next(()=>h.getEntry(u,S)).next(N=>{let P=l.docVersions.get(S);Ve(P!==null),N.version.compareTo(P)<0&&(p.applyToRemoteDocument(N,l),N.isValidDocument()&&(N.setReadTime(l.commitVersion),h.addEntry(N)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=Ee();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function sM(t){let e=le(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function t5(t,e){let n=le(t),r=e.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let a=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;a.push(n.Ur.removeMatchingKeys(o,h.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(o,h.addedDocuments,p)));let y=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(Lt.EMPTY_BYTE_STRING,fe.min()).withLastLimboFreeSnapshotVersion(fe.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),function(N,P,V){return N.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=3e8?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0}(m,y,h)&&a.push(n.Ur.updateTargetData(o,y))});let u=ti(),l=Ee();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(n5(o,s,e.documentUpdates).next(h=>{u=h.Ps,l=h.Is})),!r.isEqual(fe.min())){let h=n.Ur.getLastRemoteSnapshotVersion(o).next(p=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return j.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(n.os=i,o))}function n5(t,e,n){let r=Ee(),i=Ee();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=ti();return n.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(fe.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):Y("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ps:s,Is:i}})}function r5(t,e){let n=le(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function i5(t,e){let n=le(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,j.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new vu(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}function S_(t,e,n){return E(this,null,function*(){let r=le(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Au(s))throw s;Y("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function px(t,e,n){let r=le(t),i=fe.min(),o=Ee();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,h){let p=le(u),m=p._s.get(h);return m!==void 0?j.resolve(p.os.get(m)):p.Ur.getTargetData(l,h)}(r,s,hr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:fe.min(),n?o:Ee())).next(a=>(o5(r,w$(e),a),{documents:a,Ts:o})))}function o5(t,e,n){let r=t.us.get(e)||fe.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}var df=class{constructor(){this.activeTargetIds=T$()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var A_=class{constructor(){this.so=new df,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new df,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var x_=class{_o(e){}shutdown(){}};var hf=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Y("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){Y("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Kh=null;function Ev(){return Kh===null?Kh=function(){return 268435456+Math.round(2147483648*Math.random())}():Kh++,"0x"+Kh.toString(16)}var s5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var M_=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var Ft="WebChannelConnection",P_=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){let a=Ev(),u=this.xo(n,r.toUriEncodedString());Y("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,o,s),this.No(n,u,l,i).then(h=>(Y("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw ua("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",u,"request:",i),h})}Lo(n,r,i,o,s,a){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ia}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){let i=s5[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let o=Ev();return new Promise((s,a)=>{let u=new gv;u.setWithCredentials(!0),u.listenOnce(mv.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case su.NO_ERROR:let h=u.getResponseJson();Y(Ft,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case su.TIMEOUT:Y(Ft,`RPC '${e}' ${o} timed out`),a(new q(k.DEADLINE_EXCEEDED,"Request time out"));break;case su.HTTP_ERROR:let p=u.getStatus();if(Y(Ft,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);let y=m?.error;if(y&&y.status&&y.message){let S=function(P){let V=P.toLowerCase().replace(/_/g,"-");return Object.values(k).indexOf(V)>=0?V:k.UNKNOWN}(y.status);a(new q(S,y.message))}else a(new q(k.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new q(k.UNAVAILABLE,"Connection failed."));break;default:ae()}}finally{Y(Ft,`RPC '${e}' ${o} completed.`)}});let l=JSON.stringify(i);Y(Ft,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",l,r,15)})}Bo(e,n,r){let i=Ev(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=_v(),a=vv(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let h=o.join("");Y(Ft,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u),m=!1,y=!1,S=new M_({Io:P=>{y?Y(Ft,`Not sending because RPC '${e}' stream ${i} is closed:`,P):(m||(Y(Ft,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),Y(Ft,`RPC '${e}' stream ${i} sending:`,P),p.send(P))},To:()=>p.close()}),N=(P,V,ee)=>{P.listen(V,J=>{try{ee(J)}catch(te){setTimeout(()=>{throw te},0)}})};return N(p,na.EventType.OPEN,()=>{y||(Y(Ft,`RPC '${e}' stream ${i} transport opened.`),S.yo())}),N(p,na.EventType.CLOSE,()=>{y||(y=!0,Y(Ft,`RPC '${e}' stream ${i} transport closed`),S.So())}),N(p,na.EventType.ERROR,P=>{y||(y=!0,ua(Ft,`RPC '${e}' stream ${i} transport errored:`,P),S.So(new q(k.UNAVAILABLE,"The operation could not be completed")))}),N(p,na.EventType.MESSAGE,P=>{var V;if(!y){let ee=P.data[0];Ve(!!ee);let J=ee,te=J.error||((V=J[0])===null||V===void 0?void 0:V.error);if(te){Y(Ft,`RPC '${e}' stream ${i} received error:`,te);let Le=te.status,oe=function(w){let D=ft[w];if(D!==void 0)return Jx(D)}(Le),b=te.message;oe===void 0&&(oe=k.INTERNAL,b="Unknown error status: "+Le+" with message "+te.message),y=!0,S.So(new q(oe,b)),p.close()}else Y(Ft,`RPC '${e}' stream ${i} received:`,ee),S.bo(ee)}}),N(a,yv.STAT_EVENT,P=>{P.stat===Gh.PROXY?Y(Ft,`RPC '${e}' stream ${i} detected buffering proxy`):P.stat===Gh.NOPROXY&&Y(Ft,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.wo()},0),S}};function Iv(){return typeof document<"u"?document:null}function Of(t){return new n_(t,!0)}var ff=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&Y("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var pf=class{constructor(e,n,r,i,o,s,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new ff(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return E(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return E(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return E(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===k.RESOURCE_EXHAUSTED?(Xr(n.toString()),Xr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===k.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new q(k.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>E(this,null,function*(){this.state=0,this.start()}))}I_(e){return Y("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(Y("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},R_=class extends pf{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=B$(this.serializer,e),r=function(o){if(!("targetChange"in o))return fe.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?fe.min():s.readTime?pr(s.readTime):fe.min()}(e);return this.listener.d_(n,r)}A_(e){let n={};n.database=s_(this.serializer),n.addTarget=function(o,s){let a,u=s.target;if(a=qv(u)?{documents:z$(o,u)}:{query:q$(o,u)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=Zx(o,s.resumeToken);let l=r_(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(fe.min())>0){a.readTime=uf(o,s.snapshotVersion.toTimestamp());let l=r_(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=W$(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){let n={};n.database=s_(this.serializer),n.removeTarget=e,this.a_(n)}},N_=class extends pf{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ve(!!e.streamToken),this.lastStreamToken=e.streamToken,Ve(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ve(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=H$(e.writeResults,e.commitTime),r=pr(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=s_(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>$$(this.serializer,r))};this.a_(n)}};var O_=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new q(k.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,i_(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new q(k.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,i_(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new q(k.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},k_=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Xr(n),this.D_=!1):Y("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var F_=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(()=>E(this,null,function*(){qo(this)&&(Y("RemoteStore","Restarting streams for network reachability change."),yield function(u){return E(this,null,function*(){let l=le(u);l.L_.add(4),yield xu(l),l.q_.set("Unknown"),l.L_.delete(4),yield kf(l)})}(this))}))}),this.q_=new k_(r,i)}};function kf(t){return E(this,null,function*(){if(qo(t))for(let e of t.B_)yield e(!0)})}function xu(t){return E(this,null,function*(){for(let e of t.B_)yield e(!1)})}function aM(t,e){let n=le(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),pw(n)?fw(n):Ca(n).r_()&&hw(n,e))}function dw(t,e){let n=le(t),r=Ca(n);n.N_.delete(e),r.r_()&&cM(n,e),n.N_.size===0&&(r.r_()?r.o_():qo(n)&&n.q_.set("Unknown"))}function hw(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(fe.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ca(t).A_(e)}function cM(t,e){t.Q_.xe(e),Ca(t).R_(e)}function fw(t){t.Q_=new t_({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Ca(t).start(),t.q_.v_()}function pw(t){return qo(t)&&!Ca(t).n_()&&t.N_.size>0}function qo(t){return le(t).L_.size===0}function uM(t){t.Q_=void 0}function a5(t){return E(this,null,function*(){t.q_.set("Online")})}function c5(t){return E(this,null,function*(){t.N_.forEach((e,n)=>{hw(t,e)})})}function u5(t,e){return E(this,null,function*(){uM(t),pw(t)?(t.q_.M_(e),fw(t)):t.q_.set("Unknown")})}function l5(t,e,n){return E(this,null,function*(){if(t.q_.set("Online"),e instanceof af&&e.state===2&&e.cause)try{yield function(i,o){return E(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))})}(t,e)}catch(r){Y("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield gf(t,r)}else if(e instanceof aa?t.Q_.Ke(e):e instanceof sf?t.Q_.He(e):t.Q_.We(e),!n.isEqual(fe.min()))try{let r=yield sM(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){let a=o.Q_.rt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.N_.get(l);h&&o.N_.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.N_.get(u);if(!h)return;o.N_.set(u,h.withResumeToken(Lt.EMPTY_BYTE_STRING,h.snapshotVersion)),cM(o,u);let p=new vu(h.target,u,l,h.sequenceNumber);hw(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){Y("RemoteStore","Failed to raise snapshot:",r),yield gf(t,r)}})}function gf(t,e,n){return E(this,null,function*(){if(!Au(e))throw e;t.L_.add(1),yield xu(t),t.q_.set("Offline"),n||(n=()=>sM(t.localStore)),t.asyncQueue.enqueueRetryable(()=>E(this,null,function*(){Y("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield kf(t)}))})}function lM(t,e){return e().catch(n=>gf(t,n,e))}function Ff(t){return E(this,null,function*(){let e=le(t),n=Wi(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;d5(e);)try{let i=yield r5(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,h5(e,i)}catch(i){yield gf(e,i)}dM(e)&&hM(e)})}function d5(t){return qo(t)&&t.O_.length<10}function h5(t,e){t.O_.push(e);let n=Wi(t);n.r_()&&n.V_&&n.m_(e.mutations)}function dM(t){return qo(t)&&!Wi(t).n_()&&t.O_.length>0}function hM(t){Wi(t).start()}function f5(t){return E(this,null,function*(){Wi(t).p_()})}function p5(t){return E(this,null,function*(){let e=Wi(t);for(let n of t.O_)e.m_(n.mutations)})}function g5(t,e,n){return E(this,null,function*(){let r=t.O_.shift(),i=Jv.from(r,e,n);yield lM(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Ff(t)})}function m5(t,e){return E(this,null,function*(){e&&Wi(t).V_&&(yield function(r,i){return E(this,null,function*(){if(function(s){return N$(s)&&s!==k.ABORTED}(i.code)){let o=r.O_.shift();Wi(r).s_(),yield lM(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Ff(r)}})}(t,e)),dM(t)&&hM(t)})}function gx(t,e){return E(this,null,function*(){let n=le(t);n.asyncQueue.verifyOperationInProgress(),Y("RemoteStore","RemoteStore received new credentials");let r=qo(n);n.L_.add(3),yield xu(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield kf(n)})}function y5(t,e){return E(this,null,function*(){let n=le(t);e?(n.L_.delete(2),yield kf(n)):e||(n.L_.add(2),yield xu(n),n.q_.set("Unknown"))})}function Ca(t){return t.K_||(t.K_=function(n,r,i){let o=le(n);return o.w_(),new R_(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:a5.bind(null,t),Ro:c5.bind(null,t),mo:u5.bind(null,t),d_:l5.bind(null,t)}),t.B_.push(e=>E(this,null,function*(){e?(t.K_.s_(),pw(t)?fw(t):t.q_.set("Unknown")):(yield t.K_.stop(),uM(t))}))),t.K_}function Wi(t){return t.U_||(t.U_=function(n,r,i){let o=le(n);return o.w_(),new N_(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:f5.bind(null,t),mo:m5.bind(null,t),f_:p5.bind(null,t),g_:g5.bind(null,t)}),t.B_.push(e=>E(this,null,function*(){e?(t.U_.s_(),yield Ff(t)):(yield t.U_.stop(),t.O_.length>0&&(Y("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var V_=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new lr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new q(k.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function gw(t,e){if(Xr("AsyncQueue",`${e}: ${t}`),Au(t))return new q(k.UNAVAILABLE,`${e}: ${t}`);throw t}var mf=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ie.comparator(n.key,r.key):(n,r)=>ie.comparator(n.key,r.key),this.keyedMap=cu(),this.sortedSet=new et(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var yf=class{constructor(){this.W_=new et(ie.comparator)}track(e){let n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ae():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}},_a=class t{constructor(e,n,r,i,o,s,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,mf.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var L_=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},j_=class{constructor(){this.queries=mx(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=le(n),o=i.queries;i.queries=mx(),o.forEach((s,a)=>{for(let u of a.j_)u.onError(r)})})(this,new q(k.ABORTED,"Firestore shutting down"))}};function mx(){return new Gi(t=>jx(t),Rf)}function fM(t,e){return E(this,null,function*(){let n=le(t),r=3,i=e.query,o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new L_,r=e.J_()?0:1);try{switch(r){case 0:o.z_=yield n.onListen(i,!0);break;case 1:o.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){let a=gw(s,`Initialization of query '${ra(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&mw(n)})}function pM(t,e){return E(this,null,function*(){let n=le(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function v5(t,e){let n=le(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&mw(n)}function _5(t,e,n){let r=le(t),i=r.queries.get(e);if(i)for(let o of i.j_)o.onError(n);r.queries.delete(e)}function mw(t){t.Y_.forEach(e=>{e.next()})}var U_,yx;(yx=U_||(U_={})).ea="default",yx.Cache="cache";var vf=class{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new _a(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=_a.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==U_.Cache}};var _f=class{constructor(e){this.key=e}},wf=class{constructor(e){this.key=e}},B_=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ee(),this.mutatedKeys=Ee(),this.Aa=Ux(e),this.Ra=new mf(this.Aa)}get Va(){return this.Ta}ma(e,n){let r=n?n.fa:new yf,i=n?n.Ra:this.Ra,o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),y=Nf(this.query,p)?p:null,S=!!m&&this.mutatedKeys.has(m.key),N=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),P=!1;m&&y?m.data.isEqual(y.data)?S!==N&&(r.track({type:3,doc:y}),P=!0):this.ga(m,y)||(r.track({type:2,doc:y}),P=!0,(u&&this.Aa(y,u)>0||l&&this.Aa(y,l)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),P=!0):m&&!y&&(r.track({type:1,doc:m}),P=!0,(u||l)&&(a=!0)),P&&(y?(s=s.add(y),o=N?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let s=e.fa.G_();s.sort((h,p)=>function(y,S){let N=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ae()}};return N(y)-N(S)}(h.type,p.type)||this.Aa(h.doc,p.doc)),this.pa(r),i=i!=null&&i;let a=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,s.length!==0||l?{snapshot:new _a(this.query,e.Ra,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new yf,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=Ee(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let n=[];return e.forEach(r=>{this.da.has(r)||n.push(new wf(r))}),this.da.forEach(r=>{e.has(r)||n.push(new _f(r))}),n}ba(e){this.Ta=e.Ts,this.da=Ee();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return _a.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},$_=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},H_=class{constructor(e){this.key=e,this.va=!1}},z_=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Gi(a=>jx(a),Rf),this.Ma=new Map,this.xa=new Set,this.Oa=new et(ie.comparator),this.Na=new Map,this.La=new wu,this.Ba={},this.ka=new Map,this.qa=_u.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function w5(t,e,n=!0){return E(this,null,function*(){let r=wM(t),i,o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=yield gM(r,e,n,!0),i})}function E5(t,e){return E(this,null,function*(){let n=wM(t);yield gM(n,e,!0,!1)})}function gM(t,e,n,r){return E(this,null,function*(){let i=yield i5(t.localStore,hr(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n),a;return r&&(a=yield I5(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&aM(t.remoteStore,i),a})}function I5(t,e,n,r,i){return E(this,null,function*(){t.Ka=(p,m,y)=>function(N,P,V,ee){return E(this,null,function*(){let J=P.view.ma(V);J.ns&&(J=yield px(N.localStore,P.query,!1).then(({documents:b})=>P.view.ma(b,J)));let te=ee&&ee.targetChanges.get(P.targetId),Le=ee&&ee.targetMismatches.get(P.targetId)!=null,oe=P.view.applyChanges(J,N.isPrimaryClient,te,Le);return _x(N,P.targetId,oe.wa),oe.snapshot})}(t,p,m,y);let o=yield px(t.localStore,e,!0),s=new B_(e,o.Ts),a=s.ma(o.documents),u=yu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(a,t.isPrimaryClient,u);_x(t,n,l.wa);let h=new $_(e,n,s);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),l.snapshot})}function C5(t,e,n){return E(this,null,function*(){let r=le(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!Rf(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield S_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&dw(r.remoteStore,i.targetId),q_(r,i.targetId)}).catch(Su))):(q_(r,i.targetId),yield S_(r.localStore,i.targetId,!0))})}function b5(t,e){return E(this,null,function*(){let n=le(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),dw(n.remoteStore,r.targetId))})}function D5(t,e,n){return E(this,null,function*(){let r=R5(t);try{let i=yield function(s,a){let u=le(s),l=rt.now(),h=a.reduce((y,S)=>y.add(S.key),Ee()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let S=ti(),N=Ee();return u.cs.getEntries(y,h).next(P=>{S=P,S.forEach((V,ee)=>{ee.isValidDocument()||(N=N.add(V))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,S)).next(P=>{p=P;let V=[];for(let ee of a){let J=R$(ee,p.get(ee.key).overlayedDocument);J!=null&&V.push(new mr(ee.key,J,Rx(J.value.mapValue),fr.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,V,a)}).next(P=>{m=P;let V=P.applyToLocalDocumentSet(p,N);return u.documentOverlayCache.saveOverlays(y,P.batchId,V)})}).then(()=>({batchId:m.batchId,changes:$x(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let l=s.Ba[s.currentUser.toKey()];l||(l=new et(Me)),l=l.insert(a,u),s.Ba[s.currentUser.toKey()]=l}(r,i.batchId,n),yield Mu(r,i.changes),yield Ff(r.remoteStore)}catch(i){let o=gw(i,"Failed to persist write");n.reject(o)}})}function mM(t,e){return E(this,null,function*(){let n=le(t);try{let r=yield t5(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Na.get(o);s&&(Ve(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?Ve(s.va):i.removedDocuments.size>0&&(Ve(s.va),s.va=!1))}),yield Mu(n,r,e)}catch(r){yield Su(r)}})}function vx(t,e,n){let r=le(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((o,s)=>{let a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let u=le(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.j_)m.Z_(a)&&(l=!0)}),l&&mw(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function T5(t,e,n){return E(this,null,function*(){let r=le(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Na.get(e),o=i&&i.key;if(o){let s=new et(ie.comparator);s=s.insert(o,Bn.newNoDocument(o,fe.min()));let a=Ee().add(o),u=new of(fe.min(),new Map,new et(Me),s,a);yield mM(r,u),r.Oa=r.Oa.remove(o),r.Na.delete(e),yw(r)}else yield S_(r.localStore,e,!1).then(()=>q_(r,e,n)).catch(Su)})}function S5(t,e){return E(this,null,function*(){let n=le(t),r=e.batch.batchId;try{let i=yield e5(n.localStore,e);vM(n,r,null),yM(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Mu(n,i)}catch(i){yield Su(i)}})}function A5(t,e,n){return E(this,null,function*(){let r=le(t);try{let i=yield function(s,a){let u=le(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(Ve(p!==null),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);vM(r,e,n),yM(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Mu(r,i)}catch(i){yield Su(i)}})}function yM(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function vM(t,e,n){let r=le(t),i=r.Ba[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function q_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||_M(t,r)})}function _M(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(dw(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),yw(t))}function _x(t,e,n){for(let r of n)r instanceof _f?(t.La.addReference(r.key,e),x5(t,r)):r instanceof wf?(Y("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||_M(t,r.key)):ae()}function x5(t,e){let n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(Y("SyncEngine","New document in limbo: "+n),t.xa.add(r),yw(t))}function yw(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new ie(Ke.fromString(e)),r=t.qa.next();t.Na.set(r,new H_(n)),t.Oa=t.Oa.insert(n,r),aM(t.remoteStore,new vu(hr(cw(n.path)),r,"TargetPurposeLimboResolution",Ax.oe))}}function Mu(t,e,n){return E(this,null,function*(){let r=le(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{s.push(r.Ka(u,e,n).then(l=>{var h;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=n?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=C_.Wi(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.Ca.d_(i),yield function(u,l){return E(this,null,function*(){let h=le(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>j.forEach(l,m=>j.forEach(m.$i,y=>h.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>j.forEach(m.Ui,y=>h.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!Au(p))throw p;Y("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let y=h.os.get(m),S=y.snapshotVersion,N=y.withLastLimboFreeSnapshotVersion(S);h.os=h.os.insert(m,N)}}})}(r.localStore,o))})}function M5(t,e){return E(this,null,function*(){let n=le(t);if(!n.currentUser.isEqual(e)){Y("SyncEngine","User change. New user:",e.toKey());let r=yield oM(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(u=>{u.reject(new q(k.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Mu(n,r.hs)}})}function P5(t,e){let n=le(t),r=n.Na.get(e);if(r&&r.va)return Ee().add(r.key);{let i=Ee(),o=n.Ma.get(e);if(!o)return i;for(let s of o){let a=n.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function wM(t){let e=le(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=mM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=P5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=T5.bind(null,e),e.Ca.d_=v5.bind(null,e.eventManager),e.Ca.$a=_5.bind(null,e.eventManager),e}function R5(t){let e=le(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=S5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=A5.bind(null,e),e}var wx=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return E(this,null,function*(){this.serializer=Of(n.databaseInfo.databaseId),this.sharedClientState=this.Wa(n),this.persistence=this.Ga(n),yield this.persistence.start(),this.localStore=this.za(n),this.gcScheduler=this.ja(n,this.localStore),this.indexBackfillerScheduler=this.Ha(n,this.localStore)})}ja(n,r){return null}Ha(n,r){return null}za(n){return X$(this.persistence,new D_,n.initialUser,this.serializer)}Ga(n){return new w_(I_.Zr,this.serializer)}Wa(n){return new A_}terminate(){return E(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})();var N5=(()=>{class t{initialize(n,r){return E(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>vx(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=M5.bind(null,this.syncEngine),yield y5(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new j_}()}createDatastore(n){let r=Of(n.databaseInfo.databaseId),i=function(s){return new P_(s)}(n.databaseInfo);return function(s,a,u,l){return new O_(s,a,u,l)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,o,s,a,u){return new F_(i,o,s,a,u)}(this.localStore,this.datastore,n.asyncQueue,r=>vx(this.syncEngine,r,0),function(){return hf.D()?new hf:new x_}())}createSyncEngine(n,r){return function(o,s,a,u,l,h,p){let m=new z_(o,s,a,u,l,h);return p&&(m.Qa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return E(this,null,function*(){var n,r;yield function(o){return E(this,null,function*(){let s=le(o);Y("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield xu(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var Ef=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Xr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var G_=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Dt.UNAUTHENTICATED,this.clientId=Zh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>E(this,null,function*(){Y("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(Y("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new lr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>E(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=gw(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Cv(t,e){return E(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),Y("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>E(this,null,function*(){r.isEqual(i)||(yield oM(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function Ex(t,e){return E(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield O5(t);Y("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>gx(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>gx(e.remoteStore,i)),t._onlineComponents=e})}function O5(t){return E(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Y("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Cv(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===k.FAILED_PRECONDITION||i.code===k.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;ua("Error using user provided cache. Falling back to memory cache: "+n),yield Cv(t,new wx)}}else Y("FirestoreClient","Using default OfflineComponentProvider"),yield Cv(t,new wx);return t._offlineComponents})}function EM(t){return E(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(Y("FirestoreClient","Using user provided OnlineComponentProvider"),yield Ex(t,t._uninitializedComponentsProvider._online)):(Y("FirestoreClient","Using default OnlineComponentProvider"),yield Ex(t,new N5))),t._onlineComponents})}function k5(t){return EM(t).then(e=>e.syncEngine)}function W_(t){return E(this,null,function*(){let e=yield EM(t),n=e.eventManager;return n.onListen=w5.bind(null,e.syncEngine),n.onUnlisten=C5.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=E5.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=b5.bind(null,e.syncEngine),n})}function F5(t,e,n={}){let r=new lr;return t.asyncQueue.enqueueAndForget(()=>E(this,null,function*(){return function(o,s,a,u,l){let h=new Ef({next:m=>{h.Za(),s.enqueueAndForget(()=>pM(o,p)),m.fromCache&&u.source==="server"?l.reject(new q(k.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(m)},error:m=>l.reject(m)}),p=new vf(a,h,{includeMetadataChanges:!0,_a:!0});return fM(o,p)}(yield W_(t),t.asyncQueue,e,n,r)})),r.promise}function IM(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var Ix=new Map;function CM(t,e,n){if(!n)throw new q(k.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function V5(t,e,n,r){if(e===!0&&r===!0)throw new q(k.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Cx(t){if(!ie.isDocumentKey(t))throw new q(k.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function bx(t){if(ie.isDocumentKey(t))throw new q(k.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Vf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ae()}function Cn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new q(k.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Vf(t);throw new q(k.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var If=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new q(k.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new q(k.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}V5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=IM((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new q(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new q(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new q(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},wa=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new If({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new q(k.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new q(k.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new If(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new bv;switch(r.type){case"firstParty":return new Av(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new q(k.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return E(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=Ix.get(n);r&&(Y("ComponentProvider","Removing Datastore"),Ix.delete(n),r.terminate())}(this),Promise.resolve()}};function bM(t,e,n,r={}){var i;let o=(t=Cn(t,wa))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&ua("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=Dt.MOCK_USER;else{a=TS(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new q(k.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Dt(l)}t._authCredentials=new Dv(new Jh(a,u))}}var Ho=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Wt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},zi=class t extends Ho{constructor(e,n,r){super(e,n,cw(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Wt(this.firestore,null,new ie(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function DM(t,e,...n){if(t=dt(t),CM("collection","path",e),t instanceof wa){let r=Ke.fromString(e,...n);return bx(r),new zi(t,null,r)}{if(!(t instanceof Wt||t instanceof zi))throw new q(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ke.fromString(e,...n));return bx(r),new zi(t.firestore,null,r)}}function vw(t,e,...n){if(t=dt(t),arguments.length===1&&(e=Zh.newId()),CM("doc","path",e),t instanceof wa){let r=Ke.fromString(e,...n);return Cx(r),new Wt(t,null,new ie(r))}{if(!(t instanceof Wt||t instanceof zi))throw new q(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ke.fromString(e,...n));return Cx(r),new Wt(t.firestore,t instanceof zi?t.converter:null,new ie(r))}}var Cf=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new ff(this,"async_queue_retry"),this.Vu=()=>{let r=Iv();r&&Y("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let n=Iv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let n=Iv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let n=new lr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return E(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Au(e))throw e;Y("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw Xr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);let i=V_.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&ae()}verifyOperationInProgress(){}wu(){return E(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let n=this.Tu.indexOf(e);this.Tu.splice(n,1)}};function Dx(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}var yr=class extends wa{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Cf,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return E(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Cf(e),this._firestoreClient=void 0,yield e}})}};function TM(t,e){let n=typeof t=="object"?t:Vi(),r=typeof t=="string"?t:e||"(default)",i=ki(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=DS("firestore");o&&bM(i,...o)}return i}function _w(t){if(t._terminated)throw new q(k.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||L5(t),t._firestoreClient}function L5(t){var e,n,r;let i=t._freezeSettings(),o=function(a,u,l,h){return new Nv(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,IM(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new G_(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(t._componentsProvider))}var Eu=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Lt.fromBase64String(e))}catch(n){throw new q(k.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Lt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Ea=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new q(k.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Iu=class{constructor(e){this._methodName=e}};var Cu=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new q(k.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new q(k.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}};var bu=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var j5=/^__.*__$/,K_=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new mr(e,this.data,this.fieldMask,n,this.fieldTransforms):new $o(e,this.data,n,this.fieldTransforms)}},bf=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new mr(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function SM(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ae()}}var Q_=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Tf(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(SM(this.Cu)&&j5.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},Y_=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Of(e)}Qu(e,n,r,i=!1){return new Q_({Cu:e,methodName:n,qu:r,path:gn.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Lf(t){let e=t._freezeSettings(),n=Of(t._databaseId);return new Y_(t._databaseId,!!e.ignoreUndefinedProperties,n)}function AM(t,e,n,r,i,o={}){let s=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);ww("Data must be an object, but it was:",s,r);let a=xM(r,s),u,l;if(o.merge)u=new In(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let m=J_(e,p,n);if(!s.contains(m))throw new q(k.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);PM(h,m)||h.push(m)}u=new In(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new K_(new pn(a),u,l)}var Df=class t extends Iu{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function U5(t,e,n,r){let i=t.Qu(1,e,n);ww("Data must be an object, but it was:",i,r);let o=[],s=pn.empty();zo(r,(u,l)=>{let h=Ew(e,u,n);l=dt(l);let p=i.Nu(h);if(l instanceof Df)o.push(h);else{let m=Pu(l,p);m!=null&&(o.push(h),s.set(h,m))}});let a=new In(o);return new bf(s,a,i.fieldTransforms)}function B5(t,e,n,r,i,o){let s=t.Qu(1,e,n),a=[J_(e,r,n)],u=[i];if(o.length%2!=0)throw new q(k.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<o.length;m+=2)a.push(J_(e,o[m])),u.push(o[m+1]);let l=[],h=pn.empty();for(let m=a.length-1;m>=0;--m)if(!PM(l,a[m])){let y=a[m],S=u[m];S=dt(S);let N=s.Nu(y);if(S instanceof Df)l.push(y);else{let P=Pu(S,N);P!=null&&(l.push(y),h.set(y,P))}}let p=new In(l);return new bf(h,p,s.fieldTransforms)}function $5(t,e,n,r=!1){return Pu(n,t.Qu(r?4:3,e))}function Pu(t,e){if(MM(t=dt(t)))return ww("Unsupported field value:",e,t),xM(t,e);if(t instanceof Iu)return function(r,i){if(!SM(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let u=Pu(a,i.Lu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=dt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return S$(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=rt.fromDate(r);return{timestampValue:uf(i.serializer,o)}}if(r instanceof rt){let o=new rt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:uf(i.serializer,o)}}if(r instanceof Cu)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Eu)return{bytesValue:Zx(i.serializer,r._byteString)};if(r instanceof Wt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:lw(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof bu)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.Bu("VectorValues must only contain numeric values.");return uw(a.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Vf(r)}`)}(t,e)}function xM(t,e){let n={};return xx(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):zo(t,(r,i)=>{let o=Pu(i,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function MM(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof rt||t instanceof Cu||t instanceof Eu||t instanceof Wt||t instanceof Iu||t instanceof bu)}function ww(t,e,n){if(!MM(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=Vf(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function J_(t,e,n){if((e=dt(e))instanceof Ea)return e._internalPath;if(typeof e=="string")return Ew(t,e);throw Tf("Field path arguments must be of type string or ",t,!1,void 0,n)}var H5=new RegExp("[~\\*/\\[\\]]");function Ew(t,e,n){if(e.search(H5)>=0)throw Tf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ea(...e.split("."))._internalPath}catch{throw Tf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Tf(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new q(k.INVALID_ARGUMENT,a+t+u)}function PM(t,e){return t.some(n=>n.isEqual(e))}var Sf=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Wt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Z_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(Iw("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},Z_=class extends Sf{data(){return super.data()}};function Iw(t,e){return typeof e=="string"?Ew(t,e):e instanceof Ea?e._internalPath:e._delegate._internalPath}function RM(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new q(k.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Du=class{},X_=class extends Du{};function NM(t,e,...n){let r=[];e instanceof Du&&r.push(e),r=r.concat(n),function(o){let s=o.filter(u=>u instanceof ew).length,a=o.filter(u=>u instanceof Af).length;if(s>1||s>0&&a>0)throw new q(k.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var Af=class t extends X_{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return kM(e._query,n),new Ho(e.firestore,e.converter,Gv(e._query,n))}_parse(e){let n=Lf(e.firestore);return function(o,s,a,u,l,h,p){let m;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new q(k.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){Sx(p,h);let y=[];for(let S of p)y.push(Tx(u,o,S));m={arrayValue:{values:y}}}else m=Tx(u,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||Sx(p,h),m=$5(a,s,p,h==="in"||h==="not-in");return gt.create(l,h,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function OM(t,e,n){let r=e,i=Iw("where",t);return Af._create(i,r,n)}var ew=class t extends Du{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:$n.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let u of a)kM(s,u),s=Gv(s,u)}(e._query,n),new Ho(e.firestore,e.converter,Gv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function Tx(t,e,n){if(typeof(n=dt(n))=="string"){if(n==="")throw new q(k.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Lx(e)&&n.indexOf("/")!==-1)throw new q(k.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(Ke.fromString(n));if(!ie.isDocumentKey(r))throw new q(k.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return JA(t,new ie(r))}if(n instanceof Wt)return JA(t,n._key);throw new q(k.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Vf(n)}.`)}function Sx(t,e){if(!Array.isArray(t)||t.length===0)throw new q(k.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function kM(t,e){let n=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new q(k.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new q(k.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var tw=class{convertValue(e,n="none"){switch(Lo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ge(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(qi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ae()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return zo(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;let o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Ge(s.doubleValue));return new bu(o)}convertGeoPoint(e){return new Cu(Ge(e.latitude),Ge(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=iw(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(pu(e));default:return null}}convertTimestamp(e){let n=ei(e);return new rt(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Ke.fromString(e);Ve(iM(r));let i=new nf(r.get(1),r.get(3)),o=new ie(r.popFirst(5));return i.isEqual(n)||Xr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function FM(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var ko=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},xf=class extends Sf{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new ca(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(Iw("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},ca=class extends xf{data(e={}){return super.data(e)}},Mf=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ko(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ca(this._firestore,this._userDataWriter,r.key,r,new ko(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new q(k.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new ca(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ko(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new ca(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ko(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:z5(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function z5(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ae()}}var Tu=class extends tw{constructor(e){super(),this.firestore=e}convertBytes(e){return new Eu(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Wt(this.firestore,null,n)}};function VM(t){t=Cn(t,Ho);let e=Cn(t.firestore,yr),n=_w(e),r=new Tu(e);return RM(t._query),F5(n,t._query).then(i=>new Mf(e,r,t,i))}function LM(t,e,n){t=Cn(t,Wt);let r=Cn(t.firestore,yr),i=FM(t.converter,e,n);return jf(r,[AM(Lf(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,fr.none())])}function jM(t,e,n,...r){t=Cn(t,Wt);let i=Cn(t.firestore,yr),o=Lf(i),s;return s=typeof(e=dt(e))=="string"||e instanceof Ea?B5(o,"updateDoc",t._key,e,n,r):U5(o,"updateDoc",t._key,e),jf(i,[s.toMutation(t._key,fr.exists(!0))])}function UM(t){return jf(Cn(t.firestore,yr),[new mu(t._key,fr.none())])}function BM(t,e){let n=Cn(t.firestore,yr),r=vw(t),i=FM(t.converter,e);return jf(n,[AM(Lf(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,fr.exists(!1))]).then(()=>r)}function Cw(t,...e){var n,r,i;t=dt(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||Dx(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(Dx(e[s])){let p=e[s];e[s]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(t instanceof Wt)l=Cn(t.firestore,yr),h=cw(t._key.path),u={next:p=>{e[s]&&e[s](q5(l,t,p))},error:e[s+1],complete:e[s+2]};else{let p=Cn(t,Ho);l=Cn(p.firestore,yr),h=p._query;let m=new Tu(l);u={next:y=>{e[s]&&e[s](new Mf(l,m,p,y))},error:e[s+1],complete:e[s+2]},RM(t._query)}return function(m,y,S,N){let P=new Ef(N),V=new vf(y,P,S);return m.asyncQueue.enqueueAndForget(()=>E(this,null,function*(){return fM(yield W_(m),V)})),()=>{P.Za(),m.asyncQueue.enqueueAndForget(()=>E(this,null,function*(){return pM(yield W_(m),V)}))}}(_w(l),h,a,u)}function jf(t,e){return function(r,i){let o=new lr;return r.asyncQueue.enqueueAndForget(()=>E(this,null,function*(){return D5(yield k5(r),i,o)})),o.promise}(_w(t),e)}function q5(t,e,n){let r=n.docs.get(e._key),i=new Tu(t);return new xf(t,i,e._key,r,new ko(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Ia=i})(Fi),jn(new Gt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new yr(new Tv(r.getProvider("auth-internal")),new Mv(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new q(k.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nf(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),We(WA,"4.7.3",e),We(WA,"4.7.3","esm2017")})();var Uf=function(){return Uf=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Uf.apply(this,arguments)};var K5={includeMetadataChanges:!1};function bw(t,e){return e===void 0&&(e=K5),new pe(function(n){var r=Cw(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function $M(t){return bw(t,{includeMetadataChanges:!0})}function HM(t,e){return e===void 0&&(e={}),$M(t).pipe(se(function(n){return Dw(n,e)}))}function Dw(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:Uf(Uf({},r),(n={},n[e.idField]=t.id,n))}function zM(t){return bw(t,{includeMetadataChanges:!0}).pipe(se(function(e){return e.docs}))}function qM(t,e){return e===void 0&&(e={}),zM(t).pipe(se(function(n){return n.map(function(r){return Dw(r,e)})}))}var Kt=class{constructor(e){return e}},GM="firestore",Tw=class{constructor(){return Xs(GM)}};var Sw=new H("angularfire2.firestore-instances");function Q5(t,e){let n=Zs(GM,t,e);return n&&new Kt(n)}function Y5(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Kt(r)}}var J5={provide:Tw,deps:[[new vt,Sw]]},Z5={provide:Kt,useFactory:Q5,deps:[[new vt,Sw],Un]};function WM(t,...e){return We("angularfire",Kr.full,"fst"),sn([Z5,J5,{provide:Sw,useFactory:Y5(t),multi:!0,deps:[Ce,yt,ji,Qr,[new vt,ou],[new vt,Li],...e]}])}var Ru=ht(qM,!0);var KM=ht(HM,!0);var QM=ht(BM,!0);var vr=ht(DM,!0);var YM=ht(UM,!0);var Go=ht(vw,!0);var JM=ht(VM,!0);var ZM=ht(TM,!0);var XM=ht(NM,!0);var Bf=ht(LM,!0);var eP=ht(jM,!0);var tP=ht(OM,!0);var Ki=(()=>{let e=class e{constructor(r){this.firestore=r,this.cartSubject=new mt(this.loadCart()),this.cart$=this.cartSubject.asObservable()}saveCart(r){localStorage.setItem("cart",JSON.stringify(r))}loadCart(){let r=localStorage.getItem("cart");return r?JSON.parse(r):[]}calculateTotal(r){return r.reduce((i,o)=>i+o.product.price*o.quantity,0)}getTotalAmount(){return this.cart$.pipe(se(r=>this.calculateTotal(r)))}getCartItems(){return this.cart$}clearCart(){this.saveCart([]),this.cartSubject.next([])}submitOrder(r){return E(this,null,function*(){let i=vr(this.firestore,"orders");yield QM(i,ye(U({},r),{createdAt:rt.now()})),this.clearCart()})}getCartItemCount(){return this.cart$.pipe(se(r=>r.reduce((i,o)=>i+o.quantity,0)))}addToCart(r){let i=this.loadCart(),o=i.findIndex(s=>s.product.id===r.product.id);o!==-1?i[o].quantity+=r.quantity:i.push(r),this.saveCart(i),this.cartSubject.next(i)}increaseQuantity(r){let i=this.loadCart(),o=i.findIndex(s=>s.product.id===r);o!==-1&&(i[o].quantity+=1,this.saveCart(i),this.cartSubject.next(i))}decreaseQuantity(r){let i=this.loadCart(),o=i.findIndex(s=>s.product.id===r);o!==-1&&i[o].quantity>1&&(i[o].quantity-=1,this.saveCart(i),this.cartSubject.next(i))}removeFromCart(r){let i=this.loadCart();i=i.filter(o=>o.product.id!==r),this.saveCart(i),this.cartSubject.next(i)}checkout(){return this.clearCart(),ne(void 0)}};e.\u0275fac=function(i){return new(i||e)(G(Kt))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function X5(t,e){if(t&1&&(_(0,"span",16),M(1),C()),t&2){let n=W();O(),Fe(n.cartItemCount)}}var Hf=(()=>{let e=class e{constructor(r,i,o){this.router=r,this.cartService=i,this.renderer=o,this.cartItemCount=0,this.isDarkMode=!1}ngOnInit(){this.cartService.getCartItemCount().subscribe(r=>{this.cartItemCount=r}),this.loadTheme()}goToCart(){this.router.navigate(["/cart"]),this.closeNavbar()}toggleDarkMode(){this.isDarkMode=!this.isDarkMode,document.body.classList.toggle("dark-mode",this.isDarkMode),localStorage.setItem("darkMode",this.isDarkMode?"true":"false")}loadTheme(){localStorage.getItem("darkMode")==="true"&&(this.isDarkMode=!0,document.body.classList.add("dark-mode"))}onNavbarToggle(){let r=document.getElementById("navbarNav");r&&(r.classList.contains("show")?this.closeNavbar():this.openNavbar())}openNavbar(){let r=document.getElementById("navbarNav");r&&(this.renderer.addClass(r,"show"),this.renderer.setAttribute(r,"aria-expanded","true"))}closeNavbar(){let r=document.getElementById("navbarNav");r&&(this.renderer.removeClass(r,"show"),this.renderer.setAttribute(r,"aria-expanded","false"))}onOutsideClick(r){let i=r.target,o=document.getElementById("navbarNav"),s=document.querySelector(".navbar-toggler");o&&s&&o.classList.contains("show")&&!o.contains(i)&&!s.contains(i)&&this.closeNavbar()}};e.\u0275fac=function(i){return new(i||e)($(lt),$(Ki),$(cn))},e.\u0275cmp=Ze({type:e,selectors:[["app-header"]],hostBindings:function(i,o){i&1&&L("click",function(a){return o.onOutsideClick(a)},!1,Ob)},standalone:!0,features:[Xe],decls:22,vars:2,consts:[[1,"navbar","navbar-expand-lg","navbar-light","bg-light"],["routerLink","/","routerLinkActive","active",1,"navbar-brand"],["src","./icons/logo.png","alt","Logo",1,"logo"],["type","button","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler",3,"click"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse"],[1,"navbar-nav","ml-auto"],[1,"nav-item"],["routerLink","/","routerLinkActive","active",1,"nav-link",3,"click"],[1,"nav-link",3,"click"],["src","./icons/shopping-cart.svg","alt","Cart",1,"cart-icon"],["class","custom-badge",4,"ngIf"],["routerLink","/admin-login","routerLinkActive","active",1,"nav-link",3,"click"],["id","switch",1,"switch"],["type","checkbox","id","slider",3,"change","checked"],[1,"slider","round"],[1,"custom-badge"]],template:function(i,o){i&1&&(_(0,"nav",0)(1,"a",1),re(2,"img",2),C(),_(3,"button",3),L("click",function(){return o.onNavbarToggle()}),re(4,"span",4),C(),_(5,"div",5)(6,"ul",6)(7,"li",7)(8,"a",8),L("click",function(){return o.closeNavbar()}),M(9,"\u0413\u043E\u043B\u043E\u0432\u043D\u0430"),C()(),_(10,"li",7)(11,"a",9),L("click",function(){return o.goToCart()}),re(12,"img",10),M(13," \u041A\u043E\u0448\u0438\u043A "),De(14,X5,2,1,"span",11),C()(),_(15,"li",7)(16,"a",12),L("click",function(){return o.closeNavbar()}),M(17,"\u0410\u0434\u043C\u0456\u043D"),C()(),_(18,"li",7)(19,"label",13)(20,"input",14),L("change",function(){return o.toggleDarkMode()}),C(),re(21,"span",15),C()()()()()),i&2&&(O(14),X("ngIf",o.cartItemCount>0),O(6),X("checked",o.isDarkMode))},dependencies:[Qs,Ws,mS,_t,Xt],styles:[`.navbar[_ngcontent-%COMP%]{position:fixed;top:0;width:100%;z-index:1000;margin-bottom:0;padding:.5rem 1rem;background-color:#f8f9fa;box-shadow:0 2px 4px #0000001a}body[_ngcontent-%COMP%]{padding-top:70px}.logo[_ngcontent-%COMP%]{height:40px;margin-right:1rem}.navbar-toggler[_ngcontent-%COMP%]{border:none}.navbar-toggler-icon[_ngcontent-%COMP%]{background-image:url("data:image/svg+xml;charset=utf8,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'%3e%3cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M4 6h16M4 12h16M4 18h16' /%3e%3c/svg%3e")}.navbar-nav[_ngcontent-%COMP%]{flex-direction:row;margin-left:auto}.nav-item[_ngcontent-%COMP%]{margin-left:1rem}.nav-link[_ngcontent-%COMP%]{font-weight:700;color:#333;font-size:1rem;padding:.5rem 1rem;transition:color .3s ease}.nav-link[_ngcontent-%COMP%]:hover{color:#007bff;cursor:pointer}.nav-link[_ngcontent-%COMP%]:hover   .cart-icon[_ngcontent-%COMP%]{transform:scale(1.1)}.custom-badge[_ngcontent-%COMP%]{display:inline-block;padding:.25em .4em;font-size:75%;font-weight:700;line-height:1;color:#fff;text-align:center;white-space:nowrap;vertical-align:baseline;border-radius:.2rem;background-color:#dc3545}.cart-icon[_ngcontent-%COMP%]{height:20px;margin-right:.5rem;transition:transform .3s ease}@media (max-width: 992px){.navbar-nav[_ngcontent-%COMP%]{flex-direction:column;text-align:center;padding-top:1rem;margin-top:1rem}.nav-item[_ngcontent-%COMP%]{margin-left:0;margin-bottom:.5rem}.navbar-brand[_ngcontent-%COMP%]{margin-right:auto}}.navbar-collapse[_ngcontent-%COMP%]{max-height:0;transition:max-height .3s ease}.navbar-collapse.collapse.show[_ngcontent-%COMP%]{max-height:500px;transition:max-height .3s ease-in}.navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:1rem;border-bottom:1px solid #ddd}.navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:last-child{border-bottom:none}.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:50px;height:33px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.slider[_ngcontent-%COMP%]{cursor:pointer;inset:0;background-color:#ccc;transition:.4s;border-radius:34px}.slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:26px;width:26px;left:4px;bottom:4px;background:#fff url(https://i.ibb.co/7JfqXxB/sunny.png) no-repeat center;background-size:20px;transition:.4s;border-radius:50%;box-shadow:0 0 15px #2020203d}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:var(--color-primary)}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(26px);background:#fff url(https://i.ibb.co/FxzBYR9/night.png) no-repeat center;background-size:20px}`]});let t=e;return t})();var nP=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ze({type:e,selectors:[["app-footer"]],standalone:!0,features:[Xe],decls:40,vars:0,consts:[[1,"container","footer-container"],[1,"row","footer-row"],[1,"col-12","col-md-6","text-center","mb-4"],[1,"fas","fa-location-arrow"],["href","tel:04737875657",1,"tel"],[1,"fas","fa-mobile-alt"],[1,"col-12","col-md-6","social-section","text-center"],[1,"social-buttons"],["href","https://www.facebook.com/?locale=uk_UA","aria-label","Facebook",1,"btn","social-button","link-facebook"],[1,"fab","fa-facebook"],["href","https://x.com/?lang=uk","aria-label","Twitter",1,"btn","social-button","link-twitter"],[1,"fab","fa-twitter"],["href","https://www.linkedin.com/","aria-label","LinkedIn",1,"btn","social-button","link-linkedin"],[1,"fab","fa-linkedin"],["href","https://instagram.com/","aria-label","Instagram",1,"btn","social-button","link-instagram"],[1,"fab","fa-instagram"],[1,"footer-hr"],[1,"author"],[1,"row","copyright-row"],[1,"col-12","text-center"],[1,"copyright"]],template:function(i,o){i&1&&(_(0,"footer")(1,"div",0)(2,"div",1)(3,"div",2)(4,"address")(5,"strong"),re(6,"i",3),M(7," TERRA"),C(),re(8,"br"),M(9," \u0406\u043D\u0442\u0435\u0440\u043D\u0435\u0442-\u043C\u0430\u0433\u0430\u0437\u0438\u043D \u0442\u0443\u0440\u0438\u0441\u0442\u0438\u0447\u043D\u043E\u0433\u043E \u0441\u043F\u043E\u0440\u044F\u0434\u0436\u0435\u043D\u043D\u044F,"),re(10,"br"),M(11," \u043C. \u0427\u0435\u0440\u043A\u0430\u0441\u0438, \u0432\u0443\u043B. \u0411\u0430\u0439\u0434\u0438 \u0412\u0438\u0448\u043D\u0435\u0432\u0435\u0446\u044C\u043A\u043E\u0433\u043E, 39"),re(12,"br")(13,"br"),_(14,"a",4),re(15,"i",5),_(16,"span"),M(17," 04737875657"),C()()()(),_(18,"div",6)(19,"h4"),M(20,"\u0417\u043D\u0430\u0439\u0434\u0456\u0442\u044C \u043D\u0430\u0441 \u0443 \u0441\u043E\u0446\u043C\u0435\u0440\u0435\u0436\u0430\u0445"),C(),_(21,"div",7)(22,"a",8),re(23,"i",9),C(),_(24,"a",10),re(25,"i",11),C(),_(26,"a",12),re(27,"i",13),C(),_(28,"a",14),re(29,"i",15),C()(),re(30,"hr",16),_(31,"h4",17),M(32," \u0417\u0440\u043E\u0431\u043B\u0435\u043D\u043E \u0437\u0430 \u0434\u043E\u043F\u043E\u043C\u043E\u0433\u043E\u044E "),_(33,"strong"),M(34,"Angular"),C()()()(),_(35,"div",18)(36,"div",19),re(37,"hr",20),_(38,"p"),M(39,"\xA9 2025 TERRA. \u0423\u0441\u0456 \u043F\u0440\u0430\u0432\u0430 \u0437\u0430\u0445\u0438\u0449\u0435\u043D\u0456."),C()()()()())},styles:["footer[_ngcontent-%COMP%]{background-color:#2c3e50;color:#fff;padding:40px 20px;font-size:1rem}footer[_ngcontent-%COMP%]   address[_ngcontent-%COMP%]{margin-bottom:20px;font-style:normal}footer[_ngcontent-%COMP%]   .tel[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;color:#fff;text-decoration:none;font-size:1.2rem;margin-top:10px}footer[_ngcontent-%COMP%]   .tel[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:10px}footer[_ngcontent-%COMP%]   .social-buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-wrap:wrap;gap:15px}footer[_ngcontent-%COMP%]   .social-button[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;display:flex;justify-content:center;align-items:center;font-size:1.5rem;transition:all .3s ease;background-color:#fff;color:#2c3e50;border:none}footer[_ngcontent-%COMP%]   .social-button[_ngcontent-%COMP%]:hover{transform:scale(1.1)}footer[_ngcontent-%COMP%]   .link-facebook[_ngcontent-%COMP%]{color:#3b5998}footer[_ngcontent-%COMP%]   .link-twitter[_ngcontent-%COMP%]{color:#1da1f2}footer[_ngcontent-%COMP%]   .link-linkedin[_ngcontent-%COMP%]{color:#007bb6}footer[_ngcontent-%COMP%]   .link-instagram[_ngcontent-%COMP%]{color:#e95950}footer[_ngcontent-%COMP%]   .link-facebook[_ngcontent-%COMP%]:hover{background-color:#3b5998;color:#fff}footer[_ngcontent-%COMP%]   .link-twitter[_ngcontent-%COMP%]:hover{background-color:#1da1f2;color:#fff}footer[_ngcontent-%COMP%]   .link-linkedin[_ngcontent-%COMP%]:hover{background-color:#007bb6;color:#fff}footer[_ngcontent-%COMP%]   .link-instagram[_ngcontent-%COMP%]:hover{background-color:#e95950;color:#fff}footer[_ngcontent-%COMP%]   .footer-hr[_ngcontent-%COMP%]{border-color:#fff3;margin:20px auto;width:80%}footer[_ngcontent-%COMP%]   .copyright[_ngcontent-%COMP%]{border-color:#fff3}footer[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]{margin-top:20px;letter-spacing:2px}@media (max-width: 768px){footer[_ngcontent-%COMP%]{text-align:center;font-size:.9rem}footer[_ngcontent-%COMP%]   .social-buttons[_ngcontent-%COMP%]{gap:10px}footer[_ngcontent-%COMP%]   .social-button[_ngcontent-%COMP%]{width:40px;height:40px;font-size:1.2rem}}@media (max-width: 576px){footer[_ngcontent-%COMP%]{padding:30px 15px}footer[_ngcontent-%COMP%]   .social-buttons[_ngcontent-%COMP%]{gap:8px}footer[_ngcontent-%COMP%]   .social-button[_ngcontent-%COMP%]{width:35px;height:35px;font-size:1rem}}"]});let t=e;return t})();var xw=new Map,uP={activated:!1,tokenObservers:[]},eH={initialized:!1,enabled:!1};function wt(t){return xw.get(t)||Object.assign({},uP)}function tH(t,e){return xw.set(t,e),xw.get(t)}function Kf(){return eH}var lP="https://content-firebaseappcheck.googleapis.com/v1",nH="exchangeRecaptchaV3Token";var rH="exchangeDebugToken",rP={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},iH=24*60*60*1e3;var Mw=class{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return E(this,null,function*(){this.stop();try{this.pending=new qr,this.pending.promise.catch(n=>{}),yield oH(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new qr,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function oH(t){return new Promise(e=>{setTimeout(e,t)})}var sH={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},en=new Ln("appCheck","AppCheck",sH);function iP(t=!1){var e;return t?(e=self.grecaptcha)===null||e===void 0?void 0:e.enterprise:self.grecaptcha}function Rw(t){if(!wt(t).activated)throw en.create("use-before-activation",{appName:t.name})}function dP(t){let e=Math.round(t/1e3),n=Math.floor(e/(3600*24)),r=Math.floor((e-n*3600*24)/3600),i=Math.floor((e-n*3600*24-r*3600)/60),o=e-n*3600*24-r*3600-i*60,s="";return n&&(s+=zf(n)+"d:"),r&&(s+=zf(r)+"h:"),s+=zf(i)+"m:"+zf(o)+"s",s}function zf(t){return t===0?"00":t>=10?t.toString():"0"+t}function Nw(r,i){return E(this,arguments,function*({url:t,body:e},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let y=yield s.getHeartbeatsHeader();y&&(o["X-Firebase-Client"]=y)}let a={method:"POST",body:JSON.stringify(e),headers:o},u;try{u=yield fetch(t,a)}catch(y){throw en.create("fetch-network-error",{originalErrorMessage:y?.message})}if(u.status!==200)throw en.create("fetch-status-error",{httpStatus:u.status});let l;try{l=yield u.json()}catch(y){throw en.create("fetch-parse-error",{originalErrorMessage:y?.message})}let h=l.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw en.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let p=Number(h[1])*1e3,m=Date.now();return{token:l.token,expireTimeMillis:m+p,issuedAtTimeMillis:m}})}function aH(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${lP}/projects/${n}/apps/${r}:${nH}?key=${i}`,body:{recaptcha_v3_token:e}}}function hP(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${lP}/projects/${n}/apps/${r}:${rH}?key=${i}`,body:{debug_token:e}}}var cH="firebase-app-check-database",uH=1,Ou="firebase-app-check-store",fP="debug-token",qf=null;function pP(){return qf||(qf=new Promise((t,e)=>{try{let n=indexedDB.open(cH,uH);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(en.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Ou,{keyPath:"compositeKey"})}}}catch(n){e(en.create("storage-open",{originalErrorMessage:n?.message}))}}),qf)}function lH(t){return mP(yP(t))}function dH(t,e){return gP(yP(t),e)}function hH(t){return gP(fP,t)}function fH(){return mP(fP)}function gP(t,e){return E(this,null,function*(){let r=(yield pP()).transaction(Ou,"readwrite"),o=r.objectStore(Ou).put({compositeKey:t,value:e});return new Promise((s,a)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;a(en.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})})}function mP(t){return E(this,null,function*(){let n=(yield pP()).transaction(Ou,"readonly"),i=n.objectStore(Ou).get(t);return new Promise((o,s)=>{i.onsuccess=a=>{let u=a.target.result;o(u?u.value:void 0)},n.onerror=a=>{var u;s(en.create("storage-get",{originalErrorMessage:(u=a.target.error)===null||u===void 0?void 0:u.message}))}})})}function yP(t){return`${t.options.appId}-${t.name}`}var ku=new sr("@firebase/app-check");function pH(t){return E(this,null,function*(){if(Ys()){let e;try{e=yield lH(t)}catch(n){ku.warn(`Failed to read token from IndexedDB. Error: ${n}`)}return e}})}function Aw(t,e){return Ys()?dH(t,e).catch(n=>{ku.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function gH(){return E(this,null,function*(){let t;try{t=yield fH()}catch{}if(t)return t;{let e=FS();return hH(e).catch(n=>ku.warn(`Failed to persist debug token to IndexedDB. Error: ${n}`)),e}})}function Ow(){return Kf().enabled}function kw(){return E(this,null,function*(){let t=Kf();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}function mH(){let t=d0(),e=Kf();if(e.initialized=!0,typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN!="string"&&t.FIREBASE_APPCHECK_DEBUG_TOKEN!==!0)return;e.enabled=!0;let n=new qr;e.token=n,typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN=="string"?n.resolve(t.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(gH())}var yH={error:"UNKNOWN_ERROR"};function vH(t){return Eh.encodeString(JSON.stringify(t),!1)}function Gf(t,e=!1){return E(this,null,function*(){let n=t.app;Rw(n);let r=wt(n),i=r.token,o;if(i&&!ba(i)&&(r.token=void 0,i=void 0),!i){let u=yield r.cachedTokenPromise;u&&(ba(u)?i=u:yield Aw(n,void 0))}if(!e&&i&&ba(i))return{token:i.token};let s=!1;if(Ow()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Nw(hP(n,yield kw()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),s=!0);let u=yield r.exchangeTokenPromise;return yield Aw(n,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),s=!0),i=yield wt(n).exchangeTokenPromise}catch(u){u.code==="appCheck/throttled"?ku.warn(u.message):ku.error(u),o=u}let a;return i?o?ba(i)?a={token:i.token,internalError:o}:a=sP(o):(a={token:i.token},r.token=i,yield Aw(n,i)):a=sP(o),s&&wP(n,a),a})}function _H(t){return E(this,null,function*(){let e=t.app;Rw(e);let{provider:n}=wt(e);if(Ow()){let r=yield kw(),{token:i}=yield Nw(hP(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield n.getToken();return{token:r}}})}function vP(t,e,n,r){let{app:i}=t,o=wt(i),s={next:n,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&ba(o.token)){let a=o.token;Promise.resolve().then(()=>{n({token:a.token}),oP(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>oP(t))}function _P(t,e){let n=wt(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function oP(t){let{app:e}=t,n=wt(e),r=n.tokenRefresher;r||(r=wH(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function wH(t){let{app:e}=t;return new Mw(()=>E(this,null,function*(){let n=wt(e),r;if(n.token?r=yield Gf(t,!0):r=yield Gf(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=wt(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},rP.RETRIAL_MIN_WAIT,rP.RETRIAL_MAX_WAIT)}function wP(t,e){let n=wt(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function ba(t){return t.expireTimeMillis-Date.now()>0}function sP(t){return{token:vH(yH),error:t}}var Pw=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=wt(this.app);for(let n of e)_P(this.app,n.next);return Promise.resolve()}};function EH(t,e){return new Pw(t,e)}function IH(t){return{getToken:e=>Gf(t,e),getLimitedUseToken:()=>_H(t),addTokenListener:e=>vP(t,"INTERNAL",e),removeTokenListener:e=>_P(t.app,e)}}var CH="@firebase/app-check",bH="0.8.8";var DH="https://www.google.com/recaptcha/api.js";function TH(t,e){let n=new qr,r=wt(t);r.reCAPTCHAState={initialized:n};let i=SH(t),o=iP(!1);return o?aP(t,e,o,i,n):MH(()=>{let s=iP(!1);if(!s)throw new Error("no recaptcha");aP(t,e,s,i,n)}),n.promise}function aP(t,e,n,r,i){n.ready(()=>{xH(t,e,n,r),i.resolve(n)})}function SH(t){let e=`fire_app_check_${t.name}`,n=document.createElement("div");return n.id=e,n.style.display="none",document.body.appendChild(n),e}function AH(t){return E(this,null,function*(){Rw(t);let n=yield wt(t).reCAPTCHAState.initialized.promise;return new Promise((r,i)=>{let o=wt(t).reCAPTCHAState;n.ready(()=>{r(n.execute(o.widgetId,{action:"fire_app_check"}))})})})}function xH(t,e,n,r){let i=n.render(r,{sitekey:e,size:"invisible",callback:()=>{wt(t).reCAPTCHAState.succeeded=!0},"error-callback":()=>{wt(t).reCAPTCHAState.succeeded=!1}}),o=wt(t);o.reCAPTCHAState=Object.assign(Object.assign({},o.reCAPTCHAState),{widgetId:i})}function MH(t){let e=document.createElement("script");e.src=DH,e.onload=t,document.head.appendChild(e)}var Wf=class t{constructor(e){this._siteKey=e,this._throttleData=null}getToken(){return E(this,null,function*(){var e,n,r;RH(this._throttleData);let i=yield AH(this._app).catch(s=>{throw en.create("recaptcha-error")});if(!(!((e=wt(this._app).reCAPTCHAState)===null||e===void 0)&&e.succeeded))throw en.create("recaptcha-error");let o;try{o=yield Nw(aH(this._app,i),this._heartbeatServiceProvider)}catch(s){throw!((n=s.code)===null||n===void 0)&&n.includes("fetch-status-error")?(this._throttleData=PH(Number((r=s.customData)===null||r===void 0?void 0:r.httpStatus),this._throttleData),en.create("throttled",{time:dP(this._throttleData.allowRequestsAfter-Date.now()),httpStatus:this._throttleData.httpStatus})):s}return this._throttleData=null,o})}initialize(e){this._app=e,this._heartbeatServiceProvider=ki(e,"heartbeat"),TH(e,this._siteKey).catch(()=>{})}isEqual(e){return e instanceof t?this._siteKey===e._siteKey:!1}};function PH(t,e){if(t===404||t===403)return{backoffCount:1,allowRequestsAfter:Date.now()+iH,httpStatus:t};{let n=e?e.backoffCount:0,r=VS(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+r,httpStatus:t}}}function RH(t){if(t&&Date.now()-t.allowRequestsAfter<=0)throw en.create("throttled",{time:dP(t.allowRequestsAfter-Date.now()),httpStatus:t.httpStatus})}function EP(t=Vi(),e){t=dt(t);let n=ki(t,"app-check");if(Kf().initialized||mH(),Ow()&&kw().then(i=>console.log(`App Check debug token: ${i}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(o.isTokenAutoRefreshEnabled===e.isTokenAutoRefreshEnabled&&o.provider.isEqual(e.provider))return i;throw en.create("already-initialized",{appName:t.name})}let r=n.initialize({options:e});return NH(t,e.provider,e.isTokenAutoRefreshEnabled),wt(t).isTokenAutoRefreshEnabled&&vP(r,"INTERNAL",()=>{}),r}function NH(t,e,n){let r=tH(t,Object.assign({},uP));r.activated=!0,r.provider=e,r.cachedTokenPromise=pH(t).then(i=>(i&&ba(i)&&(r.token=i,wP(t,{token:i.token})),i)),r.isTokenAutoRefreshEnabled=n===void 0?t.automaticDataCollectionEnabled:n,r.provider.initialize(t)}function IP(t,e){return E(this,null,function*(){let n=yield Gf(t,e);if(n.error)throw n.error;return{token:n.token}})}var OH="app-check",cP="app-check-internal";function kH(){jn(new Gt(OH,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return EH(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(cP).initialize()})),jn(new Gt(cP,t=>{let e=t.getProvider("app-check").getImmediate();return IH(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),We(CH,bH)}kH();var Wo=class{constructor(e){return e}};var Fw=new H("angularfire2.app-check-instances");function FH(t,e){let n=Zs(P0,t,e);return n&&new Wo(n)}var VH=["localhost","0.0.0.0","127.0.0.1"],LH=typeof window<"u"&&VH.includes(window.location.hostname);function jH(t){return(e,n,r)=>{!Fs(r)&&(BD()||LH)&&(globalThis.FIREBASE_APPCHECK_DEBUG_TOKEN??=!0);let i=e.runOutsideAngular(()=>t(n));return new Wo(i)}}var UH={provide:Li,deps:[[new vt,Fw]]},BH={provide:Wo,useFactory:FH,deps:[[new vt,Fw],Un,St]};function CP(t,...e){return We("angularfire",Kr.full,"app-check"),sn([BH,UH,{provide:Fw,useFactory:jH(t),multi:!0,deps:[Ce,yt,St,ji,Qr,...e]}])}var bP=ht(IP,!0),DP=ht(EP,!0);var TP=(()=>{let e=class e{constructor(r){this.appCheck=r}ngOnInit(){this.logAppCheckToken()}logAppCheckToken(){bP(this.appCheck).then(r=>{}).catch(r=>{console.error("Error getting App Check Token:",r)})}};e.\u0275fac=function(i){return new(i||e)($(Wo))},e.\u0275cmp=Ze({type:e,selectors:[["app-root"]],standalone:!0,features:[Xe],decls:3,vars:0,template:function(i,o){i&1&&re(0,"app-header")(1,"router-outlet")(2,"app-footer")},dependencies:[Qs,e0,_t,Hf,nP,_T]});let t=e;return t})();var FP=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)($(cn),$(zt))},e.\u0275dir=qe({type:e});let t=e;return t})(),$u=(()=>{let e=class e extends FP{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=tr(e)))(o||e)}})(),e.\u0275dir=qe({type:e,features:[un]});let t=e;return t})(),xa=new H(""),HH={provide:xa,useExisting:Pn(()=>Lw),multi:!0},Lw=(()=>{let e=class e extends $u{writeValue(r){this.setProperty("checked",r)}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=tr(e)))(o||e)}})(),e.\u0275dir=qe({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,o){i&1&&L("change",function(a){return o.onChange(a.target.checked)})("blur",function(){return o.onTouched()})},features:[Fr([HH]),un]});let t=e;return t})(),zH={provide:xa,useExisting:Pn(()=>bn),multi:!0};function qH(){let t=Ur()?Ur().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var GH=new H(""),bn=(()=>{let e=class e extends FP{constructor(r,i,o){super(r,i),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!qH())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)($(cn),$(zt),$(GH,8))},e.\u0275dir=qe({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&L("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[Fr([zH]),un]});let t=e;return t})();function WH(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}var jw=new H(""),VP=new H("");function KH(t){return WH(t.value)?{required:!0}:null}function SP(t){return null}function LP(t){return t!=null}function jP(t){return Eo(t)?Ue(t):t}function UP(t){let e={};return t.forEach(n=>{e=n!=null?U(U({},e),n):e}),Object.keys(e).length===0?null:e}function BP(t,e){return e.map(n=>n(t))}function QH(t){return!t.validate}function $P(t){return t.map(e=>QH(e)?e:n=>e.validate(n))}function YH(t){if(!t)return null;let e=t.filter(LP);return e.length==0?null:function(n){return UP(BP(n,e))}}function Uw(t){return t!=null?YH($P(t)):null}function JH(t){if(!t)return null;let e=t.filter(LP);return e.length==0?null:function(n){let r=BP(n,e).map(jP);return Jp(r).pipe(se(UP))}}function Bw(t){return t!=null?JH($P(t)):null}function AP(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function ZH(t){return t._rawValidators}function XH(t){return t._rawAsyncValidators}function Vw(t){return t?Array.isArray(t)?t:[t]:[]}function Yf(t,e){return Array.isArray(t)?t.includes(e):t===e}function xP(t,e){let n=Vw(e);return Vw(t).forEach(i=>{Yf(n,i)||n.push(i)}),n}function MP(t,e){return Vw(e).filter(n=>!Yf(t,n))}var Jf=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Uw(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Bw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Sa=class extends Jf{get formDirective(){return null}get path(){return null}},Bu=class extends Jf{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Zf=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},ez={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},RX=ye(U({},ez),{"[class.ng-submitted]":"isSubmitted"}),_r=(()=>{let e=class e extends Zf{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)($(Bu,2))},e.\u0275dir=qe({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&Zt("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[un]});let t=e;return t})(),Ma=(()=>{let e=class e extends Zf{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)($(Sa,10))},e.\u0275dir=qe({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,o){i&2&&Zt("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[un]});let t=e;return t})();var Fu="VALID",Qf="INVALID",Da="PENDING",Vu="DISABLED",Aa=class{},Xf=class extends Aa{constructor(e,n){super(),this.value=e,this.source=n}},ju=class extends Aa{constructor(e,n){super(),this.pristine=e,this.source=n}},Uu=class extends Aa{constructor(e,n){super(),this.touched=e,this.source=n}},Ta=class extends Aa{constructor(e,n){super(),this.status=e,this.source=n}};function HP(t){return(np(t)?t.validators:t)||null}function tz(t){return Array.isArray(t)?Uw(t):t||null}function zP(t,e){return(np(e)?e.asyncValidators:t)||null}function nz(t){return Array.isArray(t)?Bw(t):t||null}function np(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function rz(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new Z(1e3,"");if(!r[n])throw new Z(1001,"")}function iz(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new Z(1002,"")})}var ep=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._events=new Et,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Fu}get invalid(){return this.status===Qf}get pending(){return this.status==Da}get disabled(){return this.status===Vu}get enabled(){return this.status!==Vu}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(xP(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(xP(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(MP(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(MP(e,this._rawAsyncValidators))}hasValidator(e){return Yf(this._rawValidators,e)}hasAsyncValidator(e){return Yf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ye(U({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Uu(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new Uu(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ye(U({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new ju(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new ju(!0,r))}markAsPending(e={}){this.status=Da;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ta(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ye(U({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Vu,this.errors=null,this._forEachChild(i=>{i.disable(ye(U({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Xf(this.value,r)),this._events.next(new Ta(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ye(U({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Fu,this._forEachChild(r=>{r.enable(ye(U({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ye(U({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Fu||this.status===Da)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Xf(this.value,n)),this._events.next(new Ta(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ye(U({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Vu:Fu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Da,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=jP(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Ta(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new Je,this.statusChanges=new Je}_calculateStatus(){return this._allControlsDisabled()?Vu:this.errors?Qf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Da)?Da:this._anyControlsHaveStatus(Qf)?Qf:Fu}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new ju(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new Uu(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){np(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=tz(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=nz(this._rawAsyncValidators)}},tp=class extends ep{constructor(e,n,r){super(HP(n),zP(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){iz(this,!0,e),Object.keys(e).forEach(r=>{rz(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var $w=new H("CallSetDisabledState",{providedIn:"root",factory:()=>Hw}),Hw="always";function oz(t,e){return[...e.path,t]}function qP(t,e,n=Hw){GP(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),az(t,e),uz(t,e),cz(t,e),sz(t,e)}function PP(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function sz(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function GP(t,e){let n=ZH(t);e.validator!==null?t.setValidators(AP(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=XH(t);e.asyncValidator!==null?t.setAsyncValidators(AP(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();PP(e._rawValidators,i),PP(e._rawAsyncValidators,i)}function az(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&WP(t,e)})}function cz(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&WP(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function WP(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function uz(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function lz(t,e){t==null,GP(t,e)}function dz(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function hz(t){return Object.getPrototypeOf(t.constructor)===$u}function fz(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function pz(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===bn?n=o:hz(o)?r=o:i=o}),i||r||n||null}var gz={provide:Sa,useExisting:Pn(()=>Ko)},Lu=Promise.resolve(),Ko=(()=>{let e=class e extends Sa{constructor(r,i,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Je,this.form=new tp({},Uw(r),Bw(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){Lu.then(()=>{let i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),qP(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){Lu.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){Lu.then(()=>{let i=this._findContainer(r.path),o=new tp({});lz(o,r),i.registerControl(r.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){Lu.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){Lu.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submitted=!0,fz(this.form,this._directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}};e.\u0275fac=function(i){return new(i||e)($(jw,10),$(VP,10),$($w,8))},e.\u0275dir=qe({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,o){i&1&&L("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Fr([gz]),un]});let t=e;return t})();function RP(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function NP(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var mz=class extends ep{constructor(e=null,n,r){super(HP(n),zP(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),np(n)&&(n.nonNullable||n.initialValueIsDefault)&&(NP(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){RP(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){RP(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){NP(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var yz={provide:Bu,useExisting:Pn(()=>Hn)},OP=Promise.resolve(),Hn=(()=>{let e=class e extends Bu{constructor(r,i,o,s,a,u){super(),this._changeDetectorRef=a,this.callSetDisabledState=u,this.control=new mz,this._registered=!1,this.name="",this.update=new Je,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=pz(this,s)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),dz(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){qP(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){OP.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,o=i!==0&&Di(i);OP.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?oz(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)($(Sa,9),$(jw,10),$(VP,10),$(xa,10),$(bi,8),$($w,8))},e.\u0275dir=qe({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Fr([yz]),un,Nr]});let t=e;return t})(),Pa=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=qe({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})(),vz={provide:xa,useExisting:Pn(()=>zw),multi:!0},zw=(()=>{let e=class e extends $u{writeValue(r){let i=r??"";this.setProperty("value",i)}registerOnChange(r){this.onChange=i=>{r(i==""?null:parseFloat(i))}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=tr(e)))(o||e)}})(),e.\u0275dir=qe({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,o){i&1&&L("input",function(a){return o.onChange(a.target.value)})("blur",function(){return o.onTouched()})},features:[Fr([vz]),un]});let t=e;return t})();var _z={provide:xa,useExisting:Pn(()=>Qi),multi:!0};function KP(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function wz(t){return t.split(":")[0]}var Qi=(()=>{let e=class e extends $u{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i=this._getOptionId(r),o=KP(i,r);this.setProperty("value",o)}registerOnChange(r){this.onChange=i=>{this.value=this._getOptionValue(i),r(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),r))return i;return null}_getOptionValue(r){let i=wz(r);return this._optionMap.has(i)?this._optionMap.get(i):r}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=tr(e)))(o||e)}})(),e.\u0275dir=qe({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,o){i&1&&L("change",function(a){return o.onChange(a.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[Fr([_z]),un]});let t=e;return t})(),Ra=(()=>{let e=class e{constructor(r,i,o){this._element=r,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(r){this._select!=null&&(this._select._optionMap.set(this.id,r),this._setElementValue(KP(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._setElementValue(r),this._select&&this._select.writeValue(this._select.value)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)($(zt),$(cn),$(Qi,9))},e.\u0275dir=qe({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})(),Ez={provide:xa,useExisting:Pn(()=>QP),multi:!0};function kP(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function Iz(t){return t.split(":")[0]}var QP=(()=>{let e=class e extends $u{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i;if(Array.isArray(r)){let o=r.map(s=>this._getOptionId(s));i=(s,a)=>{s._setSelected(o.indexOf(a.toString())>-1)}}else i=(o,s)=>{o._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(r){this.onChange=i=>{let o=[],s=i.selectedOptions;if(s!==void 0){let a=s;for(let u=0;u<a.length;u++){let l=a[u],h=this._getOptionValue(l.value);o.push(h)}}else{let a=i.options;for(let u=0;u<a.length;u++){let l=a[u];if(l.selected){let h=this._getOptionValue(l.value);o.push(h)}}}this.value=o,r(o)}}_registerOption(r){let i=(this._idCounter++).toString();return this._optionMap.set(i,r),i}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,r))return i;return null}_getOptionValue(r){let i=Iz(r);return this._optionMap.has(i)?this._optionMap.get(i)._value:r}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=tr(e)))(o||e)}})(),e.\u0275dir=qe({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,o){i&1&&L("change",function(a){return o.onChange(a.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[Fr([Ez]),un]});let t=e;return t})(),Na=(()=>{let e=class e{constructor(r,i,o){this._element=r,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(r){this._select!=null&&(this._value=r,this._setElementValue(kP(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._select?(this._value=r,this._setElementValue(kP(this.id,r)),this._select.writeValue(this._select.value)):this._setElementValue(r)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}_setSelected(r){this._renderer.setProperty(this._element.nativeElement,"selected",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)($(zt),$(cn),$(QP,9))},e.\u0275dir=qe({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})();var Cz=(()=>{let e=class e{constructor(){this._validator=SP}ngOnChanges(r){if(this.inputName in r){let i=this.normalizeInput(r[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):SP,this._onChange&&this._onChange()}}validate(r){return this._validator(r)}registerOnValidatorChange(r){this._onChange=r}enabled(r){return r!=null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=qe({type:e,features:[Nr]});let t=e;return t})();var bz={provide:jw,useExisting:Pn(()=>Qo),multi:!0};var Qo=(()=>{let e=class e extends Cz{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Di,this.createValidator=r=>KH}enabled(r){return r}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=tr(e)))(o||e)}})(),e.\u0275dir=qe({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,o){i&2&&gc("required",o._enabled?"":null)},inputs:{required:"required"},features:[Fr([bz]),un]});let t=e;return t})();var Dz=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Xn({type:e}),e.\u0275inj=Zn({});let t=e;return t})();var wr=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:$w,useValue:r.callSetDisabledState??Hw}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Xn({type:e}),e.\u0275inj=Zn({imports:[Dz]});let t=e;return t})();var Tz=["slides"];function Sz(t,e){if(t&1){let n=ct();_(0,"a",10),L("click",function(){K(n);let i=W();return Q(i.onClickLeft())}),re(1,"span",11),C()}}function Az(t,e){if(t&1){let n=ct();_(0,"a",12),L("click",function(){K(n);let i=W();return Q(i.onClickRight())}),re(1,"span",13),C()}}var YP=(()=>{let e=class e{constructor(r){this.platformId=r,this.intervalForSlider=5e3,this.withBackground=!1,this.showArrows=!0,this.currentIndex=0}ngAfterViewInit(){cy(this.platformId)&&(this.autoSlideSub=Zp(this.intervalForSlider).subscribe(()=>this.autoSlide()))}autoSlide(){let i=this.slides.nativeElement.querySelectorAll(".carousel-item");i[this.currentIndex].classList.remove("active"),this.currentIndex=(this.currentIndex+1)%i.length,i[this.currentIndex].classList.add("active")}onClickLeft(){let i=this.slides.nativeElement.querySelectorAll(".carousel-item");i[this.currentIndex].classList.remove("active"),this.currentIndex=(this.currentIndex-1+i.length)%i.length,i[this.currentIndex].classList.add("active")}onClickRight(){this.autoSlide()}ngOnDestroy(){this.autoSlideSub&&this.autoSlideSub.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)($(St))},e.\u0275cmp=Ze({type:e,selectors:[["app-carousel"]],viewQuery:function(i,o){if(i&1&&PD(Tz,5),i&2){let s;Pd(s=Rd())&&(o.slides=s.first)}},inputs:{intervalForSlider:"intervalForSlider",withBackground:"withBackground",showArrows:"showArrows"},standalone:!0,features:[Xe],decls:11,vars:2,consts:[["slides",""],["id","carouselExampleIndicators",1,"carousel","slide"],[1,"carousel-inner"],[1,"carousel-item","active"],["src","./slide/slide1.jpg","alt","Slide 1",1,"d-block","w-100"],[1,"carousel-item"],["src","./slide/slide2.jpg","alt","Slide 2",1,"d-block","w-100"],["src","./slide/slide3.jpg","alt","Slide 3",1,"d-block","w-100"],["class","carousel-control-prev","role","button",3,"click",4,"ngIf"],["class","carousel-control-next","role","button",3,"click",4,"ngIf"],["role","button",1,"carousel-control-prev",3,"click"],["aria-hidden","true",1,"carousel-control-prev-icon"],["role","button",1,"carousel-control-next",3,"click"],["aria-hidden","true",1,"carousel-control-next-icon"]],template:function(i,o){i&1&&(_(0,"div",1)(1,"div",2,0)(3,"div",3),re(4,"img",4),C(),_(5,"div",5),re(6,"img",6),C(),_(7,"div",5),re(8,"img",7),C()(),De(9,Sz,2,0,"a",8)(10,Az,2,0,"a",9),C()),i&2&&(O(9),X("ngIf",o.showArrows),O(),X("ngIf",o.showArrows))},dependencies:[_t,Xt],styles:[".carousel-inner[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;overflow:hidden}.carousel-item[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0;opacity:0;transition:transform 1s ease-in}.carousel-item.active[_ngcontent-%COMP%]{opacity:1;position:relative}.carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:50vh;width:100%;object-fit:cover}@media (max-width: 992px){.carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:calc(100vh - 56px)}}@media (max-width: 576px){.carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:calc(50vh - 56px)}}"]});let t=e;return t})();var Oa=(()=>{let e=class e{constructor(r){this.firestore=r,this.collectionName="products",this.commentsCollectionName="comments"}getProducts(){let r=vr(this.firestore,this.collectionName);return Ru(r,{idField:"id"})}getProductById(r){let i=Go(this.firestore,`${this.collectionName}/${r}`);return KM(i,{idField:"id"})}getComments(r){let i=vr(this.firestore,`${this.collectionName}/${r}/${this.commentsCollectionName}`);return Ru(i,{idField:"id"})}addComment(r,i){let o=["\u043A\u043E\u043A\u043E\u0441","\u0431\u0430\u043D\u0430\u043D","\u043F\u043E\u0433\u0430\u043D\u0438\u0439","@"],s=i.replace(new RegExp(`(${o.map(l=>l.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")).join("|")})`,"gi"),l=>"*".repeat(l.length)),a=vr(this.firestore,`${this.collectionName}/${r}/${this.commentsCollectionName}`),u=Go(this.firestore,`${this.collectionName}/${r}/${this.commentsCollectionName}/${Date.now()}`);return Bf(u,{text:s,timestamp:new Date().toISOString()})}};e.\u0275fac=function(i){return new(i||e)(G(Kt))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var JP=t=>({disabled:t}),xz=t=>({active:t});function Mz(t,e){t&1&&re(0,"i",49)}function Pz(t,e){t&1&&re(0,"i",50)}function Rz(t,e){if(t&1){let n=ct();_(0,"div",38)(1,"div",39),re(2,"img",40),_(3,"div",41)(4,"h5",42),M(5),C(),_(6,"p",43),M(7),C(),_(8,"div",44)(9,"button",45),L("click",function(){let i=K(n).$implicit,o=W();return Q(o.viewProduct(i.id))}),M(10,"\u041F\u0435\u0440\u0435\u0439\u0442\u0438 \u0434\u043E \u0442\u043E\u0432\u0430\u0440\u0443"),C(),_(11,"button",46),L("click",function(){let i=K(n).$implicit,o=W();return Q(o.toggleCart(i))}),De(12,Mz,1,0,"i",47)(13,Pz,1,0,"i",48),C()()()()()}if(t&2){let n=e.$implicit,r=W();O(2),kr("alt",n.name),X("src",n.imageUrl,Nn),O(3),Fe(n.name),O(2),rr("",n.price," ",r.currency,""),O(4),Zt("added",r.isProductInCart(n)),O(),X("ngIf",r.isProductInCart(n)),O(),X("ngIf",!r.isProductInCart(n))}}function Nz(t,e){if(t&1&&(_(0,"option",51),M(1),C()),t&2){let n=e.$implicit;X("value",n),O(),Fe(n)}}function Oz(t,e){if(t&1){let n=ct();_(0,"li",27)(1,"a",52),L("click",function(){let i=K(n).$implicit,o=W();return Q(o.changePage(i))}),M(2),C()()}if(t&2){let n=e.$implicit,r=W();X("ngClass",Ns(2,xz,n===r.currentPage)),O(2),Fe(n)}}var ZP=(()=>{let e=class e{constructor(r,i,o){this.productService=r,this.router=i,this.cartService=o,this.products=[],this.filteredProducts=[],this.searchText="",this.currency="\u20B4",this.itemsPerPage=8,this.currentPage=1,this.totalPages=1,this.pages=[],this.itemsPerPageOptions=[10,20,50],this.categories=["\u041B\u0456\u0445\u0442\u0430\u0440\u0438\u043A\u0438","\u0420\u043E\u0437\u0443\u043C\u043D\u0456 \u0433\u043E\u0434\u0438\u043D\u043D\u0438\u043A\u0438","\u041D\u0430\u0432\u0443\u0448\u043D\u0438\u043A\u0438","\u0422\u0443\u0440\u0438\u0441\u0442\u0438\u0447\u043D\u0456 \u041A\u0430\u043C\u0435\u0440\u0438","\u041D\u0430\u043C\u0435\u0442\u0438"],this.selectedCategory="all",this.isSidebarVisible=!1,this.isSidebarPinned=!1,this.addedProducts=new Set}ngOnInit(){this.loadProducts(),this.adjustItemsPerPage(),window.addEventListener("resize",()=>this.adjustItemsPerPage())}toggleCart(r){if(this.isProductInCart(r))this.addedProducts.delete(r.id);else{let i={product:r,quantity:1};this.cartService.addToCart(i),this.addedProducts.add(r.id)}}isProductInCart(r){return this.addedProducts.has(r.id)}addToCart(r){let i={product:r,quantity:1};this.cartService.addToCart(i)}adjustItemsPerPage(){let r=window.innerWidth;r<576?this.itemsPerPage=2:r<768?this.itemsPerPage=4:this.itemsPerPage=8,this.updatePagination()}toggleSidebar(){this.isSidebarVisible=!this.isSidebarVisible,(this.isSidebarPinned||window.innerWidth<576)&&(this.isSidebarPinned=!1)}updateSidebarMode(){this.isSidebarPinned?this.isSidebarVisible=!0:this.isSidebarVisible=!1}loadProducts(){this.productService.getProducts().subscribe(r=>{this.products=r,this.applyFilters()})}getPaginatedProducts(){if(window.innerWidth<576)return this.filteredProducts;{let r=(this.currentPage-1)*this.itemsPerPage,i=this.currentPage*this.itemsPerPage;return this.filteredProducts.slice(r,i)}}updatePagination(){this.totalPages=Math.ceil(this.filteredProducts.length/this.itemsPerPage),this.pages=Array.from({length:this.totalPages},(r,i)=>i+1)}onSearchTextChange(){this.applyFilters(),this.updatePagination(),this.currentPage=1}filterByCategory(r){this.selectedCategory=r,this.applyFilters(),this.updatePagination(),this.currentPage=1}applyFilters(){let r=this.products;this.selectedCategory!=="all"&&(r=r.filter(i=>i.category===this.selectedCategory)),this.searchText&&(r=r.filter(i=>i.name.toLowerCase().includes(this.searchText.toLowerCase()))),this.filteredProducts=r,this.updatePagination(),this.currentPage=1}changePage(r){r>=1&&r<=this.totalPages&&(this.currentPage=r)}onItemsPerPageChange(){this.updatePagination(),this.currentPage=1}viewProduct(r){this.router.navigate([`/product/${r}`])}scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})}scrollToBottom(){window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"})}onOutsideClick(r){let i=r.target,o=document.querySelector(".sidebar"),s=document.querySelector(".sidebar-toggle");o&&!o.contains(i)&&s&&!s.contains(i)&&(this.isSidebarPinned||(this.isSidebarVisible=!1))}};e.\u0275fac=function(i){return new(i||e)($(Oa),$(lt),$(Ki))},e.\u0275cmp=Ze({type:e,selectors:[["app-home"]],standalone:!0,features:[Xe],decls:71,vars:19,consts:[[1,"container-fluid","mt-4"],["type","search","placeholder","\u0424\u0456\u043B\u044C\u0442\u0440 \u0437\u0430 \u043D\u0430\u0437\u0432\u043E\u044E","aria-label","Search",1,"form-control","mb-4","mt-4",3,"ngModelChange","ngModel"],[1,"sidebar-toggle",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","50","height","50","viewBox","0 0 100 100"],["x","0","y","0","width","100","height","100","rx","15","fill","#f0f0f0"],["x","15","y","15","width","25","height","70","rx","8","fill","#ffffff"],["cx","27.5","cy","30","r","4","fill","#ff6347"],["cx","27.5","cy","50","r","4","fill","#4682b4"],["cx","27.5","cy","70","r","4","fill","#32cd32"],["x","45","y","15","width","40","height","70","rx","8","fill","#ffffff"],["x","50","y","25","width","30","height","6","rx","2","fill","#d3d3d3"],["x","50","y","45","width","30","height","6","rx","2","fill","#d3d3d3"],["x","50","y","65","width","30","height","6","rx","2","fill","#d3d3d3"],[1,"container-fluid","mt-4",3,"click"],[1,"sidebar"],[1,"sidebar-header"],[1,"pin-sidebar-option"],[1,"btn","btn-outline-primary",3,"click"],[1,"text-center","mb-4"],[1,"row","product-list"],["class","col-12 col-sm-6 col-md-4 col-lg-3 mb-4",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-center","my-3"],["for","itemsPerPage",1,"me-2"],["id","itemsPerPage",1,"form-select","w-auto",3,"ngModelChange","change","ngModel"],[3,"value",4,"ngFor","ngForOf"],["aria-label","Page navigation"],[1,"pagination","justify-content-center"],[1,"page-item",3,"ngClass"],["aria-label","Previous",1,"page-link",3,"click"],["aria-hidden","true"],["class","page-item",3,"ngClass",4,"ngFor","ngForOf"],["aria-label","Next",1,"page-link",3,"click"],[1,"scroll-buttons","position-fixed"],[1,"btn","btn-primary","scroll-up","d-flex","justify-content-center","align-items-center","mb-2",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","30","height","50","fill","white","viewBox","0 0 24 24"],["d","M12 2L22 12H2z"],[1,"btn","btn-primary","scroll-down","d-flex","justify-content-center","align-items-center",3,"click"],["d","M12 22L2 12h20z"],[1,"col-12","col-sm-6","col-md-4","col-lg-3","mb-4"],[1,"card","h-100"],[1,"card-img-top",3,"src","alt"],[1,"card-body","text-center"],[1,"card-title","text-truncate"],[1,"card-text"],[1,"d-flex","justify-content-between","align-items-center"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-outline-success","btn-sm",3,"click"],["class","fas fa-check",4,"ngIf"],["class","fas fa-cart-plus",4,"ngIf"],[1,"fas","fa-check"],[1,"fas","fa-cart-plus"],[3,"value"],[1,"page-link",3,"click"]],template:function(i,o){i&1&&(_(0,"div",0),re(1,"app-carousel"),_(2,"input",1),xe("ngModelChange",function(a){return Re(o.searchText,a)||(o.searchText=a),a}),L("ngModelChange",function(){return o.onSearchTextChange()}),C(),_(3,"button",2),L("click",function(){return o.toggleSidebar()}),er(),_(4,"svg",3),re(5,"rect",4)(6,"rect",5)(7,"circle",6)(8,"circle",7)(9,"circle",8)(10,"rect",9)(11,"rect",10)(12,"rect",11)(13,"rect",12),C()(),wo(),_(14,"div",13),L("click",function(a){return o.onOutsideClick(a)}),_(15,"div",14)(16,"div",15)(17,"h4"),M(18,"\u0424\u0456\u043B\u044C\u0442\u0440\u0438"),C()(),_(19,"div",15),re(20,"div",16),C(),_(21,"button",17),L("click",function(){return o.filterByCategory("all")}),M(22,"\u0423\u0441\u0456"),C(),_(23,"button",17),L("click",function(){return o.filterByCategory("\u041B\u0456\u0445\u0442\u0430\u0440\u0438\u043A\u0438")}),M(24,"\u041B\u0456\u0445\u0442\u0430\u0440\u0438\u043A\u0438"),C(),_(25,"button",17),L("click",function(){return o.filterByCategory("\u0420\u043E\u0437\u0443\u043C\u043D\u0456 \u0413\u043E\u0434\u0438\u043D\u043D\u0438\u043A\u0438")}),M(26,"\u0420\u043E\u0437\u0443\u043C\u043D\u0456 \u0413\u043E\u0434\u0438\u043D\u043D\u0438\u043A\u0438"),C(),_(27,"button",17),L("click",function(){return o.filterByCategory("\u041D\u0430\u0432\u0443\u0448\u043D\u0438\u043A\u0438")}),M(28,"\u041D\u0430\u0432\u0443\u0448\u043D\u0438\u043A\u0438"),C(),_(29,"button",17),L("click",function(){return o.filterByCategory("\u0422\u0443\u0440\u0438\u0441\u0442\u0438\u0447\u043D\u0456 \u041A\u0430\u043C\u0435\u0440\u0438")}),M(30,"\u0422\u0443\u0440\u0438\u0441\u0442\u0438\u0447\u043D\u0456 \u041A\u0430\u043C\u0435\u0440\u0438"),C(),_(31,"button",17),L("click",function(){return o.filterByCategory("\u041D\u0430\u043C\u0435\u0442\u0438")}),M(32,"\u041D\u0430\u043C\u0435\u0442\u0438"),C()(),_(33,"div",18)(34,"button",17),L("click",function(){return o.filterByCategory("all")}),M(35,"\u0423\u0441\u0456"),C(),_(36,"button",17),L("click",function(){return o.filterByCategory("\u041B\u0456\u0445\u0442\u0430\u0440\u0438\u043A\u0438")}),M(37,"\u041B\u0456\u0445\u0442\u0430\u0440\u0438\u043A\u0438"),C(),_(38,"button",17),L("click",function(){return o.filterByCategory("\u0420\u043E\u0437\u0443\u043C\u043D\u0456 \u0413\u043E\u0434\u0438\u043D\u043D\u0438\u043A\u0438")}),M(39,"\u0420\u043E\u0437\u0443\u043C\u043D\u0456 \u0413\u043E\u0434\u0438\u043D\u043D\u0438\u043A\u0438"),C(),_(40,"button",17),L("click",function(){return o.filterByCategory("\u041D\u0430\u0432\u0443\u0448\u043D\u0438\u043A\u0438")}),M(41,"\u041D\u0430\u0432\u0443\u0448\u043D\u0438\u043A\u0438"),C(),_(42,"button",17),L("click",function(){return o.filterByCategory("\u0422\u0443\u0440\u0438\u0441\u0442\u0438\u0447\u043D\u0456 \u041A\u0430\u043C\u0435\u0440\u0438")}),M(43,"\u0422\u0443\u0440\u0438\u0441\u0442\u0438\u0447\u043D\u0456 \u041A\u0430\u043C\u0435\u0440\u0438"),C(),_(44,"button",17),L("click",function(){return o.filterByCategory("\u041D\u0430\u043C\u0435\u0442\u0438")}),M(45,"\u041D\u0430\u043C\u0435\u0442\u0438"),C()(),_(46,"div",19),De(47,Rz,14,9,"div",20),C(),_(48,"div",21)(49,"label",22),M(50,"\u0422\u043E\u0432\u0430\u0440\u0456\u0432 \u043D\u0430 \u0441\u0442\u043E\u0440\u0456\u043D\u0446\u0456:"),C(),_(51,"select",23),xe("ngModelChange",function(a){return Re(o.itemsPerPage,a)||(o.itemsPerPage=a),a}),L("change",function(){return o.onItemsPerPageChange()}),De(52,Nz,2,2,"option",24),C()(),_(53,"nav",25)(54,"ul",26)(55,"li",27)(56,"a",28),L("click",function(){return o.changePage(o.currentPage-1)}),_(57,"span",29),M(58,"\xAB"),C()()(),De(59,Oz,3,4,"li",30),_(60,"li",27)(61,"a",31),L("click",function(){return o.changePage(o.currentPage+1)}),_(62,"span",29),M(63,"\xBB"),C()()()()(),_(64,"div",32)(65,"button",33),L("click",function(){return o.scrollToTop()}),er(),_(66,"svg",34),re(67,"path",35),C()(),wo(),_(68,"button",36),L("click",function(){return o.scrollToBottom()}),er(),_(69,"svg",34),re(70,"path",37),C()()()()()),i&2&&(O(2),Ae("ngModel",o.searchText),O(12),Zt("sidebar-pinned",o.isSidebarPinned),O(),Zt("visible",o.isSidebarVisible||o.isSidebarPinned)("pinned",o.isSidebarPinned),O(31),Zt("sidebar-pinned",o.isSidebarPinned),O(),X("ngForOf",o.getPaginatedProducts()),O(4),Ae("ngModel",o.itemsPerPage),O(),X("ngForOf",o.itemsPerPageOptions),O(3),X("ngClass",Ns(15,JP,o.currentPage===1)),O(4),X("ngForOf",o.pages),O(),X("ngClass",Ns(17,JP,o.currentPage===o.totalPages)))},dependencies:[_t,Qd,Si,Xt,wr,Ra,Na,bn,Qi,_r,Hn,YP],styles:[".row.product-list[_ngcontent-%COMP%]   .col-12[_ngcontent-%COMP%]{display:flex}.card[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;height:100%;border:1px solid #ddd;border-radius:.375rem;overflow:hidden;background-color:#fff;color:#333;transition:transform .2s ease,box-shadow .2s ease}.card[_ngcontent-%COMP%]:hover{transform:scale(1.02);box-shadow:0 4px 10px #00000026}.card-img-top[_ngcontent-%COMP%]{height:150px;object-fit:cover;border-bottom:1px solid #ddd}.card-body[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column}.card-title[_ngcontent-%COMP%]{font-size:1rem;font-weight:600}.card-text[_ngcontent-%COMP%]{font-size:.875rem;color:#666;margin:.5rem 0}.carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:50vh;object-fit:cover}.btn-outline-primary[_ngcontent-%COMP%]{margin:.25rem}.pagination[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{padding:.4rem .8rem}.page-link[_ngcontent-%COMP%]{cursor:pointer}@media (max-width: 576px){.card-img-top[_ngcontent-%COMP%]{height:120px}.carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:40vh}.card-body[_ngcontent-%COMP%]{padding:.5rem}.card-title[_ngcontent-%COMP%]{font-size:.9rem}.card-text[_ngcontent-%COMP%]{font-size:.8rem}.row.product-list[_ngcontent-%COMP%]   .col-12[_ngcontent-%COMP%]{flex:0 0 100%;max-width:100%}}@media (max-width: 768px){.row.product-list[_ngcontent-%COMP%]   .col-12[_ngcontent-%COMP%]{flex:0 0 50%;max-width:50%}}@media (max-width: 576px){.sidebar[_ngcontent-%COMP%]{width:160px;font-size:.8rem}.sidebar[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem}.sidebar[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-size:.8rem;padding:.3rem .6rem}.product-list.sidebar-pinned[_ngcontent-%COMP%]{margin-right:180px}.container-fluid.sidebar-pinned[_ngcontent-%COMP%]{margin-left:180px}}@media (min-width: 992px){.col-md-2[_ngcontent-%COMP%]{flex:0 0 20%;max-width:20%}.row.product-list[_ngcontent-%COMP%]   .col-12[_ngcontent-%COMP%]{flex:0 0 25%;max-width:25%}}@media (orientation: portrait){.carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:30vh}}@media (orientation: landscape){.carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:50vh}}.btn-outline-success[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:36px;height:36px;padding:0;border-radius:50%}.btn-outline-success[_ngcontent-%COMP%]:hover{background-color:#28a745;color:#fff;transform:scale(1.1)}.btn-outline-success.added[_ngcontent-%COMP%]{background-color:#28a745;color:#fff;border-color:#28a745;pointer-events:none}.btn-outline-success.added[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transform:scale(1.1)}.sidebar-toggle.left-toggle[_ngcontent-%COMP%]{left:20px;top:76px}.form-select[_ngcontent-%COMP%]{border-radius:.25rem;font-size:.9rem}.pagination[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{cursor:pointer}.pagination[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{background-color:#007bff;color:#fff}.scroll-buttons[_ngcontent-%COMP%]{position:fixed;bottom:10px;right:10px;display:flex;flex-direction:column;gap:10px;z-index:1000}.scroll-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:55px;height:55px;border-radius:50%;box-shadow:0 4px 8px #0003;transition:transform .3s,background-color .3s}.scroll-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{background-color:#0056b3;transform:scale(1.1)}.scroll-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:active{transform:scale(.9)}.scroll-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:50px;height:50px;border:none;border-radius:50%;background-color:#007bff;color:#fff;font-size:24px;cursor:pointer;box-shadow:0 4px 8px #0003;transition:transform .3s,background-color .3s}.scroll-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3;transform:scale(1.1)}.scroll-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{transform:scale(.9)}.scroll-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{transform:scale(1)}@media (max-width: 1024px){.scroll-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:45px;height:45px;font-size:20px}.scroll-buttons[_ngcontent-%COMP%]{bottom:15px;right:15px}}@media (max-width: 768px){.scroll-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:60px;height:60px;font-size:28px}.scroll-buttons[_ngcontent-%COMP%]{bottom:10px;right:10px}}@media (max-width: 480px){.scroll-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:35px;height:35px;font-size:16px}.scroll-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:35px;height:35px;font-size:16px}.scroll-buttons[_ngcontent-%COMP%]{bottom:8px;right:8px}}.sidebar-toggle[_ngcontent-%COMP%]{position:fixed;top:76px;left:20px;z-index:1000;color:#fff;border:none;border-radius:50%;width:50px;height:50px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .3s ease}.sidebar-header[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.pin-sidebar-option[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer}.sidebar-toggle[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.sidebar-toggle[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{fill:#fff;transition:transform .3s ease}.sidebar-toggle[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{transform:scale(1.1)}.sidebar[_ngcontent-%COMP%]{position:fixed;top:66px;left:-100%;width:300px;height:calc(100% - 66px);background:#fff;box-shadow:4px 0 8px #0003;padding:20px;transition:left .3s ease;overflow-y:auto;overflow-x:hidden;z-index:999}.sidebar.visible[_ngcontent-%COMP%]{left:0}.sidebar[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:15px;font-size:1.2rem;color:#333}.sidebar[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{display:block;width:100%;margin-bottom:10px}.sidebar.pinned[_ngcontent-%COMP%]{position:fixed;left:0;top:66px;height:calc(100% - 66px)}.product-list.sidebar-pinned[_ngcontent-%COMP%]{margin-right:320px}.pin-sidebar-option[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-left:5px;font-size:.9rem}.container-fluid.sidebar-pinned[_ngcontent-%COMP%]{margin-left:320px}.container-fluid[_ngcontent-%COMP%]{padding:0 15px}.row[_ngcontent-%COMP%]{margin:0 -15px}"]});let t=e;return t})();var XP=(()=>{let e=class e{constructor(r){this.http=r,this.apiUrl="https://api.novaposhta.ua/v2.0/json/",this.apiKey="86dfb7dfe2f6e8659419fc64edcc4814"}getRegions(){let r={apiKey:this.apiKey,modelName:"Address",calledMethod:"getAreas",methodProperties:{}};return this.http.post(this.apiUrl,r)}getCities(r){let i={apiKey:this.apiKey,modelName:"Address",calledMethod:"getCities",methodProperties:{AreaRef:r}};return this.http.post(this.apiUrl,i)}getWarehouses(r){let i={apiKey:this.apiKey,modelName:"AddressGeneral",calledMethod:"getWarehouses",methodProperties:{CityRef:r}};return this.http.post(this.apiUrl,i)}};e.\u0275fac=function(i){return new(i||e)(G(Ic))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var e1=(()=>{let e=class e{constructor(r){this.http=r,this.botToken="7704495677:AAHxEAJTRntkBTdyRZq28JhjUtyHoFaMLyw",this.defaultChatId="1714391961"}sendMessageToChat(r,i){let o=`https://api.telegram.org/bot${this.botToken}/sendMessage`;return this.http.post(o,{chat_id:r,text:i,parse_mode:"HTML"}).toPromise()}sendMessageToAdmin(r){return this.sendMessageToChat(this.defaultChatId,r)}};e.\u0275fac=function(i){return new(i||e)(G(Ic))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Vz(t,e){if(t&1){let n=ct();_(0,"div",30),re(1,"img",31),_(2,"h4",32),M(3),C(),_(4,"p",33),M(5),C(),_(6,"div",34)(7,"button",35),L("click",function(){let i=K(n).$implicit,o=W();return Q(o.increaseQuantity(i.product.id))}),M(8,"+"),C(),_(9,"span",36),M(10),C(),_(11,"button",35),L("click",function(){let i=K(n).$implicit,o=W();return Q(o.decreaseQuantity(i.product.id))}),M(12,"-"),C()(),_(13,"div",37)(14,"p",8),M(15),C()(),_(16,"button",38),L("click",function(){let i=K(n).$implicit,o=W();return Q(o.removeFromCart(i.product.id))}),M(17,"\u041F\u0440\u0438\u0431\u0440\u0430\u0442\u0438"),C()()}if(t&2){let n=e.$implicit,r=W();O(),kr("alt",n.product.name),X("src",n.product.imageUrl,Nn),O(2),Fe(n.product.name),O(2),rr("",n.product.price," ",r.currency,""),O(5),Fe(n.quantity),O(5),rr("\u0417\u0430\u0433\u0430\u043B\u044C\u043D\u0430 \u0441\u0443\u043C\u0430 \u0442\u043E\u0432\u0430\u0440\u0443: ",n.product.price*n.quantity," ",r.currency,"")}}function Lz(t,e){t&1&&(_(0,"small",39),M(1," \u041D\u0435\u043A\u043E\u0440\u0435\u043A\u0442\u043D\u0438\u0439 \u0444\u043E\u0440\u043C\u0430\u0442. \u0412\u0438\u043A\u043E\u0440\u0438\u0441\u0442\u043E\u0432\u0443\u0439\u0442\u0435 \u0442\u0456\u043B\u044C\u043A\u0438 \u0431\u0443\u043A\u0432\u0438. "),C())}function jz(t,e){if(t&1&&(_(0,"small",39),M(1),C()),t&2){W();let n=mc(21);O(),Fe(n.errors==null?null:n.errors.customError)}}function Uz(t,e){if(t&1&&(_(0,"option",40),M(1),C()),t&2){let n=e.$implicit;X("value",n.Ref),O(),On(" ",n.Description," ")}}function Bz(t,e){if(t&1&&(_(0,"option",40),M(1),C()),t&2){let n=e.$implicit;X("value",n.Ref),O(),On(" ",n.Description," ")}}function $z(t,e){if(t&1&&(_(0,"option",40),M(1),C()),t&2){let n=e.$implicit;X("value",n.Ref),O(),On(" ",n.Description," ")}}function Hz(t,e){if(t&1){let n=ct();_(0,"div",41),L("click",function(){K(n);let i=W();return Q(i.closeConfirmation())}),_(1,"div",42),L("click",function(i){return K(n),Q(i.stopPropagation())}),_(2,"div",43),er(),_(3,"svg",44),re(4,"path",45),C(),wo(),_(5,"h2",46),M(6,"\u0417\u0430\u043C\u043E\u0432\u043B\u0435\u043D\u043D\u044F \u043E\u0444\u043E\u0440\u043C\u043B\u0435\u043D\u043E!"),C()(),_(7,"p",47),M(8,"\u{1F64F} \u0414\u044F\u043A\u0443\u0454\u043C\u043E \u0437\u0430 \u0432\u0430\u0448\u0435 \u0437\u0430\u043C\u043E\u0432\u043B\u0435\u043D\u043D\u044F!"),C(),_(9,"p",47),M(10," \u{1F4DE} \u041E\u0447\u0456\u043A\u0443\u0439\u0442\u0435 \u0434\u0437\u0432\u0456\u043D\u043A\u0430 \u0432\u0456\u0434 \u043D\u0430\u0448\u043E\u0433\u043E \u043A\u043E\u043D\u0441\u0443\u043B\u044C\u0442\u0430\u043D\u0442\u0430 \u0434\u043B\u044F \u043F\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0436\u0435\u043D\u043D\u044F \u0434\u0435\u0442\u0430\u043B\u0435\u0439. "),C(),_(11,"button",48),L("click",function(){K(n);let i=W();return Q(i.closeConfirmation())}),M(12,"\u0417\u0430\u043A\u0440\u0438\u0442\u0438"),C()()()}}var t1=(()=>{let e=class e{formatTelegramMessage(r){let o={"pay-now":"\u041E\u043F\u043B\u0430\u0442\u0438\u0442\u0438 \u0437\u0440\u0430\u0437\u0443","bank-transfer":"\u0411\u0435\u0437\u0433\u043E\u0442\u0456\u0432\u043A\u043E\u0432\u0438\u0439 \u0440\u0430\u0445\u0443\u043D\u043E\u043A"}[r.payment]||r.payment,s=`<b>\u0412\u0430\u0448\u0435 \u0437\u0430\u043C\u043E\u0432\u043B\u0435\u043D\u043D\u044F:</b>
`;return s+=`\u{1F4B0} <b>\u0417\u0430\u0433\u0430\u043B\u044C\u043D\u0430 \u0441\u0443\u043C\u0430:</b> ${r.totalAmount} ${this.currency}
`,s+=`\u{1F464} <b>\u041E\u0442\u0440\u0438\u043C\u0443\u0432\u0430\u0447:</b> ${r.recipientName}
`,s+=`\u{1F4DE} <b>\u0422\u0435\u043B\u0435\u0444\u043E\u043D:</b> ${r.phone}
`,s+=`\u{1F4E6} <b>\u0414\u043E\u0441\u0442\u0430\u0432\u043A\u0430:</b> ${r.delivery}
`,s+=`\u{1F4B3} <b>\u041E\u043F\u043B\u0430\u0442\u0430:</b> ${o}
`,s+=`<b>\u0422\u043E\u0432\u0430\u0440\u0438:</b>
`,r.items.forEach((a,u)=>{s+=`${u+1}. ${a.product.name} - ${a.quantity} \u0448\u0442. - ${a.product.price*a.quantity} ${this.currency}
`}),s+=`
\u{1F64F} <b>\u0414\u044F\u043A\u0443\u0454\u043C\u043E \u0437\u0430 \u0432\u0430\u0448\u0435 \u0437\u0430\u043C\u043E\u0432\u043B\u0435\u043D\u043D\u044F!</b>
`,s+="\u{1F4DE} \u041E\u0447\u0456\u043A\u0443\u0439\u0442\u0435 \u0434\u0437\u0432\u0456\u043D\u043A\u0430 \u0432\u0456\u0434 \u043D\u0430\u0448\u043E\u0433\u043E \u043A\u043E\u043D\u0441\u0443\u043B\u044C\u0442\u0430\u043D\u0442\u0430 \u0434\u043B\u044F \u043F\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0436\u0435\u043D\u043D\u044F \u0434\u0435\u0442\u0430\u043B\u0435\u0439.",s}constructor(r,i,o,s,a){this.router=r,this.cartService=i,this.novaposhtaService=o,this.telegramService=s,this.firestore=a,this.cartItems=[],this.totalAmount=0,this.currency="\u20B4",this.showConfirmation=!1,this.order={recipientName:"",phone:"",region:"",city:"",delivery:"",payment:""},this.regions=[],this.cities=[],this.warehouses=[],this.filteredRegions=[],this.filteredCities=[],this.showErrorMessages=!0}ngOnInit(){this.cartService.getCartItems().subscribe(r=>{this.cartItems=r,this.updateTotalAmount()}),this.loadRegions()}confirmOrder(){this.showConfirmation=!0}loadRegions(){this.novaposhtaService.getRegions().subscribe({next:r=>{this.regions=r.data||[],this.filteredRegions=[...this.regions]},error:r=>console.error("\u041F\u043E\u043C\u0438\u043B\u043A\u0430 \u0437\u0430\u0432\u0430\u043D\u0442\u0430\u0436\u0435\u043D\u043D\u044F \u0440\u0435\u0433\u0456\u043E\u043D\u0456\u0432:",r)})}onRegionChange(r){r&&(this.order.region=r,this.cities=[],this.warehouses=[],this.novaposhtaService.getCities(r).subscribe({next:i=>{this.cities=i.data||[],this.filteredCities=[...this.cities]},error:i=>console.error("\u041F\u043E\u043C\u0438\u043B\u043A\u0430 \u0437\u0430\u0432\u0430\u043D\u0442\u0430\u0436\u0435\u043D\u043D\u044F \u043C\u0456\u0441\u0442:",i)}))}loadCities(){this.novaposhtaService.getCities("").subscribe(r=>{this.cities=r.data})}onCityChange(r){let o=r.target?.value;o&&(this.order.city=o,this.warehouses=[],this.novaposhtaService.getWarehouses(o).subscribe({next:s=>{this.warehouses=s.data.map(a=>({Ref:a.Ref,Description:a.Description}))||[]},error:s=>console.error("\u041F\u043E\u043C\u0438\u043B\u043A\u0430 \u0437\u0430\u0432\u0430\u043D\u0442\u0430\u0436\u0435\u043D\u043D\u044F \u0432\u0456\u0434\u0434\u0456\u043B\u0435\u043D\u044C:",s)}))}filterRegions(r){this.filteredRegions=this.regions.filter(i=>i.Description.toLowerCase().includes(r.toLowerCase()))}filterCities(r){this.filteredCities=this.cities.filter(i=>i.Description.toLowerCase().includes(r.toLowerCase()))}updateTotalAmount(){this.cartService.getTotalAmount().subscribe(r=>{this.totalAmount=r})}increaseQuantity(r){this.cartService.increaseQuantity(r),this.updateCart()}decreaseQuantity(r){this.cartService.decreaseQuantity(r),this.updateCart()}removeFromCart(r){this.cartService.removeFromCart(r),this.updateCart()}checkout(){this.cartService.checkout().subscribe(()=>{this.cartItems=[],this.totalAmount=0,this.cartService.getCartItemCount().subscribe()},r=>{console.error("Checkout error",r),alert("\u0421\u0442\u0430\u043B\u0430\u0441\u044F \u043F\u043E\u043C\u0438\u043B\u043A\u0430 \u043F\u0456\u0434 \u0447\u0430\u0441 \u043E\u0444\u043E\u0440\u043C\u043B\u0435\u043D\u043D\u044F \u0437\u0430\u043C\u043E\u0432\u043B\u0435\u043D\u043D\u044F.")})}submitOrder(){return E(this,null,function*(){if(this.validateOrder()){let r=ye(U({},this.order),{region:this.regions.find(i=>i.Ref===this.order.region)?.Description||"",city:this.cities.find(i=>i.Ref===this.order.city)?.Description||"",delivery:this.warehouses.find(i=>i.Ref===this.order.delivery)?.Description||"",items:this.cartItems,totalAmount:this.totalAmount,createdAt:rt.now()});try{let i=yield this.getChatIdByPhone(this.order.phone),o=this.formatTelegramMessage(r);i?yield this.telegramService.sendMessageToChat(i,o):yield this.telegramService.sendMessageToAdmin(o),yield this.cartService.submitOrder(r),this.showConfirmation=!0,this.showErrorMessages=!1,this.clearOrderData()}catch(i){console.error("Error submitting order:",i),alert("\u041D\u0435 \u0432\u0434\u0430\u043B\u043E\u0441\u044F \u043E\u0444\u043E\u0440\u043C\u0438\u0442\u0438 \u0437\u0430\u043C\u043E\u0432\u043B\u0435\u043D\u043D\u044F. \u0421\u043F\u0440\u043E\u0431\u0443\u0439\u0442\u0435 \u043F\u0456\u0437\u043D\u0456\u0448\u0435.")}}})}getChatIdByPhone(r){let i=vr(this.firestore,"users"),o=XM(i,tP("phone","==",r));return JM(o).then(s=>s.empty?null:s.docs[0].data().chatId||null)}clearOrderData(){this.cartService.clearCart(),this.cartItems=[],this.totalAmount=0,this.order={recipientName:"",phone:"",region:"",city:"",delivery:"",payment:""}}closeConfirmation(){this.showConfirmation=!1,this.router.navigate(["/"])}formatPhone(r){let i=r.replace(/[^\d]/g,"");return i.length===12?`+${i}`:i}onPhoneInput(r){let i=r.target,o=i.value,s=o.replace(/[^\d]/g,"");s.length>12&&(o=s.slice(0,12)),i.value=this.formatPhone(o),this.order.phone=i.value}validatePhone(){let r=/^\+\d{12}$/;return this.order.phone.replace(/[^\d]/g,"").length!==12?"\u041D\u0435\u043A\u043E\u0440\u0435\u043A\u0442\u043D\u0438\u0439 \u0444\u043E\u0440\u043C\u0430\u0442 \u0442\u0435\u043B\u0435\u0444\u043E\u043D\u0443. \u0412\u0432\u0435\u0434\u0456\u0442\u044C 12 \u0446\u0438\u0444\u0440.":r.test(this.order.phone)?null:"\u041D\u0435\u043A\u043E\u0440\u0435\u043A\u0442\u043D\u0438\u0439 \u0444\u043E\u0440\u043C\u0430\u0442 \u0442\u0435\u043B\u0435\u0444\u043E\u043D\u0443. \u0412\u0438\u043A\u043E\u0440\u0438\u0441\u0442\u043E\u0432\u0443\u0439\u0442\u0435 \u0444\u043E\u0440\u043C\u0430\u0442: +380000000000."}validateRecipientName(r){let i=r.target;/^[a-zA-Zа-яА-ЯіІєЄґҐ\s]*$/.test(i.value)||(i.value=i.value.replace(/[^a-zA-Zа-яА-ЯіІєЄґҐ\s]/g,""))}updateCart(){this.cartService.getCartItems().subscribe(r=>{this.cartItems=r,this.updateTotalAmount()})}calculateTotal(){this.totalAmount=this.cartItems.reduce((r,i)=>r+i.product.price*i.quantity,0)}validateOrder(){return!this.order.region||!this.order.city||!this.order.delivery?(alert("\u0411\u0443\u0434\u044C \u043B\u0430\u0441\u043A\u0430, \u0437\u0430\u043F\u043E\u0432\u043D\u0456\u0442\u044C \u0432\u0441\u0456 \u043F\u043E\u043B\u044F!"),!1):!0}};e.\u0275fac=function(i){return new(i||e)($(lt),$(Ki),$(XP),$(e1),$(Kt))},e.\u0275cmp=Ze({type:e,selectors:[["app-cart"]],standalone:!0,features:[Xe],decls:52,vars:16,consts:[["orderForm","ngForm"],["recipientName","ngModel"],["phone","ngModel"],["payment","ngModel"],[1,"container"],["class","cart-item d-flex align-items-center justify-content-between border rounded mb-3 p-3",4,"ngFor","ngForOf"],[1,"total-container"],[1,"text-center","mt-4"],[1,"font-weight-bold"],[1,"mt-4",3,"ngSubmit"],[1,"form-group"],["for","recipientName"],["type","text","id","recipientName","name","recipientName","required","","placeholder","\u041F\u0440\u0456\u0437\u0432\u0438\u0449\u0435 \u0406\u043C'\u044F \u041F\u043E\u0431\u0430\u0442\u044C\u043A\u043E\u0432\u0456",1,"form-control",3,"ngModelChange","input","ngModel"],["class","text-danger",4,"ngIf"],["for","phone"],["type","tel","id","phone","name","phone","required","","placeholder","+380000000000",1,"form-control",3,"ngModelChange","input","ngModel"],["for","region"],["id","region","name","region",1,"form-control",3,"ngModelChange","change","ngModel"],[3,"value",4,"ngFor","ngForOf"],["for","city"],["id","city","name","city",1,"form-control",3,"ngModelChange","change","ngModel"],["for","warehouse"],["id","warehouse","name","warehouse",1,"form-control",3,"ngModelChange","ngModel"],["for","payment"],["id","payment","name","payment","required","",1,"form-control",3,"ngModelChange","ngModel"],["value","","disabled","","selected",""],["value","pay-now"],["value","invoice"],["type","submit",1,"btn","btn-success","btn-block",3,"disabled"],["class","confirmation-overlay",3,"click",4,"ngIf"],[1,"cart-item","d-flex","align-items-center","justify-content-between","border","rounded","mb-3","p-3"],[1,"cart-item-image",3,"src","alt"],[1,"cart-item-name","font-weight-bold"],[1,"cart-item-price"],[1,"quantity-control","d-flex","align-items-center","justify-content-between"],[1,"btn","btn-outline-primary","btn-sm",3,"click"],[1,"mx-2"],[1,"total-row"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"text-danger"],[3,"value"],[1,"confirmation-overlay",3,"click"],[1,"confirmation-content",3,"click"],[1,"confirmation-header"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"confirmation-icon"],["d","M20 6L9 17l-5-5"],[1,"confirmation-title"],[1,"confirmation-text"],[1,"confirmation-button",3,"click"]],template:function(i,o){if(i&1){let s=ct();_(0,"div",4)(1,"div",4),De(2,Vz,18,8,"div",5),C(),_(3,"div",6)(4,"h3"),M(5),C()(),_(6,"div",7)(7,"h2",8),M(8,"\u0417\u0430\u043C\u043E\u0432\u043B\u0435\u043D\u043D\u044F"),C(),_(9,"form",9,0),L("ngSubmit",function(){return K(s),Q(o.submitOrder())}),_(11,"div",10)(12,"label",11),M(13,"\u041E\u0442\u0440\u0438\u043C\u0443\u0432\u0430\u0447:"),C(),_(14,"input",12,1),xe("ngModelChange",function(u){return K(s),Re(o.order.recipientName,u)||(o.order.recipientName=u),Q(u)}),L("input",function(u){return K(s),Q(o.validateRecipientName(u))}),C(),De(16,Lz,2,0,"small",13),C(),_(17,"div",10)(18,"label",14),M(19,"\u041C\u043E\u0431\u0456\u043B\u044C\u043D\u0438\u0439 \u0442\u0435\u043B\u0435\u0444\u043E\u043D:"),C(),_(20,"input",15,2),xe("ngModelChange",function(u){return K(s),Re(o.order.phone,u)||(o.order.phone=u),Q(u)}),L("input",function(u){return K(s),Q(o.onPhoneInput(u))}),C(),De(22,jz,2,1,"small",13),C(),_(23,"div",10)(24,"label",16),M(25,"\u041E\u0431\u0435\u0440\u0456\u0442\u044C \u0440\u0435\u0433\u0456\u043E\u043D:"),C(),_(26,"select",17),xe("ngModelChange",function(u){return K(s),Re(o.order.region,u)||(o.order.region=u),Q(u)}),L("change",function(){return K(s),Q(o.onRegionChange(o.order.region))}),De(27,Uz,2,2,"option",18),C()(),_(28,"div",10)(29,"label",19),M(30,"\u041E\u0431\u0435\u0440\u0456\u0442\u044C \u043C\u0456\u0441\u0442\u043E:"),C(),_(31,"select",20),xe("ngModelChange",function(u){return K(s),Re(o.order.city,u)||(o.order.city=u),Q(u)}),L("change",function(u){return K(s),Q(o.onCityChange(u))}),De(32,Bz,2,2,"option",18),C()(),_(33,"div",10)(34,"label",21),M(35,"\u041E\u0431\u0435\u0440\u0456\u0442\u044C \u0432\u0456\u0434\u0434\u0456\u043B\u0435\u043D\u043D\u044F:"),C(),_(36,"select",22),xe("ngModelChange",function(u){return K(s),Re(o.order.delivery,u)||(o.order.delivery=u),Q(u)}),De(37,$z,2,2,"option",18),C()(),_(38,"div",10)(39,"label",23),M(40,"\u041E\u043F\u043B\u0430\u0442\u0430:"),C(),_(41,"select",24,3),xe("ngModelChange",function(u){return K(s),Re(o.order.payment,u)||(o.order.payment=u),Q(u)}),_(43,"option",25),M(44,"\u041E\u0431\u0435\u0440\u0456\u0442\u044C \u0441\u043F\u043E\u0441\u0456\u0431 \u043E\u043F\u043B\u0430\u0442\u0438"),C(),_(45,"option",26),M(46,"\u041E\u043F\u043B\u0430\u0442\u0438\u0442\u0438 \u0437\u0430\u0440\u0430\u0437"),C(),_(47,"option",27),M(48,"\u0411\u0435\u0437\u0433\u043E\u0442\u0456\u0432\u043A\u043E\u0432\u0438\u0439 \u0440\u0430\u0445\u0443\u043D\u043E\u043A"),C()()(),_(49,"button",28),M(50," \u041E\u0444\u043E\u0440\u043C\u0438\u0442\u0438 \u043F\u043E\u043A\u0443\u043F\u043A\u0443 "),C()()(),De(51,Hz,13,0,"div",29),C()}if(i&2){let s=mc(10),a=mc(15),u=mc(21);O(2),X("ngForOf",o.cartItems),O(3),rr("\u0417\u0430\u0433\u0430\u043B\u044C\u043D\u0430 \u0441\u0443\u043C\u0430 \u0442\u043E\u0432\u0430\u0440\u0456\u0432: ",o.totalAmount," ",o.currency,""),O(9),Ae("ngModel",o.order.recipientName),O(2),X("ngIf",a.invalid&&a.touched&&o.showErrorMessages),O(4),Ae("ngModel",o.order.phone),O(2),X("ngIf",u.errors==null?null:u.errors.customError),O(4),Ae("ngModel",o.order.region),O(),X("ngForOf",o.filteredRegions),O(4),Ae("ngModel",o.order.city),O(),X("ngForOf",o.filteredCities),O(4),Ae("ngModel",o.order.delivery),O(),X("ngForOf",o.warehouses),O(4),Ae("ngModel",o.order.payment),O(8),X("disabled",!s.valid),O(2),X("ngIf",o.showConfirmation)}},dependencies:[_t,Si,Xt,wr,Pa,Ra,Na,bn,Qi,_r,Ma,Qo,Hn,Ko],styles:["h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;margin-bottom:1rem}.form-control[_ngcontent-%COMP%]{border-radius:5px;font-size:1rem;padding:.5rem;border:1px solid #ced4da}label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:.5rem;display:block}select[_ngcontent-%COMP%]:invalid{color:gray}select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]:first-child{display:none}.btn-success[_ngcontent-%COMP%]:hover{background-color:#218838}#city[_ngcontent-%COMP%], #warehouse[_ngcontent-%COMP%]{text-transform:capitalize}.total-container[_ngcontent-%COMP%]{margin-top:1rem;padding:1rem;border-top:2px solid #ccc;font-size:1.5rem;text-align:right}@media (max-width: 768px){.total-container[_ngcontent-%COMP%]{font-size:1.2rem;text-align:center}}.total-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;width:100%}.total-row[_ngcontent-%COMP%]   .font-weight-bold[_ngcontent-%COMP%]{margin:0;text-align:left;flex:1}.cart-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;background-color:#f9f9f9;margin-bottom:1rem;padding:1rem;border:1px solid #ccc}.cart-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80px;height:80px;object-fit:cover;border-radius:8px}.cart-item[_ngcontent-%COMP%]   .btn-danger[_ngcontent-%COMP%]{margin-left:auto}.cart-item-image[_ngcontent-%COMP%]{width:60px;height:60px;object-fit:cover;margin-right:15px}.cart-item-name[_ngcontent-%COMP%]{font-size:1rem;flex:1;margin:0 15px}.quantity-control[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-right:15px}.font-weight-bold[_ngcontent-%COMP%]{margin-right:15px}.btn-danger[_ngcontent-%COMP%]{margin-left:15px}@media (max-width: 768px){.cart-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.cart-item-image[_ngcontent-%COMP%]{margin-bottom:10px}.cart-item-name[_ngcontent-%COMP%], .font-weight-bold[_ngcontent-%COMP%]{margin:10px 0}.quantity-control[_ngcontent-%COMP%]{margin:10px 0;flex-direction:row;justify-content:space-between}.btn-danger[_ngcontent-%COMP%]{margin-top:10px}}.cart-item-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.cart-item-details[_ngcontent-%COMP%]   .font-weight-bold[_ngcontent-%COMP%]{margin-top:10px}.cart-item[_ngcontent-%COMP%]{background-color:#f9f9f9}#btn[_ngcontent-%COMP%]{width:90px}#img[_ngcontent-%COMP%]{margin:15px}#total[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px}.cart-item-image[_ngcontent-%COMP%]{width:80px;height:80px;object-fit:cover}.cart-item-name[_ngcontent-%COMP%]{font-size:1.2rem}.cart-item-price[_ngcontent-%COMP%]{font-size:1rem;color:#333}.quantity-control[_ngcontent-%COMP%]{margin-top:.5rem}.quantity-control[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:30px;height:30px}.btn-danger[_ngcontent-%COMP%]{background-color:#dc3545;border-color:#dc3545}.btn-danger[_ngcontent-%COMP%]:hover{background-color:#c82333;border-color:#bd2130}.confirmation-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#0009;display:flex;justify-content:center;align-items:center;z-index:1000}.confirmation-content[_ngcontent-%COMP%]{background-color:#fff;padding:2.5rem;border-radius:15px;box-shadow:0 8px 16px #0003;text-align:center;animation:_ngcontent-%COMP%_slideIn .4s ease-in-out;max-width:400px;width:90%}.confirmation-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-bottom:1.5rem}.confirmation-icon[_ngcontent-%COMP%]{width:3rem;height:3rem;color:#28a745;margin-bottom:.5rem}.confirmation-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#333;margin:0}.confirmation-text[_ngcontent-%COMP%]{font-size:1.1rem;margin-bottom:1rem;color:#555;line-height:1.5}.confirmation-button[_ngcontent-%COMP%]{padding:.8rem 1.5rem;background-color:#28a745;color:#fff;font-size:1rem;border:none;border-radius:30px;cursor:pointer;transition:background-color .3s ease}.confirmation-button[_ngcontent-%COMP%]:hover{background-color:#218838}.confirmation-button[_ngcontent-%COMP%]:active{background-color:#1e7e34}@keyframes _ngcontent-%COMP%_slideIn{0%{transform:translateY(-20px);opacity:0}to{transform:translateY(0);opacity:1}}[_ngcontent-%COMP%]:root{--background-dark: #2c2c2c;--text-light: #333333;--text-dark: #f5f5f5;--button-bg-light: #28a745;--button-bg-dark: #1e7e34;--button-hover-light: #218838;--button-hover-dark: #16692b;--overlay-light: rgba(0, 0, 0, .6);--overlay-dark: rgba(255, 255, 255, .3)}@media (prefers-color-scheme: dark){[_ngcontent-%COMP%]:root{--background-light: #2c2c2c;--background-dark: #1c1c1c;--text-light: #f5f5f5;--text-dark: #d1d1d1;--button-bg-light: #1e7e34;--button-bg-dark: #145322;--button-hover-light: #16692b;--button-hover-dark: #0e4a1b;--overlay-light: rgba(255, 255, 255, .3);--overlay-dark: rgba(0, 0, 0, .8)}}.confirmation-overlay[_ngcontent-%COMP%]{background-color:var(--overlay-light)}.confirmation-content[_ngcontent-%COMP%]{background-color:var(--background-light);color:var(--text-light)}.confirmation-title[_ngcontent-%COMP%], .confirmation-text[_ngcontent-%COMP%]{color:var(--text-light)}.confirmation-button[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-light)}.confirmation-button[_ngcontent-%COMP%]:active{background-color:var(--button-bg-dark)}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.btn-success[_ngcontent-%COMP%]{background-color:#28a745;border-color:#28a745}.btn-success[_ngcontent-%COMP%]:hover{background-color:#218838;border-color:#1e7e34}.confirmation-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.confirmation-content[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:8px;text-align:center}.confirmation-text[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:20px}.container[_ngcontent-%COMP%]{padding:1rem}.cart-item[_ngcontent-%COMP%]{margin-bottom:1rem}.btn[_ngcontent-%COMP%]{width:auto}@media (max-width: 768px){.cart-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.cart-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px;margin-bottom:1rem}.cart-item-name[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:.5rem}.cart-item-price[_ngcontent-%COMP%]{font-size:1rem;color:#333;margin-bottom:1rem}.quantity-control[_ngcontent-%COMP%]{margin-top:1rem}.quantity-control[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:40px;height:40px}.btn-danger[_ngcontent-%COMP%], .btn-success[_ngcontent-%COMP%], #btn[_ngcontent-%COMP%]{width:100%}#img[_ngcontent-%COMP%], #total[_ngcontent-%COMP%]{margin:10px 0}.confirmation-content[_ngcontent-%COMP%]{width:90%;max-width:400px;padding:1rem}}@media (min-width: 769px) and (max-width: 1024px){.cart-item[_ngcontent-%COMP%]{flex-direction:row}.cart-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:120px;height:120px}.cart-item-name[_ngcontent-%COMP%]{font-size:1.4rem}.cart-item-price[_ngcontent-%COMP%]{font-size:.95rem}.quantity-control[_ngcontent-%COMP%]{margin-top:.5rem;flex-direction:row}.quantity-control[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:35px;height:35px}}@media (min-width: 1025px){.cart-item[_ngcontent-%COMP%]{flex-direction:row}.cart-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:140px;height:140px}.cart-item-name[_ngcontent-%COMP%]{font-size:1rem}}"]});let t=e;return t})();var zz=t=>({"dark-mode":t});function qz(t,e){if(t&1&&re(0,"img",25),t&2){let n=W(2);X("src",n.selectedImage,Nn)}}function Gz(t,e){if(t&1){let n=ct();_(0,"img",26),L("click",function(){let i=K(n).index,o=W(2);return Q(o.selectImageByIndex(i))}),C()}if(t&2){let n=e.$implicit,r=e.index,i=W(2);Zt("active",r===i.currentImageIndex),X("src",n,Nn)}}function Wz(t,e){if(t&1&&(_(0,"tr")(1,"td",27),M(2),C(),_(3,"td",28),M(4),C()()),t&2){let n=e.$implicit;O(2),Fe(n.key),O(2),Fe(n.value)}}function Kz(t,e){if(t&1&&(_(0,"div",29)(1,"p",30),M(2),C(),_(3,"small",31),M(4),OD(5,"date"),C()()),t&2){let n=e.$implicit;O(2),Fe(n.text),O(2),Fe(kD(5,2,n.timestamp,"dd.MM.yyyy HH:mm"))}}function Qz(t,e){if(t&1){let n=ct();_(0,"div",32),L("click",function(){K(n);let i=W(2);return Q(i.closeModal())}),_(1,"div",33),L("click",function(i){return K(n),Q(i.stopPropagation())}),_(2,"div",34)(3,"h4",35),M(4,"\u041A\u043E\u0448\u0438\u043A"),C(),_(5,"button",36),L("click",function(){K(n);let i=W(2);return Q(i.closeModal())}),M(6,"\xD7"),C()(),_(7,"div",37)(8,"div",38),re(9,"img",39),_(10,"div",40)(11,"h5"),M(12),C(),_(13,"p",41),M(14),C(),_(15,"div",42)(16,"button",43),L("click",function(){K(n);let i=W(2);return Q(i.decreaseQuantity())}),M(17,"-"),C(),_(18,"span",44),M(19),C(),_(20,"button",43),L("click",function(){K(n);let i=W(2);return Q(i.increaseQuantity())}),M(21,"+"),C()()()()(),_(22,"div",45)(23,"button",46),L("click",function(){K(n);let i=W(2);return Q(i.addToCart())}),M(24,"\u041E\u0444\u043E\u0440\u043C\u0438\u0442\u0438 \u0437\u0430\u043C\u043E\u0432\u043B\u0435\u043D\u043D\u044F"),C()()()()}if(t&2){let n=W(2);O(),X("ngClass",Ns(7,zz,n.isDarkMode)),O(8),kr("alt",n.product.name),X("src",n.product.imageUrl,Nn),O(3),Fe(n.product.name),O(2),rr("\u0417\u0430\u0433\u0430\u043B\u044C\u043D\u0430 \u0441\u0443\u043C\u0430: ",n.totalPrice," ",n.currency,""),O(5),Fe(n.quantity)}}function Yz(t,e){if(t&1){let n=ct();_(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"button",5),L("click",function(){K(n);let i=W();return Q(i.previousImage())}),M(5,"<"),C(),De(6,qz,1,1,"img",6),_(7,"button",7),L("click",function(){K(n);let i=W();return Q(i.nextImage())}),M(8,">"),C(),_(9,"div",8),De(10,Gz,1,3,"img",9),C()()(),_(11,"div",3)(12,"h3",10),M(13),C(),_(14,"p",11),M(15,"\u0404 \u0432 \u043D\u0430\u044F\u0432\u043D\u043E\u0441\u0442\u0456"),C(),_(16,"p",12),M(17),C(),_(18,"button",13),L("click",function(){K(n);let i=W();return Q(i.openModal())}),M(19,"\u041A\u0443\u043F\u0438\u0442\u0438"),C(),_(20,"button",14),L("click",function(){K(n);let i=W();return Q(i.goBack())}),M(21,"\u041D\u0430\u0437\u0430\u0434"),C(),_(22,"h4",15),M(23,"\u041E\u043F\u0438\u0441 \u0442\u043E\u0432\u0430\u0440\u0443"),C(),_(24,"p",16),M(25),C(),_(26,"div",17)(27,"h4"),M(28,"\u041F\u043E\u0432\u043D\u0430 \u0445\u0430\u0440\u0430\u043A\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043A\u0430:"),C(),_(29,"table",18),De(30,Wz,5,2,"tr",19),C()(),_(31,"h4",20),M(32,"\u041A\u043E\u043C\u0435\u043D\u0442\u0430\u0440\u0456:"),C(),De(33,Kz,6,5,"div",21),_(34,"textarea",22),xe("ngModelChange",function(i){K(n);let o=W();return Re(o.newComment,i)||(o.newComment=i),Q(i)}),C(),_(35,"button",23),L("click",function(){K(n);let i=W();return Q(i.addComment())}),M(36,"\u0414\u043E\u0434\u0430\u0442\u0438 \u043A\u043E\u043C\u0435\u043D\u0442\u0430\u0440"),C()()(),De(37,Qz,25,9,"div",24),C()}if(t&2){let n=W();O(6),X("ngIf",n.selectedImage),O(4),X("ngForOf",n.getImageUrls()),O(3),Fe(n.product.name),O(4),rr("",n.product.price," ",n.currency,""),O(8),Fe(n.product.description),O(5),X("ngForOf",n.parseFullDescription(n.product==null?null:n.product.fullDescription)),O(3),X("ngForOf",n.comments),O(),Ae("ngModel",n.newComment),O(3),X("ngIf",n.showModal)}}var n1=(()=>{let e=class e{constructor(r,i,o,s){this.route=r,this.productService=i,this.cartService=o,this.router=s,this.comments=[],this.selectedImage=null,this.newComment="",this.currency="\u20B4",this.showModal=!1,this.quantity=1,this.isDarkMode=!1,this.currentImageIndex=0}ngOnInit(){let r=this.route.snapshot.paramMap.get("id");r&&this.productService.getProductById(r).subscribe(i=>{this.product=i,this.selectedImage=i.imageUrl,this.currentImageIndex=0,this.loadComments()})}selectImageByIndex(r){let i=this.getImageUrls();r>=0&&r<i.length&&(this.currentImageIndex=r,this.selectedImage=i[r])}previousImage(){let r=this.getImageUrls();this.currentImageIndex>0&&this.selectImageByIndex(this.currentImageIndex-1)}nextImage(){let r=this.getImageUrls();this.currentImageIndex<r.length-1&&this.selectImageByIndex(this.currentImageIndex+1)}selectImage(r){r&&(this.selectedImage=r)}getImageUrls(){if(!this.product)return[];let r=this.product.imageUrl?[this.product.imageUrl]:[],i=this.product.additionalImageUrls||[];return[...r,...i]}get totalPrice(){return this.product?this.product.price*this.quantity:0}openModal(){this.showModal=!0,this.isDarkMode&&document.querySelector(".modal-content")?.classList.add("dark-mode")}closeModal(){this.showModal=!1}addToCart(){if(this.product){let r={product:this.product,quantity:this.quantity};this.cartService.addToCart(r),this.router.navigate(["/cart"])}}increaseQuantity(){this.quantity++}decreaseQuantity(){this.quantity>1&&this.quantity--}goBack(){this.router.navigate(["/"])}addComment(){if(this.newComment.trim()&&this.product&&this.product.id){let r=this.product.id.toString(),i=["\u043A\u043E\u043A\u043E\u0441","\u0431\u0430\u043D\u0430\u043D","\u043F\u043E\u0433\u0430\u043D\u0438\u0439","@"],o=this.newComment.replace(new RegExp(`(${i.map(s=>s.replace(/[.*+?^${}()|[\\]\\]/g,"\\$&")).join("|")})`,"gi"),s=>"*".repeat(s.length));this.productService.addComment(r,o).then(()=>{this.comments.push({text:o,timestamp:new Date().toISOString()}),this.newComment=""})}}loadComments(){if(this.product&&this.product.id){let r=this.product.id.toString();this.productService.getComments(r).subscribe(i=>{this.comments=i.sort((o,s)=>new Date(s.timestamp).getTime()-new Date(o.timestamp).getTime())})}}parseFullDescription(r){return r?r.split(`
`).map(o=>{let[s,a]=o.split("-").map(u=>u.trim());return s&&a?{key:s,value:a}:null}).filter(o=>o!==null):[]}};e.\u0275fac=function(i){return new(i||e)($(or),$(Oa),$(Ki),$(lt))},e.\u0275cmp=Ze({type:e,selectors:[["app-product"]],standalone:!0,features:[Xe],decls:1,vars:1,consts:[["class","product-container container",4,"ngIf"],[1,"product-container","container"],[1,"row"],[1,"col-md-6"],[1,"product-gallery"],[1,"gallery-button","prev-button",3,"click"],["alt","\u0417\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u043D\u044F \u043F\u0440\u043E\u0434\u0443\u043A\u0442\u0443","class","product-main-image",3,"src",4,"ngIf"],[1,"gallery-button","next-button",3,"click"],[1,"product-thumbnails"],["alt","\u041C\u0456\u043D\u0456\u0430\u0442\u044E\u0440\u0430","class","product-thumbnail",3,"src","active","click",4,"ngFor","ngForOf"],[1,"product-name"],[1,"product-stock"],[1,"product-price"],[1,"btn","btn-success","buy-button",3,"click"],[1,"btn","btn-secondary","back-button",3,"click"],[1,"product-description-title"],[1,"product-description"],[1,"product-details"],[1,"full-description-table"],[4,"ngFor","ngForOf"],[1,"comments-title"],["class","comment",4,"ngFor","ngForOf"],["placeholder","\u041D\u0430\u043F\u0438\u0448\u0456\u0442\u044C \u0432\u0430\u0448 \u043A\u043E\u043C\u0435\u043D\u0442\u0430\u0440...",1,"form-control","comment-textarea",3,"ngModelChange","ngModel"],[1,"btn","btn-success","add-comment-button",3,"click"],["class","modal-overlay",3,"click",4,"ngIf"],["alt","\u0417\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u043D\u044F \u043F\u0440\u043E\u0434\u0443\u043A\u0442\u0443",1,"product-main-image",3,"src"],["alt","\u041C\u0456\u043D\u0456\u0430\u0442\u044E\u0440\u0430",1,"product-thumbnail",3,"click","src"],[1,"table-label"],[1,"table-value"],[1,"comment"],[1,"comment-text"],[1,"comment-timestamp"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click","ngClass"],[1,"modal-header"],[1,"modal-title"],[1,"close-button",3,"click"],[1,"modal-body"],[1,"modal-product-info"],[1,"modal-product-image",3,"src","alt"],[1,"modal-product-details"],[1,"modal-product-total"],[1,"quantity-control"],[1,"quantity-button",3,"click"],[1,"quantity"],[1,"modal-footer"],[1,"btn","btn-success",3,"click"]],template:function(i,o){i&1&&De(0,Yz,38,10,"div",0),i&2&&X("ngIf",o.product)},dependencies:[_t,Qd,Si,Xt,iT,wr,bn,_r,Hn],styles:[".comment[_ngcontent-%COMP%]{margin-bottom:10px;padding:5px;border-bottom:1px solid #ddd}.comment-text[_ngcontent-%COMP%]{font-size:13px;line-height:1.4;margin:0;color:#333}.comment-timestamp[_ngcontent-%COMP%]{font-size:10px;color:#777;display:block;margin-top:2px;text-align:right;font-style:italic}.product-container[_ngcontent-%COMP%]{margin-top:20px}.product-name[_ngcontent-%COMP%]{font-weight:700;font-size:1.5rem;margin-bottom:10px}.product-stock[_ngcontent-%COMP%]{color:#28a745;font-size:.9rem;margin-bottom:15px}.product-price[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:20px}.buy-button[_ngcontent-%COMP%], .back-button[_ngcontent-%COMP%], .add-comment-button[_ngcontent-%COMP%]{margin-right:10px;transition:background-color .3s,transform .2s}.buy-button[_ngcontent-%COMP%]:hover{background-color:#218838;transform:scale(1.05)}.back-button[_ngcontent-%COMP%]:hover{background-color:#6c757d;transform:scale(1.05)}.product-description-title[_ngcontent-%COMP%], .comments-title[_ngcontent-%COMP%]{text-align:center;margin-top:20px}.product-description[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}.comment[_ngcontent-%COMP%]{border-bottom:1px solid #dee2e6;padding-bottom:10px;margin-bottom:10px}.comment-textarea[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:10px}.add-comment-button[_ngcontent-%COMP%]{margin-top:10px;transition:background-color .3s,transform .2s}.add-comment-button[_ngcontent-%COMP%]:hover{background-color:#218838;transform:scale(1.05)}.align-items-start[_ngcontent-%COMP%]{align-items:flex-start}.product-image[_ngcontent-%COMP%]{max-width:100%;border-radius:8px}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;align-items:center;justify-content:center;animation:_ngcontent-%COMP%_fadeInScale .3s ease-in-out}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:8px;width:80%;max-width:500px;padding:20px;position:relative;animation:_ngcontent-%COMP%_fadeInScale .3s ease-in-out}.modal-overlay.hidden[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeOutScale .3s ease-in-out}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;background-color:#007bff;padding:10px;border-top-left-radius:8px;border-top-right-radius:8px;color:#fff}.modal-title[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700}.close-button[_ngcontent-%COMP%]{font-size:1.5rem;background:none;color:#fff;border:none;cursor:pointer;transition:transform .3s ease}.close-button[_ngcontent-%COMP%]:hover{transform:scale(1.2)}.modal-body[_ngcontent-%COMP%]{padding:15px;border-bottom:1px solid #ddd}.modal-product-info[_ngcontent-%COMP%]{display:flex;align-items:center}.modal-product-image[_ngcontent-%COMP%]{width:80px;height:80px;object-fit:cover;margin-right:15px}.modal-product-details[_ngcontent-%COMP%]{flex:1}.modal-product-price[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700}.quantity-control[_ngcontent-%COMP%]{display:flex;align-items:center;margin-top:10px}.quantity-button[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;font-size:1rem;border:none;padding:5px 10px;margin:0 5px;border-radius:5px;transition:background-color .3s ease,transform .3s ease;cursor:pointer}.quantity[_ngcontent-%COMP%]{font-size:1rem;color:#333;font-weight:700}.quantity-button[_ngcontent-%COMP%]:hover{background-color:#0056b3;transform:scale(1.1)}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:15px;background-color:#f8f9fa;border-bottom-left-radius:8px;border-bottom-right-radius:8px}.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:10px}.modal-product-details[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700;margin-bottom:5px}.modal-product-total[_ngcontent-%COMP%]{font-size:1rem;color:#555}.btn-success[_ngcontent-%COMP%]{background-color:#28a745;color:#fff;padding:10px 20px;font-size:1rem;border-radius:5px;transition:background-color .3s ease,transform .3s ease}.btn-success[_ngcontent-%COMP%]:hover{background-color:#218838;transform:scale(1.05)}@keyframes _ngcontent-%COMP%_fadeInScale{0%{opacity:0;transform:scale(.9)}to{opacity:1;transform:scale(1)}}@keyframes _ngcontent-%COMP%_fadeOutScale{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.9)}}.product-gallery[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;align-items:center}.product-main-image[_ngcontent-%COMP%]{max-width:80%;margin-bottom:1rem}.product-thumbnails[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-top:10px}.product-thumbnail[_ngcontent-%COMP%]{width:60px;height:60px;object-fit:cover;cursor:pointer;border:2px solid transparent}.product-thumbnail.active[_ngcontent-%COMP%], .product-thumbnail[_ngcontent-%COMP%]:hover{border-color:#007bff}.gallery-button[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);background:#00000080;color:#fff;border:none;padding:10px;cursor:pointer;z-index:10;font-size:1.5rem;opacity:0;transition:opacity .3s ease;pointer-events:none}.prev-button[_ngcontent-%COMP%]{left:-20px}.next-button[_ngcontent-%COMP%]{right:-20px}.gallery-button[_ngcontent-%COMP%]:hover{background:#000000b3}.product-gallery[_ngcontent-%COMP%]:hover   .gallery-button[_ngcontent-%COMP%]{opacity:1;pointer-events:auto}.full-description[_ngcontent-%COMP%]{font-size:14px;line-height:1.6;color:#333;background:#f9f9f9;padding:10px;border-radius:8px;margin-top:15px;box-shadow:0 2px 4px #0000001a}.full-description[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px}.full-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:10px}.full-description[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:20px}.full-description[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:5px}.full-description[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:auto;margin-top:10px;border-radius:4px}.full-description-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:15px;background:#f9f9f9;box-shadow:0 2px 4px #0000001a}.full-description-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid #ddd}.full-description-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child{border-bottom:none}.full-description-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px;font-size:14px;color:#333}.table-label[_ngcontent-%COMP%]{font-weight:700;background-color:#f0f0f0}.table-value[_ngcontent-%COMP%]{text-align:left}.modal-content.dark-mode[_ngcontent-%COMP%]{background-color:#1e1e1e;color:#f1f1f1}.modal-header.dark-mode[_ngcontent-%COMP%]{background-color:#292929;color:#fff}.close-button.dark-mode[_ngcontent-%COMP%]{color:#fff}.btn-success.dark-mode[_ngcontent-%COMP%]{background-color:#007bff;color:#fff}.quantity-button.dark-mode[_ngcontent-%COMP%]{background-color:#007bff}"]});let t=e;return t})();var r1=(()=>{let e=class e{constructor(r){this.firestore=r,this.productsCollection=vr(this.firestore,"products")}getProducts(){return Ru(this.productsCollection,{idField:"id"})}addProduct(r){let i=Go(this.productsCollection);return Bf(i,ye(U({},r),{id:i.id}))}deleteProduct(r){let i=Go(this.firestore,`products/${r}`);return YM(i)}updateProduct(r){let i=Go(this.firestore,`products/${r.id}`);return eP(i,U({},r))}};e.\u0275fac=function(i){return new(i||e)(G(Kt))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Zz(t,e){if(t&1){let n=ct();_(0,"button",17),L("click",function(){K(n);let i=W();return Q(i.toggleSidebar())}),er(),_(1,"svg",18),re(2,"rect",19)(3,"rect",20)(4,"circle",21)(5,"circle",22)(6,"circle",23)(7,"rect",24)(8,"rect",25)(9,"rect",26)(10,"rect",27),C()()}}function Xz(t,e){if(t&1&&(_(0,"option",47),M(1),C()),t&2){let n=e.$implicit;X("value",n),O(),On(" ",n," ")}}function eq(t,e){if(t&1){let n=ct();_(0,"div",28)(1,"h3"),M(2,"\u0414\u043E\u0434\u0430\u0442\u0438 \u0442\u043E\u0432\u0430\u0440"),C(),_(3,"form",29),L("ngSubmit",function(){K(n);let i=W();return Q(i.addProduct())}),_(4,"div",30)(5,"label",31),M(6,"\u041D\u0430\u0437\u0432\u0430 \u0442\u043E\u0432\u0430\u0440\u0443"),C(),_(7,"input",32),xe("ngModelChange",function(i){K(n);let o=W();return Re(o.productName,i)||(o.productName=i),Q(i)}),C()(),_(8,"div",30)(9,"label",33),M(10,"\u041E\u043F\u0438\u0441 \u0442\u043E\u0432\u0430\u0440\u0443"),C(),_(11,"textarea",34),xe("ngModelChange",function(i){K(n);let o=W();return Re(o.productDescription,i)||(o.productDescription=i),Q(i)}),C()(),_(12,"div",30)(13,"label",35),M(14,"\u041F\u043E\u0432\u043D\u0430 \u0445\u0430\u0440\u0430\u043A\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043A\u0430 \u0442\u043E\u0432\u0430\u0440\u0443"),C(),_(15,"textarea",36),xe("ngModelChange",function(i){K(n);let o=W();return Re(o.productFullDescription,i)||(o.productFullDescription=i),Q(i)}),C()(),_(16,"div",30)(17,"label",37),M(18,"URL \u043A\u0430\u0440\u0442\u0438\u043D\u043A\u0438 \u0442\u043E\u0432\u0430\u0440\u0443"),C(),_(19,"input",38),xe("ngModelChange",function(i){K(n);let o=W();return Re(o.productImageUrl,i)||(o.productImageUrl=i),Q(i)}),C()(),_(20,"div",30)(21,"label",39),M(22,"\u0414\u043E\u0434\u0430\u0442\u043A\u043E\u0432\u0456 URL \u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u044C (\u0447\u0435\u0440\u0435\u0437 \u043A\u043E\u043C\u0443)"),C(),_(23,"input",40),xe("ngModelChange",function(i){K(n);let o=W();return Re(o.productAdditionalImages,i)||(o.productAdditionalImages=i),Q(i)}),C()(),_(24,"div",30)(25,"label",41),M(26,"\u0426\u0456\u043D\u0430"),C(),_(27,"input",42),xe("ngModelChange",function(i){K(n);let o=W();return Re(o.productPrice,i)||(o.productPrice=i),Q(i)}),C()(),_(28,"div",30)(29,"label",43),M(30,"\u041A\u0430\u0442\u0435\u0433\u043E\u0440\u0456\u044F \u0442\u043E\u0432\u0430\u0440\u0443"),C(),_(31,"select",44),xe("ngModelChange",function(i){K(n);let o=W();return Re(o.productCategory,i)||(o.productCategory=i),Q(i)}),De(32,Xz,2,2,"option",45),C()(),_(33,"button",46),M(34," \u0414\u043E\u0434\u0430\u0442\u0438 \u0442\u043E\u0432\u0430\u0440 "),C()()()}if(t&2){let n=W();O(7),Ae("ngModel",n.productName),O(4),Ae("ngModel",n.productDescription),O(4),Ae("ngModel",n.productFullDescription),O(4),Ae("ngModel",n.productImageUrl),O(4),Ae("ngModel",n.productAdditionalImages),O(4),Ae("ngModel",n.productPrice),O(4),Ae("ngModel",n.productCategory),O(),X("ngForOf",n.categories),O(),X("disabled",!n.isFormValid())}}function tq(t,e){if(t&1&&(_(0,"option",47),M(1),C()),t&2){let n=e.$implicit;X("value",n),O(),On(" ",n," ")}}function nq(t,e){if(t&1){let n=ct();_(0,"div",28)(1,"h3"),M(2,"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u0442\u043E\u0432\u0430\u0440"),C(),_(3,"form",29),L("ngSubmit",function(){K(n);let i=W();return Q(i.updateProduct())}),_(4,"div",30)(5,"label",48),M(6,"\u041D\u0430\u0437\u0432\u0430 \u0442\u043E\u0432\u0430\u0440\u0443"),C(),_(7,"input",49),xe("ngModelChange",function(i){K(n);let o=W();return Re(o.productName,i)||(o.productName=i),Q(i)}),C()(),_(8,"div",30)(9,"label",50),M(10,"\u041E\u043F\u0438\u0441 \u0442\u043E\u0432\u0430\u0440\u0443"),C(),_(11,"textarea",51),xe("ngModelChange",function(i){K(n);let o=W();return Re(o.productDescription,i)||(o.productDescription=i),Q(i)}),C()(),_(12,"div",30)(13,"label",35),M(14,"\u041F\u043E\u0432\u043D\u0430 \u0445\u0430\u0440\u0430\u043A\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043A\u0430 \u0442\u043E\u0432\u0430\u0440\u0443"),C(),_(15,"textarea",52),xe("ngModelChange",function(i){K(n);let o=W();return Re(o.productFullDescription,i)||(o.productFullDescription=i),Q(i)}),C()(),_(16,"div",30)(17,"label",53),M(18,"URL \u043A\u0430\u0440\u0442\u0438\u043D\u043A\u0438 \u0442\u043E\u0432\u0430\u0440\u0443"),C(),_(19,"input",54),xe("ngModelChange",function(i){K(n);let o=W();return Re(o.productImageUrl,i)||(o.productImageUrl=i),Q(i)}),C()(),_(20,"div",30)(21,"label",39),M(22,"\u0414\u043E\u0434\u0430\u0442\u043A\u043E\u0432\u0456 URL \u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u044C (\u0447\u0435\u0440\u0435\u0437 \u043A\u043E\u043C\u0443)"),C(),_(23,"input",40),xe("ngModelChange",function(i){K(n);let o=W();return Re(o.productAdditionalImages,i)||(o.productAdditionalImages=i),Q(i)}),C()(),_(24,"div",30)(25,"label",55),M(26,"\u0426\u0456\u043D\u0430"),C(),_(27,"input",56),xe("ngModelChange",function(i){K(n);let o=W();return Re(o.productPrice,i)||(o.productPrice=i),Q(i)}),C()(),_(28,"div",30)(29,"label",57),M(30,"\u041A\u0430\u0442\u0435\u0433\u043E\u0440\u0456\u044F \u0442\u043E\u0432\u0430\u0440\u0443"),C(),_(31,"select",58),xe("ngModelChange",function(i){K(n);let o=W();return Re(o.productCategory,i)||(o.productCategory=i),Q(i)}),De(32,tq,2,2,"option",45),C()(),_(33,"button",46),M(34,"\u041E\u043D\u043E\u0432\u0438\u0442\u0438 \u0442\u043E\u0432\u0430\u0440"),C(),_(35,"button",59),L("click",function(){K(n);let i=W();return Q(i.resetForm())}),M(36,"\u0421\u043A\u0430\u0441\u0443\u0432\u0430\u0442\u0438"),C()()()}if(t&2){let n=W();O(7),Ae("ngModel",n.productName),O(4),Ae("ngModel",n.productDescription),O(4),Ae("ngModel",n.productFullDescription),O(4),Ae("ngModel",n.productImageUrl),O(4),Ae("ngModel",n.productAdditionalImages),O(4),Ae("ngModel",n.productPrice),O(4),Ae("ngModel",n.productCategory),O(),X("ngForOf",n.categories),O(),X("disabled",!n.isFormValid())}}function rq(t,e){if(t&1){let n=ct();_(0,"div",60),re(1,"img",61),_(2,"h4"),M(3),C(),_(4,"p"),M(5),C(),_(6,"p")(7,"strong"),M(8,"\u0426\u0456\u043D\u0430:"),C(),M(9),C(),_(10,"p")(11,"strong"),M(12,"\u041A\u0430\u0442\u0435\u0433\u043E\u0440\u0456\u044F:"),C(),M(13),C(),_(14,"button",62),L("click",function(){let i=K(n).$implicit,o=W();return Q(o.openEditForm(i))}),M(15,"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438"),C(),_(16,"button",63),L("click",function(){let i=K(n).$implicit,o=W();return Q(o.confirmDeleteProduct(i.id.toString()))}),M(17,"\u0412\u0438\u0434\u0430\u043B\u0438\u0442\u0438"),C()()}if(t&2){let n=e.$implicit;O(),kr("alt",n.name),X("src",n.imageUrl,Nn),O(2),Fe(n.name),O(2),Fe(n.description),O(4),On(" ",n.price," $"),O(4),On(" ",n.category,"")}}function iq(t,e){if(t&1){let n=ct();_(0,"div",64)(1,"div",65)(2,"h4"),M(3,"\u041F\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0436\u0435\u043D\u043D\u044F \u0432\u0438\u0434\u0430\u043B\u0435\u043D\u043D\u044F"),C(),_(4,"p"),M(5,"\u0412\u0438 \u0432\u043F\u0435\u0432\u043D\u0435\u043D\u0456, \u0449\u043E \u0445\u043E\u0447\u0435\u0442\u0435 \u0432\u0438\u0434\u0430\u043B\u0438\u0442\u0438 \u0446\u0435\u0439 \u0442\u043E\u0432\u0430\u0440?"),C(),_(6,"button",63),L("click",function(){K(n);let i=W();return i.deleteProduct(),Q(i.closeModal())}),M(7,"\u0422\u0430\u043A"),C(),_(8,"button",66),L("click",function(){K(n);let i=W();return Q(i.closeModal())}),M(9,"\u041D\u0456"),C()()()}}var i1=(()=>{let e=class e{constructor(r,i,o){this.adminService=r,this.productService=i,this.firestore=o,this.productName="",this.productDescription="",this.productImageUrl="",this.productPrice=null,this.productCategory="",this.products=[],this.filteredProducts=[],this.categories=["\u041B\u0456\u0445\u0442\u0430\u0440\u0438\u043A\u0438","\u0420\u043E\u0437\u0443\u043C\u043D\u0456 \u0413\u043E\u0434\u0438\u043D\u043D\u0438\u043A\u0438","\u041D\u0430\u0432\u0443\u0448\u043D\u0438\u043A\u0438","\u0422\u0443\u0440\u0438\u0441\u0442\u0438\u0447\u043D\u0456 \u041A\u0430\u043C\u0435\u0440\u0438","\u041D\u0430\u043C\u0435\u0442\u0438"],this.selectedCategory="all",this.showModal=!1,this.showEditForm=!1,this.productToDeleteId=null,this.productToEdit=null,this.errorMessage=null,this.productAdditionalImages="",this.isSidebarVisible=!1,this.isSidebarPinned=!1,this.productFullDescription=""}ngOnInit(){this.loadProducts()}loadProducts(){this.adminService.getProducts().subscribe(r=>{this.products=r,this.applyFilters()},r=>{console.error("Error loading products:",r),this.errorMessage="Failed to load products. Please try again later."})}toggleSidebar(){this.isSidebarVisible=!this.isSidebarVisible}updateSidebarMode(){this.isSidebarPinned?this.isSidebarVisible=!0:this.isSidebarVisible=!1}filterByCategory(r){this.selectedCategory=r,this.applyFilters()}applyFilters(){this.selectedCategory==="all"?this.filteredProducts=this.products:this.filteredProducts=this.products.filter(r=>r.category===this.selectedCategory)}addProduct(){if(this.isFormValid()){let r={id:Date.now(),name:this.productName,description:this.productDescription,fullDescription:this.productFullDescription||"",imageUrl:this.productImageUrl,price:parseFloat(this.productPrice||"0"),category:this.productCategory,additionalImageUrls:this.productAdditionalImages?this.productAdditionalImages.split(",").map(i=>i.trim()):[]};this.adminService.addProduct(r).then(()=>{this.loadProducts(),this.resetForm()}).catch(i=>{console.error("Error adding product:",i),this.errorMessage="Failed to add product. Please try again later."})}}deleteProduct(){this.productToDeleteId&&this.adminService.deleteProduct(this.productToDeleteId).then(()=>{this.loadProducts(),this.closeModal()}).catch(r=>{console.error("Error deleting product:",r),this.errorMessage="Failed to delete product. Please try again later."})}openEditForm(r){this.productToEdit=U({},r),this.productName=r.name,this.productDescription=r.description,this.productImageUrl=r.imageUrl,this.productPrice=r.price.toString(),this.productCategory=r.category,this.productFullDescription=r.fullDescription||"",this.productAdditionalImages=r.additionalImageUrls?r.additionalImageUrls.join(", "):"",this.showEditForm=!0}updateProduct(){if(this.productToEdit&&this.isFormValid()){let r={id:this.productToEdit.id,name:this.productName,description:this.productDescription,fullDescription:this.productFullDescription,imageUrl:this.productImageUrl,price:parseFloat(this.productPrice||"0"),category:this.productCategory,additionalImageUrls:this.productAdditionalImages?this.productAdditionalImages.split(",").map(i=>i.trim()):[]};this.adminService.updateProduct(r).then(()=>{this.loadProducts(),this.resetForm(),this.showEditForm=!1}).catch(i=>{console.error("Error updating product:",i),this.errorMessage="Failed to update product. Please try again later."})}}confirmDeleteProduct(r){this.productToDeleteId=r,this.showModal=!0}closeModal(){this.showModal=!1,this.productToDeleteId=null}resetForm(){this.productName="",this.productDescription="",this.productImageUrl="",this.productPrice=null,this.productCategory="",this.productFullDescription="",this.productAdditionalImages="",this.productToEdit=null,this.showEditForm=!1}isFormValid(){return this.productName.trim()!==""&&this.productDescription.trim()!==""&&this.productImageUrl.trim()!==""&&this.productPrice!==null&&!isNaN(parseFloat(this.productPrice))&&parseFloat(this.productPrice)>0&&this.productCategory.trim()!==""}scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})}scrollToBottom(){window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"})}onOutsideClick(r){let i=r.target,o=document.querySelector(".sidebar"),s=document.querySelector(".sidebar-toggle");o&&!o.contains(i)&&s&&!s.contains(i)&&(this.isSidebarPinned||(this.isSidebarVisible=!1))}};e.\u0275fac=function(i){return new(i||e)($(r1),$(Oa),$(Kt))},e.\u0275cmp=Ze({type:e,selectors:[["app-admin"]],standalone:!0,features:[Xe],decls:33,vars:12,consts:[[1,"container",3,"click"],["class","sidebar-toggle",3,"click",4,"ngIf"],[1,"sidebar"],[1,"pin-sidebar-option"],["type","checkbox","id","pinSidebar",3,"ngModelChange","change","ngModel"],["for","pinSidebar"],[1,"btn","btn-outline-primary",3,"click"],["class","product-form",4,"ngIf"],[1,"product-list"],["class","product-item",4,"ngFor","ngForOf"],[1,"scroll-buttons","position-fixed"],[1,"btn","btn-primary","scroll-up","d-flex","justify-content-center","align-items-center","mb-2",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","30","height","50","fill","white","viewBox","0 0 24 24"],["d","M12 2L22 12H2z"],[1,"btn","btn-primary","scroll-down","d-flex","justify-content-center","align-items-center",3,"click"],["d","M12 22L2 12h20z"],["class","modal",4,"ngIf"],[1,"sidebar-toggle",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","50","height","50","viewBox","0 0 100 100"],["x","0","y","0","width","100","height","100","rx","15","fill","#f0f0f0"],["x","15","y","15","width","25","height","70","rx","8","fill","#ffffff"],["cx","27.5","cy","30","r","4","fill","#ff6347"],["cx","27.5","cy","50","r","4","fill","#4682b4"],["cx","27.5","cy","70","r","4","fill","#32cd32"],["x","45","y","15","width","40","height","70","rx","8","fill","#ffffff"],["x","50","y","25","width","30","height","6","rx","2","fill","#d3d3d3"],["x","50","y","45","width","30","height","6","rx","2","fill","#d3d3d3"],["x","50","y","65","width","30","height","6","rx","2","fill","#d3d3d3"],[1,"product-form"],[3,"ngSubmit"],[1,"form-group"],["for","productName"],["id","productName","name","productName","placeholder","\u041D\u0430\u0437\u0432\u0430 \u0442\u043E\u0432\u0430\u0440\u0443","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","productDescription"],["id","productDescription","name","productDescription","placeholder","\u041E\u043F\u0438\u0441 \u0442\u043E\u0432\u0430\u0440\u0443","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","productFullDescription"],["id","productFullDescription","name","productFullDescription","placeholder","\u041F\u043E\u0432\u043D\u0430 \u0445\u0430\u0440\u0430\u043A\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043A\u0430 \u0442\u043E\u0432\u0430\u0440\u0443",1,"form-control",3,"ngModelChange","ngModel"],["for","productImageUrl"],["id","productImageUrl","name","productImageUrl","placeholder","URL \u043A\u0430\u0440\u0442\u0438\u043D\u043A\u0438 \u0442\u043E\u0432\u0430\u0440\u0443","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","productAdditionalImages"],["id","productAdditionalImages","name","productAdditionalImages","placeholder","URL1, URL2, URL3",1,"form-control",3,"ngModelChange","ngModel"],["for","productPrice"],["id","productPrice","type","number","name","productPrice","placeholder","\u0426\u0456\u043D\u0430","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","productCategory"],["id","productCategory","name","productCategory","required","",1,"form-control",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["type","submit",1,"btn","btn-success",3,"disabled"],[3,"value"],["for","editProductName"],["id","editProductName","name","editProductName","placeholder","\u041D\u0430\u0437\u0432\u0430 \u0442\u043E\u0432\u0430\u0440\u0443","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","editProductDescription"],["id","editProductDescription","name","editProductDescription","placeholder","\u041E\u043F\u0438\u0441 \u0442\u043E\u0432\u0430\u0440\u0443","required","",1,"form-control",3,"ngModelChange","ngModel"],["id","productFullDescription","name","productFullDescription","placeholder",`\u0424\u043E\u0440\u043C\u0430\u0442 \u0437\u0430\u043F\u043E\u0432\u043B\u0435\u043D\u043D\u044F: \u0422\u0438\u043F \u043D\u0430\u0432\u0443\u0448\u043D\u0438\u043A\u0456\u0432 - \u041F\u043E\u0432\u043D\u043E\u0440\u043E\u0437\u043C\u0456\u0440\u043D\u0456
          \u041E\u0441\u043E\u0431\u043B\u0438\u0432\u043E\u0441\u0442\u0456 - Playstation-\u0441\u0443\u043C\u0456\u0441\u043D\u0456\u0441\u0442\u044C, \u0421\u043A\u043B\u0430\u0434\u0430\u043D\u0430 \u043A\u043E\u043D\u0441\u0442\u0440\u0443\u043A\u0446\u0456\u044F
          \u0422\u0438\u043F \u043F\u0456\u0434\u043A\u043B\u044E\u0447\u0435\u043D\u043D\u044F - \u041A\u043E\u043C\u0431\u0456\u043D\u043E\u0432\u0430\u043D\u0456`,1,"form-control",3,"ngModelChange","ngModel"],["for","editProductImageUrl"],["id","editProductImageUrl","name","editProductImageUrl","placeholder","URL \u043A\u0430\u0440\u0442\u0438\u043D\u043A\u0438 \u0442\u043E\u0432\u0430\u0440\u0443","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","editProductPrice"],["id","editProductPrice","type","number","name","editProductPrice","placeholder","\u0426\u0456\u043D\u0430","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","editProductCategory"],["id","editProductCategory","name","editProductCategory","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"product-item"],[3,"src","alt"],[1,"btn","btn-warning",3,"click"],[1,"btn","btn-danger",3,"click"],[1,"modal"],[1,"modal-content"],[1,"btn","btn-secondary",3,"click"]],template:function(i,o){i&1&&(_(0,"div",0),L("click",function(a){return o.onOutsideClick(a)}),De(1,Zz,11,0,"button",1),_(2,"div",2)(3,"h4"),M(4,"\u0424\u0456\u043B\u044C\u0442\u0440\u0438"),C(),_(5,"div",3)(6,"input",4),xe("ngModelChange",function(a){return Re(o.isSidebarPinned,a)||(o.isSidebarPinned=a),a}),L("change",function(){return o.updateSidebarMode()}),C(),_(7,"label",5),M(8,"\u0417\u0430\u043A\u0440\u0456\u043F\u0438\u0442\u0438"),C()(),_(9,"button",6),L("click",function(){return o.filterByCategory("all")}),M(10,"\u0423\u0441\u0456"),C(),_(11,"button",6),L("click",function(){return o.filterByCategory("\u041B\u0456\u0445\u0442\u0430\u0440\u0438\u043A\u0438")}),M(12,"\u041B\u0456\u0445\u0442\u0430\u0440\u0438\u043A\u0438"),C(),_(13,"button",6),L("click",function(){return o.filterByCategory("\u0420\u043E\u0437\u0443\u043C\u043D\u0456 \u0413\u043E\u0434\u0438\u043D\u043D\u0438\u043A\u0438")}),M(14,"\u0420\u043E\u0437\u0443\u043C\u043D\u0456 \u0413\u043E\u0434\u0438\u043D\u043D\u0438\u043A\u0438"),C(),_(15,"button",6),L("click",function(){return o.filterByCategory("\u041D\u0430\u0432\u0443\u0448\u043D\u0438\u043A\u0438")}),M(16,"\u041D\u0430\u0432\u0443\u0448\u043D\u0438\u043A\u0438"),C(),_(17,"button",6),L("click",function(){return o.filterByCategory("\u0422\u0443\u0440\u0438\u0441\u0442\u0438\u0447\u043D\u0456 \u041A\u0430\u043C\u0435\u0440\u0438")}),M(18,"\u0422\u0443\u0440\u0438\u0441\u0442\u0438\u0447\u043D\u0456 \u041A\u0430\u043C\u0435\u0440\u0438"),C(),_(19,"button",6),L("click",function(){return o.filterByCategory("\u041D\u0430\u043C\u0435\u0442\u0438")}),M(20,"\u041D\u0430\u043C\u0435\u0442\u0438"),C()(),De(21,eq,35,9,"div",7)(22,nq,37,9,"div",7),_(23,"div",8),De(24,rq,18,6,"div",9),C()(),_(25,"div",10)(26,"button",11),L("click",function(){return o.scrollToTop()}),er(),_(27,"svg",12),re(28,"path",13),C()(),wo(),_(29,"button",14),L("click",function(){return o.scrollToBottom()}),er(),_(30,"svg",12),re(31,"path",15),C()()(),De(32,iq,10,0,"div",16)),i&2&&(O(),X("ngIf",!o.isSidebarPinned),O(),Zt("visible",o.isSidebarVisible||o.isSidebarPinned)("pinned",o.isSidebarPinned),O(4),Ae("ngModel",o.isSidebarPinned),O(15),X("ngIf",!o.showEditForm),O(),X("ngIf",o.showEditForm),O(),Zt("sidebar-pinned",o.isSidebarPinned),O(),X("ngForOf",o.filteredProducts),O(8),X("ngIf",o.showModal))},dependencies:[_t,Si,Xt,wr,Pa,Ra,Na,bn,zw,Lw,Qi,_r,Ma,Qo,Hn,Ko],styles:[".scroll-buttons[_ngcontent-%COMP%]{position:fixed;bottom:20px;right:20px;display:flex;flex-direction:column;gap:15px;z-index:1000;opacity:0;animation:_ngcontent-%COMP%_fadeIn .5s ease-in forwards}.scroll-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:50%;background-color:#007bff;color:#fff;font-size:20px;box-shadow:0 4px 8px #0003;display:flex;justify-content:center;align-items:center;cursor:pointer;transition:transform .3s,background-color .3s}.scroll-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{background-color:#0056b3;transform:scale(1.1)}.scroll-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:active{transform:scale(.9)}@media (max-width: 1024px){.scroll-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:50px;height:50px}.scroll-buttons[_ngcontent-%COMP%]{bottom:15px;right:15px}}@media (max-width: 768px){.scroll-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:45px;height:45px;font-size:18px}.scroll-buttons[_ngcontent-%COMP%]{bottom:12px;right:12px}}@media (max-width: 480px){.scroll-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:56px;height:45px;font-size:16px}.scroll-buttons[_ngcontent-%COMP%]{bottom:10px;right:10px}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:20px;max-width:1200px;margin:0 auto;padding:20px}.sidebar-toggle[_ngcontent-%COMP%]{position:fixed;top:76px;right:20px;z-index:1000;color:#fff;border:none;border-radius:50%;width:50px;height:50px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .3s ease}.sidebar-toggle[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.sidebar-toggle[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{fill:#fff;transition:transform .3s ease}.sidebar-toggle[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{transform:scale(1.1)}.sidebar[_ngcontent-%COMP%]{position:fixed;top:66px;right:-100%;width:300px;height:calc(100% - 66px);background:#fff;box-shadow:-4px 0 8px #0003;padding:20px;transition:right .3s ease,opacity .3s ease;overflow-y:auto;z-index:999}.sidebar.visible[_ngcontent-%COMP%]{right:0}.sidebar[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:15px;font-size:1.2rem;color:#333}.sidebar[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{display:block;width:100%;margin-bottom:10px}.sidebar.pinned[_ngcontent-%COMP%]{position:fixed;right:0;top:66px;height:calc(100% - 66px)}.product-list.sidebar-pinned[_ngcontent-%COMP%]{margin-right:320px}.pin-sidebar-option[_ngcontent-%COMP%]{margin-bottom:10px;display:flex;align-items:center}.pin-sidebar-option[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-left:5px;font-size:.9rem}[_ngcontent-%COMP%]:root{--background-light: #ffffff;--background-dark: #2c2c2c;--text-light: #333333;--text-dark: #f5f5f5;--border-light: #ddd;--border-dark: #444;--btn-bg-light: #f9f9f9;--btn-bg-dark: #444;--btn-text-light: #333;--btn-text-dark: #f5f5f5;--btn-hover-light: #007bff;--btn-hover-dark: #1a73e8}@media (prefers-color-scheme: dark){[_ngcontent-%COMP%]:root{--background-light: #2c2c2c;--background-dark: #1c1c1c;--text-light: #f5f5f5;--text-dark: #d1d1d1;--border-light: #444;--border-dark: #333;--btn-bg-light: #444;--btn-bg-dark: #2c2c2c;--btn-text-light: #f5f5f5;--btn-text-dark: #f5f5f5;--btn-hover-light: #1a73e8;--btn-hover-dark: #2a82e8}}.filter-container[_ngcontent-%COMP%]{position:absolute;top:10px;right:20px;display:flex;flex-wrap:wrap;gap:10px}.filter-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:8px 16px;font-size:.9rem}.product-list[_ngcontent-%COMP%]{flex:1;display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px}.product-form[_ngcontent-%COMP%]{flex:1;max-width:300px}.product-form[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;color:#333}.product-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:15px}.product-form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:5px;display:block;font-size:.9rem}.product-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .product-form[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .product-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px;border-radius:5px;border:1px solid #ccc;box-sizing:border-box}.product-item[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:8px;padding:15px;background:#f9f9f9;box-shadow:0 4px 6px #0000001a;transition:transform .3s ease}.product-item[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.product-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:150px;object-fit:cover;border-radius:5px;margin-bottom:10px}.product-item[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.2rem;color:#444}.product-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;color:#666}.product-item[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin-top:10px;padding:8px 16px;font-size:.8rem}.product-list[_ngcontent-%COMP%]{background-color:var(--background-dark);padding:20px;border-radius:10px;box-shadow:0 4px 8px #0003}.product-item[_ngcontent-%COMP%]{background-color:var(--background-light);color:var(--text-light);border:1px solid var(--border-light);transition:transform .3s ease,background-color .3s ease}.product-item[_ngcontent-%COMP%]:hover{transform:scale(1.05);background-color:var(--btn-bg-light)}.product-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:1px solid var(--border-light)}.product-item[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:var(--text-light)}.product-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-dark)}.product-item[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{background-color:var(--btn-hover-light);color:var(--btn-text-dark)}.btn[_ngcontent-%COMP%]{padding:10px 20px;width:auto}.btn-success[_ngcontent-%COMP%]{background-color:#5cb85c;border-color:#5cb85c}.btn-success[_ngcontent-%COMP%]:hover{background-color:#218838;border-color:#1e7e34}.btn-danger[_ngcontent-%COMP%]{background-color:#d9534f;border-color:#d9534f}.btn-danger[_ngcontent-%COMP%]:hover{background-color:#c82333;border-color:#bd2130}.btn-warning[_ngcontent-%COMP%]{background-color:#f0ad4e;border-color:#f0ad4e}.btn-warning[_ngcontent-%COMP%]:hover{background-color:#ec971f;border-color:#d58512}.modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;align-items:center;justify-content:center}.modal-content[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:5px;box-shadow:0 0 10px #0000001a;text-align:center;width:300px;animation:_ngcontent-%COMP%_zoomIn .3s ease-in}.modal-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-top:0}.modal-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:10px}@keyframes _ngcontent-%COMP%_zoomIn{0%{transform:scale(.7);opacity:0}to{transform:scale(1);opacity:1}}@media (max-width: 480px){.sidebar[_ngcontent-%COMP%]{width:100%}.product-list[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media (max-width: 768px){.container[_ngcontent-%COMP%]{flex-direction:column;padding:10px}.filter-container[_ngcontent-%COMP%]{position:static;justify-content:center;margin-top:20px}.product-form[_ngcontent-%COMP%]{max-width:100%}.product-item[_ngcontent-%COMP%]{text-align:center}.modal-content[_ngcontent-%COMP%]{width:90%}.sidebar[_ngcontent-%COMP%]{width:80%}.product-list.sidebar-pinned[_ngcontent-%COMP%]{margin-right:0}.product-list[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(200px,1fr))}}@media (max-width: 768px) and (orientation: landscape){.container[_ngcontent-%COMP%]{padding:5px}.filter-container[_ngcontent-%COMP%]{gap:5px;margin-top:20px}.product-item[_ngcontent-%COMP%]{flex-direction:row;align-items:center;text-align:left}.product-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px;margin-right:10px}.btn[_ngcontent-%COMP%]{font-size:.8rem;padding:5px 10px}}@media (min-width: 769px) and (max-width: 1024px){.container[_ngcontent-%COMP%]{padding:15px}.modal-content[_ngcontent-%COMP%]{width:80%}}@media (min-width: 1025px) and (max-width: 1920px){.container[_ngcontent-%COMP%]{padding:20px}.modal-content[_ngcontent-%COMP%]{width:50%}}@media (min-width: 1921px){.container[_ngcontent-%COMP%]{max-width:1600px;padding:20px}.modal-content[_ngcontent-%COMP%]{width:40%}}"]});let t=e;return t})();var o1=(()=>{let e=class e{constructor(){this.firstDigit="4",this.secondDigit="0",this.thirdDigit="4"}randomNum(){return Math.floor(Math.random()*9)+1}ngOnInit(){let r=0,i=30,o=setInterval(()=>{r>40?(clearInterval(o),this.thirdDigit="4"):(this.thirdDigit=this.randomNum().toString(),r++)},i),s=setInterval(()=>{r>80?(clearInterval(s),this.secondDigit="0"):(this.secondDigit=this.randomNum().toString(),r++)},i),a=setInterval(()=>{r>100?(clearInterval(a),this.firstDigit="4"):(this.firstDigit=this.randomNum().toString(),r++)},i)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ze({type:e,selectors:[["app-not-found"]],standalone:!0,features:[Xe],decls:22,vars:3,consts:[[1,"error","d-flex","justify-content-center","align-items-center","vh-50","bg-light"],[1,"container","text-center"],[1,"container-error-404"],[1,"clip"],[1,"shadow"],[1,"digit","thirdDigit"],[1,"digit","secondDigit"],[1,"digit","firstDigit"],[1,"msg"],[1,"triangle"],[1,"h1"],["routerLink","/",1,"btn","btn-primary"]],template:function(i,o){i&1&&(_(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"span",5),M(6),C()()(),_(7,"div",3)(8,"div",4)(9,"span",6),M(10),C()()(),_(11,"div",3)(12,"div",4)(13,"span",7),M(14),C()()(),_(15,"div",8),M(16,"OH!"),re(17,"span",9),C()(),_(18,"h2",10),M(19,"\u0412\u0438\u0431\u0430\u0447\u0442\u0435! \u0421\u0442\u043E\u0440\u0456\u043D\u043A\u0430 \u043D\u0435 \u0437\u043D\u0430\u0439\u0434\u0435\u043D\u0430."),C(),_(20,"a",11),M(21,"\u041F\u0435\u0440\u0435\u0439\u0442\u0438 \u043D\u0430 \u0433\u043E\u043B\u043E\u0432\u043D\u0443"),C()()()),i&2&&(O(6),Fe(o.thirdDigit),O(4),Fe(o.secondDigit),O(4),Fe(o.firstDigit))},dependencies:[_t,Qs,Ws],styles:['*[_ngcontent-%COMP%]{font-family:PT Sans Caption,sans-serif,arial,Times New Roman;box-sizing:border-box}.error[_ngcontent-%COMP%]{background-color:#f8f9fa}.error[_ngcontent-%COMP%]   .container-error-404[_ngcontent-%COMP%]{position:relative;height:250px;padding-top:40px;text-align:center}.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]{display:inline-block;transform:skew(-45deg)}.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]   .shadow[_ngcontent-%COMP%]{height:180px;overflow:hidden}.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]:nth-of-type(2)   .shadow[_ngcontent-%COMP%]{width:130px;position:relative;box-shadow:inset 20px 0 20px -15px #969696cc,20px 0 20px -15px #969696cc}.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]:nth-of-type(3)   .shadow[_ngcontent-%COMP%]:after, .error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]:nth-of-type(1)   .shadow[_ngcontent-%COMP%]:after{content:"";position:absolute;right:-8px;bottom:0;z-index:9999;height:100%;width:10px;background:linear-gradient(90deg,transparent,rgba(173,173,173,.8),transparent);border-radius:50%}.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]:nth-of-type(3)   .shadow[_ngcontent-%COMP%]:after{left:-8px}.error[_ngcontent-%COMP%]   .digit[_ngcontent-%COMP%]{width:150px;height:150px;line-height:150px;font-size:120px;font-weight:700;color:#fff;background:#07b3f9;border-radius:50%;display:inline-block;transform:skew(45deg)}.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]:nth-of-type(2)   .digit[_ngcontent-%COMP%]{left:-10%}.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]:nth-of-type(1)   .digit[_ngcontent-%COMP%]{right:-20%}.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]:nth-of-type(3)   .digit[_ngcontent-%COMP%]{left:-20%}.error[_ngcontent-%COMP%]   .msg[_ngcontent-%COMP%]{position:relative;z-index:9999;background:#535353;color:#a2a2a2;border-radius:50%;font-style:italic;display:block;width:80px;height:80px;line-height:80px;font-size:32px;top:-190px;left:30%}.error[_ngcontent-%COMP%]   span.triangle[_ngcontent-%COMP%]{position:absolute;z-index:999;transform:rotate(45deg);content:"";width:0;height:0;border-left:20px solid #535353;border-top:15px solid transparent;border-bottom:15px solid transparent;top:70%;right:0}.error[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#a2a2a2;font-weight:700;padding-bottom:20px;font-size:32px}.error[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;font-weight:700}.error[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}@media (max-width: 767px){.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]   .shadow[_ngcontent-%COMP%]{height:100px}.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]:nth-of-type(2)   .shadow[_ngcontent-%COMP%]{width:80px}.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]:nth-of-type(1)   .shadow[_ngcontent-%COMP%], .error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]:nth-of-type(3)   .shadow[_ngcontent-%COMP%]{width:100px}.error[_ngcontent-%COMP%]   .digit[_ngcontent-%COMP%]{width:80px;height:80px;line-height:80px;font-size:52px}.error[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px}.error[_ngcontent-%COMP%]   .msg[_ngcontent-%COMP%]{top:-110px;left:15%;width:40px;height:40px;line-height:40px;font-size:18px}.error[_ngcontent-%COMP%]   span.triangle[_ngcontent-%COMP%]{border-left:10px solid #535353;border-top:8px solid transparent;border-bottom:8px solid transparent}.error[_ngcontent-%COMP%]   .container-error-404[_ngcontent-%COMP%]{height:150px}}']});let t=e;return t})();function oq(t,e){if(t&1&&(_(0,"p",10),M(1),C()),t&2){let n=W();O(),Fe(n.errorMessage)}}var s1=(()=>{let e=class e{constructor(r){this.router=r,this.username="",this.password="",this.errorMessage=""}login(){this.username==="admin"&&this.password==="Uthjtdlytghf73"?this.router.navigate(["/admin"]):this.errorMessage="\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u043B\u043E\u0433\u0456\u043D \u0430\u0431\u043E \u043F\u0430\u0440\u043E\u043B\u044C"}};e.\u0275fac=function(i){return new(i||e)($(lt))},e.\u0275cmp=Ze({type:e,selectors:[["app-admin-login"]],standalone:!0,features:[Xe],decls:14,vars:3,consts:[[1,"login-container"],[1,"login-form",3,"ngSubmit"],["src","./icons/logo.png","alt","Logo",1,"logo"],[1,"form-group"],["for","username"],["id","username","name","username","placeholder","\u041B\u043E\u0433\u0456\u043D","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","password"],["id","password","type","password","name","password","placeholder","\u041F\u0430\u0440\u043E\u043B\u044C","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-success"],["class","text-danger",4,"ngIf"],[1,"text-danger"]],template:function(i,o){i&1&&(_(0,"div",0)(1,"form",1),L("ngSubmit",function(){return o.login()}),re(2,"img",2),_(3,"div",3)(4,"label",4),M(5,"\u041B\u043E\u0433\u0456\u043D"),C(),_(6,"input",5),xe("ngModelChange",function(a){return Re(o.username,a)||(o.username=a),a}),C()(),_(7,"div",3)(8,"label",6),M(9,"\u041F\u0430\u0440\u043E\u043B\u044C"),C(),_(10,"input",7),xe("ngModelChange",function(a){return Re(o.password,a)||(o.password=a),a}),C()(),_(11,"button",8),M(12,"\u0412\u0445\u0456\u0434"),C(),De(13,oq,2,1,"p",9),C()()),i&2&&(O(6),Ae("ngModel",o.username),O(4),Ae("ngModel",o.password),O(3),X("ngIf",o.errorMessage))},dependencies:[_t,Xt,wr,Pa,bn,_r,Ma,Qo,Hn,Ko],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:70vh;background-color:#f8f9fa}.login-form[_ngcontent-%COMP%]{background:#fff;padding:2rem;border-radius:8px;box-shadow:0 0 10px #0000001a;text-align:center}.logo[_ngcontent-%COMP%]{max-width:100px;margin-bottom:1rem}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.btn-success[_ngcontent-%COMP%]{background-color:#28a745;border-color:#28a745}.btn-success[_ngcontent-%COMP%]:hover{background-color:#218838;border-color:#1e7e34}"]});let t=e;return t})();var a1=[{path:"",component:ZP},{path:"header",component:Hf},{path:"cart",component:t1},{path:"product/:id",component:n1},{path:"admin-login",component:s1},{path:"admin",component:i1},{path:"**",component:o1}];var Gw={production:!1,firebase:{apiKey:"AIzaSyCDXEjp5yiLttF-2eUZKNHH6z3Y755yws8",authDomain:"hiking-equipment-store.firebaseapp.com",databaseURL:"https://hiking-equipment-store-default-rtdb.europe-west1.firebasedatabase.app",projectId:"hiking-equipment-store",storageBucket:"hiking-equipment-store.appspot.com",messagingSenderId:"553591568312",appId:"1:553591568312:web:c4e43771d9e053d6d6814d",measurementId:"G-C3M4EFX3LH",firestore:{rules_version:"2"}},appCheck:{recaptchaSiteKey:"6LeykZMqAAAAAFddpBQyGNnkKElOUDDIMdroXsYV"}};AT(TP,{providers:[vS(a1),gy(),HA(()=>zA()),ZS(()=>XS(Gw.firebase)),WM(()=>ZM()),CP(()=>DP(void 0,{provider:new Wf(Gw.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}).catch(t=>console.error(t));
