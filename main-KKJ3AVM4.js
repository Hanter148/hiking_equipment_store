var px=Object.defineProperty,gx=Object.defineProperties;var mx=Object.getOwnPropertyDescriptors;var mw=Object.getOwnPropertySymbols;var yx=Object.prototype.hasOwnProperty,vx=Object.prototype.propertyIsEnumerable;var yw=(t,e,n)=>e in t?px(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,U=(t,e)=>{for(var n in e||={})yx.call(e,n)&&yw(t,n,e[n]);if(mw)for(var n of mw(e))vx.call(e,n)&&yw(t,n,e[n]);return t},we=(t,e)=>gx(t,mx(e));var S=(t,e,n)=>new Promise((r,i)=>{var o=u=>{try{a(n.next(u))}catch(l){i(l)}},s=u=>{try{a(n.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((n=n.apply(t,e)).next())});var bf=null;var Cf=1,Df=Symbol("SIGNAL");function Se(t){let e=bf;return bf=t,e}function vw(){return bf}var Tf={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function _x(t){if(!(Rf(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Cf)){if(!t.producerMustRecompute(t)&&!Af(t)){t.dirty=!1,t.lastCleanEpoch=Cf;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Cf}}function Sf(t){return t&&(t.nextProducerIndex=0),Se(t)}function _w(t,e){if(Se(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Rf(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)xf(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Af(t){Pf(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(_x(n),r!==n.version))return!0}return!1}function Mf(t){if(Pf(t),Rf(t))for(let e=0;e<t.producerNode.length;e++)xf(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function xf(t,e){if(wx(t),t.liveConsumerNode.length===1&&Ex(t))for(let r=0;r<t.producerNode.length;r++)xf(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Pf(i),i.producerIndexOfThis[r]=e}}function Rf(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Pf(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function wx(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function Ex(t){return t.producerNode!==void 0}function Ix(){throw new Error}var Cx=Ix;function ww(t){Cx=t}function ce(t){return typeof t=="function"}function vo(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var vu=vo(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function wi(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var He=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(ce(r))try{r()}catch(o){e=o instanceof vu?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Ew(o)}catch(s){e=e??[],s instanceof vu?e=[...e,...s.errors]:e.push(s)}}if(e)throw new vu(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Ew(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&wi(n,e)}remove(e){let{_finalizers:n}=this;n&&wi(n,e),e instanceof t&&e._removeParent(this)}};He.EMPTY=(()=>{let t=new He;return t.closed=!0,t})();var Nf=He.EMPTY;function _u(t){return t instanceof He||t&&"closed"in t&&ce(t.remove)&&ce(t.add)&&ce(t.unsubscribe)}function Ew(t){ce(t)?t():t.unsubscribe()}var ln={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var _o={setTimeout(t,e,...n){let{delegate:r}=_o;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=_o;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function wu(t){_o.setTimeout(()=>{let{onUnhandledError:e}=ln;if(e)e(t);else throw t})}function _a(){}var Iw=Of("C",void 0,void 0);function Cw(t){return Of("E",void 0,t)}function bw(t){return Of("N",t,void 0)}function Of(t,e,n){return{kind:t,value:e,error:n}}var Ei=null;function wo(t){if(ln.useDeprecatedSynchronousErrorHandling){let e=!Ei;if(e&&(Ei={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Ei;if(Ei=null,n)throw r}}else t()}function Dw(t){ln.useDeprecatedSynchronousErrorHandling&&Ei&&(Ei.errorThrown=!0,Ei.error=t)}var Ii=class extends He{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,_u(e)&&e.add(this)):this.destination=Tx}static create(e,n,r){return new Eo(e,n,r)}next(e){this.isStopped?Ff(bw(e),this):this._next(e)}error(e){this.isStopped?Ff(Cw(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Ff(Iw,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},bx=Function.prototype.bind;function kf(t,e){return bx.call(t,e)}var Vf=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Eu(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Eu(r)}else Eu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Eu(n)}}},Eo=class extends Ii{constructor(e,n,r){super();let i;if(ce(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&ln.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&kf(e.next,o),error:e.error&&kf(e.error,o),complete:e.complete&&kf(e.complete,o)}):i=e}this.destination=new Vf(i)}};function Eu(t){ln.useDeprecatedSynchronousErrorHandling?Dw(t):wu(t)}function Dx(t){throw t}function Ff(t,e){let{onStoppedNotification:n}=ln;n&&_o.setTimeout(()=>n(t,e))}var Tx={closed:!0,next:_a,error:Dx,complete:_a};var Io=typeof Symbol=="function"&&Symbol.observable||"@@observable";function qt(t){return t}function Iu(...t){return Lf(t)}function Lf(t){return t.length===0?qt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var le=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=Ax(n)?n:new Eo(n,r,i);return wo(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Tw(r),new r((i,o)=>{let s=new Eo({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Io](){return this}pipe(...n){return Lf(n)(this)}toPromise(n){return n=Tw(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function Tw(t){var e;return(e=t??ln.Promise)!==null&&e!==void 0?e:Promise}function Sx(t){return t&&ce(t.next)&&ce(t.error)&&ce(t.complete)}function Ax(t){return t&&t instanceof Ii||Sx(t)&&_u(t)}function Uf(t){return ce(t?.lift)}function Ee(t){return e=>{if(Uf(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ye(t,e,n,r,i){return new jf(t,e,n,r,i)}var jf=class extends Ii{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Co(){return Ee((t,e)=>{let n=null;t._refCount++;let r=ye(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var bo=class extends le{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Uf(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new He;let n=this.getSubject();e.add(this.source.subscribe(ye(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=He.EMPTY)}return e}refCount(){return Co()(this)}};var Sw=vo(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var at=(()=>{class t extends le{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Cu(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Sw}next(n){wo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){wo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){wo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Nf:(this.currentObservers=null,o.push(n),new He(()=>{this.currentObservers=null,wi(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new le;return n.source=this,n}}return t.create=(e,n)=>new Cu(e,n),t})(),Cu=class extends at{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Nf}};var rt=class extends at{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Bf={now(){return(Bf.delegate||Date).now()},delegate:void 0};var bu=class extends He{constructor(e,n){super()}schedule(e,n=0){return this}};var wa={setInterval(t,e,...n){let{delegate:r}=wa;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=wa;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Do=class extends bu{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return wa.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&wa.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,wi(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var To=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};To.now=Bf.now;var So=class extends To{constructor(e,n=To.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Du=new So(Do),$f=Du;var Tu=class extends Do{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Su=class extends So{};var Hf=new Su(Tu);var Gt=new le(t=>t.complete());function Au(t){return t&&ce(t.schedule)}function Aw(t){return t[t.length-1]}function Mu(t){return ce(Aw(t))?t.pop():void 0}function Nr(t){return Au(Aw(t))?t.pop():void 0}function zf(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function xw(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function Mw(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ci(t){return this instanceof Ci?(this.v=t,this):new Ci(t)}function Rw(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i={},a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(T){return Promise.resolve(T).then(y,p)}}function a(y,T){r[y]&&(i[y]=function(P){return new Promise(function(R,F){o.push([y,P,R,F])>1||u(y,P)})},T&&(i[y]=T(i[y])))}function u(y,T){try{l(r[y](T))}catch(P){m(o[0][3],P)}}function l(y){y.value instanceof Ci?Promise.resolve(y.value.v).then(h,p):m(o[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function m(y,T){y(T),o.shift(),o.length&&u(o[0][0],o[0][1])}}function Pw(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Mw=="function"?Mw(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var xu=t=>t&&typeof t.length=="number"&&typeof t!="function";function Ru(t){return ce(t?.then)}function Pu(t){return ce(t[Io])}function Nu(t){return Symbol.asyncIterator&&ce(t?.[Symbol.asyncIterator])}function Ou(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Mx(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ku=Mx();function Fu(t){return ce(t?.[ku])}function Vu(t){return Rw(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Ci(n.read());if(i)return yield Ci(void 0);yield yield Ci(r)}}finally{n.releaseLock()}})}function Lu(t){return ce(t?.getReader)}function Je(t){if(t instanceof le)return t;if(t!=null){if(Pu(t))return xx(t);if(xu(t))return Rx(t);if(Ru(t))return Px(t);if(Nu(t))return Nw(t);if(Fu(t))return Nx(t);if(Lu(t))return Ox(t)}throw Ou(t)}function xx(t){return new le(e=>{let n=t[Io]();if(ce(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Rx(t){return new le(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function Px(t){return new le(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,wu)})}function Nx(t){return new le(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Nw(t){return new le(e=>{kx(t,e).catch(n=>e.error(n))})}function Ox(t){return Nw(Vu(t))}function kx(t,e){var n,r,i,o;return xw(this,void 0,void 0,function*(){try{for(n=Pw(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function Ut(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Or(t,e=0){return Ee((n,r)=>{n.subscribe(ye(r,i=>Ut(r,t,()=>r.next(i),e),()=>Ut(r,t,()=>r.complete(),e),i=>Ut(r,t,()=>r.error(i),e)))})}function kr(t,e=0){return Ee((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Ow(t,e){return Je(t).pipe(kr(e),Or(e))}function kw(t,e){return Je(t).pipe(kr(e),Or(e))}function Fw(t,e){return new le(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function Vw(t,e){return new le(n=>{let r;return Ut(n,e,()=>{r=t[ku](),Ut(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>ce(r?.return)&&r.return()})}function Uu(t,e){if(!t)throw new Error("Iterable cannot be null");return new le(n=>{Ut(n,e,()=>{let r=t[Symbol.asyncIterator]();Ut(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Lw(t,e){return Uu(Vu(t),e)}function Uw(t,e){if(t!=null){if(Pu(t))return Ow(t,e);if(xu(t))return Fw(t,e);if(Ru(t))return kw(t,e);if(Nu(t))return Uu(t,e);if(Fu(t))return Vw(t,e);if(Lu(t))return Lw(t,e)}throw Ou(t)}function Ne(t,e){return e?Uw(t,e):Je(t)}function Z(...t){let e=Nr(t);return Ne(t,e)}function Ao(t,e){let n=ce(t)?t:()=>t,r=i=>i.error(n());return new le(e?i=>e.schedule(r,0,i):r)}function qf(t){return!!t&&(t instanceof le||ce(t.lift)&&ce(t.subscribe))}var er=vo(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function jw(t){return t instanceof Date&&!isNaN(t)}function X(t,e){return Ee((n,r)=>{let i=0;n.subscribe(ye(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:Fx}=Array;function Vx(t,e){return Fx(e)?t(...e):t(e)}function ju(t){return X(e=>Vx(t,e))}var{isArray:Lx}=Array,{getPrototypeOf:Ux,prototype:jx,keys:Bx}=Object;function Bu(t){if(t.length===1){let e=t[0];if(Lx(e))return{args:e,keys:null};if($x(e)){let n=Bx(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function $x(t){return t&&typeof t=="object"&&Ux(t)===jx}function $u(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Ea(...t){let e=Nr(t),n=Mu(t),{args:r,keys:i}=Bu(t);if(r.length===0)return Ne([],e);let o=new le(Hx(r,e,i?s=>$u(i,s):qt));return n?o.pipe(ju(n)):o}function Hx(t,e,n=qt){return r=>{Bw(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)Bw(e,()=>{let l=Ne(t[u],e),h=!1;l.subscribe(ye(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Bw(t,e,n){t?Ut(n,t,e):e()}function $w(t,e,n,r,i,o,s,a){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},y=P=>l<r?T(P):u.push(P),T=P=>{o&&e.next(P),l++;let R=!1;Je(n(P,h++)).subscribe(ye(e,F=>{i?.(F),o?y(F):e.next(F)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let F=u.shift();s?Ut(e,s,()=>T(F)):T(F)}m()}catch(F){e.error(F)}}))};return t.subscribe(ye(e,y,()=>{p=!0,m()})),()=>{a?.()}}function Ze(t,e,n=1/0){return ce(e)?Ze((r,i)=>X((o,s)=>e(r,o,i,s))(Je(t(r,i))),n):(typeof e=="number"&&(n=e),Ee((r,i)=>$w(r,i,t,n)))}function Fr(t=1/0){return Ze(qt,t)}function Hw(){return Fr(1)}function Mo(...t){return Hw()(Ne(t,Nr(t)))}function Hu(t){return new le(e=>{Je(t()).subscribe(e)})}function Gf(...t){let e=Mu(t),{args:n,keys:r}=Bu(t),i=new le(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;Je(n[h]).subscribe(ye(o,m=>{p||(p=!0,l--),a[h]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?$u(r,a):a),o.complete())}))}});return e?i.pipe(ju(e)):i}function Wf(t=0,e,n=$f){let r=-1;return e!=null&&(Au(e)?n=e:r=e),new le(i=>{let o=jw(t)?+t-n.now():t;o<0&&(o=0);let s=0;return n.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function Pt(t,e){return Ee((n,r)=>{let i=0;n.subscribe(ye(r,o=>t.call(e,o,i++)&&r.next(o)))})}function Vr(t){return Ee((e,n)=>{let r=null,i=!1,o;r=e.subscribe(ye(n,void 0,void 0,s=>{o=Je(t(s,Vr(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function zw(t,e,n,r,i){return(o,s)=>{let a=n,u=e,l=0;o.subscribe(ye(s,h=>{let p=l++;u=a?t(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function tr(t,e){return ce(e)?Ze(t,e,1):Ze(t,1)}function Lr(t){return Ee((e,n)=>{let r=!1;e.subscribe(ye(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function nr(t){return t<=0?()=>Gt:Ee((e,n)=>{let r=0;e.subscribe(ye(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Kf(t){return X(()=>t)}function zu(t=zx){return Ee((e,n)=>{let r=!1;e.subscribe(ye(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function zx(){return new er}function Ur(t){return Ee((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function bn(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Pt((i,o)=>t(i,o,r)):qt,nr(1),n?Lr(e):zu(()=>new er))}function xo(t){return t<=0?()=>Gt:Ee((e,n)=>{let r=[];e.subscribe(ye(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Qf(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Pt((i,o)=>t(i,o,r)):qt,xo(1),n?Lr(e):zu(()=>new er))}function qu(t,e){return Ee(zw(t,e,arguments.length>=2,!0))}function Gu(...t){let e=Nr(t);return Ee((n,r)=>{(e?Mo(t,n,e):Mo(t,n)).subscribe(r)})}function jt(t,e){return Ee((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(ye(r,u=>{i?.unsubscribe();let l=0,h=o++;Je(t(u,h)).subscribe(i=ye(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Yf(t){return Ee((e,n)=>{Je(t).subscribe(ye(n,()=>n.complete(),_a)),!n.closed&&e.subscribe(n)})}function Xe(t,e,n){let r=ce(t)||e||n?{next:t,error:e,complete:n}:t;return r?Ee((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(ye(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):qt}var xE="https://g.co/ng/security#xss",G=class extends Error{constructor(e,n){super(Tl(e,n)),this.code=e}};function Tl(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Ra(t){return{toString:t}.toString()}var Wu="__parameters__";function qx(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function RE(t,e,n){return Ra(()=>{let r=qx(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(Wu)?u[Wu]:Object.defineProperty(u,Wu,{value:[]})[Wu];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Ca=globalThis;function Oe(t){for(let e in t)if(t[e]===Oe)return e;throw Error("Could not find renamed property on target object.")}function Gx(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Ot(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Ot).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function qw(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var Wx=Oe({__forward_ref__:Oe});function Pn(t){return t.__forward_ref__=Pn,t.toString=function(){return Ot(this())},t}function Nt(t){return PE(t)?t():t}function PE(t){return typeof t=="function"&&t.hasOwnProperty(Wx)&&t.__forward_ref__===Pn}function H(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Nn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Sl(t){return Gw(t,OE)||Gw(t,kE)}function NE(t){return Sl(t)!==null}function Gw(t,e){return t.hasOwnProperty(e)?t[e]:null}function Kx(t){let e=t&&(t[OE]||t[kE]);return e||null}function Ww(t){return t&&(t.hasOwnProperty(Kw)||t.hasOwnProperty(Qx))?t[Kw]:null}var OE=Oe({\u0275prov:Oe}),Kw=Oe({\u0275inj:Oe}),kE=Oe({ngInjectableDef:Oe}),Qx=Oe({ngInjectorDef:Oe}),$=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=H({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function FE(t){return t&&!!t.\u0275providers}var Yx=Oe({\u0275cmp:Oe}),Jx=Oe({\u0275dir:Oe}),Zx=Oe({\u0275pipe:Oe}),Xx=Oe({\u0275mod:Oe}),rl=Oe({\u0275fac:Oe}),Ia=Oe({__NG_ELEMENT_ID__:Oe}),Qw=Oe({__NG_ENV_ID__:Oe});function Fo(t){return typeof t=="string"?t:t==null?"":String(t)}function eR(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Fo(t)}function tR(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new G(-200,t)}function og(t,e){throw new G(-201,!1)}var ge=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ge||{}),dp;function VE(){return dp}function Bt(t){let e=dp;return dp=t,e}function LE(t,e,n){let r=Sl(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&ge.Optional)return null;if(e!==void 0)return e;og(t,"Injector")}var nR={},ba=nR,hp="__NG_DI_FLAG__",il="ngTempTokenPath",rR="ngTokenPath",iR=/\n/gm,oR="\u0275",Yw="__source",Oo;function sR(){return Oo}function jr(t){let e=Oo;return Oo=t,e}function aR(t,e=ge.Default){if(Oo===void 0)throw new G(-203,!1);return Oo===null?LE(t,void 0,e):Oo.get(t,e&ge.Optional?null:void 0,e)}function W(t,e=ge.Default){return(VE()||aR)(Nt(t),e)}function k(t,e=ge.Default){return W(t,Al(e))}function Al(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function fp(t){let e=[];for(let n=0;n<t.length;n++){let r=Nt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new G(900,!1);let i,o=ge.Default;for(let s=0;s<r.length;s++){let a=r[s],u=cR(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(W(i,o))}else e.push(W(r))}return e}function UE(t,e){return t[hp]=e,t.prototype[hp]=e,t}function cR(t){return t[hp]}function uR(t,e,n,r){let i=t[il];throw e[Yw]&&i.unshift(e[Yw]),t.message=lR(`
`+t.message,i,n,r),t[rR]=i,t[il]=null,t}function lR(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==oR?t.slice(2):t;let i=Ot(e);if(Array.isArray(e))i=e.map(Ot).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Ot(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(iR,`
  `)}`}var kt=UE(RE("Optional"),8);var sg=UE(RE("SkipSelf"),4);function Ti(t,e){let n=t.hasOwnProperty(rl);return n?t[rl]:null}function dR(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function hR(t){return t.flat(Number.POSITIVE_INFINITY)}function ag(t,e){t.forEach(n=>Array.isArray(n)?ag(n,e):e(n))}function jE(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function ol(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function fR(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function pR(t,e,n){let r=Pa(t,e);return r>=0?t[r|1]=n:(r=~r,fR(t,r,e,n)),r}function Jf(t,e){let n=Pa(t,e);if(n>=0)return t[n|1]}function Pa(t,e){return gR(t,e,1)}function gR(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var Vo={},en=[],Lo=new $(""),BE=new $("",-1),$E=new $(""),sl=class{get(e,n=ba){if(n===ba){let r=new Error(`NullInjectorError: No provider for ${Ot(e)}!`);throw r.name="NullInjectorError",r}return n}},HE=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(HE||{}),Sn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Sn||{}),Uo=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Uo||{});function mR(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function pp(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];yR(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function zE(t){return t===3||t===4||t===6}function yR(t){return t.charCodeAt(0)===64}function Da(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Jw(t,n,i,null,e[++r]):Jw(t,n,i,null,null))}}return t}function Jw(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var qE="ng-template";function vR(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&mR(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(cg(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function cg(t){return t.type===4&&t.value!==qE}function _R(t,e,n){let r=t.type===4&&!n?qE:t.value;return e===r}function wR(t,e,n){let r=4,i=t.attrs,o=i!==null?CR(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!dn(r)&&!dn(u))return!1;if(s&&dn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!_R(t,u,n)||u===""&&e.length===1){if(dn(r))return!1;s=!0}}else if(r&8){if(i===null||!vR(t,i,u,n)){if(dn(r))return!1;s=!0}}else{let l=e[++a],h=ER(u,i,cg(t),n);if(h===-1){if(dn(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(dn(r))return!1;s=!0}}}}return dn(r)||s}function dn(t){return(t&1)===0}function ER(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return bR(e,t)}function IR(t,e,n=!1){for(let r=0;r<e.length;r++)if(wR(t,e[r],n))return!0;return!1}function CR(t){for(let e=0;e<t.length;e++){let n=t[e];if(zE(n))return e}return t.length}function bR(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function Zw(t,e){return t?":not("+e.trim()+")":e}function DR(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!dn(s)&&(e+=Zw(o,i),i=""),r=s,o=o||!dn(r);n++}return i!==""&&(e+=Zw(o,i)),e}function TR(t){return t.map(DR).join(",")}function SR(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!dn(i))break;i=o}r++}return{attrs:e,classes:n}}function qe(t){return Ra(()=>{let e=JE(t),n=we(U({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===HE.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Sn.Emulated,styles:t.styles||en,_:null,schemas:t.schemas||null,tView:null,id:""});ZE(n);let r=t.dependencies;return n.directiveDefs=eE(r,!1),n.pipeDefs=eE(r,!0),n.id=xR(n),n})}function AR(t){return zr(t)||WE(t)}function MR(t){return t!==null}function On(t){return Ra(()=>({type:t.type,bootstrap:t.bootstrap||en,declarations:t.declarations||en,imports:t.imports||en,exports:t.exports||en,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Xw(t,e){if(t==null)return Vo;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=Uo.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==Uo.None?[r,a]:r,e[o]=s):n[o]=r}return n}function Ve(t){return Ra(()=>{let e=JE(t);return ZE(e),e})}function GE(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function zr(t){return t[Yx]||null}function WE(t){return t[Jx]||null}function KE(t){return t[Zx]||null}function QE(t){let e=zr(t)||WE(t)||KE(t);return e!==null?e.standalone:!1}function YE(t,e){let n=t[Xx]||null;if(!n&&e===!0)throw new Error(`Type ${Ot(t)} does not have '\u0275mod' property.`);return n}function JE(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Vo,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||en,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Xw(t.inputs,e),outputs:Xw(t.outputs),debugInfo:null}}function ZE(t){t.features?.forEach(e=>e(t))}function eE(t,e){if(!t)return null;let n=e?KE:AR;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(MR)}function xR(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function gn(t){return{\u0275providers:t}}function RR(...t){return{\u0275providers:XE(!0,t),\u0275fromNgModule:!0}}function XE(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return ag(e,s=>{let a=s;gp(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&eI(i,o),n}function eI(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];ug(i,o=>{e(o,r)})}}function gp(t,e,n,r){if(t=Nt(t),!t)return!1;let i=null,o=Ww(t),s=!o&&zr(t);if(!o&&!s){let u=t.ngModule;if(o=Ww(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)gp(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{ag(o.imports,h=>{gp(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&eI(l,e)}if(!a){let l=Ti(i)||(()=>new i);e({provide:i,useFactory:l,deps:en},i),e({provide:$E,useValue:i,multi:!0},i),e({provide:Lo,useValue:()=>W(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=t;ug(u,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function ug(t,e){for(let n of t)FE(n)&&(n=n.\u0275providers),Array.isArray(n)?ug(n,e):e(n)}var PR=Oe({provide:String,useValue:Oe});function tI(t){return t!==null&&typeof t=="object"&&PR in t}function NR(t){return!!(t&&t.useExisting)}function OR(t){return!!(t&&t.useFactory)}function jo(t){return typeof t=="function"}function kR(t){return!!t.useClass}var Ml=new $(""),Ju={},FR={},Zf;function lg(){return Zf===void 0&&(Zf=new sl),Zf}var Ct=class{},Ta=class extends Ct{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,yp(e,s=>this.processProvider(s)),this.records.set(BE,Ro(void 0,this)),i.has("environment")&&this.records.set(Ct,Ro(void 0,this));let o=this.records.get(Ml);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get($E,en,ge.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Se(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Se(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=jr(this),r=Bt(void 0),i;try{return e()}finally{jr(n),Bt(r)}}get(e,n=ba,r=ge.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Qw))return e[Qw](this);r=Al(r);let i,o=jr(this),s=Bt(void 0);try{if(!(r&ge.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=BR(e)&&Sl(e);l&&this.injectableDefInScope(l)?u=Ro(mp(e),Ju):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&ge.Self?lg():this.parent;return n=r&ge.Optional&&n===ba?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[il]=a[il]||[]).unshift(Ot(e)),o)throw a;return uR(a,e,"R3InjectorError",this.source)}else throw a}finally{Bt(s),jr(o)}}resolveInjectorInitializers(){let e=Se(null),n=jr(this),r=Bt(void 0),i;try{let o=this.get(Lo,en,ge.Self);for(let s of o)s()}finally{jr(n),Bt(r),Se(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Ot(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new G(205,!1)}processProvider(e){e=Nt(e);let n=jo(e)?e:Nt(e&&e.provide),r=LR(e);if(!jo(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Ro(void 0,Ju,!0),i.factory=()=>fp(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=Se(null);try{return n.value===Ju&&(n.value=FR,n.value=n.factory()),typeof n.value=="object"&&n.value&&jR(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Se(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Nt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function mp(t){let e=Sl(t),n=e!==null?e.factory:Ti(t);if(n!==null)return n;if(t instanceof $)throw new G(204,!1);if(t instanceof Function)return VR(t);throw new G(204,!1)}function VR(t){if(t.length>0)throw new G(204,!1);let n=Kx(t);return n!==null?()=>n.factory(t):()=>new t}function LR(t){if(tI(t))return Ro(void 0,t.useValue);{let e=nI(t);return Ro(e,Ju)}}function nI(t,e,n){let r;if(jo(t)){let i=Nt(t);return Ti(i)||mp(i)}else if(tI(t))r=()=>Nt(t.useValue);else if(OR(t))r=()=>t.useFactory(...fp(t.deps||[]));else if(NR(t))r=()=>W(Nt(t.useExisting));else{let i=Nt(t&&(t.useClass||t.provide));if(UR(t))r=()=>new i(...fp(t.deps));else return Ti(i)||mp(i)}return r}function Ro(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function UR(t){return!!t.deps}function jR(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function BR(t){return typeof t=="function"||typeof t=="object"&&t instanceof $}function yp(t,e){for(let n of t)Array.isArray(n)?yp(n,e):n&&FE(n)?yp(n.\u0275providers,e):e(n)}function Kt(t,e){t instanceof Ta&&t.assertNotDestroyed();let n,r=jr(t),i=Bt(void 0);try{return e()}finally{jr(r),Bt(i)}}function rI(){return VE()!==void 0||sR()!=null}function $R(t){if(!rI())throw new G(-203,!1)}function HR(t){return typeof t=="function"}var ar=0,de=1,se=2,bt=3,hn=4,mn=5,al=6,cl=7,fn=8,Bo=9,An=10,et=11,Sa=12,tE=13,Ko=14,Mn=15,Si=16,Po=17,rr=18,xl=19,iI=20,$r=21,Xf=22,tn=23,pn=25,oI=1;var Ai=7,ul=8,$o=9,Wt=10,ll=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(ll||{});function Hr(t){return Array.isArray(t)&&typeof t[oI]=="object"}function cr(t){return Array.isArray(t)&&t[oI]===!0}function sI(t){return(t.flags&4)!==0}function Rl(t){return t.componentOffset>-1}function dg(t){return(t.flags&1)===1}function qr(t){return!!t.template}function vp(t){return(t[se]&512)!==0}var _p=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function aI(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function ur(){return cI}function cI(t){return t.type.prototype.ngOnChanges&&(t.setInput=qR),zR}ur.ngInherit=!0;function zR(){let t=lI(this),e=t?.current;if(e){let n=t.previous;if(n===Vo)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function qR(t,e,n,r,i){let o=this.declaredInputs[r],s=lI(t)||GR(t,{previous:Vo,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new _p(l&&l.currentValue,n,u===Vo),aI(t,e,i,n)}var uI="__ngSimpleChanges__";function lI(t){return t[uI]||null}function GR(t,e){return t[uI]=e}var nE=null;var Dn=function(t,e,n){nE?.(t,e,n)},WR="svg",KR="math";function xn(t){for(;Array.isArray(t);)t=t[ar];return t}function dI(t,e){return xn(e[t])}function nn(t,e){return xn(e[t.index])}function hI(t,e){return t.data[e]}function fI(t,e){return t[e]}function Wr(t,e){let n=e[t];return Hr(n)?n:n[ar]}function QR(t){return(t[se]&4)===4}function hg(t){return(t[se]&128)===128}function YR(t){return cr(t[bt])}function dl(t,e){return e==null?null:t[e]}function pI(t){t[Po]=0}function gI(t){t[se]&1024||(t[se]|=1024,hg(t)&&Pl(t))}function JR(t,e){for(;t>0;)e=e[Ko],t--;return e}function Aa(t){return!!(t[se]&9216||t[tn]?.dirty)}function wp(t){t[An].changeDetectionScheduler?.notify(7),t[se]&64&&(t[se]|=1024),Aa(t)&&Pl(t)}function Pl(t){t[An].changeDetectionScheduler?.notify(0);let e=Mi(t);for(;e!==null&&!(e[se]&8192||(e[se]|=8192,!hg(e)));)e=Mi(e)}function mI(t,e){if((t[se]&256)===256)throw new G(911,!1);t[$r]===null&&(t[$r]=[]),t[$r].push(e)}function ZR(t,e){if(t[$r]===null)return;let n=t[$r].indexOf(e);n!==-1&&t[$r].splice(n,1)}function Mi(t){let e=t[bt];return cr(e)?e[bt]:e}var pe={lFrame:SI(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var yI=!1;function XR(){return pe.lFrame.elementDepthCount}function eP(){pe.lFrame.elementDepthCount++}function tP(){pe.lFrame.elementDepthCount--}function vI(){return pe.bindingsEnabled}function nP(){return pe.skipHydrationRootTNode!==null}function rP(t){return pe.skipHydrationRootTNode===t}function iP(){pe.skipHydrationRootTNode=null}function Ie(){return pe.lFrame.lView}function ct(){return pe.lFrame.tView}function re(t){return pe.lFrame.contextLView=t,t[fn]}function ie(t){return pe.lFrame.contextLView=null,t}function Dt(){let t=_I();for(;t!==null&&t.type===64;)t=t.parent;return t}function _I(){return pe.lFrame.currentTNode}function oP(){let t=pe.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Na(t,e){let n=pe.lFrame;n.currentTNode=t,n.isParent=e}function wI(){return pe.lFrame.isParent}function sP(){pe.lFrame.isParent=!1}function aP(){return pe.lFrame.contextLView}function EI(){return yI}function rE(t){yI=t}function II(){let t=pe.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function cP(){return pe.lFrame.bindingIndex}function uP(t){return pe.lFrame.bindingIndex=t}function Nl(){return pe.lFrame.bindingIndex++}function CI(t){let e=pe.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function lP(){return pe.lFrame.inI18n}function dP(t,e){let n=pe.lFrame;n.bindingIndex=n.bindingRootIndex=t,Ep(e)}function hP(){return pe.lFrame.currentDirectiveIndex}function Ep(t){pe.lFrame.currentDirectiveIndex=t}function fP(t){let e=pe.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function bI(){return pe.lFrame.currentQueryIndex}function fg(t){pe.lFrame.currentQueryIndex=t}function pP(t){let e=t[de];return e.type===2?e.declTNode:e.type===1?t[mn]:null}function DI(t,e,n){if(n&ge.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&ge.Host);)if(i=pP(o),i===null||(o=o[Ko],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=pe.lFrame=TI();return r.currentTNode=e,r.lView=t,!0}function pg(t){let e=TI(),n=t[de];pe.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function TI(){let t=pe.lFrame,e=t===null?null:t.child;return e===null?SI(t):e}function SI(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function AI(){let t=pe.lFrame;return pe.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var MI=AI;function gg(){let t=AI();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function gP(t){return(pe.lFrame.contextLView=JR(t,pe.lFrame.contextLView))[fn]}function Vi(){return pe.lFrame.selectedIndex}function xi(t){pe.lFrame.selectedIndex=t}function Ol(){let t=pe.lFrame;return hI(t.tView,t.selectedIndex)}function mP(){return pe.lFrame.currentNamespace}var xI=!0;function mg(){return xI}function yg(t){xI=t}function yP(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=cI(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function vg(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function Zu(t,e,n){RI(t,e,3,n)}function Xu(t,e,n,r){(t[se]&3)===n&&RI(t,e,n,r)}function ep(t,e){let n=t[se];(n&3)===e&&(n&=16383,n+=1,t[se]=n)}function RI(t,e,n,r){let i=r!==void 0?t[Po]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[Po]+=65536),(a<o||o==-1)&&(vP(t,n,e,u),t[Po]=(t[Po]&4294901760)+u+2),u++}function iE(t,e){Dn(4,t,e);let n=Se(null);try{e.call(t)}finally{Se(n),Dn(5,t,e)}}function vP(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[se]>>14<t[Po]>>16&&(t[se]&3)===e&&(t[se]+=16384,iE(a,o)):iE(a,o)}var ko=-1,Ri=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function _P(t){return t instanceof Ri}function wP(t){return(t.flags&8)!==0}function EP(t){return(t.flags&16)!==0}var tp={},Ip=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Al(r);let i=this.injector.get(e,tp,r);return i!==tp||n===tp?i:this.parentInjector.get(e,n,r)}};function PI(t){return t!==ko}function hl(t){return t&32767}function IP(t){return t>>16}function fl(t,e){let n=IP(t),r=e;for(;n>0;)r=r[Ko],n--;return r}var Cp=!0;function pl(t){let e=Cp;return Cp=t,e}var CP=256,NI=CP-1,OI=5,bP=0,Tn={};function DP(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ia)&&(r=n[Ia]),r==null&&(r=n[Ia]=bP++);let i=r&NI,o=1<<i;e.data[t+(i>>OI)]|=o}function gl(t,e){let n=kI(t,e);if(n!==-1)return n;let r=e[de];r.firstCreatePass&&(t.injectorIndex=e.length,np(r.data,t),np(e,null),np(r.blueprint,null));let i=_g(t,e),o=t.injectorIndex;if(PI(i)){let s=hl(i),a=fl(i,e),u=a[de].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function np(t,e){t.push(0,0,0,0,0,0,0,0,e)}function kI(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function _g(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=jI(i),r===null)return ko;if(n++,i=i[Ko],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return ko}function bp(t,e,n){DP(t,e,n)}function TP(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(zE(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function FI(t,e,n){if(n&ge.Optional||t!==void 0)return t;og(e,"NodeInjector")}function VI(t,e,n,r){if(n&ge.Optional&&r===void 0&&(r=null),!(n&(ge.Self|ge.Host))){let i=t[Bo],o=Bt(void 0);try{return i?i.get(e,r,n&ge.Optional):LE(e,r,n&ge.Optional)}finally{Bt(o)}}return FI(r,e,n)}function LI(t,e,n,r=ge.Default,i){if(t!==null){if(e[se]&2048&&!(r&ge.Self)){let s=xP(t,e,n,r,Tn);if(s!==Tn)return s}let o=UI(t,e,n,r,Tn);if(o!==Tn)return o}return VI(e,n,r,i)}function UI(t,e,n,r,i){let o=AP(n);if(typeof o=="function"){if(!DI(e,t,r))return r&ge.Host?FI(i,n,r):VI(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&ge.Optional))og(n);else return s}finally{MI()}}else if(typeof o=="number"){let s=null,a=kI(t,e),u=ko,l=r&ge.Host?e[Mn][mn]:null;for((a===-1||r&ge.SkipSelf)&&(u=a===-1?_g(t,e):e[a+8],u===ko||!sE(r,!1)?a=-1:(s=e[de],a=hl(u),e=fl(u,e)));a!==-1;){let h=e[de];if(oE(o,a,h.data)){let p=SP(a,e,n,s,r,l);if(p!==Tn)return p}u=e[a+8],u!==ko&&sE(r,e[de].data[a+8]===l)&&oE(o,a,e)?(s=h,a=hl(u),e=fl(u,e)):a=-1}}return i}function SP(t,e,n,r,i,o){let s=e[de],a=s.data[t+8],u=r==null?Rl(a)&&Cp:r!=s&&(a.type&3)!==0,l=i&ge.Host&&o===a,h=el(a,s,n,u,l);return h!==null?Pi(e,s,h,a):Tn}function el(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,u=t.directiveStart,l=t.directiveEnd,h=o>>20,p=r?a:a+h,m=i?a+h:l;for(let y=p;y<m;y++){let T=s[y];if(y<u&&n===T||y>=u&&T.type===n)return y}if(i){let y=s[u];if(y&&qr(y)&&y.type===n)return u}return null}function Pi(t,e,n,r){let i=t[n],o=e.data;if(_P(i)){let s=i;s.resolving&&tR(eR(o[n]));let a=pl(s.canSeeViewProviders);s.resolving=!0;let u,l=s.injectImpl?Bt(s.injectImpl):null,h=DI(t,r,ge.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&yP(n,o[n],e)}finally{l!==null&&Bt(l),pl(a),s.resolving=!1,MI()}}return i}function AP(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Ia)?t[Ia]:void 0;return typeof e=="number"?e>=0?e&NI:MP:e}function oE(t,e,n){let r=1<<t;return!!(n[e+(t>>OI)]&r)}function sE(t,e){return!(t&ge.Self)&&!(t&ge.Host&&e)}var Di=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return LI(this._tNode,this._lView,e,Al(r),n)}};function MP(){return new Di(Dt(),Ie())}function lr(t){return Ra(()=>{let e=t.prototype.constructor,n=e[rl]||Dp(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[rl]||Dp(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Dp(t){return PE(t)?()=>{let e=Dp(Nt(t));return e&&e()}:Ti(t)}function xP(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[se]&2048&&!(s[se]&512);){let a=UI(o,s,n,r|ge.Self,Tn);if(a!==Tn)return a;let u=o.parent;if(!u){let l=s[iI];if(l){let h=l.get(n,Tn,r);if(h!==Tn)return h}u=jI(s),s=s[Ko]}o=u}return i}function jI(t){let e=t[de],n=e.type;return n===2?e.declTNode:n===1?t[mn]:null}function wg(t){return TP(Dt(),t)}function aE(t,e=null,n=null,r){let i=BI(t,e,n,r);return i.resolveInjectorInitializers(),i}function BI(t,e=null,n=null,r,i=new Set){let o=[n||en,RR(t)];return r=r||(typeof t=="object"?void 0:Ot(t)),new Ta(o,e||lg(),r||null,i)}var bi=class bi{static create(e,n){if(Array.isArray(e))return aE({name:""},n,e,"");{let r=e.name??"";return aE({name:r},e.parent,e.providers,r)}}};bi.THROW_IF_NOT_FOUND=ba,bi.NULL=new sl,bi.\u0275prov=H({token:bi,providedIn:"any",factory:()=>W(BE)}),bi.__NG_ELEMENT_ID__=-1;var ft=bi;var RP=new $("");RP.__NG_ELEMENT_ID__=t=>{let e=Dt();if(e===null)throw new G(204,!1);if(e.type&2)return e.value;if(t&ge.Optional)return null;throw new G(204,!1)};var PP="ngOriginalError";function rp(t){return t[PP]}var Rn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&rp(e);for(;n&&rp(n);)n=rp(n);return n||null}},$I=new $("",{providedIn:"root",factory:()=>k(Rn).handleError.bind(void 0)}),Eg=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=NP,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),Tp=class extends Eg{constructor(e){super(),this._lView=e}onDestroy(e){return mI(this._lView,e),()=>ZR(this._lView,e)}};function NP(){return new Tp(Ie())}function OP(){return Qo(Dt(),Ie())}function Qo(t,e){return new Ft(nn(t,e))}var Ft=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=OP;let t=e;return t})();function kP(t){return t instanceof Ft?t.nativeElement:t}var dr=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new rt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275prov=H({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();var Sp=class extends at{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,rI()&&(this.destroyRef=k(Eg,{optional:!0})??void 0,this.pendingTasks=k(dr,{optional:!0})??void 0)}emit(e){let n=Se(null);try{super.next(e)}finally{Se(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof He&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},ze=Sp;function FP(){return this._results[Symbol.iterator]()}var Ap=class t{get changes(){return this._changes??=new ze}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=FP)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=hR(e);(this._changesDetected=!dR(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function HI(t){return(t.flags&128)===128}var zI=new Map,VP=0;function LP(){return VP++}function UP(t){zI.set(t[xl],t)}function jP(t){zI.delete(t[xl])}var cE="__ngContext__";function Ni(t,e){Hr(e)?(t[cE]=e[xl],UP(e)):t[cE]=e}function qI(t){return WI(t[Sa])}function GI(t){return WI(t[hn])}function WI(t){for(;t!==null&&!cr(t);)t=t[hn];return t}var Mp;function KI(t){Mp=t}function BP(){if(Mp!==void 0)return Mp;if(typeof document<"u")return document;throw new G(210,!1)}var Ig=new $("",{providedIn:"root",factory:()=>$P}),$P="ng",Cg=new $(""),pt=new $("",{providedIn:"platform",factory:()=>"unknown"});var bg=new $("",{providedIn:"root",factory:()=>BP().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var HP="h",zP="b";var qP=()=>null;function Dg(t,e,n=!1){return qP(t,e,n)}var QI=!1,GP=new $("",{providedIn:"root",factory:()=>QI});var Ku;function WP(){if(Ku===void 0&&(Ku=null,Ca.trustedTypes))try{Ku=Ca.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Ku}function uE(t){return WP()?.createScriptURL(t)||t}var ml=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${xE})`}};function Oa(t){return t instanceof ml?t.changingThisBreaksApplicationSecurity:t}function Tg(t,e){let n=KP(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${xE})`)}return n===e}function KP(t){return t instanceof ml&&t.getTypeName()||null}var QP=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function YI(t){return t=String(t),t.match(QP)?t:"unsafe:"+t}var kl=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(kl||{});function kn(t){let e=ZI();return e?e.sanitize(kl.URL,t)||"":Tg(t,"URL")?Oa(t):YI(Fo(t))}function YP(t){let e=ZI();if(e)return uE(e.sanitize(kl.RESOURCE_URL,t)||"");if(Tg(t,"ResourceURL"))return uE(Oa(t));throw new G(904,!1)}function JP(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?YP:kn}function JI(t,e,n){return JP(e,n)(t)}function ZI(){let t=Ie();return t&&t[An].sanitizer}function XI(t){return t instanceof Function?t():t}function ZP(t){return(t??k(ft)).get(pt)==="browser"}var ir=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(ir||{}),XP;function Sg(t,e){return XP(t,e)}function No(t,e,n,r,i){if(r!=null){let o,s=!1;cr(r)?o=r:Hr(r)&&(s=!0,r=r[ar]);let a=xn(r);t===0&&n!==null?i==null?iC(e,n,a):yl(e,n,a,i||null,!0):t===1&&n!==null?yl(e,n,a,i||null,!0):t===2?gN(e,a,s):t===3&&e.destroyNode(a),o!=null&&yN(e,t,o,n,i)}}function eN(t,e){return t.createText(e)}function tN(t,e,n){t.setValue(e,n)}function eC(t,e,n){return t.createElement(e,n)}function nN(t,e){tC(t,e),e[ar]=null,e[mn]=null}function rN(t,e,n,r,i,o){r[ar]=i,r[mn]=e,Fl(t,r,n,1,i,o)}function tC(t,e){e[An].changeDetectionScheduler?.notify(8),Fl(t,e,e[et],2,null,null)}function iN(t){let e=t[Sa];if(!e)return ip(t[de],t);for(;e;){let n=null;if(Hr(e))n=e[Sa];else{let r=e[Wt];r&&(n=r)}if(!n){for(;e&&!e[hn]&&e!==t;)Hr(e)&&ip(e[de],e),e=e[bt];e===null&&(e=t),Hr(e)&&ip(e[de],e),n=e&&e[hn]}e=n}}function oN(t,e,n,r){let i=Wt+r,o=n.length;r>0&&(n[i-1][hn]=e),r<o-Wt?(e[hn]=n[i],jE(n,Wt+r,e)):(n.push(e),e[hn]=null),e[bt]=n;let s=e[Si];s!==null&&n!==s&&nC(s,e);let a=e[rr];a!==null&&a.insertView(t),wp(e),e[se]|=128}function nC(t,e){let n=t[$o],r=e[bt];if(Hr(r))t[se]|=ll.HasTransplantedViews;else{let i=r[bt][Mn];e[Mn]!==i&&(t[se]|=ll.HasTransplantedViews)}n===null?t[$o]=[e]:n.push(e)}function Ag(t,e){let n=t[$o],r=n.indexOf(e);n.splice(r,1)}function xp(t,e){if(t.length<=Wt)return;let n=Wt+e,r=t[n];if(r){let i=r[Si];i!==null&&i!==t&&Ag(i,r),e>0&&(t[n-1][hn]=r[hn]);let o=ol(t,Wt+e);nN(r[de],r);let s=o[rr];s!==null&&s.detachView(o[de]),r[bt]=null,r[hn]=null,r[se]&=-129}return r}function rC(t,e){if(!(e[se]&256)){let n=e[et];n.destroyNode&&Fl(t,e,n,3,null,null),iN(e)}}function ip(t,e){if(e[se]&256)return;let n=Se(null);try{e[se]&=-129,e[se]|=256,e[tn]&&Mf(e[tn]),aN(t,e),sN(t,e),e[de].type===1&&e[et].destroy();let r=e[Si];if(r!==null&&cr(e[bt])){r!==e[bt]&&Ag(r,e);let i=e[rr];i!==null&&i.detachView(t)}jP(e)}finally{Se(n)}}function sN(t,e){let n=t.cleanup,r=e[cl];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[cl]=null);let i=e[$r];if(i!==null){e[$r]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function aN(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Ri)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];Dn(4,a,u);try{u.call(a)}finally{Dn(5,a,u)}}else{Dn(4,i,o);try{o.call(i)}finally{Dn(5,i,o)}}}}}function cN(t,e,n){return uN(t,e.parent,n)}function uN(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[ar];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===Sn.None||o===Sn.Emulated)return null}return nn(r,n)}}function yl(t,e,n,r,i){t.insertBefore(e,n,r,i)}function iC(t,e,n){t.appendChild(e,n)}function lE(t,e,n,r,i){r!==null?yl(t,e,n,r,i):iC(t,e,n)}function lN(t,e,n,r){t.removeChild(e,n,r)}function Mg(t,e){return t.parentNode(e)}function dN(t,e){return t.nextSibling(e)}function hN(t,e,n){return pN(t,e,n)}function fN(t,e,n){return t.type&40?nn(t,n):null}var pN=fN,dE;function xg(t,e,n,r){let i=cN(t,r,e),o=e[et],s=r.parent||e[mn],a=hN(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)lE(o,i,n[u],a,!1);else lE(o,i,n,a,!1);dE!==void 0&&dE(o,r,e,n,i)}function tl(t,e){if(e!==null){let n=e.type;if(n&3)return nn(e,t);if(n&4)return Rp(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return tl(t,r);{let i=t[e.index];return cr(i)?Rp(-1,i):xn(i)}}else{if(n&32)return Sg(e,t)()||xn(t[e.index]);{let r=oC(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Mi(t[Mn]);return tl(i,r)}else return tl(t,e.next)}}}return null}function oC(t,e){if(e!==null){let r=t[Mn][mn],i=e.projection;return r.projection[i]}return null}function Rp(t,e){let n=Wt+t+1;if(n<e.length){let r=e[n],i=r[de].firstChild;if(i!==null)return tl(r,i)}return e[Ai]}function gN(t,e,n){let r=Mg(t,e);r&&lN(t,r,e,n)}function Rg(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],u=n.type;if(s&&e===0&&(a&&Ni(xn(a),r),n.flags|=2),(n.flags&32)!==32)if(u&8)Rg(t,e,n.child,r,i,o,!1),No(e,t,i,a,o);else if(u&32){let l=Sg(n,r),h;for(;h=l();)No(e,t,i,h,o);No(e,t,i,a,o)}else u&16?mN(t,e,r,n,i,o):No(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Fl(t,e,n,r,i,o){Rg(n,r,t.firstChild,e,i,o,!1)}function mN(t,e,n,r,i,o){let s=n[Mn],u=s[mn].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];No(e,t,i,h,o)}else{let l=u,h=s[bt];HI(r)&&(l.flags|=128),Rg(t,e,l,h,i,o,!0)}}function yN(t,e,n,r,i){let o=n[Ai],s=xn(n);o!==s&&No(e,t,r,o,i);for(let a=Wt;a<n.length;a++){let u=n[a];Fl(u[de],u,t,e,r,o)}}function vN(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:ir.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=ir.Important),t.setStyle(n,r,i,o))}}function _N(t,e,n){t.setAttribute(e,"style",n)}function sC(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function aC(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&pp(t,e,r),i!==null&&sC(t,e,i),o!==null&&_N(t,e,o)}var Fn={};function j(t=1){cC(ct(),Ie(),Vi()+t,!1)}function cC(t,e,n,r){if(!r)if((e[se]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Zu(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Xu(e,o,0,n)}xi(n)}function B(t,e=ge.Default){let n=Ie();if(n===null)return W(t,e);let r=Dt();return LI(r,n,Nt(t),e)}function uC(){let t="invalid";throw new Error(t)}function lC(t,e,n,r,i,o){let s=Se(null);try{let a=null;i&Uo.SignalBased&&(a=e[r][Df]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&Uo.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):aI(e,a,r,o)}finally{Se(s)}}function wN(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)xi(~i);else{let o=i,s=n[++r],a=n[++r];dP(s,o);let u=e[o];a(2,u)}}}finally{xi(-1)}}function Vl(t,e,n,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[ar]=i,p[se]=r|4|128|8|64,(l!==null||t&&t[se]&2048)&&(p[se]|=2048),pI(p),p[bt]=p[Ko]=t,p[fn]=n,p[An]=s||t&&t[An],p[et]=a||t&&t[et],p[Bo]=u||t&&t[Bo]||null,p[mn]=o,p[xl]=LP(),p[al]=h,p[iI]=l,p[Mn]=e.type==2?t[Mn]:p,p}function Ll(t,e,n,r,i){let o=t.data[e];if(o===null)o=EN(t,e,n,r,i),lP()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=oP();o.injectorIndex=s===null?-1:s.injectorIndex}return Na(o,!0),o}function EN(t,e,n,r,i){let o=_I(),s=wI(),a=s?o:o&&o.parent,u=t.data[e]=SN(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),o!==null&&(s?o.child==null&&u.parent!==null&&(o.child=u):o.next===null&&(o.next=u,u.prev=o)),u}function dC(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function hC(t,e,n,r,i){let o=Vi(),s=r&2;try{xi(-1),s&&e.length>pn&&cC(t,e,pn,!1),Dn(s?2:0,i),n(r,i)}finally{xi(o),Dn(s?3:1,i)}}function fC(t,e,n){if(sI(e)){let r=Se(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let u=n[s];a.contentQueries(1,u,s)}}}finally{Se(r)}}}function pC(t,e,n){vI()&&(NN(t,e,n,nn(n,e)),(n.flags&64)===64&&_C(t,e,n))}function gC(t,e,n=nn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function mC(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Pg(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Pg(t,e,n,r,i,o,s,a,u,l,h){let p=pn+r,m=p+i,y=IN(p,m),T=typeof l=="function"?l():l;return y[de]={type:t,blueprint:y,template:n,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:T,incompleteFirstPass:!1,ssrId:h}}function IN(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Fn);return n}function CN(t,e,n,r){let o=r.get(GP,QI)||n===Sn.ShadowDom,s=t.selectRootElement(e,o);return bN(s),s}function bN(t){DN(t)}var DN=()=>null;function TN(t,e,n,r){let i=IC(e);i.push(n),t.firstCreatePass&&CC(t).push(r,i.length-1)}function SN(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return nP()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function hE(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,u=Uo.None;Array.isArray(s)?(a=s[0],u=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}t===0?fE(r,n,l,a,u):fE(r,n,l,a)}return r}function fE(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function AN(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],u=null,l=null;for(let h=r;h<i;h++){let p=o[h],m=n?n.get(p):null,y=m?m.inputs:null,T=m?m.outputs:null;u=hE(0,p.inputs,h,u,y),l=hE(1,p.outputs,h,l,T);let P=u!==null&&s!==null&&!cg(e)?zN(u,h,s):null;a.push(P)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}function MN(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Ng(t,e,n,r,i,o,s,a){let u=nn(e,n),l=e.inputs,h;!a&&l!=null&&(h=l[r])?(Og(t,n,h,r,i),Rl(e)&&xN(n,e.index)):e.type&3?(r=MN(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)):e.type&12}function xN(t,e){let n=Wr(e,t);n[se]&16||(n[se]|=64)}function yC(t,e,n,r){if(vI()){let i=r===null?null:{"":-1},o=kN(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&vC(t,e,n,s,i,a),i&&FN(n,r,i)}n.mergedAttrs=Da(n.mergedAttrs,n.attrs)}function vC(t,e,n,r,i,o){for(let l=0;l<r.length;l++)bp(gl(n,e),t,r[l].type);LN(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let h=r[l];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,u=dC(t,e,r.length,null);for(let l=0;l<r.length;l++){let h=r[l];n.mergedAttrs=Da(n.mergedAttrs,h.hostAttrs),UN(t,n,e,u,h),VN(u,h,i),h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let p=h.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}AN(t,n,o)}function RN(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;PN(s)!=a&&s.push(a),s.push(n,r,o)}}function PN(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function NN(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;Rl(n)&&jN(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||gl(n,e),Ni(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let u=t.data[a],l=Pi(e,t,a,n);if(Ni(l,e),s!==null&&HN(e,a-i,l,u,n,s),qr(u)){let h=Wr(n.index,e);h[fn]=Pi(e,t,a,n)}}}function _C(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=hP();try{xi(o);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];Ep(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&ON(u,l)}}finally{xi(-1),Ep(s)}}function ON(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function kN(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(IR(e,s.selectors,!1))if(r||(r=[]),qr(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let u=a.length;Pp(t,e,u)}else r.unshift(s),Pp(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Pp(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function FN(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new G(-301,!1);r.push(e[i],o)}}}function VN(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;qr(e)&&(n[""]=t)}}function LN(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function UN(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=Ti(i.type,!0)),s=new Ri(o,qr(i),B);t.blueprint[r]=s,n[r]=s,RN(t,e,r,dC(t,n,i.hostVars,Fn),i)}function jN(t,e,n){let r=nn(e,t),i=mC(n),o=t[An].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=Ul(t,Vl(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function BN(t,e,n,r,i,o){let s=nn(t,e);$N(e[et],s,o,t.value,n,r,i)}function $N(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?Fo(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function HN(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let u=s[a++],l=s[a++],h=s[a++],p=s[a++];lC(r,n,u,l,h,p)}}function zN(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function wC(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function EC(t,e){let n=t.contentQueries;if(n!==null){let r=Se(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];fg(o),a.contentQueries(2,e[s],s)}}}finally{Se(r)}}}function Ul(t,e){return t[Sa]?t[tE][hn]=e:t[Sa]=e,t[tE]=e,e}function Np(t,e,n){fg(0);let r=Se(null);try{e(t,n)}finally{Se(r)}}function IC(t){return t[cl]??=[]}function CC(t){return t.cleanup??=[]}function bC(t,e){let n=t[Bo],r=n?n.get(Rn,null):null;r&&r.handleError(e)}function Og(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],u=n[o++],l=e[s],h=t.data[s];lC(h,l,r,a,u,i)}}function DC(t,e,n){let r=dI(e,t);tN(t[et],r,n)}function qN(t,e){let n=Wr(e,t),r=n[de];GN(r,n);let i=n[ar];i!==null&&n[al]===null&&(n[al]=Dg(i,n[Bo])),kg(r,n,n[fn])}function GN(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function kg(t,e,n){pg(e);try{let r=t.viewQuery;r!==null&&Np(1,r,n);let i=t.template;i!==null&&hC(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[rr]?.finishViewCreation(t),t.staticContentQueries&&EC(t,e),t.staticViewQueries&&Np(2,t.viewQuery,n);let o=t.components;o!==null&&WN(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[se]&=-5,gg()}}function WN(t,e){for(let n=0;n<e.length;n++)qN(t,e[n])}function KN(t,e,n,r){let i=Se(null);try{let o=e.tView,a=t[se]&4096?4096:16,u=Vl(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[Si]=l;let h=t[rr];return h!==null&&(u[rr]=h.createEmbeddedView(o)),kg(o,u,n),u}finally{Se(i)}}function pE(t,e){return!e||e.firstChild===null||HI(t)}function QN(t,e,n,r=!0){let i=e[de];if(oN(i,e,t,n),r){let s=Rp(n,t),a=e[et],u=Mg(a,t[Ai]);u!==null&&rN(i,t[mn],a,e,u,s)}let o=e[al];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function vl(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(xn(o)),cr(o)&&YN(o,r);let s=n.type;if(s&8)vl(t,e,n.child,r);else if(s&32){let a=Sg(n,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=oC(e,n);if(Array.isArray(a))r.push(...a);else{let u=Mi(e[Mn]);vl(u[de],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function YN(t,e){for(let n=Wt;n<t.length;n++){let r=t[n],i=r[de].firstChild;i!==null&&vl(r[de],r,i,e)}t[Ai]!==t[ar]&&e.push(t[Ai])}var TC=[];function JN(t){return t[tn]??ZN(t)}function ZN(t){let e=TC.pop()??Object.create(e1);return e.lView=t,e}function XN(t){t.lView[tn]!==t&&(t.lView=null,TC.push(t))}var e1=we(U({},Tf),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Pl(t.lView)},consumerOnSignalRead(){this.lView[tn]=this}});function t1(t){let e=t[tn]??Object.create(n1);return e.lView=t,e}var n1=we(U({},Tf),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=Mi(t.lView);for(;e&&!SC(e[de]);)e=Mi(e);e&&gI(e)},consumerOnSignalRead(){this.lView[tn]=this}});function SC(t){return t.type!==2}var r1=100;function AC(t,e=!0,n=0){let r=t[An],i=r.rendererFactory,o=!1;o||i.begin?.();try{i1(t,n)}catch(s){throw e&&bC(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function i1(t,e){let n=EI();try{rE(!0),Op(t,e);let r=0;for(;Aa(t);){if(r===r1)throw new G(103,!1);r++,Op(t,1)}}finally{rE(n)}}function o1(t,e,n,r){let i=e[se];if((i&256)===256)return;let o=!1,s=!1;!o&&e[An].inlineEffectRunner?.flush(),pg(e);let a=!0,u=null,l=null;o||(SC(t)?(l=JN(e),u=Sf(l)):vw()===null?(a=!1,l=t1(e),u=Sf(l)):e[tn]&&(Mf(e[tn]),e[tn]=null));try{pI(e),uP(t.bindingStartIndex),n!==null&&hC(t,e,n,2,r);let h=(i&3)===3;if(!o)if(h){let y=t.preOrderCheckHooks;y!==null&&Zu(e,y,null)}else{let y=t.preOrderHooks;y!==null&&Xu(e,y,0,null),ep(e,0)}if(s||s1(e),MC(e,0),t.contentQueries!==null&&EC(t,e),!o)if(h){let y=t.contentCheckHooks;y!==null&&Zu(e,y)}else{let y=t.contentHooks;y!==null&&Xu(e,y,1),ep(e,1)}wN(t,e);let p=t.components;p!==null&&RC(e,p,0);let m=t.viewQuery;if(m!==null&&Np(2,m,r),!o)if(h){let y=t.viewCheckHooks;y!==null&&Zu(e,y)}else{let y=t.viewHooks;y!==null&&Xu(e,y,2),ep(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Xf]){for(let y of e[Xf])y();e[Xf]=null}o||(e[se]&=-73)}catch(h){throw o||Pl(e),h}finally{l!==null&&(_w(l,u),a&&XN(l)),gg()}}function MC(t,e){for(let n=qI(t);n!==null;n=GI(n))for(let r=Wt;r<n.length;r++){let i=n[r];xC(i,e)}}function s1(t){for(let e=qI(t);e!==null;e=GI(e)){if(!(e[se]&ll.HasTransplantedViews))continue;let n=e[$o];for(let r=0;r<n.length;r++){let i=n[r];gI(i)}}}function a1(t,e,n){let r=Wr(e,t);xC(r,n)}function xC(t,e){hg(t)&&Op(t,e)}function Op(t,e){let r=t[de],i=t[se],o=t[tn],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Af(o)),s||=!1,o&&(o.dirty=!1),t[se]&=-9217,s)o1(r,t,r.template,t[fn]);else if(i&8192){MC(t,1);let a=r.components;a!==null&&RC(t,a,1)}}function RC(t,e,n){for(let r=0;r<e.length;r++)a1(t,e[r],n)}function Fg(t,e){let n=EI()?64:1088;for(t[An].changeDetectionScheduler?.notify(e);t;){t[se]|=n;let r=Mi(t);if(vp(t)&&!r)return t;t=r}return null}var Oi=class{get rootNodes(){let e=this._lView,n=e[de];return vl(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[fn]}set context(e){this._lView[fn]=e}get destroyed(){return(this._lView[se]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[bt];if(cr(e)){let n=e[ul],r=n?n.indexOf(this):-1;r>-1&&(xp(e,r),ol(n,r))}this._attachedToViewContainer=!1}rC(this._lView[de],this._lView)}onDestroy(e){mI(this._lView,e)}markForCheck(){Fg(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[se]&=-129}reattach(){wp(this._lView),this._lView[se]|=128}detectChanges(){this._lView[se]|=1024,AC(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new G(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=vp(this._lView),n=this._lView[Si];n!==null&&!e&&Ag(n,this._lView),tC(this._lView[de],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new G(902,!1);this._appRef=e;let n=vp(this._lView),r=this._lView[Si];r!==null&&!n&&nC(r,this._lView),wp(this._lView)}},ki=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=l1;let t=e;return t})(),c1=ki,u1=class extends c1{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=KN(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Oi(i)}};function l1(){return Vg(Dt(),Ie())}function Vg(t,e){return t.type&4?new u1(e,t,Qo(t,e)):null}var A8=new RegExp(`^(\\d+)*(${zP}|${HP})*(.*)`);var d1=()=>null;function gE(t,e){return d1(t,e)}var Ho=class{},PC=new $("",{providedIn:"root",factory:()=>!1});var NC=new $(""),kp=class{},_l=class{};function h1(t){let e=Error(`No component factory found for ${Ot(t)}.`);return e[f1]=t,e}var f1="ngComponent";var Fp=class{resolveComponentFactory(e){throw h1(e)}},zg=class zg{};zg.NULL=new Fp;var zo=zg,qo=class{},yn=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>p1();let t=e;return t})();function p1(){let t=Ie(),e=Dt(),n=Wr(e.index,t);return(Hr(n)?n:t)[et]}var g1=(()=>{let e=class e{};e.\u0275prov=H({token:e,providedIn:"root",factory:()=>null});let t=e;return t})();var mE=new Set;function jl(t){mE.has(t)||(mE.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function OC(t){let e=!0;return setTimeout(()=>{e&&(e=!1,t())}),typeof Ca.requestAnimationFrame=="function"&&Ca.requestAnimationFrame(()=>{e&&(e=!1,t())}),()=>{e=!1}}function yE(t){let e=!0;return queueMicrotask(()=>{e&&t()}),()=>{e=!1}}function vE(...t){}var De=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ze(!1),this.onMicrotaskEmpty=new ze(!1),this.onStable=new ze(!1),this.onError=new ze(!1),typeof Zone>"u")throw new G(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.callbackScheduled=!1,v1(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new G(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new G(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,m1,vE,vE);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},m1={};function Lg(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function y1(t){t.isCheckStableRunning||t.callbackScheduled||(t.callbackScheduled=!0,Zone.root.run(()=>{OC(()=>{t.callbackScheduled=!1,Vp(t),t.isCheckStableRunning=!0,Lg(t),t.isCheckStableRunning=!1})}),Vp(t))}function v1(t){let e=()=>{y1(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(_1(a))return n.invokeTask(i,o,s,a);try{return _E(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),wE(t)}},onInvoke:(n,r,i,o,s,a,u)=>{try{return _E(t),n.invoke(i,o,s,a,u)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!w1(a)&&e(),wE(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,Vp(t),Lg(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function Vp(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function _E(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function wE(t){t._nesting--,Lg(t)}var Lp=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ze,this.onMicrotaskEmpty=new ze,this.onStable=new ze,this.onError=new ze}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function _1(t){return kC(t,"__ignore_ng_zone__")}function w1(t){return kC(t,"__scheduler_tick__")}function kC(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var Br=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Br||{}),E1={destroy(){}};function Bl(t,e){!e&&$R(Bl);let n=e?.injector??k(ft);if(!ZP(n))return E1;jl("NgAfterNextRender");let r=n.get(Ug),i=r.handler??=new jp,o=e?.phase??Br.MixedReadWrite,s=()=>{i.unregister(u),a()},a=n.get(Eg).onDestroy(s),u=Kt(n,()=>new Up(o,()=>{s(),t()}));return i.register(u),{destroy:s}}var Up=class{constructor(e,n){this.phase=e,this.callbackFn=n,this.zone=k(De),this.errorHandler=k(Rn,{optional:!0}),k(Ho,{optional:!0})?.notify(6)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},jp=class{constructor(){this.executingCallbacks=!1,this.buckets={[Br.EarlyRead]:new Set,[Br.Write]:new Set,[Br.MixedReadWrite]:new Set,[Br.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let n of e)n.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},Ug=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=H({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function Bp(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=qw(i,a);else if(o==2){let u=a,l=e[++s];r=qw(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var wl=class extends zo{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=zr(e);return new Go(n,this.ngModule)}};function EE(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function I1(t){let e=t.toLowerCase();return e==="svg"?WR:e==="math"?KR:null}var Go=class extends _l{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=EE(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return EE(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=TR(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=Se(null);try{i=i||this.ngModule;let s=i instanceof Ct?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Ip(e,s):e,u=a.get(qo,null);if(u===null)throw new G(407,!1);let l=a.get(g1,null),h=a.get(Ug,null),p=a.get(Ho,null),m={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:h,changeDetectionScheduler:p},y=u.createRenderer(null,this.componentDef),T=this.componentDef.selectors[0][0]||"div",P=r?CN(y,r,this.componentDef.encapsulation,a):eC(y,T,I1(T)),R=512;this.componentDef.signals?R|=4096:this.componentDef.onPush||(R|=16);let F=null;P!==null&&(F=Dg(P,a,!0));let K=Pg(0,null,null,1,0,null,null,null,null,null,null),q=Vl(null,K,null,R,null,null,m,y,a,null,F);pg(q);let J,Re;try{let te=this.componentDef,E,v=null;te.findHostDirectiveDefs?(E=[],v=new Map,te.findHostDirectiveDefs(te,E,v),E.push(te)):E=[te];let _=C1(q,P),I=b1(_,P,te,E,q,m,y);Re=hI(K,pn),P&&S1(y,te,P,r),n!==void 0&&A1(Re,this.ngContentSelectors,n),J=T1(I,te,E,v,q,[M1]),kg(K,q,null)}finally{gg()}return new $p(this.componentType,J,Qo(Re,q),q,Re)}finally{Se(o)}}},$p=class extends kp{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Oi(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;Og(o[de],o,i,e,n),this.previousInputValues.set(e,n);let s=Wr(this._tNode.index,o);Fg(s,1)}}get injector(){return new Di(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function C1(t,e){let n=t[de],r=pn;return t[r]=e,Ll(n,r,2,"#host",null)}function b1(t,e,n,r,i,o,s){let a=i[de];D1(r,t,e,s);let u=null;e!==null&&(u=Dg(e,i[Bo]));let l=o.rendererFactory.createRenderer(e,n),h=16;n.signals?h=4096:n.onPush&&(h=64);let p=Vl(i,mC(n),null,h,i[t.index],t,o,l,null,null,u);return a.firstCreatePass&&Pp(a,t,r.length-1),Ul(i,p),i[t.index]=p}function D1(t,e,n,r){for(let i of t)e.mergedAttrs=Da(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Bp(e,e.mergedAttrs,!0),n!==null&&aC(r,n,e))}function T1(t,e,n,r,i,o){let s=Dt(),a=i[de],u=nn(s,i);vC(a,i,s,n,null,r);for(let h=0;h<n.length;h++){let p=s.directiveStart+h,m=Pi(i,a,p,s);Ni(m,i)}_C(a,i,s),u&&Ni(u,i);let l=Pi(i,a,s.directiveStart+s.componentOffset,s);if(t[fn]=i[fn]=l,o!==null)for(let h of o)h(l,e);return fC(a,s,i),l}function S1(t,e,n,r){if(r)pp(t,n,["ng-version","18.0.5"]);else{let{attrs:i,classes:o}=SR(e.selectors[0]);i&&pp(t,n,i),o&&o.length>0&&sC(t,n,o.join(" "))}}function A1(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function M1(){let t=Dt();vg(Ie()[de],t)}var Kr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=x1;let t=e;return t})();function x1(){let t=Dt();return VC(t,Ie())}var R1=Kr,FC=class extends R1{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Qo(this._hostTNode,this._hostLView)}get injector(){return new Di(this._hostTNode,this._hostLView)}get parentInjector(){let e=_g(this._hostTNode,this._hostLView);if(PI(e)){let n=fl(e,this._hostLView),r=hl(e),i=n[de].data[r+8];return new Di(i,n)}else return new Di(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=IE(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Wt}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=gE(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,pE(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!HR(e),a;if(s)a=n;else{let T=n||{};a=T.index,r=T.injector,i=T.projectableNodes,o=T.environmentInjector||T.ngModuleRef}let u=s?e:new Go(zr(e)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let P=(s?l:this.parentInjector).get(Ct,null);P&&(o=P)}let h=zr(u.componentType??{}),p=gE(this._lContainer,h?.id??null),m=p?.firstChild??null,y=u.create(l,i,m,o);return this.insertImpl(y.hostView,a,pE(this._hostTNode,p)),y}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(YR(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[bt],l=new FC(u,u[mn],u[bt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return QN(s,i,o,r),e.attachToViewContainerRef(),jE(op(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=IE(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=xp(this._lContainer,n);r&&(ol(op(this._lContainer),n),rC(r[de],r))}detach(e){let n=this._adjustIndex(e,-1),r=xp(this._lContainer,n);return r&&ol(op(this._lContainer),n)!=null?new Oi(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function IE(t){return t[ul]}function op(t){return t[ul]||(t[ul]=[])}function VC(t,e){let n,r=e[t.index];return cr(r)?n=r:(n=wC(r,e,null,t),e[t.index]=n,Ul(e,n)),N1(n,e,t,r),new FC(n,t,e)}function P1(t,e){let n=t[et],r=n.createComment(""),i=nn(e,t),o=Mg(n,i);return yl(n,o,r,dN(n,i),!1),r}var N1=F1,O1=()=>!1;function k1(t,e,n){return O1(t,e,n)}function F1(t,e,n,r){if(t[Ai])return;let i;n.type&8?i=xn(r):i=P1(e,n),t[Ai]=i}var Hp=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},zp=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)jg(e,n).matches!==null&&this.queries[n].setDirty()}},El=class{constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=z1(e):this.predicate=e}},qp=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Gp=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,n,V1(n,o)),this.matchTNodeWithReadOption(e,n,el(n,e,o,!1,!1))}else r===ki?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,el(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Ft||i===Kr||i===ki&&n.type&4)this.addMatch(n.index,-2);else{let o=el(n,e,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function V1(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function L1(t,e){return t.type&11?Qo(t,e):t.type&4?Vg(t,e):null}function U1(t,e,n,r){return n===-1?L1(e,t):n===-2?j1(t,e,r):Pi(t,t[de],n,e)}function j1(t,e,n){if(n===Ft)return Qo(e,t);if(n===ki)return Vg(e,t);if(n===Kr)return VC(e,t)}function LC(t,e,n,r){let i=e[rr].queries[r];if(i.matches===null){let o=t.data,s=n.matches,a=[];for(let u=0;s!==null&&u<s.length;u+=2){let l=s[u];if(l<0)a.push(null);else{let h=o[l];a.push(U1(e,h,s[u+1],n.metadata.read))}}i.matches=a}return i.matches}function Wp(t,e,n,r){let i=t.queries.getByIndex(n),o=i.matches;if(o!==null){let s=LC(t,e,i,n);for(let a=0;a<o.length;a+=2){let u=o[a];if(u>0)r.push(s[a/2]);else{let l=o[a+1],h=e[-u];for(let p=Wt;p<h.length;p++){let m=h[p];m[Si]===m[bt]&&Wp(m[de],m,l,r)}if(h[$o]!==null){let p=h[$o];for(let m=0;m<p.length;m++){let y=p[m];Wp(y[de],y,l,r)}}}}}return r}function B1(t,e){return t[rr].queries[e].queryList}function UC(t,e,n){let r=new Ap((n&4)===4);return TN(t,e,r,r.destroy),(e[rr]??=new zp).queries.push(new Hp(r))-1}function $1(t,e,n){let r=ct();return r.firstCreatePass&&(jC(r,new El(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),UC(r,Ie(),e)}function H1(t,e,n,r){let i=ct();if(i.firstCreatePass){let o=Dt();jC(i,new El(e,n,r),o.index),q1(i,t),(n&2)===2&&(i.staticContentQueries=!0)}return UC(i,Ie(),n)}function z1(t){return t.split(",").map(e=>e.trim())}function jC(t,e,n){t.queries===null&&(t.queries=new qp),t.queries.track(new Gp(e,n))}function q1(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function jg(t,e){return t.queries.getByIndex(e)}function G1(t,e){let n=t[de],r=jg(n,e);return r.crossesNgTemplate?Wp(n,t,e,[]):LC(n,t,r,e)}function W1(t){return typeof t=="function"&&t[Df]!==void 0}function BC(t){return W1(t)&&typeof t.set=="function"}function K1(t){return Object.getPrototypeOf(t.prototype).constructor}function rn(t){let e=K1(t.type),n=!0,r=[t];for(;e;){let i;if(qr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new G(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=Qu(t.inputs),s.inputTransforms=Qu(t.inputTransforms),s.declaredInputs=Qu(t.declaredInputs),s.outputs=Qu(t.outputs);let a=i.hostBindings;a&&X1(t,a);let u=i.viewQuery,l=i.contentQueries;if(u&&J1(t,u),l&&Z1(t,l),Q1(t,i),Gx(t.outputs,i.outputs),qr(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===rn&&(n=!1)}}e=Object.getPrototypeOf(e)}Y1(r)}function Q1(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function Y1(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Da(i.hostAttrs,n=Da(n,i.hostAttrs))}}function Qu(t){return t===Vo?{}:t===en?[]:t}function J1(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function Z1(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function X1(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function Bg(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var Gr=class{},Ma=class{};var Kp=class extends Gr{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new wl(this);let i=YE(e);this._bootstrapComponents=XI(i.bootstrap),this._r3Injector=BI(e,n,[{provide:Gr,useValue:this},{provide:zo,useValue:this.componentFactoryResolver},...r],Ot(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Qp=class extends Ma{constructor(e){super(),this.moduleType=e}create(e){return new Kp(this.moduleType,e,[])}};var Il=class extends Gr{constructor(e){super(),this.componentFactoryResolver=new wl(this),this.instance=null;let n=new Ta([...e.providers,{provide:Gr,useValue:this},{provide:zo,useValue:this.componentFactoryResolver}],e.parent||lg(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function $l(t,e,n=null){return new Il({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function $C(t){return tO(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function eO(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function tO(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function HC(t,e,n){return t[e]=n}function or(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function zC(t,e,n,r){let i=or(t,e,n);return or(t,e+1,r)||i}function nO(t,e,n,r,i){let o=zC(t,e,n,r);return or(t,e+2,i)||o}function rO(t){return(t.flags&32)===32}function iO(t,e,n,r,i,o,s,a,u){let l=e.consts,h=Ll(e,t,4,s||null,a||null);yC(e,n,h,dl(l,u)),vg(e,h);let p=h.tView=Pg(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function oO(t,e,n,r,i,o,s,a,u,l){let h=n+pn,p=e.firstCreatePass?iO(h,e,t,r,i,o,s,a,u):e.data[h];Na(p,!1);let m=sO(e,t,p,n);mg()&&xg(e,t,m,p),Ni(m,t);let y=wC(m,t,m,p);return t[h]=y,Ul(t,y),k1(y,p,t),dg(p)&&pC(e,t,p),u!=null&&gC(t,p,l),p}function Ge(t,e,n,r,i,o,s,a){let u=Ie(),l=ct(),h=dl(l.consts,o);return oO(u,l,t,e,n,r,i,h,s,a),Ge}var sO=aO;function aO(t,e,n,r){return yg(!0),e[et].createComment("")}function ka(t,e,n,r){let i=Ie(),o=Nl();if(or(i,o,e)){let s=ct(),a=Ol();BN(a,i,t,e,n,r)}return ka}function qC(t,e,n,r){return or(t,Nl(),n)?e+Fo(n)+r:Fn}function cO(t,e,n,r,i,o){let s=cP(),a=zC(t,s,n,i);return CI(2),a?e+Fo(n)+r+Fo(i)+o:Fn}function Yu(t,e){return t<<17|e<<2}function Fi(t){return t>>17&32767}function uO(t){return(t&2)==2}function lO(t,e){return t&131071|e<<17}function Yp(t){return t|2}function Wo(t){return(t&131068)>>2}function sp(t,e){return t&-131069|e<<2}function dO(t){return(t&1)===1}function Jp(t){return t|1}function hO(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Fi(s),u=Wo(s);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||Pa(p,h)>0)&&(l=!0)}else h=n;if(i)if(u!==0){let m=Fi(t[a+1]);t[r+1]=Yu(m,a),m!==0&&(t[m+1]=sp(t[m+1],r)),t[a+1]=lO(t[a+1],r)}else t[r+1]=Yu(a,0),a!==0&&(t[a+1]=sp(t[a+1],r)),a=r;else t[r+1]=Yu(u,0),a===0?a=r:t[u+1]=sp(t[u+1],r),u=r;l&&(t[r+1]=Yp(t[r+1])),CE(t,h,r,!0),CE(t,h,r,!1),fO(e,h,t,r,o),s=Yu(a,u),o?e.classBindings=s:e.styleBindings=s}function fO(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Pa(o,e)>=0&&(n[r+1]=Jp(n[r+1]))}function CE(t,e,n,r){let i=t[n+1],o=e===null,s=r?Fi(i):Wo(i),a=!1;for(;s!==0&&(a===!1||o);){let u=t[s],l=t[s+1];pO(u,e)&&(a=!0,t[s+1]=r?Jp(l):Yp(l)),s=r?Fi(l):Wo(l)}a&&(t[n+1]=r?Yp(i):Jp(i))}function pO(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Pa(t,e)>=0:!1}function me(t,e,n){let r=Ie(),i=Nl();if(or(r,i,e)){let o=ct(),s=Ol();Ng(o,s,r,t,e,r[et],n,!1)}return me}function bE(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";Og(t,n,o[s],s,r)}function Hl(t,e){return gO(t,e,null,!0),Hl}function gO(t,e,n,r){let i=Ie(),o=ct(),s=CI(2);if(o.firstUpdatePass&&yO(o,t,s,r),e!==Fn&&or(i,s,e)){let a=o.data[Vi()];IO(o,a,i,i[et],t,i[s+1]=CO(e,n),r,s)}}function mO(t,e){return e>=t.expandoStartIndex}function yO(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[Vi()],s=mO(t,n);bO(o,r)&&e===null&&!s&&(e=!1),e=vO(i,o,e,r),hO(i,o,e,n,s,r)}}function vO(t,e,n,r){let i=fP(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=ap(null,t,e,n,r),n=xa(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=ap(i,t,e,n,r),o===null){let u=_O(t,e,r);u!==void 0&&Array.isArray(u)&&(u=ap(null,t,e,u[1],r),u=xa(u,e.attrs,r),wO(t,e,r,u))}else o=EO(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function _O(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Wo(r)!==0)return t[Fi(r)]}function wO(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Fi(i)]=r}function EO(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=xa(r,s,n)}return xa(r,e.attrs,n)}function ap(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=xa(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function xa(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),pR(t,s,n?!0:e[++o]))}return t===void 0?null:t}function IO(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],h=dO(l)?DE(u,e,n,i,Wo(l),s):void 0;if(!Cl(h)){Cl(o)||uO(l)&&(o=DE(u,null,n,i,a,s));let p=dI(Vi(),n);vN(r,s,p,i,o)}}function DE(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,m=n[i+1];m===Fn&&(m=p?en:void 0);let y=p?Jf(m,r):h===r?m:void 0;if(l&&!Cl(y)&&(y=Jf(u,r)),Cl(y)&&(a=y,s))return a;let T=t[i+1];i=s?Fi(T):Wo(T)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=Jf(u,r))}return a}function Cl(t){return t!==void 0}function CO(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Ot(Oa(t)))),t}function bO(t,e){return(t.flags&(e?8:16))!==0}function DO(t,e,n,r,i,o){let s=e.consts,a=dl(s,i),u=Ll(e,t,2,r,a);return yC(e,n,u,dl(s,o)),u.attrs!==null&&Bp(u,u.attrs,!1),u.mergedAttrs!==null&&Bp(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function D(t,e,n,r){let i=Ie(),o=ct(),s=pn+t,a=i[et],u=o.firstCreatePass?DO(s,o,i,e,n,r):o.data[s],l=TO(o,i,u,a,e,t);i[s]=l;let h=dg(u);return Na(u,!0),aC(a,l,u),!rO(u)&&mg()&&xg(o,i,l,u),XR()===0&&Ni(l,i),eP(),h&&(pC(o,i,u),fC(o,u,i)),r!==null&&gC(i,u),D}function M(){let t=Dt();wI()?sP():(t=t.parent,Na(t,!1));let e=t;rP(e)&&iP(),tP();let n=ct();return n.firstCreatePass&&(vg(n,t),sI(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&wP(e)&&bE(n,e,Ie(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&EP(e)&&bE(n,e,Ie(),e.stylesWithoutHost,!1),M}function he(t,e,n,r){return D(t,e,n,r),M(),he}var TO=(t,e,n,r,i,o)=>(yg(!0),eC(r,i,mP()));function gt(){return Ie()}var bl="en-US";var SO=bl;function AO(t){typeof t=="string"&&(SO=t.toLowerCase().replace(/_/g,"-"))}var MO=(t,e,n)=>{};function Y(t,e,n,r){let i=Ie(),o=ct(),s=Dt();return GC(o,i,i[et],s,t,e,r),Y}function xO(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[cl],u=i[o+2];return a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function GC(t,e,n,r,i,o,s){let a=dg(r),l=t.firstCreatePass&&CC(t),h=e[fn],p=IC(e),m=!0;if(r.type&3||s){let P=nn(r,e),R=s?s(P):P,F=p.length,K=s?J=>s(xn(J[r.index])):r.index,q=null;if(!s&&a&&(q=xO(t,e,i,r.index)),q!==null){let J=q.__ngLastListenerFn__||q;J.__ngNextListenerFn__=o,q.__ngLastListenerFn__=o,m=!1}else{o=SE(r,e,h,o),MO(P,i,o);let J=n.listen(R,i,o);p.push(o,J),l&&l.push(i,K,F,F+1)}}else o=SE(r,e,h,o);let y=r.outputs,T;if(m&&y!==null&&(T=y[i])){let P=T.length;if(P)for(let R=0;R<P;R+=2){let F=T[R],K=T[R+1],Re=e[F][K].subscribe(o),te=p.length;p.push(o,Re),l&&l.push(i,r.index,te,-(te+1))}}}function TE(t,e,n,r){let i=Se(null);try{return Dn(6,e,n),n(r)!==!1}catch(o){return bC(t,o),!1}finally{Dn(7,e,n),Se(i)}}function SE(t,e,n,r){return function i(o){if(o===Function)return r;let s=t.componentOffset>-1?Wr(t.index,e):e;Fg(s,5);let a=TE(e,n,r,o),u=i.__ngNextListenerFn__;for(;u;)a=TE(e,n,u,o)&&a,u=u.__ngNextListenerFn__;return a}}function ne(t=1){return gP(t)}function Vn(t,e,n){return WC(t,"",e,"",n),Vn}function WC(t,e,n,r,i){let o=Ie(),s=qC(o,e,n,r);if(s!==Fn){let a=ct(),u=Ol();Ng(a,u,o,t,s,o[et],i,!1)}return WC}function KC(t,e,n,r){H1(t,e,n,r)}function QC(t,e,n){$1(t,e,n)}function zl(t){let e=Ie(),n=ct(),r=bI();fg(r+1);let i=jg(n,r);if(t.dirty&&QR(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let o=G1(e,r);t.reset(o,kP),t.notifyOnChanges()}return!0}return!1}function ql(){return B1(Ie(),bI())}function RO(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function Fa(t){let e=aP();return fI(e,pn+t)}function N(t,e=""){let n=Ie(),r=ct(),i=t+pn,o=r.firstCreatePass?Ll(r,i,1,e,null):r.data[i],s=PO(r,n,o,e,t);n[i]=s,mg()&&xg(r,n,s,o),Na(o,!1)}var PO=(t,e,n,r,i)=>(yg(!0),eN(e[et],r));function ke(t){return Li("",t,""),ke}function Li(t,e,n){let r=Ie(),i=qC(r,t,e,n);return i!==Fn&&DC(r,Vi(),i),Li}function hr(t,e,n,r,i){let o=Ie(),s=cO(o,t,e,n,r,i);return s!==Fn&&DC(o,Vi(),s),hr}function Le(t,e,n){BC(e)&&(e=e());let r=Ie(),i=Nl();if(or(r,i,e)){let o=ct(),s=Ol();Ng(o,s,r,t,e,r[et],n,!1)}return Le}function Be(t,e){let n=BC(t);return n&&t.set(e),n}function Ue(t,e){let n=Ie(),r=ct(),i=Dt();return GC(r,n,n[et],i,t,e),Ue}function NO(t,e,n){let r=ct();if(r.firstCreatePass){let i=qr(t);Zp(n,r.data,r.blueprint,i,!0),Zp(e,r.data,r.blueprint,i,!1)}}function Zp(t,e,n,r,i){if(t=Nt(t),Array.isArray(t))for(let o=0;o<t.length;o++)Zp(t[o],e,n,r,i);else{let o=ct(),s=Ie(),a=Dt(),u=jo(t)?t:Nt(t.provide),l=nI(t),h=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if(jo(t)||!t.multi){let y=new Ri(l,i,B),T=up(u,e,i?h:h+m,p);T===-1?(bp(gl(a,s),o,u),cp(o,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(y),s.push(y)):(n[T]=y,s[T]=y)}else{let y=up(u,e,h+m,p),T=up(u,e,h,h+m),P=y>=0&&n[y],R=T>=0&&n[T];if(i&&!R||!i&&!P){bp(gl(a,s),o,u);let F=FO(i?kO:OO,n.length,i,r,l);!i&&R&&(n[T].providerFactory=F),cp(o,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(F),s.push(F)}else{let F=YC(n[i?T:y],l,!i&&r);cp(o,t,y>-1?y:T,F)}!i&&r&&R&&n[T].componentProviders++}}}function cp(t,e,n,r){let i=jo(e),o=kR(e);if(i||o){let u=(o?Nt(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[r,u]):l[h+1].push(r,u)}else l.push(n,u)}}}function YC(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function up(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function OO(t,e,n,r){return Xp(this.multi,[])}function kO(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Pi(n,n[de],this.providerFactory.index,r);o=a.slice(0,s),Xp(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],Xp(i,o);return o}function Xp(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function FO(t,e,n,r,i){let o=new Ri(t,n,B);return o.multi=[],o.index=e,o.componentProviders=0,YC(o,i,r&&!n),o}function Qr(t,e=[]){return n=>{n.providersResolver=(r,i)=>NO(r,i?i(t):t,e)}}var VO=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=XE(!1,r.type),o=i.length>0?$l([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=H({token:e,providedIn:"environment",factory:()=>new e(W(Ct))});let t=e;return t})();function We(t){jl("NgStandalone"),t.getStandaloneInjector=e=>e.get(VO).getOrCreateStandaloneInjector(t)}function Gl(t,e,n,r){return LO(Ie(),II(),t,e,n,r)}function JC(t,e){let n=t[e];return n===Fn?void 0:n}function LO(t,e,n,r,i,o){let s=e+n;return or(t,s,i)?HC(t,s+1,o?r.call(o,i):r(i)):JC(t,s+1)}function UO(t,e,n,r,i,o,s,a){let u=e+n;return nO(t,u,i,o,s)?HC(t,u+3,a?r.call(a,i,o,s):r(i,o,s)):JC(t,u+3)}function ZC(t,e){let n=ct(),r,i=t+pn;n.firstCreatePass?(r=jO(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=Ti(r.type,!0)),s,a=Bt(B);try{let u=pl(!1),l=o();return pl(u),RO(n,Ie(),i,l),l}finally{Bt(a)}}function jO(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function XC(t,e,n,r,i){let o=t+pn,s=Ie(),a=fI(s,o);return BO(s,o)?UO(s,II(),e,a.transform,n,r,i,a):a.transform(n,r,i)}function BO(t,e){return t[de].data[e].pure}var sr=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},eb=new sr("18.0.5");var Wl=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var tb=new $("");function Ui(t){return!!t&&typeof t.then=="function"}function nb(t){return!!t&&typeof t.subscribe=="function"}var Kl=new $(""),rb=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=k(Kl,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let o of this.appInits){let s=o();if(Ui(s))r.push(s);else if(nb(s)){let a=new Promise((u,l)=>{s.subscribe({complete:u,error:l})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Va=new $("");function $O(){ww(()=>{throw new G(600,!1)})}function HO(t){return t.isBoundToModule}var zO=10;function qO(t,e,n){try{let r=n();return Ui(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var ji=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=k($I),this.afterRenderEffectManager=k(Ug),this.zonelessEnabled=k(PC),this.externalTestViews=new Set,this.beforeRender=new at,this.afterTick=new at,this.componentTypes=[],this.components=[],this.isStable=k(dr).hasPendingTasks.pipe(X(r=>!r)),this._injector=k(Ct)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let o=r instanceof _l;if(!this._injector.get(rb).done){let y=!o&&QE(r),T=!1;throw new G(405,T)}let a;o?a=r:a=this._injector.get(zo).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let u=HO(a)?void 0:this._injector.get(Gr),l=i||a.selector,h=a.create(ft.NULL,[],l,u),p=h.location.nativeElement,m=h.injector.get(tb,null);return m?.registerApplication(p),h.onDestroy(()=>{this.detachView(h.hostView),lp(this.components,h),m?.unregisterApplication(p)}),this._loadComponent(h),h}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new G(101,!1);let i=Se(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(o){this.internalErrorHandler(o)}finally{this._runningTick=!1,Se(i),this.afterTick.next()}}detectChangesInAttachedViews(r){let i=null;this._injector.destroyed||(i=this._injector.get(qo,null,{optional:!0}));let o=0,s=this.afterRenderEffectManager;for(;o<zO;){let a=o===0;if(r||!a){this.beforeRender.next(a);for(let{_lView:u,notifyErrorHandler:l}of this._views)GO(u,l,a,this.zonelessEnabled)}else i?.begin?.(),i?.end?.();if(o++,s.executeInternalCallbacks(),!this.allViews.some(({_lView:u})=>Aa(u))&&(s.execute(),!this.allViews.some(({_lView:u})=>Aa(u))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;lp(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(Va,[]);[...this._bootstrapListeners,...i].forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>lp(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new G(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function lp(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function GO(t,e,n,r){if(!n&&!Aa(t))return;AC(t,e,n&&!r?0:1)}var eg=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Ql=(()=>{let e=class e{compileModuleSync(r){return new Qp(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),o=YE(r),s=XI(o.declarations).reduce((a,u)=>{let l=zr(u);return l&&a.push(new Go(l)),a},[]);return new eg(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var WO=(()=>{let e=class e{constructor(){this.zone=k(De),this.changeDetectionScheduler=k(Ho),this.applicationRef=k(ji)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function KO({ngZoneFactory:t,ignoreChangesOutsideZone:e}){return t??=()=>new De(YO()),[{provide:De,useFactory:t},{provide:Lo,multi:!0,useFactory:()=>{let n=k(WO,{optional:!0});return()=>n.initialize()}},{provide:Lo,multi:!0,useFactory:()=>{let n=k(JO);return()=>{n.initialize()}}},{provide:$I,useFactory:QO},e===!0?{provide:NC,useValue:!0}:[]]}function QO(){let t=k(De),e=k(Rn);return n=>t.runOutsideAngular(()=>e.handleError(n))}function YO(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var JO=(()=>{let e=class e{constructor(){this.subscription=new He,this.initialized=!1,this.zone=k(De),this.pendingTasks=k(dr)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{De.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{De.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ZO=(()=>{let e=class e{constructor(){this.appRef=k(ji),this.taskService=k(dr),this.ngZone=k(De),this.zonelessEnabled=k(PC),this.disableScheduling=k(NC,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new He,this.cancelScheduledCallback=null,this.shouldRefreshViews=!1,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Lp||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&r===5)return;switch(r){case 3:case 2:case 0:case 4:case 5:case 1:{this.shouldRefreshViews=!0;break}case 8:case 7:case 6:case 9:default:}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?yE:OC;this.pendingRenderTaskId=this.taskService.add(),this.zoneIsDefined?Zone.root.run(()=>{this.cancelScheduledCallback=i(()=>{this.tick(this.shouldRefreshViews)})}):this.cancelScheduledCallback=i(()=>{this.tick(this.shouldRefreshViews)})}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&De.isInAngularZone())}tick(r){if(this.runningTick||this.appRef.destroyed)return;let i=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick(r)},void 0,this.schedulerTickApplyArgs)}catch(o){throw this.taskService.remove(i),o}finally{this.cleanup()}this.useMicrotaskScheduler=!0,yE(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(i)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.shouldRefreshViews=!1,this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function XO(){return typeof $localize<"u"&&$localize.locale||bl}var $g=new $("",{providedIn:"root",factory:()=>k($g,ge.Optional|ge.SkipSelf)||XO()});var ib=new $("");var nl=null;function ek(t=[],e){return ft.create({name:e,providers:[{provide:Ml,useValue:"platform"},{provide:ib,useValue:new Set([()=>nl=null])},...t]})}function tk(t=[]){if(nl)return nl;let e=ek(t);return nl=e,$O(),nk(e),e}function nk(t){t.get(Cg,null)?.forEach(n=>n())}function ob(){return!1}var Yr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=rk;let t=e;return t})();function rk(t){return ik(Dt(),Ie(),(t&16)===16)}function ik(t,e,n){if(Rl(t)&&!n){let r=Wr(t.index,e);return new Oi(r,r)}else if(t.type&175){let r=e[Mn];return new Oi(r,e)}return null}var tg=class{constructor(){}supports(e){return $C(e)}create(e){return new ng(e)}},ok=(t,e)=>e,ng=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||ok}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<AE(r,i,o)?n:r,a=AE(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=u-i;if(l!=h){for(let m=0;m<l;m++){let y=m<o.length?o[m]:o[m]=0,T=y+m;h<=T&&T<l&&(o[m]=y+1)}let p=s.previousIndex;o[p]=h-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!$C(e))throw new G(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,eO(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new rg(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Dl),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Dl),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},rg=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},ig=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Dl=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new ig,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function AE(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function ME(){return new Hg([new tg])}var Hg=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let o=i.factories.slice();r=r.concat(o)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||ME()),deps:[[e,new sg,new kt]]}}find(r){let i=this.factories.find(o=>o.supports(r));if(i!=null)return i;throw new G(901,!1)}};e.\u0275prov=H({token:e,providedIn:"root",factory:ME});let t=e;return t})();function sb(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=tk(r),o=[KO({}),{provide:Ho,useExisting:ZO},...n||[]],a=new Il({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,u=a.get(De);return u.run(()=>{a.resolveInjectorInitializers();let l=a.get(Rn,null),h;u.runOutsideAngular(()=>{h=u.onError.subscribe({next:y=>{l.handleError(y)}})});let p=()=>a.destroy(),m=i.get(ib);return m.add(p),a.onDestroy(()=>{h.unsubscribe(),m.delete(p)}),qO(l,u,()=>{let y=a.get(rb);return y.runInitializers(),y.donePromise.then(()=>{let T=a.get($g,bl);AO(T||bl);let P=a.get(ji);return e!==void 0&&P.bootstrap(e),P})})})}catch(e){return Promise.reject(e)}}function Jr(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function ab(t){let e=zr(t);if(!e)return null;let n=new Go(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var fb=null;function pr(){return fb}function pb(t){fb??=t}var Yl=class{};var Tt=new $(""),Yg=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:()=>k(sk),providedIn:"platform"});let t=e;return t})(),gb=new $(""),sk=(()=>{let e=class e extends Yg{constructor(){super(),this._doc=k(Tt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return pr().getBaseHref(this._doc)}onPopState(r){let i=pr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=pr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function Jg(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function cb(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function fr(t){return t&&t[0]!=="?"?"?"+t:t}var gr=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:()=>k(Zg),providedIn:"root"});let t=e;return t})(),mb=new $(""),Zg=(()=>{let e=class e extends gr{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??k(Tt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return Jg(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+fr(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+fr(s));this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+fr(s));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(W(Yg),W(mb,8))},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),yb=(()=>{let e=class e extends gr{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=Jg(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+fr(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+fr(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(W(Yg),W(mb,8))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})(),Jo=(()=>{let e=class e{constructor(r){this._subject=new ze,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=uk(cb(ub(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+fr(i))}normalize(r){return e.stripTrailingSlash(ck(this._basePath,ub(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+fr(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+fr(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}};e.normalizeQueryParams=fr,e.joinWithSlash=Jg,e.stripTrailingSlash=cb,e.\u0275fac=function(i){return new(i||e)(W(gr))},e.\u0275prov=H({token:e,factory:()=>ak(),providedIn:"root"});let t=e;return t})();function ak(){return new Jo(W(gr))}function ck(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function ub(t){return t.replace(/\/index.html$/,"")}function uk(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function Jl(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var qg=/\s+/,lb=[],vb=(()=>{let e=class e{constructor(r,i){this._ngEl=r,this._renderer=i,this.initialClasses=lb,this.stateMap=new Map}set klass(r){this.initialClasses=r!=null?r.trim().split(qg):lb}set ngClass(r){this.rawClass=typeof r=="string"?r.trim().split(qg):r}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(let i of r)this._updateState(i,!0);else if(r!=null)for(let i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){let o=this.stateMap.get(r);o!==void 0?(o.enabled!==i&&(o.changed=!0,o.enabled=i),o.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let r of this.stateMap){let i=r[0],o=r[1];o.changed?(this._toggleClass(i,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),o.touched=!1}}_toggleClass(r,i){r=r.trim(),r.length>0&&r.split(qg).forEach(o=>{i?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}};e.\u0275fac=function(i){return new(i||e)(B(Ft),B(yn))},e.\u0275dir=Ve({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var Gg=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Zr=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,o){this._viewContainer=r,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((o,s,a)=>{if(o.previousIndex==null)i.createEmbeddedView(this._template,new Gg(o.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(s===null?void 0:s);else if(s!==null){let u=i.get(s);i.move(u,a),db(u,o)}});for(let o=0,s=i.length;o<s;o++){let u=i.get(o).context;u.index=o,u.count=s,u.ngForOf=this._ngForOf}r.forEachIdentityChange(o=>{let s=i.get(o.currentIndex);db(s,o)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(B(Kr),B(ki),B(Hg))},e.\u0275dir=Ve({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function db(t,e){t.context.$implicit=e.item}var Xr=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new Wg,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){hb("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){hb("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(B(Kr),B(ki))},e.\u0275dir=Ve({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),Wg=class{constructor(){this.$implicit=null,this.ngIf=null}};function hb(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Ot(e)}'.`)}function lk(t,e){return new G(2100,!1)}var _b=(()=>{let e=class e{transform(r,i,o){if(r==null)return null;if(!this.supports(r))throw lk(e,r);return r.slice(i,o)}supports(r){return typeof r=="string"||Array.isArray(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275pipe=GE({name:"slice",type:e,pure:!1,standalone:!0});let t=e;return t})();var mt=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=On({type:e}),e.\u0275inj=Nn({});let t=e;return t})(),Xg="browser",dk="server";function em(t){return t===Xg}function Zo(t){return t===dk}var wb=(()=>{let e=class e{};e.\u0275prov=H({token:e,providedIn:"root",factory:()=>em(k(pt))?new Kg(k(Tt),window):new Qg});let t=e;return t})(),Kg=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=hk(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function hk(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var Qg=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Yo=class{};var Ua=class{},Xl=class{},mr=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=i.toLowerCase(),s=n.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var nm=class{encodeKey(e){return Eb(e)}encodeValue(e){return Eb(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function fk(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],u=n.get(s)||[];u.push(a),n.set(s,u)}),n}var pk=/%(\d[a-f0-9])/gi,gk={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Eb(t){return encodeURIComponent(t).replace(pk,(e,n)=>gk[n]??e)}function Zl(t){return`${t}`}var ti=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new nm,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=fk(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(Zl):[Zl(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(Zl(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Zl(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var rm=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function mk(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Ib(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function Cb(t){return typeof Blob<"u"&&t instanceof Blob}function bb(t){return typeof FormData<"u"&&t instanceof FormData}function yk(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var La=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(mk(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new mr,this.context??=new rm,!this.params)this.params=new ti,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),u=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+u+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Ib(this.body)||Cb(this.body)||bb(this.body)||yk(this.body)?this.body:this.body instanceof ti?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||bb(this.body)?null:Cb(this.body)?this.body.type||null:Ib(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof ti?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,u=e.reportProgress??this.reportProgress,l=e.headers||this.headers,h=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((m,y)=>m.set(y,e.setHeaders[y]),l)),e.setParams&&(h=Object.keys(e.setParams).reduce((m,y)=>m.set(y,e.setParams[y]),h)),new t(n,r,s,{params:h,headers:l,context:p,reportProgress:u,responseType:i,withCredentials:a,transferCache:o})}},ni=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(ni||{}),ja=class{constructor(e,n=200,r="OK"){this.headers=e.headers||new mr,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},ed=class t extends ja{constructor(e={}){super(e),this.type=ni.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Ba=class t extends ja{constructor(e={}){super(e),this.type=ni.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},ei=class extends ja{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},Mb=200,vk=204;function tm(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var _k=(()=>{let e=class e{constructor(r){this.handler=r}request(r,i,o={}){let s;if(r instanceof La)s=r;else{let l;o.headers instanceof mr?l=o.headers:l=new mr(o.headers);let h;o.params&&(o.params instanceof ti?h=o.params:h=new ti({fromObject:o.params})),s=new La(r,i,o.body!==void 0?o.body:null,{headers:l,context:o.context,params:h,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let a=Z(s).pipe(tr(l=>this.handler.handle(l)));if(r instanceof La||o.observe==="events")return a;let u=a.pipe(Pt(l=>l instanceof Ba));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return u.pipe(X(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return u.pipe(X(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return u.pipe(X(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return u.pipe(X(l=>l.body))}case"response":return u;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:new ti().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,o={}){return this.request("PATCH",r,tm(o,i))}post(r,i,o={}){return this.request("POST",r,tm(o,i))}put(r,i,o={}){return this.request("PUT",r,tm(o,i))}};e.\u0275fac=function(i){return new(i||e)(W(Ua))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})(),wk=/^\)\]\}',?\n/,Ek="X-Request-URL";function Db(t){if(t.url)return t.url;let e=Ek.toLocaleLowerCase();return t.headers.get(e)}var Ik=(()=>{let e=class e{constructor(){this.fetchImpl=k(im,{optional:!0})?.fetch??fetch.bind(globalThis),this.ngZone=k(De)}handle(r){return new le(i=>{let o=new AbortController;return this.doRequest(r,o.signal,i).then(om,s=>i.error(new ei({error:s}))),()=>o.abort()})}doRequest(r,i,o){return S(this,null,function*(){let s=this.createRequestInit(r),a;try{let T=this.fetchImpl(r.urlWithParams,U({signal:i},s));Ck(T),o.next({type:ni.Sent}),a=yield T}catch(T){o.error(new ei({error:T,status:T.status??0,statusText:T.statusText,url:r.urlWithParams,headers:T.headers}));return}let u=new mr(a.headers),l=a.statusText,h=Db(a)??r.urlWithParams,p=a.status,m=null;if(r.reportProgress&&o.next(new ed({headers:u,status:p,statusText:l,url:h})),a.body){let T=a.headers.get("content-length"),P=[],R=a.body.getReader(),F=0,K,q,J=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>S(this,null,function*(){for(;;){let{done:te,value:E}=yield R.read();if(te)break;if(P.push(E),F+=E.length,r.reportProgress){q=r.responseType==="text"?(q??"")+(K??=new TextDecoder).decode(E,{stream:!0}):void 0;let v=()=>o.next({type:ni.DownloadProgress,total:T?+T:void 0,loaded:F,partialText:q});J?J.run(v):v()}}}));let Re=this.concatChunks(P,F);try{let te=a.headers.get("Content-Type")??"";m=this.parseBody(r,Re,te)}catch(te){o.error(new ei({error:te,headers:new mr(a.headers),status:a.status,statusText:a.statusText,url:Db(a)??r.urlWithParams}));return}}p===0&&(p=m?Mb:0),p>=200&&p<300?(o.next(new Ba({body:m,headers:u,status:p,statusText:l,url:h})),o.complete()):o.error(new ei({error:m,headers:u,status:p,statusText:l,url:h}))})}parseBody(r,i,o){switch(r.responseType){case"json":let s=new TextDecoder().decode(i).replace(wk,"");return s===""?null:JSON.parse(s);case"text":return new TextDecoder().decode(i);case"blob":return new Blob([i],{type:o});case"arraybuffer":return i.buffer}}createRequestInit(r){let i={},o=r.withCredentials?"include":void 0;if(r.headers.forEach((s,a)=>i[s]=a.join(",")),i.Accept??="application/json, text/plain, */*",!i["Content-Type"]){let s=r.detectContentTypeHeader();s!==null&&(i["Content-Type"]=s)}return{body:r.serializeBody(),method:r.method,headers:i,credentials:o}}concatChunks(r,i){let o=new Uint8Array(i),s=0;for(let a of r)o.set(a,s),s+=a.length;return o}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})(),im=class{};function om(){}function Ck(t){t.then(om,om)}function xb(t,e){return e(t)}function bk(t,e){return(n,r)=>e.intercept(n,{handle:i=>t(i,r)})}function Dk(t,e,n){return(r,i)=>Kt(n,()=>e(r,o=>t(o,i)))}var Tk=new $(""),sm=new $(""),Sk=new $(""),Rb=new $("",{providedIn:"root",factory:()=>!0});function Ak(){let t=null;return(e,n)=>{t===null&&(t=(k(Tk,{optional:!0})??[]).reduceRight(bk,xb));let r=k(dr);if(k(Rb)){let o=r.add();return t(e,n).pipe(Ur(()=>r.remove(o)))}else return t(e,n)}}var Tb=(()=>{let e=class e extends Ua{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=k(dr),this.contributeToStability=k(Rb)}handle(r){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(sm),...this.injector.get(Sk,[])]));this.chain=i.reduceRight((o,s)=>Dk(o,s,this.injector),xb)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(r,o=>this.backend.handle(o)).pipe(Ur(()=>this.pendingTasks.remove(i)))}else return this.chain(r,i=>this.backend.handle(i))}};e.\u0275fac=function(i){return new(i||e)(W(Xl),W(Ct))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})();var Mk=/^\)\]\}',?\n/;function xk(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var Sb=(()=>{let e=class e{constructor(r){this.xhrFactory=r}handle(r){if(r.method==="JSONP")throw new G(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?Ne(i.\u0275loadImpl()):Z(null)).pipe(jt(()=>new le(s=>{let a=i.build();if(a.open(r.method,r.urlWithParams),r.withCredentials&&(a.withCredentials=!0),r.headers.forEach((R,F)=>a.setRequestHeader(R,F.join(","))),r.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){let R=r.detectContentTypeHeader();R!==null&&a.setRequestHeader("Content-Type",R)}if(r.responseType){let R=r.responseType.toLowerCase();a.responseType=R!=="json"?R:"text"}let u=r.serializeBody(),l=null,h=()=>{if(l!==null)return l;let R=a.statusText||"OK",F=new mr(a.getAllResponseHeaders()),K=xk(a)||r.url;return l=new ed({headers:F,status:a.status,statusText:R,url:K}),l},p=()=>{let{headers:R,status:F,statusText:K,url:q}=h(),J=null;F!==vk&&(J=typeof a.response>"u"?a.responseText:a.response),F===0&&(F=J?Mb:0);let Re=F>=200&&F<300;if(r.responseType==="json"&&typeof J=="string"){let te=J;J=J.replace(Mk,"");try{J=J!==""?JSON.parse(J):null}catch(E){J=te,Re&&(Re=!1,J={error:E,text:J})}}Re?(s.next(new Ba({body:J,headers:R,status:F,statusText:K,url:q||void 0})),s.complete()):s.error(new ei({error:J,headers:R,status:F,statusText:K,url:q||void 0}))},m=R=>{let{url:F}=h(),K=new ei({error:R,status:a.status||0,statusText:a.statusText||"Unknown Error",url:F||void 0});s.error(K)},y=!1,T=R=>{y||(s.next(h()),y=!0);let F={type:ni.DownloadProgress,loaded:R.loaded};R.lengthComputable&&(F.total=R.total),r.responseType==="text"&&a.responseText&&(F.partialText=a.responseText),s.next(F)},P=R=>{let F={type:ni.UploadProgress,loaded:R.loaded};R.lengthComputable&&(F.total=R.total),s.next(F)};return a.addEventListener("load",p),a.addEventListener("error",m),a.addEventListener("timeout",m),a.addEventListener("abort",m),r.reportProgress&&(a.addEventListener("progress",T),u!==null&&a.upload&&a.upload.addEventListener("progress",P)),a.send(u),s.next({type:ni.Sent}),()=>{a.removeEventListener("error",m),a.removeEventListener("abort",m),a.removeEventListener("load",p),a.removeEventListener("timeout",m),r.reportProgress&&(a.removeEventListener("progress",T),u!==null&&a.upload&&a.upload.removeEventListener("progress",P)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(i){return new(i||e)(W(Yo))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})(),Pb=new $(""),Rk="XSRF-TOKEN",Pk=new $("",{providedIn:"root",factory:()=>Rk}),Nk="X-XSRF-TOKEN",Ok=new $("",{providedIn:"root",factory:()=>Nk}),td=class{},kk=(()=>{let e=class e{constructor(r,i,o){this.doc=r,this.platform=i,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=Jl(r,this.cookieName),this.lastCookieString=r),this.lastToken}};e.\u0275fac=function(i){return new(i||e)(W(Tt),W(pt),W(Pk))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})();function Fk(t,e){let n=t.url.toLowerCase();if(!k(Pb)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=k(td).getToken(),i=k(Ok);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var Nb=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(Nb||{});function Vk(t,e){return{\u0275kind:t,\u0275providers:e}}function am(...t){let e=[_k,Sb,Tb,{provide:Ua,useExisting:Tb},{provide:Xl,useFactory:()=>k(Ik,{optional:!0})??k(Sb)},{provide:sm,useValue:Fk,multi:!0},{provide:Pb,useValue:!0},{provide:td,useClass:kk}];for(let n of t)e.push(...n.\u0275providers);return gn(e)}var Ab=new $("");function Lk(){return Vk(Nb.LegacyInterceptors,[{provide:Ab,useFactory:Ak},{provide:sm,useExisting:Ab,multi:!0}])}var Ob=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=On({type:e}),e.\u0275inj=Nn({providers:[am(Lk())]});let t=e;return t})();var lm=class extends Yl{constructor(){super(...arguments),this.supportsDOMEvents=!0}},dm=class t extends lm{static makeCurrent(){pb(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=Uk();return n==null?null:jk(n)}resetBaseElement(){$a=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Jl(document.cookie,e)}},$a=null;function Uk(){return $a=$a||document.querySelector("base"),$a?$a.getAttribute("href"):null}function jk(t){return new URL(t,document.baseURI).pathname}var Bk=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})(),hm=new $(""),Lb=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new G(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(W(hm),W(De))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})(),nd=class{constructor(e){this._doc=e}},cm="ng-app-id",Ub=(()=>{let e=class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Zo(s),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(o=>o.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${cm}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(o=>{o.textContent!=null&&i.set(o.textContent,o)}),i}return null}changeUsageCount(r,i){let o=this.styleRef;if(o.has(r)){let s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===r)return o.delete(i),s.removeAttribute(cm),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(cm,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let o=this.getStyleElement(r,i),s=this.styleRef,a=s.get(i)?.elements;a?a.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(W(Tt),W(Ig),W(bg,8),W(pt))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})(),um={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},pm=/%COMP%/g,jb="%COMP%",$k=`_nghost-${jb}`,Hk=`_ngcontent-${jb}`,zk=!0,qk=new $("",{providedIn:"root",factory:()=>zk});function Gk(t){return Hk.replace(pm,t)}function Wk(t){return $k.replace(pm,t)}function Bb(t,e){return e.map(n=>n.replace(pm,t))}var kb=(()=>{let e=class e{constructor(r,i,o,s,a,u,l,h=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=u,this.ngZone=l,this.nonce=h,this.rendererByCompId=new Map,this.platformIsServer=Zo(u),this.defaultRenderer=new Ha(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Sn.ShadowDom&&(i=we(U({},i),{encapsulation:Sn.Emulated}));let o=this.getOrCreateRenderer(r,i);return o instanceof rd?o.applyToHost(r):o instanceof za&&o.applyStyles(),o}getOrCreateRenderer(r,i){let o=this.rendererByCompId,s=o.get(i.id);if(!s){let a=this.doc,u=this.ngZone,l=this.eventManager,h=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(i.encapsulation){case Sn.Emulated:s=new rd(l,h,i,this.appId,p,a,u,m);break;case Sn.ShadowDom:return new fm(l,h,r,i,a,u,this.nonce,m);default:s=new za(l,h,i,p,a,u,m);break}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(W(Lb),W(Ub),W(Ig),W(qk),W(Tt),W(pt),W(De),W(bg))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})(),Ha=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(um[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(Fb(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(Fb(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new G(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=um[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=um[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(ir.DashCase|ir.Important)?e.style.setProperty(n,r,i&ir.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&ir.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=pr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function Fb(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var fm=class extends Ha{constructor(e,n,r,i,o,s,a,u){super(e,o,s,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=Bb(i.id,i.styles);for(let h of l){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},za=class extends Ha{constructor(e,n,r,i,o,s,a,u){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?Bb(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},rd=class extends za{constructor(e,n,r,i,o,s,a,u){let l=i+"-"+r.id;super(e,n,r,o,s,a,u,l),this.contentAttr=Gk(l),this.hostAttr=Wk(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},Kk=(()=>{let e=class e extends nd{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}};e.\u0275fac=function(i){return new(i||e)(W(Tt))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})(),Vb=["alt","control","meta","shift"],Qk={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Yk={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},Jk=(()=>{let e=class e extends nd{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,o){let s=e.parseEventName(i),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>pr().onAndCancel(r,s.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(i.pop()),a="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),a="code."),Vb.forEach(h=>{let p=i.indexOf(h);p>-1&&(i.splice(p,1),a+=h+".")}),a+=s,i.length!=0||s.length===0)return null;let l={};return l.domEventName=o,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let o=Qk[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),Vb.forEach(a=>{if(a!==o){let u=Yk[a];u(r)&&(s+=a+".")}}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(W(Tt))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})();function $b(t,e){return sb(U({rootComponent:t},Zk(e)))}function Zk(t){return{appProviders:[...rF,...t?.providers??[]],platformProviders:nF}}function Xk(){dm.makeCurrent()}function eF(){return new Rn}function tF(){return KI(document),document}var nF=[{provide:pt,useValue:Xg},{provide:Cg,useValue:Xk,multi:!0},{provide:Tt,useFactory:tF,deps:[]}];var rF=[{provide:Ml,useValue:"root"},{provide:Rn,useFactory:eF,deps:[]},{provide:hm,useClass:Kk,multi:!0,deps:[Tt,De,pt]},{provide:hm,useClass:Jk,multi:!0,deps:[Tt]},kb,Ub,Lb,{provide:qo,useExisting:kb},{provide:Yo,useClass:Bk,deps:[]},[]];var Hb=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(W(Tt))},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var fe="primary",sc=Symbol("RouteTitle"),_m=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function is(t){return new _m(t)}function oF(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function sF(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Ln(t[n],e[n]))return!1;return!0}function Ln(t,e){let n=t?wm(t):void 0,r=e?wm(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!eD(t[i],e[i]))return!1;return!0}function wm(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function eD(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function tD(t){return t.length>0?t[t.length-1]:null}function oi(t){return qf(t)?t:Ui(t)?Ne(Promise.resolve(t)):Z(t)}var aF={exact:rD,subset:iD},nD={exact:cF,subset:uF,ignored:()=>!0};function zb(t,e,n){return aF[n.paths](t.root,e.root,n.matrixParams)&&nD[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function cF(t,e){return Ln(t,e)}function rD(t,e,n){if(!Hi(t.segments,e.segments)||!sd(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!rD(t.children[r],e.children[r],n))return!1;return!0}function uF(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>eD(t[n],e[n]))}function iD(t,e,n){return oD(t,e,e.segments,n)}function oD(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Hi(i,n)||e.hasChildren()||!sd(i,n,r))}else if(t.segments.length===n.length){if(!Hi(t.segments,n)||!sd(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!iD(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!Hi(t.segments,i)||!sd(t.segments,i,r)||!t.children[fe]?!1:oD(t.children[fe],e,o,r)}}function sd(t,e,n){return e.every((r,i)=>nD[n](t[i].parameters,r.parameters))}var ri=class{constructor(e=new Me([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=is(this.queryParams),this._queryParamMap}toString(){return hF.serialize(this)}},Me=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ad(this)}},$i=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=is(this.parameters),this._parameterMap}toString(){return aD(this)}};function lF(t,e){return Hi(t,e)&&t.every((n,r)=>Ln(n.parameters,e[r].parameters))}function Hi(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function dF(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===fe&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==fe&&(n=n.concat(e(i,r)))}),n}var ac=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:()=>new os,providedIn:"root"});let t=e;return t})(),os=class{parse(e){let n=new Im(e);return new ri(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${qa(e.root,!0)}`,r=gF(e.queryParams),i=typeof e.fragment=="string"?`#${fF(e.fragment)}`:"";return`${n}${r}${i}`}},hF=new os;function ad(t){return t.segments.map(e=>aD(e)).join("/")}function qa(t,e){if(!t.hasChildren())return ad(t);if(e){let n=t.children[fe]?qa(t.children[fe],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==fe&&r.push(`${i}:${qa(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=dF(t,(r,i)=>i===fe?[qa(t.children[fe],!1)]:[`${i}:${qa(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[fe]!=null?`${ad(t)}/${n[0]}`:`${ad(t)}/(${n.join("//")})`}}function sD(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function id(t){return sD(t).replace(/%3B/gi,";")}function fF(t){return encodeURI(t)}function Em(t){return sD(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function cd(t){return decodeURIComponent(t)}function qb(t){return cd(t.replace(/\+/g,"%20"))}function aD(t){return`${Em(t.path)}${pF(t.parameters)}`}function pF(t){return Object.entries(t).map(([e,n])=>`;${Em(e)}=${Em(n)}`).join("")}function gF(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${id(n)}=${id(i)}`).join("&"):`${id(n)}=${id(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var mF=/^[^\/()?;#]+/;function gm(t){let e=t.match(mF);return e?e[0]:""}var yF=/^[^\/()?;=#]+/;function vF(t){let e=t.match(yF);return e?e[0]:""}var _F=/^[^=?&#]+/;function wF(t){let e=t.match(_F);return e?e[0]:""}var EF=/^[^&#]+/;function IF(t){let e=t.match(EF);return e?e[0]:""}var Im=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Me([],{}):new Me([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[fe]=new Me(e,n)),r}parseSegment(){let e=gm(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new G(4009,!1);return this.capture(e),new $i(cd(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=vF(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=gm(this.remaining);i&&(r=i,this.capture(r))}e[cd(n)]=cd(r)}parseQueryParam(e){let n=wF(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=IF(this.remaining);s&&(r=s,this.capture(r))}let i=qb(n),o=qb(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=gm(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new G(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=fe);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[fe]:new Me([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new G(4011,!1)}};function cD(t){return t.segments.length>0?new Me([],{[fe]:t}):t}function uD(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=uD(i);if(r===fe&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new Me(t.segments,e);return CF(n)}function CF(t){if(t.numberOfChildren===1&&t.children[fe]){let e=t.children[fe];return new Me(t.segments.concat(e.segments),e.children)}return t}function Ja(t){return t instanceof ri}function bF(t,e,n=null,r=null){let i=lD(t);return dD(i,e,n,r)}function lD(t){let e;function n(o){let s={};for(let u of o.children){let l=n(u);s[u.outlet]=l}let a=new Me(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=cD(r);return e??i}function dD(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return mm(i,i,i,n,r);let o=DF(e);if(o.toRoot())return mm(i,i,new Me([],{}),n,r);let s=TF(o,i,t),a=s.processChildren?Ka(s.segmentGroup,s.index,o.commands):fD(s.segmentGroup,s.index,o.commands);return mm(i,s.segmentGroup,a,n,r)}function ud(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Za(t){return typeof t=="object"&&t!=null&&t.outlets}function mm(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;t===e?s=n:s=hD(t,e,n);let a=cD(uD(s));return new ri(a,o,i)}function hD(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=hD(o,e,n)}),new Me(t.segments,r)}var ld=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&ud(r[0]))throw new G(4003,!1);let i=r.find(Za);if(i&&i!==tD(r))throw new G(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function DF(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new ld(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new ld(n,e,r)}var ts=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function TF(t,e,n){if(t.isAbsolute)return new ts(e,!0,0);if(!n)return new ts(e,!1,NaN);if(n.parent===null)return new ts(n,!0,0);let r=ud(t.commands[0])?0:1,i=n.segments.length-1+r;return SF(n,i,t.numberOfDoubleDots)}function SF(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new G(4005,!1);i=r.segments.length}return new ts(r,!1,i-o)}function AF(t){return Za(t[0])?t[0].outlets:{[fe]:t}}function fD(t,e,n){if(t??=new Me([],{}),t.segments.length===0&&t.hasChildren())return Ka(t,e,n);let r=MF(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new Me(t.segments.slice(0,r.pathIndex),{});return o.children[fe]=new Me(t.segments.slice(r.pathIndex),t.children),Ka(o,0,i)}else return r.match&&i.length===0?new Me(t.segments,{}):r.match&&!t.hasChildren()?Cm(t,e,n):r.match?Ka(t,0,i):Cm(t,e,n)}function Ka(t,e,n){if(n.length===0)return new Me(t.segments,{});{let r=AF(n),i={};if(Object.keys(r).some(o=>o!==fe)&&t.children[fe]&&t.numberOfChildren===1&&t.children[fe].segments.length===0){let o=Ka(t.children[fe],e,n);return new Me(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=fD(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Me(t.segments,i)}}function MF(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(Za(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!Wb(u,l,s))return o;r+=2}else{if(!Wb(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Cm(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(Za(o)){let u=xF(o.outlets);return new Me(r,u)}if(i===0&&ud(n[0])){let u=t.segments[e];r.push(new $i(u.path,Gb(n[0]))),i++;continue}let s=Za(o)?o.outlets[fe]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&ud(a)?(r.push(new $i(s,Gb(a))),i+=2):(r.push(new $i(s,{})),i++)}return new Me(r,{})}function xF(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Cm(new Me([],{}),0,r))}),e}function Gb(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function Wb(t,e,n){return t==n.path&&Ln(e,n.parameters)}var Qa="imperative",lt=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(lt||{}),on=class{constructor(e,n){this.id=e,this.url=n}},ss=class extends on{constructor(e,n,r="imperative",i=null){super(e,n),this.type=lt.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},_n=class extends on{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=lt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Yt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Yt||{}),dd=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(dd||{}),yr=class extends on{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=lt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},ii=class extends on{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=lt.NavigationSkipped}},Xa=class extends on{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=lt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},hd=class extends on{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=lt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},bm=class extends on{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=lt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Dm=class extends on{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=lt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Tm=class extends on{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=lt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Sm=class extends on{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=lt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Am=class{constructor(e){this.route=e,this.type=lt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Mm=class{constructor(e){this.route=e,this.type=lt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},xm=class{constructor(e){this.snapshot=e,this.type=lt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Rm=class{constructor(e){this.snapshot=e,this.type=lt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Pm=class{constructor(e){this.snapshot=e,this.type=lt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Nm=class{constructor(e){this.snapshot=e,this.type=lt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},fd=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=lt.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},ec=class{},as=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};var Om=class{constructor(e){this.injector=e,this.outlet=null,this.route=null,this.children=new cc(this.injector),this.attachRef=null}},cc=(()=>{let e=class e{constructor(r){this.parentInjector=r,this.contexts=new Map}onChildOutletCreated(r,i){let o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Om(this.parentInjector),this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)(W(Ct))},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),pd=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=km(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=km(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Fm(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Fm(e,this._root).map(n=>n.value)}};function km(t,e){if(t===e.value)return e;for(let n of e.children){let r=km(t,n);if(r)return r}return null}function Fm(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Fm(t,n);if(r.length)return r.unshift(e),r}return[]}var Qt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function es(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var gd=class extends pd{constructor(e,n){super(e),this.snapshot=n,qm(this,e)}toString(){return this.snapshot.toString()}};function pD(t){let e=RF(t),n=new rt([new $i("",{})]),r=new rt({}),i=new rt({}),o=new rt({}),s=new rt(""),a=new Un(n,r,o,s,i,fe,t,e.root);return a.snapshot=e.root,new gd(new Qt(a,[]),e)}function RF(t){let e={},n={},r={},i="",o=new ns([],e,r,i,n,fe,t,null,{});return new yd("",new Qt(o,[]))}var Un=class{constructor(e,n,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(X(l=>l[sc]))??Z(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(X(e=>is(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(X(e=>is(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function md(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:U(U({},e.params),t.params),data:U(U({},e.data),t.data),resolve:U(U(U(U({},t.data),e.data),i?.data),t._resolvedData)}:r={params:U({},t.params),data:U({},t.data),resolve:U(U({},t.data),t._resolvedData??{})},i&&mD(i)&&(r.resolve[sc]=i.title),r}var ns=class{get title(){return this.data?.[sc]}constructor(e,n,r,i,o,s,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=is(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=is(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},yd=class extends pd{constructor(e,n){super(n),this.url=e,qm(this,n)}toString(){return gD(this._root)}};function qm(t,e){e.value._routerState=t,e.children.forEach(n=>qm(t,n))}function gD(t){let e=t.children.length>0?` { ${t.children.map(gD).join(", ")} } `:"";return`${t.value}${e}`}function ym(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Ln(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Ln(e.params,n.params)||t.paramsSubject.next(n.params),sF(e.url,n.url)||t.urlSubject.next(n.url),Ln(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Vm(t,e){let n=Ln(t.params,e.params)&&lF(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Vm(t.parent,e.parent))}function mD(t){return typeof t.title=="string"||t.title===null}var Gm=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=fe,this.activateEvents=new ze,this.deactivateEvents=new ze,this.attachEvents=new ze,this.detachEvents=new ze,this.parentContexts=k(cc),this.location=k(Kr),this.changeDetector=k(Yr),this.inputBinder=k(Ed,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new G(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new G(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new G(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new G(4013,!1);this._activatedRoute=r;let o=this.location,a=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,l=new Lm(r,u,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Ve({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ur]});let t=e;return t})(),Lm=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Un?this.route:e===cc?this.childContexts:this.parent.get(e,n)}},Ed=new $(""),Kb=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:i}=r,o=Ea([i.queryParams,i.params,i.data]).pipe(jt(([s,a,u],l)=>(u=U(U(U({},s),a),u),l===0?Z(u):Promise.resolve(u)))).subscribe(s=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(r);return}let a=ab(i.component);if(!a){this.unsubscribeFromRouteData(r);return}for(let{templateName:u}of a.inputs)r.activatedComponentRef.setInput(u,s[u])});this.outletDataSubscriptions.set(r,o)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})();function PF(t,e,n){let r=tc(t,e._root,n?n._root:void 0);return new gd(r,e)}function tc(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=NF(t,e,n);return new Qt(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>tc(t,a)),s}}let r=OF(e.value),i=e.children.map(o=>tc(t,o));return new Qt(r,i)}}function NF(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return tc(t,r,i);return tc(t,r)})}function OF(t){return new Un(new rt(t.url),new rt(t.params),new rt(t.queryParams),new rt(t.fragment),new rt(t.data),t.outlet,t.component,t)}var nc=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},yD="ngNavigationCancelingError";function vd(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Ja(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=vD(!1,Yt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function vD(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[yD]=!0,n.cancellationCode=e,n}function kF(t){return _D(t)&&Ja(t.url)}function _D(t){return!!t&&t[yD]}var FF=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=qe({type:e,selectors:[["ng-component"]],standalone:!0,features:[We],decls:1,vars:0,template:function(i,o){i&1&&he(0,"router-outlet")},dependencies:[Gm],encapsulation:2});let t=e;return t})();function VF(t,e){return t.providers&&!t._injector&&(t._injector=$l(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Wm(t){let e=t.children&&t.children.map(Wm),n=e?we(U({},t),{children:e}):U({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==fe&&(n.component=FF),n}function vn(t){return t.outlet||fe}function LF(t,e){let n=t.filter(r=>vn(r)===e);return n.push(...t.filter(r=>vn(r)!==e)),n}function uc(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var UF=(t,e,n,r)=>X(i=>(new Um(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Um=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),ym(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=es(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=es(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=es(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=es(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Nm(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Rm(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(ym(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),ym(a.route.value),this.activateChildRoutes(e,null,s.children)}else{let a=uc(i.snapshot);s.attachRef=null,s.route=i,s.injector=a??s.injector,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}},_d=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},rs=class{constructor(e,n){this.component=e,this.route=n}};function jF(t,e,n){let r=t._root,i=e?e._root:null;return Ga(r,i,n,[r.value])}function BF(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function ls(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!NE(t)?t:e.get(t):r}function Ga(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=es(e);return t.children.forEach(s=>{$F(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Ya(a,n.getContext(s),i)),i}function $F(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=HF(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new _d(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Ga(t,e,a?a.children:null,r,i):Ga(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new rs(a.outlet.component,s))}else s&&Ya(e,a,i),i.canActivateChecks.push(new _d(r)),o.component?Ga(t,null,a?a.children:null,r,i):Ga(t,null,n,r,i);return i}function HF(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Hi(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Hi(t.url,e.url)||!Ln(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Vm(t,e)||!Ln(t.queryParams,e.queryParams);case"paramsChange":default:return!Vm(t,e)}}function Ya(t,e,n){let r=es(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Ya(s,e.children.getContext(o),n):Ya(s,null,n):Ya(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new rs(e.outlet.component,i)):n.canDeactivateChecks.push(new rs(null,i)):n.canDeactivateChecks.push(new rs(null,i))}function lc(t){return typeof t=="function"}function zF(t){return typeof t=="boolean"}function qF(t){return t&&lc(t.canLoad)}function GF(t){return t&&lc(t.canActivate)}function WF(t){return t&&lc(t.canActivateChild)}function KF(t){return t&&lc(t.canDeactivate)}function QF(t){return t&&lc(t.canMatch)}function wD(t){return t instanceof er||t?.name==="EmptyError"}var od=Symbol("INITIAL_VALUE");function cs(){return jt(t=>Ea(t.map(e=>e.pipe(nr(1),Gu(od)))).pipe(X(e=>{for(let n of e)if(n!==!0){if(n===od)return od;if(n===!1||YF(n))return n}return!0}),Pt(e=>e!==od),nr(1)))}function YF(t){return Ja(t)||t instanceof nc}function JF(t,e){return Ze(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?Z(we(U({},n),{guardsResult:!0})):ZF(s,r,i,t).pipe(Ze(a=>a&&zF(a)?XF(r,o,t,e):Z(a)),X(a=>we(U({},n),{guardsResult:a})))})}function ZF(t,e,n,r){return Ne(t).pipe(Ze(i=>iV(i.component,i.route,n,e,r)),bn(i=>i!==!0,!0))}function XF(t,e,n,r){return Ne(e).pipe(tr(i=>Mo(tV(i.route.parent,r),eV(i.route,r),rV(t,i.path,n),nV(t,i.route,n))),bn(i=>i!==!0,!0))}function eV(t,e){return t!==null&&e&&e(new Pm(t)),Z(!0)}function tV(t,e){return t!==null&&e&&e(new xm(t)),Z(!0)}function nV(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return Z(!0);let i=r.map(o=>Hu(()=>{let s=uc(e)??n,a=ls(o,s),u=GF(a)?a.canActivate(e,t):Kt(s,()=>a(e,t));return oi(u).pipe(bn())}));return Z(i).pipe(cs())}function rV(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>BF(s)).filter(s=>s!==null).map(s=>Hu(()=>{let a=s.guards.map(u=>{let l=uc(s.node)??n,h=ls(u,l),p=WF(h)?h.canActivateChild(r,t):Kt(l,()=>h(r,t));return oi(p).pipe(bn())});return Z(a).pipe(cs())}));return Z(o).pipe(cs())}function iV(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return Z(!0);let s=o.map(a=>{let u=uc(e)??i,l=ls(a,u),h=KF(l)?l.canDeactivate(t,e,n,r):Kt(u,()=>l(t,e,n,r));return oi(h).pipe(bn())});return Z(s).pipe(cs())}function oV(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return Z(!0);let o=i.map(s=>{let a=ls(s,t),u=qF(a)?a.canLoad(e,n):Kt(t,()=>a(e,n));return oi(u)});return Z(o).pipe(cs(),ED(r))}function ED(t){return Iu(Xe(e=>{if(typeof e!="boolean")throw vd(t,e)}),X(e=>e===!0))}function sV(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return Z(!0);let o=i.map(s=>{let a=ls(s,t),u=QF(a)?a.canMatch(e,n):Kt(t,()=>a(e,n));return oi(u)});return Z(o).pipe(cs(),ED(r))}var rc=class{constructor(e){this.segmentGroup=e||null}},ic=class extends Error{constructor(e){super(),this.urlTree=e}};function Xo(t){return Ao(new rc(t))}function aV(t){return Ao(new G(4e3,!1))}function cV(t){return Ao(vD(!1,Yt.GuardRejected))}var jm=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return Z(r);if(i.numberOfChildren>1||!i.children[fe])return aV(`${e.redirectTo}`);i=i.children[fe]}}applyRedirectCommands(e,n,r,i,o){if(typeof n!="string"){let a=n,{queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,params:y,data:T,title:P}=i,R=Kt(o,()=>a({params:y,data:T,queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,title:P}));if(R instanceof ri)throw new ic(R);n=R}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new ic(s);return s}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new ri(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new Me(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new G(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Bm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function uV(t,e,n,r,i){let o=Km(t,e,n);return o.matched?(r=VF(e,r),sV(r,e,n,i).pipe(X(s=>s===!0?o:U({},Bm)))):Z(o)}function Km(t,e,n){if(e.path==="**")return lV(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?U({},Bm):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||oF)(n,t,e);if(!i)return U({},Bm);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?U(U({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function lV(t){return{matched:!0,parameters:t.length>0?tD(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function Qb(t,e,n,r){return n.length>0&&fV(t,n,r)?{segmentGroup:new Me(e,hV(r,new Me(n,t.children))),slicedSegments:[]}:n.length===0&&pV(t,n,r)?{segmentGroup:new Me(t.segments,dV(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Me(t.segments,t.children),slicedSegments:n}}function dV(t,e,n,r){let i={};for(let o of n)if(Id(t,e,o)&&!r[vn(o)]){let s=new Me([],{});i[vn(o)]=s}return U(U({},r),i)}function hV(t,e){let n={};n[fe]=e;for(let r of t)if(r.path===""&&vn(r)!==fe){let i=new Me([],{});n[vn(r)]=i}return n}function fV(t,e,n){return n.some(r=>Id(t,e,r)&&vn(r)!==fe)}function pV(t,e,n){return n.some(r=>Id(t,e,r))}function Id(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function gV(t,e,n,r){return vn(t)!==r&&(r===fe||!Id(e,n,t))?!1:Km(e,t,n).matched}function mV(t,e,n){return e.length===0&&!t.children[n]}var $m=class{};function yV(t,e,n,r,i,o,s="emptyOnly"){return new Hm(t,e,n,r,i,s,o).recognize()}var vV=31,Hm=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new jm(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new G(4002,`'${e.segmentGroup}'`)}recognize(){let e=Qb(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(X(({children:n,rootSnapshot:r})=>{let i=new Qt(r,n),o=new yd("",i),s=bF(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new ns([],Object.freeze({}),Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),fe,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,fe,n).pipe(X(r=>({children:r,rootSnapshot:n})),Vr(r=>{if(r instanceof ic)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof rc?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(X(s=>s instanceof Qt?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Ne(o).pipe(tr(s=>{let a=r.children[s],u=LF(n,s);return this.processSegmentGroup(e,u,a,s,i)}),qu((s,a)=>(s.push(...a),s)),Lr(null),Qf(),Ze(s=>{if(s===null)return Xo(r);let a=ID(s);return _V(a),Z(a)}))}processSegment(e,n,r,i,o,s,a){return Ne(n).pipe(tr(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,o,s,a).pipe(Vr(l=>{if(l instanceof rc)return Z(null);throw l}))),bn(u=>!!u),Vr(u=>{if(wD(u))return mV(r,i,o)?Z(new $m):Xo(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,o,s,a,u){return gV(r,i,o,s)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,u):Xo(i):Xo(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:m}=Km(n,i,o);if(!u)return Xo(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>vV&&(this.allowRedirects=!1));let y=new ns(o,l,Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,Yb(i),vn(i),i.component??i._loadedComponent??null,i,Jb(i)),T=md(y,a,this.paramsInheritanceStrategy);y.params=Object.freeze(T.params),y.data=Object.freeze(T.data);let P=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,y,e);return this.applyRedirects.lineralizeSegments(i,P).pipe(Ze(R=>this.processSegment(e,r,n,R.concat(m),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a=uV(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(jt(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(jt(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:y}=u,T=new ns(m,p,Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,Yb(r),vn(r),r.component??r._loadedComponent??null,r,Jb(r)),P=md(T,s,this.paramsInheritanceStrategy);T.params=Object.freeze(P.params),T.data=Object.freeze(P.data);let{segmentGroup:R,slicedSegments:F}=Qb(n,m,y,l);if(F.length===0&&R.hasChildren())return this.processChildren(h,l,R,T).pipe(X(q=>new Qt(T,q)));if(l.length===0&&F.length===0)return Z(new Qt(T,[]));let K=vn(r)===o;return this.processSegment(h,l,R,F,K?fe:o,!0,T).pipe(X(q=>new Qt(T,q instanceof Qt?[q]:[])))}))):Xo(n)))}getChildConfig(e,n,r){return n.children?Z({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?Z({routes:n._loadedRoutes,injector:n._loadedInjector}):oV(e,n,r,this.urlSerializer).pipe(Ze(i=>i?this.configLoader.loadChildren(e,n).pipe(Xe(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):cV(n))):Z({routes:[],injector:e})}};function _V(t){t.sort((e,n)=>e.value.outlet===fe?-1:n.value.outlet===fe?1:e.value.outlet.localeCompare(n.value.outlet))}function wV(t){let e=t.value.routeConfig;return e&&e.path===""}function ID(t){let e=[],n=new Set;for(let r of t){if(!wV(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=ID(r.children);e.push(new Qt(r.value,i))}return e.filter(r=>!n.has(r))}function Yb(t){return t.data||{}}function Jb(t){return t.resolve||{}}function EV(t,e,n,r,i,o){return Ze(s=>yV(t,e,n,r,s.extractedUrl,i,o).pipe(X(({state:a,tree:u})=>we(U({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function IV(t,e){return Ze(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Z(n);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of CD(u))s.add(l);let a=0;return Ne(s).pipe(tr(u=>o.has(u)?CV(u,r,t,e):(u.data=md(u,u.parent,t).resolve,Z(void 0))),Xe(()=>a++),xo(1),Ze(u=>a===s.size?Z(n):Gt))})}function CD(t){let e=t.children.map(n=>CD(n)).flat();return[t,...e]}function CV(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!mD(i)&&(o[sc]=i.title),bV(o,t,e,r).pipe(X(s=>(t._resolvedData=s,t.data=md(t,t.parent,n).resolve,null)))}function bV(t,e,n,r){let i=wm(t);if(i.length===0)return Z({});let o={};return Ne(i).pipe(Ze(s=>DV(t[s],e,n,r).pipe(bn(),Xe(a=>{if(a instanceof nc)throw vd(new os,a);o[s]=a}))),xo(1),Kf(o),Vr(s=>wD(s)?Gt:Ao(s)))}function DV(t,e,n,r){let i=uc(e)??r,o=ls(t,i),s=o.resolve?o.resolve(e,n):Kt(i,()=>o(e,n));return oi(s)}function vm(t){return jt(e=>{let n=t(e);return n?Ne(n).pipe(X(()=>e)):Z(e)})}var bD=(()=>{let e=class e{buildTitle(r){let i,o=r.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===fe);return i}getResolvedTitleForRoute(r){return r.data[sc]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:()=>k(TV),providedIn:"root"});let t=e;return t})(),TV=(()=>{let e=class e extends bD{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(W(Hb))},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),dc=new $("",{providedIn:"root",factory:()=>({})}),oc=new $(""),Qm=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=k(Ql)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Z(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=oi(r.loadComponent()).pipe(X(DD),Xe(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),Ur(()=>{this.componentLoaders.delete(r)})),o=new bo(i,()=>new at).pipe(Co());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Z({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=SV(i,this.compiler,r,this.onLoadEndListener).pipe(Ur(()=>{this.childrenLoaders.delete(i)})),a=new bo(s,()=>new at).pipe(Co());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function SV(t,e,n,r){return oi(t.loadChildren()).pipe(X(DD),Ze(i=>i instanceof Ma||Array.isArray(i)?Z(i):Ne(e.compileModuleAsync(i))),X(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(oc,[],{optional:!0,self:!0}).flat()),{routes:s.map(Wm),injector:o}}))}function AV(t){return t&&typeof t=="object"&&"default"in t}function DD(t){return AV(t)?t.default:t}var Ym=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:()=>k(MV),providedIn:"root"});let t=e;return t})(),MV=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),TD=new $(""),SD=new $("");function xV(t,e,n){let r=t.get(SD),i=t.get(Tt);return t.get(De).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),RV(t))),{onViewTransitionCreated:u}=r;return u&&Kt(t,()=>u({transition:a,from:e,to:n})),s})}function RV(t){return new Promise(e=>{Bl(()=>setTimeout(e),{injector:t,phase:Br.Read})})}var PV=new $(""),Jm=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new at,this.transitionAbortSubject=new at,this.configLoader=k(Qm),this.environmentInjector=k(Ct),this.urlSerializer=k(ac),this.rootContexts=k(cc),this.location=k(Jo),this.inputBindingEnabled=k(Ed,{optional:!0})!==null,this.titleStrategy=k(bD),this.options=k(dc,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=k(Ym),this.createViewTransition=k(TD,{optional:!0}),this.navigationErrorHandler=k(PV,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Z(void 0),this.rootComponentType=null;let r=o=>this.events.next(new Am(o)),i=o=>this.events.next(new Mm(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(we(U(U({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,o){return this.transitions=new rt({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Qa,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Pt(s=>s.id!==0),X(s=>we(U({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),jt(s=>{let a=!1,u=!1;return Z(s).pipe(jt(l=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",Yt.SupersededByNewNavigation),Gt;this.currentTransition=s,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?we(U({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let h=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!h&&p!=="reload"){let m="";return this.events.next(new ii(l.id,this.urlSerializer.serialize(l.rawUrl),m,dd.IgnoredSameUrlNavigation)),l.resolve(!1),Gt}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return Z(l).pipe(jt(m=>{let y=this.transitions?.getValue();return this.events.next(new ss(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),y!==this.transitions?.getValue()?Gt:Promise.resolve(m)}),EV(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),Xe(m=>{s.targetSnapshot=m.targetSnapshot,s.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation=we(U({},this.currentNavigation),{finalUrl:m.urlAfterRedirects});let y=new hd(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(y)}));if(h&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:m,extractedUrl:y,source:T,restoredState:P,extras:R}=l,F=new ss(m,this.urlSerializer.serialize(y),T,P);this.events.next(F);let K=pD(this.rootComponentType).snapshot;return this.currentTransition=s=we(U({},l),{targetSnapshot:K,urlAfterRedirects:y,extras:we(U({},R),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=y,Z(s)}else{let m="";return this.events.next(new ii(l.id,this.urlSerializer.serialize(l.extractedUrl),m,dd.IgnoredByUrlHandlingStrategy)),l.resolve(!1),Gt}}),Xe(l=>{let h=new bm(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),X(l=>(this.currentTransition=s=we(U({},l),{guards:jF(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),s)),JF(this.environmentInjector,l=>this.events.next(l)),Xe(l=>{if(s.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw vd(this.urlSerializer,l.guardsResult);let h=new Dm(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(h)}),Pt(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Yt.GuardRejected),!1)),vm(l=>{if(l.guards.canActivateChecks.length)return Z(l).pipe(Xe(h=>{let p=new Tm(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}),jt(h=>{let p=!1;return Z(h).pipe(IV(this.paramsInheritanceStrategy,this.environmentInjector),Xe({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(h,"",Yt.NoDataFromResolver)}}))}),Xe(h=>{let p=new Sm(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}))}),vm(l=>{let h=p=>{let m=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(p.routeConfig).pipe(Xe(y=>{p.component=y}),X(()=>{})));for(let y of p.children)m.push(...h(y));return m};return Ea(h(l.targetSnapshot.root)).pipe(Lr(null),nr(1))}),vm(()=>this.afterPreactivation()),jt(()=>{let{currentSnapshot:l,targetSnapshot:h}=s,p=this.createViewTransition?.(this.environmentInjector,l.root,h.root);return p?Ne(p).pipe(X(()=>s)):Z(s)}),X(l=>{let h=PF(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s=we(U({},l),{targetRouterState:h}),this.currentNavigation.targetRouterState=h,s}),Xe(()=>{this.events.next(new ec)}),UF(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),nr(1),Xe({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new _n(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),Yf(this.transitionAbortSubject.pipe(Xe(l=>{throw l}))),Ur(()=>{!a&&!u&&this.cancelNavigationTransition(s,"",Yt.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Vr(l=>{if(u=!0,_D(l))this.events.next(new yr(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),kF(l)?this.events.next(new as(l.url,l.navigationBehaviorOptions)):s.resolve(!1);else{let h=new Xa(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0);try{let p=Kt(this.environmentInjector,()=>this.navigationErrorHandler?.(h));if(p instanceof nc){let{message:m,cancellationCode:y}=vd(this.urlSerializer,p);this.events.next(new yr(s.id,this.urlSerializer.serialize(s.extractedUrl),m,y)),this.events.next(new as(p.redirectTo,p.navigationBehaviorOptions))}else{this.events.next(h);let m=r.errorHandler(l);s.resolve(!!m)}}catch(p){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(p)}}return Gt}))}))}cancelNavigationTransition(r,i,o){let s=new yr(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function NV(t){return t!==Qa}var OV=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:()=>k(kV),providedIn:"root"});let t=e;return t})(),zm=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},kV=(()=>{let e=class e extends zm{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=lr(e)))(o||e)}})(),e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),AD=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:()=>k(FV),providedIn:"root"});let t=e;return t})(),FV=(()=>{let e=class e extends AD{constructor(){super(...arguments),this.location=k(Jo),this.urlSerializer=k(ac),this.options=k(dc,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=k(Ym),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new ri,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=pD(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof ss)this.stateMemento=this.createStateMemento();else if(r instanceof ii)this.rawUrlTree=i.initialUrl;else if(r instanceof hd){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(o,i)}}else r instanceof ec?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof yr&&(r.code===Yt.GuardRejected||r.code===Yt.NoDataFromResolver)?this.restoreHistory(i):r instanceof Xa?this.restoreHistory(i,!0):r instanceof _n&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let o=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let s=this.browserPageId,a=U(U({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(o,"",a)}else{let s=U(U({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===r.finalUrl&&s===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=lr(e)))(o||e)}})(),e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Wa=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Wa||{});function MD(t,e){t.events.pipe(Pt(n=>n instanceof _n||n instanceof yr||n instanceof Xa||n instanceof ii),X(n=>n instanceof _n||n instanceof ii?Wa.COMPLETE:(n instanceof yr?n.code===Yt.Redirect||n.code===Yt.SupersededByNewNavigation:!1)?Wa.REDIRECTING:Wa.FAILED),Pt(n=>n!==Wa.REDIRECTING),nr(1)).subscribe(()=>{e()})}function VV(t){throw t}var LV={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},UV={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},ut=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=k(Wl),this.stateManager=k(AD),this.options=k(dc,{optional:!0})||{},this.pendingTasks=k(dr),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=k(Jm),this.urlSerializer=k(ac),this.location=k(Jo),this.urlHandlingStrategy=k(Ym),this._events=new at,this.errorHandler=this.options.errorHandler||VV,this.navigated=!1,this.routeReuseStrategy=k(OV),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=k(oc,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!k(Ed,{optional:!0}),this.eventsSubscription=new He,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof yr&&i.code!==Yt.Redirect&&i.code!==Yt.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof _n)this.navigated=!0;else if(i instanceof as){let a=i.navigationBehaviorOptions,u=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),l=U({info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||NV(o.source)},a);this.scheduleNavigation(u,Qa,null,l,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}BV(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Qa,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let l=U({},o);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let u=this.parseUrl(r);this.scheduleNavigation(u,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Wm),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:u,preserveFragment:l}=i,h=l?this.currentUrlTree.fragment:a,p=null;switch(u){case"merge":p=U(U({},this.currentUrlTree.queryParams),s);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=s||null}p!==null&&(p=this.removeEmptyProps(p));let m;try{let y=o?o.snapshot:this.routerState.snapshot.root;m=lD(y)}catch{(typeof r[0]!="string"||r[0][0]!=="/")&&(r=[]),m=this.currentUrlTree.root}return dD(m,r,p,h??null)}navigateByUrl(r,i={skipLocationChange:!1}){let o=Ja(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,Qa,null,i)}navigate(r,i={skipLocationChange:!1}){return jV(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let o;if(i===!0?o=U({},LV):i===!1?o=U({},UV):o=i,Ja(r))return zb(this.currentUrlTree,r,o);let s=this.parseUrl(r);return zb(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.entries(r).reduce((i,[o,s])=>(s!=null&&(i[o]=s),i),{})}scheduleNavigation(r,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let u,l,h;a?(u=a.resolve,l=a.reject,h=a.promise):h=new Promise((m,y)=>{u=m,l=y});let p=this.pendingTasks.add();return MD(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:s,resolve:u,reject:l,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(m=>Promise.reject(m))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function jV(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new G(4008,!1)}function BV(t){return!(t instanceof ec)&&!(t instanceof as)}var us=(()=>{let e=class e{constructor(r,i,o,s,a,u){this.router=r,this.route=i,this.tabIndexAttribute=o,this.renderer=s,this.el=a,this.locationStrategy=u,this.href=null,this.commands=null,this.onChanges=new at,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let l=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=r.events.subscribe(h=>{h instanceof _n&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,o,s,a){let u=this.urlTree;if(u===null||this.isAnchorElement&&(r!==0||i||o||s||a||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(u,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:JI(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let o=this.renderer,s=this.el.nativeElement;i!==null?o.setAttribute(s,r,i):o.removeAttribute(s,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(B(ut),B(Un),wg("tabindex"),B(yn),B(Ft),B(gr))},e.\u0275dir=Ve({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,o){i&1&&Y("click",function(a){return o.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&ka("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Jr],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Jr],replaceUrl:[2,"replaceUrl","replaceUrl",Jr],routerLink:"routerLink"},standalone:!0,features:[Bg,ur]});let t=e;return t})(),xD=(()=>{let e=class e{get isActive(){return this._isActive}constructor(r,i,o,s,a){this.router=r,this.element=i,this.renderer=o,this.cdr=s,this.link=a,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new ze,this.routerEventsSubscription=r.events.subscribe(u=>{u instanceof _n&&this.update()})}ngAfterContentInit(){Z(this.links.changes,Z(null)).pipe(Fr()).subscribe(r=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let r=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=Ne(r).pipe(Fr()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(r){let i=Array.isArray(r)?r:r.split(" ");this.classes=i.filter(o=>!!o)}ngOnChanges(r){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let r=this.hasActiveLinks();this.classes.forEach(i=>{r?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),r&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==r&&(this._isActive=r,this.cdr.markForCheck(),this.isActiveChange.emit(r))})}isLinkActive(r){let i=$V(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return o=>{let s=o.urlTree;return s?r.isActive(s,i):!1}}hasActiveLinks(){let r=this.isLinkActive(this.router);return this.link&&r(this.link)||this.links.some(r)}};e.\u0275fac=function(i){return new(i||e)(B(ut),B(Ft),B(yn),B(Yr),B(us,8))},e.\u0275dir=Ve({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(i,o,s){if(i&1&&KC(s,us,5),i&2){let a;zl(a=ql())&&(o.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[ur]});let t=e;return t})();function $V(t){return!!t.paths}var wd=class{};var HV=(()=>{let e=class e{constructor(r,i,o,s,a){this.router=r,this.injector=o,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Pt(r=>r instanceof _n),tr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){let o=[];for(let s of i){s.providers&&!s._injector&&(s._injector=$l(s.providers,r,`Route: ${s.path}`));let a=s._injector??r,u=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&o.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&o.push(this.processRoutes(u,s.children??s._loadedRoutes))}return Ne(o).pipe(Fr())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let o;i.loadChildren&&i.canLoad===void 0?o=this.loader.loadChildren(r,i):o=Z(null);let s=o.pipe(Ze(a=>a===null?Z(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));if(i.loadComponent&&!i._loadedComponent){let a=this.loader.loadComponent(i);return Ne([s,a]).pipe(Fr())}else return s})}};e.\u0275fac=function(i){return new(i||e)(W(ut),W(Ql),W(Ct),W(wd),W(Qm))},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),RD=new $(""),zV=(()=>{let e=class e{constructor(r,i,o,s,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=o,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=k(Ct),a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof ss?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof _n?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof ii&&r.code===dd.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof fd&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>S(this,null,function*(){yield new Promise(o=>{setTimeout(()=>{o()}),Bl(()=>{o()},{injector:this.environmentInjector})}),this.zone.run(()=>{this.transitions.events.next(new fd(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(i){uC()},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})();function PD(t,...e){return gn([{provide:oc,multi:!0,useValue:t},[],{provide:Un,useFactory:ND,deps:[ut]},{provide:Va,multi:!0,useFactory:OD},e.map(n=>n.\u0275providers)])}function ND(t){return t.routerState.root}function hc(t,e){return{\u0275kind:t,\u0275providers:e}}function OD(){let t=k(ft);return e=>{let n=t.get(ji);if(e!==n.components[0])return;let r=t.get(ut),i=t.get(kD);t.get(Zm)===1&&r.initialNavigation(),t.get(FD,null,ge.Optional)?.setUpPreloading(),t.get(RD,null,ge.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var kD=new $("",{factory:()=>new at}),Zm=new $("",{providedIn:"root",factory:()=>1});function qV(){return hc(2,[{provide:Zm,useValue:0},{provide:Kl,multi:!0,deps:[ft],useFactory:e=>{let n=e.get(gb,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(ut),o=e.get(kD);MD(i,()=>{r(!0)}),e.get(Jm).afterPreactivation=()=>(r(!0),o.closed?Z(void 0):o),i.initialNavigation()}))}}])}function GV(){return hc(3,[{provide:Kl,multi:!0,useFactory:()=>{let e=k(ut);return()=>{e.setUpLocationChangeListener()}}},{provide:Zm,useValue:2}])}var FD=new $("");function WV(t){return hc(0,[{provide:FD,useExisting:HV},{provide:wd,useExisting:t}])}function KV(){return hc(8,[Kb,{provide:Ed,useExisting:Kb}])}function QV(t){let e=[{provide:TD,useValue:xV},{provide:SD,useValue:U({skipNextTransition:!!t?.skipInitialTransition},t)}];return hc(9,e)}var Zb=new $("ROUTER_FORROOT_GUARD"),YV=[Jo,{provide:ac,useClass:os},ut,cc,{provide:Un,useFactory:ND,deps:[ut]},Qm,[]],ds=(()=>{let e=class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[YV,[],{provide:oc,multi:!0,useValue:r},{provide:Zb,useFactory:eL,deps:[[ut,new kt,new sg]]},{provide:dc,useValue:i||{}},i?.useHash?ZV():XV(),JV(),i?.preloadingStrategy?WV(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?tL(i):[],i?.bindToComponentInputs?KV().\u0275providers:[],i?.enableViewTransitions?QV().\u0275providers:[],nL()]}}static forChild(r){return{ngModule:e,providers:[{provide:oc,multi:!0,useValue:r}]}}};e.\u0275fac=function(i){return new(i||e)(W(Zb,8))},e.\u0275mod=On({type:e}),e.\u0275inj=Nn({});let t=e;return t})();function JV(){return{provide:RD,useFactory:()=>{let t=k(wb),e=k(De),n=k(dc),r=k(Jm),i=k(ac);return n.scrollOffset&&t.setOffset(n.scrollOffset),new zV(i,r,t,e,n)}}}function ZV(){return{provide:gr,useClass:yb}}function XV(){return{provide:gr,useClass:Zg}}function eL(t){return"guarded"}function tL(t){return[t.initialNavigation==="disabled"?GV().\u0275providers:[],t.initialNavigation==="enabledBlocking"?qV().\u0275providers:[]]}var Xb=new $("");function nL(){return[{provide:Xb,useFactory:OD},{provide:Va,multi:!0,useExisting:Xb}]}var fs=(()=>{let e=class e{constructor(){this.cartSubject=new rt(this.loadCart()),this.cart$=this.cartSubject.asObservable()}loadCart(){let r=localStorage.getItem("cart");return r?JSON.parse(r):[]}saveCart(r){localStorage.setItem("cart",JSON.stringify(r)),this.cartSubject.next(r)}getCartItems(){return this.cart$}getCartItemCount(){return this.cart$.pipe(X(r=>r.reduce((i,o)=>i+o.quantity,0)))}addToCart(r,i){let o=this.loadCart(),s=o.findIndex(a=>a.product.id===r.id);s===-1?o.push({product:r,quantity:i}):o[s].quantity+=i,this.saveCart(o)}increaseQuantity(r){let i=this.loadCart(),o=i.findIndex(s=>s.product.id===r);o!==-1&&(i[o].quantity+=1,this.saveCart(i))}decreaseQuantity(r){let i=this.loadCart(),o=i.findIndex(s=>s.product.id===r);o!==-1&&i[o].quantity>1&&(i[o].quantity-=1,this.saveCart(i))}removeFromCart(r){let i=this.loadCart();i=i.filter(o=>o.product.id!==r),this.saveCart(i)}checkout(){return Z(this.saveCart([])).pipe(X(()=>{}))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Cd=(()=>{let e=class e{constructor(r,i){this.router=r,this.cartService=i,this.cartItemCount=0}ngOnInit(){this.cartService.getCartItemCount().subscribe(r=>this.cartItemCount=r)}goToCart(){this.router.navigate(["/cart"])}};e.\u0275fac=function(i){return new(i||e)(B(ut),B(fs))},e.\u0275cmp=qe({type:e,selectors:[["app-header"]],standalone:!0,features:[We],decls:19,vars:1,consts:[[1,"navbar","navbar-expand-lg","navbar-light","bg-light"],["routerLink","/","routerLinkActive","active",1,"navbar-brand"],["src","./icons/logo.png","alt","Logo",1,"logo"],["type","button","data-toggle","collapse","data-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse"],[1,"navbar-nav","ml-auto"],[1,"nav-item"],["routerLink","/","routerLinkActive","active",1,"nav-link"],[1,"nav-link",3,"click"],["src","./icons/shopping-cart.svg","alt","Cart",1,"cart-icon"],[1,"custom-badge"],["routerLink","/admin-login","routerLinkActive","active",1,"nav-link"]],template:function(i,o){i&1&&(D(0,"nav",0)(1,"a",1),he(2,"img",2),M(),D(3,"button",3),he(4,"span",4),M(),D(5,"div",5)(6,"ul",6)(7,"li",7)(8,"a",8),N(9,"\u0413\u043E\u043B\u043E\u0432\u043D\u0430"),M()(),D(10,"li",7)(11,"a",9),Y("click",function(){return o.goToCart()}),he(12,"img",10),N(13," \u041A\u043E\u0448\u0438\u043A "),D(14,"span",11),N(15),M()()(),D(16,"li",7)(17,"a",12),N(18,"\u0410\u0434\u043C\u0456\u043D"),M()()()()()),i&2&&(j(15),ke(o.cartItemCount))},dependencies:[ds,us,xD],styles:[`.navbar[_ngcontent-%COMP%]{margin-bottom:20px;padding:.5rem 1rem;background-color:#f8f9fa;box-shadow:0 2px 4px #0000001a}.logo[_ngcontent-%COMP%]{height:40px;margin-right:1rem}.navbar-toggler[_ngcontent-%COMP%]{border:none}.navbar-toggler-icon[_ngcontent-%COMP%]{background-image:url("data:image/svg+xml;charset=utf8,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'%3e%3cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M4 6h16M4 12h16M4 18h16' /%3e%3c/svg%3e")}.navbar-nav[_ngcontent-%COMP%]{flex-direction:row;margin-left:auto}.nav-item[_ngcontent-%COMP%]{margin-left:1rem}.nav-link[_ngcontent-%COMP%]{font-weight:700;color:#333;font-size:1rem;padding:.5rem 1rem;transition:color .3s ease}.nav-link[_ngcontent-%COMP%]:hover{color:#007bff;cursor:pointer}.nav-link[_ngcontent-%COMP%]:hover   .cart-icon[_ngcontent-%COMP%]{transform:scale(1.1)}.custom-badge[_ngcontent-%COMP%]{display:inline-block;padding:.25em .4em;font-size:75%;font-weight:700;line-height:1;color:#fff;text-align:center;white-space:nowrap;vertical-align:baseline;border-radius:.2rem;background-color:#dc3545}.cart-icon[_ngcontent-%COMP%]{height:20px;margin-right:.5rem;transition:transform .3s ease}@media (max-width: 992px){.navbar-nav[_ngcontent-%COMP%]{flex-direction:column;text-align:center;padding-top:1rem;margin-top:1rem}.nav-item[_ngcontent-%COMP%]{margin-left:0;margin-bottom:.5rem}.navbar-brand[_ngcontent-%COMP%]{margin-right:auto}}.navbar-collapse[_ngcontent-%COMP%]{max-height:0;transition:max-height .3s ease}.navbar-collapse.collapse.show[_ngcontent-%COMP%]{max-height:500px;transition:max-height .3s ease-in}.navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:1rem;border-bottom:1px solid #ddd}.navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:last-child{border-bottom:none}`]});let t=e;return t})();var VD=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=qe({type:e,selectors:[["app-footer"]],standalone:!0,features:[We],decls:37,vars:0,consts:[[1,"container","footer-container"],[1,"row","footer-row"],[1,"col-xs-12","col-sm-6","col-md-6","text-center"],[1,"fas","fa-location-arrow"],["href","tel: 04737875657","type","tel",1,"tel"],[1,"fas","fa-mobile-alt"],[1,"col-xs-12","col-md-6","col-sm-6","social-section"],[1,"text-center"],[1,"text-center","social-buttons"],["href","https://www.facebook.com/?locale=uk_UA",1,"btn","btn-default","btn-lg","social-button","link-facebook"],[1,"fab","fa-facebook"],["href","https://x.com/?lang=uk",1,"btn","btn-default","btn-lg","social-button","link-twitter"],[1,"fab","fa-twitter"],["href","https://www.linkedin.com/",1,"btn","btn-default","btn-lg","social-button","link-linkedin"],[1,"fab","fa-linkedin"],["href","https://instagram.com/",1,"btn","btn-default","btn-lg","social-button","link-instagram"],[1,"fab","fa-instagram"],[1,"footer-hr"],[1,"author"],[1,"fas","fa-heart"]],template:function(i,o){i&1&&(D(0,"footer")(1,"div",0)(2,"div",1)(3,"div",2)(4,"address")(5,"strong"),he(6,"i",3),N(7," TERRA"),M(),he(8,"br"),N(9," \u0406\u043D\u0442\u0435\u0440\u043D\u0435\u0442-\u043C\u0430\u0433\u0430\u0437\u0438\u043D \u0442\u0443\u0440\u0438\u0441\u0442\u0438\u0447\u043D\u043E\u0433\u043E \u0441\u043F\u043E\u0440\u044F\u0434\u0436\u0435\u043D\u043D\u044F,"),he(10,"br"),N(11," \u043C. \u0427\u0435\u0440\u043A\u0430\u0441\u0438, \u0432\u0443\u043B. \u0411\u0430\u0439\u0434\u0438 \u0412\u0438\u0448\u043D\u0435\u0432\u0435\u0446\u044C\u043A\u043E\u0433\u043E, 39"),he(12,"br")(13,"br"),D(14,"a",4),he(15,"i",5),D(16,"span"),N(17," 04737875657"),M()()()(),D(18,"div",6)(19,"div",7)(20,"h4",7),N(21,"\u0412\u0438 \u043D\u0430\u0441 \u0437\u043D\u0430\u0439\u0434\u0438\u0442\u0435 \u0443 \u0441\u043E\u0446\u043C\u0435\u0440\u0435\u0436\u0430\u0445"),M(),D(22,"div",8)(23,"a",9),he(24,"i",10),M(),D(25,"a",11),he(26,"i",12),M(),D(27,"a",13),he(28,"i",14),M(),D(29,"a",15),he(30,"i",16),M()(),he(31,"hr",17),D(32,"h4",18),N(33,"\u0417\u0440\u043E\u0431\u043B\u0435\u043D\u043E \u0437\u0430 \u0434\u043E\u043F\u043E\u043C\u043E\u0433\u043E\u044E "),he(34,"i",19),D(35,"strong"),N(36,"Angular"),M()()()()()()())},styles:["footer[_ngcontent-%COMP%]{background-color:#2c3e50;color:#fff;font-size:1.5em;text-align:center;padding:2%;margin-top:40px}a.tel[_ngcontent-%COMP%], a.tel[_ngcontent-%COMP%]:hover{text-decoration:none;color:#fff}a.social-button[_ngcontent-%COMP%]{background:#fff;font-size:20px;border-radius:50%;margin:5px}.address-container[_ngcontent-%COMP%]{display:inline-block;margin:0 auto}a.link-facebook[_ngcontent-%COMP%], a.link-twitter[_ngcontent-%COMP%], a.link-codepen[_ngcontent-%COMP%], a.link-linkedin[_ngcontent-%COMP%], a.link-instagram[_ngcontent-%COMP%]{transition:.4s ease}a.link-twitter[_ngcontent-%COMP%]{color:#1da1f2}a.link-facebook[_ngcontent-%COMP%]{color:#3b5998}a.link-linkedin[_ngcontent-%COMP%]{color:#007bb6}a.link-instagram[_ngcontent-%COMP%]{color:#e95950}a.link-facebook[_ngcontent-%COMP%]:hover{background-color:#3b5998;color:#fff}a.link-twitter[_ngcontent-%COMP%]:hover{background-color:#1da1f2;color:#fff}a.link-codepen[_ngcontent-%COMP%]:hover{background-color:#000;color:#fff}a.link-linkedin[_ngcontent-%COMP%]:hover{background-color:#007bb6;color:#fff}a.link-instagram[_ngcontent-%COMP%]:hover{background-color:#e95950;color:#fff}.btn-default[_ngcontent-%COMP%]{color:#333;background-color:#fff;border-color:transparent!important}.fa-heart[_ngcontent-%COMP%]{color:#f32323}h4.author[_ngcontent-%COMP%]{letter-spacing:4px}hr.copyright[_ngcontent-%COMP%]{opacity:.4}"]});let t=e;return t})();var UD=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},rL=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},bd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,m=(a&15)<<2|l>>6,y=l&63;u||(y=64,s||(m=64)),r.push(n[h],n[p],n[m],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(UD(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):rL(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new ty;let m=o<<2|a>>4;if(r.push(m),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let T=l<<6&192|p;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},ty=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},iL=function(t){let e=UD(t);return bd.encodeByteArray(e,!0)},fc=function(t){return iL(t).replace(/\./g,"")},ry=function(t){try{return bd.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function iy(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var oL=()=>iy().__FIREBASE_DEFAULTS__,sL=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},aL=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&ry(t[1]);return e&&JSON.parse(e)},Dd=()=>{try{return oL()||sL()||aL()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},jD=t=>{var e,n;return(n=(e=Dd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},BD=t=>{let e=jD(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},oy=()=>{var t;return(t=Dd())===null||t===void 0?void 0:t.config},$D=t=>{var e;return(e=Dd())===null||e===void 0?void 0:e[`_${t}`]};var vr=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function HD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[fc(JSON.stringify(n)),fc(JSON.stringify(s)),""].join(".")}function Jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jt())}function cL(){var t;let e=(t=Dd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function qD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function GD(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function WD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function KD(){return!cL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ps(){try{return typeof indexedDB=="object"}catch{return!1}}function QD(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var uL="FirebaseError",sn=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=uL,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wn.prototype.create)}},wn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?lL(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new sn(i,a,r)}};function lL(t,e){return t.replace(dL,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var dL=/\{\$([^}]+)}/g;function gs(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(LD(o)&&LD(s)){if(!gs(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function LD(t){return t!==null&&typeof t=="object"}function sy(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function YD(t,e){let n=new ny(t,e);return n.subscribe.bind(n)}var ny=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");hL(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=ey),i.error===void 0&&(i.error=ey),i.complete===void 0&&(i.complete=ey);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function hL(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ey(){}var JD=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{let e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})};var fL=1e3,pL=2,gL=4*60*60*1e3,mL=.5;function ZD(t,e=fL,n=pL){let r=e*Math.pow(n,t),i=Math.round(mL*r*(Math.random()-.5)*2);return Math.min(gL,r+i)}function yt(t){return t&&t._delegate?t._delegate:t}var Vt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var zi="[DEFAULT]";var ay=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new vr;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(vL(e))try{this.getOrInitializeService({instanceIdentifier:zi})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=zi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return S(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=zi){return this.instances.has(e)}getOptions(e=zi){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:yL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=zi){return this.component?this.component.multipleInstances?e:zi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function yL(t){return t===zi?void 0:t}function vL(t){return t.instantiationMode==="EAGER"}var Td=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new ay(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var _L=[],ve=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ve||{}),wL={debug:ve.DEBUG,verbose:ve.VERBOSE,info:ve.INFO,warn:ve.WARN,error:ve.ERROR,silent:ve.SILENT},EL=ve.INFO,IL={[ve.DEBUG]:"log",[ve.VERBOSE]:"log",[ve.INFO]:"info",[ve.WARN]:"warn",[ve.ERROR]:"error"},CL=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=IL[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},jn=class{constructor(e){this.name=e,this._logLevel=EL,this._logHandler=CL,this._userLogHandler=null,_L.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?wL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ve.DEBUG,...e),this._logHandler(this,ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ve.VERBOSE,...e),this._logHandler(this,ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ve.INFO,...e),this._logHandler(this,ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ve.WARN,...e),this._logHandler(this,ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ve.ERROR,...e),this._logHandler(this,ve.ERROR,...e)}};var bL=(t,e)=>e.some(n=>t instanceof n),XD,eT;function DL(){return XD||(XD=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function TL(){return eT||(eT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var tT=new WeakMap,uy=new WeakMap,nT=new WeakMap,cy=new WeakMap,dy=new WeakMap;function SL(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Bn(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&tT.set(n,t)}).catch(()=>{}),dy.set(e,t),e}function AL(t){if(uy.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});uy.set(t,e)}var ly={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return uy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||nT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Bn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function rT(t){ly=t(ly)}function ML(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Sd(this),e,...n);return nT.set(r,e.sort?e.sort():[e]),Bn(r)}:TL().includes(t)?function(...e){return t.apply(Sd(this),e),Bn(tT.get(this))}:function(...e){return Bn(t.apply(Sd(this),e))}}function xL(t){return typeof t=="function"?ML(t):(t instanceof IDBTransaction&&AL(t),bL(t,DL())?new Proxy(t,ly):t)}function Bn(t){if(t instanceof IDBRequest)return SL(t);if(cy.has(t))return cy.get(t);let e=xL(t);return e!==t&&(cy.set(t,e),dy.set(e,t)),e}var Sd=t=>dy.get(t);function oT(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=Bn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Bn(s.result),u.oldVersion,u.newVersion,Bn(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var RL=["get","getKey","getAll","getAllKeys","count"],PL=["put","add","delete","clear"],hy=new Map;function iT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(hy.get(e))return hy.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=PL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||RL.includes(n)))return;let o=function(s,...a){return S(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&u.done]))[0]})};return hy.set(e,o),o}rT(t=>we(U({},t),{get:(e,n,r)=>iT(e,n)||t.get(e,n,r),has:(e,n)=>!!iT(e,n)||t.has(e,n)}));var py=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(NL(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function NL(t){let e=t.getComponent();return e?.type==="VERSION"}var gy="@firebase/app",sT="0.10.13";var _r=new jn("@firebase/app"),OL="@firebase/app-compat",kL="@firebase/analytics-compat",FL="@firebase/analytics",VL="@firebase/app-check-compat",LL="@firebase/app-check",UL="@firebase/auth",jL="@firebase/auth-compat",BL="@firebase/database",$L="@firebase/data-connect",HL="@firebase/database-compat",zL="@firebase/functions",qL="@firebase/functions-compat",GL="@firebase/installations",WL="@firebase/installations-compat",KL="@firebase/messaging",QL="@firebase/messaging-compat",YL="@firebase/performance",JL="@firebase/performance-compat",ZL="@firebase/remote-config",XL="@firebase/remote-config-compat",e4="@firebase/storage",t4="@firebase/storage-compat",n4="@firebase/firestore",r4="@firebase/vertexai-preview",i4="@firebase/firestore-compat",o4="firebase",s4="10.14.1";var my="[DEFAULT]",a4={[gy]:"fire-core",[OL]:"fire-core-compat",[FL]:"fire-analytics",[kL]:"fire-analytics-compat",[LL]:"fire-app-check",[VL]:"fire-app-check-compat",[UL]:"fire-auth",[jL]:"fire-auth-compat",[BL]:"fire-rtdb",[$L]:"fire-data-connect",[HL]:"fire-rtdb-compat",[zL]:"fire-fn",[qL]:"fire-fn-compat",[GL]:"fire-iid",[WL]:"fire-iid-compat",[KL]:"fire-fcm",[QL]:"fire-fcm-compat",[YL]:"fire-perf",[JL]:"fire-perf-compat",[ZL]:"fire-rc",[XL]:"fire-rc-compat",[e4]:"fire-gcs",[t4]:"fire-gcs-compat",[n4]:"fire-fst",[i4]:"fire-fst-compat",[r4]:"fire-vertex","fire-js":"fire-js",[o4]:"fire-js-all"};var pc=new Map,c4=new Map,yy=new Map;function aT(t,e){try{t.container.addComponent(e)}catch(n){_r.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function En(t){let e=t.name;if(yy.has(e))return _r.debug(`There were multiple attempts to register component ${e}.`),!1;yy.set(e,t);for(let n of pc.values())aT(n,t);for(let n of c4.values())aT(n,t);return!0}function ms(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ys(t){return t.settings!==void 0}var u4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},si=new wn("app","Firebase",u4);var vy=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Vt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw si.create("app-deleted",{appName:this._name})}};var vs=s4;function Ey(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:my,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw si.create("bad-app-name",{appName:String(i)});if(n||(n=oy()),!n)throw si.create("no-options");let o=pc.get(i);if(o){if(gs(n,o.options)&&gs(r,o.config))return o;throw si.create("duplicate-app",{appName:i})}let s=new Td(i);for(let u of yy.values())s.addComponent(u);let a=new vy(n,r,s);return pc.set(i,a),a}function qi(t=my){let e=pc.get(t);if(!e&&t===my&&oy())return Ey();if(!e)throw si.create("no-app",{appName:t});return e}function Ad(){return Array.from(pc.values())}function Ke(t,e,n){var r;let i=(r=a4[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_r.warn(a.join(" "));return}En(new Vt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var l4="firebase-heartbeat-database",d4=1,gc="firebase-heartbeat-store",fy=null;function dT(){return fy||(fy=oT(l4,d4,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(gc)}catch(n){console.warn(n)}}}}).catch(t=>{throw si.create("idb-open",{originalErrorMessage:t.message})})),fy}function h4(t){return S(this,null,function*(){try{let n=(yield dT()).transaction(gc),r=yield n.objectStore(gc).get(hT(t));return yield n.done,r}catch(e){if(e instanceof sn)_r.warn(e.message);else{let n=si.create("idb-get",{originalErrorMessage:e?.message});_r.warn(n.message)}}})}function cT(t,e){return S(this,null,function*(){try{let r=(yield dT()).transaction(gc,"readwrite");yield r.objectStore(gc).put(e,hT(t)),yield r.done}catch(n){if(n instanceof sn)_r.warn(n.message);else{let r=si.create("idb-set",{originalErrorMessage:n?.message});_r.warn(r.message)}}})}function hT(t){return`${t.name}!${t.options.appId}`}var f4=1024,p4=30*24*60*60*1e3,_y=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new wy(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return S(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=uT();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=p4}),this._storage.overwrite(this._heartbeatsCache))}catch(r){_r.warn(r)}})}getHeartbeatsHeader(){return S(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=uT(),{heartbeatsToSend:r,unsentEntries:i}=g4(this._heartbeatsCache.heartbeats),o=fc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return _r.warn(n),""}})}};function uT(){return new Date().toISOString().substring(0,10)}function g4(t,e=f4){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),lT(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),lT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var wy=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return S(this,null,function*(){return ps()?QD().then(()=>!0).catch(()=>!1):!1})}read(){return S(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield h4(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return S(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return cT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return S(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return cT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function lT(t){return fc(JSON.stringify({version:2,heartbeats:t})).length}function m4(t){En(new Vt("platform-logger",e=>new py(e),"PRIVATE")),En(new Vt("heartbeat",e=>new _y(e),"PRIVATE")),Ke(gy,sT,t),Ke(gy,sT,"esm2017"),Ke("fire-js","")}m4("");var y4="firebase",v4="10.14.1";Ke(y4,v4,"app");var ai=new sr("ANGULARFIRE2_VERSION");function mc(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var ws=(t,e)=>{let n=e?[e]:Ad(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Wi=class{constructor(){return ws(Cy)}},Cy="app-check";function _s(){}var Md=class{zone;delegate;constructor(e,n=Hf){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,r)}},Iy=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",_s,{},_s,_s)),n.pipe(Xe({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Ki=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Md(Zone.current)),this.insideAngular=n.run(()=>new Md(Zone.current,Du)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(W(De))};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function xd(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function _4(t){return xd().ngZone.runOutsideAngular(()=>t())}function Gi(t){return xd().ngZone.run(()=>t())}function w4(t){return E4(xd())(t)}function E4(t){return function(n){return n=n.lift(new Iy(t.ngZone)),n.pipe(kr(t.outsideAngular),Or(t.insideAngular))}}var I4=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Gi(()=>t.apply(void 0,r))},Lt=(t,e)=>function(){let n,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(n||=Gi(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",_s,{},_s,_s))),r[o]=I4(r[o],n));let i=_4(()=>t.apply(this,r));if(!e)if(i instanceof le){let o=xd();return i.pipe(kr(o.outsideAngular),Or(o.insideAngular))}else return Gi(()=>i);return i instanceof le?i.pipe(w4):i instanceof Promise?Gi(()=>new Promise((o,s)=>i.then(a=>Gi(()=>o(a)),a=>Gi(()=>s(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Gi(()=>i)};var wr=class{constructor(e){return e}},Qi=class{constructor(){return Ad()}};function C4(t){return t&&t.length===1?t[0]:new wr(qi())}var by=new $("angularfire2._apps"),b4={provide:wr,useFactory:C4,deps:[[new kt,by]]},D4={provide:Qi,deps:[[new kt,by]]};function T4(t){return(e,n)=>{let r=n.get(pt);Ke("angularfire",ai.full,"core"),Ke("angularfire",ai.full,"app"),Ke("angular",eb.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new wr(i)}}function fT(t,...e){return gn([b4,D4,{provide:by,useFactory:T4(t),multi:!0,deps:[De,ft,Ki,...e]}])}var pT=Lt(Ey,!0);var Ty=new Map,ET={activated:!1,tokenObservers:[]},S4={initialized:!1,enabled:!1};function ot(t){return Ty.get(t)||Object.assign({},ET)}function A4(t,e){return Ty.set(t,e),Ty.get(t)}function kd(){return S4}var IT="https://content-firebaseappcheck.googleapis.com/v1",M4="exchangeRecaptchaV3Token";var x4="exchangeDebugToken",gT={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},R4=24*60*60*1e3;var Sy=class{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return S(this,null,function*(){this.stop();try{this.pending=new vr,this.pending.promise.catch(n=>{}),yield P4(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new vr,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function P4(t){return new Promise(e=>{setTimeout(e,t)})}var N4={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},$t=new wn("appCheck","AppCheck",N4);function mT(t=!1){var e;return t?(e=self.grecaptcha)===null||e===void 0?void 0:e.enterprise:self.grecaptcha}function My(t){if(!ot(t).activated)throw $t.create("use-before-activation",{appName:t.name})}function CT(t){let e=Math.round(t/1e3),n=Math.floor(e/(3600*24)),r=Math.floor((e-n*3600*24)/3600),i=Math.floor((e-n*3600*24-r*3600)/60),o=e-n*3600*24-r*3600-i*60,s="";return n&&(s+=Rd(n)+"d:"),r&&(s+=Rd(r)+"h:"),s+=Rd(i)+"m:"+Rd(o)+"s",s}function Rd(t){return t===0?"00":t>=10?t.toString():"0"+t}function xy(r,i){return S(this,arguments,function*({url:t,body:e},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let y=yield s.getHeartbeatsHeader();y&&(o["X-Firebase-Client"]=y)}let a={method:"POST",body:JSON.stringify(e),headers:o},u;try{u=yield fetch(t,a)}catch(y){throw $t.create("fetch-network-error",{originalErrorMessage:y?.message})}if(u.status!==200)throw $t.create("fetch-status-error",{httpStatus:u.status});let l;try{l=yield u.json()}catch(y){throw $t.create("fetch-parse-error",{originalErrorMessage:y?.message})}let h=l.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw $t.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let p=Number(h[1])*1e3,m=Date.now();return{token:l.token,expireTimeMillis:m+p,issuedAtTimeMillis:m}})}function O4(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${IT}/projects/${n}/apps/${r}:${M4}?key=${i}`,body:{recaptcha_v3_token:e}}}function bT(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${IT}/projects/${n}/apps/${r}:${x4}?key=${i}`,body:{debug_token:e}}}var k4="firebase-app-check-database",F4=1,yc="firebase-app-check-store",DT="debug-token",Pd=null;function TT(){return Pd||(Pd=new Promise((t,e)=>{try{let n=indexedDB.open(k4,F4);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e($t.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(yc,{keyPath:"compositeKey"})}}}catch(n){e($t.create("storage-open",{originalErrorMessage:n?.message}))}}),Pd)}function V4(t){return AT(MT(t))}function L4(t,e){return ST(MT(t),e)}function U4(t){return ST(DT,t)}function j4(){return AT(DT)}function ST(t,e){return S(this,null,function*(){let r=(yield TT()).transaction(yc,"readwrite"),o=r.objectStore(yc).put({compositeKey:t,value:e});return new Promise((s,a)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;a($t.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})})}function AT(t){return S(this,null,function*(){let n=(yield TT()).transaction(yc,"readonly"),i=n.objectStore(yc).get(t);return new Promise((o,s)=>{i.onsuccess=a=>{let u=a.target.result;o(u?u.value:void 0)},n.onerror=a=>{var u;s($t.create("storage-get",{originalErrorMessage:(u=a.target.error)===null||u===void 0?void 0:u.message}))}})})}function MT(t){return`${t.options.appId}-${t.name}`}var vc=new jn("@firebase/app-check");function B4(t){return S(this,null,function*(){if(ps()){let e;try{e=yield V4(t)}catch(n){vc.warn(`Failed to read token from IndexedDB. Error: ${n}`)}return e}})}function Dy(t,e){return ps()?L4(t,e).catch(n=>{vc.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function $4(){return S(this,null,function*(){let t;try{t=yield j4()}catch{}if(t)return t;{let e=JD();return U4(e).catch(n=>vc.warn(`Failed to persist debug token to IndexedDB. Error: ${n}`)),e}})}function Ry(){return kd().enabled}function Py(){return S(this,null,function*(){let t=kd();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}function H4(){let t=iy(),e=kd();if(e.initialized=!0,typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN!="string"&&t.FIREBASE_APPCHECK_DEBUG_TOKEN!==!0)return;e.enabled=!0;let n=new vr;e.token=n,typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN=="string"?n.resolve(t.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve($4())}var z4={error:"UNKNOWN_ERROR"};function q4(t){return bd.encodeString(JSON.stringify(t),!1)}function Nd(t,e=!1){return S(this,null,function*(){let n=t.app;My(n);let r=ot(n),i=r.token,o;if(i&&!Es(i)&&(r.token=void 0,i=void 0),!i){let u=yield r.cachedTokenPromise;u&&(Es(u)?i=u:yield Dy(n,void 0))}if(!e&&i&&Es(i))return{token:i.token};let s=!1;if(Ry()){r.exchangeTokenPromise||(r.exchangeTokenPromise=xy(bT(n,yield Py()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),s=!0);let u=yield r.exchangeTokenPromise;return yield Dy(n,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),s=!0),i=yield ot(n).exchangeTokenPromise}catch(u){u.code==="appCheck/throttled"?vc.warn(u.message):vc.error(u),o=u}let a;return i?o?Es(i)?a={token:i.token,internalError:o}:a=vT(o):(a={token:i.token},r.token=i,yield Dy(n,i)):a=vT(o),s&&PT(n,a),a})}function G4(t){return S(this,null,function*(){let e=t.app;My(e);let{provider:n}=ot(e);if(Ry()){let r=yield Py(),{token:i}=yield xy(bT(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield n.getToken();return{token:r}}})}function xT(t,e,n,r){let{app:i}=t,o=ot(i),s={next:n,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Es(o.token)){let a=o.token;Promise.resolve().then(()=>{n({token:a.token}),yT(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>yT(t))}function RT(t,e){let n=ot(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function yT(t){let{app:e}=t,n=ot(e),r=n.tokenRefresher;r||(r=W4(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function W4(t){let{app:e}=t;return new Sy(()=>S(this,null,function*(){let n=ot(e),r;if(n.token?r=yield Nd(t,!0):r=yield Nd(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=ot(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},gT.RETRIAL_MIN_WAIT,gT.RETRIAL_MAX_WAIT)}function PT(t,e){let n=ot(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Es(t){return t.expireTimeMillis-Date.now()>0}function vT(t){return{token:q4(z4),error:t}}var Ay=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=ot(this.app);for(let n of e)RT(this.app,n.next);return Promise.resolve()}};function K4(t,e){return new Ay(t,e)}function Q4(t){return{getToken:e=>Nd(t,e),getLimitedUseToken:()=>G4(t),addTokenListener:e=>xT(t,"INTERNAL",e),removeTokenListener:e=>RT(t.app,e)}}var Y4="@firebase/app-check",J4="0.8.8";var Z4="https://www.google.com/recaptcha/api.js";function X4(t,e){let n=new vr,r=ot(t);r.reCAPTCHAState={initialized:n};let i=e2(t),o=mT(!1);return o?_T(t,e,o,i,n):r2(()=>{let s=mT(!1);if(!s)throw new Error("no recaptcha");_T(t,e,s,i,n)}),n.promise}function _T(t,e,n,r,i){n.ready(()=>{n2(t,e,n,r),i.resolve(n)})}function e2(t){let e=`fire_app_check_${t.name}`,n=document.createElement("div");return n.id=e,n.style.display="none",document.body.appendChild(n),e}function t2(t){return S(this,null,function*(){My(t);let n=yield ot(t).reCAPTCHAState.initialized.promise;return new Promise((r,i)=>{let o=ot(t).reCAPTCHAState;n.ready(()=>{r(n.execute(o.widgetId,{action:"fire_app_check"}))})})})}function n2(t,e,n,r){let i=n.render(r,{sitekey:e,size:"invisible",callback:()=>{ot(t).reCAPTCHAState.succeeded=!0},"error-callback":()=>{ot(t).reCAPTCHAState.succeeded=!1}}),o=ot(t);o.reCAPTCHAState=Object.assign(Object.assign({},o.reCAPTCHAState),{widgetId:i})}function r2(t){let e=document.createElement("script");e.src=Z4,e.onload=t,document.head.appendChild(e)}var Od=class t{constructor(e){this._siteKey=e,this._throttleData=null}getToken(){return S(this,null,function*(){var e,n,r;o2(this._throttleData);let i=yield t2(this._app).catch(s=>{throw $t.create("recaptcha-error")});if(!(!((e=ot(this._app).reCAPTCHAState)===null||e===void 0)&&e.succeeded))throw $t.create("recaptcha-error");let o;try{o=yield xy(O4(this._app,i),this._heartbeatServiceProvider)}catch(s){throw!((n=s.code)===null||n===void 0)&&n.includes("fetch-status-error")?(this._throttleData=i2(Number((r=s.customData)===null||r===void 0?void 0:r.httpStatus),this._throttleData),$t.create("throttled",{time:CT(this._throttleData.allowRequestsAfter-Date.now()),httpStatus:this._throttleData.httpStatus})):s}return this._throttleData=null,o})}initialize(e){this._app=e,this._heartbeatServiceProvider=ms(e,"heartbeat"),X4(e,this._siteKey).catch(()=>{})}isEqual(e){return e instanceof t?this._siteKey===e._siteKey:!1}};function i2(t,e){if(t===404||t===403)return{backoffCount:1,allowRequestsAfter:Date.now()+R4,httpStatus:t};{let n=e?e.backoffCount:0,r=ZD(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+r,httpStatus:t}}}function o2(t){if(t&&Date.now()-t.allowRequestsAfter<=0)throw $t.create("throttled",{time:CT(t.allowRequestsAfter-Date.now()),httpStatus:t.httpStatus})}function NT(t=qi(),e){t=yt(t);let n=ms(t,"app-check");if(kd().initialized||H4(),Ry()&&Py().then(i=>console.log(`App Check debug token: ${i}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(o.isTokenAutoRefreshEnabled===e.isTokenAutoRefreshEnabled&&o.provider.isEqual(e.provider))return i;throw $t.create("already-initialized",{appName:t.name})}let r=n.initialize({options:e});return s2(t,e.provider,e.isTokenAutoRefreshEnabled),ot(t).isTokenAutoRefreshEnabled&&xT(r,"INTERNAL",()=>{}),r}function s2(t,e,n){let r=A4(t,Object.assign({},ET));r.activated=!0,r.provider=e,r.cachedTokenPromise=B4(t).then(i=>(i&&Es(i)&&(r.token=i,PT(t,{token:i.token})),i)),r.isTokenAutoRefreshEnabled=n===void 0?t.automaticDataCollectionEnabled:n,r.provider.initialize(t)}function OT(t,e){return S(this,null,function*(){let n=yield Nd(t,e);if(n.error)throw n.error;return{token:n.token}})}var a2="app-check",wT="app-check-internal";function c2(){En(new Vt(a2,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return K4(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(wT).initialize()})),En(new Vt(wT,t=>{let e=t.getProvider("app-check").getImmediate();return Q4(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Ke(Y4,J4)}c2();var Yi=class{constructor(e){return e}};var Ny=new $("angularfire2.app-check-instances");function u2(t,e){let n=mc(Cy,t,e);return n&&new Yi(n)}var l2=["localhost","0.0.0.0","127.0.0.1"],d2=typeof window<"u"&&l2.includes(window.location.hostname);function h2(t){return(e,n,r)=>{!Zo(r)&&(ob()||d2)&&(globalThis.FIREBASE_APPCHECK_DEBUG_TOKEN??=!0);let i=e.runOutsideAngular(()=>t(n));return new Yi(i)}}var f2={provide:Wi,deps:[[new kt,Ny]]},p2={provide:Yi,useFactory:u2,deps:[[new kt,Ny],wr,pt]};function kT(t,...e){return Ke("angularfire",ai.full,"app-check"),gn([p2,f2,{provide:Ny,useFactory:h2(t),multi:!0,deps:[De,ft,pt,Ki,Qi,...e]}])}var FT=Lt(OT,!0),VT=Lt(NT,!0);var LT=(()=>{let e=class e{constructor(r){this.appCheck=r}ngOnInit(){this.logAppCheckToken()}logAppCheckToken(){FT(this.appCheck).then(r=>{}).catch(r=>{console.error("Error getting App Check Token:",r)})}};e.\u0275fac=function(i){return new(i||e)(B(Yi))},e.\u0275cmp=qe({type:e,selectors:[["app-root"]],standalone:!0,features:[We],decls:3,vars:0,template:function(i,o){i&1&&he(0,"app-header")(1,"router-outlet")(2,"app-footer")},dependencies:[ds,Gm,mt,Cd,VD,Ob]});let t=e;return t})();var KT=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(B(yn),B(Ft))},e.\u0275dir=Ve({type:e});let t=e;return t})(),Hd=(()=>{let e=class e extends KT{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=lr(e)))(o||e)}})(),e.\u0275dir=Ve({type:e,features:[rn]});let t=e;return t})(),Dc=new $("");var m2={provide:Dc,useExisting:Pn(()=>an),multi:!0};function y2(){let t=pr()?pr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var v2=new $(""),an=(()=>{let e=class e extends KT{constructor(r,i,o){super(r,i),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!y2())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(B(yn),B(Ft),B(v2,8))},e.\u0275dir=Ve({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&Y("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[Qr([m2]),rn]});let t=e;return t})();function _2(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}var ky=new $(""),QT=new $("");function w2(t){return _2(t.value)?{required:!0}:null}function UT(t){return null}function YT(t){return t!=null}function JT(t){return Ui(t)?Ne(t):t}function ZT(t){let e={};return t.forEach(n=>{e=n!=null?U(U({},e),n):e}),Object.keys(e).length===0?null:e}function XT(t,e){return e.map(n=>n(t))}function E2(t){return!t.validate}function eS(t){return t.map(e=>E2(e)?e:n=>e.validate(n))}function I2(t){if(!t)return null;let e=t.filter(YT);return e.length==0?null:function(n){return ZT(XT(n,e))}}function Fy(t){return t!=null?I2(eS(t)):null}function C2(t){if(!t)return null;let e=t.filter(YT);return e.length==0?null:function(n){let r=XT(n,e).map(JT);return Gf(r).pipe(X(ZT))}}function Vy(t){return t!=null?C2(eS(t)):null}function jT(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function b2(t){return t._rawValidators}function D2(t){return t._rawAsyncValidators}function Oy(t){return t?Array.isArray(t)?t:[t]:[]}function Vd(t,e){return Array.isArray(t)?t.includes(e):t===e}function BT(t,e){let n=Oy(e);return Oy(t).forEach(i=>{Vd(n,i)||n.push(i)}),n}function $T(t,e){return Oy(e).filter(n=>!Vd(t,n))}var Ld=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Fy(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Vy(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},bs=class extends Ld{get formDirective(){return null}get path(){return null}},bc=class extends Ld{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Ud=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},T2={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},VW=we(U({},T2),{"[class.ng-submitted]":"isSubmitted"}),$n=(()=>{let e=class e extends Ud{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(B(bc,2))},e.\u0275dir=Ve({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&Hl("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[rn]});let t=e;return t})(),Ts=(()=>{let e=class e extends Ud{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(B(bs,10))},e.\u0275dir=Ve({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,o){i&2&&Hl("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[rn]});let t=e;return t})();var _c="VALID",Fd="INVALID",Is="PENDING",wc="DISABLED",Ds=class{},jd=class extends Ds{constructor(e,n){super(),this.value=e,this.source=n}},Ic=class extends Ds{constructor(e,n){super(),this.pristine=e,this.source=n}},Cc=class extends Ds{constructor(e,n){super(),this.touched=e,this.source=n}},Cs=class extends Ds{constructor(e,n){super(),this.status=e,this.source=n}};function tS(t){return(zd(t)?t.validators:t)||null}function S2(t){return Array.isArray(t)?Fy(t):t||null}function nS(t,e){return(zd(e)?e.asyncValidators:t)||null}function A2(t){return Array.isArray(t)?Vy(t):t||null}function zd(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function M2(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new G(1e3,"");if(!r[n])throw new G(1001,"")}function x2(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new G(1002,"")})}var Bd=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._events=new at,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===_c}get invalid(){return this.status===Fd}get pending(){return this.status==Is}get disabled(){return this.status===wc}get enabled(){return this.status!==wc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(BT(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(BT(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators($T(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators($T(e,this._rawAsyncValidators))}hasValidator(e){return Vd(this._rawValidators,e)}hasAsyncValidator(e){return Vd(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(we(U({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Cc(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new Cc(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(we(U({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Ic(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new Ic(!0,r))}markAsPending(e={}){this.status=Is;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Cs(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(we(U({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=wc,this.errors=null,this._forEachChild(i=>{i.disable(we(U({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new jd(this.value,r)),this._events.next(new Cs(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(we(U({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=_c,this._forEachChild(r=>{r.enable(we(U({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(we(U({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===_c||this.status===Is)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new jd(this.value,n)),this._events.next(new Cs(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(we(U({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?wc:_c}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Is,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=JT(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Cs(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new ze,this.statusChanges=new ze}_calculateStatus(){return this._allControlsDisabled()?wc:this.errors?Fd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Is)?Is:this._anyControlsHaveStatus(Fd)?Fd:_c}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new Ic(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new Cc(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){zd(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=S2(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=A2(this._rawAsyncValidators)}},$d=class extends Bd{constructor(e,n,r){super(tS(n),nS(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){x2(this,!0,e),Object.keys(e).forEach(r=>{M2(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Ly=new $("CallSetDisabledState",{providedIn:"root",factory:()=>Uy}),Uy="always";function R2(t,e){return[...e.path,t]}function rS(t,e,n=Uy){iS(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),N2(t,e),k2(t,e),O2(t,e),P2(t,e)}function HT(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function P2(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function iS(t,e){let n=b2(t);e.validator!==null?t.setValidators(jT(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=D2(t);e.asyncValidator!==null?t.setAsyncValidators(jT(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();HT(e._rawValidators,i),HT(e._rawAsyncValidators,i)}function N2(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&oS(t,e)})}function O2(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&oS(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function oS(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function k2(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function F2(t,e){t==null,iS(t,e)}function V2(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function L2(t){return Object.getPrototypeOf(t.constructor)===Hd}function U2(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function j2(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===an?n=o:L2(o)?r=o:i=o}),i||r||n||null}var B2={provide:bs,useExisting:Pn(()=>Ji)},Ec=Promise.resolve(),Ji=(()=>{let e=class e extends bs{constructor(r,i,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._directives=new Set,this.ngSubmit=new ze,this.form=new $d({},Fy(r),Vy(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){Ec.then(()=>{let i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),rS(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){Ec.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){Ec.then(()=>{let i=this._findContainer(r.path),o=new $d({});F2(o,r),i.registerControl(r.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){Ec.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){Ec.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submitted=!0,U2(this.form,this._directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}};e.\u0275fac=function(i){return new(i||e)(B(ky,10),B(QT,10),B(Ly,8))},e.\u0275dir=Ve({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,o){i&1&&Y("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Qr([B2]),rn]});let t=e;return t})();function zT(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function qT(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var $2=class extends Bd{constructor(e=null,n,r){super(tS(n),nS(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),zd(n)&&(n.nonNullable||n.initialValueIsDefault)&&(qT(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){zT(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){zT(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){qT(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var H2={provide:bc,useExisting:Pn(()=>In)},GT=Promise.resolve(),In=(()=>{let e=class e extends bc{constructor(r,i,o,s,a,u){super(),this._changeDetectorRef=a,this.callSetDisabledState=u,this.control=new $2,this._registered=!1,this.name="",this.update=new ze,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=j2(this,s)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),V2(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){rS(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){GT.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,o=i!==0&&Jr(i);GT.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?R2(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(B(bs,9),B(ky,10),B(QT,10),B(Dc,10),B(Yr,8),B(Ly,8))},e.\u0275dir=Ve({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Qr([H2]),rn,ur]});let t=e;return t})(),Ss=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Ve({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})(),z2={provide:Dc,useExisting:Pn(()=>jy),multi:!0},jy=(()=>{let e=class e extends Hd{writeValue(r){let i=r??"";this.setProperty("value",i)}registerOnChange(r){this.onChange=i=>{r(i==""?null:parseFloat(i))}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=lr(e)))(o||e)}})(),e.\u0275dir=Ve({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,o){i&1&&Y("input",function(a){return o.onChange(a.target.value)})("blur",function(){return o.onTouched()})},features:[Qr([z2]),rn]});let t=e;return t})();var q2={provide:Dc,useExisting:Pn(()=>As),multi:!0};function sS(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function G2(t){return t.split(":")[0]}var As=(()=>{let e=class e extends Hd{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i=this._getOptionId(r),o=sS(i,r);this.setProperty("value",o)}registerOnChange(r){this.onChange=i=>{this.value=this._getOptionValue(i),r(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),r))return i;return null}_getOptionValue(r){let i=G2(r);return this._optionMap.has(i)?this._optionMap.get(i):r}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=lr(e)))(o||e)}})(),e.\u0275dir=Ve({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,o){i&1&&Y("change",function(a){return o.onChange(a.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[Qr([q2]),rn]});let t=e;return t})(),qd=(()=>{let e=class e{constructor(r,i,o){this._element=r,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(r){this._select!=null&&(this._select._optionMap.set(this.id,r),this._setElementValue(sS(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._setElementValue(r),this._select&&this._select.writeValue(this._select.value)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(B(Ft),B(yn),B(As,9))},e.\u0275dir=Ve({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})(),W2={provide:Dc,useExisting:Pn(()=>aS),multi:!0};function WT(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function K2(t){return t.split(":")[0]}var aS=(()=>{let e=class e extends Hd{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i;if(Array.isArray(r)){let o=r.map(s=>this._getOptionId(s));i=(s,a)=>{s._setSelected(o.indexOf(a.toString())>-1)}}else i=(o,s)=>{o._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(r){this.onChange=i=>{let o=[],s=i.selectedOptions;if(s!==void 0){let a=s;for(let u=0;u<a.length;u++){let l=a[u],h=this._getOptionValue(l.value);o.push(h)}}else{let a=i.options;for(let u=0;u<a.length;u++){let l=a[u];if(l.selected){let h=this._getOptionValue(l.value);o.push(h)}}}this.value=o,r(o)}}_registerOption(r){let i=(this._idCounter++).toString();return this._optionMap.set(i,r),i}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,r))return i;return null}_getOptionValue(r){let i=K2(r);return this._optionMap.has(i)?this._optionMap.get(i)._value:r}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=lr(e)))(o||e)}})(),e.\u0275dir=Ve({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,o){i&1&&Y("change",function(a){return o.onChange(a.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[Qr([W2]),rn]});let t=e;return t})(),Gd=(()=>{let e=class e{constructor(r,i,o){this._element=r,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(r){this._select!=null&&(this._value=r,this._setElementValue(WT(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._select?(this._value=r,this._setElementValue(WT(this.id,r)),this._select.writeValue(this._select.value)):this._setElementValue(r)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}_setSelected(r){this._renderer.setProperty(this._element.nativeElement,"selected",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(B(Ft),B(yn),B(aS,9))},e.\u0275dir=Ve({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})();var Q2=(()=>{let e=class e{constructor(){this._validator=UT}ngOnChanges(r){if(this.inputName in r){let i=this.normalizeInput(r[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):UT,this._onChange&&this._onChange()}}validate(r){return this._validator(r)}registerOnValidatorChange(r){this._onChange=r}enabled(r){return r!=null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Ve({type:e,features:[ur]});let t=e;return t})();var Y2={provide:ky,useExisting:Pn(()=>Zi),multi:!0};var Zi=(()=>{let e=class e extends Q2{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Jr,this.createValidator=r=>w2}enabled(r){return r}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=lr(e)))(o||e)}})(),e.\u0275dir=Ve({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,o){i&2&&ka("required",o._enabled?"":null)},inputs:{required:"required"},features:[Qr([Y2]),rn]});let t=e;return t})();var J2=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=On({type:e}),e.\u0275inj=Nn({});let t=e;return t})();var Hn=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:Ly,useValue:r.callSetDisabledState??Uy}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=On({type:e}),e.\u0275inj=Nn({imports:[J2]});let t=e;return t})();var Z2=["slides"],cS=(()=>{let e=class e{constructor(r){this.platformId=r,this.intervalForSlider=1e4,this.withBackground=!1,this.showArrows=!0,this.dragging=!1}onClickLeft(){if(this.slides){let r=this.slides.nativeElement,i=r.scrollWidth/r.children.length;r.scrollLeft-=i,r.scrollLeft<0&&(r.scrollLeft=r.scrollWidth-i)}}onClickRight(){if(this.slides){let r=this.slides.nativeElement,i=r.scrollWidth/r.children.length;r.scrollLeft+=i,r.scrollLeft>=r.scrollWidth&&(r.scrollLeft=0)}}ngAfterViewInit(){em(this.platformId)&&(this.autoSlideSub=Wf(this.intervalForSlider,this.intervalForSlider).subscribe(()=>this.onClickRight()))}onDrag(r,i){if(i==="start")this.dragging=!0;else if(i==="end")this.dragging=!1;else if(i==="move"&&this.dragging){let o=this.slides.nativeElement,s=r instanceof MouseEvent?r.movementX:r.touches[0].clientX;o.scrollLeft-=s}}ngOnDestroy(){this.autoSlideSub&&this.autoSlideSub.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)(B(pt))},e.\u0275cmp=qe({type:e,selectors:[["app-carousel"]],viewQuery:function(i,o){if(i&1&&QC(Z2,5),i&2){let s;zl(s=ql())&&(o.slides=s.first)}},inputs:{intervalForSlider:"intervalForSlider",withBackground:"withBackground",showArrows:"showArrows"},standalone:!0,features:[We],decls:13,vars:0,consts:[["slides",""],["id","carouselExampleIndicators","data-ride","carousel",1,"carousel","slide"],[1,"carousel-inner"],[1,"carousel-item","active"],["src","./slide/slide1.jpg","alt","Slide 1",1,"d-block","w-100"],[1,"carousel-item"],["src","./slide/slide2.jpg","alt","Slide 2",1,"d-block","w-100"],["src","./slide/slide3.jpg","alt","Slide 3",1,"d-block","w-100"],["href","#carouselExampleIndicators","role","button","data-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],["href","#carouselExampleIndicators","role","button","data-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"]],template:function(i,o){i&1&&(D(0,"div",1)(1,"div",2,0)(3,"div",3),he(4,"img",4),M(),D(5,"div",5),he(6,"img",6),M(),D(7,"div",5),he(8,"img",7),M()(),D(9,"a",8),he(10,"span",9),M(),D(11,"a",10),he(12,"span",11),M()())},dependencies:[mt],styles:[".carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:50vh;object-fit:cover}.carousel-container[_ngcontent-%COMP%]{position:relative;width:100%;height:50vh;overflow:hidden}.carousel-inner[_ngcontent-%COMP%]{display:flex;overflow:hidden;width:100%;height:100%}.carousel-item[_ngcontent-%COMP%]{background:linear-gradient(to bottom,#fff,#7a73f6);display:flex;align-items:center;justify-content:center;transition:transform 5s ease-in-out}@media (max-width: 576px){.carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:40vh}}"]});let t=e;return t})();function mS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var yS=mS,vS=new wn("auth","Firebase",mS());var Yd=new jn("@firebase/auth");function e3(t,...e){Yd.logLevel<=ve.WARN&&Yd.warn(`Auth (${vs}): ${t}`,...e)}function Kd(t,...e){Yd.logLevel<=ve.ERROR&&Yd.error(`Auth (${vs}): ${t}`,...e)}function uS(t,...e){throw Zy(t,...e)}function Jy(t,...e){return Zy(t,...e)}function _S(t,e,n){let r=Object.assign(Object.assign({},yS()),{[e]:n});return new wn("auth","Firebase",r).create(e,{appName:t.name})}function Qd(t){return _S(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Zy(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return vS.create(t,...e)}function Ae(t,e,...n){if(!t)throw Zy(e,...n)}function Sc(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Kd(e),new Error(e)}function Jd(t,e){t||Sc(e)}function t3(){return lS()==="http:"||lS()==="https:"}function lS(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function n3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(t3()||GD()||"connection"in navigator)?navigator.onLine:!0}function r3(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var eo=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Jd(n>e,"Short delay should be less than long delay!"),this.isMobile=zD()||WD()}get(){return n3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function i3(t,e){Jd(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Zd=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Sc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Sc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Sc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var o3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var s3=new eo(3e4,6e4);function wS(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function nh(o,s,a,u){return S(this,arguments,function*(t,e,n,r,i={}){return ES(t,i,()=>S(this,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=sy(Object.assign({key:t.config.apiKey},h)).slice(1),m=yield t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);let y=Object.assign({method:e,headers:m},l);return qD()||(y.referrerPolicy="no-referrer"),Zd.fetch()(IS(t,t.config.apiHost,n,p),y)}))})}function ES(t,e,n){return S(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},o3),e);try{let i=new Hy(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Wd(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wd(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw Wd(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw Wd(t,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw _S(t,h,l);uS(t,h)}}catch(i){if(i instanceof sn)throw i;uS(t,"network-request-failed",{message:String(i)})}})}function IS(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?i3(t.config,i):`${t.config.apiScheme}://${i}`}var Hy=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Jy(this.auth,"network-request-failed")),s3.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Wd(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Jy(t,e,r);return i.customData._tokenResponse=n,i}function a3(t,e){return S(this,null,function*(){return nh(t,"POST","/v1/accounts:delete",e)})}function CS(t,e){return S(this,null,function*(){return nh(t,"POST","/v1/accounts:lookup",e)})}function Ac(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Xy(t,e=!1){return S(this,null,function*(){let n=yt(t),r=yield n.getIdToken(e),i=bS(r);Ae(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Ac(By(i.auth_time)),issuedAtTime:Ac(By(i.iat)),expirationTime:Ac(By(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function By(t){return Number(t)*1e3}function bS(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Kd("JWT malformed, contained fewer than 3 sections"),null;try{let i=ry(n);return i?JSON.parse(i):(Kd("Failed to decode base64 JWT payload"),null)}catch(i){return Kd("Caught error parsing JWT payload as JSON",i?.toString()),null}}function dS(t){let e=bS(t);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function zy(t,e,n=!1){return S(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof sn&&c3(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function c3({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var qy=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>S(this,null,function*(){yield this.iteration()}),n)}iteration(){return S(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var xc=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ac(this.lastLoginAt),this.creationTime=Ac(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Xd(t){return S(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield zy(t,CS(n,{idToken:r}));Ae(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?DS(o.providerUserInfo):[],a=u3(t.providerData,s),u=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new xc(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,p)})}function ev(t){return S(this,null,function*(){let e=yt(t);yield Xd(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function u3(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function DS(t){return t.map(e=>{var{providerId:n}=e,r=zf(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function l3(t,e){return S(this,null,function*(){let n=yield ES(t,{},()=>S(this,null,function*(){let r=sy({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=IS(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Zd.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function d3(t,e){return S(this,null,function*(){return nh(t,"POST","/v2/accounts:revokeToken",wS(t,e))})}var Mc=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):dS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");let n=dS(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return S(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return S(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield l3(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(Ae(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Ae(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Ae(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Sc("not implemented")}};function ci(t,e){Ae(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Rc=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=zf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new qy(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new xc(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return S(this,null,function*(){let n=yield zy(this,this.stsTokenManager.getToken(this.auth,e));return Ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Xy(this,e)}reload(){return ev(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return S(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Xd(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return S(this,null,function*(){if(ys(this.auth.app))return Promise.reject(Qd(this.auth));let e=yield this.getIdToken();return yield zy(this,a3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,u,l,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,y=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,T=(s=n.photoURL)!==null&&s!==void 0?s:void 0,P=(a=n.tenantId)!==null&&a!==void 0?a:void 0,R=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,F=(l=n.createdAt)!==null&&l!==void 0?l:void 0,K=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:q,emailVerified:J,isAnonymous:Re,providerData:te,stsTokenManager:E}=n;Ae(q&&E,e,"internal-error");let v=Mc.fromJSON(this.name,E);Ae(typeof q=="string",e,"internal-error"),ci(p,e.name),ci(m,e.name),Ae(typeof J=="boolean",e,"internal-error"),Ae(typeof Re=="boolean",e,"internal-error"),ci(y,e.name),ci(T,e.name),ci(P,e.name),ci(R,e.name),ci(F,e.name),ci(K,e.name);let _=new t({uid:q,auth:e,email:m,emailVerified:J,displayName:p,isAnonymous:Re,photoURL:T,phoneNumber:y,tenantId:P,stsTokenManager:v,createdAt:F,lastLoginAt:K});return te&&Array.isArray(te)&&(_.providerData=te.map(I=>Object.assign({},I))),R&&(_._redirectEventId=R),_}static _fromIdTokenResponse(e,n,r=!1){return S(this,null,function*(){let i=new Mc;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Xd(o),o})}static _fromGetAccountInfoResponse(e,n,r){return S(this,null,function*(){let i=n.users[0];Ae(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?DS(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Mc;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new xc(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var hS=new Map;function Xi(t){Jd(t instanceof Function,"Expected a class definition");let e=hS.get(t);return e?(Jd(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,hS.set(t,e),e)}var h3=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return S(this,null,function*(){return!0})}_set(n,r){return S(this,null,function*(){this.storage[n]=r})}_get(n){return S(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return S(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Gy=h3;function $y(t,e,n){return`firebase:${t}:${e}:${n}`}var eh=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=$y(this.userKey,i.apiKey,o),this.fullPersistenceKey=$y("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return S(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Rc._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return S(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return S(this,null,function*(){if(!n.length)return new t(Xi(Gy),e,r);let i=(yield Promise.all(n.map(l=>S(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||Xi(Gy),s=$y(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let h=yield l._get(s);if(h){let p=Rc._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new t(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>S(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,r))})}};function fS(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(m3(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(f3(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(v3(e))return"Blackberry";if(_3(e))return"Webos";if(p3(e))return"Safari";if((e.includes("chrome/")||g3(e))&&!e.includes("edge/"))return"Chrome";if(y3(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function f3(t=Jt()){return/firefox\//i.test(t)}function p3(t=Jt()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function g3(t=Jt()){return/crios\//i.test(t)}function m3(t=Jt()){return/iemobile/i.test(t)}function y3(t=Jt()){return/android/i.test(t)}function v3(t=Jt()){return/blackberry/i.test(t)}function _3(t=Jt()){return/webos/i.test(t)}function TS(t,e=[]){let n;switch(t){case"Browser":n=fS(Jt());break;case"Worker":n=`${fS(Jt())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${vs}/${r}`}var Wy=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return S(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function w3(n){return S(this,arguments,function*(t,e={}){return nh(t,"GET","/v2/passwordPolicy",wS(t,e))})}var E3=6,Ky=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:E3,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Qy=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new th(this),this.idTokenSubscription=new th(this),this.beforeStateQueue=new Wy(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Xi(n)),this._initializationPromise=this.queue(()=>S(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield eh.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return S(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return S(this,null,function*(){try{let n=yield CS(this,{idToken:e}),r=yield Rc._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return S(this,null,function*(){var n;if(ys(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return S(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return S(this,null,function*(){try{yield Xd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=r3()}_delete(){return S(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return S(this,null,function*(){if(ys(this.app))return Promise.reject(Qd(this));let n=e?yt(e):null;return n&&Ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return S(this,null,function*(){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>S(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return S(this,null,function*(){return ys(this.app)?Promise.reject(Qd(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return ys(this.app)?Promise.reject(Qd(this)):this.queue(()=>S(this,null,function*(){yield this.assertedPersistence.setPersistence(Xi(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return S(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return S(this,null,function*(){let e=yield w3(this),n=new Ky(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new wn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return S(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield d3(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return S(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return S(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Xi(e)||this._popupRedirectResolver;Ae(n,this,"argument-error"),this.redirectPersistenceManager=yield eh.create(this,[Xi(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return S(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>S(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return S(this,null,function*(){if(e===this.currentUser)return this.queue(()=>S(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(n);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return S(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=TS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return S(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return S(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&e3(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function I3(t){return yt(t)}var th=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=YD(n=>this.observer=n)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var C3={loadJS(){return S(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function b3(t){C3=t}function D3(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function T3(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Xi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}var i7=D3("rcb"),o7=new eo(3e4,6e4);var s7=new eo(2e3,1e4);var a7=10*60*1e3;var c7=new eo(3e4,6e4);var u7=new eo(5e3,15e3);var l7=encodeURIComponent("fac");var pS="@firebase/auth",gS="1.7.9";var Yy=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return S(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function S3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function A3(t){En(new Vt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Ae(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:TS(t)},l=new Qy(r,i,o,u);return T3(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),En(new Vt("auth-internal",e=>{let n=I3(e.getProvider("auth").getImmediate());return(r=>new Yy(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ke(pS,gS,S3(t)),Ke(pS,gS,"esm2017")}var M3=5*60,d7=$D("authIdTokenMaxAge")||M3;function x3(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}b3({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=Jy("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",x3().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});A3("Browser");var MU="auth";var rh=class{constructor(){return ws(MU)}};var SS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},AS={};var ui,tv;(function(){var t;function e(E,v){function _(){}_.prototype=v.prototype,E.D=v.prototype,E.prototype=new _,E.prototype.constructor=E,E.C=function(I,C,A){for(var w=Array(arguments.length-2),Jn=2;Jn<arguments.length;Jn++)w[Jn-2]=arguments[Jn];return v.prototype[C].apply(I,w)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,v,_){_||(_=0);var I=Array(16);if(typeof v=="string")for(var C=0;16>C;++C)I[C]=v.charCodeAt(_++)|v.charCodeAt(_++)<<8|v.charCodeAt(_++)<<16|v.charCodeAt(_++)<<24;else for(C=0;16>C;++C)I[C]=v[_++]|v[_++]<<8|v[_++]<<16|v[_++]<<24;v=E.g[0],_=E.g[1],C=E.g[2];var A=E.g[3],w=v+(A^_&(C^A))+I[0]+3614090360&4294967295;v=_+(w<<7&4294967295|w>>>25),w=A+(C^v&(_^C))+I[1]+3905402710&4294967295,A=v+(w<<12&4294967295|w>>>20),w=C+(_^A&(v^_))+I[2]+606105819&4294967295,C=A+(w<<17&4294967295|w>>>15),w=_+(v^C&(A^v))+I[3]+3250441966&4294967295,_=C+(w<<22&4294967295|w>>>10),w=v+(A^_&(C^A))+I[4]+4118548399&4294967295,v=_+(w<<7&4294967295|w>>>25),w=A+(C^v&(_^C))+I[5]+1200080426&4294967295,A=v+(w<<12&4294967295|w>>>20),w=C+(_^A&(v^_))+I[6]+2821735955&4294967295,C=A+(w<<17&4294967295|w>>>15),w=_+(v^C&(A^v))+I[7]+4249261313&4294967295,_=C+(w<<22&4294967295|w>>>10),w=v+(A^_&(C^A))+I[8]+1770035416&4294967295,v=_+(w<<7&4294967295|w>>>25),w=A+(C^v&(_^C))+I[9]+2336552879&4294967295,A=v+(w<<12&4294967295|w>>>20),w=C+(_^A&(v^_))+I[10]+4294925233&4294967295,C=A+(w<<17&4294967295|w>>>15),w=_+(v^C&(A^v))+I[11]+2304563134&4294967295,_=C+(w<<22&4294967295|w>>>10),w=v+(A^_&(C^A))+I[12]+1804603682&4294967295,v=_+(w<<7&4294967295|w>>>25),w=A+(C^v&(_^C))+I[13]+4254626195&4294967295,A=v+(w<<12&4294967295|w>>>20),w=C+(_^A&(v^_))+I[14]+2792965006&4294967295,C=A+(w<<17&4294967295|w>>>15),w=_+(v^C&(A^v))+I[15]+1236535329&4294967295,_=C+(w<<22&4294967295|w>>>10),w=v+(C^A&(_^C))+I[1]+4129170786&4294967295,v=_+(w<<5&4294967295|w>>>27),w=A+(_^C&(v^_))+I[6]+3225465664&4294967295,A=v+(w<<9&4294967295|w>>>23),w=C+(v^_&(A^v))+I[11]+643717713&4294967295,C=A+(w<<14&4294967295|w>>>18),w=_+(A^v&(C^A))+I[0]+3921069994&4294967295,_=C+(w<<20&4294967295|w>>>12),w=v+(C^A&(_^C))+I[5]+3593408605&4294967295,v=_+(w<<5&4294967295|w>>>27),w=A+(_^C&(v^_))+I[10]+38016083&4294967295,A=v+(w<<9&4294967295|w>>>23),w=C+(v^_&(A^v))+I[15]+3634488961&4294967295,C=A+(w<<14&4294967295|w>>>18),w=_+(A^v&(C^A))+I[4]+3889429448&4294967295,_=C+(w<<20&4294967295|w>>>12),w=v+(C^A&(_^C))+I[9]+568446438&4294967295,v=_+(w<<5&4294967295|w>>>27),w=A+(_^C&(v^_))+I[14]+3275163606&4294967295,A=v+(w<<9&4294967295|w>>>23),w=C+(v^_&(A^v))+I[3]+4107603335&4294967295,C=A+(w<<14&4294967295|w>>>18),w=_+(A^v&(C^A))+I[8]+1163531501&4294967295,_=C+(w<<20&4294967295|w>>>12),w=v+(C^A&(_^C))+I[13]+2850285829&4294967295,v=_+(w<<5&4294967295|w>>>27),w=A+(_^C&(v^_))+I[2]+4243563512&4294967295,A=v+(w<<9&4294967295|w>>>23),w=C+(v^_&(A^v))+I[7]+1735328473&4294967295,C=A+(w<<14&4294967295|w>>>18),w=_+(A^v&(C^A))+I[12]+2368359562&4294967295,_=C+(w<<20&4294967295|w>>>12),w=v+(_^C^A)+I[5]+4294588738&4294967295,v=_+(w<<4&4294967295|w>>>28),w=A+(v^_^C)+I[8]+2272392833&4294967295,A=v+(w<<11&4294967295|w>>>21),w=C+(A^v^_)+I[11]+1839030562&4294967295,C=A+(w<<16&4294967295|w>>>16),w=_+(C^A^v)+I[14]+4259657740&4294967295,_=C+(w<<23&4294967295|w>>>9),w=v+(_^C^A)+I[1]+2763975236&4294967295,v=_+(w<<4&4294967295|w>>>28),w=A+(v^_^C)+I[4]+1272893353&4294967295,A=v+(w<<11&4294967295|w>>>21),w=C+(A^v^_)+I[7]+4139469664&4294967295,C=A+(w<<16&4294967295|w>>>16),w=_+(C^A^v)+I[10]+3200236656&4294967295,_=C+(w<<23&4294967295|w>>>9),w=v+(_^C^A)+I[13]+681279174&4294967295,v=_+(w<<4&4294967295|w>>>28),w=A+(v^_^C)+I[0]+3936430074&4294967295,A=v+(w<<11&4294967295|w>>>21),w=C+(A^v^_)+I[3]+3572445317&4294967295,C=A+(w<<16&4294967295|w>>>16),w=_+(C^A^v)+I[6]+76029189&4294967295,_=C+(w<<23&4294967295|w>>>9),w=v+(_^C^A)+I[9]+3654602809&4294967295,v=_+(w<<4&4294967295|w>>>28),w=A+(v^_^C)+I[12]+3873151461&4294967295,A=v+(w<<11&4294967295|w>>>21),w=C+(A^v^_)+I[15]+530742520&4294967295,C=A+(w<<16&4294967295|w>>>16),w=_+(C^A^v)+I[2]+3299628645&4294967295,_=C+(w<<23&4294967295|w>>>9),w=v+(C^(_|~A))+I[0]+4096336452&4294967295,v=_+(w<<6&4294967295|w>>>26),w=A+(_^(v|~C))+I[7]+1126891415&4294967295,A=v+(w<<10&4294967295|w>>>22),w=C+(v^(A|~_))+I[14]+2878612391&4294967295,C=A+(w<<15&4294967295|w>>>17),w=_+(A^(C|~v))+I[5]+4237533241&4294967295,_=C+(w<<21&4294967295|w>>>11),w=v+(C^(_|~A))+I[12]+1700485571&4294967295,v=_+(w<<6&4294967295|w>>>26),w=A+(_^(v|~C))+I[3]+2399980690&4294967295,A=v+(w<<10&4294967295|w>>>22),w=C+(v^(A|~_))+I[10]+4293915773&4294967295,C=A+(w<<15&4294967295|w>>>17),w=_+(A^(C|~v))+I[1]+2240044497&4294967295,_=C+(w<<21&4294967295|w>>>11),w=v+(C^(_|~A))+I[8]+1873313359&4294967295,v=_+(w<<6&4294967295|w>>>26),w=A+(_^(v|~C))+I[15]+4264355552&4294967295,A=v+(w<<10&4294967295|w>>>22),w=C+(v^(A|~_))+I[6]+2734768916&4294967295,C=A+(w<<15&4294967295|w>>>17),w=_+(A^(C|~v))+I[13]+1309151649&4294967295,_=C+(w<<21&4294967295|w>>>11),w=v+(C^(_|~A))+I[4]+4149444226&4294967295,v=_+(w<<6&4294967295|w>>>26),w=A+(_^(v|~C))+I[11]+3174756917&4294967295,A=v+(w<<10&4294967295|w>>>22),w=C+(v^(A|~_))+I[2]+718787259&4294967295,C=A+(w<<15&4294967295|w>>>17),w=_+(A^(C|~v))+I[9]+3951481745&4294967295,E.g[0]=E.g[0]+v&4294967295,E.g[1]=E.g[1]+(C+(w<<21&4294967295|w>>>11))&4294967295,E.g[2]=E.g[2]+C&4294967295,E.g[3]=E.g[3]+A&4294967295}r.prototype.u=function(E,v){v===void 0&&(v=E.length);for(var _=v-this.blockSize,I=this.B,C=this.h,A=0;A<v;){if(C==0)for(;A<=_;)i(this,E,A),A+=this.blockSize;if(typeof E=="string"){for(;A<v;)if(I[C++]=E.charCodeAt(A++),C==this.blockSize){i(this,I),C=0;break}}else for(;A<v;)if(I[C++]=E[A++],C==this.blockSize){i(this,I),C=0;break}}this.h=C,this.o+=v},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var v=1;v<E.length-8;++v)E[v]=0;var _=8*this.o;for(v=E.length-8;v<E.length;++v)E[v]=_&255,_/=256;for(this.u(E),E=Array(16),v=_=0;4>v;++v)for(var I=0;32>I;I+=8)E[_++]=this.g[v]>>>I&255;return E};function o(E,v){var _=a;return Object.prototype.hasOwnProperty.call(_,E)?_[E]:_[E]=v(E)}function s(E,v){this.h=v;for(var _=[],I=!0,C=E.length-1;0<=C;C--){var A=E[C]|0;I&&A==v||(_[C]=A,I=!1)}this.g=_}var a={};function u(E){return-128<=E&&128>E?o(E,function(v){return new s([v|0],0>v?-1:0)}):new s([E|0],0>E?-1:0)}function l(E){if(isNaN(E)||!isFinite(E))return p;if(0>E)return R(l(-E));for(var v=[],_=1,I=0;E>=_;I++)v[I]=E/_|0,_*=4294967296;return new s(v,0)}function h(E,v){if(E.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(E.charAt(0)=="-")return R(h(E.substring(1),v));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=l(Math.pow(v,8)),I=p,C=0;C<E.length;C+=8){var A=Math.min(8,E.length-C),w=parseInt(E.substring(C,C+A),v);8>A?(A=l(Math.pow(v,A)),I=I.j(A).add(l(w))):(I=I.j(_),I=I.add(l(w)))}return I}var p=u(0),m=u(1),y=u(16777216);t=s.prototype,t.m=function(){if(P(this))return-R(this).m();for(var E=0,v=1,_=0;_<this.g.length;_++){var I=this.i(_);E+=(0<=I?I:4294967296+I)*v,v*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(T(this))return"0";if(P(this))return"-"+R(this).toString(E);for(var v=l(Math.pow(E,6)),_=this,I="";;){var C=J(_,v).g;_=F(_,C.j(v));var A=((0<_.g.length?_.g[0]:_.h)>>>0).toString(E);if(_=C,T(_))return A+I;for(;6>A.length;)A="0"+A;I=A+I}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function T(E){if(E.h!=0)return!1;for(var v=0;v<E.g.length;v++)if(E.g[v]!=0)return!1;return!0}function P(E){return E.h==-1}t.l=function(E){return E=F(this,E),P(E)?-1:T(E)?0:1};function R(E){for(var v=E.g.length,_=[],I=0;I<v;I++)_[I]=~E.g[I];return new s(_,~E.h).add(m)}t.abs=function(){return P(this)?R(this):this},t.add=function(E){for(var v=Math.max(this.g.length,E.g.length),_=[],I=0,C=0;C<=v;C++){var A=I+(this.i(C)&65535)+(E.i(C)&65535),w=(A>>>16)+(this.i(C)>>>16)+(E.i(C)>>>16);I=w>>>16,A&=65535,w&=65535,_[C]=w<<16|A}return new s(_,_[_.length-1]&-2147483648?-1:0)};function F(E,v){return E.add(R(v))}t.j=function(E){if(T(this)||T(E))return p;if(P(this))return P(E)?R(this).j(R(E)):R(R(this).j(E));if(P(E))return R(this.j(R(E)));if(0>this.l(y)&&0>E.l(y))return l(this.m()*E.m());for(var v=this.g.length+E.g.length,_=[],I=0;I<2*v;I++)_[I]=0;for(I=0;I<this.g.length;I++)for(var C=0;C<E.g.length;C++){var A=this.i(I)>>>16,w=this.i(I)&65535,Jn=E.i(C)>>>16,ea=E.i(C)&65535;_[2*I+2*C]+=w*ea,K(_,2*I+2*C),_[2*I+2*C+1]+=A*ea,K(_,2*I+2*C+1),_[2*I+2*C+1]+=w*Jn,K(_,2*I+2*C+1),_[2*I+2*C+2]+=A*Jn,K(_,2*I+2*C+2)}for(I=0;I<v;I++)_[I]=_[2*I+1]<<16|_[2*I];for(I=v;I<2*v;I++)_[I]=0;return new s(_,0)};function K(E,v){for(;(E[v]&65535)!=E[v];)E[v+1]+=E[v]>>>16,E[v]&=65535,v++}function q(E,v){this.g=E,this.h=v}function J(E,v){if(T(v))throw Error("division by zero");if(T(E))return new q(p,p);if(P(E))return v=J(R(E),v),new q(R(v.g),R(v.h));if(P(v))return v=J(E,R(v)),new q(R(v.g),v.h);if(30<E.g.length){if(P(E)||P(v))throw Error("slowDivide_ only works with positive integers.");for(var _=m,I=v;0>=I.l(E);)_=Re(_),I=Re(I);var C=te(_,1),A=te(I,1);for(I=te(I,2),_=te(_,2);!T(I);){var w=A.add(I);0>=w.l(E)&&(C=C.add(_),A=w),I=te(I,1),_=te(_,1)}return v=F(E,C.j(v)),new q(C,v)}for(C=p;0<=E.l(v);){for(_=Math.max(1,Math.floor(E.m()/v.m())),I=Math.ceil(Math.log(_)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),A=l(_),w=A.j(v);P(w)||0<w.l(E);)_-=I,A=l(_),w=A.j(v);T(A)&&(A=m),C=C.add(A),E=F(E,w)}return new q(C,E)}t.A=function(E){return J(this,E).h},t.and=function(E){for(var v=Math.max(this.g.length,E.g.length),_=[],I=0;I<v;I++)_[I]=this.i(I)&E.i(I);return new s(_,this.h&E.h)},t.or=function(E){for(var v=Math.max(this.g.length,E.g.length),_=[],I=0;I<v;I++)_[I]=this.i(I)|E.i(I);return new s(_,this.h|E.h)},t.xor=function(E){for(var v=Math.max(this.g.length,E.g.length),_=[],I=0;I<v;I++)_[I]=this.i(I)^E.i(I);return new s(_,this.h^E.h)};function Re(E){for(var v=E.g.length+1,_=[],I=0;I<v;I++)_[I]=E.i(I)<<1|E.i(I-1)>>>31;return new s(_,E.h)}function te(E,v){var _=v>>5;v%=32;for(var I=E.g.length-_,C=[],A=0;A<I;A++)C[A]=0<v?E.i(A+_)>>>v|E.i(A+_+1)<<32-v:E.i(A+_);return new s(C,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,tv=AS.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,ui=AS.Integer=s}).apply(typeof SS<"u"?SS:typeof self<"u"?self:typeof window<"u"?window:{});var ih=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Er={};var nv,xU,Ms,rv,Pc,oh,iv,ov,sv;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof ih=="object"&&ih];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var b=c[g];if(!(b in f))break e;f=f[b]}c=c[c.length-1],g=f[c],d=d(g),d!=g&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,g=!1,b={next:function(){if(!g&&f<c.length){var x=f++;return{value:d(x,c[x]),done:!1}}return g=!0,{done:!0,value:void 0}}};return b[Symbol.iterator]=function(){return b},b}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,g),c.apply(d,b)}}return function(){return c.apply(d,arguments)}}function m(c,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function y(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function T(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(g,b,x){for(var L=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)L[Pe-2]=arguments[Pe];return d.prototype[b].apply(g,L)}}function P(c){let d=c.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=c[g];return f}return[]}function R(c,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let b=c.length||0,x=g.length||0;c.length=b+x;for(let L=0;L<x;L++)c[b+L]=g[L]}else c.push(g)}}class F{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function K(c){return/^[\s\xa0]*$/.test(c)}function q(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function J(c){return J[" "](c),c}J[" "]=function(){};var Re=q().indexOf("Gecko")!=-1&&!(q().toLowerCase().indexOf("webkit")!=-1&&q().indexOf("Edge")==-1)&&!(q().indexOf("Trident")!=-1||q().indexOf("MSIE")!=-1)&&q().indexOf("Edge")==-1;function te(c,d,f){for(let g in c)d.call(f,c[g],g,c)}function E(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function v(c){let d={};for(let f in c)d[f]=c[f];return d}let _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(c,d){let f,g;for(let b=1;b<arguments.length;b++){g=arguments[b];for(f in g)c[f]=g[f];for(let x=0;x<_.length;x++)f=_[x],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function C(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function A(c){a.setTimeout(()=>{throw c},0)}function w(){var c=Jh;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class Jn{constructor(){this.h=this.g=null}add(d,f){let g=ea.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var ea=new F(()=>new OM,c=>c.reset());class OM{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let ta,na=!1,Jh=new Jn,g0=()=>{let c=a.Promise.resolve(void 0);ta=()=>{c.then(kM)}};var kM=()=>{for(var c;c=w();){try{c.h.call(c.g)}catch(f){A(f)}var d=ea;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}na=!1};function Mr(){this.s=this.s,this.C=this.C}Mr.prototype.s=!1,Mr.prototype.ma=function(){this.s||(this.s=!0,this.N())},Mr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function _t(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}_t.prototype.h=function(){this.defaultPrevented=!0};var FM=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function ra(c,d){if(_t.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(Re){e:{try{J(d.nodeName);var b=!0;break e}catch{}b=!1}b||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:VM[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&ra.aa.h.call(this)}}T(ra,_t);var VM={2:"touch",3:"pen",4:"mouse"};ra.prototype.h=function(){ra.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ia="closure_listenable_"+(1e6*Math.random()|0),LM=0;function UM(c,d,f,g,b){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=b,this.key=++LM,this.da=this.fa=!1}function tu(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function nu(c){this.src=c,this.g={},this.h=0}nu.prototype.add=function(c,d,f,g,b){var x=c.toString();c=this.g[x],c||(c=this.g[x]=[],this.h++);var L=Xh(c,d,g,b);return-1<L?(d=c[L],f||(d.fa=!1)):(d=new UM(d,this.src,x,!!g,b),d.fa=f,c.push(d)),d};function Zh(c,d){var f=d.type;if(f in c.g){var g=c.g[f],b=Array.prototype.indexOf.call(g,d,void 0),x;(x=0<=b)&&Array.prototype.splice.call(g,b,1),x&&(tu(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function Xh(c,d,f,g){for(var b=0;b<c.length;++b){var x=c[b];if(!x.da&&x.listener==d&&x.capture==!!f&&x.ha==g)return b}return-1}var ef="closure_lm_"+(1e6*Math.random()|0),tf={};function m0(c,d,f,g,b){if(g&&g.once)return v0(c,d,f,g,b);if(Array.isArray(d)){for(var x=0;x<d.length;x++)m0(c,d[x],f,g,b);return null}return f=sf(f),c&&c[ia]?c.K(d,f,l(g)?!!g.capture:!!g,b):y0(c,d,f,!1,g,b)}function y0(c,d,f,g,b,x){if(!d)throw Error("Invalid event type");var L=l(b)?!!b.capture:!!b,Pe=rf(c);if(Pe||(c[ef]=Pe=new nu(c)),f=Pe.add(d,f,g,L,x),f.proxy)return f;if(g=jM(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)FM||(b=L),b===void 0&&(b=!1),c.addEventListener(d.toString(),g,b);else if(c.attachEvent)c.attachEvent(w0(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function jM(){function c(f){return d.call(c.src,c.listener,f)}let d=BM;return c}function v0(c,d,f,g,b){if(Array.isArray(d)){for(var x=0;x<d.length;x++)v0(c,d[x],f,g,b);return null}return f=sf(f),c&&c[ia]?c.L(d,f,l(g)?!!g.capture:!!g,b):y0(c,d,f,!0,g,b)}function _0(c,d,f,g,b){if(Array.isArray(d))for(var x=0;x<d.length;x++)_0(c,d[x],f,g,b);else g=l(g)?!!g.capture:!!g,f=sf(f),c&&c[ia]?(c=c.i,d=String(d).toString(),d in c.g&&(x=c.g[d],f=Xh(x,f,g,b),-1<f&&(tu(x[f]),Array.prototype.splice.call(x,f,1),x.length==0&&(delete c.g[d],c.h--)))):c&&(c=rf(c))&&(d=c.g[d.toString()],c=-1,d&&(c=Xh(d,f,g,b)),(f=-1<c?d[c]:null)&&nf(f))}function nf(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[ia])Zh(d.i,c);else{var f=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(f,g,c.capture):d.detachEvent?d.detachEvent(w0(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=rf(d))?(Zh(f,c),f.h==0&&(f.src=null,d[ef]=null)):tu(c)}}}function w0(c){return c in tf?tf[c]:tf[c]="on"+c}function BM(c,d){if(c.da)c=!0;else{d=new ra(d,this);var f=c.listener,g=c.ha||c.src;c.fa&&nf(c),c=f.call(g,d)}return c}function rf(c){return c=c[ef],c instanceof nu?c:null}var of="__closure_events_fn_"+(1e9*Math.random()>>>0);function sf(c){return typeof c=="function"?c:(c[of]||(c[of]=function(d){return c.handleEvent(d)}),c[of])}function wt(){Mr.call(this),this.i=new nu(this),this.M=this,this.F=null}T(wt,Mr),wt.prototype[ia]=!0,wt.prototype.removeEventListener=function(c,d,f,g){_0(this,c,d,f,g)};function xt(c,d){var f,g=c.F;if(g)for(f=[];g;g=g.F)f.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new _t(d,c);else if(d instanceof _t)d.target=d.target||c;else{var b=d;d=new _t(g,c),I(d,b)}if(b=!0,f)for(var x=f.length-1;0<=x;x--){var L=d.g=f[x];b=ru(L,g,!0,d)&&b}if(L=d.g=c,b=ru(L,g,!0,d)&&b,b=ru(L,g,!1,d)&&b,f)for(x=0;x<f.length;x++)L=d.g=f[x],b=ru(L,g,!1,d)&&b}wt.prototype.N=function(){if(wt.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],g=0;g<f.length;g++)tu(f[g]);delete c.g[d],c.h--}}this.F=null},wt.prototype.K=function(c,d,f,g){return this.i.add(String(c),d,!1,f,g)},wt.prototype.L=function(c,d,f,g){return this.i.add(String(c),d,!0,f,g)};function ru(c,d,f,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var b=!0,x=0;x<d.length;++x){var L=d[x];if(L&&!L.da&&L.capture==f){var Pe=L.listener,ht=L.ha||L.src;L.fa&&Zh(c.i,L),b=Pe.call(ht,g)!==!1&&b}}return b&&!g.defaultPrevented}function E0(c,d,f){if(typeof c=="function")f&&(c=m(c,f));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function I0(c){c.g=E0(()=>{c.g=null,c.i&&(c.i=!1,I0(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class $M extends Mr{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:I0(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function oa(c){Mr.call(this),this.h=c,this.g={}}T(oa,Mr);var C0=[];function b0(c){te(c.g,function(d,f){this.g.hasOwnProperty(f)&&nf(d)},c),c.g={}}oa.prototype.N=function(){oa.aa.N.call(this),b0(this)},oa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var af=a.JSON.stringify,HM=a.JSON.parse,zM=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function cf(){}cf.prototype.h=null;function D0(c){return c.h||(c.h=c.i())}function T0(){}var sa={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function uf(){_t.call(this,"d")}T(uf,_t);function lf(){_t.call(this,"c")}T(lf,_t);var mi={},S0=null;function iu(){return S0=S0||new wt}mi.La="serverreachability";function A0(c){_t.call(this,mi.La,c)}T(A0,_t);function aa(c){let d=iu();xt(d,new A0(d))}mi.STAT_EVENT="statevent";function M0(c,d){_t.call(this,mi.STAT_EVENT,c),this.stat=d}T(M0,_t);function Rt(c){let d=iu();xt(d,new M0(d,c))}mi.Ma="timingevent";function x0(c,d){_t.call(this,mi.Ma,c),this.size=d}T(x0,_t);function ca(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function ua(){this.g=!0}ua.prototype.xa=function(){this.g=!1};function qM(c,d,f,g,b,x){c.info(function(){if(c.g)if(x)for(var L="",Pe=x.split("&"),ht=0;ht<Pe.length;ht++){var be=Pe[ht].split("=");if(1<be.length){var Et=be[0];be=be[1];var It=Et.split("_");L=2<=It.length&&It[1]=="type"?L+(Et+"="+be+"&"):L+(Et+"=redacted&")}}else L=null;else L=x;return"XMLHTTP REQ ("+g+") [attempt "+b+"]: "+d+`
`+f+`
`+L})}function GM(c,d,f,g,b,x,L){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+b+"]: "+d+`
`+f+`
`+x+" "+L})}function po(c,d,f,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+KM(c,f)+(g?" "+g:"")})}function WM(c,d){c.info(function(){return"TIMEOUT: "+d})}ua.prototype.info=function(){};function KM(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var g=f[c];if(!(2>g.length)){var b=g[1];if(Array.isArray(b)&&!(1>b.length)){var x=b[0];if(x!="noop"&&x!="stop"&&x!="close")for(var L=1;L<b.length;L++)b[L]=""}}}}return af(f)}catch{return d}}var ou={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},R0={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},df;function su(){}T(su,cf),su.prototype.g=function(){return new XMLHttpRequest},su.prototype.i=function(){return{}},df=new su;function xr(c,d,f,g){this.j=c,this.i=d,this.l=f,this.R=g||1,this.U=new oa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new P0}function P0(){this.i=null,this.g="",this.h=!1}var N0={},hf={};function ff(c,d,f){c.L=1,c.v=lu(Zn(d)),c.m=f,c.P=!0,O0(c,null)}function O0(c,d){c.F=Date.now(),au(c),c.A=Zn(c.v);var f=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),K0(f.i,"t",g),c.C=0,f=c.j.J,c.h=new P0,c.g=hw(c.j,f?d:null,!c.m),0<c.O&&(c.M=new $M(m(c.Y,c,c.g),c.O)),d=c.U,f=c.g,g=c.ca;var b="readystatechange";Array.isArray(b)||(b&&(C0[0]=b.toString()),b=C0);for(var x=0;x<b.length;x++){var L=m0(f,b[x],g||d.handleEvent,!1,d.h||d);if(!L)break;d.g[L.key]=L}d=c.H?v(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),aa(),qM(c.i,c.u,c.A,c.l,c.R,c.m)}xr.prototype.ca=function(c){c=c.target;let d=this.M;d&&Xn(c)==3?d.j():this.Y(c)},xr.prototype.Y=function(c){try{if(c==this.g)e:{let It=Xn(this.g);var d=this.g.Ba();let yo=this.g.Z();if(!(3>It)&&(It!=3||this.g&&(this.h.h||this.g.oa()||tw(this.g)))){this.J||It!=4||d==7||(d==8||0>=yo?aa(3):aa(2)),pf(this);var f=this.g.Z();this.X=f;t:if(k0(this)){var g=tw(this.g);c="";var b=g.length,x=Xn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){yi(this),la(this);var L="";break t}this.h.i=new a.TextDecoder}for(d=0;d<b;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(x&&d==b-1)});g.length=0,this.h.g+=c,this.C=0,L=this.h.g}else L=this.g.oa();if(this.o=f==200,GM(this.i,this.u,this.A,this.l,this.R,It,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Pe,ht=this.g;if((Pe=ht.g?ht.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!K(Pe)){var be=Pe;break t}}be=null}if(f=be)po(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,gf(this,f);else{this.o=!1,this.s=3,Rt(12),yi(this),la(this);break e}}if(this.P){f=!0;let un;for(;!this.J&&this.C<L.length;)if(un=QM(this,L),un==hf){It==4&&(this.s=4,Rt(14),f=!1),po(this.i,this.l,null,"[Incomplete Response]");break}else if(un==N0){this.s=4,Rt(15),po(this.i,this.l,L,"[Invalid Chunk]"),f=!1;break}else po(this.i,this.l,un,null),gf(this,un);if(k0(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),It!=4||L.length!=0||this.h.h||(this.s=1,Rt(16),f=!1),this.o=this.o&&f,!f)po(this.i,this.l,L,"[Invalid Chunked Response]"),yi(this),la(this);else if(0<L.length&&!this.W){this.W=!0;var Et=this.j;Et.g==this&&Et.ba&&!Et.M&&(Et.j.info("Great, no buffering proxy detected. Bytes received: "+L.length),Ef(Et),Et.M=!0,Rt(11))}}else po(this.i,this.l,L,null),gf(this,L);It==4&&yi(this),this.o&&!this.J&&(It==4?cw(this.j,this):(this.o=!1,au(this)))}else hx(this.g),f==400&&0<L.indexOf("Unknown SID")?(this.s=3,Rt(12)):(this.s=0,Rt(13)),yi(this),la(this)}}}catch{}finally{}};function k0(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function QM(c,d){var f=c.C,g=d.indexOf(`
`,f);return g==-1?hf:(f=Number(d.substring(f,g)),isNaN(f)?N0:(g+=1,g+f>d.length?hf:(d=d.slice(g,g+f),c.C=g+f,d)))}xr.prototype.cancel=function(){this.J=!0,yi(this)};function au(c){c.S=Date.now()+c.I,F0(c,c.I)}function F0(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ca(m(c.ba,c),d)}function pf(c){c.B&&(a.clearTimeout(c.B),c.B=null)}xr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(WM(this.i,this.A),this.L!=2&&(aa(),Rt(17)),yi(this),this.s=2,la(this)):F0(this,this.S-c)};function la(c){c.j.G==0||c.J||cw(c.j,c)}function yi(c){pf(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,b0(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function gf(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||mf(f.h,c))){if(!c.K&&mf(f.h,c)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var b=g;if(b[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)gu(f),fu(f);else break e;wf(f),Rt(18)}}else f.za=b[1],0<f.za-f.T&&37500>b[2]&&f.F&&f.v==0&&!f.C&&(f.C=ca(m(f.Za,f),6e3));if(1>=U0(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else _i(f,11)}else if((c.K||f.g==c)&&gu(f),!K(d))for(b=f.Da.g.parse(d),d=0;d<b.length;d++){let be=b[d];if(f.T=be[0],be=be[1],f.G==2)if(be[0]=="c"){f.K=be[1],f.ia=be[2];let Et=be[3];Et!=null&&(f.la=Et,f.j.info("VER="+f.la));let It=be[4];It!=null&&(f.Aa=It,f.j.info("SVER="+f.Aa));let yo=be[5];yo!=null&&typeof yo=="number"&&0<yo&&(g=1.5*yo,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let un=c.g;if(un){let yu=un.g?un.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(yu){var x=g.h;x.g||yu.indexOf("spdy")==-1&&yu.indexOf("quic")==-1&&yu.indexOf("h2")==-1||(x.j=x.l,x.g=new Set,x.h&&(yf(x,x.h),x.h=null))}if(g.D){let If=un.g?un.g.getResponseHeader("X-HTTP-Session-Id"):null;If&&(g.ya=If,Fe(g.I,g.D,If))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var L=c;if(g.qa=dw(g,g.J?g.ia:null,g.W),L.K){j0(g.h,L);var Pe=L,ht=g.L;ht&&(Pe.I=ht),Pe.B&&(pf(Pe),au(Pe)),g.g=L}else sw(g);0<f.i.length&&pu(f)}else be[0]!="stop"&&be[0]!="close"||_i(f,7);else f.G==3&&(be[0]=="stop"||be[0]=="close"?be[0]=="stop"?_i(f,7):_f(f):be[0]!="noop"&&f.l&&f.l.ta(be),f.v=0)}}aa(4)}catch{}}var YM=class{constructor(c,d){this.g=c,this.map=d}};function V0(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function L0(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function U0(c){return c.h?1:c.g?c.g.size:0}function mf(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function yf(c,d){c.g?c.g.add(d):c.h=d}function j0(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}V0.prototype.cancel=function(){if(this.i=B0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function B0(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return P(c.i)}function JM(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,g=0;g<f;g++)d.push(c[g]);return d}d=[],f=0;for(g in c)d[f++]=c[g];return d}function ZM(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let g in c)d[f++]=g;return d}}}function $0(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=ZM(c),g=JM(c),b=g.length,x=0;x<b;x++)d.call(void 0,g[x],f&&f[x],c)}var H0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function XM(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var g=c[f].indexOf("="),b=null;if(0<=g){var x=c[f].substring(0,g);b=c[f].substring(g+1)}else x=c[f];d(x,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function vi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof vi){this.h=c.h,cu(this,c.j),this.o=c.o,this.g=c.g,uu(this,c.s),this.l=c.l;var d=c.i,f=new fa;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),z0(this,f),this.m=c.m}else c&&(d=String(c).match(H0))?(this.h=!1,cu(this,d[1]||"",!0),this.o=da(d[2]||""),this.g=da(d[3]||"",!0),uu(this,d[4]),this.l=da(d[5]||"",!0),z0(this,d[6]||"",!0),this.m=da(d[7]||"")):(this.h=!1,this.i=new fa(null,this.h))}vi.prototype.toString=function(){var c=[],d=this.j;d&&c.push(ha(d,q0,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(ha(d,q0,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(ha(f,f.charAt(0)=="/"?nx:tx,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",ha(f,ix)),c.join("")};function Zn(c){return new vi(c)}function cu(c,d,f){c.j=f?da(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function uu(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function z0(c,d,f){d instanceof fa?(c.i=d,ox(c.i,c.h)):(f||(d=ha(d,rx)),c.i=new fa(d,c.h))}function Fe(c,d,f){c.i.set(d,f)}function lu(c){return Fe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function da(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ha(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,ex),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function ex(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var q0=/[#\/\?@]/g,tx=/[#\?:]/g,nx=/[#\?]/g,rx=/[#\?@]/g,ix=/#/g;function fa(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function Rr(c){c.g||(c.g=new Map,c.h=0,c.i&&XM(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=fa.prototype,t.add=function(c,d){Rr(this),this.i=null,c=go(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function G0(c,d){Rr(c),d=go(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function W0(c,d){return Rr(c),d=go(c,d),c.g.has(d)}t.forEach=function(c,d){Rr(this),this.g.forEach(function(f,g){f.forEach(function(b){c.call(d,b,g,this)},this)},this)},t.na=function(){Rr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let b=c[g];for(let x=0;x<b.length;x++)f.push(d[g])}return f},t.V=function(c){Rr(this);let d=[];if(typeof c=="string")W0(this,c)&&(d=d.concat(this.g.get(go(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},t.set=function(c,d){return Rr(this),this.i=null,c=go(this,c),W0(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function K0(c,d,f){G0(c,d),0<f.length&&(c.i=null,c.g.set(go(c,d),P(f)),c.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let x=encodeURIComponent(String(g)),L=this.V(g);for(g=0;g<L.length;g++){var b=x;L[g]!==""&&(b+="="+encodeURIComponent(String(L[g]))),c.push(b)}}return this.i=c.join("&")};function go(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function ox(c,d){d&&!c.j&&(Rr(c),c.i=null,c.g.forEach(function(f,g){var b=g.toLowerCase();g!=b&&(G0(this,g),K0(this,b,f))},c)),c.j=d}function sx(c,d){let f=new ua;if(a.Image){let g=new Image;g.onload=y(Pr,f,"TestLoadImage: loaded",!0,d,g),g.onerror=y(Pr,f,"TestLoadImage: error",!1,d,g),g.onabort=y(Pr,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=y(Pr,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function ax(c,d){let f=new ua,g=new AbortController,b=setTimeout(()=>{g.abort(),Pr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(x=>{clearTimeout(b),x.ok?Pr(f,"TestPingServer: ok",!0,d):Pr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(b),Pr(f,"TestPingServer: error",!1,d)})}function Pr(c,d,f,g,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),g(f)}catch{}}function cx(){this.g=new zM}function ux(c,d,f){let g=f||"";try{$0(c,function(b,x){let L=b;l(b)&&(L=af(b)),d.push(g+x+"="+encodeURIComponent(L))})}catch(b){throw d.push(g+"type="+encodeURIComponent("_badmap")),b}}function pa(c){this.l=c.Ub||null,this.j=c.eb||!1}T(pa,cf),pa.prototype.g=function(){return new du(this.l,this.j)},pa.prototype.i=function(c){return function(){return c}}({});function du(c,d){wt.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(du,wt),t=du.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,ma(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ga(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ma(this)),this.g&&(this.readyState=3,ma(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Q0(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Q0(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?ga(this):ma(this),this.readyState==3&&Q0(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,ga(this))},t.Qa=function(c){this.g&&(this.response=c,ga(this))},t.ga=function(){this.g&&ga(this)};function ga(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ma(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function ma(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(du.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Y0(c){let d="";return te(c,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function vf(c,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=Y0(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Fe(c,d,f))}function $e(c){wt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T($e,wt);var lx=/^https?$/i,dx=["POST","PUT"];t=$e.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():df.g(),this.v=this.o?D0(this.o):D0(df),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(x){J0(this,x);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var b in g)f.set(b,g[b]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let x of g.keys())f.set(x,g.get(x));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(x=>x.toLowerCase()=="content-type"),b=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(dx,d,void 0))||g||b||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[x,L]of f)this.g.setRequestHeader(x,L);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ew(this),this.u=!0,this.g.send(c),this.u=!1}catch(x){J0(this,x)}};function J0(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,Z0(c),hu(c)}function Z0(c){c.A||(c.A=!0,xt(c,"complete"),xt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,xt(this,"complete"),xt(this,"abort"),hu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hu(this,!0)),$e.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?X0(this):this.bb())},t.bb=function(){X0(this)};function X0(c){if(c.h&&typeof s<"u"&&(!c.v[1]||Xn(c)!=4||c.Z()!=2)){if(c.u&&Xn(c)==4)E0(c.Ea,0,c);else if(xt(c,"readystatechange"),Xn(c)==4){c.h=!1;try{let L=c.Z();e:switch(L){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=L===0){var b=String(c.D).match(H0)[1]||null;!b&&a.self&&a.self.location&&(b=a.self.location.protocol.slice(0,-1)),g=!lx.test(b?b.toLowerCase():"")}f=g}if(f)xt(c,"complete"),xt(c,"success");else{c.m=6;try{var x=2<Xn(c)?c.g.statusText:""}catch{x=""}c.l=x+" ["+c.Z()+"]",Z0(c)}}finally{hu(c)}}}}function hu(c,d){if(c.g){ew(c);let f=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||xt(c,"ready");try{f.onreadystatechange=g}catch{}}}function ew(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Xn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Xn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),HM(d)}};function tw(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function hx(c){let d={};c=(c.g&&2<=Xn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(K(c[g]))continue;var f=C(c[g]);let b=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let x=d[b]||[];d[b]=x,x.push(f)}E(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ya(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function nw(c){this.Aa=0,this.i=[],this.j=new ua,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ya("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ya("baseRetryDelayMs",5e3,c),this.cb=ya("retryDelaySeedMs",1e4,c),this.Wa=ya("forwardChannelMaxRetries",2,c),this.wa=ya("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new V0(c&&c.concurrentRequestLimit),this.Da=new cx,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=nw.prototype,t.la=8,t.G=1,t.connect=function(c,d,f,g){Rt(0),this.W=c,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=dw(this,null,this.W),pu(this)};function _f(c){if(rw(c),c.G==3){var d=c.U++,f=Zn(c.I);if(Fe(f,"SID",c.K),Fe(f,"RID",d),Fe(f,"TYPE","terminate"),va(c,f),d=new xr(c,c.j,d),d.L=2,d.v=lu(Zn(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=hw(d.j,null),d.g.ea(d.v)),d.F=Date.now(),au(d)}lw(c)}function fu(c){c.g&&(Ef(c),c.g.cancel(),c.g=null)}function rw(c){fu(c),c.u&&(a.clearTimeout(c.u),c.u=null),gu(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function pu(c){if(!L0(c.h)&&!c.s){c.s=!0;var d=c.Ga;ta||g0(),na||(ta(),na=!0),Jh.add(d,c),c.B=0}}function fx(c,d){return U0(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ca(m(c.Ga,c,d),uw(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let b=new xr(this,this.j,c),x=this.o;if(this.S&&(x?(x=v(x),I(x,this.S)):x=this.S),this.m!==null||this.O||(b.H=x,x=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=ow(this,b,d),f=Zn(this.I),Fe(f,"RID",c),Fe(f,"CVER",22),this.D&&Fe(f,"X-HTTP-Session-Id",this.D),va(this,f),x&&(this.O?d="headers="+encodeURIComponent(String(Y0(x)))+"&"+d:this.m&&vf(f,this.m,x)),yf(this.h,b),this.Ua&&Fe(f,"TYPE","init"),this.P?(Fe(f,"$req",d),Fe(f,"SID","null"),b.T=!0,ff(b,f,null)):ff(b,f,d),this.G=2}}else this.G==3&&(c?iw(this,c):this.i.length==0||L0(this.h)||iw(this))};function iw(c,d){var f;d?f=d.l:f=c.U++;let g=Zn(c.I);Fe(g,"SID",c.K),Fe(g,"RID",f),Fe(g,"AID",c.T),va(c,g),c.m&&c.o&&vf(g,c.m,c.o),f=new xr(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=ow(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),yf(c.h,f),ff(f,g,d)}function va(c,d){c.H&&te(c.H,function(f,g){Fe(d,g,f)}),c.l&&$0({},function(f,g){Fe(d,g,f)})}function ow(c,d,f){f=Math.min(c.i.length,f);var g=c.l?m(c.l.Na,c.l,c):null;e:{var b=c.i;let x=-1;for(;;){let L=["count="+f];x==-1?0<f?(x=b[0].g,L.push("ofs="+x)):x=0:L.push("ofs="+x);let Pe=!0;for(let ht=0;ht<f;ht++){let be=b[ht].g,Et=b[ht].map;if(be-=x,0>be)x=Math.max(0,b[ht].g-100),Pe=!1;else try{ux(Et,L,"req"+be+"_")}catch{g&&g(Et)}}if(Pe){g=L.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,g}function sw(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;ta||g0(),na||(ta(),na=!0),Jh.add(d,c),c.v=0}}function wf(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ca(m(c.Fa,c),uw(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,aw(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ca(m(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Rt(10),fu(this),aw(this))};function Ef(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function aw(c){c.g=new xr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=Zn(c.qa);Fe(d,"RID","rpc"),Fe(d,"SID",c.K),Fe(d,"AID",c.T),Fe(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Fe(d,"TO",c.ja),Fe(d,"TYPE","xmlhttp"),va(c,d),c.m&&c.o&&vf(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=lu(Zn(d)),f.m=null,f.P=!0,O0(f,c)}t.Za=function(){this.C!=null&&(this.C=null,fu(this),wf(this),Rt(19))};function gu(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function cw(c,d){var f=null;if(c.g==d){gu(c),Ef(c),c.g=null;var g=2}else if(mf(c.h,d))f=d.D,j0(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var b=c.B;g=iu(),xt(g,new x0(g,f)),pu(c)}else sw(c);else if(b=d.s,b==3||b==0&&0<d.X||!(g==1&&fx(c,d)||g==2&&wf(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),b){case 1:_i(c,5);break;case 4:_i(c,10);break;case 3:_i(c,6);break;default:_i(c,2)}}}function uw(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function _i(c,d){if(c.j.info("Error code "+d),d==2){var f=m(c.fb,c),g=c.Xa;let b=!g;g=new vi(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||cu(g,"https"),lu(g),b?sx(g.toString(),f):ax(g.toString(),f)}else Rt(2);c.G=0,c.l&&c.l.sa(d),lw(c),rw(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Rt(2)):(this.j.info("Failed to ping google.com"),Rt(1))};function lw(c){if(c.G=0,c.ka=[],c.l){let d=B0(c.h);(d.length!=0||c.i.length!=0)&&(R(c.ka,d),R(c.ka,c.i),c.h.i.length=0,P(c.i),c.i.length=0),c.l.ra()}}function dw(c,d,f){var g=f instanceof vi?Zn(f):new vi(f);if(g.g!="")d&&(g.g=d+"."+g.g),uu(g,g.s);else{var b=a.location;g=b.protocol,d=d?d+"."+b.hostname:b.hostname,b=+b.port;var x=new vi(null);g&&cu(x,g),d&&(x.g=d),b&&uu(x,b),f&&(x.l=f),g=x}return f=c.D,d=c.ya,f&&d&&Fe(g,f,d),Fe(g,"VER",c.la),va(c,g),g}function hw(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new $e(new pa({eb:f})):new $e(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function fw(){}t=fw.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function mu(){}mu.prototype.g=function(c,d){return new zt(c,d)};function zt(c,d){wt.call(this),this.g=new nw(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!K(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!K(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new mo(this)}T(zt,wt),zt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},zt.prototype.close=function(){_f(this.g)},zt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=af(c),c=f);d.i.push(new YM(d.Ya++,c)),d.G==3&&pu(d)},zt.prototype.N=function(){this.g.l=null,delete this.j,_f(this.g),delete this.g,zt.aa.N.call(this)};function pw(c){uf.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}T(pw,uf);function gw(){lf.call(this),this.status=1}T(gw,lf);function mo(c){this.g=c}T(mo,fw),mo.prototype.ua=function(){xt(this.g,"a")},mo.prototype.ta=function(c){xt(this.g,new pw(c))},mo.prototype.sa=function(c){xt(this.g,new gw)},mo.prototype.ra=function(){xt(this.g,"b")},mu.prototype.createWebChannel=mu.prototype.g,zt.prototype.send=zt.prototype.o,zt.prototype.open=zt.prototype.m,zt.prototype.close=zt.prototype.close,sv=Er.createWebChannelTransport=function(){return new mu},ov=Er.getStatEventTarget=function(){return iu()},iv=Er.Event=mi,oh=Er.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ou.NO_ERROR=0,ou.TIMEOUT=8,ou.HTTP_ERROR=6,Pc=Er.ErrorCode=ou,R0.COMPLETE="complete",rv=Er.EventType=R0,T0.EventType=sa,sa.OPEN="a",sa.CLOSE="b",sa.ERROR="c",sa.MESSAGE="d",wt.prototype.listen=wt.prototype.K,Ms=Er.WebChannel=T0,xU=Er.FetchXmlHttpFactory=pa,$e.prototype.listenOnce=$e.prototype.L,$e.prototype.getLastError=$e.prototype.Ka,$e.prototype.getLastErrorCode=$e.prototype.Ba,$e.prototype.getStatus=$e.prototype.Z,$e.prototype.getResponseJson=$e.prototype.Oa,$e.prototype.getResponseText=$e.prototype.oa,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Ha,nv=Er.XhrIo=$e}).apply(typeof ih<"u"?ih:typeof self<"u"?self:typeof window<"u"?window:{});var MS="@firebase/firestore";var dt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};dt.UNAUTHENTICATED=new dt(null),dt.GOOGLE_CREDENTIALS=new dt("google-credentials-uid"),dt.FIRST_PARTY=new dt("first-party-uid"),dt.MOCK_USER=new dt("mock-user");var Ys="10.14.0";var io=new jn("@firebase/firestore");function Nc(){return io.logLevel}function z(t,...e){if(io.logLevel<=ve.DEBUG){let n=e.map($_);io.debug(`Firestore (${Ys}): ${t}`,...n)}}function Dr(t,...e){if(io.logLevel<=ve.ERROR){let n=e.map($_);io.error(`Firestore (${Ys}): ${t}`,...n)}}function Fs(t,...e){if(io.logLevel<=ve.WARN){let n=e.map($_);io.warn(`Firestore (${Ys}): ${t}`,...n)}}function $_(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function oe(t="Unexpected state"){let e=`FIRESTORE (${Ys}) INTERNAL ASSERTION FAILED: `+t;throw Dr(e),new Error(e)}function xe(t,e){t||oe()}function ae(t,e){return t}var O={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Q=class extends sn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Ir=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var lh=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},dv=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(dt.UNAUTHENTICATED))}shutdown(){}},hv=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},fv=class{constructor(e){this.t=e,this.currentUser=dt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){xe(this.o===void 0);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new Ir;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ir,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>S(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(z("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ir)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(xe(typeof r.accessToken=="string"),new lh(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return xe(e===null||typeof e=="string"),new dt(e)}},pv=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=dt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},gv=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new pv(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(dt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},mv=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},yv=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){xe(this.o===void 0);let r=o=>{o.error!=null&&z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,z("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(xe(typeof n.token=="string"),this.R=n.token,new mv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function RU(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var dh=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=RU(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}};function Te(t,e){return t<e?-1:t>e?1:0}function Vs(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var vt=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Q(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Q(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Q(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Q(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Te(this.nanoseconds,e.nanoseconds):Te(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ue=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new vt(0,0))}static max(){return new t(new vt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var hh=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&oe(),r===void 0?r=e.length-n:r>e.length-n&&oe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Qe=class t extends hh{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new Q(O.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},PU=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Xt=class t extends hh{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return PU.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new Q(O.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new Q(O.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Q(O.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Q(O.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var ee=class t{constructor(e){this.path=e}static fromPath(e){return new t(Qe.fromString(e))}static fromName(e){return new t(Qe.fromString(e).popFirst(5))}static empty(){return new t(Qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Qe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Qe(e.slice()))}};var vv=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};vv.UNKNOWN_ID=-1;function NU(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ue.fromTimestamp(r===1e9?new vt(n+1,0):new vt(n,r));return new oo(i,ee.empty(),e)}function OU(t){return new oo(t.readTime,t.key,-1)}var oo=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(ue.min(),ee.empty(),-1)}static max(){return new t(ue.max(),ee.empty(),-1)}};function kU(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ee.comparator(t.documentKey,e.documentKey),n!==0?n:Te(t.largestBatchId,e.largestBatchId))}var FU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",_v=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Jc(t){return S(this,null,function*(){if(t.code!==O.FAILED_PRECONDITION||t.message!==FU)throw t;z("LocalStore","Unexpectedly lost primary lease")})}var V=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&oe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;n(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function VU(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Zc(t){return t.name==="IndexedDbTransactionError"}var cA=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function Bh(t){return t==null}function Uc(t){return t===0&&1/t==-1/0}function LU(t){return typeof t=="number"&&Number.isInteger(t)&&!Uc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var UU=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],hK=[...UU,"documentOverlays"],jU=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],BU=jU,$U=[...BU,"indexConfiguration","indexState","indexEntries"];var fK=[...$U,"globals"];function xS(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function lo(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function uA(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Ye=class t{constructor(e,n){this.comparator=e,this.root=n||qn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,qn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ns(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ns(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ns(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ns(this.root,e,this.comparator,!0)}},Ns=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},qn=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw oe();let e=this.left.check();if(e!==this.right.check())throw oe();return e+(this.isRed()?0:1)}};qn.EMPTY=null,qn.RED=!0,qn.BLACK=!1;qn.EMPTY=new class{constructor(){this.size=0}get key(){throw oe()}get value(){throw oe()}get color(){throw oe()}get left(){throw oe()}get right(){throw oe()}copy(e,n,r,i,o){return this}insert(e,n,r){return new qn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var At=class t{constructor(e){this.comparator=e,this.data=new Ye(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new fh(this.data.getIterator())}getIteratorFrom(e){return new fh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},fh=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var cn=class t{constructor(e){this.fields=e,e.sort(Xt.comparator)}static empty(){return new t([])}unionWith(e){let n=new At(Xt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Vs(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var ph=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Mt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new ph("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Te(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Mt.EMPTY_BYTE_STRING=new Mt("");var HU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Tr(t){if(xe(!!t),typeof t=="string"){let e=0,n=HU.exec(t);if(xe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:je(t.seconds),nanos:je(t.nanos)}}function je(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function di(t){return typeof t=="string"?Mt.fromBase64String(t):Mt.fromUint8Array(t)}function H_(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function z_(t){let e=t.mapValue.fields.__previous_value__;return H_(e)?z_(e):e}function jc(t){let e=Tr(t.mapValue.fields.__local_write_time__.timestampValue);return new vt(e.seconds,e.nanos)}var wv=class{constructor(e,n,r,i,o,s,a,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}},gh=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var sh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function so(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?H_(t)?4:dA(t)?9007199254740991:lA(t)?10:11:oe()}function Kn(t,e){if(t===e)return!0;let n=so(t);if(n!==so(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return jc(t).isEqual(jc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Tr(i.timestampValue),a=Tr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return di(i.bytesValue).isEqual(di(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return je(i.geoPointValue.latitude)===je(o.geoPointValue.latitude)&&je(i.geoPointValue.longitude)===je(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return je(i.integerValue)===je(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=je(i.doubleValue),a=je(o.doubleValue);return s===a?Uc(s)===Uc(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Vs(t.arrayValue.values||[],e.arrayValue.values||[],Kn);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(xS(s)!==xS(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!Kn(s[u],a[u])))return!1;return!0}(t,e);default:return oe()}}function Bc(t,e){return(t.values||[]).find(n=>Kn(n,e))!==void 0}function Ls(t,e){if(t===e)return 0;let n=so(t),r=so(e);if(n!==r)return Te(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Te(t.booleanValue,e.booleanValue);case 2:return function(o,s){let a=je(o.integerValue||o.doubleValue),u=je(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return RS(t.timestampValue,e.timestampValue);case 4:return RS(jc(t),jc(e));case 5:return Te(t.stringValue,e.stringValue);case 6:return function(o,s){let a=di(o),u=di(s);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=Te(a[l],u[l]);if(h!==0)return h}return Te(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let a=Te(je(o.latitude),je(s.latitude));return a!==0?a:Te(je(o.longitude),je(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return PS(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,l,h;let p=o.fields||{},m=s.fields||{},y=(a=p.value)===null||a===void 0?void 0:a.arrayValue,T=(u=m.value)===null||u===void 0?void 0:u.arrayValue,P=Te(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((h=T?.values)===null||h===void 0?void 0:h.length)||0);return P!==0?P:PS(y,T)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===sh.mapValue&&s===sh.mapValue)return 0;if(o===sh.mapValue)return 1;if(s===sh.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=Te(u[p],h[p]);if(m!==0)return m;let y=Ls(a[u[p]],l[h[p]]);if(y!==0)return y}return Te(u.length,h.length)}(t.mapValue,e.mapValue);default:throw oe()}}function RS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Te(t,e);let n=Tr(t),r=Tr(e),i=Te(n.seconds,r.seconds);return i!==0?i:Te(n.nanos,r.nanos)}function PS(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=Ls(n[i],r[i]);if(o)return o}return Te(n.length,r.length)}function Us(t){return Ev(t)}function Ev(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Tr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return di(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ee.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=Ev(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${Ev(n.fields[s])}`;return i+"}"}(t.mapValue):oe()}function Iv(t){return!!t&&"integerValue"in t}function q_(t){return!!t&&"arrayValue"in t}function NS(t){return!!t&&"nullValue"in t}function OS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ch(t){return!!t&&"mapValue"in t}function lA(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function kc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return lo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=kc(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=kc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function dA(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Zt=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ch(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=kc(n)}setAll(e){let n=Xt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=kc(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());ch(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Kn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];ch(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){lo(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(kc(this.value))}};function hA(t){let e=[];return lo(t.fields,(n,r)=>{let i=new Xt([n]);if(ch(r)){let o=hA(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new cn(e)}var Cn=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,ue.min(),ue.min(),ue.min(),Zt.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,ue.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,ue.min(),ue.min(),Zt.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,ue.min(),ue.min(),Zt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var js=class{constructor(e,n){this.position=e,this.inclusive=n}};function kS(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=ee.comparator(ee.fromName(s.referenceValue),n.key):r=Ls(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function FS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Kn(t.position[n],e.position[n]))return!1;return!0}var Bs=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function zU(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var mh=class{},st=class t extends mh{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new bv(e,n,r):n==="array-contains"?new Sv(e,r):n==="in"?new Av(e,r):n==="not-in"?new Mv(e,r):n==="array-contains-any"?new xv(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Dv(e,r):new Tv(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ls(n,this.value)):n!==null&&so(this.value)===so(n)&&this.matchesComparison(Ls(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return oe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Qn=class t extends mh{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return fA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function fA(t){return t.op==="and"}function pA(t){return qU(t)&&fA(t)}function qU(t){for(let e of t.filters)if(e instanceof Qn)return!1;return!0}function Cv(t){if(t instanceof st)return t.field.canonicalString()+t.op.toString()+Us(t.value);if(pA(t))return t.filters.map(e=>Cv(e)).join(",");{let e=t.filters.map(n=>Cv(n)).join(",");return`${t.op}(${e})`}}function gA(t,e){return t instanceof st?function(r,i){return i instanceof st&&r.op===i.op&&r.field.isEqual(i.field)&&Kn(r.value,i.value)}(t,e):t instanceof Qn?function(r,i){return i instanceof Qn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&gA(s,i.filters[a]),!0):!1}(t,e):void oe()}function mA(t){return t instanceof st?function(n){return`${n.field.canonicalString()} ${n.op} ${Us(n.value)}`}(t):t instanceof Qn?function(n){return n.op.toString()+" {"+n.getFilters().map(mA).join(" ,")+"}"}(t):"Filter"}var bv=class extends st{constructor(e,n,r){super(e,n,r),this.key=ee.fromName(r.referenceValue)}matches(e){let n=ee.comparator(e.key,this.key);return this.matchesComparison(n)}},Dv=class extends st{constructor(e,n){super(e,"in",n),this.keys=yA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Tv=class extends st{constructor(e,n){super(e,"not-in",n),this.keys=yA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function yA(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ee.fromName(r.referenceValue))}var Sv=class extends st{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return q_(n)&&Bc(n.arrayValue,this.value)}},Av=class extends st{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Bc(this.value.arrayValue,n)}},Mv=class extends st{constructor(e,n){super(e,"not-in",n)}matches(e){if(Bc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Bc(this.value.arrayValue,n)}},xv=class extends st{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!q_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Bc(this.value.arrayValue,r))}};var Rv=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}};function VS(t,e=null,n=[],r=[],i=null,o=null,s=null){return new Rv(t,e,n,r,i,o,s)}function G_(t){let e=ae(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Cv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Bh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Us(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Us(r)).join(",")),e.ue=n}return e.ue}function W_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!zU(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!gA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!FS(t.startAt,e.startAt)&&FS(t.endAt,e.endAt)}function Pv(t){return ee.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var $s=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function GU(t,e,n,r,i,o,s,a){return new $s(t,e,n,r,i,o,s,a)}function K_(t){return new $s(t)}function LS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function WU(t){return t.collectionGroup!==null}function Fc(t){let e=ae(t);if(e.ce===null){e.ce=[];let n=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new At(Xt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Bs(o,r))}),n.has(Xt.keyField().canonicalString())||e.ce.push(new Bs(Xt.keyField(),r))}return e.ce}function Gn(t){let e=ae(t);return e.le||(e.le=KU(e,Fc(t))),e.le}function KU(t,e){if(t.limitType==="F")return VS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Bs(i.field,o)});let n=t.endAt?new js(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new js(t.startAt.position,t.startAt.inclusive):null;return VS(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Nv(t,e,n){return new $s(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function $h(t,e){return W_(Gn(t),Gn(e))&&t.limitType===e.limitType}function vA(t){return`${G_(Gn(t))}|lt:${t.limitType}`}function xs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>mA(i)).join(", ")}]`),Bh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Us(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Us(i)).join(",")),`Target(${r})`}(Gn(t))}; limitType=${t.limitType})`}function Hh(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ee.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of Fc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){let l=kS(s,a,u);return s.inclusive?l<=0:l<0}(r.startAt,Fc(r),i)||r.endAt&&!function(s,a,u){let l=kS(s,a,u);return s.inclusive?l>=0:l>0}(r.endAt,Fc(r),i))}(t,e)}function QU(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function _A(t){return(e,n)=>{let r=!1;for(let i of Fc(t)){let o=YU(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function YU(t,e,n){let r=t.field.isKeyField()?ee.comparator(e.key,n.key):function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?Ls(u,l):oe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return oe()}}var hi=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){lo(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return uA(this.inner)}size(){return this.innerSize}};var JU=new Ye(ee.comparator);function Sr(){return JU}var wA=new Ye(ee.comparator);function Oc(...t){let e=wA;for(let n of t)e=e.insert(n.key,n);return e}function EA(t){let e=wA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function to(){return Vc()}function IA(){return Vc()}function Vc(){return new hi(t=>t.toString(),(t,e)=>t.isEqual(e))}var ZU=new Ye(ee.comparator),XU=new At(ee.comparator);function _e(...t){let e=XU;for(let n of t)e=e.add(n);return e}var ej=new At(Te);function tj(){return ej}function Q_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Uc(e)?"-0":e}}function CA(t){return{integerValue:""+t}}function nj(t,e){return LU(e)?CA(e):Q_(t,e)}var Hs=class{constructor(){this._=void 0}};function rj(t,e,n){return t instanceof zs?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&H_(o)&&(o=z_(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof ao?DA(t,e):t instanceof co?TA(t,e):function(i,o){let s=bA(i,o),a=US(s)+US(i.Pe);return Iv(s)&&Iv(i.Pe)?CA(a):Q_(i.serializer,a)}(t,e)}function ij(t,e,n){return t instanceof ao?DA(t,e):t instanceof co?TA(t,e):n}function bA(t,e){return t instanceof qs?function(r){return Iv(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var zs=class extends Hs{},ao=class extends Hs{constructor(e){super(),this.elements=e}};function DA(t,e){let n=SA(e);for(let r of t.elements)n.some(i=>Kn(i,r))||n.push(r);return{arrayValue:{values:n}}}var co=class extends Hs{constructor(e){super(),this.elements=e}};function TA(t,e){let n=SA(e);for(let r of t.elements)n=n.filter(i=>!Kn(i,r));return{arrayValue:{values:n}}}var qs=class extends Hs{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function US(t){return je(t.integerValue||t.doubleValue)}function SA(t){return q_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function oj(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof ao&&i instanceof ao||r instanceof co&&i instanceof co?Vs(r.elements,i.elements,Kn):r instanceof qs&&i instanceof qs?Kn(r.Pe,i.Pe):r instanceof zs&&i instanceof zs}(t.transform,e.transform)}var Ov=class{constructor(e,n){this.version=e,this.transformResults=n}},Cr=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function uh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Gs=class{};function AA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new $c(t.key,Cr.none()):new uo(t.key,t.data,Cr.none());{let n=t.data,r=Zt.empty(),i=new At(Xt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Yn(t.key,r,new cn(i.toArray()),Cr.none())}}function sj(t,e,n){t instanceof uo?function(i,o,s){let a=i.value.clone(),u=BS(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Yn?function(i,o,s){if(!uh(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=BS(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(MA(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Lc(t,e,n,r){return t instanceof uo?function(o,s,a,u){if(!uh(o.precondition,s))return a;let l=o.value.clone(),h=$S(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Yn?function(o,s,a,u){if(!uh(o.precondition,s))return a;let l=$S(o.fieldTransforms,u,s),h=s.data;return h.setAll(MA(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(o,s,a){return uh(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function aj(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=bA(r.transform,i||null);o!=null&&(n===null&&(n=Zt.empty()),n.set(r.field,o))}return n||null}function jS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Vs(r,i,(o,s)=>oj(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var uo=class extends Gs{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Yn=class extends Gs{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function MA(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function BS(t,e,n){let r=new Map;xe(t.length===n.length);for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,ij(s,a,n[i]))}return r}function $S(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,rj(o,s,e))}return r}var $c=class extends Gs{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},kv=class extends Gs{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Fv=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&sj(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Lc(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Lc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=IA();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let u=AA(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(ue.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),_e())}isEqual(e){return this.batchId===e.batchId&&Vs(this.mutations,e.mutations,(n,r)=>jS(n,r))&&Vs(this.baseMutations,e.baseMutations,(n,r)=>jS(n,r))}},Vv=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){xe(e.mutations.length===r.length);let i=function(){return ZU}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var Lv=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Uv=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var tt,Ce;function cj(t){switch(t){default:return oe();case O.CANCELLED:case O.UNKNOWN:case O.DEADLINE_EXCEEDED:case O.RESOURCE_EXHAUSTED:case O.INTERNAL:case O.UNAVAILABLE:case O.UNAUTHENTICATED:return!1;case O.INVALID_ARGUMENT:case O.NOT_FOUND:case O.ALREADY_EXISTS:case O.PERMISSION_DENIED:case O.FAILED_PRECONDITION:case O.ABORTED:case O.OUT_OF_RANGE:case O.UNIMPLEMENTED:case O.DATA_LOSS:return!0}}function xA(t){if(t===void 0)return Dr("GRPC error has no .code"),O.UNKNOWN;switch(t){case tt.OK:return O.OK;case tt.CANCELLED:return O.CANCELLED;case tt.UNKNOWN:return O.UNKNOWN;case tt.DEADLINE_EXCEEDED:return O.DEADLINE_EXCEEDED;case tt.RESOURCE_EXHAUSTED:return O.RESOURCE_EXHAUSTED;case tt.INTERNAL:return O.INTERNAL;case tt.UNAVAILABLE:return O.UNAVAILABLE;case tt.UNAUTHENTICATED:return O.UNAUTHENTICATED;case tt.INVALID_ARGUMENT:return O.INVALID_ARGUMENT;case tt.NOT_FOUND:return O.NOT_FOUND;case tt.ALREADY_EXISTS:return O.ALREADY_EXISTS;case tt.PERMISSION_DENIED:return O.PERMISSION_DENIED;case tt.FAILED_PRECONDITION:return O.FAILED_PRECONDITION;case tt.ABORTED:return O.ABORTED;case tt.OUT_OF_RANGE:return O.OUT_OF_RANGE;case tt.UNIMPLEMENTED:return O.UNIMPLEMENTED;case tt.DATA_LOSS:return O.DATA_LOSS;default:return oe()}}(Ce=tt||(tt={}))[Ce.OK=0]="OK",Ce[Ce.CANCELLED=1]="CANCELLED",Ce[Ce.UNKNOWN=2]="UNKNOWN",Ce[Ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ce[Ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ce[Ce.NOT_FOUND=5]="NOT_FOUND",Ce[Ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ce[Ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ce[Ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ce[Ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ce[Ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ce[Ce.ABORTED=10]="ABORTED",Ce[Ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ce[Ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ce[Ce.INTERNAL=13]="INTERNAL",Ce[Ce.UNAVAILABLE=14]="UNAVAILABLE",Ce[Ce.DATA_LOSS=15]="DATA_LOSS";var HS=null;function uj(){return new TextEncoder}var lj=new ui([4294967295,4294967295],0);function zS(t){let e=uj().encode(t),n=new tv;return n.update(e),new Uint8Array(n.digest())}function qS(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ui([n,r],0),new ui([i,o],0)]}var jv=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new no(`Invalid padding: ${n}`);if(r<0)throw new no(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new no(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new no(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=ui.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(ui.fromNumber(r)));return i.compare(lj)===1&&(i=new ui([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=zS(e),[r,i]=qS(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;let n=zS(e),[r,i]=qS(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},no=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var yh=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Hc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(ue.min(),i,new Ye(Te),Sr(),_e())}},Hc=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,_e(),_e(),_e())}};var Os=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},vh=class{constructor(e,n){this.targetId=e,this.me=n}},_h=class{constructor(e,n,r=Mt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},wh=class{constructor(){this.fe=0,this.ge=WS(),this.pe=Mt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=_e(),n=_e(),r=_e();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:oe()}}),new Hc(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=WS()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,xe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},Bv=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Sr(),this.qe=GS(),this.Qe=new Ye(Te)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:oe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let o=i.target;if(Pv(o))if(r===0){let s=new ee(o.path);this.Ue(n,s,Cn.newNoDocument(s,ue.min()))}else xe(r===1);else{let s=this.Ye(n);if(s!==r){let a=this.Ze(e),u=a?this.Xe(a,e,s):1;if(u!==0){this.je(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}HS?.et(function(h,p,m,y,T){var P,R,F,K,q,J;let Re={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},te=p.unchangedNames;return te&&(Re.bloomFilter={applied:T===0,hashCount:(P=te?.hashCount)!==null&&P!==void 0?P:0,bitmapLength:(K=(F=(R=te?.bits)===null||R===void 0?void 0:R.bitmap)===null||F===void 0?void 0:F.length)!==null&&K!==void 0?K:0,padding:(J=(q=te?.bits)===null||q===void 0?void 0:q.padding)!==null&&J!==void 0?J:0,mightContain:E=>{var v;return(v=y?.mightContain(E))!==null&&v!==void 0&&v}}),Re}(s,e.me,this.Le.tt(),a,u))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,a;try{s=di(r).toUint8Array()}catch(u){if(u instanceof ph)return Fs("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new jv(s,i,o)}catch(u){return Fs(u instanceof no?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((o,s)=>{let a=this.Je(s);if(a){if(o.current&&Pv(a.target)){let u=new ee(a.target.path);this.ke.get(u)!==null||this.it(s,u)||this.Ue(s,u,Cn.newNoDocument(u,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=_e();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let i=new yh(e,n,this.Qe,this.ke,r);return this.ke=Sr(),this.qe=GS(),this.Qe=new Ye(Te),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new wh,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new At(Te),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||z("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new wh),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function GS(){return new Ye(ee.comparator)}function WS(){return new Ye(ee.comparator)}var dj={asc:"ASCENDING",desc:"DESCENDING"},hj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fj={and:"AND",or:"OR"},$v=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function Hv(t,e){return t.useProto3Json||Bh(e)?e:{value:e}}function Eh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function RA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function pj(t,e){return Eh(t,e.toTimestamp())}function Wn(t){return xe(!!t),ue.fromTimestamp(function(n){let r=Tr(n);return new vt(r.seconds,r.nanos)}(t))}function Y_(t,e){return zv(t,e).canonicalString()}function zv(t,e){let n=function(i){return new Qe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function PA(t){let e=Qe.fromString(t);return xe(VA(e)),e}function qv(t,e){return Y_(t.databaseId,e.path)}function av(t,e){let n=PA(e);if(n.get(1)!==t.databaseId.projectId)throw new Q(O.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Q(O.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ee(OA(n))}function NA(t,e){return Y_(t.databaseId,e)}function gj(t){let e=PA(t);return e.length===4?Qe.emptyPath():OA(e)}function Gv(t){return new Qe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function OA(t){return xe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function KS(t,e,n){return{name:qv(t,e),fields:n.value.mapValue.fields}}function mj(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:oe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(xe(h===void 0||typeof h=="string"),Mt.fromBase64String(h||"")):(xe(h===void 0||h instanceof Buffer||h instanceof Uint8Array),Mt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let h=l.code===void 0?O.UNKNOWN:xA(l.code);return new Q(h,l.message||"")}(s);n=new _h(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=av(t,r.document.name),o=Wn(r.document.updateTime),s=r.document.createTime?Wn(r.document.createTime):ue.min(),a=new Zt({mapValue:{fields:r.document.fields}}),u=Cn.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];n=new Os(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=av(t,r.document),o=r.readTime?Wn(r.readTime):ue.min(),s=Cn.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Os([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=av(t,r.document),o=r.removedTargetIds||[];n=new Os([],o,i,null)}else{if(!("filter"in e))return oe();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new Uv(i,o),a=r.targetId;n=new vh(a,s)}}return n}function yj(t,e){let n;if(e instanceof uo)n={update:KS(t,e.key,e.value)};else if(e instanceof $c)n={delete:qv(t,e.key)};else if(e instanceof Yn)n={update:KS(t,e.key,e.data),updateMask:Tj(e.fieldMask)};else{if(!(e instanceof kv))return oe();n={verify:qv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof zs)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ao)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof co)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof qs)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw oe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:pj(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:oe()}(t,e.precondition)),n}function vj(t,e){return t&&t.length>0?(xe(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?Wn(i.updateTime):Wn(o);return s.isEqual(ue.min())&&(s=Wn(o)),new Ov(s,i.transformResults||[])}(n,e))):[]}function _j(t,e){return{documents:[NA(t,e.path)]}}function wj(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=NA(t,i);let o=function(l){if(l.length!==0)return FA(Qn.create(l,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(m){return{field:Rs(m.field),direction:Cj(m.dir)}}(h))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=Hv(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i}}function Ej(t){let e=gj(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){xe(r===1);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(p){let m=kA(p);return m instanceof Qn&&pA(m)?m.getFilters():[m]}(n.where));let s=[];n.orderBy&&(s=function(p){return p.map(m=>function(T){return new Bs(Ps(T.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(p){let m;return m=typeof p=="object"?p.value:p,Bh(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(p){let m=!!p.before,y=p.values||[];return new js(y,m)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let m=!p.before,y=p.values||[];return new js(y,m)}(n.endAt)),GU(e,i,s,o,a,"F",u,l)}function Ij(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return oe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function kA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Ps(n.unaryFilter.field);return st.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Ps(n.unaryFilter.field);return st.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Ps(n.unaryFilter.field);return st.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Ps(n.unaryFilter.field);return st.create(s,"!=",{nullValue:"NULL_VALUE"});default:return oe()}}(t):t.fieldFilter!==void 0?function(n){return st.create(Ps(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return oe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Qn.create(n.compositeFilter.filters.map(r=>kA(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return oe()}}(n.compositeFilter.op))}(t):oe()}function Cj(t){return dj[t]}function bj(t){return hj[t]}function Dj(t){return fj[t]}function Rs(t){return{fieldPath:t.canonicalString()}}function Ps(t){return Xt.fromServerFormat(t.fieldPath)}function FA(t){return t instanceof st?function(n){if(n.op==="=="){if(OS(n.value))return{unaryFilter:{field:Rs(n.field),op:"IS_NAN"}};if(NS(n.value))return{unaryFilter:{field:Rs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(OS(n.value))return{unaryFilter:{field:Rs(n.field),op:"IS_NOT_NAN"}};if(NS(n.value))return{unaryFilter:{field:Rs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Rs(n.field),op:bj(n.op),value:n.value}}}(t):t instanceof Qn?function(n){let r=n.getFilters().map(i=>FA(i));return r.length===1?r[0]:{compositeFilter:{op:Dj(n.op),filters:r}}}(t):oe()}function Tj(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function VA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var zc=class t{constructor(e,n,r,i,o=ue.min(),s=ue.min(),a=Mt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Wv=class{constructor(e){this.ct=e}};function Sj(t){let e=Ej({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Nv(e,e.limit,"L"):e}var Ih=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(je(e.integerValue));else if("doubleValue"in e){let r=je(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),Uc(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=Tr(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(di(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?dA(e)?this.dt(n,Number.MAX_SAFE_INTEGER):lA(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):oe()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let o=e.fields||{};this.dt(n,53);let s="value",a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(je(a)),this.Vt(s,n),this.Tt(o[s],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),ee.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};Ih.vt=new Ih;var Kv=class{constructor(){this.un=new Qv}addToCollectionParentIndex(e,n){return this.un.add(n),V.resolve()}getCollectionParents(e,n){return V.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return V.resolve()}deleteFieldIndex(e,n){return V.resolve()}deleteAllFieldIndexes(e){return V.resolve()}createTargetIndexes(e,n){return V.resolve()}getDocumentsMatchingTarget(e,n){return V.resolve(null)}getIndexType(e,n){return V.resolve(0)}getFieldIndexes(e,n){return V.resolve([])}getNextCollectionGroupToUpdate(e){return V.resolve(null)}getMinOffset(e,n){return V.resolve(oo.min())}getMinOffsetFromCollectionGroup(e,n){return V.resolve(oo.min())}updateCollectionGroup(e,n,r){return V.resolve()}updateIndexEntries(e,n){return V.resolve()}},Qv=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new At(Qe.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new At(Qe.comparator)).toArray()}};var gK=new Uint8Array(0);var zn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};zn.DEFAULT_COLLECTION_PERCENTILE=10,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zn.DEFAULT=new zn(41943040,zn.DEFAULT_COLLECTION_PERCENTILE,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zn.DISABLED=new zn(-1,0,0);var qc=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var Yv=class{constructor(){this.changes=new hi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Cn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?V.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Jv=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var Zv=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Lc(r.mutation,i,cn.empty(),vt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,_e()).next(()=>r))}getLocalViewOfDocuments(e,n,r=_e()){let i=to();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Oc();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=to();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,_e()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Sr(),s=Vc(),a=function(){return Vc()}();return n.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof Yn)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),Lc(h.mutation,l,h.mutation.getFieldMask(),vt.now())):s.set(l.key,cn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),n.forEach((l,h)=>{var p;return a.set(l,new Jv(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let r=Vc(),i=new Ye((s,a)=>s-a),o=_e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let h=r.get(u)||cn.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||_e()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=IA();h.forEach(m=>{if(!o.has(m)){let y=AA(n.get(m),r.get(m));y!==null&&p.set(m,y),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return V.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return ee.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):WU(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):V.resolve(to()),a=-1,u=o;return s.next(l=>V.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?V.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,_e())).next(h=>({batchId:a,changes:EA(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ee(n)).next(r=>{let i=Oc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=Oc();return this.indexManager.getCollectionParents(e,o).next(a=>V.forEach(a,u=>{let l=function(p,m){return new $s(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,Cn.newInvalidDocument(h)))});let a=Oc();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&Lc(h.mutation,l,cn.empty(),vt.now()),Hh(n,l)&&(a=a.insert(u,l))}),a})}};var Xv=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return V.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Wn(i.createTime)}}(n)),V.resolve()}getNamedQuery(e,n){return V.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:Sj(i.bundledQuery),readTime:Wn(i.readTime)}}(n)),V.resolve()}};var e_=class{constructor(){this.overlays=new Ye(ee.comparator),this.Ir=new Map}getOverlay(e,n){return V.resolve(this.overlays.get(n))}getOverlays(e,n){let r=to();return V.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),V.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),V.resolve()}getOverlaysForCollection(e,n,r){let i=to(),o=n.length+1,s=new ee(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return V.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Ye((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=to(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=to(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return V.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Lv(n,r));let o=this.Ir.get(n);o===void 0&&(o=_e(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}};var t_=class{constructor(){this.sessionToken=Mt.EMPTY_BYTE_STRING}getSessionToken(e){return V.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,V.resolve()}};var Gc=class{constructor(){this.Tr=new At(nt.Er),this.dr=new At(nt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new nt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new nt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new ee(new Qe([])),r=new nt(n,e),i=new nt(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new ee(new Qe([])),r=new nt(n,e),i=new nt(n,e+1),o=_e();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new nt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},nt=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ee.comparator(e.key,n.key)||Te(e.wr,n.wr)}static Ar(e,n){return Te(e.wr,n.wr)||ee.comparator(e.key,n.key)}};var n_=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new At(nt.Er)}checkEmpty(e){return V.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new Fv(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.br=this.br.add(new nt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return V.resolve(s)}lookupMutationBatch(e,n){return V.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),o=i<0?0:i;return V.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return V.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return V.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new nt(n,0),i=new nt(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{let a=this.Dr(s.wr);o.push(a)}),V.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new At(Te);return n.forEach(i=>{let o=new nt(i,0),s=new nt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),V.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;ee.isDocumentKey(o)||(o=o.child(""));let s=new nt(new ee(o),0),a=new At(Te);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.wr)),!0)},s),V.resolve(this.Cr(a))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){xe(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return V.forEach(n.mutations,i=>{let o=new nt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new nt(n,0),i=this.br.firstAfterOrEqual(r);return V.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,V.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var r_=class{constructor(e){this.Mr=e,this.docs=function(){return new Ye(ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return V.resolve(r?r.document.mutableCopy():Cn.newInvalidDocument(n))}getEntries(e,n){let r=Sr();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Cn.newInvalidDocument(i))}),V.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Sr(),s=n.path,a=new ee(s.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||kU(OU(h),r)<=0||(i.has(h.key)||Hh(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return V.resolve(o)}getAllFromCollectionGroup(e,n,r,i){oe()}Or(e,n){return V.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new i_(this)}getSize(e){return V.resolve(this.size)}},i_=class extends Yv{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),V.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var o_=class{constructor(e){this.persistence=e,this.Nr=new hi(n=>G_(n),W_),this.lastRemoteSnapshotVersion=ue.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Gc,this.targetCount=0,this.kr=qc.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),V.resolve()}getLastRemoteSnapshotVersion(e){return V.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return V.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),V.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),V.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new qc(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,V.resolve()}updateTargetData(e,n){return this.Kn(n),V.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,V.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),V.waitFor(o).next(()=>i)}getTargetCount(e){return V.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return V.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),V.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),V.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),V.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return V.resolve(r)}containsKey(e,n){return V.resolve(this.Br.containsKey(n))}};var s_=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new cA(0),this.Kr=!1,this.Kr=!0,this.$r=new t_,this.referenceDelegate=e(this),this.Ur=new o_(this),this.indexManager=new Kv,this.remoteDocumentCache=function(i){return new r_(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new Wv(n),this.Gr=new Xv(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new e_,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new n_(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){z("MemoryPersistence","Starting transaction:",e);let i=new a_(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return V.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},a_=class extends _v{constructor(e){super(),this.currentSequenceNumber=e}},c_=class t{constructor(e){this.persistence=e,this.Jr=new Gc,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw oe()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),V.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),V.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),V.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return V.forEach(this.Xr,r=>{let i=ee.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,ue.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return V.or([()=>V.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var u_=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=_e(),i=_e();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var l_=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var d_=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return KD()?8:VU(Jt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new l_;return this.Xi(e,n,s).next(a=>{if(o.result=a,this.zi)return this.es(e,n,s,a.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Nc()<=ve.DEBUG&&z("QueryEngine","SDK will not create cache indexes for query:",xs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),V.resolve()):(Nc()<=ve.DEBUG&&z("QueryEngine","Query:",xs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Nc()<=ve.DEBUG&&z("QueryEngine","The SDK decides to create cache indexes for query:",xs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Gn(n))):V.resolve())}Yi(e,n){if(LS(n))return V.resolve(null);let r=Gn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Nv(n,null,"F"),r=Gn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=_e(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(n,a);return this.ns(n,l,s,u.readTime)?this.Yi(e,Nv(n,null,"F")):this.rs(e,l,n,u)}))})))}Zi(e,n,r,i){return LS(n)||i.isEqual(ue.min())?V.resolve(null):this.Ji.getDocuments(e,r).next(o=>{let s=this.ts(n,o);return this.ns(n,s,r,i)?V.resolve(null):(Nc()<=ve.DEBUG&&z("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),xs(n)),this.rs(e,s,n,NU(i,-1)).next(a=>a))})}ts(e,n){let r=new At(_A(e));return n.forEach((i,o)=>{Hh(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return Nc()<=ve.DEBUG&&z("QueryEngine","Using full collection scan to execute query:",xs(n)),this.Ji.getDocumentsMatchingQuery(e,n,oo.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var h_=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Ye(Te),this._s=new hi(o=>G_(o),W_),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Zv(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function Aj(t,e,n,r){return new h_(t,e,n,r)}function LA(t,e){return S(this,null,function*(){let n=ae(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=_e();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:s,addedBatchIds:a}))})})})}function Mj(t,e){let n=ae(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,m=p.keys(),y=V.resolve();return m.forEach(T=>{y=y.next(()=>h.getEntry(u,T)).next(P=>{let R=l.docVersions.get(T);xe(R!==null),P.version.compareTo(R)<0&&(p.applyToRemoteDocument(P,l),P.isValidDocument()&&(P.setReadTime(l.commitVersion),h.addEntry(P)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=_e();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function UA(t){let e=ae(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function xj(t,e){let n=ae(t),r=e.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let a=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;a.push(n.Ur.removeMatchingKeys(o,h.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(o,h.addedDocuments,p)));let y=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(Mt.EMPTY_BYTE_STRING,ue.min()).withLastLimboFreeSnapshotVersion(ue.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),function(P,R,F){return P.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=3e8?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(m,y,h)&&a.push(n.Ur.updateTargetData(o,y))});let u=Sr(),l=_e();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(Rj(o,s,e.documentUpdates).next(h=>{u=h.Ps,l=h.Is})),!r.isEqual(ue.min())){let h=n.Ur.getLastRemoteSnapshotVersion(o).next(p=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return V.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(n.os=i,o))}function Rj(t,e,n){let r=_e(),i=_e();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Sr();return n.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ue.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):z("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ps:s,Is:i}})}function Pj(t,e){let n=ae(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Nj(t,e){let n=ae(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,V.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new zc(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}function f_(t,e,n){return S(this,null,function*(){let r=ae(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Zc(s))throw s;z("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function QS(t,e,n){let r=ae(t),i=ue.min(),o=_e();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,h){let p=ae(u),m=p._s.get(h);return m!==void 0?V.resolve(p.os.get(m)):p.Ur.getTargetData(l,h)}(r,s,Gn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:ue.min(),n?o:_e())).next(a=>(Oj(r,QU(e),a),{documents:a,Ts:o})))}function Oj(t,e,n){let r=t.us.get(e)||ue.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}var Ch=class{constructor(){this.activeTargetIds=tj()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var p_=class{constructor(){this.so=new Ch,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Ch,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var g_=class{_o(e){}shutdown(){}};var bh=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){z("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){z("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var ah=null;function cv(){return ah===null?ah=function(){return 268435456+Math.round(2147483648*Math.random())}():ah++,"0x"+ah.toString(16)}var kj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var m_=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var St="WebChannelConnection",y_=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){let a=cv(),u=this.xo(n,r.toUriEncodedString());z("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,o,s),this.No(n,u,l,i).then(h=>(z("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw Fs("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",u,"request:",i),h})}Lo(n,r,i,o,s,a){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ys}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){let i=kj[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let o=cv();return new Promise((s,a)=>{let u=new nv;u.setWithCredentials(!0),u.listenOnce(rv.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Pc.NO_ERROR:let h=u.getResponseJson();z(St,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case Pc.TIMEOUT:z(St,`RPC '${e}' ${o} timed out`),a(new Q(O.DEADLINE_EXCEEDED,"Request time out"));break;case Pc.HTTP_ERROR:let p=u.getStatus();if(z(St,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);let y=m?.error;if(y&&y.status&&y.message){let T=function(R){let F=R.toLowerCase().replace(/_/g,"-");return Object.values(O).indexOf(F)>=0?F:O.UNKNOWN}(y.status);a(new Q(T,y.message))}else a(new Q(O.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new Q(O.UNAVAILABLE,"Connection failed."));break;default:oe()}}finally{z(St,`RPC '${e}' ${o} completed.`)}});let l=JSON.stringify(i);z(St,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",l,r,15)})}Bo(e,n,r){let i=cv(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=sv(),a=ov(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let h=o.join("");z(St,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u),m=!1,y=!1,T=new m_({Io:R=>{y?z(St,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(m||(z(St,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),z(St,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},To:()=>p.close()}),P=(R,F,K)=>{R.listen(F,q=>{try{K(q)}catch(J){setTimeout(()=>{throw J},0)}})};return P(p,Ms.EventType.OPEN,()=>{y||(z(St,`RPC '${e}' stream ${i} transport opened.`),T.yo())}),P(p,Ms.EventType.CLOSE,()=>{y||(y=!0,z(St,`RPC '${e}' stream ${i} transport closed`),T.So())}),P(p,Ms.EventType.ERROR,R=>{y||(y=!0,Fs(St,`RPC '${e}' stream ${i} transport errored:`,R),T.So(new Q(O.UNAVAILABLE,"The operation could not be completed")))}),P(p,Ms.EventType.MESSAGE,R=>{var F;if(!y){let K=R.data[0];xe(!!K);let q=K,J=q.error||((F=q[0])===null||F===void 0?void 0:F.error);if(J){z(St,`RPC '${e}' stream ${i} received error:`,J);let Re=J.status,te=function(_){let I=tt[_];if(I!==void 0)return xA(I)}(Re),E=J.message;te===void 0&&(te=O.INTERNAL,E="Unknown error status: "+Re+" with message "+J.message),y=!0,T.So(new Q(te,E)),p.close()}else z(St,`RPC '${e}' stream ${i} received:`,K),T.bo(K)}}),P(a,iv.STAT_EVENT,R=>{R.stat===oh.PROXY?z(St,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===oh.NOPROXY&&z(St,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{T.wo()},0),T}};function uv(){return typeof document<"u"?document:null}function zh(t){return new $v(t,!0)}var Dh=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&z("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var Th=class{constructor(e,n,r,i,o,s,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Dh(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return S(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return S(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return S(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===O.RESOURCE_EXHAUSTED?(Dr(n.toString()),Dr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===O.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new Q(O.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>S(this,null,function*(){this.state=0,this.start()}))}I_(e){return z("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(z("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},v_=class extends Th{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=mj(this.serializer,e),r=function(o){if(!("targetChange"in o))return ue.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?ue.min():s.readTime?Wn(s.readTime):ue.min()}(e);return this.listener.d_(n,r)}A_(e){let n={};n.database=Gv(this.serializer),n.addTarget=function(o,s){let a,u=s.target;if(a=Pv(u)?{documents:_j(o,u)}:{query:wj(o,u)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=RA(o,s.resumeToken);let l=Hv(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(ue.min())>0){a.readTime=Eh(o,s.snapshotVersion.toTimestamp());let l=Hv(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=Ij(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){let n={};n.database=Gv(this.serializer),n.removeTarget=e,this.a_(n)}},__=class extends Th{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return xe(!!e.streamToken),this.lastStreamToken=e.streamToken,xe(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){xe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=vj(e.writeResults,e.commitTime),r=Wn(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=Gv(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>yj(this.serializer,r))};this.a_(n)}};var w_=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Q(O.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,zv(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Q(O.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,zv(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Q(O.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},E_=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Dr(n),this.D_=!1):z("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var I_=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(()=>S(this,null,function*(){ho(this)&&(z("RemoteStore","Restarting streams for network reachability change."),yield function(u){return S(this,null,function*(){let l=ae(u);l.L_.add(4),yield Xc(l),l.q_.set("Unknown"),l.L_.delete(4),yield qh(l)})}(this))}))}),this.q_=new E_(r,i)}};function qh(t){return S(this,null,function*(){if(ho(t))for(let e of t.B_)yield e(!0)})}function Xc(t){return S(this,null,function*(){for(let e of t.B_)yield e(!1)})}function jA(t,e){let n=ae(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),e0(n)?X_(n):Js(n).r_()&&Z_(n,e))}function J_(t,e){let n=ae(t),r=Js(n);n.N_.delete(e),r.r_()&&BA(n,e),n.N_.size===0&&(r.r_()?r.o_():ho(n)&&n.q_.set("Unknown"))}function Z_(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ue.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Js(t).A_(e)}function BA(t,e){t.Q_.xe(e),Js(t).R_(e)}function X_(t){t.Q_=new Bv({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Js(t).start(),t.q_.v_()}function e0(t){return ho(t)&&!Js(t).n_()&&t.N_.size>0}function ho(t){return ae(t).L_.size===0}function $A(t){t.Q_=void 0}function Fj(t){return S(this,null,function*(){t.q_.set("Online")})}function Vj(t){return S(this,null,function*(){t.N_.forEach((e,n)=>{Z_(t,e)})})}function Lj(t,e){return S(this,null,function*(){$A(t),e0(t)?(t.q_.M_(e),X_(t)):t.q_.set("Unknown")})}function Uj(t,e,n){return S(this,null,function*(){if(t.q_.set("Online"),e instanceof _h&&e.state===2&&e.cause)try{yield function(i,o){return S(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))})}(t,e)}catch(r){z("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Sh(t,r)}else if(e instanceof Os?t.Q_.Ke(e):e instanceof vh?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ue.min()))try{let r=yield UA(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){let a=o.Q_.rt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.N_.get(l);h&&o.N_.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.N_.get(u);if(!h)return;o.N_.set(u,h.withResumeToken(Mt.EMPTY_BYTE_STRING,h.snapshotVersion)),BA(o,u);let p=new zc(h.target,u,l,h.sequenceNumber);Z_(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){z("RemoteStore","Failed to raise snapshot:",r),yield Sh(t,r)}})}function Sh(t,e,n){return S(this,null,function*(){if(!Zc(e))throw e;t.L_.add(1),yield Xc(t),t.q_.set("Offline"),n||(n=()=>UA(t.localStore)),t.asyncQueue.enqueueRetryable(()=>S(this,null,function*(){z("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield qh(t)}))})}function HA(t,e){return e().catch(n=>Sh(t,n,e))}function Gh(t){return S(this,null,function*(){let e=ae(t),n=fi(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;jj(e);)try{let i=yield Pj(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,Bj(e,i)}catch(i){yield Sh(e,i)}zA(e)&&qA(e)})}function jj(t){return ho(t)&&t.O_.length<10}function Bj(t,e){t.O_.push(e);let n=fi(t);n.r_()&&n.V_&&n.m_(e.mutations)}function zA(t){return ho(t)&&!fi(t).n_()&&t.O_.length>0}function qA(t){fi(t).start()}function $j(t){return S(this,null,function*(){fi(t).p_()})}function Hj(t){return S(this,null,function*(){let e=fi(t);for(let n of t.O_)e.m_(n.mutations)})}function zj(t,e,n){return S(this,null,function*(){let r=t.O_.shift(),i=Vv.from(r,e,n);yield HA(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Gh(t)})}function qj(t,e){return S(this,null,function*(){e&&fi(t).V_&&(yield function(r,i){return S(this,null,function*(){if(function(s){return cj(s)&&s!==O.ABORTED}(i.code)){let o=r.O_.shift();fi(r).s_(),yield HA(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Gh(r)}})}(t,e)),zA(t)&&qA(t)})}function YS(t,e){return S(this,null,function*(){let n=ae(t);n.asyncQueue.verifyOperationInProgress(),z("RemoteStore","RemoteStore received new credentials");let r=ho(n);n.L_.add(3),yield Xc(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield qh(n)})}function Gj(t,e){return S(this,null,function*(){let n=ae(t);e?(n.L_.delete(2),yield qh(n)):e||(n.L_.add(2),yield Xc(n),n.q_.set("Unknown"))})}function Js(t){return t.K_||(t.K_=function(n,r,i){let o=ae(n);return o.w_(),new v_(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:Fj.bind(null,t),Ro:Vj.bind(null,t),mo:Lj.bind(null,t),d_:Uj.bind(null,t)}),t.B_.push(e=>S(this,null,function*(){e?(t.K_.s_(),e0(t)?X_(t):t.q_.set("Unknown")):(yield t.K_.stop(),$A(t))}))),t.K_}function fi(t){return t.U_||(t.U_=function(n,r,i){let o=ae(n);return o.w_(),new __(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:$j.bind(null,t),mo:qj.bind(null,t),f_:Hj.bind(null,t),g_:zj.bind(null,t)}),t.B_.push(e=>S(this,null,function*(){e?(t.U_.s_(),yield Gh(t)):(yield t.U_.stop(),t.O_.length>0&&(z("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var C_=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Ir,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Q(O.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function t0(t,e){if(Dr("AsyncQueue",`${e}: ${t}`),Zc(t))return new Q(O.UNAVAILABLE,`${e}: ${t}`);throw t}var Ah=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ee.comparator(n.key,r.key):(n,r)=>ee.comparator(n.key,r.key),this.keyedMap=Oc(),this.sortedSet=new Ye(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var Mh=class{constructor(){this.W_=new Ye(ee.comparator)}track(e){let n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):oe():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}},Ws=class t{constructor(e,n,r,i,o,s,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,Ah.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$h(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var b_=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},D_=class{constructor(){this.queries=JS(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=ae(n),o=i.queries;i.queries=JS(),o.forEach((s,a)=>{for(let u of a.j_)u.onError(r)})})(this,new Q(O.ABORTED,"Firestore shutting down"))}};function JS(){return new hi(t=>vA(t),$h)}function Wj(t,e){return S(this,null,function*(){let n=ae(t),r=3,i=e.query,o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new b_,r=e.J_()?0:1);try{switch(r){case 0:o.z_=yield n.onListen(i,!0);break;case 1:o.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){let a=t0(s,`Initialization of query '${xs(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&n0(n)})}function Kj(t,e){return S(this,null,function*(){let n=ae(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function Qj(t,e){let n=ae(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&n0(n)}function Yj(t,e,n){let r=ae(t),i=r.queries.get(e);if(i)for(let o of i.j_)o.onError(n);r.queries.delete(e)}function n0(t){t.Y_.forEach(e=>{e.next()})}var T_,ZS;(ZS=T_||(T_={})).ea="default",ZS.Cache="cache";var S_=class{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Ws(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Ws.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==T_.Cache}};var xh=class{constructor(e){this.key=e}},Rh=class{constructor(e){this.key=e}},A_=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=_e(),this.mutatedKeys=_e(),this.Aa=_A(e),this.Ra=new Ah(this.Aa)}get Va(){return this.Ta}ma(e,n){let r=n?n.fa:new Mh,i=n?n.Ra:this.Ra,o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),y=Hh(this.query,p)?p:null,T=!!m&&this.mutatedKeys.has(m.key),P=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),R=!1;m&&y?m.data.isEqual(y.data)?T!==P&&(r.track({type:3,doc:y}),R=!0):this.ga(m,y)||(r.track({type:2,doc:y}),R=!0,(u&&this.Aa(y,u)>0||l&&this.Aa(y,l)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),R=!0):m&&!y&&(r.track({type:1,doc:m}),R=!0,(u||l)&&(a=!0)),R&&(y?(s=s.add(y),o=P?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let s=e.fa.G_();s.sort((h,p)=>function(y,T){let P=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return oe()}};return P(y)-P(T)}(h.type,p.type)||this.Aa(h.doc,p.doc)),this.pa(r),i=i!=null&&i;let a=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,s.length!==0||l?{snapshot:new Ws(this.query,e.Ra,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Mh,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=_e(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let n=[];return e.forEach(r=>{this.da.has(r)||n.push(new Rh(r))}),this.da.forEach(r=>{e.has(r)||n.push(new xh(r))}),n}ba(e){this.Ta=e.Ts,this.da=_e();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Ws.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},M_=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},x_=class{constructor(e){this.key=e,this.va=!1}},R_=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new hi(a=>vA(a),$h),this.Ma=new Map,this.xa=new Set,this.Oa=new Ye(ee.comparator),this.Na=new Map,this.La=new Gc,this.Ba={},this.ka=new Map,this.qa=qc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function Jj(t,e,n=!0){return S(this,null,function*(){let r=JA(t),i,o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=yield GA(r,e,n,!0),i})}function Zj(t,e){return S(this,null,function*(){let n=JA(t);yield GA(n,e,!0,!1)})}function GA(t,e,n,r){return S(this,null,function*(){let i=yield Nj(t.localStore,Gn(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n),a;return r&&(a=yield Xj(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&jA(t.remoteStore,i),a})}function Xj(t,e,n,r,i){return S(this,null,function*(){t.Ka=(p,m,y)=>function(P,R,F,K){return S(this,null,function*(){let q=R.view.ma(F);q.ns&&(q=yield QS(P.localStore,R.query,!1).then(({documents:E})=>R.view.ma(E,q)));let J=K&&K.targetChanges.get(R.targetId),Re=K&&K.targetMismatches.get(R.targetId)!=null,te=R.view.applyChanges(q,P.isPrimaryClient,J,Re);return eA(P,R.targetId,te.wa),te.snapshot})}(t,p,m,y);let o=yield QS(t.localStore,e,!0),s=new A_(e,o.Ts),a=s.ma(o.documents),u=Hc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(a,t.isPrimaryClient,u);eA(t,n,l.wa);let h=new M_(e,n,s);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),l.snapshot})}function eB(t,e,n){return S(this,null,function*(){let r=ae(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!$h(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield f_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&J_(r.remoteStore,i.targetId),P_(r,i.targetId)}).catch(Jc))):(P_(r,i.targetId),yield f_(r.localStore,i.targetId,!0))})}function tB(t,e){return S(this,null,function*(){let n=ae(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),J_(n.remoteStore,r.targetId))})}function nB(t,e,n){return S(this,null,function*(){let r=uB(t);try{let i=yield function(s,a){let u=ae(s),l=vt.now(),h=a.reduce((y,T)=>y.add(T.key),_e()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let T=Sr(),P=_e();return u.cs.getEntries(y,h).next(R=>{T=R,T.forEach((F,K)=>{K.isValidDocument()||(P=P.add(F))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,T)).next(R=>{p=R;let F=[];for(let K of a){let q=aj(K,p.get(K.key).overlayedDocument);q!=null&&F.push(new Yn(K.key,q,hA(q.value.mapValue),Cr.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,F,a)}).next(R=>{m=R;let F=R.applyToLocalDocumentSet(p,P);return u.documentOverlayCache.saveOverlays(y,R.batchId,F)})}).then(()=>({batchId:m.batchId,changes:EA(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let l=s.Ba[s.currentUser.toKey()];l||(l=new Ye(Te)),l=l.insert(a,u),s.Ba[s.currentUser.toKey()]=l}(r,i.batchId,n),yield eu(r,i.changes),yield Gh(r.remoteStore)}catch(i){let o=t0(i,"Failed to persist write");n.reject(o)}})}function WA(t,e){return S(this,null,function*(){let n=ae(t);try{let r=yield xj(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Na.get(o);s&&(xe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?xe(s.va):i.removedDocuments.size>0&&(xe(s.va),s.va=!1))}),yield eu(n,r,e)}catch(r){yield Jc(r)}})}function XS(t,e,n){let r=ae(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((o,s)=>{let a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let u=ae(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.j_)m.Z_(a)&&(l=!0)}),l&&n0(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function rB(t,e,n){return S(this,null,function*(){let r=ae(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Na.get(e),o=i&&i.key;if(o){let s=new Ye(ee.comparator);s=s.insert(o,Cn.newNoDocument(o,ue.min()));let a=_e().add(o),u=new yh(ue.min(),new Map,new Ye(Te),s,a);yield WA(r,u),r.Oa=r.Oa.remove(o),r.Na.delete(e),r0(r)}else yield f_(r.localStore,e,!1).then(()=>P_(r,e,n)).catch(Jc)})}function iB(t,e){return S(this,null,function*(){let n=ae(t),r=e.batch.batchId;try{let i=yield Mj(n.localStore,e);QA(n,r,null),KA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield eu(n,i)}catch(i){yield Jc(i)}})}function oB(t,e,n){return S(this,null,function*(){let r=ae(t);try{let i=yield function(s,a){let u=ae(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(xe(p!==null),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);QA(r,e,n),KA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield eu(r,i)}catch(i){yield Jc(i)}})}function KA(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function QA(t,e,n){let r=ae(t),i=r.Ba[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function P_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||YA(t,r)})}function YA(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(J_(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),r0(t))}function eA(t,e,n){for(let r of n)r instanceof xh?(t.La.addReference(r.key,e),sB(t,r)):r instanceof Rh?(z("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||YA(t,r.key)):oe()}function sB(t,e){let n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(z("SyncEngine","New document in limbo: "+n),t.xa.add(r),r0(t))}function r0(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new ee(Qe.fromString(e)),r=t.qa.next();t.Na.set(r,new x_(n)),t.Oa=t.Oa.insert(n,r),jA(t.remoteStore,new zc(Gn(K_(n.path)),r,"TargetPurposeLimboResolution",cA.oe))}}function eu(t,e,n){return S(this,null,function*(){let r=ae(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{s.push(r.Ka(u,e,n).then(l=>{var h;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=n?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=u_.Wi(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.Ca.d_(i),yield function(u,l){return S(this,null,function*(){let h=ae(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>V.forEach(l,m=>V.forEach(m.$i,y=>h.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>V.forEach(m.Ui,y=>h.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!Zc(p))throw p;z("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let y=h.os.get(m),T=y.snapshotVersion,P=y.withLastLimboFreeSnapshotVersion(T);h.os=h.os.insert(m,P)}}})}(r.localStore,o))})}function aB(t,e){return S(this,null,function*(){let n=ae(t);if(!n.currentUser.isEqual(e)){z("SyncEngine","User change. New user:",e.toKey());let r=yield LA(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(u=>{u.reject(new Q(O.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield eu(n,r.hs)}})}function cB(t,e){let n=ae(t),r=n.Na.get(e);if(r&&r.va)return _e().add(r.key);{let i=_e(),o=n.Ma.get(e);if(!o)return i;for(let s of o){let a=n.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function JA(t){let e=ae(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=WA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=cB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=rB.bind(null,e),e.Ca.d_=Qj.bind(null,e.eventManager),e.Ca.$a=Yj.bind(null,e.eventManager),e}function uB(t){let e=ae(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=iB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=oB.bind(null,e),e}var tA=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return S(this,null,function*(){this.serializer=zh(n.databaseInfo.databaseId),this.sharedClientState=this.Wa(n),this.persistence=this.Ga(n),yield this.persistence.start(),this.localStore=this.za(n),this.gcScheduler=this.ja(n,this.localStore),this.indexBackfillerScheduler=this.Ha(n,this.localStore)})}ja(n,r){return null}Ha(n,r){return null}za(n){return Aj(this.persistence,new d_,n.initialUser,this.serializer)}Ga(n){return new s_(c_.Zr,this.serializer)}Wa(n){return new p_}terminate(){return S(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})();var lB=(()=>{class t{initialize(n,r){return S(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>XS(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=aB.bind(null,this.syncEngine),yield Gj(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new D_}()}createDatastore(n){let r=zh(n.databaseInfo.databaseId),i=function(s){return new y_(s)}(n.databaseInfo);return function(s,a,u,l){return new w_(s,a,u,l)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,o,s,a,u){return new I_(i,o,s,a,u)}(this.localStore,this.datastore,n.asyncQueue,r=>XS(this.syncEngine,r,0),function(){return bh.D()?new bh:new g_}())}createSyncEngine(n,r){return function(o,s,a,u,l,h,p){let m=new R_(o,s,a,u,l,h);return p&&(m.Qa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return S(this,null,function*(){var n,r;yield function(o){return S(this,null,function*(){let s=ae(o);z("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield Xc(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var N_=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Dr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var O_=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=dt.UNAUTHENTICATED,this.clientId=dh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>S(this,null,function*(){z("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(z("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Ir;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>S(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=t0(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function lv(t,e){return S(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),z("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>S(this,null,function*(){r.isEqual(i)||(yield LA(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function nA(t,e){return S(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield dB(t);z("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>YS(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>YS(e.remoteStore,i)),t._onlineComponents=e})}function dB(t){return S(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){z("FirestoreClient","Using user provided OfflineComponentProvider");try{yield lv(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===O.FAILED_PRECONDITION||i.code===O.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Fs("Error using user provided cache. Falling back to memory cache: "+n),yield lv(t,new tA)}}else z("FirestoreClient","Using default OfflineComponentProvider"),yield lv(t,new tA);return t._offlineComponents})}function ZA(t){return S(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(z("FirestoreClient","Using user provided OnlineComponentProvider"),yield nA(t,t._uninitializedComponentsProvider._online)):(z("FirestoreClient","Using default OnlineComponentProvider"),yield nA(t,new lB))),t._onlineComponents})}function hB(t){return ZA(t).then(e=>e.syncEngine)}function rA(t){return S(this,null,function*(){let e=yield ZA(t),n=e.eventManager;return n.onListen=Jj.bind(null,e.syncEngine),n.onUnlisten=eB.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Zj.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=tB.bind(null,e.syncEngine),n})}function XA(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var iA=new Map;function eM(t,e,n){if(!n)throw new Q(O.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function fB(t,e,n,r){if(e===!0&&r===!0)throw new Q(O.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function oA(t){if(!ee.isDocumentKey(t))throw new Q(O.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function sA(t){if(ee.isDocumentKey(t))throw new Q(O.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function i0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":oe()}function br(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Q(O.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=i0(t);throw new Q(O.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var Ph=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Q(O.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Q(O.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}fB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=XA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Q(O.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Q(O.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Q(O.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Ks=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ph({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Q(O.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Q(O.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ph(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new dv;switch(r.type){case"firstParty":return new gv(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Q(O.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return S(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=iA.get(n);r&&(z("ComponentProvider","Removing Datastore"),iA.delete(n),r.terminate())}(this),Promise.resolve()}};function tM(t,e,n,r={}){var i;let o=(t=br(t,Ks))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Fs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=dt.MOCK_USER;else{a=HD(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new Q(O.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new dt(l)}t._authCredentials=new hv(new lh(a,u))}}var Nh=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Ht=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new li(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},li=class t extends Nh{constructor(e,n,r){super(e,n,K_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Ht(this.firestore,null,new ee(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function nM(t,e,...n){if(t=yt(t),eM("collection","path",e),t instanceof Ks){let r=Qe.fromString(e,...n);return sA(r),new li(t,null,r)}{if(!(t instanceof Ht||t instanceof li))throw new Q(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Qe.fromString(e,...n));return sA(r),new li(t.firestore,null,r)}}function rM(t,e,...n){if(t=yt(t),arguments.length===1&&(e=dh.newId()),eM("doc","path",e),t instanceof Ks){let r=Qe.fromString(e,...n);return oA(r),new Ht(t,null,new ee(r))}{if(!(t instanceof Ht||t instanceof li))throw new Q(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Qe.fromString(e,...n));return oA(r),new Ht(t.firestore,t instanceof li?t.converter:null,new ee(r))}}var Oh=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Dh(this,"async_queue_retry"),this.Vu=()=>{let r=uv();r&&z("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let n=uv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let n=uv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let n=new Ir;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return S(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Zc(e))throw e;z("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw Dr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);let i=C_.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&oe()}verifyOperationInProgress(){}wu(){return S(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let n=this.Tu.indexOf(e);this.Tu.splice(n,1)}};function aA(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}var pi=class extends Ks{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Oh,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return S(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Oh(e),this._firestoreClient=void 0,yield e}})}};function iM(t,e){let n=typeof t=="object"?t:qi(),r=typeof t=="string"?t:e||"(default)",i=ms(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=BD("firestore");o&&tM(i,...o)}return i}function oM(t){if(t._terminated)throw new Q(O.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||pB(t),t._firestoreClient}function pB(t){var e,n,r;let i=t._freezeSettings(),o=function(a,u,l,h){return new wv(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,XA(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new O_(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(t._componentsProvider))}var Wc=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Mt.fromBase64String(e))}catch(n){throw new Q(O.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Mt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Qs=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Q(O.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Kc=class{constructor(e){this._methodName=e}};var Qc=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Q(O.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Q(O.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Te(this._lat,e._lat)||Te(this._long,e._long)}};var Yc=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var gB=/^__.*__$/,k_=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Yn(e,this.data,this.fieldMask,n,this.fieldTransforms):new uo(e,this.data,n,this.fieldTransforms)}},kh=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Yn(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function sM(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw oe()}}var F_=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Vh(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(sM(this.Cu)&&gB.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},V_=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||zh(e)}Qu(e,n,r,i=!1){return new F_({Cu:e,methodName:n,qu:r,path:Xt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function aM(t){let e=t._freezeSettings(),n=zh(t._databaseId);return new V_(t._databaseId,!!e.ignoreUndefinedProperties,n)}function mB(t,e,n,r,i,o={}){let s=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);o0("Data must be an object, but it was:",s,r);let a=cM(r,s),u,l;if(o.merge)u=new cn(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let m=L_(e,p,n);if(!s.contains(m))throw new Q(O.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);lM(h,m)||h.push(m)}u=new cn(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new k_(new Zt(a),u,l)}var Fh=class t extends Kc{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function yB(t,e,n,r){let i=t.Qu(1,e,n);o0("Data must be an object, but it was:",i,r);let o=[],s=Zt.empty();lo(r,(u,l)=>{let h=s0(e,u,n);l=yt(l);let p=i.Nu(h);if(l instanceof Fh)o.push(h);else{let m=Wh(l,p);m!=null&&(o.push(h),s.set(h,m))}});let a=new cn(o);return new kh(s,a,i.fieldTransforms)}function vB(t,e,n,r,i,o){let s=t.Qu(1,e,n),a=[L_(e,r,n)],u=[i];if(o.length%2!=0)throw new Q(O.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<o.length;m+=2)a.push(L_(e,o[m])),u.push(o[m+1]);let l=[],h=Zt.empty();for(let m=a.length-1;m>=0;--m)if(!lM(l,a[m])){let y=a[m],T=u[m];T=yt(T);let P=s.Nu(y);if(T instanceof Fh)l.push(y);else{let R=Wh(T,P);R!=null&&(l.push(y),h.set(y,R))}}let p=new cn(l);return new kh(h,p,s.fieldTransforms)}function Wh(t,e){if(uM(t=yt(t)))return o0("Unsupported field value:",e,t),cM(t,e);if(t instanceof Kc)return function(r,i){if(!sM(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let u=Wh(a,i.Lu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=yt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return nj(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=vt.fromDate(r);return{timestampValue:Eh(i.serializer,o)}}if(r instanceof vt){let o=new vt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Eh(i.serializer,o)}}if(r instanceof Qc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Wc)return{bytesValue:RA(i.serializer,r._byteString)};if(r instanceof Ht){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Y_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Yc)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.Bu("VectorValues must only contain numeric values.");return Q_(a.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${i0(r)}`)}(t,e)}function cM(t,e){let n={};return uA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):lo(t,(r,i)=>{let o=Wh(i,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function uM(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof vt||t instanceof Qc||t instanceof Wc||t instanceof Ht||t instanceof Kc||t instanceof Yc)}function o0(t,e,n){if(!uM(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=i0(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function L_(t,e,n){if((e=yt(e))instanceof Qs)return e._internalPath;if(typeof e=="string")return s0(t,e);throw Vh("Field path arguments must be of type string or ",t,!1,void 0,n)}var _B=new RegExp("[~\\*/\\[\\]]");function s0(t,e,n){if(e.search(_B)>=0)throw Vh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Qs(...e.split("."))._internalPath}catch{throw Vh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Vh(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new Q(O.INVALID_ARGUMENT,a+t+u)}function lM(t,e){return t.some(n=>n.isEqual(e))}var Lh=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ht(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new U_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(dM("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},U_=class extends Lh{data(){return super.data()}};function dM(t,e){return typeof e=="string"?s0(t,e):e instanceof Qs?e._internalPath:e._delegate._internalPath}function wB(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Q(O.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var j_=class{convertValue(e,n="none"){switch(so(e)){case 0:return null;case 1:return e.booleanValue;case 2:return je(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(di(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw oe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return lo(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;let o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>je(s.doubleValue));return new Yc(o)}convertGeoPoint(e){return new Qc(je(e.latitude),je(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=z_(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(jc(e));default:return null}}convertTimestamp(e){let n=Tr(e);return new vt(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Qe.fromString(e);xe(VA(r));let i=new gh(r.get(1),r.get(3)),o=new ee(r.popFirst(5));return i.isEqual(n)||Dr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function EB(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var ro=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Uh=class extends Lh{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new ks(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(dM("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},ks=class extends Uh{data(e={}){return super.data(e)}},B_=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ro(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ks(this._firestore,this._userDataWriter,r.key,r,new ro(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Q(O.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new ks(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ro(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new ks(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ro(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:IB(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function IB(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return oe()}}var jh=class extends j_{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wc(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ht(this.firestore,null,n)}};function hM(t,e,n){t=br(t,Ht);let r=br(t.firestore,pi),i=EB(t.converter,e,n);return c0(r,[mB(aM(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Cr.none())])}function fM(t,e,n,...r){t=br(t,Ht);let i=br(t.firestore,pi),o=aM(i),s;return s=typeof(e=yt(e))=="string"||e instanceof Qs?vB(o,"updateDoc",t._key,e,n,r):yB(o,"updateDoc",t._key,e),c0(i,[s.toMutation(t._key,Cr.exists(!0))])}function pM(t){return c0(br(t.firestore,pi),[new $c(t._key,Cr.none())])}function a0(t,...e){var n,r,i;t=yt(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||aA(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(aA(e[s])){let p=e[s];e[s]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(t instanceof Ht)l=br(t.firestore,pi),h=K_(t._key.path),u={next:p=>{e[s]&&e[s](CB(l,t,p))},error:e[s+1],complete:e[s+2]};else{let p=br(t,Nh);l=br(p.firestore,pi),h=p._query;let m=new jh(l);u={next:y=>{e[s]&&e[s](new B_(l,m,p,y))},error:e[s+1],complete:e[s+2]},wB(t._query)}return function(m,y,T,P){let R=new N_(P),F=new S_(y,R,T);return m.asyncQueue.enqueueAndForget(()=>S(this,null,function*(){return Wj(yield rA(m),F)})),()=>{R.Za(),m.asyncQueue.enqueueAndForget(()=>S(this,null,function*(){return Kj(yield rA(m),F)}))}}(oM(l),h,a,u)}function c0(t,e){return function(r,i){let o=new Ir;return r.asyncQueue.enqueueAndForget(()=>S(this,null,function*(){return nB(yield hB(r),i,o)})),o.promise}(oM(t),e)}function CB(t,e,n){let r=n.docs.get(e._key),i=new jh(t);return new Uh(t,i,e._key,r,new ro(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Ys=i})(vs),En(new Vt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new pi(new fv(r.getProvider("auth-internal")),new yv(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new Q(O.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gh(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Ke(MS,"4.7.3",e),Ke(MS,"4.7.3","esm2017")})();var Kh=function(){return Kh=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Kh.apply(this,arguments)};var TB={includeMetadataChanges:!1};function u0(t,e){return e===void 0&&(e=TB),new le(function(n){var r=a0(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function gM(t){return u0(t,{includeMetadataChanges:!0})}function mM(t,e){return e===void 0&&(e={}),gM(t).pipe(X(function(n){return l0(n,e)}))}function l0(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:Kh(Kh({},r),(n={},n[e.idField]=t.id,n))}function yM(t){return u0(t,{includeMetadataChanges:!0}).pipe(X(function(e){return e.docs}))}function vM(t,e){return e===void 0&&(e={}),yM(t).pipe(X(function(n){return n.map(function(r){return l0(r,e)})}))}var Ar=class{constructor(e){return e}},_M="firestore",d0=class{constructor(){return ws(_M)}};var h0=new $("angularfire2.firestore-instances");function SB(t,e){let n=mc(_M,t,e);return n&&new Ar(n)}function AB(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Ar(r)}}var MB={provide:d0,deps:[[new kt,h0]]},xB={provide:Ar,useFactory:SB,deps:[[new kt,h0],wr]};function wM(t,...e){return Ke("angularfire",ai.full,"fst"),gn([xB,MB,{provide:h0,useFactory:AB(t),multi:!0,deps:[De,ft,Ki,Qi,[new kt,rh],[new kt,Wi],...e]}])}var Zs=Lt(vM,!0);var EM=Lt(mM,!0);var fo=Lt(nM,!0);var Qh=Lt(pM,!0);var gi=Lt(rM,!0);var IM=Lt(iM,!0);var Yh=Lt(hM,!0);var CM=Lt(fM,!0);var Xs=(()=>{let e=class e{constructor(r){this.firestore=r,this.collectionName="products",this.commentsCollectionName="comments"}getProducts(){let r=fo(this.firestore,this.collectionName);return Zs(r,{idField:"id"})}getProductById(r){let i=gi(this.firestore,`${this.collectionName}/${r}`);return EM(i,{idField:"id"})}getComments(r){let i=fo(this.firestore,`${this.collectionName}/${r}/${this.commentsCollectionName}`);return Zs(i,{idField:"id"})}getCommentsWithIds(r){let i=fo(this.firestore,`${this.collectionName}/${r}/${this.commentsCollectionName}`);return Zs(i,{idField:"id"}).pipe(X(o=>o.map(s=>({id:s.id,text:s.text}))))}addComment(r,i){let o=fo(this.firestore,`${this.collectionName}/${r}/${this.commentsCollectionName}`),s=gi(o);return Yh(s,{text:i})}deleteComment(r,i){let o=gi(this.firestore,`${this.collectionName}/${r}/${this.commentsCollectionName}/${i}`);return Qh(o)}};e.\u0275fac=function(i){return new(i||e)(W(Ar))},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var DM=t=>({disabled:t}),RB=t=>({active:t});function PB(t,e){if(t&1){let n=gt();D(0,"div",13)(1,"div",14),he(2,"img",15),D(3,"div",16)(4,"h5",17),N(5),M(),D(6,"p",18),N(7),M(),D(8,"button",19),Y("click",function(){let i=re(n).$implicit,o=ne();return ie(o.viewProduct(i.id))}),N(9,"\u041F\u0435\u0440\u0435\u0439\u0442\u0438 \u0434\u043E \u0442\u043E\u0432\u0430\u0440\u0443"),M()()()()}if(t&2){let n=e.$implicit,r=ne();j(2),Vn("alt",n.name),me("src",n.imageUrl,kn),j(3),ke(n.name),j(2),hr("",n.price," ",r.currency,"")}}function NB(t,e){if(t&1){let n=gt();D(0,"li",8)(1,"a",20),Y("click",function(){let i=re(n).$implicit,o=ne();return ie(o.changePage(i))}),N(2),M()()}if(t&2){let n=e.$implicit,r=ne();me("ngClass",Gl(2,RB,n===r.currentPage)),j(2),ke(n)}}var TM=(()=>{let e=class e{constructor(r,i){this.productService=r,this.router=i,this.products=[],this.filteredProducts=[],this.searchText="",this.currency="$",this.itemsPerPage=5,this.currentPage=1,this.totalPages=1,this.pages=[],this.categories=["\u041B\u0456\u0445\u0442\u0430\u0440\u0438\u043A\u0438","\u0420\u043E\u0437\u0443\u043C\u043D\u0456 \u0433\u043E\u0434\u0438\u043D\u043D\u0438\u043A\u0438","\u041D\u0430\u0432\u0443\u0448\u043D\u0438\u043A\u0438","\u0422\u0443\u0440\u0438\u0441\u0442\u0438\u0447\u043D\u0456 \u041A\u0430\u043C\u0435\u0440\u0438","\u041D\u0430\u043C\u0435\u0442\u0438"],this.selectedCategory="all"}ngOnInit(){this.loadProducts()}loadProducts(){this.productService.getProducts().subscribe(r=>{console.log("\u041E\u0442\u0440\u0438\u043C\u0430\u043D\u0456 \u043F\u0440\u043E\u0434\u0443\u043A\u0442\u0438:",r),this.products=r,this.applyFilters()})}getPaginatedProducts(){let r=(this.currentPage-1)*this.itemsPerPage,i=this.currentPage*this.itemsPerPage;return this.filteredProducts.slice(r,i)}updatePagination(){this.totalPages=Math.ceil(this.filteredProducts.length/this.itemsPerPage),this.pages=Array.from({length:this.totalPages},(r,i)=>i+1)}onSearchTextChange(){this.applyFilters(),this.updatePagination(),this.currentPage=1}filterByCategory(r){this.selectedCategory=r,this.applyFilters(),this.updatePagination(),this.currentPage=1}applyFilters(){let r=this.products;this.selectedCategory!=="all"&&(r=r.filter(i=>i.category===this.selectedCategory)),this.searchText&&(r=r.filter(i=>i.name.toLowerCase().includes(this.searchText.toLowerCase()))),this.filteredProducts=r,this.updatePagination()}changePage(r){r>=1&&r<=this.totalPages&&(this.currentPage=r)}viewProduct(r){this.router.navigate([`/product/${r}`])}};e.\u0275fac=function(i){return new(i||e)(B(Xs),B(ut))},e.\u0275cmp=qe({type:e,selectors:[["app-home"]],standalone:!0,features:[We],decls:30,vars:13,consts:[[1,"container-fluid","mt-4"],["type","search","placeholder","\u0424\u0456\u043B\u044C\u0442\u0440 \u0437\u0430 \u043D\u0430\u0437\u0432\u043E\u044E","aria-label","Search",1,"form-control","mb-4","mt-4",3,"ngModelChange","ngModel"],[1,"text-center","mb-4"],[1,"btn","btn-outline-primary",3,"click"],[1,"row"],["class","col-12 col-md-2 mb-4",4,"ngFor","ngForOf"],["aria-label","Page navigation"],[1,"pagination","justify-content-center"],[1,"page-item",3,"ngClass"],["aria-label","Previous",1,"page-link",3,"click"],["aria-hidden","true"],["class","page-item",3,"ngClass",4,"ngFor","ngForOf"],["aria-label","Next",1,"page-link",3,"click"],[1,"col-12","col-md-2","mb-4"],[1,"card"],[1,"card-img-top",3,"src","alt"],[1,"card-body","text-center"],[1,"card-title"],[1,"card-text"],[1,"btn","btn-primary",3,"click"],[1,"page-link",3,"click"]],template:function(i,o){i&1&&(D(0,"div",0),he(1,"app-carousel"),D(2,"input",1),Ue("ngModelChange",function(a){return Be(o.searchText,a)||(o.searchText=a),a}),Y("ngModelChange",function(){return o.onSearchTextChange()}),M(),D(3,"div",2)(4,"button",3),Y("click",function(){return o.filterByCategory("all")}),N(5,"\u0423\u0441\u0456"),M(),D(6,"button",3),Y("click",function(){return o.filterByCategory("\u041B\u0456\u0445\u0442\u0430\u0440\u0438\u043A\u0438")}),N(7,"\u041B\u0456\u0445\u0442\u0430\u0440\u0438\u043A\u0438"),M(),D(8,"button",3),Y("click",function(){return o.filterByCategory("\u0420\u043E\u0437\u0443\u043C\u043D\u0456 \u0413\u043E\u0434\u0438\u043D\u043D\u0438\u043A\u0438")}),N(9,"\u0420\u043E\u0437\u0443\u043C\u043D\u0456 \u0413\u043E\u0434\u0438\u043D\u043D\u0438\u043A\u0438"),M(),D(10,"button",3),Y("click",function(){return o.filterByCategory("\u041D\u0430\u0432\u0443\u0448\u043D\u0438\u043A\u0438")}),N(11,"\u041D\u0430\u0432\u0443\u0448\u043D\u0438\u043A\u0438"),M(),D(12,"button",3),Y("click",function(){return o.filterByCategory("\u0422\u0443\u0440\u0438\u0441\u0442\u0438\u0447\u043D\u0456 \u041A\u0430\u043C\u0435\u0440\u0438")}),N(13,"\u0422\u0443\u0440\u0438\u0441\u0442\u0438\u0447\u043D\u0456 \u041A\u0430\u043C\u0435\u0440\u0438"),M(),D(14,"button",3),Y("click",function(){return o.filterByCategory("\u041D\u0430\u043C\u0435\u0442\u0438")}),N(15,"\u041D\u0430\u043C\u0435\u0442\u0438"),M()(),D(16,"div",4),Ge(17,PB,10,5,"div",5),ZC(18,"slice"),M(),D(19,"nav",6)(20,"ul",7)(21,"li",8)(22,"a",9),Y("click",function(){return o.changePage(o.currentPage-1)}),D(23,"span",10),N(24,"\xAB"),M()()(),Ge(25,NB,3,4,"li",11),D(26,"li",8)(27,"a",12),Y("click",function(){return o.changePage(o.currentPage+1)}),D(28,"span",10),N(29,"\xBB"),M()()()()()()),i&2&&(j(2),Le("ngModel",o.searchText),j(15),me("ngForOf",XC(18,5,o.getPaginatedProducts(),0,5)),j(4),me("ngClass",Gl(9,DM,o.currentPage===1)),j(4),me("ngForOf",o.pages),j(),me("ngClass",Gl(11,DM,o.currentPage===o.totalPages)))},dependencies:[mt,vb,Zr,_b,Hn,an,$n,In,cS],styles:[".card[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;height:100%;border:1px solid #ddd;border-radius:.375rem;overflow:hidden}.card-img-top[_ngcontent-%COMP%]{height:150px;object-fit:cover}.card-body[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center;text-align:center}.card-title[_ngcontent-%COMP%]{font-size:1rem}.card-text[_ngcontent-%COMP%]{font-size:.875rem}.carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:50vh;object-fit:cover}.btn-outline-primary[_ngcontent-%COMP%]{margin:.25rem}.pagination[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{padding:.5rem 1rem}.page-link[_ngcontent-%COMP%]{cursor:pointer}@media (max-width: 576px){.card-img-top[_ngcontent-%COMP%]{height:120px}.carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:40vh}}@media (min-width: 992px){.col-md-2[_ngcontent-%COMP%]{flex:0 0 20%;max-width:20%}}"]});let t=e;return t})();function OB(t,e){if(t&1){let n=gt();D(0,"div",27),he(1,"img",28),D(2,"div",29)(3,"h4",30),N(4),M(),D(5,"p",31),N(6),M(),D(7,"div",32)(8,"button",33),Y("click",function(){let i=re(n).$implicit,o=ne();return ie(o.decreaseQuantity(i.product.id))}),N(9,"-"),M(),D(10,"span",34),N(11),M(),D(12,"button",33),Y("click",function(){let i=re(n).$implicit,o=ne();return ie(o.increaseQuantity(i.product.id))}),N(13,"+"),M(),D(14,"div",7)(15,"p",35),N(16),M()(),D(17,"button",36),Y("click",function(){let i=re(n).$implicit,o=ne();return ie(o.removeFromCart(i.product.id))}),N(18,"\u041F\u0440\u0438\u0431\u0440\u0430\u0442\u0438"),M()()()()}if(t&2){let n=e.$implicit,r=ne();j(),Vn("alt",n.product.name),me("src",n.product.imageUrl,kn),j(3),ke(n.product.name),j(2),hr("",n.product.price," ",r.currency,""),j(5),ke(n.quantity),j(5),hr("\u0417\u0430\u0433\u0430\u043B\u044C\u043D\u0430 \u0441\u0443\u043C\u0430: ",r.totalAmount," ",r.currency,"")}}function kB(t,e){t&1&&(D(0,"small",37),N(1,"\u041D\u0435\u043A\u043E\u0440\u0435\u043A\u0442\u043D\u0438\u0439 \u0444\u043E\u0440\u043C\u0430\u0442. \u0412\u0438\u043A\u043E\u0440\u0438\u0441\u0442\u043E\u0432\u0443\u0439\u0442\u0435 \u0442\u0456\u043B\u044C\u043A\u0438 \u0431\u0443\u043A\u0432\u0438."),M())}function FB(t,e){if(t&1&&(D(0,"small",37),N(1),M()),t&2){ne();let n=Fa(17);j(),ke(n.errors==null?null:n.errors.customError)}}function VB(t,e){if(t&1&&(D(0,"option",38),N(1),M()),t&2){let n=e.$implicit;me("value",n),j(),ke(n)}}function LB(t,e){if(t&1){let n=gt();D(0,"div",39),Y("click",function(){re(n);let i=ne();return ie(i.closeConfirmation())}),D(1,"div",40),Y("click",function(i){return re(n),ie(i.stopPropagation())}),D(2,"p",41),N(3,"\u0412\u0430\u0448 \u0442\u043E\u0432\u0430\u0440 \u043E\u0444\u043E\u0440\u043C\u043B\u0435\u043D\u0438\u0439, \u0434\u044F\u043A\u0443\u0454\u043C\u043E \u0437\u0430 \u043F\u043E\u043A\u0443\u043F\u043A\u0443!"),M(),D(4,"button",42),Y("click",function(){re(n);let i=ne();return ie(i.closeConfirmation())}),N(5,"\u0417\u0430\u043A\u0440\u0438\u0442\u0438"),M()()()}}var SM=(()=>{let e=class e{constructor(r){this.cartService=r,this.cartItems=[],this.totalAmount=0,this.currency="$",this.showConfirmation=!1,this.order={recipientName:"",phone:"",delivery:"",payment:""},this.branches=["\u0412\u0456\u0434\u0434\u0456\u043B\u0435\u043D\u043D\u044F 1","\u0412\u0456\u0434\u0434\u0456\u043B\u0435\u043D\u043D\u044F 2"]}ngOnInit(){this.updateCart()}increaseQuantity(r){this.cartService.increaseQuantity(r),this.updateCart()}decreaseQuantity(r){this.cartService.decreaseQuantity(r),this.updateCart()}removeFromCart(r){this.cartService.removeFromCart(r),this.updateCart()}checkout(){this.cartService.checkout().subscribe(()=>{this.cartItems=[],this.totalAmount=0},r=>{console.error("Checkout error",r)})}submitOrder(){this.validateOrder()&&this.cartService.checkout().subscribe(()=>{this.showConfirmation=!0,this.cartItems=[],this.totalAmount=0,this.order={recipientName:"",phone:"",delivery:"",payment:""}},r=>{console.error("Checkout error",r)})}closeConfirmation(){this.showConfirmation=!1}formatPhone(r){let i=r.replace(/[^\d]/g,"");return i.length===12?`+${i}`:i}onPhoneInput(r){let i=r.target,o=i.value,s=o.replace(/[^\d]/g,"");s.length>12&&(o=s.slice(0,12)),i.value=this.formatPhone(o),this.order.phone=i.value}validatePhone(){let r=/^\+\d{12}$/;return this.order.phone.replace(/[^\d]/g,"").length!==12?"\u041D\u0435\u043A\u043E\u0440\u0435\u043A\u0442\u043D\u0438\u0439 \u0444\u043E\u0440\u043C\u0430\u0442 \u0442\u0435\u043B\u0435\u0444\u043E\u043D\u0443. \u0412\u0432\u0435\u0434\u0456\u0442\u044C 12 \u0446\u0438\u0444\u0440.":r.test(this.order.phone)?null:"\u041D\u0435\u043A\u043E\u0440\u0435\u043A\u0442\u043D\u0438\u0439 \u0444\u043E\u0440\u043C\u0430\u0442 \u0442\u0435\u043B\u0435\u0444\u043E\u043D\u0443. \u0412\u0438\u043A\u043E\u0440\u0438\u0441\u0442\u043E\u0432\u0443\u0439\u0442\u0435 \u0444\u043E\u0440\u043C\u0430\u0442: +380000000000."}validateRecipientName(r){let i=r.target;/^[a-zA-Zа-яА-ЯіІєЄґҐ\s]*$/.test(i.value)||(i.value=i.value.replace(/[^a-zA-Zа-яА-ЯіІєЄґҐ\s]/g,""))}updateCart(){this.cartService.getCartItems().subscribe(r=>{this.cartItems=r,this.calculateTotal()})}calculateTotal(){this.totalAmount=this.cartItems.reduce((r,i)=>r+i.product.price*i.quantity,0)}validateOrder(){let r=this.validatePhone();return r?(alert(r),!1):!0}};e.\u0275fac=function(i){return new(i||e)(B(fs))},e.\u0275cmp=qe({type:e,selectors:[["app-cart"]],standalone:!0,features:[We],decls:43,vars:10,consts:[["orderForm","ngForm"],["recipientName","ngModel"],["phone","ngModel"],["delivery","ngModel"],["payment","ngModel"],[1,"container"],["class","cart-item d-flex align-items-center border rounded mb-3 p-3",4,"ngFor","ngForOf"],[1,"text-center","mt-4"],[1,"font-weight-bold"],[1,"mt-4",3,"ngSubmit"],[1,"form-group"],["for","recipientName"],["type","text","id","recipientName","name","recipientName","required","","placeholder","\u041F\u0440\u0456\u0437\u0432\u0438\u0449\u0435 \u0406\u043C'\u044F \u041F\u043E\u0431\u0430\u0442\u044C\u043A\u043E\u0432\u0456",1,"form-control",3,"ngModelChange","input","ngModel"],["class","text-danger",4,"ngIf"],["for","phone"],["type","tel","id","phone","name","phone","required","","placeholder","+380000000000",1,"form-control",3,"ngModelChange","input","ngModel"],["for","delivery"],["id","delivery","name","delivery","required","",1,"form-control",3,"ngModelChange","ngModel"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["for","payment"],["id","payment","name","payment","required","",1,"form-control",3,"ngModelChange","ngModel"],["value","pay-now"],["value","invoice"],["value","installments"],["type","submit",1,"btn","btn-success","btn-block",3,"disabled"],["class","confirmation-overlay",3,"click",4,"ngIf"],[1,"cart-item","d-flex","align-items-center","border","rounded","mb-3","p-3"],["id","img",1,"cart-item-image","mr-3",3,"src","alt"],[1,"cart-item-details","flex-grow-1"],[1,"cart-item-name","font-weight-bold"],[1,"cart-item-price"],[1,"quantity-control","d-flex","align-items-center"],[1,"btn","btn-outline-primary","btn-sm",3,"click"],[1,"mx-2"],["id","total",1,"font-weight-bold"],["id","btn",1,"btn","btn-danger","btn-sm","ml-3",3,"click"],[1,"text-danger"],[3,"value"],[1,"confirmation-overlay",3,"click"],[1,"confirmation-content",3,"click"],[1,"confirmation-text"],[1,"btn","btn-success",3,"click"]],template:function(i,o){if(i&1){let s=gt();D(0,"div",5),Ge(1,OB,19,8,"div",6),D(2,"div",7)(3,"h2",8),N(4,"\u0417\u0430\u043C\u043E\u0432\u043B\u0435\u043D\u043D\u044F"),M(),D(5,"form",9,0),Y("ngSubmit",function(){return re(s),ie(o.submitOrder())}),D(7,"div",10)(8,"label",11),N(9,"\u041E\u0442\u0440\u0438\u043C\u0443\u0432\u0430\u0447:"),M(),D(10,"input",12,1),Ue("ngModelChange",function(u){return re(s),Be(o.order.recipientName,u)||(o.order.recipientName=u),ie(u)}),Y("input",function(u){return re(s),ie(o.validateRecipientName(u))}),M(),Ge(12,kB,2,0,"small",13),M(),D(13,"div",10)(14,"label",14),N(15,"\u041C\u043E\u0431\u0456\u043B\u044C\u043D\u0438\u0439 \u0442\u0435\u043B\u0435\u0444\u043E\u043D:"),M(),D(16,"input",15,2),Ue("ngModelChange",function(u){return re(s),Be(o.order.phone,u)||(o.order.phone=u),ie(u)}),Y("input",function(u){return re(s),ie(o.onPhoneInput(u))}),M(),Ge(18,FB,2,1,"small",13),M(),D(19,"div",10)(20,"label",16),N(21,"\u0414\u043E\u0441\u0442\u0430\u0432\u043A\u0430:"),M(),D(22,"select",17,3),Ue("ngModelChange",function(u){return re(s),Be(o.order.delivery,u)||(o.order.delivery=u),ie(u)}),D(24,"option",18),N(25,"\u041E\u0431\u0435\u0440\u0456\u0442\u044C \u0432\u0456\u0434\u0434\u0456\u043B\u0435\u043D\u043D\u044F"),M(),Ge(26,VB,2,2,"option",19),M()(),D(27,"div",10)(28,"label",20),N(29,"\u041E\u043F\u043B\u0430\u0442\u0430:"),M(),D(30,"select",21,4),Ue("ngModelChange",function(u){return re(s),Be(o.order.payment,u)||(o.order.payment=u),ie(u)}),D(32,"option",18),N(33,"\u041E\u0431\u0435\u0440\u0456\u0442\u044C \u0441\u043F\u043E\u0441\u0456\u0431 \u043E\u043F\u043B\u0430\u0442\u0438"),M(),D(34,"option",22),N(35,"\u041E\u043F\u043B\u0430\u0442\u0438\u0442\u0438 \u0437\u0430\u0440\u0430\u0437"),M(),D(36,"option",23),N(37,"\u0411\u0435\u0437\u0433\u043E\u0442\u0456\u0432\u043A\u043E\u0432\u0438\u0439 \u0440\u0430\u0445\u0443\u043D\u043E\u043A"),M(),D(38,"option",24),N(39,"\u041E\u043F\u043B\u0430\u0442\u0430 \u0447\u0430\u0441\u0442\u0438\u043D\u0430\u043C\u0438"),M()()(),D(40,"button",25),N(41,"\u041E\u0444\u043E\u0440\u043C\u0438\u0442\u0438 \u043F\u043E\u043A\u0443\u043F\u043A\u0443"),M()()(),Ge(42,LB,6,0,"div",26),M()}if(i&2){let s=Fa(6),a=Fa(11),u=Fa(17);j(),me("ngForOf",o.cartItems),j(9),Le("ngModel",o.order.recipientName),j(2),me("ngIf",a.invalid&&a.touched),j(4),Le("ngModel",o.order.phone),j(2),me("ngIf",u.errors==null?null:u.errors.customError),j(4),Le("ngModel",o.order.delivery),j(4),me("ngForOf",o.branches),j(4),Le("ngModel",o.order.payment),j(10),me("disabled",!s.valid),j(2),me("ngIf",o.showConfirmation)}},dependencies:[mt,Zr,Xr,Hn,Ss,qd,Gd,an,As,$n,Ts,Zi,In,Ji],styles:[".cart-item[_ngcontent-%COMP%]{background-color:#f9f9f9}#btn[_ngcontent-%COMP%]{width:90px}#img[_ngcontent-%COMP%]{margin:15px}#total[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px}.cart-item-image[_ngcontent-%COMP%]{width:80px;height:80px;object-fit:cover}.cart-item-name[_ngcontent-%COMP%]{font-size:1.2rem}.cart-item-price[_ngcontent-%COMP%]{font-size:1rem;color:#333}.quantity-control[_ngcontent-%COMP%]{margin-top:.5rem}.quantity-control[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:30px;height:30px}.btn-danger[_ngcontent-%COMP%]{background-color:#dc3545;border-color:#dc3545}.btn-danger[_ngcontent-%COMP%]:hover{background-color:#c82333;border-color:#bd2130}.confirmation-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center}.confirmation-content[_ngcontent-%COMP%]{background-color:#fff;padding:2rem;border-radius:5px;text-align:center;animation:_ngcontent-%COMP%_fadeIn .3s ease-in}.confirmation-text[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:1rem}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.form-control[_ngcontent-%COMP%]{border-radius:.25rem;border-color:#ced4da}.btn-success[_ngcontent-%COMP%]{background-color:#28a745;border-color:#28a745}.btn-success[_ngcontent-%COMP%]:hover{background-color:#218838;border-color:#1e7e34}.confirmation-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.confirmation-content[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:8px;text-align:center}.confirmation-text[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:20px}.container[_ngcontent-%COMP%]{padding:1rem}.cart-item[_ngcontent-%COMP%]{margin-bottom:1rem}.btn[_ngcontent-%COMP%]{width:auto}@media (max-width: 768px){.cart-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.cart-item-image[_ngcontent-%COMP%]{width:100px;height:100px}.cart-item-name[_ngcontent-%COMP%]{font-size:1rem}.cart-item-price[_ngcontent-%COMP%]{font-size:.9rem}.quantity-control[_ngcontent-%COMP%]{margin-top:1rem;flex-direction:column}.quantity-control[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:40px;height:40px}.btn-danger[_ngcontent-%COMP%], .btn-success[_ngcontent-%COMP%]{width:100%}#btn[_ngcontent-%COMP%]{width:100%;margin-top:.5rem}#img[_ngcontent-%COMP%], #total[_ngcontent-%COMP%]{margin:10px 0}.confirmation-content[_ngcontent-%COMP%]{width:90%;max-width:400px;padding:1rem}}@media (min-width: 769px) and (max-width: 1024px){.cart-item[_ngcontent-%COMP%]{flex-direction:row}.cart-item-image[_ngcontent-%COMP%]{width:100px;height:100px}.cart-item-name[_ngcontent-%COMP%]{font-size:1.1rem}.cart-item-price[_ngcontent-%COMP%]{font-size:.95rem}.quantity-control[_ngcontent-%COMP%]{margin-top:.5rem;flex-direction:row}.quantity-control[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:35px;height:35px}}"]});let t=e;return t})();function UB(t,e){if(t&1&&(D(0,"div",18)(1,"p"),N(2),M()()),t&2){let n=e.$implicit;j(2),ke(n)}}function jB(t,e){if(t&1){let n=gt();D(0,"div",19),Y("click",function(){re(n);let i=ne(2);return ie(i.closeModal())}),D(1,"div",20),Y("click",function(i){return re(n),ie(i.stopPropagation())}),D(2,"div",21)(3,"h4",22),N(4,"\u041A\u043E\u0448\u0438\u043A"),M(),D(5,"button",23),Y("click",function(){re(n);let i=ne(2);return ie(i.closeModal())}),N(6,"\xD7"),M()(),D(7,"div",24)(8,"div",25),he(9,"img",26),D(10,"div",27)(11,"h5"),N(12),M(),D(13,"p",28),N(14),M(),D(15,"div",29)(16,"button",30),Y("click",function(){re(n);let i=ne(2);return ie(i.decreaseQuantity())}),N(17,"-"),M(),D(18,"span",31),N(19),M(),D(20,"button",30),Y("click",function(){re(n);let i=ne(2);return ie(i.increaseQuantity())}),N(21,"+"),M()()()(),D(22,"div",32)(23,"button",33),Y("click",function(){re(n);let i=ne(2);return ie(i.addToCart())}),N(24,"\u041E\u0444\u043E\u0440\u043C\u0438\u0442\u0438 \u0437\u0430\u043C\u043E\u0432\u043B\u0435\u043D\u043D\u044F"),M()()()()()}if(t&2){let n=ne(2);j(9),Vn("alt",n.product.name),me("src",n.product.imageUrl,kn),j(3),ke(n.product.name),j(2),hr("\u0417\u0430\u0433\u0430\u043B\u044C\u043D\u0430 \u0441\u0443\u043C\u0430: ",n.totalPrice," ",n.currency,""),j(5),ke(n.quantity)}}function BB(t,e){if(t&1){let n=gt();D(0,"div",1)(1,"div",2)(2,"div",3),he(3,"img",4),M(),D(4,"div",5)(5,"h3",6),N(6),M(),D(7,"p",7),N(8,"\u0404 \u0432 \u043D\u0430\u044F\u0432\u043D\u043E\u0441\u0442\u0456"),M(),D(9,"p",8),N(10),M(),D(11,"button",9),Y("click",function(){re(n);let i=ne();return ie(i.openModal())}),N(12,"\u041A\u0443\u043F\u0438\u0442\u0438"),M(),D(13,"button",10),Y("click",function(){re(n);let i=ne();return ie(i.goBack())}),N(14,"\u041D\u0430\u0437\u0430\u0434"),M(),D(15,"h4",11),N(16,"\u041E\u043F\u0438\u0441 \u0442\u043E\u0432\u0430\u0440\u0443"),M(),D(17,"p",12),N(18),M(),D(19,"h4",13),N(20,"\u041A\u043E\u043C\u0435\u043D\u0442\u0430\u0440\u0456:"),M(),Ge(21,UB,3,1,"div",14),D(22,"textarea",15),Ue("ngModelChange",function(i){re(n);let o=ne();return Be(o.newComment,i)||(o.newComment=i),ie(i)}),M(),D(23,"button",16),Y("click",function(){re(n);let i=ne();return ie(i.addComment())}),N(24,"\u0414\u043E\u0434\u0430\u0442\u0438 \u043A\u043E\u043C\u0435\u043D\u0442\u0430\u0440"),M()()(),Ge(25,jB,25,6,"div",17),M()}if(t&2){let n=ne();j(3),Vn("alt",n.product.name),me("src",n.product.imageUrl,kn),j(3),ke(n.product.name),j(4),hr("",n.product.price," ",n.currency,""),j(8),ke(n.product.description),j(3),me("ngForOf",n.comments),j(),Le("ngModel",n.newComment),j(3),me("ngIf",n.showModal)}}var AM=(()=>{let e=class e{constructor(r,i,o,s){this.route=r,this.productService=i,this.cartService=o,this.router=s,this.comments=[],this.newComment="",this.currency="$",this.showModal=!1,this.quantity=1}ngOnInit(){let r=this.route.snapshot.paramMap.get("id");r&&this.productService.getProductById(r).subscribe(i=>{this.product=i,this.loadComments()})}get totalPrice(){return this.product?this.product.price*this.quantity:0}openModal(){this.showModal=!0}closeModal(){this.showModal=!1}addToCart(){this.product&&(this.cartService.addToCart(this.product,this.quantity),this.closeModal(),this.router.navigate(["/cart"]))}increaseQuantity(){this.quantity++}decreaseQuantity(){this.quantity>1&&this.quantity--}goBack(){this.router.navigate(["/"])}addComment(){if(this.newComment.trim()&&this.product&&this.product.id){let r=this.newComment.replace(/(кокос|банан|поганий|@)/g,"*");this.productService.addComment(this.product.id,r).then(()=>{this.comments.push(r),this.newComment=""})}}loadComments(){this.product&&this.product.id&&this.productService.getComments(this.product.id).subscribe(r=>{this.comments=r})}};e.\u0275fac=function(i){return new(i||e)(B(Un),B(Xs),B(fs),B(ut))},e.\u0275cmp=qe({type:e,selectors:[["app-product"]],standalone:!0,features:[We],decls:1,vars:1,consts:[["class","product-container container",4,"ngIf"],[1,"product-container","container"],[1,"row"],[1,"col-md-4","d-flex","align-items-start"],[1,"product-image","img-fluid",3,"src","alt"],[1,"col-md-8"],[1,"product-name"],[1,"product-stock"],[1,"product-price"],[1,"btn","btn-success","buy-button",3,"click"],[1,"btn","btn-secondary","back-button",3,"click"],[1,"product-description-title"],[1,"product-description"],[1,"comments-title"],["class","comment",4,"ngFor","ngForOf"],["placeholder","\u041D\u0430\u043F\u0438\u0448\u0456\u0442\u044C \u0432\u0430\u0448 \u043A\u043E\u043C\u0435\u043D\u0442\u0430\u0440...",1,"form-control","comment-textarea",3,"ngModelChange","ngModel"],[1,"btn","btn-success","add-comment-button",3,"click"],["class","modal-overlay",3,"click",4,"ngIf"],[1,"comment"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"modal-title"],[1,"close-button",3,"click"],[1,"modal-body"],[1,"modal-product-info"],[1,"modal-product-image",3,"src","alt"],[1,"modal-product-details"],[1,"modal-product-total"],[1,"quantity-control"],[1,"quantity-button",3,"click"],[1,"quantity"],[1,"modal-footer"],[1,"btn","btn-success",3,"click"]],template:function(i,o){i&1&&Ge(0,BB,26,9,"div",0),i&2&&me("ngIf",o.product)},dependencies:[mt,Zr,Xr,Hn,an,$n,In],styles:[".product-container[_ngcontent-%COMP%]{margin-top:20px}.product-name[_ngcontent-%COMP%]{font-weight:700;font-size:1.5rem;margin-bottom:10px}.product-stock[_ngcontent-%COMP%]{color:#28a745;font-size:.9rem;margin-bottom:15px}.product-price[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:20px}.buy-button[_ngcontent-%COMP%], .back-button[_ngcontent-%COMP%], .add-comment-button[_ngcontent-%COMP%]{margin-right:10px;transition:background-color .3s,transform .2s}.buy-button[_ngcontent-%COMP%]:hover{background-color:#218838;transform:scale(1.05)}.back-button[_ngcontent-%COMP%]:hover{background-color:#6c757d;transform:scale(1.05)}.product-description-title[_ngcontent-%COMP%], .comments-title[_ngcontent-%COMP%]{text-align:center;margin-top:20px}.product-description[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}.comment[_ngcontent-%COMP%]{border-bottom:1px solid #dee2e6;padding-bottom:10px;margin-bottom:10px}.comment-textarea[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:10px}.add-comment-button[_ngcontent-%COMP%]{margin-top:10px;transition:background-color .3s,transform .2s}.add-comment-button[_ngcontent-%COMP%]:hover{background-color:#218838;transform:scale(1.05)}.align-items-start[_ngcontent-%COMP%]{align-items:flex-start}.product-image[_ngcontent-%COMP%]{max-width:100%;border-radius:8px}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;align-items:center;justify-content:center;animation:_ngcontent-%COMP%_fadeIn .3s ease-in}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:8px;width:80%;max-width:500px;padding:20px;position:relative;animation:_ngcontent-%COMP%_scaleUp .3s ease-in-out}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.modal-title[_ngcontent-%COMP%]{font-size:1.5rem}.close-button[_ngcontent-%COMP%]{background:none;border:none;font-size:1.5rem;cursor:pointer;transition:color .3s ease}.close-button[_ngcontent-%COMP%]:hover{color:#dc3545}.modal-body[_ngcontent-%COMP%]{margin-top:15px}.modal-product-info[_ngcontent-%COMP%]{display:flex;align-items:center}.modal-product-image[_ngcontent-%COMP%]{width:80px;height:80px;object-fit:cover;margin-right:15px}.modal-product-details[_ngcontent-%COMP%]{flex:1}.modal-product-price[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700}.quantity-control[_ngcontent-%COMP%]{display:flex;align-items:center;margin-top:10px}.quantity-button[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none;padding:5px 10px;cursor:pointer}.quantity[_ngcontent-%COMP%]{margin:0 10px}.quantity-button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:20px}.btn-success[_ngcontent-%COMP%]{background-color:#28a745;border-color:#28a745}.btn-success[_ngcontent-%COMP%]:hover{background-color:#218838}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_scaleUp{0%{transform:scale(.9)}to{transform:scale(1)}}"]});let t=e;return t})();var MM=(()=>{let e=class e{constructor(r){this.firestore=r,this.productsCollection=fo(this.firestore,"products")}getProducts(){return Zs(this.productsCollection,{idField:"id"})}addProduct(r){let i=gi(this.productsCollection);return Yh(i,we(U({},r),{id:i.id}))}deleteProduct(r){let i=gi(this.firestore,`products/${r}`);return Qh(i)}updateProduct(r){let i=gi(this.firestore,`products/${r.id}`);return CM(i,U({},r))}};e.\u0275fac=function(i){return new(i||e)(W(Ar))},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function HB(t,e){if(t&1&&(D(0,"option",19),N(1),M()),t&2){let n=e.$implicit;me("value",n),j(),Li(" ",n," ")}}function zB(t,e){if(t&1){let n=gt();D(0,"form",5),Y("ngSubmit",function(){re(n);let i=ne();return ie(i.addProduct())}),D(1,"div",6)(2,"label",7),N(3,"\u041D\u0430\u0437\u0432\u0430 \u0442\u043E\u0432\u0430\u0440\u0443"),M(),D(4,"input",8),Ue("ngModelChange",function(i){re(n);let o=ne();return Be(o.productName,i)||(o.productName=i),ie(i)}),M()(),D(5,"div",6)(6,"label",9),N(7,"\u041E\u043F\u0438\u0441 \u0442\u043E\u0432\u0430\u0440\u0443"),M(),D(8,"textarea",10),Ue("ngModelChange",function(i){re(n);let o=ne();return Be(o.productDescription,i)||(o.productDescription=i),ie(i)}),M()(),D(9,"div",6)(10,"label",11),N(11,"URL \u043A\u0430\u0440\u0442\u0438\u043D\u043A\u0438 \u0442\u043E\u0432\u0430\u0440\u0443"),M(),D(12,"input",12),Ue("ngModelChange",function(i){re(n);let o=ne();return Be(o.productImageUrl,i)||(o.productImageUrl=i),ie(i)}),M()(),D(13,"div",6)(14,"label",13),N(15,"\u0426\u0456\u043D\u0430"),M(),D(16,"input",14),Ue("ngModelChange",function(i){re(n);let o=ne();return Be(o.productPrice,i)||(o.productPrice=i),ie(i)}),M()(),D(17,"div",6)(18,"label",15),N(19,"\u041A\u0430\u0442\u0435\u0433\u043E\u0440\u0456\u044F \u0442\u043E\u0432\u0430\u0440\u0443"),M(),D(20,"select",16),Ue("ngModelChange",function(i){re(n);let o=ne();return Be(o.productCategory,i)||(o.productCategory=i),ie(i)}),Ge(21,HB,2,2,"option",17),M()(),D(22,"button",18),N(23,"\u0414\u043E\u0434\u0430\u0442\u0438 \u0442\u043E\u0432\u0430\u0440"),M()()}if(t&2){let n=ne();j(4),Le("ngModel",n.productName),j(4),Le("ngModel",n.productDescription),j(4),Le("ngModel",n.productImageUrl),j(4),Le("ngModel",n.productPrice),j(4),Le("ngModel",n.productCategory),j(),me("ngForOf",n.categories),j(),me("disabled",!n.isFormValid())}}function qB(t,e){if(t&1&&(D(0,"option",19),N(1),M()),t&2){let n=e.$implicit;me("value",n),j(),Li(" ",n," ")}}function GB(t,e){if(t&1){let n=gt();D(0,"form",5),Y("ngSubmit",function(){re(n);let i=ne();return ie(i.updateProduct())}),D(1,"h3"),N(2,"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u0442\u043E\u0432\u0430\u0440"),M(),D(3,"div",6)(4,"label",20),N(5,"\u041D\u0430\u0437\u0432\u0430 \u0442\u043E\u0432\u0430\u0440\u0443"),M(),D(6,"input",21),Ue("ngModelChange",function(i){re(n);let o=ne();return Be(o.productName,i)||(o.productName=i),ie(i)}),M()(),D(7,"div",6)(8,"label",22),N(9,"\u041E\u043F\u0438\u0441 \u0442\u043E\u0432\u0430\u0440\u0443"),M(),D(10,"textarea",23),Ue("ngModelChange",function(i){re(n);let o=ne();return Be(o.productDescription,i)||(o.productDescription=i),ie(i)}),M()(),D(11,"div",6)(12,"label",24),N(13,"URL \u043A\u0430\u0440\u0442\u0438\u043D\u043A\u0438 \u0442\u043E\u0432\u0430\u0440\u0443"),M(),D(14,"input",25),Ue("ngModelChange",function(i){re(n);let o=ne();return Be(o.productImageUrl,i)||(o.productImageUrl=i),ie(i)}),M()(),D(15,"div",6)(16,"label",26),N(17,"\u0426\u0456\u043D\u0430"),M(),D(18,"input",27),Ue("ngModelChange",function(i){re(n);let o=ne();return Be(o.productPrice,i)||(o.productPrice=i),ie(i)}),M()(),D(19,"div",6)(20,"label",28),N(21,"\u041A\u0430\u0442\u0435\u0433\u043E\u0440\u0456\u044F \u0442\u043E\u0432\u0430\u0440\u0443"),M(),D(22,"select",29),Ue("ngModelChange",function(i){re(n);let o=ne();return Be(o.productCategory,i)||(o.productCategory=i),ie(i)}),Ge(23,qB,2,2,"option",17),M()(),D(24,"button",18),N(25,"\u041E\u043D\u043E\u0432\u0438\u0442\u0438 \u0442\u043E\u0432\u0430\u0440"),M()()}if(t&2){let n=ne();j(6),Le("ngModel",n.productName),j(4),Le("ngModel",n.productDescription),j(4),Le("ngModel",n.productImageUrl),j(4),Le("ngModel",n.productPrice),j(4),Le("ngModel",n.productCategory),j(),me("ngForOf",n.categories),j(),me("disabled",!n.isFormValid())}}function WB(t,e){if(t&1){let n=gt();D(0,"li")(1,"p"),N(2),M(),D(3,"button",33),Y("click",function(){let i,o=re(n).$implicit,s=ne(2);return ie(s.deleteComment((i=s.productToEdit==null?null:s.productToEdit.id)!==null&&i!==void 0?i:null,o.id))}),N(4," \u0412\u0438\u0434\u0430\u043B\u0438\u0442\u0438 "),M()()}if(t&2){let n=e.$implicit;j(2),ke(n.text)}}function KB(t,e){if(t&1){let n=gt();D(0,"div",30)(1,"h3"),N(2,"\u041A\u043E\u043C\u0435\u043D\u0442\u0430\u0440\u0456 \u0434\u043B\u044F \u0442\u043E\u0432\u0430\u0440\u0443"),M(),D(3,"ul"),Ge(4,WB,5,1,"li",31),M(),D(5,"button",32),Y("click",function(){re(n);let i=ne();return ie(i.closeModal())}),N(6,"\u0417\u0430\u043A\u0440\u0438\u0442\u0438"),M()()}if(t&2){let n=ne();j(4),me("ngForOf",n.selectedProductComments)}}function QB(t,e){if(t&1){let n=gt();D(0,"div",34),he(1,"img",35),D(2,"h4"),N(3),M(),D(4,"p"),N(5),M(),D(6,"p"),N(7),M(),D(8,"p"),N(9),M(),D(10,"button",36),Y("click",function(){let i=re(n).$implicit,o=ne();return ie(o.openEditForm(i))}),N(11,"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438"),M(),D(12,"button",33),Y("click",function(){let i=re(n).$implicit,o=ne();return ie(o.confirmDeleteProduct(i.id))}),N(13,"\u0412\u0438\u0434\u0430\u043B\u0438\u0442\u0438"),M()()}if(t&2){let n=e.$implicit;j(),Vn("alt",n.name),me("src",n.imageUrl,kn),j(2),ke(n.name),j(2),ke(n.description),j(2),Li("\u0426\u0456\u043D\u0430: ",n.price," $"),j(2),Li("\u041A\u0430\u0442\u0435\u0433\u043E\u0440\u0456\u044F: ",n.category,"")}}function YB(t,e){if(t&1){let n=gt();D(0,"div",37)(1,"div",38)(2,"h4"),N(3,"\u041F\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0436\u0435\u043D\u043D\u044F \u0432\u0438\u0434\u0430\u043B\u0435\u043D\u043D\u044F"),M(),D(4,"p"),N(5,"\u0412\u0438 \u0432\u043F\u0435\u0432\u043D\u0435\u043D\u0456, \u0449\u043E \u0445\u043E\u0447\u0435\u0442\u0435 \u0432\u0438\u0434\u0430\u043B\u0438\u0442\u0438 \u0446\u0435\u0439 \u0442\u043E\u0432\u0430\u0440?"),M(),D(6,"button",33),Y("click",function(){re(n);let i=ne();return i.deleteProduct(),ie(i.closeModal())}),N(7,"\u0422\u0430\u043A"),M(),D(8,"button",32),Y("click",function(){re(n);let i=ne();return ie(i.closeModal())}),N(9,"\u041D\u0456"),M()()()}}var xM=(()=>{let e=class e{constructor(r,i){this.adminService=r,this.productService=i,this.productName="",this.productDescription="",this.productImageUrl="",this.productPrice=null,this.productCategory="",this.products=[],this.categories=["\u041B\u0456\u0445\u0442\u0430\u0440\u0438\u043A\u0438","\u0420\u043E\u0437\u0443\u043C\u043D\u0456 \u0413\u043E\u0434\u0438\u043D\u043D\u0438\u043A\u0438","\u041D\u0430\u0432\u0443\u0448\u043D\u0438\u043A\u0438","\u0422\u0443\u0440\u0438\u0441\u0442\u0438\u0447\u043D\u0456 \u041A\u0430\u043C\u0435\u0440\u0438","\u041D\u0430\u043C\u0435\u0442\u0438"],this.showModal=!1,this.showEditForm=!1,this.productToDeleteId=null,this.productToEdit=null,this.errorMessage=null,this.selectedProductComments=[]}ngOnInit(){this.loadProducts()}loadProducts(){this.adminService.getProducts().subscribe(r=>{this.products=r},r=>{console.error("Error loading products:",r),this.errorMessage="Failed to load products. Please try again later."})}addProduct(){if(this.isFormValid()){let r={id:"",name:this.productName,description:this.productDescription,imageUrl:this.productImageUrl,price:this.productPrice,category:this.productCategory};this.adminService.addProduct(r).then(()=>{this.loadProducts(),this.resetForm()}).catch(i=>{console.error("Error adding product:",i),this.errorMessage="Failed to add product. Please try again later."})}}deleteProduct(){this.productToDeleteId&&this.adminService.deleteProduct(this.productToDeleteId).then(()=>{this.loadProducts(),this.closeModal()}).catch(r=>{console.error("Error deleting product:",r),this.errorMessage="Failed to delete product. Please try again later."})}openEditForm(r){this.productToEdit=U({},r),this.productName=r.name,this.productDescription=r.description,this.productImageUrl=r.imageUrl,this.productPrice=r.price,this.productCategory=r.category,this.showEditForm=!0}updateProduct(){if(this.productToEdit&&this.isFormValid()){let r={id:this.productToEdit.id,name:this.productName,description:this.productDescription,imageUrl:this.productImageUrl,price:this.productPrice,category:this.productCategory};this.adminService.updateProduct(r).then(()=>{this.loadProducts(),this.resetForm(),this.showEditForm=!1}).catch(i=>{console.error("Error updating product:",i),this.errorMessage="Failed to update product. Please try again later."})}else this.errorMessage="Invalid form data or no product selected."}confirmDeleteProduct(r){this.productToDeleteId=r,this.showModal=!0}closeModal(){this.showModal=!1,this.productToDeleteId=null}resetForm(){this.productName="",this.productDescription="",this.productImageUrl="",this.productPrice=null,this.productCategory="",this.productToEdit=null,this.showEditForm=!1}isFormValid(){return this.productName.trim()!==""&&this.productDescription.trim()!==""&&this.productImageUrl.trim()!==""&&this.productPrice!==null&&this.productPrice>0&&this.productCategory.trim()!==""}loadComments(r){this.productService.getComments(r).subscribe(i=>{this.selectedProductComments=i.map(o=>({id:o.id,text:o.text||"\u0411\u0435\u0437 \u0442\u0435\u043A\u0441\u0442\u0443"}))},i=>{console.error("Error loading comments:",i),this.selectedProductComments=[]})}loadProductById(r){this.productService.getProductById(r).subscribe(i=>{i?this.productToEdit=i:(console.warn("Product not found."),this.errorMessage="Product not found.")},i=>{console.error("Error loading product:",i),this.errorMessage="Failed to load product. Please try again later."})}deleteComment(r,i){r!=null&&i?this.productService.deleteComment(r,i).then(()=>this.loadComments(r)).catch(o=>console.error("Error deleting comment:",o)):console.error("Invalid productId or commentId.")}openCommentsModal(r){r?.id?(this.loadComments(r.id),this.showModal=!0):console.error("Invalid product ID.")}};e.\u0275fac=function(i){return new(i||e)(B(MM),B(Xs))},e.\u0275cmp=qe({type:e,selectors:[["app-admin"]],standalone:!0,features:[We],decls:8,vars:5,consts:[[1,"container"],[3,"ngSubmit",4,"ngIf"],["class","comments-modal",4,"ngIf"],["class","product-item",4,"ngFor","ngForOf"],["class","modal",4,"ngIf"],[3,"ngSubmit"],[1,"form-group"],["for","productName"],["id","productName","name","productName","placeholder","\u041D\u0430\u0437\u0432\u0430 \u0442\u043E\u0432\u0430\u0440\u0443","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","productDescription"],["id","productDescription","name","productDescription","placeholder","\u041E\u043F\u0438\u0441 \u0442\u043E\u0432\u0430\u0440\u0443","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","productImageUrl"],["id","productImageUrl","name","productImageUrl","placeholder","URL \u043A\u0430\u0440\u0442\u0438\u043D\u043A\u0438 \u0442\u043E\u0432\u0430\u0440\u0443","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","productPrice"],["id","productPrice","type","number","name","productPrice","placeholder","\u0426\u0456\u043D\u0430","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","productCategory"],["id","productCategory","name","productCategory","required","",1,"form-control",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["type","submit",1,"btn","btn-success",3,"disabled"],[3,"value"],["for","editProductName"],["id","editProductName","name","editProductName","placeholder","\u041D\u0430\u0437\u0432\u0430 \u0442\u043E\u0432\u0430\u0440\u0443","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","editProductDescription"],["id","editProductDescription","name","editProductDescription","placeholder","\u041E\u043F\u0438\u0441 \u0442\u043E\u0432\u0430\u0440\u0443","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","editProductImageUrl"],["id","editProductImageUrl","name","editProductImageUrl","placeholder","URL \u043A\u0430\u0440\u0442\u0438\u043D\u043A\u0438 \u0442\u043E\u0432\u0430\u0440\u0443","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","editProductPrice"],["id","editProductPrice","type","number","name","editProductPrice","placeholder","\u0426\u0456\u043D\u0430","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","editProductCategory"],["id","editProductCategory","name","editProductCategory","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"comments-modal"],[4,"ngFor","ngForOf"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-danger",3,"click"],[1,"product-item"],[1,"product-image",3,"src","alt"],[1,"btn","btn-warning",3,"click"],[1,"modal"],[1,"modal-content"]],template:function(i,o){i&1&&(D(0,"div",0),Ge(1,zB,24,7,"form",1)(2,GB,26,7,"form",1)(3,KB,7,1,"div",2),D(4,"h3"),N(5,"\u0421\u043F\u0438\u0441\u043E\u043A \u0442\u043E\u0432\u0430\u0440\u0456\u0432"),M(),Ge(6,QB,14,6,"div",3)(7,YB,10,0,"div",4),M()),i&2&&(j(),me("ngIf",!o.showEditForm),j(),me("ngIf",o.showEditForm),j(),me("ngIf",o.showModal),j(3),me("ngForOf",o.products),j(),me("ngIf",o.showModal))},dependencies:[mt,Zr,Xr,Hn,Ss,qd,Gd,an,jy,As,$n,Ts,Zi,In,Ji],styles:[".container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}.product-item[_ngcontent-%COMP%]{box-sizing:border-box;padding:10px}.product-image[_ngcontent-%COMP%]{width:100px}.btn-success[_ngcontent-%COMP%]{background-color:#28a745;border-color:#28a745}.btn-success[_ngcontent-%COMP%]:hover{background-color:#218838;border-color:#1e7e34}.btn-danger[_ngcontent-%COMP%]{background-color:#dc3545;border-color:#dc3545}.btn-danger[_ngcontent-%COMP%]:hover{background-color:#c82333;border-color:#bd2130}.modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;align-items:center;justify-content:center}.modal-content[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:5px;box-shadow:0 0 10px #0000001a;text-align:center;width:300px;animation:_ngcontent-%COMP%_zoomIn .3s ease-in}.modal-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-top:0}.modal-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:10px}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_zoomIn{0%{transform:scale(.7);opacity:0}to{transform:scale(1);opacity:1}}@keyframes _ngcontent-%COMP%_fadeOut{0%{opacity:1}to{opacity:0}}.fade-out[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeOut .3s ease-out}@media (max-width: 768px){.container[_ngcontent-%COMP%]{padding:10px}.product-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;text-align:center;margin-bottom:15px}.product-image[_ngcontent-%COMP%]{max-width:80%;height:auto;margin:0 0 10px}.modal-content[_ngcontent-%COMP%]{width:90%;max-width:400px;padding:15px}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.btn[_ngcontent-%COMP%]{width:100%;margin-bottom:10px}}@media (min-width: 769px) and (max-width: 1024px){.container[_ngcontent-%COMP%]{padding:15px}.product-item[_ngcontent-%COMP%]{flex-direction:row}.product-image[_ngcontent-%COMP%]{max-width:100px;height:auto;margin-right:15px}.modal-content[_ngcontent-%COMP%]{width:80%;max-width:500px;padding:20px}.btn[_ngcontent-%COMP%]{margin:5px}}.form-control[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;margin-bottom:10px}.btn[_ngcontent-%COMP%]{width:auto;padding:10px 20px}h3[_ngcontent-%COMP%]{font-size:1.5rem}.product-item[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.2rem}p[_ngcontent-%COMP%]{font-size:.9rem}.btn-success[_ngcontent-%COMP%], .btn-danger[_ngcontent-%COMP%], .btn-warning[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%]{padding:8px 16px;font-size:.9rem}"]});let t=e;return t})();var RM=(()=>{let e=class e{constructor(){this.firstDigit="4",this.secondDigit="0",this.thirdDigit="4"}randomNum(){return Math.floor(Math.random()*9)+1}ngOnInit(){let r=0,i=30,o=setInterval(()=>{r>40?(clearInterval(o),this.thirdDigit="4"):(this.thirdDigit=this.randomNum().toString(),r++)},i),s=setInterval(()=>{r>80?(clearInterval(s),this.secondDigit="0"):(this.secondDigit=this.randomNum().toString(),r++)},i),a=setInterval(()=>{r>100?(clearInterval(a),this.firstDigit="4"):(this.firstDigit=this.randomNum().toString(),r++)},i)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=qe({type:e,selectors:[["app-not-found"]],standalone:!0,features:[We],decls:22,vars:3,consts:[[1,"error","d-flex","justify-content-center","align-items-center","vh-50","bg-light"],[1,"container","text-center"],[1,"container-error-404"],[1,"clip"],[1,"shadow"],[1,"digit","thirdDigit"],[1,"digit","secondDigit"],[1,"digit","firstDigit"],[1,"msg"],[1,"triangle"],[1,"h1"],["routerLink","/",1,"btn","btn-primary"]],template:function(i,o){i&1&&(D(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"span",5),N(6),M()()(),D(7,"div",3)(8,"div",4)(9,"span",6),N(10),M()()(),D(11,"div",3)(12,"div",4)(13,"span",7),N(14),M()()(),D(15,"div",8),N(16,"OH!"),he(17,"span",9),M()(),D(18,"h2",10),N(19,"\u0412\u0438\u0431\u0430\u0447\u0442\u0435! \u0421\u0442\u043E\u0440\u0456\u043D\u043A\u0430 \u043D\u0435 \u0437\u043D\u0430\u0439\u0434\u0435\u043D\u0430."),M(),D(20,"a",11),N(21,"\u041F\u0435\u0440\u0435\u0439\u0442\u0438 \u043D\u0430 \u0433\u043E\u043B\u043E\u0432\u043D\u0443"),M()()()),i&2&&(j(6),ke(o.thirdDigit),j(4),ke(o.secondDigit),j(4),ke(o.firstDigit))},dependencies:[mt,ds,us],styles:['*[_ngcontent-%COMP%]{font-family:PT Sans Caption,sans-serif,arial,Times New Roman;box-sizing:border-box}.error[_ngcontent-%COMP%]{background-color:#f8f9fa}.error[_ngcontent-%COMP%]   .container-error-404[_ngcontent-%COMP%]{position:relative;height:250px;padding-top:40px;text-align:center}.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]{display:inline-block;transform:skew(-45deg)}.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]   .shadow[_ngcontent-%COMP%]{height:180px;overflow:hidden}.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]:nth-of-type(2)   .shadow[_ngcontent-%COMP%]{width:130px;position:relative;box-shadow:inset 20px 0 20px -15px #969696cc,20px 0 20px -15px #969696cc}.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]:nth-of-type(3)   .shadow[_ngcontent-%COMP%]:after, .error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]:nth-of-type(1)   .shadow[_ngcontent-%COMP%]:after{content:"";position:absolute;right:-8px;bottom:0;z-index:9999;height:100%;width:10px;background:linear-gradient(90deg,transparent,rgba(173,173,173,.8),transparent);border-radius:50%}.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]:nth-of-type(3)   .shadow[_ngcontent-%COMP%]:after{left:-8px}.error[_ngcontent-%COMP%]   .digit[_ngcontent-%COMP%]{width:150px;height:150px;line-height:150px;font-size:120px;font-weight:700;color:#fff;background:#07b3f9;border-radius:50%;display:inline-block;transform:skew(45deg)}.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]:nth-of-type(2)   .digit[_ngcontent-%COMP%]{left:-10%}.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]:nth-of-type(1)   .digit[_ngcontent-%COMP%]{right:-20%}.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]:nth-of-type(3)   .digit[_ngcontent-%COMP%]{left:-20%}.error[_ngcontent-%COMP%]   .msg[_ngcontent-%COMP%]{position:relative;z-index:9999;background:#535353;color:#a2a2a2;border-radius:50%;font-style:italic;display:block;width:80px;height:80px;line-height:80px;font-size:32px;top:-190px;left:30%}.error[_ngcontent-%COMP%]   span.triangle[_ngcontent-%COMP%]{position:absolute;z-index:999;transform:rotate(45deg);content:"";width:0;height:0;border-left:20px solid #535353;border-top:15px solid transparent;border-bottom:15px solid transparent;top:70%;right:0}.error[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#a2a2a2;font-weight:700;padding-bottom:20px;font-size:32px}.error[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;font-weight:700}.error[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}@media (max-width: 767px){.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]   .shadow[_ngcontent-%COMP%]{height:100px}.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]:nth-of-type(2)   .shadow[_ngcontent-%COMP%]{width:80px}.error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]:nth-of-type(1)   .shadow[_ngcontent-%COMP%], .error[_ngcontent-%COMP%]   .clip[_ngcontent-%COMP%]:nth-of-type(3)   .shadow[_ngcontent-%COMP%]{width:100px}.error[_ngcontent-%COMP%]   .digit[_ngcontent-%COMP%]{width:80px;height:80px;line-height:80px;font-size:52px}.error[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px}.error[_ngcontent-%COMP%]   .msg[_ngcontent-%COMP%]{top:-110px;left:15%;width:40px;height:40px;line-height:40px;font-size:18px}.error[_ngcontent-%COMP%]   span.triangle[_ngcontent-%COMP%]{border-left:10px solid #535353;border-top:8px solid transparent;border-bottom:8px solid transparent}.error[_ngcontent-%COMP%]   .container-error-404[_ngcontent-%COMP%]{height:150px}}']});let t=e;return t})();function JB(t,e){if(t&1&&(D(0,"p",10),N(1),M()),t&2){let n=ne();j(),ke(n.errorMessage)}}var PM=(()=>{let e=class e{constructor(r){this.router=r,this.username="",this.password="",this.errorMessage=""}login(){this.username==="admin"&&this.password==="Uthjtdlytghf73"?this.router.navigate(["/admin"]):this.errorMessage="\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u043B\u043E\u0433\u0456\u043D \u0430\u0431\u043E \u043F\u0430\u0440\u043E\u043B\u044C"}};e.\u0275fac=function(i){return new(i||e)(B(ut))},e.\u0275cmp=qe({type:e,selectors:[["app-admin-login"]],standalone:!0,features:[We],decls:14,vars:3,consts:[[1,"login-container"],[1,"login-form",3,"ngSubmit"],["src","./icons/logo.png","alt","Logo",1,"logo"],[1,"form-group"],["for","username"],["id","username","name","username","placeholder","\u041B\u043E\u0433\u0456\u043D","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","password"],["id","password","type","password","name","password","placeholder","\u041F\u0430\u0440\u043E\u043B\u044C","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-success"],["class","text-danger",4,"ngIf"],[1,"text-danger"]],template:function(i,o){i&1&&(D(0,"div",0)(1,"form",1),Y("ngSubmit",function(){return o.login()}),he(2,"img",2),D(3,"div",3)(4,"label",4),N(5,"\u041B\u043E\u0433\u0456\u043D"),M(),D(6,"input",5),Ue("ngModelChange",function(a){return Be(o.username,a)||(o.username=a),a}),M()(),D(7,"div",3)(8,"label",6),N(9,"\u041F\u0430\u0440\u043E\u043B\u044C"),M(),D(10,"input",7),Ue("ngModelChange",function(a){return Be(o.password,a)||(o.password=a),a}),M()(),D(11,"button",8),N(12,"\u0412\u0445\u0456\u0434"),M(),Ge(13,JB,2,1,"p",9),M()()),i&2&&(j(6),Le("ngModel",o.username),j(4),Le("ngModel",o.password),j(3),me("ngIf",o.errorMessage))},dependencies:[mt,Xr,Hn,Ss,an,$n,Ts,Zi,In,Ji],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:70vh;background-color:#f8f9fa}.login-form[_ngcontent-%COMP%]{background:#fff;padding:2rem;border-radius:8px;box-shadow:0 0 10px #0000001a;text-align:center}.logo[_ngcontent-%COMP%]{max-width:100px;margin-bottom:1rem}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.btn-success[_ngcontent-%COMP%]{background-color:#28a745;border-color:#28a745}.btn-success[_ngcontent-%COMP%]:hover{background-color:#218838;border-color:#1e7e34}"]});let t=e;return t})();var NM=[{path:"",component:TM},{path:"header",component:Cd},{path:"cart",component:SM},{path:"product/:id",component:AM},{path:"admin-login",component:PM},{path:"admin",component:xM},{path:"**",component:RM}];var p0={production:!1,firebase:{apiKey:"AIzaSyCDXEjp5yiLttF-2eUZKNHH6z3Y755yws8",authDomain:"hiking-equipment-store.firebaseapp.com",databaseURL:"https://hiking-equipment-store-default-rtdb.europe-west1.firebasedatabase.app",projectId:"hiking-equipment-store",storageBucket:"hiking-equipment-store.appspot.com",messagingSenderId:"553591568312",appId:"1:553591568312:web:c4e43771d9e053d6d6814d",measurementId:"G-C3M4EFX3LH"},appCheck:{recaptchaSiteKey:"6LeykZMqAAAAAFddpBQyGNnkKElOUDDIMdroXsYV"}};$b(LT,{providers:[PD(NM),am(),fT(()=>pT(p0.firebase)),wM(()=>IM()),kT(()=>VT(void 0,{provider:new Od(p0.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}).catch(t=>console.error(t));
